const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SettingsEdit-VH0r2S1D.js","assets/SettingsEdit-Diufc4Fc.css","assets/SettingsSummary-BVbw2HIB.js","assets/SettingsSummary-BXE8gzo8.css","assets/CollectionEdit-e6Y6aJbZ.js","assets/CollectionEdit-DmFpzgCt.css","assets/CollectionSummary-CYqHsmll.js","assets/CollectionSummary-DJOcYAWZ.css","assets/SettingsSummary-BrlGReKt.js","assets/SettingsSummary-6taSQ2BD.css","assets/SettingsEdit-D4lCRr9w.js","assets/SettingsEdit-DJcZdWZP.css","assets/SettingsEdit-CY-h3lSN.js","assets/SettingsEdit-DlDVTrRS.css","assets/SettingsEdit-LD6gfqUa.js","assets/SettingsEdit-CrBCkC2X.css","assets/SettingsEdit-DVpsejsr.js","assets/SettingsEdit-C0v1axyV.css","assets/SettingsEdit-L883Aqe5.js","assets/SettingsEdit-DytrT1J5.css","assets/SettingsEdit-C-9PsGzF.js","assets/SettingsEdit-yYLfXj-_.css","assets/CollectionSummary-Dr9gX-je.js","assets/CollectionSummary-CxqcpYUk.css","assets/0e5e680a-f817-41a7-b58c-a8d74ce018bb-Cvp1y2gD.js","assets/wwElement-BNqRO7NC.js","assets/wwElement-C8N2infw.css","assets/wwElement-CFBuV9BF.js","assets/wwElement-ifOUdjHH.css","assets/wwElement-gIsdODla.js","assets/wwElement-BMydjpHY.css","assets/wwElement-DmPm1C75.js","assets/wwElement-CwasBXY3.css","assets/wwElement-CnmUVxjY.js","assets/wwElement-BtqAPxkt.css","assets/wwElement-EY3-f0lU.js","assets/wwElement-B6mThilP.css","assets/wwElement-B_SF5iLW.js","assets/wwElement-BiTDel9z.css","assets/wwElement-BkSmdUWC.js","assets/wwElement-lqhFgA5D.css","assets/wwElement-B0HxDuVq.js","assets/wwElement-CibY6iW5.css","assets/wwElement-zyTOp0g8.js","assets/wwElement-DbOXcLcb.css","assets/wwElement-D79_sQNm.js","assets/wwElement-D_cNaja8.css","assets/wwElement-DFa85Ip_.js","assets/wwElement-Cm27F35x.css","assets/wwSection-CmoS_GB9.js","assets/wwSection-CigbNmVO.css","assets/wwSection-xFfKPakv.js","assets/wwSection-BH3GMQK0.css","assets/0f308549-bee7-4c48-82d7-cffb7bb3e76a-DViwgqNq.js","assets/127b10ef-1d67-4977-afd8-219d44b7ecf7-BJqEIGU5.js","assets/411f9c9e-5d28-4606-8779-4feccf35900c-20C56rbs.js","assets/wwElement-ULdJZE9h.js","assets/wwElement-DYkB5Wfg.css","assets/wwElement-zZaNvMnO.js","assets/wwElement-DHIHib0o.css","assets/411f9c9e-5d28-4606-8779-4feccf35900c-Djt08N-t.css","assets/4abfaa17-7da9-4f59-9b3a-c7da5b172db2-Dmmc4Qe6.js","assets/517edeb8-307a-4679-a87f-919f4d1350a8-JeALT5AS.js","assets/wwElement-D77S2ny3.js","assets/wwElement-BrlE4Gnl.css","assets/517edeb8-307a-4679-a87f-919f4d1350a8-Cir4jN7P.css","assets/6a01b109-4421-4be3-b250-7b34be1c1004-BUY9J9Il.js","assets/95dbb80f-41b0-4284-acbc-c657d0618c68-BQakpE0T.js","assets/9dfb54ab-235e-4a9d-8280-8d18a5122941-0s6NagNp.js","assets/a1c2c39b-7341-4245-89a6-9f26ee33d6aa-BKmiTULi.js","assets/b8f38365-e71a-4487-9059-b697b9c9e707-BNT_P1Ii.js","assets/c7c712fb-c49d-49ca-80a9-538888ada3f9-C1ce_h_s.js","assets/e0bd2df6-b254-4d4a-88a5-7523408633d7-BryCj0Ih.js","assets/f7244da2-151d-4d7d-95f6-9179e4e7d9c9-DzjXojcs.js","assets/f7244da2-151d-4d7d-95f6-9179e4e7d9c9-bjpWDlwp.css","assets/f8aed943-1d81-47d7-ae90-7d67422b8d79-Cdle3Br4.js","assets/f8aed943-1d81-47d7-ae90-7d67422b8d79-JxnOos75.css"])))=>i.map(i=>d[i]);
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))l(p);new MutationObserver(p=>{for(const h of p)if(h.type==="childList")for(const c of h.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(p){const h={};return p.integrity&&(h.integrity=p.integrity),p.referrerPolicy&&(h.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?h.credentials="include":p.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(p){if(p.ep)return;p.ep=!0;const h=n(p);fetch(p.href,h)}})();const hg=globalThis||void 0||self;/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _L(e){const r=Object.create(null);for(const n of e.split(","))r[n]=1;return n=>n in r}const qi={},Kp=[],ic=()=>{},v3=()=>!1,jx=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),gL=e=>e.startsWith("onUpdate:"),na=Object.assign,yL=(e,r)=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)},w3=Object.prototype.hasOwnProperty,Pi=(e,r)=>w3.call(e,r),En=Array.isArray,Jp=e=>$x(e)==="[object Map]",II=e=>$x(e)==="[object Set]",Yn=e=>typeof e=="function",so=e=>typeof e=="string",Kc=e=>typeof e=="symbol",Ji=e=>e!==null&&typeof e=="object",PI=e=>(Ji(e)||Yn(e))&&Yn(e.then)&&Yn(e.catch),OI=Object.prototype.toString,$x=e=>OI.call(e),x3=e=>$x(e).slice(8,-1),RI=e=>$x(e)==="[object Object]",bL=e=>so(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,tg=_L(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vx=e=>{const r=Object.create(null);return n=>r[n]||(r[n]=e(n))},M3=/-(\w)/g,jl=Vx(e=>e.replace(M3,(r,n)=>n?n.toUpperCase():"")),S3=/\B([A-Z])/g,qd=Vx(e=>e.replace(S3,"-$1").toLowerCase()),Ux=Vx(e=>e.charAt(0).toUpperCase()+e.slice(1)),xb=Vx(e=>e?`on${Ux(e)}`:""),Vd=(e,r)=>!Object.is(e,r),uM=(e,...r)=>{for(let n=0;n<e.length;n++)e[n](...r)},FI=(e,r,n,l=!1)=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,writable:l,value:n})},L3=e=>{const r=parseFloat(e);return isNaN(r)?e:r},T3=e=>{const r=so(e)?Number(e):NaN;return isNaN(r)?e:r};let gT;const Nx=()=>gT||(gT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof hg<"u"?hg:{});function Jc(e){if(En(e)){const r={};for(let n=0;n<e.length;n++){const l=e[n],p=so(l)?C3(l):Jc(l);if(p)for(const h in p)r[h]=p[h]}return r}else if(so(e)||Ji(e))return e}const E3=/;(?![^(]*\))/g,k3=/:([^]+)/,A3=/\/\*[^]*?\*\//g;function C3(e){const r={};return e.replace(A3,"").split(E3).forEach(n=>{if(n){const l=n.split(k3);l.length>1&&(r[l[0].trim()]=l[1].trim())}}),r}function wh(e){let r="";if(so(e))r=e;else if(En(e))for(let n=0;n<e.length;n++){const l=wh(e[n]);l&&(r+=l+" ")}else if(Ji(e))for(const n in e)e[n]&&(r+=n+" ");return r.trim()}function YJ(e){if(!e)return null;let{class:r,style:n}=e;return r&&!so(r)&&(e.class=wh(r)),n&&(e.style=Jc(n)),e}const D3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",I3=_L(D3);function zI(e){return!!e||e===""}const YI=e=>!!(e&&e.__v_isRef===!0),P3=e=>so(e)?e:e==null?"":En(e)||Ji(e)&&(e.toString===OI||!Yn(e.toString))?YI(e)?P3(e.value):JSON.stringify(e,BI,2):String(e),BI=(e,r)=>YI(r)?BI(e,r.value):Jp(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((n,[l,p],h)=>(n[cM(l,h)+" =>"]=p,n),{})}:II(r)?{[`Set(${r.size})`]:[...r.values()].map(n=>cM(n))}:Kc(r)?cM(r):Ji(r)&&!En(r)&&!RI(r)?String(r):r,cM=(e,r="")=>{var n;return Kc(e)?`Symbol(${(n=e.description)!=null?n:r})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ms;class jI{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ms,!r&&ms&&(this.index=(ms.scopes||(ms.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,n;if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].pause();for(r=0,n=this.effects.length;r<n;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,n;if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].resume();for(r=0,n=this.effects.length;r<n;r++)this.effects[r].resume()}}run(r){if(this._active){const n=ms;try{return ms=this,r()}finally{ms=n}}}on(){ms=this}off(){ms=this.parent}stop(r){if(this._active){this._active=!1;let n,l;for(n=0,l=this.effects.length;n<l;n++)this.effects[n].stop();for(this.effects.length=0,n=0,l=this.cleanups.length;n<l;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,l=this.scopes.length;n<l;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.parent=void 0}}}function Hx(e){return new jI(e)}function $I(){return ms}function O3(e,r=!1){ms&&ms.cleanups.push(e)}let Ki;const dM=new WeakSet;class VI{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ms&&ms.active&&ms.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,dM.has(this)&&(dM.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||NI(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yT(this),HI(this);const r=Ki,n=pu;Ki=this,pu=!0;try{return this.fn()}finally{qI(this),Ki=r,pu=n,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)xL(r);this.deps=this.depsTail=void 0,yT(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?dM.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){IS(this)&&this.run()}get dirty(){return IS(this)}}let UI=0,rg,ng;function NI(e,r=!1){if(e.flags|=8,r){e.next=ng,ng=e;return}e.next=rg,rg=e}function vL(){UI++}function wL(){if(--UI>0)return;if(ng){let r=ng;for(ng=void 0;r;){const n=r.next;r.next=void 0,r.flags&=-9,r=n}}let e;for(;rg;){let r=rg;for(rg=void 0;r;){const n=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(l){e||(e=l)}r=n}}if(e)throw e}function HI(e){for(let r=e.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function qI(e){let r,n=e.depsTail,l=n;for(;l;){const p=l.prevDep;l.version===-1?(l===n&&(n=p),xL(l),R3(l)):r=l,l.dep.activeLink=l.prevActiveLink,l.prevActiveLink=void 0,l=p}e.deps=r,e.depsTail=n}function IS(e){for(let r=e.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(GI(r.dep.computed)||r.dep.version!==r.version))return!0;return!!e._dirty}function GI(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===pg))return;e.globalVersion=pg;const r=e.dep;if(e.flags|=2,r.version>0&&!e.isSSR&&e.deps&&!IS(e)){e.flags&=-3;return}const n=Ki,l=pu;Ki=e,pu=!0;try{HI(e);const p=e.fn(e._value);(r.version===0||Vd(p,e._value))&&(e._value=p,r.version++)}catch(p){throw r.version++,p}finally{Ki=n,pu=l,qI(e),e.flags&=-3}}function xL(e,r=!1){const{dep:n,prevSub:l,nextSub:p}=e;if(l&&(l.nextSub=p,e.prevSub=void 0),p&&(p.prevSub=l,e.nextSub=void 0),n.subs===e&&(n.subs=l,!l&&n.computed)){n.computed.flags&=-5;for(let h=n.computed.deps;h;h=h.nextDep)xL(h,!0)}!r&&!--n.sc&&n.map&&n.map.delete(n.key)}function R3(e){const{prevDep:r,nextDep:n}=e;r&&(r.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=r,e.nextDep=void 0)}let pu=!0;const WI=[];function Gd(){WI.push(pu),pu=!1}function Wd(){const e=WI.pop();pu=e===void 0?!0:e}function yT(e){const{cleanup:r}=e;if(e.cleanup=void 0,r){const n=Ki;Ki=void 0;try{r()}finally{Ki=n}}}let pg=0;class F3{constructor(r,n){this.sub=r,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ML{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(r){if(!Ki||!pu||Ki===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ki)n=this.activeLink=new F3(Ki,this),Ki.deps?(n.prevDep=Ki.depsTail,Ki.depsTail.nextDep=n,Ki.depsTail=n):Ki.deps=Ki.depsTail=n,ZI(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const l=n.nextDep;l.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=l),n.prevDep=Ki.depsTail,n.nextDep=void 0,Ki.depsTail.nextDep=n,Ki.depsTail=n,Ki.deps===n&&(Ki.deps=l)}return n}trigger(r){this.version++,pg++,this.notify(r)}notify(r){vL();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{wL()}}}function ZI(e){if(e.dep.sc++,e.sub.flags&4){const r=e.dep.computed;if(r&&!e.dep.subs){r.flags|=20;for(let l=r.deps;l;l=l.nextDep)ZI(l)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const vx=new WeakMap,hh=Symbol(""),PS=Symbol(""),mg=Symbol("");function Za(e,r,n){if(pu&&Ki){let l=vx.get(e);l||vx.set(e,l=new Map);let p=l.get(n);p||(l.set(n,p=new ML),p.map=l,p.key=n),p.track()}}function Hc(e,r,n,l,p,h){const c=vx.get(e);if(!c){pg++;return}const M=s=>{s&&s.trigger()};if(vL(),r==="clear")c.forEach(M);else{const s=En(e),E=s&&bL(n);if(s&&n==="length"){const k=Number(l);c.forEach((R,F)=>{(F==="length"||F===mg||!Kc(F)&&F>=k)&&M(R)})}else switch((n!==void 0||c.has(void 0))&&M(c.get(n)),E&&M(c.get(mg)),r){case"add":s?E&&M(c.get("length")):(M(c.get(hh)),Jp(e)&&M(c.get(PS)));break;case"delete":s||(M(c.get(hh)),Jp(e)&&M(c.get(PS)));break;case"set":Jp(e)&&M(c.get(hh));break}}wL()}function z3(e,r){const n=vx.get(e);return n&&n.get(r)}function $p(e){const r=di(e);return r===e?r:(Za(r,"iterate",mg),Bl(e)?r:r.map(Xa))}function qx(e){return Za(e=di(e),"iterate",mg),e}const Y3={__proto__:null,[Symbol.iterator](){return fM(this,Symbol.iterator,Xa)},concat(...e){return $p(this).concat(...e.map(r=>En(r)?$p(r):r))},entries(){return fM(this,"entries",e=>(e[1]=Xa(e[1]),e))},every(e,r){return Bc(this,"every",e,r,void 0,arguments)},filter(e,r){return Bc(this,"filter",e,r,n=>n.map(Xa),arguments)},find(e,r){return Bc(this,"find",e,r,Xa,arguments)},findIndex(e,r){return Bc(this,"findIndex",e,r,void 0,arguments)},findLast(e,r){return Bc(this,"findLast",e,r,Xa,arguments)},findLastIndex(e,r){return Bc(this,"findLastIndex",e,r,void 0,arguments)},forEach(e,r){return Bc(this,"forEach",e,r,void 0,arguments)},includes(...e){return hM(this,"includes",e)},indexOf(...e){return hM(this,"indexOf",e)},join(e){return $p(this).join(e)},lastIndexOf(...e){return hM(this,"lastIndexOf",e)},map(e,r){return Bc(this,"map",e,r,void 0,arguments)},pop(){return E_(this,"pop")},push(...e){return E_(this,"push",e)},reduce(e,...r){return bT(this,"reduce",e,r)},reduceRight(e,...r){return bT(this,"reduceRight",e,r)},shift(){return E_(this,"shift")},some(e,r){return Bc(this,"some",e,r,void 0,arguments)},splice(...e){return E_(this,"splice",e)},toReversed(){return $p(this).toReversed()},toSorted(e){return $p(this).toSorted(e)},toSpliced(...e){return $p(this).toSpliced(...e)},unshift(...e){return E_(this,"unshift",e)},values(){return fM(this,"values",Xa)}};function fM(e,r,n){const l=qx(e),p=l[r]();return l!==e&&!Bl(e)&&(p._next=p.next,p.next=()=>{const h=p._next();return h.value&&(h.value=n(h.value)),h}),p}const B3=Array.prototype;function Bc(e,r,n,l,p,h){const c=qx(e),M=c!==e&&!Bl(e),s=c[r];if(s!==B3[r]){const R=s.apply(e,h);return M?Xa(R):R}let E=n;c!==e&&(M?E=function(R,F){return n.call(this,Xa(R),F,e)}:n.length>2&&(E=function(R,F){return n.call(this,R,F,e)}));const k=s.call(c,E,l);return M&&p?p(k):k}function bT(e,r,n,l){const p=qx(e);let h=n;return p!==e&&(Bl(e)?n.length>3&&(h=function(c,M,s){return n.call(this,c,M,s,e)}):h=function(c,M,s){return n.call(this,c,Xa(M),s,e)}),p[r](h,...l)}function hM(e,r,n){const l=di(e);Za(l,"iterate",mg);const p=l[r](...n);return(p===-1||p===!1)&&TL(n[0])?(n[0]=di(n[0]),l[r](...n)):p}function E_(e,r,n=[]){Gd(),vL();const l=di(e)[r].apply(e,n);return wL(),Wd(),l}const j3=_L("__proto__,__v_isRef,__isVue"),XI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Kc));function $3(e){Kc(e)||(e=String(e));const r=di(this);return Za(r,"has",e),r.hasOwnProperty(e)}class KI{constructor(r=!1,n=!1){this._isReadonly=r,this._isShallow=n}get(r,n,l){if(n==="__v_skip")return r.__v_skip;const p=this._isReadonly,h=this._isShallow;if(n==="__v_isReactive")return!p;if(n==="__v_isReadonly")return p;if(n==="__v_isShallow")return h;if(n==="__v_raw")return l===(p?h?K3:tP:h?eP:QI).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(l)?r:void 0;const c=En(r);if(!p){let s;if(c&&(s=Y3[n]))return s;if(n==="hasOwnProperty")return $3}const M=Reflect.get(r,n,yo(r)?r:l);return(Kc(n)?XI.has(n):j3(n))||(p||Za(r,"get",n),h)?M:yo(M)?c&&bL(n)?M:M.value:Ji(M)?p?wx(M):Mi(M):M}}class JI extends KI{constructor(r=!1){super(!1,r)}set(r,n,l,p){let h=r[n];if(!this._isShallow){const s=gh(h);if(!Bl(l)&&!gh(l)&&(h=di(h),l=di(l)),!En(r)&&yo(h)&&!yo(l))return s?!1:(h.value=l,!0)}const c=En(r)&&bL(n)?Number(n)<r.length:Pi(r,n),M=Reflect.set(r,n,l,yo(r)?r:p);return r===di(p)&&(c?Vd(l,h)&&Hc(r,"set",n,l):Hc(r,"add",n,l)),M}deleteProperty(r,n){const l=Pi(r,n);r[n];const p=Reflect.deleteProperty(r,n);return p&&l&&Hc(r,"delete",n,void 0),p}has(r,n){const l=Reflect.has(r,n);return(!Kc(n)||!XI.has(n))&&Za(r,"has",n),l}ownKeys(r){return Za(r,"iterate",En(r)?"length":hh),Reflect.ownKeys(r)}}class V3 extends KI{constructor(r=!1){super(!0,r)}set(r,n){return!0}deleteProperty(r,n){return!0}}const U3=new JI,N3=new V3,H3=new JI(!0);const OS=e=>e,lb=e=>Reflect.getPrototypeOf(e);function q3(e,r,n){return function(...l){const p=this.__v_raw,h=di(p),c=Jp(h),M=e==="entries"||e===Symbol.iterator&&c,s=e==="keys"&&c,E=p[e](...l),k=n?OS:r?RS:Xa;return!r&&Za(h,"iterate",s?PS:hh),{next(){const{value:R,done:F}=E.next();return F?{value:R,done:F}:{value:M?[k(R[0]),k(R[1])]:k(R),done:F}},[Symbol.iterator](){return this}}}}function ub(e){return function(...r){return e==="delete"?!1:e==="clear"?void 0:this}}function G3(e,r){const n={get(p){const h=this.__v_raw,c=di(h),M=di(p);e||(Vd(p,M)&&Za(c,"get",p),Za(c,"get",M));const{has:s}=lb(c),E=r?OS:e?RS:Xa;if(s.call(c,p))return E(h.get(p));if(s.call(c,M))return E(h.get(M));h!==c&&h.get(p)},get size(){const p=this.__v_raw;return!e&&Za(di(p),"iterate",hh),Reflect.get(p,"size",p)},has(p){const h=this.__v_raw,c=di(h),M=di(p);return e||(Vd(p,M)&&Za(c,"has",p),Za(c,"has",M)),p===M?h.has(p):h.has(p)||h.has(M)},forEach(p,h){const c=this,M=c.__v_raw,s=di(M),E=r?OS:e?RS:Xa;return!e&&Za(s,"iterate",hh),M.forEach((k,R)=>p.call(h,E(k),E(R),c))}};return na(n,e?{add:ub("add"),set:ub("set"),delete:ub("delete"),clear:ub("clear")}:{add(p){!r&&!Bl(p)&&!gh(p)&&(p=di(p));const h=di(this);return lb(h).has.call(h,p)||(h.add(p),Hc(h,"add",p,p)),this},set(p,h){!r&&!Bl(h)&&!gh(h)&&(h=di(h));const c=di(this),{has:M,get:s}=lb(c);let E=M.call(c,p);E||(p=di(p),E=M.call(c,p));const k=s.call(c,p);return c.set(p,h),E?Vd(h,k)&&Hc(c,"set",p,h):Hc(c,"add",p,h),this},delete(p){const h=di(this),{has:c,get:M}=lb(h);let s=c.call(h,p);s||(p=di(p),s=c.call(h,p)),M&&M.call(h,p);const E=h.delete(p);return s&&Hc(h,"delete",p,void 0),E},clear(){const p=di(this),h=p.size!==0,c=p.clear();return h&&Hc(p,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(p=>{n[p]=q3(p,e,r)}),n}function SL(e,r){const n=G3(e,r);return(l,p,h)=>p==="__v_isReactive"?!e:p==="__v_isReadonly"?e:p==="__v_raw"?l:Reflect.get(Pi(n,p)&&p in l?n:l,p,h)}const W3={get:SL(!1,!1)},Z3={get:SL(!1,!0)},X3={get:SL(!0,!1)};const QI=new WeakMap,eP=new WeakMap,tP=new WeakMap,K3=new WeakMap;function J3(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Q3(e){return e.__v_skip||!Object.isExtensible(e)?0:J3(x3(e))}function Mi(e){return gh(e)?e:LL(e,!1,U3,W3,QI)}function _g(e){return LL(e,!1,H3,Z3,eP)}function wx(e){return LL(e,!0,N3,X3,tP)}function LL(e,r,n,l,p){if(!Ji(e)||e.__v_raw&&!(r&&e.__v_isReactive))return e;const h=p.get(e);if(h)return h;const c=Q3(e);if(c===0)return e;const M=new Proxy(e,c===2?l:n);return p.set(e,M),M}function Ud(e){return gh(e)?Ud(e.__v_raw):!!(e&&e.__v_isReactive)}function gh(e){return!!(e&&e.__v_isReadonly)}function Bl(e){return!!(e&&e.__v_isShallow)}function TL(e){return e?!!e.__v_raw:!1}function di(e){const r=e&&e.__v_raw;return r?di(r):e}function Gx(e){return!Pi(e,"__v_skip")&&Object.isExtensible(e)&&FI(e,"__v_skip",!0),e}const Xa=e=>Ji(e)?Mi(e):e,RS=e=>Ji(e)?wx(e):e;function yo(e){return e?e.__v_isRef===!0:!1}function Oi(e){return rP(e,!1)}function xx(e){return rP(e,!0)}function rP(e,r){return yo(e)?e:new eF(e,r)}class eF{constructor(r,n){this.dep=new ML,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?r:di(r),this._value=n?r:Xa(r),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(r){const n=this._rawValue,l=this.__v_isShallow||Bl(r)||gh(r);r=l?r:di(r),Vd(r,n)&&(this._rawValue=r,this._value=l?r:Xa(r),this.dep.trigger())}}function jo(e){return yo(e)?e.value:e}const tF={get:(e,r,n)=>r==="__v_raw"?e:jo(Reflect.get(e,r,n)),set:(e,r,n,l)=>{const p=e[r];return yo(p)&&!yo(n)?(p.value=n,!0):Reflect.set(e,r,n,l)}};function nP(e){return Ud(e)?e:new Proxy(e,tF)}function rF(e){const r=En(e)?new Array(e.length):{};for(const n in e)r[n]=iP(e,n);return r}class nF{constructor(r,n,l){this._object=r,this._key=n,this._defaultValue=l,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return z3(di(this._object),this._key)}}class iF{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function oc(e,r,n){return yo(e)?e:Yn(e)?new iF(e):Ji(e)&&arguments.length>1?iP(e,r,n):Oi(e)}function iP(e,r,n){const l=e[r];return yo(l)?l:new nF(e,r,n)}class oF{constructor(r,n,l){this.fn=r,this.setter=n,this._value=void 0,this.dep=new ML(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pg-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=l}notify(){if(this.flags|=16,!(this.flags&8)&&Ki!==this)return NI(this,!0),!0}get value(){const r=this.dep.track();return GI(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function aF(e,r,n=!1){let l,p;return Yn(e)?l=e:(l=e.get,p=e.set),new oF(l,p,n)}const cb={},Mx=new WeakMap;let sh;function sF(e,r=!1,n=sh){if(n){let l=Mx.get(n);l||Mx.set(n,l=[]),l.push(e)}}function lF(e,r,n=qi){const{immediate:l,deep:p,once:h,scheduler:c,augmentJob:M,call:s}=n,E=_e=>p?_e:Bl(_e)||p===!1||p===0?qc(_e,1):qc(_e);let k,R,F,C,B=!1,G=!1;if(yo(e)?(R=()=>e.value,B=Bl(e)):Ud(e)?(R=()=>E(e),B=!0):En(e)?(G=!0,B=e.some(_e=>Ud(_e)||Bl(_e)),R=()=>e.map(_e=>{if(yo(_e))return _e.value;if(Ud(_e))return E(_e);if(Yn(_e))return s?s(_e,2):_e()})):Yn(e)?r?R=s?()=>s(e,2):e:R=()=>{if(F){Gd();try{F()}finally{Wd()}}const _e=sh;sh=k;try{return s?s(e,3,[C]):e(C)}finally{sh=_e}}:R=ic,r&&p){const _e=R,Me=p===!0?1/0:p;R=()=>qc(_e(),Me)}const Z=$I(),K=()=>{k.stop(),Z&&Z.active&&yL(Z.effects,k)};if(h&&r){const _e=r;r=(...Me)=>{_e(...Me),K()}}let te=G?new Array(e.length).fill(cb):cb;const se=_e=>{if(!(!(k.flags&1)||!k.dirty&&!_e))if(r){const Me=k.run();if(p||B||(G?Me.some((he,Ge)=>Vd(he,te[Ge])):Vd(Me,te))){F&&F();const he=sh;sh=k;try{const Ge=[Me,te===cb?void 0:G&&te[0]===cb?[]:te,C];s?s(r,3,Ge):r(...Ge),te=Me}finally{sh=he}}}else k.run()};return M&&M(se),k=new VI(R),k.scheduler=c?()=>c(se,!1):se,C=_e=>sF(_e,!1,k),F=k.onStop=()=>{const _e=Mx.get(k);if(_e){if(s)s(_e,4);else for(const Me of _e)Me();Mx.delete(k)}},r?l?se(!0):te=k.run():c?c(se.bind(null,!0),!0):k.run(),K.pause=k.pause.bind(k),K.resume=k.resume.bind(k),K.stop=K,K}function qc(e,r=1/0,n){if(r<=0||!Ji(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),r--,yo(e))qc(e.value,r,n);else if(En(e))for(let l=0;l<e.length;l++)qc(e[l],r,n);else if(II(e)||Jp(e))e.forEach(l=>{qc(l,r,n)});else if(RI(e)){for(const l in e)qc(e[l],r,n);for(const l of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,l)&&qc(e[l],r,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Sg(e,r,n,l){try{return l?e(...l):e()}catch(p){Wx(p,r,n)}}function mu(e,r,n,l){if(Yn(e)){const p=Sg(e,r,n,l);return p&&PI(p)&&p.catch(h=>{Wx(h,r,n)}),p}if(En(e)){const p=[];for(let h=0;h<e.length;h++)p.push(mu(e[h],r,n,l));return p}}function Wx(e,r,n,l=!0){const p=r?r.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:c}=r&&r.appContext.config||qi;if(r){let M=r.parent;const s=r.proxy,E=`https://vuejs.org/error-reference/#runtime-${n}`;for(;M;){const k=M.ec;if(k){for(let R=0;R<k.length;R++)if(k[R](e,s,E)===!1)return}M=M.parent}if(h){Gd(),Sg(h,null,10,[e,s,E]),Wd();return}}uF(e,n,p,l,c)}function uF(e,r,n,l=!0,p=!1){if(p)throw e;console.error(e)}const _s=[];let Qu=-1;const Qp=[];let zd=null,Zp=0;const oP=Promise.resolve();let Sx=null;function Lg(e){const r=Sx||oP;return e?r.then(this?e.bind(this):e):r}function cF(e){let r=Qu+1,n=_s.length;for(;r<n;){const l=r+n>>>1,p=_s[l],h=gg(p);h<e||h===e&&p.flags&2?r=l+1:n=l}return r}function EL(e){if(!(e.flags&1)){const r=gg(e),n=_s[_s.length-1];!n||!(e.flags&2)&&r>=gg(n)?_s.push(e):_s.splice(cF(r),0,e),e.flags|=1,aP()}}function aP(){Sx||(Sx=oP.then(lP))}function dF(e){En(e)?Qp.push(...e):zd&&e.id===-1?zd.splice(Zp+1,0,e):e.flags&1||(Qp.push(e),e.flags|=1),aP()}function vT(e,r,n=Qu+1){for(;n<_s.length;n++){const l=_s[n];if(l&&l.flags&2){if(e&&l.id!==e.uid)continue;_s.splice(n,1),n--,l.flags&4&&(l.flags&=-2),l(),l.flags&4||(l.flags&=-2)}}}function sP(e){if(Qp.length){const r=[...new Set(Qp)].sort((n,l)=>gg(n)-gg(l));if(Qp.length=0,zd){zd.push(...r);return}for(zd=r,Zp=0;Zp<zd.length;Zp++){const n=zd[Zp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}zd=null,Zp=0}}const gg=e=>e.id==null?e.flags&2?-1:1/0:e.id;function lP(e){try{for(Qu=0;Qu<_s.length;Qu++){const r=_s[Qu];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),Sg(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Qu<_s.length;Qu++){const r=_s[Qu];r&&(r.flags&=-2)}Qu=-1,_s.length=0,sP(),Sx=null,(_s.length||Qp.length)&&lP()}}let ra=null,uP=null;function Lx(e){const r=ra;return ra=e,uP=e&&e.type.__scopeId||null,r}function ac(e,r=ra,n){if(!r||e._n)return e;const l=(...p)=>{l._d&&OT(-1);const h=Lx(r);let c;try{c=e(...p)}finally{Lx(h),l._d&&OT(1)}return c};return l._n=!0,l._c=!0,l._d=!0,l}function BJ(e,r){if(ra===null)return e;const n=t0(ra),l=e.dirs||(e.dirs=[]);for(let p=0;p<r.length;p++){let[h,c,M,s=qi]=r[p];h&&(Yn(h)&&(h={mounted:h,updated:h}),h.deep&&qc(c),l.push({dir:h,instance:n,value:c,oldValue:void 0,arg:M,modifiers:s}))}return e}function Jf(e,r,n,l){const p=e.dirs,h=r&&r.dirs;for(let c=0;c<p.length;c++){const M=p[c];h&&(M.oldValue=h[c].value);let s=M.dir[l];s&&(Gd(),mu(s,n,8,[e.el,M,e,r]),Wd())}}const cP=Symbol("_vte"),dP=e=>e.__isTeleport,ig=e=>e&&(e.disabled||e.disabled===""),wT=e=>e&&(e.defer||e.defer===""),xT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,MT=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,FS=(e,r)=>{const n=e&&e.to;return so(n)?r?r(n):null:n},fP={name:"Teleport",__isTeleport:!0,process(e,r,n,l,p,h,c,M,s,E){const{mc:k,pc:R,pbc:F,o:{insert:C,querySelector:B,createText:G,createComment:Z}}=E,K=ig(r.props);let{shapeFlag:te,children:se,dynamicChildren:_e}=r;if(e==null){const Me=r.el=G(""),he=r.anchor=G("");C(Me,n,l),C(he,n,l);const Ge=(Ne,Re)=>{te&16&&(p&&p.isCE&&(p.ce._teleportTarget=Ne),k(se,Ne,Re,p,h,c,M,s))},st=()=>{const Ne=r.target=FS(r.props,B),Re=hP(Ne,r,G,C);Ne&&(c!=="svg"&&xT(Ne)?c="svg":c!=="mathml"&&MT(Ne)&&(c="mathml"),K||(Ge(Ne,Re),Mb(r,!1)))};K&&(Ge(n,he),Mb(r,!0)),wT(r.props)?ps(()=>{st(),r.el.__isMounted=!0},h):st()}else{if(wT(r.props)&&!e.el.__isMounted){ps(()=>{fP.process(e,r,n,l,p,h,c,M,s,E),delete e.el.__isMounted},h);return}r.el=e.el,r.targetStart=e.targetStart;const Me=r.anchor=e.anchor,he=r.target=e.target,Ge=r.targetAnchor=e.targetAnchor,st=ig(e.props),Ne=st?n:he,Re=st?Me:Ge;if(c==="svg"||xT(he)?c="svg":(c==="mathml"||MT(he))&&(c="mathml"),_e?(F(e.dynamicChildren,_e,Ne,p,h,c,M),CL(e,r,!0)):s||R(e,r,Ne,Re,p,h,c,M,!1),K)st?r.props&&e.props&&r.props.to!==e.props.to&&(r.props.to=e.props.to):db(r,n,Me,E,1);else if((r.props&&r.props.to)!==(e.props&&e.props.to)){const ut=r.target=FS(r.props,B);ut&&db(r,ut,null,E,0)}else st&&db(r,he,Ge,E,1);Mb(r,K)}},remove(e,r,n,{um:l,o:{remove:p}},h){const{shapeFlag:c,children:M,anchor:s,targetStart:E,targetAnchor:k,target:R,props:F}=e;if(R&&(p(E),p(k)),h&&p(s),c&16){const C=h||!ig(F);for(let B=0;B<M.length;B++){const G=M[B];l(G,r,n,C,!!G.dynamicChildren)}}},move:db,hydrate:fF};function db(e,r,n,{o:{insert:l},m:p},h=2){h===0&&l(e.targetAnchor,r,n);const{el:c,anchor:M,shapeFlag:s,children:E,props:k}=e,R=h===2;if(R&&l(c,r,n),(!R||ig(k))&&s&16)for(let F=0;F<E.length;F++)p(E[F],r,n,2);R&&l(M,r,n)}function fF(e,r,n,l,p,h,{o:{nextSibling:c,parentNode:M,querySelector:s,insert:E,createText:k}},R){const F=r.target=FS(r.props,s);if(F){const C=ig(r.props),B=F._lpa||F.firstChild;if(r.shapeFlag&16)if(C)r.anchor=R(c(e),r,M(e),n,l,p,h),r.targetStart=B,r.targetAnchor=B&&c(B);else{r.anchor=c(e);let G=B;for(;G;){if(G&&G.nodeType===8){if(G.data==="teleport start anchor")r.targetStart=G;else if(G.data==="teleport anchor"){r.targetAnchor=G,F._lpa=r.targetAnchor&&c(r.targetAnchor);break}}G=c(G)}r.targetAnchor||hP(F,r,k,E),R(B&&c(B),r,F,n,l,p,h)}Mb(r,C)}return r.anchor&&c(r.anchor)}const jJ=fP;function Mb(e,r){const n=e.ctx;if(n&&n.ut){let l,p;for(r?(l=e.el,p=e.anchor):(l=e.targetStart,p=e.targetAnchor);l&&l!==p;)l.nodeType===1&&l.setAttribute("data-v-owner",n.uid),l=l.nextSibling;n.ut()}}function hP(e,r,n,l){const p=r.targetStart=n(""),h=r.targetAnchor=n("");return p[cP]=h,e&&(l(p,e),l(h,e)),h}const Yd=Symbol("_leaveCb"),fb=Symbol("_enterCb");function pP(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kx(()=>{e.isMounted=!0}),Tg(()=>{e.isUnmounting=!0}),e}const Rl=[Function,Array],mP={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rl,onEnter:Rl,onAfterEnter:Rl,onEnterCancelled:Rl,onBeforeLeave:Rl,onLeave:Rl,onAfterLeave:Rl,onLeaveCancelled:Rl,onBeforeAppear:Rl,onAppear:Rl,onAfterAppear:Rl,onAppearCancelled:Rl},_P=e=>{const r=e.subTree;return r.component?_P(r.component):r},hF={name:"BaseTransition",props:mP,setup(e,{slots:r}){const n=e0(),l=pP();return()=>{const p=r.default&&kL(r.default(),!0);if(!p||!p.length)return;const h=gP(p),c=di(e),{mode:M}=c;if(l.isLeaving)return pM(h);const s=ST(h);if(!s)return pM(h);let E=yg(s,c,l,n,R=>E=R);s.type!==ys&&yh(s,E);let k=n.subTree&&ST(n.subTree);if(k&&k.type!==ys&&!lh(s,k)&&_P(n).type!==ys){let R=yg(k,c,l,n);if(yh(k,R),M==="out-in"&&s.type!==ys)return l.isLeaving=!0,R.afterLeave=()=>{l.isLeaving=!1,n.job.flags&8||n.update(),delete R.afterLeave,k=void 0},pM(h);M==="in-out"&&s.type!==ys?R.delayLeave=(F,C,B)=>{const G=yP(l,k);G[String(k.key)]=k,F[Yd]=()=>{C(),F[Yd]=void 0,delete E.delayedLeave,k=void 0},E.delayedLeave=()=>{B(),delete E.delayedLeave,k=void 0}}:k=void 0}else k&&(k=void 0);return h}}};function gP(e){let r=e[0];if(e.length>1){for(const n of e)if(n.type!==ys){r=n;break}}return r}const pF=hF;function yP(e,r){const{leavingVNodes:n}=e;let l=n.get(r.type);return l||(l=Object.create(null),n.set(r.type,l)),l}function yg(e,r,n,l,p){const{appear:h,mode:c,persisted:M=!1,onBeforeEnter:s,onEnter:E,onAfterEnter:k,onEnterCancelled:R,onBeforeLeave:F,onLeave:C,onAfterLeave:B,onLeaveCancelled:G,onBeforeAppear:Z,onAppear:K,onAfterAppear:te,onAppearCancelled:se}=r,_e=String(e.key),Me=yP(n,e),he=(Ne,Re)=>{Ne&&mu(Ne,l,9,Re)},Ge=(Ne,Re)=>{const ut=Re[1];he(Ne,Re),En(Ne)?Ne.every(Ke=>Ke.length<=1)&&ut():Ne.length<=1&&ut()},st={mode:c,persisted:M,beforeEnter(Ne){let Re=s;if(!n.isMounted)if(h)Re=Z||s;else return;Ne[Yd]&&Ne[Yd](!0);const ut=Me[_e];ut&&lh(e,ut)&&ut.el[Yd]&&ut.el[Yd](),he(Re,[Ne])},enter(Ne){let Re=E,ut=k,Ke=R;if(!n.isMounted)if(h)Re=K||E,ut=te||k,Ke=se||R;else return;let gt=!1;const mt=Ne[fb]=Lt=>{gt||(gt=!0,Lt?he(Ke,[Ne]):he(ut,[Ne]),st.delayedLeave&&st.delayedLeave(),Ne[fb]=void 0)};Re?Ge(Re,[Ne,mt]):mt()},leave(Ne,Re){const ut=String(e.key);if(Ne[fb]&&Ne[fb](!0),n.isUnmounting)return Re();he(F,[Ne]);let Ke=!1;const gt=Ne[Yd]=mt=>{Ke||(Ke=!0,Re(),mt?he(G,[Ne]):he(B,[Ne]),Ne[Yd]=void 0,Me[ut]===e&&delete Me[ut])};Me[ut]=e,C?Ge(C,[Ne,gt]):gt()},clone(Ne){const Re=yg(Ne,r,n,l,p);return p&&p(Re),Re}};return st}function pM(e){if(Zx(e))return e=Nd(e),e.children=null,e}function ST(e){if(!Zx(e))return dP(e.type)&&e.children?gP(e.children):e;const{shapeFlag:r,children:n}=e;if(n){if(r&16)return n[0];if(r&32&&Yn(n.default))return n.default()}}function yh(e,r){e.shapeFlag&6&&e.component?(e.transition=r,yh(e.component.subTree,r)):e.shapeFlag&128?(e.ssContent.transition=r.clone(e.ssContent),e.ssFallback.transition=r.clone(e.ssFallback)):e.transition=r}function kL(e,r=!1,n){let l=[],p=0;for(let h=0;h<e.length;h++){let c=e[h];const M=n==null?c.key:String(n)+String(c.key!=null?c.key:h);c.type===ko?(c.patchFlag&128&&p++,l=l.concat(kL(c.children,r,M))):(r||c.type!==ys)&&l.push(M!=null?Nd(c,{key:M}):c)}if(p>1)for(let h=0;h<l.length;h++)l[h].patchFlag=-2;return l}/*! #__NO_SIDE_EFFECTS__ */function bP(e,r){return Yn(e)?na({name:e.name},r,{setup:e}):e}function vP(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Tx(e,r,n,l,p=!1){if(En(e)){e.forEach((B,G)=>Tx(B,r&&(En(r)?r[G]:r),n,l,p));return}if(em(l)&&!p){l.shapeFlag&512&&l.type.__asyncResolved&&l.component.subTree.component&&Tx(e,r,n,l.component.subTree);return}const h=l.shapeFlag&4?t0(l.component):l.el,c=p?null:h,{i:M,r:s}=e,E=r&&r.r,k=M.refs===qi?M.refs={}:M.refs,R=M.setupState,F=di(R),C=R===qi?()=>!1:B=>Pi(F,B);if(E!=null&&E!==s&&(so(E)?(k[E]=null,C(E)&&(R[E]=null)):yo(E)&&(E.value=null)),Yn(s))Sg(s,M,12,[c,k]);else{const B=so(s),G=yo(s);if(B||G){const Z=()=>{if(e.f){const K=B?C(s)?R[s]:k[s]:s.value;p?En(K)&&yL(K,h):En(K)?K.includes(h)||K.push(h):B?(k[s]=[h],C(s)&&(R[s]=k[s])):(s.value=[h],e.k&&(k[e.k]=s.value))}else B?(k[s]=c,C(s)&&(R[s]=c)):G&&(s.value=c,e.k&&(k[e.k]=c))};c?(Z.id=-1,ps(Z,n)):Z()}}}Nx().requestIdleCallback;Nx().cancelIdleCallback;const em=e=>!!e.type.__asyncLoader,Zx=e=>e.type.__isKeepAlive;function wP(e,r){MP(e,"a",r)}function xP(e,r){MP(e,"da",r)}function MP(e,r,n=ba){const l=e.__wdc||(e.__wdc=()=>{let p=n;for(;p;){if(p.isDeactivated)return;p=p.parent}return e()});if(Xx(r,l,n),n){let p=n.parent;for(;p&&p.parent;)Zx(p.parent.vnode)&&mF(l,r,n,p),p=p.parent}}function mF(e,r,n,l){const p=Xx(r,e,l,!0);lm(()=>{yL(l[r],p)},n)}function Xx(e,r,n=ba,l=!1){if(n){const p=n[e]||(n[e]=[]),h=r.__weh||(r.__weh=(...c)=>{Gd();const M=kg(n),s=mu(r,n,e,c);return M(),Wd(),s});return l?p.unshift(h):p.push(h),h}}const Qc=e=>(r,n=ba)=>{(!wg||e==="sp")&&Xx(e,(...l)=>r(...l),n)},_F=Qc("bm"),Kx=Qc("m"),gF=Qc("bu"),SP=Qc("u"),Tg=Qc("bum"),lm=Qc("um"),yF=Qc("sp"),bF=Qc("rtg"),vF=Qc("rtc");function wF(e,r=ba){Xx("ec",e,r)}const LP="components";function ta(e,r){return EP(LP,e,!0,r)||e}const TP=Symbol.for("v-ndc");function Eg(e){return so(e)?EP(LP,e,!1)||e:e||TP}function EP(e,r,n=!0,l=!1){const p=ra||ba;if(p){const h=p.type;{const M=u4(h,!1);if(M&&(M===r||M===jl(r)||M===Ux(jl(r))))return h}const c=LT(p[e]||h[e],r)||LT(p.appContext[e],r);return!c&&l?h:c}}function LT(e,r){return e&&(e[r]||e[jl(r)]||e[Ux(jl(r))])}function J_(e,r,n,l){let p;const h=n,c=En(e);if(c||so(e)){const M=c&&Ud(e);let s=!1;M&&(s=!Bl(e),e=qx(e)),p=new Array(e.length);for(let E=0,k=e.length;E<k;E++)p[E]=r(s?Xa(e[E]):e[E],E,void 0,h)}else if(typeof e=="number"){p=new Array(e);for(let M=0;M<e;M++)p[M]=r(M+1,M,void 0,h)}else if(Ji(e))if(e[Symbol.iterator])p=Array.from(e,(M,s)=>r(M,s,void 0,h));else{const M=Object.keys(e);p=new Array(M.length);for(let s=0,E=M.length;s<E;s++){const k=M[s];p[s]=r(e[k],k,s,h)}}else p=[];return p}function $J(e,r){for(let n=0;n<r.length;n++){const l=r[n];if(En(l))for(let p=0;p<l.length;p++)e[l[p].name]=l[p].fn;else l&&(e[l.name]=l.key?(...p)=>{const h=l.fn(...p);return h&&(h.key=l.key),h}:l.fn)}return e}function Wc(e,r,n={},l,p){if(ra.ce||ra.parent&&em(ra.parent)&&ra.parent.ce)return r!=="default"&&(n.name=r),fi(),_o(ko,null,[go("slot",n,l&&l())],64);let h=e[r];h&&h._c&&(h._d=!1),fi();const c=h&&kP(h(n)),M=n.key||c&&c.key,s=_o(ko,{key:(M&&!Kc(M)?M:`_${r}`)+(!c&&l?"_fb":"")},c||(l?l():[]),c&&e._===1?64:-2);return!p&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),h&&h._c&&(h._d=!0),s}function kP(e){return e.some(r=>vg(r)?!(r.type===ys||r.type===ko&&!kP(r.children)):!0)?e:null}function VJ(e,r){const n={};for(const l in e)n[/[A-Z]/.test(l)?`on:${l}`:xb(l)]=e[l];return n}const zS=e=>e?GP(e)?t0(e):zS(e.parent):null,og=na(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zS(e.parent),$root:e=>zS(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>CP(e),$forceUpdate:e=>e.f||(e.f=()=>{EL(e.update)}),$nextTick:e=>e.n||(e.n=Lg.bind(e.proxy)),$watch:e=>HF.bind(e)}),mM=(e,r)=>e!==qi&&!e.__isScriptSetup&&Pi(e,r),xF={get({_:e},r){if(r==="__v_skip")return!0;const{ctx:n,setupState:l,data:p,props:h,accessCache:c,type:M,appContext:s}=e;let E;if(r[0]!=="$"){const C=c[r];if(C!==void 0)switch(C){case 1:return l[r];case 2:return p[r];case 4:return n[r];case 3:return h[r]}else{if(mM(l,r))return c[r]=1,l[r];if(p!==qi&&Pi(p,r))return c[r]=2,p[r];if((E=e.propsOptions[0])&&Pi(E,r))return c[r]=3,h[r];if(n!==qi&&Pi(n,r))return c[r]=4,n[r];YS&&(c[r]=0)}}const k=og[r];let R,F;if(k)return r==="$attrs"&&Za(e.attrs,"get",""),k(e);if((R=M.__cssModules)&&(R=R[r]))return R;if(n!==qi&&Pi(n,r))return c[r]=4,n[r];if(F=s.config.globalProperties,Pi(F,r))return F[r]},set({_:e},r,n){const{data:l,setupState:p,ctx:h}=e;return mM(p,r)?(p[r]=n,!0):l!==qi&&Pi(l,r)?(l[r]=n,!0):Pi(e.props,r)||r[0]==="$"&&r.slice(1)in e?!1:(h[r]=n,!0)},has({_:{data:e,setupState:r,accessCache:n,ctx:l,appContext:p,propsOptions:h}},c){let M;return!!n[c]||e!==qi&&Pi(e,c)||mM(r,c)||(M=h[0])&&Pi(M,c)||Pi(l,c)||Pi(og,c)||Pi(p.config.globalProperties,c)},defineProperty(e,r,n){return n.get!=null?e._.accessCache[r]=0:Pi(n,"value")&&this.set(e,r,n.value,null),Reflect.defineProperty(e,r,n)}};function UJ(){return MF().slots}function MF(){const e=e0();return e.setupContext||(e.setupContext=ZP(e))}function TT(e){return En(e)?e.reduce((r,n)=>(r[n]=null,r),{}):e}let YS=!0;function SF(e){const r=CP(e),n=e.proxy,l=e.ctx;YS=!1,r.beforeCreate&&ET(r.beforeCreate,e,"bc");const{data:p,computed:h,methods:c,watch:M,provide:s,inject:E,created:k,beforeMount:R,mounted:F,beforeUpdate:C,updated:B,activated:G,deactivated:Z,beforeDestroy:K,beforeUnmount:te,destroyed:se,unmounted:_e,render:Me,renderTracked:he,renderTriggered:Ge,errorCaptured:st,serverPrefetch:Ne,expose:Re,inheritAttrs:ut,components:Ke,directives:gt,filters:mt}=r;if(E&&LF(E,l,null),c)for(const dt in c){const vt=c[dt];Yn(vt)&&(l[dt]=vt.bind(n))}if(p){const dt=p.call(n,n);Ji(dt)&&(e.data=Mi(dt))}if(YS=!0,h)for(const dt in h){const vt=h[dt],nr=Yn(vt)?vt.bind(n,n):Yn(vt.get)?vt.get.bind(n,n):ic,Sr=!Yn(vt)&&Yn(vt.set)?vt.set.bind(n):ic,pr=fr({get:nr,set:Sr});Object.defineProperty(l,dt,{enumerable:!0,configurable:!0,get:()=>pr.value,set:Er=>pr.value=Er})}if(M)for(const dt in M)AP(M[dt],l,n,dt);if(s){const dt=Yn(s)?s.call(n):s;Reflect.ownKeys(dt).forEach(vt=>{An(vt,dt[vt])})}k&&ET(k,e,"c");function ot(dt,vt){En(vt)?vt.forEach(nr=>dt(nr.bind(n))):vt&&dt(vt.bind(n))}if(ot(_F,R),ot(Kx,F),ot(gF,C),ot(SP,B),ot(wP,G),ot(xP,Z),ot(wF,st),ot(vF,he),ot(bF,Ge),ot(Tg,te),ot(lm,_e),ot(yF,Ne),En(Re))if(Re.length){const dt=e.exposed||(e.exposed={});Re.forEach(vt=>{Object.defineProperty(dt,vt,{get:()=>n[vt],set:nr=>n[vt]=nr})})}else e.exposed||(e.exposed={});Me&&e.render===ic&&(e.render=Me),ut!=null&&(e.inheritAttrs=ut),Ke&&(e.components=Ke),gt&&(e.directives=gt),Ne&&vP(e)}function LF(e,r,n=ic){En(e)&&(e=BS(e));for(const l in e){const p=e[l];let h;Ji(p)?"default"in p?h=Br(p.from||l,p.default,!0):h=Br(p.from||l):h=Br(p),yo(h)?Object.defineProperty(r,l,{enumerable:!0,configurable:!0,get:()=>h.value,set:c=>h.value=c}):r[l]=h}}function ET(e,r,n){mu(En(e)?e.map(l=>l.bind(r.proxy)):e.bind(r.proxy),r,n)}function AP(e,r,n,l){let p=l.includes(".")?VP(n,l):()=>n[l];if(so(e)){const h=r[e];Yn(h)&&Ao(p,h)}else if(Yn(e))Ao(p,e.bind(n));else if(Ji(e))if(En(e))e.forEach(h=>AP(h,r,n,l));else{const h=Yn(e.handler)?e.handler.bind(n):r[e.handler];Yn(h)&&Ao(p,h,e)}}function CP(e){const r=e.type,{mixins:n,extends:l}=r,{mixins:p,optionsCache:h,config:{optionMergeStrategies:c}}=e.appContext,M=h.get(r);let s;return M?s=M:!p.length&&!n&&!l?s=r:(s={},p.length&&p.forEach(E=>Ex(s,E,c,!0)),Ex(s,r,c)),Ji(r)&&h.set(r,s),s}function Ex(e,r,n,l=!1){const{mixins:p,extends:h}=r;h&&Ex(e,h,n,!0),p&&p.forEach(c=>Ex(e,c,n,!0));for(const c in r)if(!(l&&c==="expose")){const M=TF[c]||n&&n[c];e[c]=M?M(e[c],r[c]):r[c]}return e}const TF={data:kT,props:AT,emits:AT,methods:Q_,computed:Q_,beforeCreate:hs,created:hs,beforeMount:hs,mounted:hs,beforeUpdate:hs,updated:hs,beforeDestroy:hs,beforeUnmount:hs,destroyed:hs,unmounted:hs,activated:hs,deactivated:hs,errorCaptured:hs,serverPrefetch:hs,components:Q_,directives:Q_,watch:kF,provide:kT,inject:EF};function kT(e,r){return r?e?function(){return na(Yn(e)?e.call(this,this):e,Yn(r)?r.call(this,this):r)}:r:e}function EF(e,r){return Q_(BS(e),BS(r))}function BS(e){if(En(e)){const r={};for(let n=0;n<e.length;n++)r[e[n]]=e[n];return r}return e}function hs(e,r){return e?[...new Set([].concat(e,r))]:r}function Q_(e,r){return e?na(Object.create(null),e,r):r}function AT(e,r){return e?En(e)&&En(r)?[...new Set([...e,...r])]:na(Object.create(null),TT(e),TT(r??{})):r}function kF(e,r){if(!e)return r;if(!r)return e;const n=na(Object.create(null),e);for(const l in r)n[l]=hs(e[l],r[l]);return n}function DP(){return{app:null,config:{isNativeTag:v3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AF=0;function CF(e,r){return function(l,p=null){Yn(l)||(l=na({},l)),p!=null&&!Ji(p)&&(p=null);const h=DP(),c=new WeakSet,M=[];let s=!1;const E=h.app={_uid:AF++,_component:l,_props:p,_container:null,_context:h,_instance:null,version:XP,get config(){return h.config},set config(k){},use(k,...R){return c.has(k)||(k&&Yn(k.install)?(c.add(k),k.install(E,...R)):Yn(k)&&(c.add(k),k(E,...R))),E},mixin(k){return h.mixins.includes(k)||h.mixins.push(k),E},component(k,R){return R?(h.components[k]=R,E):h.components[k]},directive(k,R){return R?(h.directives[k]=R,E):h.directives[k]},mount(k,R,F){if(!s){const C=E._ceVNode||go(l,p);return C.appContext=h,F===!0?F="svg":F===!1&&(F=void 0),e(C,k,F),s=!0,E._container=k,k.__vue_app__=E,t0(C.component)}},onUnmount(k){M.push(k)},unmount(){s&&(mu(M,E._instance,16),e(null,E._container),delete E._container.__vue_app__)},provide(k,R){return h.provides[k]=R,E},runWithContext(k){const R=ph;ph=E;try{return k()}finally{ph=R}}};return E}}let ph=null;function An(e,r){if(ba){let n=ba.provides;const l=ba.parent&&ba.parent.provides;l===n&&(n=ba.provides=Object.create(l)),n[e]=r}}function Br(e,r,n=!1){const l=ba||ra;if(l||ph){const p=ph?ph._context.provides:l?l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(p&&e in p)return p[e];if(arguments.length>1)return n&&Yn(r)?r.call(l&&l.proxy):r}}function DF(){return!!(ba||ra||ph)}const IP={},PP=()=>Object.create(IP),OP=e=>Object.getPrototypeOf(e)===IP;function IF(e,r,n,l=!1){const p={},h=PP();e.propsDefaults=Object.create(null),RP(e,r,p,h);for(const c in e.propsOptions[0])c in p||(p[c]=void 0);n?e.props=l?p:_g(p):e.type.props?e.props=p:e.props=h,e.attrs=h}function PF(e,r,n,l){const{props:p,attrs:h,vnode:{patchFlag:c}}=e,M=di(p),[s]=e.propsOptions;let E=!1;if((l||c>0)&&!(c&16)){if(c&8){const k=e.vnode.dynamicProps;for(let R=0;R<k.length;R++){let F=k[R];if(Jx(e.emitsOptions,F))continue;const C=r[F];if(s)if(Pi(h,F))C!==h[F]&&(h[F]=C,E=!0);else{const B=jl(F);p[B]=jS(s,M,B,C,e,!1)}else C!==h[F]&&(h[F]=C,E=!0)}}}else{RP(e,r,p,h)&&(E=!0);let k;for(const R in M)(!r||!Pi(r,R)&&((k=qd(R))===R||!Pi(r,k)))&&(s?n&&(n[R]!==void 0||n[k]!==void 0)&&(p[R]=jS(s,M,R,void 0,e,!0)):delete p[R]);if(h!==M)for(const R in h)(!r||!Pi(r,R))&&(delete h[R],E=!0)}E&&Hc(e.attrs,"set","")}function RP(e,r,n,l){const[p,h]=e.propsOptions;let c=!1,M;if(r)for(let s in r){if(tg(s))continue;const E=r[s];let k;p&&Pi(p,k=jl(s))?!h||!h.includes(k)?n[k]=E:(M||(M={}))[k]=E:Jx(e.emitsOptions,s)||(!(s in l)||E!==l[s])&&(l[s]=E,c=!0)}if(h){const s=di(n),E=M||qi;for(let k=0;k<h.length;k++){const R=h[k];n[R]=jS(p,s,R,E[R],e,!Pi(E,R))}}return c}function jS(e,r,n,l,p,h){const c=e[n];if(c!=null){const M=Pi(c,"default");if(M&&l===void 0){const s=c.default;if(c.type!==Function&&!c.skipFactory&&Yn(s)){const{propsDefaults:E}=p;if(n in E)l=E[n];else{const k=kg(p);l=E[n]=s.call(null,r),k()}}else l=s;p.ce&&p.ce._setProp(n,l)}c[0]&&(h&&!M?l=!1:c[1]&&(l===""||l===qd(n))&&(l=!0))}return l}const OF=new WeakMap;function FP(e,r,n=!1){const l=n?OF:r.propsCache,p=l.get(e);if(p)return p;const h=e.props,c={},M=[];let s=!1;if(!Yn(e)){const k=R=>{s=!0;const[F,C]=FP(R,r,!0);na(c,F),C&&M.push(...C)};!n&&r.mixins.length&&r.mixins.forEach(k),e.extends&&k(e.extends),e.mixins&&e.mixins.forEach(k)}if(!h&&!s)return Ji(e)&&l.set(e,Kp),Kp;if(En(h))for(let k=0;k<h.length;k++){const R=jl(h[k]);CT(R)&&(c[R]=qi)}else if(h)for(const k in h){const R=jl(k);if(CT(R)){const F=h[k],C=c[R]=En(F)||Yn(F)?{type:F}:na({},F),B=C.type;let G=!1,Z=!0;if(En(B))for(let K=0;K<B.length;++K){const te=B[K],se=Yn(te)&&te.name;if(se==="Boolean"){G=!0;break}else se==="String"&&(Z=!1)}else G=Yn(B)&&B.name==="Boolean";C[0]=G,C[1]=Z,(G||Pi(C,"default"))&&M.push(R)}}const E=[c,M];return Ji(e)&&l.set(e,E),E}function CT(e){return e[0]!=="$"&&!tg(e)}const zP=e=>e[0]==="_"||e==="$stable",AL=e=>En(e)?e.map(rc):[rc(e)],RF=(e,r,n)=>{if(r._n)return r;const l=ac((...p)=>AL(r(...p)),n);return l._c=!1,l},YP=(e,r,n)=>{const l=e._ctx;for(const p in e){if(zP(p))continue;const h=e[p];if(Yn(h))r[p]=RF(p,h,l);else if(h!=null){const c=AL(h);r[p]=()=>c}}},BP=(e,r)=>{const n=AL(r);e.slots.default=()=>n},jP=(e,r,n)=>{for(const l in r)(n||l!=="_")&&(e[l]=r[l])},FF=(e,r,n)=>{const l=e.slots=PP();if(e.vnode.shapeFlag&32){const p=r._;p?(jP(l,r,n),n&&FI(l,"_",p,!0)):YP(r,l)}else r&&BP(e,r)},zF=(e,r,n)=>{const{vnode:l,slots:p}=e;let h=!0,c=qi;if(l.shapeFlag&32){const M=r._;M?n&&M===1?h=!1:jP(p,r,n):(h=!r.$stable,YP(r,p)),c=r}else r&&(BP(e,r),c={default:1});if(h)for(const M in p)!zP(M)&&c[M]==null&&delete p[M]},ps=JF;function YF(e){return BF(e)}function BF(e,r){const n=Nx();n.__VUE__=!0;const{insert:l,remove:p,patchProp:h,createElement:c,createText:M,createComment:s,setText:E,setElementText:k,parentNode:R,nextSibling:F,setScopeId:C=ic,insertStaticContent:B}=e,G=(Se,Ce,He,at=null,Dt=null,At=null,sr=void 0,mr=null,ar=!!Ce.dynamicChildren)=>{if(Se===Ce)return;Se&&!lh(Se,Ce)&&(at=xt(Se),Er(Se,Dt,At,!0),Se=null),Ce.patchFlag===-2&&(ar=!1,Ce.dynamicChildren=null);const{type:Ut,ref:jr,shapeFlag:lr}=Ce;switch(Ut){case Qx:Z(Se,Ce,He,at);break;case ys:K(Se,Ce,He,at);break;case Sb:Se==null&&te(Ce,He,at,sr);break;case ko:Ke(Se,Ce,He,at,Dt,At,sr,mr,ar);break;default:lr&1?Me(Se,Ce,He,at,Dt,At,sr,mr,ar):lr&6?gt(Se,Ce,He,at,Dt,At,sr,mr,ar):(lr&64||lr&128)&&Ut.process(Se,Ce,He,at,Dt,At,sr,mr,ar,Nt)}jr!=null&&Dt&&Tx(jr,Se&&Se.ref,At,Ce||Se,!Ce)},Z=(Se,Ce,He,at)=>{if(Se==null)l(Ce.el=M(Ce.children),He,at);else{const Dt=Ce.el=Se.el;Ce.children!==Se.children&&E(Dt,Ce.children)}},K=(Se,Ce,He,at)=>{Se==null?l(Ce.el=s(Ce.children||""),He,at):Ce.el=Se.el},te=(Se,Ce,He,at)=>{[Se.el,Se.anchor]=B(Se.children,Ce,He,at,Se.el,Se.anchor)},se=({el:Se,anchor:Ce},He,at)=>{let Dt;for(;Se&&Se!==Ce;)Dt=F(Se),l(Se,He,at),Se=Dt;l(Ce,He,at)},_e=({el:Se,anchor:Ce})=>{let He;for(;Se&&Se!==Ce;)He=F(Se),p(Se),Se=He;p(Ce)},Me=(Se,Ce,He,at,Dt,At,sr,mr,ar)=>{Ce.type==="svg"?sr="svg":Ce.type==="math"&&(sr="mathml"),Se==null?he(Ce,He,at,Dt,At,sr,mr,ar):Ne(Se,Ce,Dt,At,sr,mr,ar)},he=(Se,Ce,He,at,Dt,At,sr,mr)=>{let ar,Ut;const{props:jr,shapeFlag:lr,transition:Ir,dirs:zr}=Se;if(ar=Se.el=c(Se.type,At,jr&&jr.is,jr),lr&8?k(ar,Se.children):lr&16&&st(Se.children,ar,null,at,Dt,_M(Se,At),sr,mr),zr&&Jf(Se,null,at,"created"),Ge(ar,Se,Se.scopeId,sr,at),jr){for(const vr in jr)vr!=="value"&&!tg(vr)&&h(ar,vr,null,jr[vr],At,at);"value"in jr&&h(ar,"value",null,jr.value,At),(Ut=jr.onVnodeBeforeMount)&&Zu(Ut,at,Se)}zr&&Jf(Se,null,at,"beforeMount");const tt=jF(Dt,Ir);tt&&Ir.beforeEnter(ar),l(ar,Ce,He),((Ut=jr&&jr.onVnodeMounted)||tt||zr)&&ps(()=>{Ut&&Zu(Ut,at,Se),tt&&Ir.enter(ar),zr&&Jf(Se,null,at,"mounted")},Dt)},Ge=(Se,Ce,He,at,Dt)=>{if(He&&C(Se,He),at)for(let At=0;At<at.length;At++)C(Se,at[At]);if(Dt){let At=Dt.subTree;if(Ce===At||NP(At.type)&&(At.ssContent===Ce||At.ssFallback===Ce)){const sr=Dt.vnode;Ge(Se,sr,sr.scopeId,sr.slotScopeIds,Dt.parent)}}},st=(Se,Ce,He,at,Dt,At,sr,mr,ar=0)=>{for(let Ut=ar;Ut<Se.length;Ut++){const jr=Se[Ut]=mr?Bd(Se[Ut]):rc(Se[Ut]);G(null,jr,Ce,He,at,Dt,At,sr,mr)}},Ne=(Se,Ce,He,at,Dt,At,sr)=>{const mr=Ce.el=Se.el;let{patchFlag:ar,dynamicChildren:Ut,dirs:jr}=Ce;ar|=Se.patchFlag&16;const lr=Se.props||qi,Ir=Ce.props||qi;let zr;if(He&&Qf(He,!1),(zr=Ir.onVnodeBeforeUpdate)&&Zu(zr,He,Ce,Se),jr&&Jf(Ce,Se,He,"beforeUpdate"),He&&Qf(He,!0),(lr.innerHTML&&Ir.innerHTML==null||lr.textContent&&Ir.textContent==null)&&k(mr,""),Ut?Re(Se.dynamicChildren,Ut,mr,He,at,_M(Ce,Dt),At):sr||vt(Se,Ce,mr,null,He,at,_M(Ce,Dt),At,!1),ar>0){if(ar&16)ut(mr,lr,Ir,He,Dt);else if(ar&2&&lr.class!==Ir.class&&h(mr,"class",null,Ir.class,Dt),ar&4&&h(mr,"style",lr.style,Ir.style,Dt),ar&8){const tt=Ce.dynamicProps;for(let vr=0;vr<tt.length;vr++){const rn=tt[vr],Qn=lr[rn],ae=Ir[rn];(ae!==Qn||rn==="value")&&h(mr,rn,Qn,ae,Dt,He)}}ar&1&&Se.children!==Ce.children&&k(mr,Ce.children)}else!sr&&Ut==null&&ut(mr,lr,Ir,He,Dt);((zr=Ir.onVnodeUpdated)||jr)&&ps(()=>{zr&&Zu(zr,He,Ce,Se),jr&&Jf(Ce,Se,He,"updated")},at)},Re=(Se,Ce,He,at,Dt,At,sr)=>{for(let mr=0;mr<Ce.length;mr++){const ar=Se[mr],Ut=Ce[mr],jr=ar.el&&(ar.type===ko||!lh(ar,Ut)||ar.shapeFlag&70)?R(ar.el):He;G(ar,Ut,jr,null,at,Dt,At,sr,!0)}},ut=(Se,Ce,He,at,Dt)=>{if(Ce!==He){if(Ce!==qi)for(const At in Ce)!tg(At)&&!(At in He)&&h(Se,At,Ce[At],null,Dt,at);for(const At in He){if(tg(At))continue;const sr=He[At],mr=Ce[At];sr!==mr&&At!=="value"&&h(Se,At,mr,sr,Dt,at)}"value"in He&&h(Se,"value",Ce.value,He.value,Dt)}},Ke=(Se,Ce,He,at,Dt,At,sr,mr,ar)=>{const Ut=Ce.el=Se?Se.el:M(""),jr=Ce.anchor=Se?Se.anchor:M("");let{patchFlag:lr,dynamicChildren:Ir,slotScopeIds:zr}=Ce;zr&&(mr=mr?mr.concat(zr):zr),Se==null?(l(Ut,He,at),l(jr,He,at),st(Ce.children||[],He,jr,Dt,At,sr,mr,ar)):lr>0&&lr&64&&Ir&&Se.dynamicChildren?(Re(Se.dynamicChildren,Ir,He,Dt,At,sr,mr),(Ce.key!=null||Dt&&Ce===Dt.subTree)&&CL(Se,Ce,!0)):vt(Se,Ce,He,jr,Dt,At,sr,mr,ar)},gt=(Se,Ce,He,at,Dt,At,sr,mr,ar)=>{Ce.slotScopeIds=mr,Se==null?Ce.shapeFlag&512?Dt.ctx.activate(Ce,He,at,sr,ar):mt(Ce,He,at,Dt,At,sr,ar):Lt(Se,Ce,ar)},mt=(Se,Ce,He,at,Dt,At,sr)=>{const mr=Se.component=o4(Se,at,Dt);if(Zx(Se)&&(mr.ctx.renderer=Nt),a4(mr,!1,sr),mr.asyncDep){if(Dt&&Dt.registerDep(mr,ot,sr),!Se.el){const ar=mr.subTree=go(ys);K(null,ar,Ce,He)}}else ot(mr,Se,Ce,He,Dt,At,sr)},Lt=(Se,Ce,He)=>{const at=Ce.component=Se.component;if(XF(Se,Ce,He))if(at.asyncDep&&!at.asyncResolved){dt(at,Ce,He);return}else at.next=Ce,at.update();else Ce.el=Se.el,at.vnode=Ce},ot=(Se,Ce,He,at,Dt,At,sr)=>{const mr=()=>{if(Se.isMounted){let{next:lr,bu:Ir,u:zr,parent:tt,vnode:vr}=Se;{const q=$P(Se);if(q){lr&&(lr.el=vr.el,dt(Se,lr,sr)),q.asyncDep.then(()=>{Se.isUnmounted||mr()});return}}let rn=lr,Qn;Qf(Se,!1),lr?(lr.el=vr.el,dt(Se,lr,sr)):lr=vr,Ir&&uM(Ir),(Qn=lr.props&&lr.props.onVnodeBeforeUpdate)&&Zu(Qn,tt,lr,vr),Qf(Se,!0);const ae=IT(Se),$=Se.subTree;Se.subTree=ae,G($,ae,R($.el),xt($),Se,Dt,At),lr.el=ae.el,rn===null&&KF(Se,ae.el),zr&&ps(zr,Dt),(Qn=lr.props&&lr.props.onVnodeUpdated)&&ps(()=>Zu(Qn,tt,lr,vr),Dt)}else{let lr;const{el:Ir,props:zr}=Ce,{bm:tt,m:vr,parent:rn,root:Qn,type:ae}=Se,$=em(Ce);Qf(Se,!1),tt&&uM(tt),!$&&(lr=zr&&zr.onVnodeBeforeMount)&&Zu(lr,rn,Ce),Qf(Se,!0);{Qn.ce&&Qn.ce._injectChildStyle(ae);const q=Se.subTree=IT(Se);G(null,q,He,at,Se,Dt,At),Ce.el=q.el}if(vr&&ps(vr,Dt),!$&&(lr=zr&&zr.onVnodeMounted)){const q=Ce;ps(()=>Zu(lr,rn,q),Dt)}(Ce.shapeFlag&256||rn&&em(rn.vnode)&&rn.vnode.shapeFlag&256)&&Se.a&&ps(Se.a,Dt),Se.isMounted=!0,Ce=He=at=null}};Se.scope.on();const ar=Se.effect=new VI(mr);Se.scope.off();const Ut=Se.update=ar.run.bind(ar),jr=Se.job=ar.runIfDirty.bind(ar);jr.i=Se,jr.id=Se.uid,ar.scheduler=()=>EL(jr),Qf(Se,!0),Ut()},dt=(Se,Ce,He)=>{Ce.component=Se;const at=Se.vnode.props;Se.vnode=Ce,Se.next=null,PF(Se,Ce.props,at,He),zF(Se,Ce.children,He),Gd(),vT(Se),Wd()},vt=(Se,Ce,He,at,Dt,At,sr,mr,ar=!1)=>{const Ut=Se&&Se.children,jr=Se?Se.shapeFlag:0,lr=Ce.children,{patchFlag:Ir,shapeFlag:zr}=Ce;if(Ir>0){if(Ir&128){Sr(Ut,lr,He,at,Dt,At,sr,mr,ar);return}else if(Ir&256){nr(Ut,lr,He,at,Dt,At,sr,mr,ar);return}}zr&8?(jr&16&&Nr(Ut,Dt,At),lr!==Ut&&k(He,lr)):jr&16?zr&16?Sr(Ut,lr,He,at,Dt,At,sr,mr,ar):Nr(Ut,Dt,At,!0):(jr&8&&k(He,""),zr&16&&st(lr,He,at,Dt,At,sr,mr,ar))},nr=(Se,Ce,He,at,Dt,At,sr,mr,ar)=>{Se=Se||Kp,Ce=Ce||Kp;const Ut=Se.length,jr=Ce.length,lr=Math.min(Ut,jr);let Ir;for(Ir=0;Ir<lr;Ir++){const zr=Ce[Ir]=ar?Bd(Ce[Ir]):rc(Ce[Ir]);G(Se[Ir],zr,He,null,Dt,At,sr,mr,ar)}Ut>jr?Nr(Se,Dt,At,!0,!1,lr):st(Ce,He,at,Dt,At,sr,mr,ar,lr)},Sr=(Se,Ce,He,at,Dt,At,sr,mr,ar)=>{let Ut=0;const jr=Ce.length;let lr=Se.length-1,Ir=jr-1;for(;Ut<=lr&&Ut<=Ir;){const zr=Se[Ut],tt=Ce[Ut]=ar?Bd(Ce[Ut]):rc(Ce[Ut]);if(lh(zr,tt))G(zr,tt,He,null,Dt,At,sr,mr,ar);else break;Ut++}for(;Ut<=lr&&Ut<=Ir;){const zr=Se[lr],tt=Ce[Ir]=ar?Bd(Ce[Ir]):rc(Ce[Ir]);if(lh(zr,tt))G(zr,tt,He,null,Dt,At,sr,mr,ar);else break;lr--,Ir--}if(Ut>lr){if(Ut<=Ir){const zr=Ir+1,tt=zr<jr?Ce[zr].el:at;for(;Ut<=Ir;)G(null,Ce[Ut]=ar?Bd(Ce[Ut]):rc(Ce[Ut]),He,tt,Dt,At,sr,mr,ar),Ut++}}else if(Ut>Ir)for(;Ut<=lr;)Er(Se[Ut],Dt,At,!0),Ut++;else{const zr=Ut,tt=Ut,vr=new Map;for(Ut=tt;Ut<=Ir;Ut++){const ht=Ce[Ut]=ar?Bd(Ce[Ut]):rc(Ce[Ut]);ht.key!=null&&vr.set(ht.key,Ut)}let rn,Qn=0;const ae=Ir-tt+1;let $=!1,q=0;const Te=new Array(ae);for(Ut=0;Ut<ae;Ut++)Te[Ut]=0;for(Ut=zr;Ut<=lr;Ut++){const ht=Se[Ut];if(Qn>=ae){Er(ht,Dt,At,!0);continue}let ke;if(ht.key!=null)ke=vr.get(ht.key);else for(rn=tt;rn<=Ir;rn++)if(Te[rn-tt]===0&&lh(ht,Ce[rn])){ke=rn;break}ke===void 0?Er(ht,Dt,At,!0):(Te[ke-tt]=Ut+1,ke>=q?q=ke:$=!0,G(ht,Ce[ke],He,null,Dt,At,sr,mr,ar),Qn++)}const Ze=$?$F(Te):Kp;for(rn=Ze.length-1,Ut=ae-1;Ut>=0;Ut--){const ht=tt+Ut,ke=Ce[ht],Qe=ht+1<jr?Ce[ht+1].el:at;Te[Ut]===0?G(null,ke,He,Qe,Dt,At,sr,mr,ar):$&&(rn<0||Ut!==Ze[rn]?pr(ke,He,Qe,2):rn--)}}},pr=(Se,Ce,He,at,Dt=null)=>{const{el:At,type:sr,transition:mr,children:ar,shapeFlag:Ut}=Se;if(Ut&6){pr(Se.component.subTree,Ce,He,at);return}if(Ut&128){Se.suspense.move(Ce,He,at);return}if(Ut&64){sr.move(Se,Ce,He,Nt);return}if(sr===ko){l(At,Ce,He);for(let lr=0;lr<ar.length;lr++)pr(ar[lr],Ce,He,at);l(Se.anchor,Ce,He);return}if(sr===Sb){se(Se,Ce,He);return}if(at!==2&&Ut&1&&mr)if(at===0)mr.beforeEnter(At),l(At,Ce,He),ps(()=>mr.enter(At),Dt);else{const{leave:lr,delayLeave:Ir,afterLeave:zr}=mr,tt=()=>l(At,Ce,He),vr=()=>{lr(At,()=>{tt(),zr&&zr()})};Ir?Ir(At,tt,vr):vr()}else l(At,Ce,He)},Er=(Se,Ce,He,at=!1,Dt=!1)=>{const{type:At,props:sr,ref:mr,children:ar,dynamicChildren:Ut,shapeFlag:jr,patchFlag:lr,dirs:Ir,cacheIndex:zr}=Se;if(lr===-2&&(Dt=!1),mr!=null&&Tx(mr,null,He,Se,!0),zr!=null&&(Ce.renderCache[zr]=void 0),jr&256){Ce.ctx.deactivate(Se);return}const tt=jr&1&&Ir,vr=!em(Se);let rn;if(vr&&(rn=sr&&sr.onVnodeBeforeUnmount)&&Zu(rn,Ce,Se),jr&6)Gr(Se.component,He,at);else{if(jr&128){Se.suspense.unmount(He,at);return}tt&&Jf(Se,null,Ce,"beforeUnmount"),jr&64?Se.type.remove(Se,Ce,He,Nt,at):Ut&&!Ut.hasOnce&&(At!==ko||lr>0&&lr&64)?Nr(Ut,Ce,He,!1,!0):(At===ko&&lr&384||!Dt&&jr&16)&&Nr(ar,Ce,He),at&&pn(Se)}(vr&&(rn=sr&&sr.onVnodeUnmounted)||tt)&&ps(()=>{rn&&Zu(rn,Ce,Se),tt&&Jf(Se,null,Ce,"unmounted")},He)},pn=Se=>{const{type:Ce,el:He,anchor:at,transition:Dt}=Se;if(Ce===ko){qr(He,at);return}if(Ce===Sb){_e(Se);return}const At=()=>{p(He),Dt&&!Dt.persisted&&Dt.afterLeave&&Dt.afterLeave()};if(Se.shapeFlag&1&&Dt&&!Dt.persisted){const{leave:sr,delayLeave:mr}=Dt,ar=()=>sr(He,At);mr?mr(Se.el,At,ar):ar()}else At()},qr=(Se,Ce)=>{let He;for(;Se!==Ce;)He=F(Se),p(Se),Se=He;p(Ce)},Gr=(Se,Ce,He)=>{const{bum:at,scope:Dt,job:At,subTree:sr,um:mr,m:ar,a:Ut}=Se;DT(ar),DT(Ut),at&&uM(at),Dt.stop(),At&&(At.flags|=8,Er(sr,Se,Ce,He)),mr&&ps(mr,Ce),ps(()=>{Se.isUnmounted=!0},Ce),Ce&&Ce.pendingBranch&&!Ce.isUnmounted&&Se.asyncDep&&!Se.asyncResolved&&Se.suspenseId===Ce.pendingId&&(Ce.deps--,Ce.deps===0&&Ce.resolve())},Nr=(Se,Ce,He,at=!1,Dt=!1,At=0)=>{for(let sr=At;sr<Se.length;sr++)Er(Se[sr],Ce,He,at,Dt)},xt=Se=>{if(Se.shapeFlag&6)return xt(Se.component.subTree);if(Se.shapeFlag&128)return Se.suspense.next();const Ce=F(Se.anchor||Se.el),He=Ce&&Ce[cP];return He?F(He):Ce};let qt=!1;const It=(Se,Ce,He)=>{Se==null?Ce._vnode&&Er(Ce._vnode,null,null,!0):G(Ce._vnode||null,Se,Ce,null,null,null,He),Ce._vnode=Se,qt||(qt=!0,vT(),sP(),qt=!1)},Nt={p:G,um:Er,m:pr,r:pn,mt,mc:st,pc:vt,pbc:Re,n:xt,o:e};return{render:It,hydrate:void 0,createApp:CF(It)}}function _M({type:e,props:r},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:n}function Qf({effect:e,job:r},n){n?(e.flags|=32,r.flags|=4):(e.flags&=-33,r.flags&=-5)}function jF(e,r){return(!e||e&&!e.pendingBranch)&&r&&!r.persisted}function CL(e,r,n=!1){const l=e.children,p=r.children;if(En(l)&&En(p))for(let h=0;h<l.length;h++){const c=l[h];let M=p[h];M.shapeFlag&1&&!M.dynamicChildren&&((M.patchFlag<=0||M.patchFlag===32)&&(M=p[h]=Bd(p[h]),M.el=c.el),!n&&M.patchFlag!==-2&&CL(c,M)),M.type===Qx&&(M.el=c.el)}}function $F(e){const r=e.slice(),n=[0];let l,p,h,c,M;const s=e.length;for(l=0;l<s;l++){const E=e[l];if(E!==0){if(p=n[n.length-1],e[p]<E){r[l]=p,n.push(l);continue}for(h=0,c=n.length-1;h<c;)M=h+c>>1,e[n[M]]<E?h=M+1:c=M;E<e[n[h]]&&(h>0&&(r[l]=n[h-1]),n[h]=l)}}for(h=n.length,c=n[h-1];h-- >0;)n[h]=c,c=r[c];return n}function $P(e){const r=e.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:$P(r)}function DT(e){if(e)for(let r=0;r<e.length;r++)e[r].flags|=8}const VF=Symbol.for("v-scx"),UF=()=>Br(VF);function NF(e,r){return DL(e,null,r)}function Ao(e,r,n){return DL(e,r,n)}function DL(e,r,n=qi){const{immediate:l,deep:p,flush:h,once:c}=n,M=na({},n),s=r&&l||!r&&h!=="post";let E;if(wg){if(h==="sync"){const C=UF();E=C.__watcherHandles||(C.__watcherHandles=[])}else if(!s){const C=()=>{};return C.stop=ic,C.resume=ic,C.pause=ic,C}}const k=ba;M.call=(C,B,G)=>mu(C,k,B,G);let R=!1;h==="post"?M.scheduler=C=>{ps(C,k&&k.suspense)}:h!=="sync"&&(R=!0,M.scheduler=(C,B)=>{B?C():EL(C)}),M.augmentJob=C=>{r&&(C.flags|=4),R&&(C.flags|=2,k&&(C.id=k.uid,C.i=k))};const F=lF(e,r,M);return wg&&(E?E.push(F):s&&F()),F}function HF(e,r,n){const l=this.proxy,p=so(e)?e.includes(".")?VP(l,e):()=>l[e]:e.bind(l,l);let h;Yn(r)?h=r:(h=r.handler,n=r);const c=kg(this),M=DL(p,h.bind(l),n);return c(),M}function VP(e,r){const n=r.split(".");return()=>{let l=e;for(let p=0;p<n.length&&l;p++)l=l[n[p]];return l}}const qF=(e,r)=>r==="modelValue"||r==="model-value"?e.modelModifiers:e[`${r}Modifiers`]||e[`${jl(r)}Modifiers`]||e[`${qd(r)}Modifiers`];function GF(e,r,...n){if(e.isUnmounted)return;const l=e.vnode.props||qi;let p=n;const h=r.startsWith("update:"),c=h&&qF(l,r.slice(7));c&&(c.trim&&(p=n.map(k=>so(k)?k.trim():k)),c.number&&(p=n.map(L3)));let M,s=l[M=xb(r)]||l[M=xb(jl(r))];!s&&h&&(s=l[M=xb(qd(r))]),s&&mu(s,e,6,p);const E=l[M+"Once"];if(E){if(!e.emitted)e.emitted={};else if(e.emitted[M])return;e.emitted[M]=!0,mu(E,e,6,p)}}function UP(e,r,n=!1){const l=r.emitsCache,p=l.get(e);if(p!==void 0)return p;const h=e.emits;let c={},M=!1;if(!Yn(e)){const s=E=>{const k=UP(E,r,!0);k&&(M=!0,na(c,k))};!n&&r.mixins.length&&r.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return!h&&!M?(Ji(e)&&l.set(e,null),null):(En(h)?h.forEach(s=>c[s]=null):na(c,h),Ji(e)&&l.set(e,c),c)}function Jx(e,r){return!e||!jx(r)?!1:(r=r.slice(2).replace(/Once$/,""),Pi(e,r[0].toLowerCase()+r.slice(1))||Pi(e,qd(r))||Pi(e,r))}function IT(e){const{type:r,vnode:n,proxy:l,withProxy:p,propsOptions:[h],slots:c,attrs:M,emit:s,render:E,renderCache:k,props:R,data:F,setupState:C,ctx:B,inheritAttrs:G}=e,Z=Lx(e);let K,te;try{if(n.shapeFlag&4){const _e=p||l,Me=_e;K=rc(E.call(Me,_e,k,R,C,F,B)),te=M}else{const _e=r;K=rc(_e.length>1?_e(R,{attrs:M,slots:c,emit:s}):_e(R,null)),te=r.props?M:WF(M)}}catch(_e){ag.length=0,Wx(_e,e,1),K=go(ys)}let se=K;if(te&&G!==!1){const _e=Object.keys(te),{shapeFlag:Me}=se;_e.length&&Me&7&&(h&&_e.some(gL)&&(te=ZF(te,h)),se=Nd(se,te,!1,!0))}return n.dirs&&(se=Nd(se,null,!1,!0),se.dirs=se.dirs?se.dirs.concat(n.dirs):n.dirs),n.transition&&yh(se,n.transition),K=se,Lx(Z),K}const WF=e=>{let r;for(const n in e)(n==="class"||n==="style"||jx(n))&&((r||(r={}))[n]=e[n]);return r},ZF=(e,r)=>{const n={};for(const l in e)(!gL(l)||!(l.slice(9)in r))&&(n[l]=e[l]);return n};function XF(e,r,n){const{props:l,children:p,component:h}=e,{props:c,children:M,patchFlag:s}=r,E=h.emitsOptions;if(r.dirs||r.transition)return!0;if(n&&s>=0){if(s&1024)return!0;if(s&16)return l?PT(l,c,E):!!c;if(s&8){const k=r.dynamicProps;for(let R=0;R<k.length;R++){const F=k[R];if(c[F]!==l[F]&&!Jx(E,F))return!0}}}else return(p||M)&&(!M||!M.$stable)?!0:l===c?!1:l?c?PT(l,c,E):!0:!!c;return!1}function PT(e,r,n){const l=Object.keys(r);if(l.length!==Object.keys(e).length)return!0;for(let p=0;p<l.length;p++){const h=l[p];if(r[h]!==e[h]&&!Jx(n,h))return!0}return!1}function KF({vnode:e,parent:r},n){for(;r;){const l=r.subTree;if(l.suspense&&l.suspense.activeBranch===e&&(l.el=e.el),l===e)(e=r.vnode).el=n,r=r.parent;else break}}const NP=e=>e.__isSuspense;function JF(e,r){r&&r.pendingBranch?En(e)?r.effects.push(...e):r.effects.push(e):dF(e)}const ko=Symbol.for("v-fgt"),Qx=Symbol.for("v-txt"),ys=Symbol.for("v-cmt"),Sb=Symbol.for("v-stc"),ag=[];let dl=null;function fi(e=!1){ag.push(dl=e?null:[])}function QF(){ag.pop(),dl=ag[ag.length-1]||null}let bg=1;function OT(e,r=!1){bg+=e,e<0&&dl&&r&&(dl.hasOnce=!0)}function HP(e){return e.dynamicChildren=bg>0?dl||Kp:null,QF(),bg>0&&dl&&dl.push(e),e}function cl(e,r,n,l,p,h){return HP(Zc(e,r,n,l,p,h,!0))}function _o(e,r,n,l,p){return HP(go(e,r,n,l,p,!0))}function vg(e){return e?e.__v_isVNode===!0:!1}function lh(e,r){return e.type===r.type&&e.key===r.key}const qP=({key:e})=>e??null,Lb=({ref:e,ref_key:r,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?so(e)||yo(e)||Yn(e)?{i:ra,r:e,k:r,f:!!n}:e:null);function Zc(e,r=null,n=null,l=0,p=null,h=e===ko?0:1,c=!1,M=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:r,key:r&&qP(r),ref:r&&Lb(r),scopeId:uP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:l,dynamicProps:p,dynamicChildren:null,appContext:null,ctx:ra};return M?(IL(s,n),h&128&&e.normalize(s)):n&&(s.shapeFlag|=so(n)?8:16),bg>0&&!c&&dl&&(s.patchFlag>0||h&6)&&s.patchFlag!==32&&dl.push(s),s}const go=e4;function e4(e,r=null,n=null,l=0,p=null,h=!1){if((!e||e===TP)&&(e=ys),vg(e)){const M=Nd(e,r,!0);return n&&IL(M,n),bg>0&&!h&&dl&&(M.shapeFlag&6?dl[dl.indexOf(e)]=M:dl.push(M)),M.patchFlag=-2,M}if(c4(e)&&(e=e.__vccOpts),r){r=t4(r);let{class:M,style:s}=r;M&&!so(M)&&(r.class=wh(M)),Ji(s)&&(TL(s)&&!En(s)&&(s=na({},s)),r.style=Jc(s))}const c=so(e)?1:NP(e)?128:dP(e)?64:Ji(e)?4:Yn(e)?2:0;return Zc(e,r,n,l,p,c,h,!0)}function t4(e){return e?TL(e)||OP(e)?na({},e):e:null}function Nd(e,r,n=!1,l=!1){const{props:p,ref:h,patchFlag:c,children:M,transition:s}=e,E=r?fl(p||{},r):p,k={__v_isVNode:!0,__v_skip:!0,type:e.type,props:E,key:E&&qP(E),ref:r&&r.ref?n&&h?En(h)?h.concat(Lb(r)):[h,Lb(r)]:Lb(r):h,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:M,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:r&&e.type!==ko?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:s,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Nd(e.ssContent),ssFallback:e.ssFallback&&Nd(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return s&&l&&yh(k,s.clone(k)),k}function r4(e=" ",r=0){return go(Qx,null,e,r)}function NJ(e,r){const n=go(Sb,null,e);return n.staticCount=r,n}function Hd(e="",r=!1){return r?(fi(),_o(ys,null,e)):go(ys,null,e)}function rc(e){return e==null||typeof e=="boolean"?go(ys):En(e)?go(ko,null,e.slice()):vg(e)?Bd(e):go(Qx,null,String(e))}function Bd(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Nd(e)}function IL(e,r){let n=0;const{shapeFlag:l}=e;if(r==null)r=null;else if(En(r))n=16;else if(typeof r=="object")if(l&65){const p=r.default;p&&(p._c&&(p._d=!1),IL(e,p()),p._c&&(p._d=!0));return}else{n=32;const p=r._;!p&&!OP(r)?r._ctx=ra:p===3&&ra&&(ra.slots._===1?r._=1:(r._=2,e.patchFlag|=1024))}else Yn(r)?(r={default:r,_ctx:ra},n=32):(r=String(r),l&64?(n=16,r=[r4(r)]):n=8);e.children=r,e.shapeFlag|=n}function fl(...e){const r={};for(let n=0;n<e.length;n++){const l=e[n];for(const p in l)if(p==="class")r.class!==l.class&&(r.class=wh([r.class,l.class]));else if(p==="style")r.style=Jc([r.style,l.style]);else if(jx(p)){const h=r[p],c=l[p];c&&h!==c&&!(En(h)&&h.includes(c))&&(r[p]=h?[].concat(h,c):c)}else p!==""&&(r[p]=l[p])}return r}function Zu(e,r,n,l=null){mu(e,r,7,[n,l])}const n4=DP();let i4=0;function o4(e,r,n){const l=e.type,p=(r?r.appContext:e.appContext)||n4,h={uid:i4++,vnode:e,type:l,parent:r,appContext:p,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(p.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:FP(l,p),emitsOptions:UP(l,p),emit:null,emitted:null,propsDefaults:qi,inheritAttrs:l.inheritAttrs,ctx:qi,data:qi,props:qi,attrs:qi,slots:qi,refs:qi,setupState:qi,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=r?r.root:h,h.emit=GF.bind(null,h),e.ce&&e.ce(h),h}let ba=null;const e0=()=>ba||ra;let kx,$S;{const e=Nx(),r=(n,l)=>{let p;return(p=e[n])||(p=e[n]=[]),p.push(l),h=>{p.length>1?p.forEach(c=>c(h)):p[0](h)}};kx=r("__VUE_INSTANCE_SETTERS__",n=>ba=n),$S=r("__VUE_SSR_SETTERS__",n=>wg=n)}const kg=e=>{const r=ba;return kx(e),e.scope.on(),()=>{e.scope.off(),kx(r)}},RT=()=>{ba&&ba.scope.off(),kx(null)};function GP(e){return e.vnode.shapeFlag&4}let wg=!1;function a4(e,r=!1,n=!1){r&&$S(r);const{props:l,children:p}=e.vnode,h=GP(e);IF(e,l,h,r),FF(e,p,n);const c=h?s4(e,r):void 0;return r&&$S(!1),c}function s4(e,r){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xF);const{setup:l}=n;if(l){Gd();const p=e.setupContext=l.length>1?ZP(e):null,h=kg(e),c=Sg(l,e,0,[e.props,p]),M=PI(c);if(Wd(),h(),(M||e.sp)&&!em(e)&&vP(e),M){if(c.then(RT,RT),r)return c.then(s=>{FT(e,s)}).catch(s=>{Wx(s,e,0)});e.asyncDep=c}else FT(e,c)}else WP(e)}function FT(e,r,n){Yn(r)?e.type.__ssrInlineRender?e.ssrRender=r:e.render=r:Ji(r)&&(e.setupState=nP(r)),WP(e)}function WP(e,r,n){const l=e.type;e.render||(e.render=l.render||ic);{const p=kg(e);Gd();try{SF(e)}finally{Wd(),p()}}}const l4={get(e,r){return Za(e,"get",""),e[r]}};function ZP(e){const r=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,l4),slots:e.slots,emit:e.emit,expose:r}}function t0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nP(Gx(e.exposed)),{get(r,n){if(n in r)return r[n];if(n in og)return og[n](e)},has(r,n){return n in r||n in og}})):e.proxy}function u4(e,r=!0){return Yn(e)?e.displayName||e.name:e.name||r&&e.__name}function c4(e){return Yn(e)&&"__vccOpts"in e}const fr=(e,r)=>aF(e,r,wg);function rm(e,r,n){const l=arguments.length;return l===2?Ji(r)&&!En(r)?vg(r)?go(e,null,[r]):go(e,r):go(e,null,r):(l>3?n=Array.prototype.slice.call(arguments,2):l===3&&vg(n)&&(n=[n]),go(e,r,n))}const XP="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let VS;const zT=typeof window<"u"&&window.trustedTypes;if(zT)try{VS=zT.createPolicy("vue",{createHTML:e=>e})}catch{}const KP=VS?e=>VS.createHTML(e):e=>e,d4="http://www.w3.org/2000/svg",f4="http://www.w3.org/1998/Math/MathML",Nc=typeof document<"u"?document:null,YT=Nc&&Nc.createElement("template"),h4={insert:(e,r,n)=>{r.insertBefore(e,n||null)},remove:e=>{const r=e.parentNode;r&&r.removeChild(e)},createElement:(e,r,n,l)=>{const p=r==="svg"?Nc.createElementNS(d4,e):r==="mathml"?Nc.createElementNS(f4,e):n?Nc.createElement(e,{is:n}):Nc.createElement(e);return e==="select"&&l&&l.multiple!=null&&p.setAttribute("multiple",l.multiple),p},createText:e=>Nc.createTextNode(e),createComment:e=>Nc.createComment(e),setText:(e,r)=>{e.nodeValue=r},setElementText:(e,r)=>{e.textContent=r},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nc.querySelector(e),setScopeId(e,r){e.setAttribute(r,"")},insertStaticContent(e,r,n,l,p,h){const c=n?n.previousSibling:r.lastChild;if(p&&(p===h||p.nextSibling))for(;r.insertBefore(p.cloneNode(!0),n),!(p===h||!(p=p.nextSibling)););else{YT.innerHTML=KP(l==="svg"?`<svg>${e}</svg>`:l==="mathml"?`<math>${e}</math>`:e);const M=YT.content;if(l==="svg"||l==="mathml"){const s=M.firstChild;for(;s.firstChild;)M.appendChild(s.firstChild);M.removeChild(s)}r.insertBefore(M,n)}return[c?c.nextSibling:r.firstChild,n?n.previousSibling:r.lastChild]}},Dd="transition",k_="animation",nm=Symbol("_vtc"),JP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},QP=na({},mP,JP),p4=e=>(e.displayName="Transition",e.props=QP,e),m4=p4((e,{slots:r})=>rm(pF,eO(e),r)),eh=(e,r=[])=>{En(e)?e.forEach(n=>n(...r)):e&&e(...r)},BT=e=>e?En(e)?e.some(r=>r.length>1):e.length>1:!1;function eO(e){const r={};for(const Ke in e)Ke in JP||(r[Ke]=e[Ke]);if(e.css===!1)return r;const{name:n="v",type:l,duration:p,enterFromClass:h=`${n}-enter-from`,enterActiveClass:c=`${n}-enter-active`,enterToClass:M=`${n}-enter-to`,appearFromClass:s=h,appearActiveClass:E=c,appearToClass:k=M,leaveFromClass:R=`${n}-leave-from`,leaveActiveClass:F=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=e,B=_4(p),G=B&&B[0],Z=B&&B[1],{onBeforeEnter:K,onEnter:te,onEnterCancelled:se,onLeave:_e,onLeaveCancelled:Me,onBeforeAppear:he=K,onAppear:Ge=te,onAppearCancelled:st=se}=r,Ne=(Ke,gt,mt,Lt)=>{Ke._enterCancelled=Lt,Rd(Ke,gt?k:M),Rd(Ke,gt?E:c),mt&&mt()},Re=(Ke,gt)=>{Ke._isLeaving=!1,Rd(Ke,R),Rd(Ke,C),Rd(Ke,F),gt&&gt()},ut=Ke=>(gt,mt)=>{const Lt=Ke?Ge:te,ot=()=>Ne(gt,Ke,mt);eh(Lt,[gt,ot]),jT(()=>{Rd(gt,Ke?s:h),Ju(gt,Ke?k:M),BT(Lt)||$T(gt,l,G,ot)})};return na(r,{onBeforeEnter(Ke){eh(K,[Ke]),Ju(Ke,h),Ju(Ke,c)},onBeforeAppear(Ke){eh(he,[Ke]),Ju(Ke,s),Ju(Ke,E)},onEnter:ut(!1),onAppear:ut(!0),onLeave(Ke,gt){Ke._isLeaving=!0;const mt=()=>Re(Ke,gt);Ju(Ke,R),Ke._enterCancelled?(Ju(Ke,F),US()):(US(),Ju(Ke,F)),jT(()=>{Ke._isLeaving&&(Rd(Ke,R),Ju(Ke,C),BT(_e)||$T(Ke,l,Z,mt))}),eh(_e,[Ke,mt])},onEnterCancelled(Ke){Ne(Ke,!1,void 0,!0),eh(se,[Ke])},onAppearCancelled(Ke){Ne(Ke,!0,void 0,!0),eh(st,[Ke])},onLeaveCancelled(Ke){Re(Ke),eh(Me,[Ke])}})}function _4(e){if(e==null)return null;if(Ji(e))return[gM(e.enter),gM(e.leave)];{const r=gM(e);return[r,r]}}function gM(e){return T3(e)}function Ju(e,r){r.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[nm]||(e[nm]=new Set)).add(r)}function Rd(e,r){r.split(/\s+/).forEach(l=>l&&e.classList.remove(l));const n=e[nm];n&&(n.delete(r),n.size||(e[nm]=void 0))}function jT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let g4=0;function $T(e,r,n,l){const p=e._endId=++g4,h=()=>{p===e._endId&&l()};if(n!=null)return setTimeout(h,n);const{type:c,timeout:M,propCount:s}=tO(e,r);if(!c)return l();const E=c+"end";let k=0;const R=()=>{e.removeEventListener(E,F),h()},F=C=>{C.target===e&&++k>=s&&R()};setTimeout(()=>{k<s&&R()},M+1),e.addEventListener(E,F)}function tO(e,r){const n=window.getComputedStyle(e),l=B=>(n[B]||"").split(", "),p=l(`${Dd}Delay`),h=l(`${Dd}Duration`),c=VT(p,h),M=l(`${k_}Delay`),s=l(`${k_}Duration`),E=VT(M,s);let k=null,R=0,F=0;r===Dd?c>0&&(k=Dd,R=c,F=h.length):r===k_?E>0&&(k=k_,R=E,F=s.length):(R=Math.max(c,E),k=R>0?c>E?Dd:k_:null,F=k?k===Dd?h.length:s.length:0);const C=k===Dd&&/\b(transform|all)(,|$)/.test(l(`${Dd}Property`).toString());return{type:k,timeout:R,propCount:F,hasTransform:C}}function VT(e,r){for(;e.length<r.length;)e=e.concat(e);return Math.max(...r.map((n,l)=>UT(n)+UT(e[l])))}function UT(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function US(){return document.body.offsetHeight}function y4(e,r,n){const l=e[nm];l&&(r=(r?[r,...l]:[...l]).join(" ")),r==null?e.removeAttribute("class"):n?e.setAttribute("class",r):e.className=r}const Ax=Symbol("_vod"),rO=Symbol("_vsh"),HJ={beforeMount(e,{value:r},{transition:n}){e[Ax]=e.style.display==="none"?"":e.style.display,n&&r?n.beforeEnter(e):A_(e,r)},mounted(e,{value:r},{transition:n}){n&&r&&n.enter(e)},updated(e,{value:r,oldValue:n},{transition:l}){!r!=!n&&(l?r?(l.beforeEnter(e),A_(e,!0),l.enter(e)):l.leave(e,()=>{A_(e,!1)}):A_(e,r))},beforeUnmount(e,{value:r}){A_(e,r)}};function A_(e,r){e.style.display=r?e[Ax]:"none",e[rO]=!r}const b4=Symbol(""),v4=/(^|;)\s*display\s*:/;function w4(e,r,n){const l=e.style,p=so(n);let h=!1;if(n&&!p){if(r)if(so(r))for(const c of r.split(";")){const M=c.slice(0,c.indexOf(":")).trim();n[M]==null&&Tb(l,M,"")}else for(const c in r)n[c]==null&&Tb(l,c,"");for(const c in n)c==="display"&&(h=!0),Tb(l,c,n[c])}else if(p){if(r!==n){const c=l[b4];c&&(n+=";"+c),l.cssText=n,h=v4.test(n)}}else r&&e.removeAttribute("style");Ax in e&&(e[Ax]=h?l.display:"",e[rO]&&(l.display="none"))}const NT=/\s*!important$/;function Tb(e,r,n){if(En(n))n.forEach(l=>Tb(e,r,l));else if(n==null&&(n=""),r.startsWith("--"))e.setProperty(r,n);else{const l=x4(e,r);NT.test(n)?e.setProperty(qd(l),n.replace(NT,""),"important"):e[l]=n}}const HT=["Webkit","Moz","ms"],yM={};function x4(e,r){const n=yM[r];if(n)return n;let l=jl(r);if(l!=="filter"&&l in e)return yM[r]=l;l=Ux(l);for(let p=0;p<HT.length;p++){const h=HT[p]+l;if(h in e)return yM[r]=h}return r}const qT="http://www.w3.org/1999/xlink";function GT(e,r,n,l,p,h=I3(r)){l&&r.startsWith("xlink:")?n==null?e.removeAttributeNS(qT,r.slice(6,r.length)):e.setAttributeNS(qT,r,n):n==null||h&&!zI(n)?e.removeAttribute(r):e.setAttribute(r,h?"":Kc(n)?String(n):n)}function WT(e,r,n,l,p){if(r==="innerHTML"||r==="textContent"){n!=null&&(e[r]=r==="innerHTML"?KP(n):n);return}const h=e.tagName;if(r==="value"&&h!=="PROGRESS"&&!h.includes("-")){const M=h==="OPTION"?e.getAttribute("value")||"":e.value,s=n==null?e.type==="checkbox"?"on":"":String(n);(M!==s||!("_value"in e))&&(e.value=s),n==null&&e.removeAttribute(r),e._value=n;return}let c=!1;if(n===""||n==null){const M=typeof e[r];M==="boolean"?n=zI(n):n==null&&M==="string"?(n="",c=!0):M==="number"&&(n=0,c=!0)}try{e[r]=n}catch{}c&&e.removeAttribute(p||r)}function M4(e,r,n,l){e.addEventListener(r,n,l)}function S4(e,r,n,l){e.removeEventListener(r,n,l)}const ZT=Symbol("_vei");function L4(e,r,n,l,p=null){const h=e[ZT]||(e[ZT]={}),c=h[r];if(l&&c)c.value=l;else{const[M,s]=T4(r);if(l){const E=h[r]=A4(l,p);M4(e,M,E,s)}else c&&(S4(e,M,c,s),h[r]=void 0)}}const XT=/(?:Once|Passive|Capture)$/;function T4(e){let r;if(XT.test(e)){r={};let l;for(;l=e.match(XT);)e=e.slice(0,e.length-l[0].length),r[l[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):qd(e.slice(2)),r]}let bM=0;const E4=Promise.resolve(),k4=()=>bM||(E4.then(()=>bM=0),bM=Date.now());function A4(e,r){const n=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=n.attached)return;mu(C4(l,n.value),r,5,[l])};return n.value=e,n.attached=k4(),n}function C4(e,r){if(En(r)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},r.map(l=>p=>!p._stopped&&l&&l(p))}else return r}const KT=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,D4=(e,r,n,l,p,h)=>{const c=p==="svg";r==="class"?y4(e,l,c):r==="style"?w4(e,n,l):jx(r)?gL(r)||L4(e,r,n,l,h):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):I4(e,r,l,c))?(WT(e,r,l),!e.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&GT(e,r,l,c,h,r!=="value")):e._isVueCE&&(/[A-Z]/.test(r)||!so(l))?WT(e,jl(r),l,h,r):(r==="true-value"?e._trueValue=l:r==="false-value"&&(e._falseValue=l),GT(e,r,l,c))};function I4(e,r,n,l){if(l)return!!(r==="innerHTML"||r==="textContent"||r in e&&KT(r)&&Yn(n));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&e.tagName==="INPUT"||r==="type"&&e.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const p=e.tagName;if(p==="IMG"||p==="VIDEO"||p==="CANVAS"||p==="SOURCE")return!1}return KT(r)&&so(n)?!1:r in e}const nO=new WeakMap,iO=new WeakMap,Cx=Symbol("_moveCb"),JT=Symbol("_enterCb"),P4=e=>(delete e.props.mode,e),O4=P4({name:"TransitionGroup",props:na({},QP,{tag:String,moveClass:String}),setup(e,{slots:r}){const n=e0(),l=pP();let p,h;return SP(()=>{if(!p.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!Y4(p[0].el,n.vnode.el,c))return;p.forEach(R4),p.forEach(F4);const M=p.filter(z4);US(),M.forEach(s=>{const E=s.el,k=E.style;Ju(E,c),k.transform=k.webkitTransform=k.transitionDuration="";const R=E[Cx]=F=>{F&&F.target!==E||(!F||/transform$/.test(F.propertyName))&&(E.removeEventListener("transitionend",R),E[Cx]=null,Rd(E,c))};E.addEventListener("transitionend",R)})}),()=>{const c=di(e),M=eO(c);let s=c.tag||ko;if(p=[],h)for(let E=0;E<h.length;E++){const k=h[E];k.el&&k.el instanceof Element&&(p.push(k),yh(k,yg(k,M,l,n)),nO.set(k,k.el.getBoundingClientRect()))}h=r.default?kL(r.default()):[];for(let E=0;E<h.length;E++){const k=h[E];k.key!=null&&yh(k,yg(k,M,l,n))}return go(s,null,h)}}}),qJ=O4;function R4(e){const r=e.el;r[Cx]&&r[Cx](),r[JT]&&r[JT]()}function F4(e){iO.set(e,e.el.getBoundingClientRect())}function z4(e){const r=nO.get(e),n=iO.get(e),l=r.left-n.left,p=r.top-n.top;if(l||p){const h=e.el.style;return h.transform=h.webkitTransform=`translate(${l}px,${p}px)`,h.transitionDuration="0s",e}}function Y4(e,r,n){const l=e.cloneNode(),p=e[nm];p&&p.forEach(M=>{M.split(/\s+/).forEach(s=>s&&l.classList.remove(s))}),n.split(/\s+/).forEach(M=>M&&l.classList.add(M)),l.style.display="none";const h=r.nodeType===1?r:r.parentNode;h.appendChild(l);const{hasTransform:c}=tO(l);return h.removeChild(l),c}const B4=["ctrl","shift","alt","meta"],j4={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,r)=>B4.some(n=>e[`${n}Key`]&&!r.includes(n))},GJ=(e,r)=>{const n=e._withMods||(e._withMods={}),l=r.join(".");return n[l]||(n[l]=(p,...h)=>{for(let c=0;c<r.length;c++){const M=j4[r[c]];if(M&&M(p,r))return}return e(p,...h)})},$4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},WJ=(e,r)=>{const n=e._withKeys||(e._withKeys={}),l=r.join(".");return n[l]||(n[l]=p=>{if(!("key"in p))return;const h=qd(p.key);if(r.some(c=>c===h||$4[c]===h))return e(p)})},V4=na({patchProp:D4},h4);let QT;function U4(){return QT||(QT=YF(V4))}const N4=(...e)=>{const r=U4().createApp(...e),{mount:n}=r;return r.mount=l=>{const p=q4(l);if(!p)return;const h=r._component;!Yn(h)&&!h.render&&!h.template&&(h.template=p.innerHTML),p.nodeType===1&&(p.textContent="");const c=n(p,!1,H4(p));return p instanceof Element&&(p.removeAttribute("v-cloak"),p.setAttribute("data-v-app","")),c},r};function H4(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function q4(e){return so(e)?document.querySelector(e):e}function G4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oO={exports:{}},Do=oO.exports={},ec,tc;function NS(){throw new Error("setTimeout has not been defined")}function HS(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ec=setTimeout:ec=NS}catch{ec=NS}try{typeof clearTimeout=="function"?tc=clearTimeout:tc=HS}catch{tc=HS}})();function aO(e){if(ec===setTimeout)return setTimeout(e,0);if((ec===NS||!ec)&&setTimeout)return ec=setTimeout,setTimeout(e,0);try{return ec(e,0)}catch{try{return ec.call(null,e,0)}catch{return ec.call(this,e,0)}}}function W4(e){if(tc===clearTimeout)return clearTimeout(e);if((tc===HS||!tc)&&clearTimeout)return tc=clearTimeout,clearTimeout(e);try{return tc(e)}catch{try{return tc.call(null,e)}catch{return tc.call(this,e)}}}var Gc=[],tm=!1,uh,Eb=-1;function Z4(){!tm||!uh||(tm=!1,uh.length?Gc=uh.concat(Gc):Eb=-1,Gc.length&&sO())}function sO(){if(!tm){var e=aO(Z4);tm=!0;for(var r=Gc.length;r;){for(uh=Gc,Gc=[];++Eb<r;)uh&&uh[Eb].run();Eb=-1,r=Gc.length}uh=null,tm=!1,W4(e)}}Do.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];Gc.push(new lO(e,r)),Gc.length===1&&!tm&&aO(sO)};function lO(e,r){this.fun=e,this.array=r}lO.prototype.run=function(){this.fun.apply(null,this.array)};Do.title="browser";Do.browser=!0;Do.env={};Do.argv=[];Do.version="";Do.versions={};function ed(){}Do.on=ed;Do.addListener=ed;Do.once=ed;Do.off=ed;Do.removeListener=ed;Do.removeAllListeners=ed;Do.emit=ed;Do.prependListener=ed;Do.prependOnceListener=ed;Do.listeners=function(e){return[]};Do.binding=function(e){throw new Error("process.binding is not supported")};Do.cwd=function(){return"/"};Do.chdir=function(e){throw new Error("process.chdir is not supported")};Do.umask=function(){return 0};var X4=oO.exports;const Dx=G4(X4);function uO(e,r){return function(){return e.apply(r,arguments)}}const{toString:K4}=Object.prototype,{getPrototypeOf:PL}=Object,{iterator:r0,toStringTag:cO}=Symbol,n0=(e=>r=>{const n=K4.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gu=e=>(e=e.toLowerCase(),r=>n0(r)===e),i0=e=>r=>typeof r===e,{isArray:um}=Array,im=i0("undefined");function Ag(e){return e!==null&&!im(e)&&e.constructor!==null&&!im(e.constructor)&&$s(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dO=gu("ArrayBuffer");function J4(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&dO(e.buffer),r}const Q4=i0("string"),$s=i0("function"),fO=i0("number"),Cg=e=>e!==null&&typeof e=="object",ez=e=>e===!0||e===!1,kb=e=>{if(n0(e)!=="object")return!1;const r=PL(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(cO in e)&&!(r0 in e)},tz=e=>{if(!Cg(e)||Ag(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rz=gu("Date"),nz=gu("File"),iz=gu("Blob"),oz=gu("FileList"),az=e=>Cg(e)&&$s(e.pipe),sz=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||$s(e.append)&&((r=n0(e))==="formdata"||r==="object"&&$s(e.toString)&&e.toString()==="[object FormData]"))},lz=gu("URLSearchParams"),[uz,cz,dz,fz]=["ReadableStream","Request","Response","Headers"].map(gu),hz=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dg(e,r,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let l,p;if(typeof e!="object"&&(e=[e]),um(e))for(l=0,p=e.length;l<p;l++)r.call(null,e[l],l,e);else{if(Ag(e))return;const h=n?Object.getOwnPropertyNames(e):Object.keys(e),c=h.length;let M;for(l=0;l<c;l++)M=h[l],r.call(null,e[M],M,e)}}function hO(e,r){if(Ag(e))return null;r=r.toLowerCase();const n=Object.keys(e);let l=n.length,p;for(;l-- >0;)if(p=n[l],r===p.toLowerCase())return p;return null}const ch=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:hg,pO=e=>!im(e)&&e!==ch;function qS(){const{caseless:e,skipUndefined:r}=pO(this)&&this||{},n={},l=(p,h)=>{const c=e&&hO(n,h)||h;kb(n[c])&&kb(p)?n[c]=qS(n[c],p):kb(p)?n[c]=qS({},p):um(p)?n[c]=p.slice():(!r||!im(p))&&(n[c]=p)};for(let p=0,h=arguments.length;p<h;p++)arguments[p]&&Dg(arguments[p],l);return n}const pz=(e,r,n,{allOwnKeys:l}={})=>(Dg(r,(p,h)=>{n&&$s(p)?e[h]=uO(p,n):e[h]=p},{allOwnKeys:l}),e),mz=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_z=(e,r,n,l)=>{e.prototype=Object.create(r.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),n&&Object.assign(e.prototype,n)},gz=(e,r,n,l)=>{let p,h,c;const M={};if(r=r||{},e==null)return r;do{for(p=Object.getOwnPropertyNames(e),h=p.length;h-- >0;)c=p[h],(!l||l(c,e,r))&&!M[c]&&(r[c]=e[c],M[c]=!0);e=n!==!1&&PL(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r},yz=(e,r,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;const l=e.indexOf(r,n);return l!==-1&&l===n},bz=e=>{if(!e)return null;if(um(e))return e;let r=e.length;if(!fO(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=e[r];return n},vz=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&PL(Uint8Array)),wz=(e,r)=>{const l=(e&&e[r0]).call(e);let p;for(;(p=l.next())&&!p.done;){const h=p.value;r.call(e,h[0],h[1])}},xz=(e,r)=>{let n;const l=[];for(;(n=e.exec(r))!==null;)l.push(n);return l},Mz=gu("HTMLFormElement"),Sz=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,l,p){return l.toUpperCase()+p}),eE=(({hasOwnProperty:e})=>(r,n)=>e.call(r,n))(Object.prototype),Lz=gu("RegExp"),mO=(e,r)=>{const n=Object.getOwnPropertyDescriptors(e),l={};Dg(n,(p,h)=>{let c;(c=r(p,h,e))!==!1&&(l[h]=c||p)}),Object.defineProperties(e,l)},Tz=e=>{mO(e,(r,n)=>{if($s(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const l=e[n];if($s(l)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ez=(e,r)=>{const n={},l=p=>{p.forEach(h=>{n[h]=!0})};return um(e)?l(e):l(String(e).split(r)),n},kz=()=>{},Az=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function Cz(e){return!!(e&&$s(e.append)&&e[cO]==="FormData"&&e[r0])}const Dz=e=>{const r=new Array(10),n=(l,p)=>{if(Cg(l)){if(r.indexOf(l)>=0)return;if(Ag(l))return l;if(!("toJSON"in l)){r[p]=l;const h=um(l)?[]:{};return Dg(l,(c,M)=>{const s=n(c,p+1);!im(s)&&(h[M]=s)}),r[p]=void 0,h}}return l};return n(e,0)},Iz=gu("AsyncFunction"),Pz=e=>e&&(Cg(e)||$s(e))&&$s(e.then)&&$s(e.catch),_O=((e,r)=>e?setImmediate:r?((n,l)=>(ch.addEventListener("message",({source:p,data:h})=>{p===ch&&h===n&&l.length&&l.shift()()},!1),p=>{l.push(p),ch.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$s(ch.postMessage)),Oz=typeof queueMicrotask<"u"?queueMicrotask.bind(ch):typeof Dx<"u"&&Dx.nextTick||_O,Rz=e=>e!=null&&$s(e[r0]),Yt={isArray:um,isArrayBuffer:dO,isBuffer:Ag,isFormData:sz,isArrayBufferView:J4,isString:Q4,isNumber:fO,isBoolean:ez,isObject:Cg,isPlainObject:kb,isEmptyObject:tz,isReadableStream:uz,isRequest:cz,isResponse:dz,isHeaders:fz,isUndefined:im,isDate:rz,isFile:nz,isBlob:iz,isRegExp:Lz,isFunction:$s,isStream:az,isURLSearchParams:lz,isTypedArray:vz,isFileList:oz,forEach:Dg,merge:qS,extend:pz,trim:hz,stripBOM:mz,inherits:_z,toFlatObject:gz,kindOf:n0,kindOfTest:gu,endsWith:yz,toArray:bz,forEachEntry:wz,matchAll:xz,isHTMLForm:Mz,hasOwnProperty:eE,hasOwnProp:eE,reduceDescriptors:mO,freezeMethods:Tz,toObjectSet:Ez,toCamelCase:Sz,noop:kz,toFiniteNumber:Az,findKey:hO,global:ch,isContextDefined:pO,isSpecCompliantForm:Cz,toJSONObject:Dz,isAsyncFn:Iz,isThenable:Pz,setImmediate:_O,asap:Oz,isIterable:Rz};var gO={},o0={};o0.byteLength=Yz;o0.toByteArray=jz;o0.fromByteArray=Uz;var nc=[],zl=[],Fz=typeof Uint8Array<"u"?Uint8Array:Array,vM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Vp=0,zz=vM.length;Vp<zz;++Vp)nc[Vp]=vM[Vp],zl[vM.charCodeAt(Vp)]=Vp;zl[45]=62;zl[95]=63;function yO(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=r);var l=n===r?0:4-n%4;return[n,l]}function Yz(e){var r=yO(e),n=r[0],l=r[1];return(n+l)*3/4-l}function Bz(e,r,n){return(r+n)*3/4-n}function jz(e){var r,n=yO(e),l=n[0],p=n[1],h=new Fz(Bz(e,l,p)),c=0,M=p>0?l-4:l,s;for(s=0;s<M;s+=4)r=zl[e.charCodeAt(s)]<<18|zl[e.charCodeAt(s+1)]<<12|zl[e.charCodeAt(s+2)]<<6|zl[e.charCodeAt(s+3)],h[c++]=r>>16&255,h[c++]=r>>8&255,h[c++]=r&255;return p===2&&(r=zl[e.charCodeAt(s)]<<2|zl[e.charCodeAt(s+1)]>>4,h[c++]=r&255),p===1&&(r=zl[e.charCodeAt(s)]<<10|zl[e.charCodeAt(s+1)]<<4|zl[e.charCodeAt(s+2)]>>2,h[c++]=r>>8&255,h[c++]=r&255),h}function $z(e){return nc[e>>18&63]+nc[e>>12&63]+nc[e>>6&63]+nc[e&63]}function Vz(e,r,n){for(var l,p=[],h=r;h<n;h+=3)l=(e[h]<<16&16711680)+(e[h+1]<<8&65280)+(e[h+2]&255),p.push($z(l));return p.join("")}function Uz(e){for(var r,n=e.length,l=n%3,p=[],h=16383,c=0,M=n-l;c<M;c+=h)p.push(Vz(e,c,c+h>M?M:c+h));return l===1?(r=e[n-1],p.push(nc[r>>2]+nc[r<<4&63]+"==")):l===2&&(r=(e[n-2]<<8)+e[n-1],p.push(nc[r>>10]+nc[r>>4&63]+nc[r<<2&63]+"=")),p.join("")}var OL={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */OL.read=function(e,r,n,l,p){var h,c,M=p*8-l-1,s=(1<<M)-1,E=s>>1,k=-7,R=n?p-1:0,F=n?-1:1,C=e[r+R];for(R+=F,h=C&(1<<-k)-1,C>>=-k,k+=M;k>0;h=h*256+e[r+R],R+=F,k-=8);for(c=h&(1<<-k)-1,h>>=-k,k+=l;k>0;c=c*256+e[r+R],R+=F,k-=8);if(h===0)h=1-E;else{if(h===s)return c?NaN:(C?-1:1)*(1/0);c=c+Math.pow(2,l),h=h-E}return(C?-1:1)*c*Math.pow(2,h-l)};OL.write=function(e,r,n,l,p,h){var c,M,s,E=h*8-p-1,k=(1<<E)-1,R=k>>1,F=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=l?0:h-1,B=l?1:-1,G=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(M=isNaN(r)?1:0,c=k):(c=Math.floor(Math.log(r)/Math.LN2),r*(s=Math.pow(2,-c))<1&&(c--,s*=2),c+R>=1?r+=F/s:r+=F*Math.pow(2,1-R),r*s>=2&&(c++,s/=2),c+R>=k?(M=0,c=k):c+R>=1?(M=(r*s-1)*Math.pow(2,p),c=c+R):(M=r*Math.pow(2,R-1)*Math.pow(2,p),c=0));p>=8;e[n+C]=M&255,C+=B,M/=256,p-=8);for(c=c<<p|M,E+=p;E>0;e[n+C]=c&255,C+=B,c/=256,E-=8);e[n+C-B]|=G*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const r=o0,n=OL,l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=k,e.SlowBuffer=Me,e.INSPECT_MAX_BYTES=50;const p=2147483647;e.kMaxLength=p;const{Uint8Array:h,ArrayBuffer:c,SharedArrayBuffer:M}=globalThis;k.TYPED_ARRAY_SUPPORT=s(),!k.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const ae=new h(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,h.prototype),Object.setPrototypeOf(ae,$),ae.foo()===42}catch{return!1}}Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});function E(ae){if(ae>p)throw new RangeError('The value "'+ae+'" is invalid for option "size"');const $=new h(ae);return Object.setPrototypeOf($,k.prototype),$}function k(ae,$,q){if(typeof ae=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(ae)}return R(ae,$,q)}k.poolSize=8192;function R(ae,$,q){if(typeof ae=="string")return G(ae,$);if(c.isView(ae))return K(ae);if(ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae);if(zr(ae,c)||ae&&zr(ae.buffer,c)||typeof M<"u"&&(zr(ae,M)||ae&&zr(ae.buffer,M)))return te(ae,$,q);if(typeof ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Te=ae.valueOf&&ae.valueOf();if(Te!=null&&Te!==ae)return k.from(Te,$,q);const Ze=se(ae);if(Ze)return Ze;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ae[Symbol.toPrimitive]=="function")return k.from(ae[Symbol.toPrimitive]("string"),$,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae)}k.from=function(ae,$,q){return R(ae,$,q)},Object.setPrototypeOf(k.prototype,h.prototype),Object.setPrototypeOf(k,h);function F(ae){if(typeof ae!="number")throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function C(ae,$,q){return F(ae),ae<=0?E(ae):$!==void 0?typeof q=="string"?E(ae).fill($,q):E(ae).fill($):E(ae)}k.alloc=function(ae,$,q){return C(ae,$,q)};function B(ae){return F(ae),E(ae<0?0:_e(ae)|0)}k.allocUnsafe=function(ae){return B(ae)},k.allocUnsafeSlow=function(ae){return B(ae)};function G(ae,$){if((typeof $!="string"||$==="")&&($="utf8"),!k.isEncoding($))throw new TypeError("Unknown encoding: "+$);const q=he(ae,$)|0;let Te=E(q);const Ze=Te.write(ae,$);return Ze!==q&&(Te=Te.slice(0,Ze)),Te}function Z(ae){const $=ae.length<0?0:_e(ae.length)|0,q=E($);for(let Te=0;Te<$;Te+=1)q[Te]=ae[Te]&255;return q}function K(ae){if(zr(ae,h)){const $=new h(ae);return te($.buffer,$.byteOffset,$.byteLength)}return Z(ae)}function te(ae,$,q){if($<0||ae.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<$+(q||0))throw new RangeError('"length" is outside of buffer bounds');let Te;return $===void 0&&q===void 0?Te=new h(ae):q===void 0?Te=new h(ae,$):Te=new h(ae,$,q),Object.setPrototypeOf(Te,k.prototype),Te}function se(ae){if(k.isBuffer(ae)){const $=_e(ae.length)|0,q=E($);return q.length===0||ae.copy(q,0,0,$),q}if(ae.length!==void 0)return typeof ae.length!="number"||tt(ae.length)?E(0):Z(ae);if(ae.type==="Buffer"&&Array.isArray(ae.data))return Z(ae.data)}function _e(ae){if(ae>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return ae|0}function Me(ae){return+ae!=ae&&(ae=0),k.alloc(+ae)}k.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==k.prototype},k.compare=function($,q){if(zr($,h)&&($=k.from($,$.offset,$.byteLength)),zr(q,h)&&(q=k.from(q,q.offset,q.byteLength)),!k.isBuffer($)||!k.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===q)return 0;let Te=$.length,Ze=q.length;for(let ht=0,ke=Math.min(Te,Ze);ht<ke;++ht)if($[ht]!==q[ht]){Te=$[ht],Ze=q[ht];break}return Te<Ze?-1:Ze<Te?1:0},k.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function($,q){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return k.alloc(0);let Te;if(q===void 0)for(q=0,Te=0;Te<$.length;++Te)q+=$[Te].length;const Ze=k.allocUnsafe(q);let ht=0;for(Te=0;Te<$.length;++Te){let ke=$[Te];if(zr(ke,h))ht+ke.length>Ze.length?(k.isBuffer(ke)||(ke=k.from(ke)),ke.copy(Ze,ht)):h.prototype.set.call(Ze,ke,ht);else if(k.isBuffer(ke))ke.copy(Ze,ht);else throw new TypeError('"list" argument must be an Array of Buffers');ht+=ke.length}return Ze};function he(ae,$){if(k.isBuffer(ae))return ae.length;if(c.isView(ae)||zr(ae,c))return ae.byteLength;if(typeof ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ae);const q=ae.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&q===0)return 0;let Ze=!1;for(;;)switch($){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return ar(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return lr(ae).length;default:if(Ze)return Te?-1:ar(ae).length;$=(""+$).toLowerCase(),Ze=!0}}k.byteLength=he;function Ge(ae,$,q){let Te=!1;if(($===void 0||$<0)&&($=0),$>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,$>>>=0,q<=$))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return Er(this,$,q);case"utf8":case"utf-8":return dt(this,$,q);case"ascii":return Sr(this,$,q);case"latin1":case"binary":return pr(this,$,q);case"base64":return ot(this,$,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pn(this,$,q);default:if(Te)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),Te=!0}}k.prototype._isBuffer=!0;function st(ae,$,q){const Te=ae[$];ae[$]=ae[q],ae[q]=Te}k.prototype.swap16=function(){const $=this.length;if($%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<$;q+=2)st(this,q,q+1);return this},k.prototype.swap32=function(){const $=this.length;if($%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<$;q+=4)st(this,q,q+3),st(this,q+1,q+2);return this},k.prototype.swap64=function(){const $=this.length;if($%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<$;q+=8)st(this,q,q+7),st(this,q+1,q+6),st(this,q+2,q+5),st(this,q+3,q+4);return this},k.prototype.toString=function(){const $=this.length;return $===0?"":arguments.length===0?dt(this,0,$):Ge.apply(this,arguments)},k.prototype.toLocaleString=k.prototype.toString,k.prototype.equals=function($){if(!k.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$?!0:k.compare(this,$)===0},k.prototype.inspect=function(){let $="";const q=e.INSPECT_MAX_BYTES;return $=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&($+=" ... "),"<Buffer "+$+">"},l&&(k.prototype[l]=k.prototype.inspect),k.prototype.compare=function($,q,Te,Ze,ht){if(zr($,h)&&($=k.from($,$.offset,$.byteLength)),!k.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(q===void 0&&(q=0),Te===void 0&&(Te=$?$.length:0),Ze===void 0&&(Ze=0),ht===void 0&&(ht=this.length),q<0||Te>$.length||Ze<0||ht>this.length)throw new RangeError("out of range index");if(Ze>=ht&&q>=Te)return 0;if(Ze>=ht)return-1;if(q>=Te)return 1;if(q>>>=0,Te>>>=0,Ze>>>=0,ht>>>=0,this===$)return 0;let ke=ht-Ze,Qe=Te-q;const Wr=Math.min(ke,Qe),Xr=this.slice(Ze,ht),nn=$.slice(q,Te);for(let Ar=0;Ar<Wr;++Ar)if(Xr[Ar]!==nn[Ar]){ke=Xr[Ar],Qe=nn[Ar];break}return ke<Qe?-1:Qe<ke?1:0};function Ne(ae,$,q,Te,Ze){if(ae.length===0)return-1;if(typeof q=="string"?(Te=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,tt(q)&&(q=Ze?0:ae.length-1),q<0&&(q=ae.length+q),q>=ae.length){if(Ze)return-1;q=ae.length-1}else if(q<0)if(Ze)q=0;else return-1;if(typeof $=="string"&&($=k.from($,Te)),k.isBuffer($))return $.length===0?-1:Re(ae,$,q,Te,Ze);if(typeof $=="number")return $=$&255,typeof h.prototype.indexOf=="function"?Ze?h.prototype.indexOf.call(ae,$,q):h.prototype.lastIndexOf.call(ae,$,q):Re(ae,[$],q,Te,Ze);throw new TypeError("val must be string, number or Buffer")}function Re(ae,$,q,Te,Ze){let ht=1,ke=ae.length,Qe=$.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(ae.length<2||$.length<2)return-1;ht=2,ke/=2,Qe/=2,q/=2}function Wr(nn,Ar){return ht===1?nn[Ar]:nn.readUInt16BE(Ar*ht)}let Xr;if(Ze){let nn=-1;for(Xr=q;Xr<ke;Xr++)if(Wr(ae,Xr)===Wr($,nn===-1?0:Xr-nn)){if(nn===-1&&(nn=Xr),Xr-nn+1===Qe)return nn*ht}else nn!==-1&&(Xr-=Xr-nn),nn=-1}else for(q+Qe>ke&&(q=ke-Qe),Xr=q;Xr>=0;Xr--){let nn=!0;for(let Ar=0;Ar<Qe;Ar++)if(Wr(ae,Xr+Ar)!==Wr($,Ar)){nn=!1;break}if(nn)return Xr}return-1}k.prototype.includes=function($,q,Te){return this.indexOf($,q,Te)!==-1},k.prototype.indexOf=function($,q,Te){return Ne(this,$,q,Te,!0)},k.prototype.lastIndexOf=function($,q,Te){return Ne(this,$,q,Te,!1)};function ut(ae,$,q,Te){q=Number(q)||0;const Ze=ae.length-q;Te?(Te=Number(Te),Te>Ze&&(Te=Ze)):Te=Ze;const ht=$.length;Te>ht/2&&(Te=ht/2);let ke;for(ke=0;ke<Te;++ke){const Qe=parseInt($.substr(ke*2,2),16);if(tt(Qe))return ke;ae[q+ke]=Qe}return ke}function Ke(ae,$,q,Te){return Ir(ar($,ae.length-q),ae,q,Te)}function gt(ae,$,q,Te){return Ir(Ut($),ae,q,Te)}function mt(ae,$,q,Te){return Ir(lr($),ae,q,Te)}function Lt(ae,$,q,Te){return Ir(jr($,ae.length-q),ae,q,Te)}k.prototype.write=function($,q,Te,Ze){if(q===void 0)Ze="utf8",Te=this.length,q=0;else if(Te===void 0&&typeof q=="string")Ze=q,Te=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(Te)?(Te=Te>>>0,Ze===void 0&&(Ze="utf8")):(Ze=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ht=this.length-q;if((Te===void 0||Te>ht)&&(Te=ht),$.length>0&&(Te<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ze||(Ze="utf8");let ke=!1;for(;;)switch(Ze){case"hex":return ut(this,$,q,Te);case"utf8":case"utf-8":return Ke(this,$,q,Te);case"ascii":case"latin1":case"binary":return gt(this,$,q,Te);case"base64":return mt(this,$,q,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt(this,$,q,Te);default:if(ke)throw new TypeError("Unknown encoding: "+Ze);Ze=(""+Ze).toLowerCase(),ke=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ot(ae,$,q){return $===0&&q===ae.length?r.fromByteArray(ae):r.fromByteArray(ae.slice($,q))}function dt(ae,$,q){q=Math.min(ae.length,q);const Te=[];let Ze=$;for(;Ze<q;){const ht=ae[Ze];let ke=null,Qe=ht>239?4:ht>223?3:ht>191?2:1;if(Ze+Qe<=q){let Wr,Xr,nn,Ar;switch(Qe){case 1:ht<128&&(ke=ht);break;case 2:Wr=ae[Ze+1],(Wr&192)===128&&(Ar=(ht&31)<<6|Wr&63,Ar>127&&(ke=Ar));break;case 3:Wr=ae[Ze+1],Xr=ae[Ze+2],(Wr&192)===128&&(Xr&192)===128&&(Ar=(ht&15)<<12|(Wr&63)<<6|Xr&63,Ar>2047&&(Ar<55296||Ar>57343)&&(ke=Ar));break;case 4:Wr=ae[Ze+1],Xr=ae[Ze+2],nn=ae[Ze+3],(Wr&192)===128&&(Xr&192)===128&&(nn&192)===128&&(Ar=(ht&15)<<18|(Wr&63)<<12|(Xr&63)<<6|nn&63,Ar>65535&&Ar<1114112&&(ke=Ar))}}ke===null?(ke=65533,Qe=1):ke>65535&&(ke-=65536,Te.push(ke>>>10&1023|55296),ke=56320|ke&1023),Te.push(ke),Ze+=Qe}return nr(Te)}const vt=4096;function nr(ae){const $=ae.length;if($<=vt)return String.fromCharCode.apply(String,ae);let q="",Te=0;for(;Te<$;)q+=String.fromCharCode.apply(String,ae.slice(Te,Te+=vt));return q}function Sr(ae,$,q){let Te="";q=Math.min(ae.length,q);for(let Ze=$;Ze<q;++Ze)Te+=String.fromCharCode(ae[Ze]&127);return Te}function pr(ae,$,q){let Te="";q=Math.min(ae.length,q);for(let Ze=$;Ze<q;++Ze)Te+=String.fromCharCode(ae[Ze]);return Te}function Er(ae,$,q){const Te=ae.length;(!$||$<0)&&($=0),(!q||q<0||q>Te)&&(q=Te);let Ze="";for(let ht=$;ht<q;++ht)Ze+=vr[ae[ht]];return Ze}function pn(ae,$,q){const Te=ae.slice($,q);let Ze="";for(let ht=0;ht<Te.length-1;ht+=2)Ze+=String.fromCharCode(Te[ht]+Te[ht+1]*256);return Ze}k.prototype.slice=function($,q){const Te=this.length;$=~~$,q=q===void 0?Te:~~q,$<0?($+=Te,$<0&&($=0)):$>Te&&($=Te),q<0?(q+=Te,q<0&&(q=0)):q>Te&&(q=Te),q<$&&(q=$);const Ze=this.subarray($,q);return Object.setPrototypeOf(Ze,k.prototype),Ze};function qr(ae,$,q){if(ae%1!==0||ae<0)throw new RangeError("offset is not uint");if(ae+$>q)throw new RangeError("Trying to access beyond buffer length")}k.prototype.readUintLE=k.prototype.readUIntLE=function($,q,Te){$=$>>>0,q=q>>>0,Te||qr($,q,this.length);let Ze=this[$],ht=1,ke=0;for(;++ke<q&&(ht*=256);)Ze+=this[$+ke]*ht;return Ze},k.prototype.readUintBE=k.prototype.readUIntBE=function($,q,Te){$=$>>>0,q=q>>>0,Te||qr($,q,this.length);let Ze=this[$+--q],ht=1;for(;q>0&&(ht*=256);)Ze+=this[$+--q]*ht;return Ze},k.prototype.readUint8=k.prototype.readUInt8=function($,q){return $=$>>>0,q||qr($,1,this.length),this[$]},k.prototype.readUint16LE=k.prototype.readUInt16LE=function($,q){return $=$>>>0,q||qr($,2,this.length),this[$]|this[$+1]<<8},k.prototype.readUint16BE=k.prototype.readUInt16BE=function($,q){return $=$>>>0,q||qr($,2,this.length),this[$]<<8|this[$+1]},k.prototype.readUint32LE=k.prototype.readUInt32LE=function($,q){return $=$>>>0,q||qr($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216},k.prototype.readUint32BE=k.prototype.readUInt32BE=function($,q){return $=$>>>0,q||qr($,4,this.length),this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])},k.prototype.readBigUInt64LE=rn(function($){$=$>>>0,Dt($,"offset");const q=this[$],Te=this[$+7];(q===void 0||Te===void 0)&&At($,this.length-8);const Ze=q+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24,ht=this[++$]+this[++$]*2**8+this[++$]*2**16+Te*2**24;return BigInt(Ze)+(BigInt(ht)<<BigInt(32))}),k.prototype.readBigUInt64BE=rn(function($){$=$>>>0,Dt($,"offset");const q=this[$],Te=this[$+7];(q===void 0||Te===void 0)&&At($,this.length-8);const Ze=q*2**24+this[++$]*2**16+this[++$]*2**8+this[++$],ht=this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+Te;return(BigInt(Ze)<<BigInt(32))+BigInt(ht)}),k.prototype.readIntLE=function($,q,Te){$=$>>>0,q=q>>>0,Te||qr($,q,this.length);let Ze=this[$],ht=1,ke=0;for(;++ke<q&&(ht*=256);)Ze+=this[$+ke]*ht;return ht*=128,Ze>=ht&&(Ze-=Math.pow(2,8*q)),Ze},k.prototype.readIntBE=function($,q,Te){$=$>>>0,q=q>>>0,Te||qr($,q,this.length);let Ze=q,ht=1,ke=this[$+--Ze];for(;Ze>0&&(ht*=256);)ke+=this[$+--Ze]*ht;return ht*=128,ke>=ht&&(ke-=Math.pow(2,8*q)),ke},k.prototype.readInt8=function($,q){return $=$>>>0,q||qr($,1,this.length),this[$]&128?(255-this[$]+1)*-1:this[$]},k.prototype.readInt16LE=function($,q){$=$>>>0,q||qr($,2,this.length);const Te=this[$]|this[$+1]<<8;return Te&32768?Te|4294901760:Te},k.prototype.readInt16BE=function($,q){$=$>>>0,q||qr($,2,this.length);const Te=this[$+1]|this[$]<<8;return Te&32768?Te|4294901760:Te},k.prototype.readInt32LE=function($,q){return $=$>>>0,q||qr($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},k.prototype.readInt32BE=function($,q){return $=$>>>0,q||qr($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},k.prototype.readBigInt64LE=rn(function($){$=$>>>0,Dt($,"offset");const q=this[$],Te=this[$+7];(q===void 0||Te===void 0)&&At($,this.length-8);const Ze=this[$+4]+this[$+5]*2**8+this[$+6]*2**16+(Te<<24);return(BigInt(Ze)<<BigInt(32))+BigInt(q+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24)}),k.prototype.readBigInt64BE=rn(function($){$=$>>>0,Dt($,"offset");const q=this[$],Te=this[$+7];(q===void 0||Te===void 0)&&At($,this.length-8);const Ze=(q<<24)+this[++$]*2**16+this[++$]*2**8+this[++$];return(BigInt(Ze)<<BigInt(32))+BigInt(this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+Te)}),k.prototype.readFloatLE=function($,q){return $=$>>>0,q||qr($,4,this.length),n.read(this,$,!0,23,4)},k.prototype.readFloatBE=function($,q){return $=$>>>0,q||qr($,4,this.length),n.read(this,$,!1,23,4)},k.prototype.readDoubleLE=function($,q){return $=$>>>0,q||qr($,8,this.length),n.read(this,$,!0,52,8)},k.prototype.readDoubleBE=function($,q){return $=$>>>0,q||qr($,8,this.length),n.read(this,$,!1,52,8)};function Gr(ae,$,q,Te,Ze,ht){if(!k.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if($>Ze||$<ht)throw new RangeError('"value" argument is out of bounds');if(q+Te>ae.length)throw new RangeError("Index out of range")}k.prototype.writeUintLE=k.prototype.writeUIntLE=function($,q,Te,Ze){if($=+$,q=q>>>0,Te=Te>>>0,!Ze){const Qe=Math.pow(2,8*Te)-1;Gr(this,$,q,Te,Qe,0)}let ht=1,ke=0;for(this[q]=$&255;++ke<Te&&(ht*=256);)this[q+ke]=$/ht&255;return q+Te},k.prototype.writeUintBE=k.prototype.writeUIntBE=function($,q,Te,Ze){if($=+$,q=q>>>0,Te=Te>>>0,!Ze){const Qe=Math.pow(2,8*Te)-1;Gr(this,$,q,Te,Qe,0)}let ht=Te-1,ke=1;for(this[q+ht]=$&255;--ht>=0&&(ke*=256);)this[q+ht]=$/ke&255;return q+Te},k.prototype.writeUint8=k.prototype.writeUInt8=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,1,255,0),this[q]=$&255,q+1},k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,2,65535,0),this[q]=$&255,this[q+1]=$>>>8,q+2},k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,2,65535,0),this[q]=$>>>8,this[q+1]=$&255,q+2},k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,4,4294967295,0),this[q+3]=$>>>24,this[q+2]=$>>>16,this[q+1]=$>>>8,this[q]=$&255,q+4},k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,4,4294967295,0),this[q]=$>>>24,this[q+1]=$>>>16,this[q+2]=$>>>8,this[q+3]=$&255,q+4};function Nr(ae,$,q,Te,Ze){at($,Te,Ze,ae,q,7);let ht=Number($&BigInt(4294967295));ae[q++]=ht,ht=ht>>8,ae[q++]=ht,ht=ht>>8,ae[q++]=ht,ht=ht>>8,ae[q++]=ht;let ke=Number($>>BigInt(32)&BigInt(4294967295));return ae[q++]=ke,ke=ke>>8,ae[q++]=ke,ke=ke>>8,ae[q++]=ke,ke=ke>>8,ae[q++]=ke,q}function xt(ae,$,q,Te,Ze){at($,Te,Ze,ae,q,7);let ht=Number($&BigInt(4294967295));ae[q+7]=ht,ht=ht>>8,ae[q+6]=ht,ht=ht>>8,ae[q+5]=ht,ht=ht>>8,ae[q+4]=ht;let ke=Number($>>BigInt(32)&BigInt(4294967295));return ae[q+3]=ke,ke=ke>>8,ae[q+2]=ke,ke=ke>>8,ae[q+1]=ke,ke=ke>>8,ae[q]=ke,q+8}k.prototype.writeBigUInt64LE=rn(function($,q=0){return Nr(this,$,q,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeBigUInt64BE=rn(function($,q=0){return xt(this,$,q,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeIntLE=function($,q,Te,Ze){if($=+$,q=q>>>0,!Ze){const Wr=Math.pow(2,8*Te-1);Gr(this,$,q,Te,Wr-1,-Wr)}let ht=0,ke=1,Qe=0;for(this[q]=$&255;++ht<Te&&(ke*=256);)$<0&&Qe===0&&this[q+ht-1]!==0&&(Qe=1),this[q+ht]=($/ke>>0)-Qe&255;return q+Te},k.prototype.writeIntBE=function($,q,Te,Ze){if($=+$,q=q>>>0,!Ze){const Wr=Math.pow(2,8*Te-1);Gr(this,$,q,Te,Wr-1,-Wr)}let ht=Te-1,ke=1,Qe=0;for(this[q+ht]=$&255;--ht>=0&&(ke*=256);)$<0&&Qe===0&&this[q+ht+1]!==0&&(Qe=1),this[q+ht]=($/ke>>0)-Qe&255;return q+Te},k.prototype.writeInt8=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,1,127,-128),$<0&&($=255+$+1),this[q]=$&255,q+1},k.prototype.writeInt16LE=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,2,32767,-32768),this[q]=$&255,this[q+1]=$>>>8,q+2},k.prototype.writeInt16BE=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,2,32767,-32768),this[q]=$>>>8,this[q+1]=$&255,q+2},k.prototype.writeInt32LE=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,4,2147483647,-2147483648),this[q]=$&255,this[q+1]=$>>>8,this[q+2]=$>>>16,this[q+3]=$>>>24,q+4},k.prototype.writeInt32BE=function($,q,Te){return $=+$,q=q>>>0,Te||Gr(this,$,q,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[q]=$>>>24,this[q+1]=$>>>16,this[q+2]=$>>>8,this[q+3]=$&255,q+4},k.prototype.writeBigInt64LE=rn(function($,q=0){return Nr(this,$,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeBigInt64BE=rn(function($,q=0){return xt(this,$,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qt(ae,$,q,Te,Ze,ht){if(q+Te>ae.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function It(ae,$,q,Te,Ze){return $=+$,q=q>>>0,Ze||qt(ae,$,q,4),n.write(ae,$,q,Te,23,4),q+4}k.prototype.writeFloatLE=function($,q,Te){return It(this,$,q,!0,Te)},k.prototype.writeFloatBE=function($,q,Te){return It(this,$,q,!1,Te)};function Nt(ae,$,q,Te,Ze){return $=+$,q=q>>>0,Ze||qt(ae,$,q,8),n.write(ae,$,q,Te,52,8),q+8}k.prototype.writeDoubleLE=function($,q,Te){return Nt(this,$,q,!0,Te)},k.prototype.writeDoubleBE=function($,q,Te){return Nt(this,$,q,!1,Te)},k.prototype.copy=function($,q,Te,Ze){if(!k.isBuffer($))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!Ze&&Ze!==0&&(Ze=this.length),q>=$.length&&(q=$.length),q||(q=0),Ze>0&&Ze<Te&&(Ze=Te),Ze===Te||$.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(Ze<0)throw new RangeError("sourceEnd out of bounds");Ze>this.length&&(Ze=this.length),$.length-q<Ze-Te&&(Ze=$.length-q+Te);const ht=Ze-Te;return this===$&&typeof h.prototype.copyWithin=="function"?this.copyWithin(q,Te,Ze):h.prototype.set.call($,this.subarray(Te,Ze),q),ht},k.prototype.fill=function($,q,Te,Ze){if(typeof $=="string"){if(typeof q=="string"?(Ze=q,q=0,Te=this.length):typeof Te=="string"&&(Ze=Te,Te=this.length),Ze!==void 0&&typeof Ze!="string")throw new TypeError("encoding must be a string");if(typeof Ze=="string"&&!k.isEncoding(Ze))throw new TypeError("Unknown encoding: "+Ze);if($.length===1){const ke=$.charCodeAt(0);(Ze==="utf8"&&ke<128||Ze==="latin1")&&($=ke)}}else typeof $=="number"?$=$&255:typeof $=="boolean"&&($=Number($));if(q<0||this.length<q||this.length<Te)throw new RangeError("Out of range index");if(Te<=q)return this;q=q>>>0,Te=Te===void 0?this.length:Te>>>0,$||($=0);let ht;if(typeof $=="number")for(ht=q;ht<Te;++ht)this[ht]=$;else{const ke=k.isBuffer($)?$:k.from($,Ze),Qe=ke.length;if(Qe===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(ht=0;ht<Te-q;++ht)this[ht+q]=ke[ht%Qe]}return this};const _r={};function Se(ae,$,q){_r[ae]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:$.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ae}]`,this.stack,delete this.name}get code(){return ae}set code(Ze){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ze,writable:!0})}toString(){return`${this.name} [${ae}]: ${this.message}`}}}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(ae){return ae?`${ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(ae,$){return`The "${ae}" argument must be of type number. Received type ${typeof $}`},TypeError),Se("ERR_OUT_OF_RANGE",function(ae,$,q){let Te=`The value of "${ae}" is out of range.`,Ze=q;return Number.isInteger(q)&&Math.abs(q)>2**32?Ze=Ce(String(q)):typeof q=="bigint"&&(Ze=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(Ze=Ce(Ze)),Ze+="n"),Te+=` It must be ${$}. Received ${Ze}`,Te},RangeError);function Ce(ae){let $="",q=ae.length;const Te=ae[0]==="-"?1:0;for(;q>=Te+4;q-=3)$=`_${ae.slice(q-3,q)}${$}`;return`${ae.slice(0,q)}${$}`}function He(ae,$,q){Dt($,"offset"),(ae[$]===void 0||ae[$+q]===void 0)&&At($,ae.length-(q+1))}function at(ae,$,q,Te,Ze,ht){if(ae>q||ae<$){const ke=typeof $=="bigint"?"n":"";let Qe;throw $===0||$===BigInt(0)?Qe=`>= 0${ke} and < 2${ke} ** ${(ht+1)*8}${ke}`:Qe=`>= -(2${ke} ** ${(ht+1)*8-1}${ke}) and < 2 ** ${(ht+1)*8-1}${ke}`,new _r.ERR_OUT_OF_RANGE("value",Qe,ae)}He(Te,Ze,ht)}function Dt(ae,$){if(typeof ae!="number")throw new _r.ERR_INVALID_ARG_TYPE($,"number",ae)}function At(ae,$,q){throw Math.floor(ae)!==ae?(Dt(ae,q),new _r.ERR_OUT_OF_RANGE("offset","an integer",ae)):$<0?new _r.ERR_BUFFER_OUT_OF_BOUNDS:new _r.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${$}`,ae)}const sr=/[^+/0-9A-Za-z-_]/g;function mr(ae){if(ae=ae.split("=")[0],ae=ae.trim().replace(sr,""),ae.length<2)return"";for(;ae.length%4!==0;)ae=ae+"=";return ae}function ar(ae,$){$=$||1/0;let q;const Te=ae.length;let Ze=null;const ht=[];for(let ke=0;ke<Te;++ke){if(q=ae.charCodeAt(ke),q>55295&&q<57344){if(!Ze){if(q>56319){($-=3)>-1&&ht.push(239,191,189);continue}else if(ke+1===Te){($-=3)>-1&&ht.push(239,191,189);continue}Ze=q;continue}if(q<56320){($-=3)>-1&&ht.push(239,191,189),Ze=q;continue}q=(Ze-55296<<10|q-56320)+65536}else Ze&&($-=3)>-1&&ht.push(239,191,189);if(Ze=null,q<128){if(($-=1)<0)break;ht.push(q)}else if(q<2048){if(($-=2)<0)break;ht.push(q>>6|192,q&63|128)}else if(q<65536){if(($-=3)<0)break;ht.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if(($-=4)<0)break;ht.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return ht}function Ut(ae){const $=[];for(let q=0;q<ae.length;++q)$.push(ae.charCodeAt(q)&255);return $}function jr(ae,$){let q,Te,Ze;const ht=[];for(let ke=0;ke<ae.length&&!(($-=2)<0);++ke)q=ae.charCodeAt(ke),Te=q>>8,Ze=q%256,ht.push(Ze),ht.push(Te);return ht}function lr(ae){return r.toByteArray(mr(ae))}function Ir(ae,$,q,Te){let Ze;for(Ze=0;Ze<Te&&!(Ze+q>=$.length||Ze>=ae.length);++Ze)$[Ze+q]=ae[Ze];return Ze}function zr(ae,$){return ae instanceof $||ae!=null&&ae.constructor!=null&&ae.constructor.name!=null&&ae.constructor.name===$.name}function tt(ae){return ae!==ae}const vr=(function(){const ae="0123456789abcdef",$=new Array(256);for(let q=0;q<16;++q){const Te=q*16;for(let Ze=0;Ze<16;++Ze)$[Te+Ze]=ae[q]+ae[Ze]}return $})();function rn(ae){return typeof BigInt>"u"?Qn:ae}function Qn(){throw new Error("BigInt not supported")}})(gO);const bO=gO.Buffer;function qn(e,r,n,l,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),l&&(this.request=l),p&&(this.response=p,this.status=p.status?p.status:null)}Yt.inherits(qn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Yt.toJSONObject(this.config),code:this.code,status:this.status}}});const vO=qn.prototype,wO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wO[e]={value:e}});Object.defineProperties(qn,wO);Object.defineProperty(vO,"isAxiosError",{value:!0});qn.from=(e,r,n,l,p,h)=>{const c=Object.create(vO);Yt.toFlatObject(e,c,function(k){return k!==Error.prototype},E=>E!=="isAxiosError");const M=e&&e.message?e.message:"Error",s=r==null&&e?e.code:r;return qn.call(c,M,s,n,l,p),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",h&&Object.assign(c,h),c};const Nz=null;function GS(e){return Yt.isPlainObject(e)||Yt.isArray(e)}function xO(e){return Yt.endsWith(e,"[]")?e.slice(0,-2):e}function tE(e,r,n){return e?e.concat(r).map(function(p,h){return p=xO(p),!n&&h?"["+p+"]":p}).join(n?".":""):r}function Hz(e){return Yt.isArray(e)&&!e.some(GS)}const qz=Yt.toFlatObject(Yt,{},null,function(r){return/^is[A-Z]/.test(r)});function a0(e,r,n){if(!Yt.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,n=Yt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(G,Z){return!Yt.isUndefined(Z[G])});const l=n.metaTokens,p=n.visitor||k,h=n.dots,c=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&Yt.isSpecCompliantForm(r);if(!Yt.isFunction(p))throw new TypeError("visitor must be a function");function E(B){if(B===null)return"";if(Yt.isDate(B))return B.toISOString();if(Yt.isBoolean(B))return B.toString();if(!s&&Yt.isBlob(B))throw new qn("Blob is not supported. Use a Buffer instead.");return Yt.isArrayBuffer(B)||Yt.isTypedArray(B)?s&&typeof Blob=="function"?new Blob([B]):bO.from(B):B}function k(B,G,Z){let K=B;if(B&&!Z&&typeof B=="object"){if(Yt.endsWith(G,"{}"))G=l?G:G.slice(0,-2),B=JSON.stringify(B);else if(Yt.isArray(B)&&Hz(B)||(Yt.isFileList(B)||Yt.endsWith(G,"[]"))&&(K=Yt.toArray(B)))return G=xO(G),K.forEach(function(se,_e){!(Yt.isUndefined(se)||se===null)&&r.append(c===!0?tE([G],_e,h):c===null?G:G+"[]",E(se))}),!1}return GS(B)?!0:(r.append(tE(Z,G,h),E(B)),!1)}const R=[],F=Object.assign(qz,{defaultVisitor:k,convertValue:E,isVisitable:GS});function C(B,G){if(!Yt.isUndefined(B)){if(R.indexOf(B)!==-1)throw Error("Circular reference detected in "+G.join("."));R.push(B),Yt.forEach(B,function(K,te){(!(Yt.isUndefined(K)||K===null)&&p.call(r,K,Yt.isString(te)?te.trim():te,G,F))===!0&&C(K,G?G.concat(te):[te])}),R.pop()}}if(!Yt.isObject(e))throw new TypeError("data must be an object");return C(e),r}function rE(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return r[l]})}function RL(e,r){this._pairs=[],e&&a0(e,this,r)}const MO=RL.prototype;MO.append=function(r,n){this._pairs.push([r,n])};MO.toString=function(r){const n=r?function(l){return r.call(this,l,rE)}:rE;return this._pairs.map(function(p){return n(p[0])+"="+n(p[1])},"").join("&")};function Gz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function SO(e,r,n){if(!r)return e;const l=n&&n.encode||Gz;Yt.isFunction(n)&&(n={serialize:n});const p=n&&n.serialize;let h;if(p?h=p(r,n):h=Yt.isURLSearchParams(r)?r.toString():new RL(r,n).toString(l),h){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class nE{constructor(){this.handlers=[]}use(r,n,l){return this.handlers.push({fulfilled:r,rejected:n,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Yt.forEach(this.handlers,function(l){l!==null&&r(l)})}}const LO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wz=typeof URLSearchParams<"u"?URLSearchParams:RL,Zz=typeof FormData<"u"?FormData:null,Xz=typeof Blob<"u"?Blob:null,Kz={isBrowser:!0,classes:{URLSearchParams:Wz,FormData:Zz,Blob:Xz},protocols:["http","https","file","blob","url","data"]},FL=typeof window<"u"&&typeof document<"u",WS=typeof navigator=="object"&&navigator||void 0,Jz=FL&&(!WS||["ReactNative","NativeScript","NS"].indexOf(WS.product)<0),Qz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eY=FL&&window.location.href||"http://localhost",tY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FL,hasStandardBrowserEnv:Jz,hasStandardBrowserWebWorkerEnv:Qz,navigator:WS,origin:eY},Symbol.toStringTag,{value:"Module"})),Ka={...tY,...Kz};function rY(e,r){return a0(e,new Ka.classes.URLSearchParams,{visitor:function(n,l,p,h){return Ka.isNode&&Yt.isBuffer(n)?(this.append(l,n.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...r})}function nY(e){return Yt.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function iY(e){const r={},n=Object.keys(e);let l;const p=n.length;let h;for(l=0;l<p;l++)h=n[l],r[h]=e[h];return r}function TO(e){function r(n,l,p,h){let c=n[h++];if(c==="__proto__")return!0;const M=Number.isFinite(+c),s=h>=n.length;return c=!c&&Yt.isArray(p)?p.length:c,s?(Yt.hasOwnProp(p,c)?p[c]=[p[c],l]:p[c]=l,!M):((!p[c]||!Yt.isObject(p[c]))&&(p[c]=[]),r(n,l,p[c],h)&&Yt.isArray(p[c])&&(p[c]=iY(p[c])),!M)}if(Yt.isFormData(e)&&Yt.isFunction(e.entries)){const n={};return Yt.forEachEntry(e,(l,p)=>{r(nY(l),p,n,0)}),n}return null}function oY(e,r,n){if(Yt.isString(e))try{return(r||JSON.parse)(e),Yt.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(n||JSON.stringify)(e)}const Ig={transitional:LO,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const l=n.getContentType()||"",p=l.indexOf("application/json")>-1,h=Yt.isObject(r);if(h&&Yt.isHTMLForm(r)&&(r=new FormData(r)),Yt.isFormData(r))return p?JSON.stringify(TO(r)):r;if(Yt.isArrayBuffer(r)||Yt.isBuffer(r)||Yt.isStream(r)||Yt.isFile(r)||Yt.isBlob(r)||Yt.isReadableStream(r))return r;if(Yt.isArrayBufferView(r))return r.buffer;if(Yt.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let M;if(h){if(l.indexOf("application/x-www-form-urlencoded")>-1)return rY(r,this.formSerializer).toString();if((M=Yt.isFileList(r))||l.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return a0(M?{"files[]":r}:r,s&&new s,this.formSerializer)}}return h||p?(n.setContentType("application/json",!1),oY(r)):r}],transformResponse:[function(r){const n=this.transitional||Ig.transitional,l=n&&n.forcedJSONParsing,p=this.responseType==="json";if(Yt.isResponse(r)||Yt.isReadableStream(r))return r;if(r&&Yt.isString(r)&&(l&&!this.responseType||p)){const c=!(n&&n.silentJSONParsing)&&p;try{return JSON.parse(r,this.parseReviver)}catch(M){if(c)throw M.name==="SyntaxError"?qn.from(M,qn.ERR_BAD_RESPONSE,this,null,this.response):M}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ka.classes.FormData,Blob:Ka.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Yt.forEach(["delete","get","head","post","put","patch"],e=>{Ig.headers[e]={}});const aY=Yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sY=e=>{const r={};let n,l,p;return e&&e.split(`
`).forEach(function(c){p=c.indexOf(":"),n=c.substring(0,p).trim().toLowerCase(),l=c.substring(p+1).trim(),!(!n||r[n]&&aY[n])&&(n==="set-cookie"?r[n]?r[n].push(l):r[n]=[l]:r[n]=r[n]?r[n]+", "+l:l)}),r},iE=Symbol("internals");function C_(e){return e&&String(e).trim().toLowerCase()}function Ab(e){return e===!1||e==null?e:Yt.isArray(e)?e.map(Ab):String(e)}function lY(e){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=n.exec(e);)r[l[1]]=l[2];return r}const uY=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wM(e,r,n,l,p){if(Yt.isFunction(l))return l.call(this,r,n);if(p&&(r=n),!!Yt.isString(r)){if(Yt.isString(l))return r.indexOf(l)!==-1;if(Yt.isRegExp(l))return l.test(r)}}function cY(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,l)=>n.toUpperCase()+l)}function dY(e,r){const n=Yt.toCamelCase(" "+r);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+n,{value:function(p,h,c){return this[l].call(this,r,p,h,c)},configurable:!0})})}let Vs=class{constructor(r){r&&this.set(r)}set(r,n,l){const p=this;function h(M,s,E){const k=C_(s);if(!k)throw new Error("header name must be a non-empty string");const R=Yt.findKey(p,k);(!R||p[R]===void 0||E===!0||E===void 0&&p[R]!==!1)&&(p[R||s]=Ab(M))}const c=(M,s)=>Yt.forEach(M,(E,k)=>h(E,k,s));if(Yt.isPlainObject(r)||r instanceof this.constructor)c(r,n);else if(Yt.isString(r)&&(r=r.trim())&&!uY(r))c(sY(r),n);else if(Yt.isObject(r)&&Yt.isIterable(r)){let M={},s,E;for(const k of r){if(!Yt.isArray(k))throw TypeError("Object iterator must return a key-value pair");M[E=k[0]]=(s=M[E])?Yt.isArray(s)?[...s,k[1]]:[s,k[1]]:k[1]}c(M,n)}else r!=null&&h(n,r,l);return this}get(r,n){if(r=C_(r),r){const l=Yt.findKey(this,r);if(l){const p=this[l];if(!n)return p;if(n===!0)return lY(p);if(Yt.isFunction(n))return n.call(this,p,l);if(Yt.isRegExp(n))return n.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=C_(r),r){const l=Yt.findKey(this,r);return!!(l&&this[l]!==void 0&&(!n||wM(this,this[l],l,n)))}return!1}delete(r,n){const l=this;let p=!1;function h(c){if(c=C_(c),c){const M=Yt.findKey(l,c);M&&(!n||wM(l,l[M],M,n))&&(delete l[M],p=!0)}}return Yt.isArray(r)?r.forEach(h):h(r),p}clear(r){const n=Object.keys(this);let l=n.length,p=!1;for(;l--;){const h=n[l];(!r||wM(this,this[h],h,r,!0))&&(delete this[h],p=!0)}return p}normalize(r){const n=this,l={};return Yt.forEach(this,(p,h)=>{const c=Yt.findKey(l,h);if(c){n[c]=Ab(p),delete n[h];return}const M=r?cY(h):String(h).trim();M!==h&&delete n[h],n[M]=Ab(p),l[M]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return Yt.forEach(this,(l,p)=>{l!=null&&l!==!1&&(n[p]=r&&Yt.isArray(l)?l.join(", "):l)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const l=new this(r);return n.forEach(p=>l.set(p)),l}static accessor(r){const l=(this[iE]=this[iE]={accessors:{}}).accessors,p=this.prototype;function h(c){const M=C_(c);l[M]||(dY(p,c),l[M]=!0)}return Yt.isArray(r)?r.forEach(h):h(r),this}};Vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Yt.reduceDescriptors(Vs.prototype,({value:e},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(l){this[n]=l}}});Yt.freezeMethods(Vs);function xM(e,r){const n=this||Ig,l=r||n,p=Vs.from(l.headers);let h=l.data;return Yt.forEach(e,function(M){h=M.call(n,h,p.normalize(),r?r.status:void 0)}),p.normalize(),h}function EO(e){return!!(e&&e.__CANCEL__)}function cm(e,r,n){qn.call(this,e??"canceled",qn.ERR_CANCELED,r,n),this.name="CanceledError"}Yt.inherits(cm,qn,{__CANCEL__:!0});function kO(e,r,n){const l=n.config.validateStatus;!n.status||!l||l(n.status)?e(n):r(new qn("Request failed with status code "+n.status,[qn.ERR_BAD_REQUEST,qn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fY(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function hY(e,r){e=e||10;const n=new Array(e),l=new Array(e);let p=0,h=0,c;return r=r!==void 0?r:1e3,function(s){const E=Date.now(),k=l[h];c||(c=E),n[p]=s,l[p]=E;let R=h,F=0;for(;R!==p;)F+=n[R++],R=R%e;if(p=(p+1)%e,p===h&&(h=(h+1)%e),E-c<r)return;const C=k&&E-k;return C?Math.round(F*1e3/C):void 0}}function pY(e,r){let n=0,l=1e3/r,p,h;const c=(E,k=Date.now())=>{n=k,p=null,h&&(clearTimeout(h),h=null),e(...E)};return[(...E)=>{const k=Date.now(),R=k-n;R>=l?c(E,k):(p=E,h||(h=setTimeout(()=>{h=null,c(p)},l-R)))},()=>p&&c(p)]}const Ix=(e,r,n=3)=>{let l=0;const p=hY(50,250);return pY(h=>{const c=h.loaded,M=h.lengthComputable?h.total:void 0,s=c-l,E=p(s),k=c<=M;l=c;const R={loaded:c,total:M,progress:M?c/M:void 0,bytes:s,rate:E||void 0,estimated:E&&M&&k?(M-c)/E:void 0,event:h,lengthComputable:M!=null,[r?"download":"upload"]:!0};e(R)},n)},oE=(e,r)=>{const n=e!=null;return[l=>r[0]({lengthComputable:n,total:e,loaded:l}),r[1]]},aE=e=>(...r)=>Yt.asap(()=>e(...r)),mY=Ka.hasStandardBrowserEnv?((e,r)=>n=>(n=new URL(n,Ka.origin),e.protocol===n.protocol&&e.host===n.host&&(r||e.port===n.port)))(new URL(Ka.origin),Ka.navigator&&/(msie|trident)/i.test(Ka.navigator.userAgent)):()=>!0,_Y=Ka.hasStandardBrowserEnv?{write(e,r,n,l,p,h){const c=[e+"="+encodeURIComponent(r)];Yt.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Yt.isString(l)&&c.push("path="+l),Yt.isString(p)&&c.push("domain="+p),h===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gY(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yY(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function AO(e,r,n){let l=!gY(r);return e&&(l||n==!1)?yY(e,r):r}const sE=e=>e instanceof Vs?{...e}:e;function bh(e,r){r=r||{};const n={};function l(E,k,R,F){return Yt.isPlainObject(E)&&Yt.isPlainObject(k)?Yt.merge.call({caseless:F},E,k):Yt.isPlainObject(k)?Yt.merge({},k):Yt.isArray(k)?k.slice():k}function p(E,k,R,F){if(Yt.isUndefined(k)){if(!Yt.isUndefined(E))return l(void 0,E,R,F)}else return l(E,k,R,F)}function h(E,k){if(!Yt.isUndefined(k))return l(void 0,k)}function c(E,k){if(Yt.isUndefined(k)){if(!Yt.isUndefined(E))return l(void 0,E)}else return l(void 0,k)}function M(E,k,R){if(R in r)return l(E,k);if(R in e)return l(void 0,E)}const s={url:h,method:h,data:h,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:M,headers:(E,k,R)=>p(sE(E),sE(k),R,!0)};return Yt.forEach(Object.keys({...e,...r}),function(k){const R=s[k]||p,F=R(e[k],r[k],k);Yt.isUndefined(F)&&R!==M||(n[k]=F)}),n}const CO=e=>{const r=bh({},e);let{data:n,withXSRFToken:l,xsrfHeaderName:p,xsrfCookieName:h,headers:c,auth:M}=r;if(r.headers=c=Vs.from(c),r.url=SO(AO(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),M&&c.set("Authorization","Basic "+btoa((M.username||"")+":"+(M.password?unescape(encodeURIComponent(M.password)):""))),Yt.isFormData(n)){if(Ka.hasStandardBrowserEnv||Ka.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Yt.isFunction(n.getHeaders)){const s=n.getHeaders(),E=["content-type","content-length"];Object.entries(s).forEach(([k,R])=>{E.includes(k.toLowerCase())&&c.set(k,R)})}}if(Ka.hasStandardBrowserEnv&&(l&&Yt.isFunction(l)&&(l=l(r)),l||l!==!1&&mY(r.url))){const s=p&&h&&_Y.read(h);s&&c.set(p,s)}return r},bY=typeof XMLHttpRequest<"u",vY=bY&&function(e){return new Promise(function(n,l){const p=CO(e);let h=p.data;const c=Vs.from(p.headers).normalize();let{responseType:M,onUploadProgress:s,onDownloadProgress:E}=p,k,R,F,C,B;function G(){C&&C(),B&&B(),p.cancelToken&&p.cancelToken.unsubscribe(k),p.signal&&p.signal.removeEventListener("abort",k)}let Z=new XMLHttpRequest;Z.open(p.method.toUpperCase(),p.url,!0),Z.timeout=p.timeout;function K(){if(!Z)return;const se=Vs.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders()),Me={data:!M||M==="text"||M==="json"?Z.responseText:Z.response,status:Z.status,statusText:Z.statusText,headers:se,config:e,request:Z};kO(function(Ge){n(Ge),G()},function(Ge){l(Ge),G()},Me),Z=null}"onloadend"in Z?Z.onloadend=K:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(K)},Z.onabort=function(){Z&&(l(new qn("Request aborted",qn.ECONNABORTED,e,Z)),Z=null)},Z.onerror=function(_e){const Me=_e&&_e.message?_e.message:"Network Error",he=new qn(Me,qn.ERR_NETWORK,e,Z);he.event=_e||null,l(he),Z=null},Z.ontimeout=function(){let _e=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded";const Me=p.transitional||LO;p.timeoutErrorMessage&&(_e=p.timeoutErrorMessage),l(new qn(_e,Me.clarifyTimeoutError?qn.ETIMEDOUT:qn.ECONNABORTED,e,Z)),Z=null},h===void 0&&c.setContentType(null),"setRequestHeader"in Z&&Yt.forEach(c.toJSON(),function(_e,Me){Z.setRequestHeader(Me,_e)}),Yt.isUndefined(p.withCredentials)||(Z.withCredentials=!!p.withCredentials),M&&M!=="json"&&(Z.responseType=p.responseType),E&&([F,B]=Ix(E,!0),Z.addEventListener("progress",F)),s&&Z.upload&&([R,C]=Ix(s),Z.upload.addEventListener("progress",R),Z.upload.addEventListener("loadend",C)),(p.cancelToken||p.signal)&&(k=se=>{Z&&(l(!se||se.type?new cm(null,e,Z):se),Z.abort(),Z=null)},p.cancelToken&&p.cancelToken.subscribe(k),p.signal&&(p.signal.aborted?k():p.signal.addEventListener("abort",k)));const te=fY(p.url);if(te&&Ka.protocols.indexOf(te)===-1){l(new qn("Unsupported protocol "+te+":",qn.ERR_BAD_REQUEST,e));return}Z.send(h||null)})},wY=(e,r)=>{const{length:n}=e=e?e.filter(Boolean):[];if(r||n){let l=new AbortController,p;const h=function(E){if(!p){p=!0,M();const k=E instanceof Error?E:this.reason;l.abort(k instanceof qn?k:new cm(k instanceof Error?k.message:k))}};let c=r&&setTimeout(()=>{c=null,h(new qn(`timeout ${r} of ms exceeded`,qn.ETIMEDOUT))},r);const M=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(E=>{E.unsubscribe?E.unsubscribe(h):E.removeEventListener("abort",h)}),e=null)};e.forEach(E=>E.addEventListener("abort",h));const{signal:s}=l;return s.unsubscribe=()=>Yt.asap(M),s}},xY=function*(e,r){let n=e.byteLength;if(n<r){yield e;return}let l=0,p;for(;l<n;)p=l+r,yield e.slice(l,p),l=p},MY=async function*(e,r){for await(const n of SY(e))yield*xY(n,r)},SY=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:n,value:l}=await r.read();if(n)break;yield l}}finally{await r.cancel()}},lE=(e,r,n,l)=>{const p=MY(e,r);let h=0,c,M=s=>{c||(c=!0,l&&l(s))};return new ReadableStream({async pull(s){try{const{done:E,value:k}=await p.next();if(E){M(),s.close();return}let R=k.byteLength;if(n){let F=h+=R;n(F)}s.enqueue(new Uint8Array(k))}catch(E){throw M(E),E}},cancel(s){return M(s),p.return()}},{highWaterMark:2})},uE=64*1024,{isFunction:hb}=Yt,LY=(({Request:e,Response:r})=>({Request:e,Response:r}))(Yt.global),{ReadableStream:cE,TextEncoder:dE}=Yt.global,fE=(e,...r)=>{try{return!!e(...r)}catch{return!1}},TY=e=>{e=Yt.merge.call({skipUndefined:!0},LY,e);const{fetch:r,Request:n,Response:l}=e,p=r?hb(r):typeof fetch=="function",h=hb(n),c=hb(l);if(!p)return!1;const M=p&&hb(cE),s=p&&(typeof dE=="function"?(B=>G=>B.encode(G))(new dE):async B=>new Uint8Array(await new n(B).arrayBuffer())),E=h&&M&&fE(()=>{let B=!1;const G=new n(Ka.origin,{body:new cE,method:"POST",get duplex(){return B=!0,"half"}}).headers.has("Content-Type");return B&&!G}),k=c&&M&&fE(()=>Yt.isReadableStream(new l("").body)),R={stream:k&&(B=>B.body)};p&&["text","arrayBuffer","blob","formData","stream"].forEach(B=>{!R[B]&&(R[B]=(G,Z)=>{let K=G&&G[B];if(K)return K.call(G);throw new qn(`Response type '${B}' is not supported`,qn.ERR_NOT_SUPPORT,Z)})});const F=async B=>{if(B==null)return 0;if(Yt.isBlob(B))return B.size;if(Yt.isSpecCompliantForm(B))return(await new n(Ka.origin,{method:"POST",body:B}).arrayBuffer()).byteLength;if(Yt.isArrayBufferView(B)||Yt.isArrayBuffer(B))return B.byteLength;if(Yt.isURLSearchParams(B)&&(B=B+""),Yt.isString(B))return(await s(B)).byteLength},C=async(B,G)=>{const Z=Yt.toFiniteNumber(B.getContentLength());return Z??F(G)};return async B=>{let{url:G,method:Z,data:K,signal:te,cancelToken:se,timeout:_e,onDownloadProgress:Me,onUploadProgress:he,responseType:Ge,headers:st,withCredentials:Ne="same-origin",fetchOptions:Re}=CO(B),ut=r||fetch;Ge=Ge?(Ge+"").toLowerCase():"text";let Ke=wY([te,se&&se.toAbortSignal()],_e),gt=null;const mt=Ke&&Ke.unsubscribe&&(()=>{Ke.unsubscribe()});let Lt;try{if(he&&E&&Z!=="get"&&Z!=="head"&&(Lt=await C(st,K))!==0){let pr=new n(G,{method:"POST",body:K,duplex:"half"}),Er;if(Yt.isFormData(K)&&(Er=pr.headers.get("content-type"))&&st.setContentType(Er),pr.body){const[pn,qr]=oE(Lt,Ix(aE(he)));K=lE(pr.body,uE,pn,qr)}}Yt.isString(Ne)||(Ne=Ne?"include":"omit");const ot=h&&"credentials"in n.prototype,dt={...Re,signal:Ke,method:Z.toUpperCase(),headers:st.normalize().toJSON(),body:K,duplex:"half",credentials:ot?Ne:void 0};gt=h&&new n(G,dt);let vt=await(h?ut(gt,Re):ut(G,dt));const nr=k&&(Ge==="stream"||Ge==="response");if(k&&(Me||nr&&mt)){const pr={};["status","statusText","headers"].forEach(Gr=>{pr[Gr]=vt[Gr]});const Er=Yt.toFiniteNumber(vt.headers.get("content-length")),[pn,qr]=Me&&oE(Er,Ix(aE(Me),!0))||[];vt=new l(lE(vt.body,uE,pn,()=>{qr&&qr(),mt&&mt()}),pr)}Ge=Ge||"text";let Sr=await R[Yt.findKey(R,Ge)||"text"](vt,B);return!nr&&mt&&mt(),await new Promise((pr,Er)=>{kO(pr,Er,{data:Sr,headers:Vs.from(vt.headers),status:vt.status,statusText:vt.statusText,config:B,request:gt})})}catch(ot){throw mt&&mt(),ot&&ot.name==="TypeError"&&/Load failed|fetch/i.test(ot.message)?Object.assign(new qn("Network Error",qn.ERR_NETWORK,B,gt),{cause:ot.cause||ot}):qn.from(ot,ot&&ot.code,B,gt)}}},EY=new Map,DO=e=>{let r=e?e.env:{};const{fetch:n,Request:l,Response:p}=r,h=[l,p,n];let c=h.length,M=c,s,E,k=EY;for(;M--;)s=h[M],E=k.get(s),E===void 0&&k.set(s,E=M?new Map:TY(r)),k=E;return E};DO();const ZS={http:Nz,xhr:vY,fetch:{get:DO}};Yt.forEach(ZS,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const hE=e=>`- ${e}`,kY=e=>Yt.isFunction(e)||e===null||e===!1,IO={getAdapter:(e,r)=>{e=Yt.isArray(e)?e:[e];const{length:n}=e;let l,p;const h={};for(let c=0;c<n;c++){l=e[c];let M;if(p=l,!kY(l)&&(p=ZS[(M=String(l)).toLowerCase()],p===void 0))throw new qn(`Unknown adapter '${M}'`);if(p&&(Yt.isFunction(p)||(p=p.get(r))))break;h[M||"#"+c]=p}if(!p){const c=Object.entries(h).map(([s,E])=>`adapter ${s} `+(E===!1?"is not supported by the environment":"is not available in the build"));let M=n?c.length>1?`since :
`+c.map(hE).join(`
`):" "+hE(c[0]):"as no adapter specified";throw new qn("There is no suitable adapter to dispatch the request "+M,"ERR_NOT_SUPPORT")}return p},adapters:ZS};function MM(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cm(null,e)}function pE(e){return MM(e),e.headers=Vs.from(e.headers),e.data=xM.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),IO.getAdapter(e.adapter||Ig.adapter,e)(e).then(function(l){return MM(e),l.data=xM.call(e,e.transformResponse,l),l.headers=Vs.from(l.headers),l},function(l){return EO(l)||(MM(e),l&&l.response&&(l.response.data=xM.call(e,e.transformResponse,l.response),l.response.headers=Vs.from(l.response.headers))),Promise.reject(l)})}const PO="1.12.2",s0={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{s0[e]=function(l){return typeof l===e||"a"+(r<1?"n ":" ")+e}});const mE={};s0.transitional=function(r,n,l){function p(h,c){return"[Axios v"+PO+"] Transitional option '"+h+"'"+c+(l?". "+l:"")}return(h,c,M)=>{if(r===!1)throw new qn(p(c," has been removed"+(n?" in "+n:"")),qn.ERR_DEPRECATED);return n&&!mE[c]&&(mE[c]=!0,console.warn(p(c," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(h,c,M):!0}};s0.spelling=function(r){return(n,l)=>(console.warn(`${l} is likely a misspelling of ${r}`),!0)};function AY(e,r,n){if(typeof e!="object")throw new qn("options must be an object",qn.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let p=l.length;for(;p-- >0;){const h=l[p],c=r[h];if(c){const M=e[h],s=M===void 0||c(M,h,e);if(s!==!0)throw new qn("option "+h+" must be "+s,qn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qn("Unknown option "+h,qn.ERR_BAD_OPTION)}}const Cb={assertOptions:AY,validators:s0},Xu=Cb.validators;let mh=class{constructor(r){this.defaults=r||{},this.interceptors={request:new nE,response:new nE}}async request(r,n){try{return await this._request(r,n)}catch(l){if(l instanceof Error){let p={};Error.captureStackTrace?Error.captureStackTrace(p):p=new Error;const h=p.stack?p.stack.replace(/^.+\n/,""):"";try{l.stack?h&&!String(l.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+h):l.stack=h}catch{}}throw l}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=bh(this.defaults,n);const{transitional:l,paramsSerializer:p,headers:h}=n;l!==void 0&&Cb.assertOptions(l,{silentJSONParsing:Xu.transitional(Xu.boolean),forcedJSONParsing:Xu.transitional(Xu.boolean),clarifyTimeoutError:Xu.transitional(Xu.boolean)},!1),p!=null&&(Yt.isFunction(p)?n.paramsSerializer={serialize:p}:Cb.assertOptions(p,{encode:Xu.function,serialize:Xu.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cb.assertOptions(n,{baseUrl:Xu.spelling("baseURL"),withXsrfToken:Xu.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=h&&Yt.merge(h.common,h[n.method]);h&&Yt.forEach(["delete","get","head","post","put","patch","common"],B=>{delete h[B]}),n.headers=Vs.concat(c,h);const M=[];let s=!0;this.interceptors.request.forEach(function(G){typeof G.runWhen=="function"&&G.runWhen(n)===!1||(s=s&&G.synchronous,M.unshift(G.fulfilled,G.rejected))});const E=[];this.interceptors.response.forEach(function(G){E.push(G.fulfilled,G.rejected)});let k,R=0,F;if(!s){const B=[pE.bind(this),void 0];for(B.unshift(...M),B.push(...E),F=B.length,k=Promise.resolve(n);R<F;)k=k.then(B[R++],B[R++]);return k}F=M.length;let C=n;for(;R<F;){const B=M[R++],G=M[R++];try{C=B(C)}catch(Z){G.call(this,Z);break}}try{k=pE.call(this,C)}catch(B){return Promise.reject(B)}for(R=0,F=E.length;R<F;)k=k.then(E[R++],E[R++]);return k}getUri(r){r=bh(this.defaults,r);const n=AO(r.baseURL,r.url,r.allowAbsoluteUrls);return SO(n,r.params,r.paramsSerializer)}};Yt.forEach(["delete","get","head","options"],function(r){mh.prototype[r]=function(n,l){return this.request(bh(l||{},{method:r,url:n,data:(l||{}).data}))}});Yt.forEach(["post","put","patch"],function(r){function n(l){return function(h,c,M){return this.request(bh(M||{},{method:r,headers:l?{"Content-Type":"multipart/form-data"}:{},url:h,data:c}))}}mh.prototype[r]=n(),mh.prototype[r+"Form"]=n(!0)});let CY=class OO{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(h){n=h});const l=this;this.promise.then(p=>{if(!l._listeners)return;let h=l._listeners.length;for(;h-- >0;)l._listeners[h](p);l._listeners=null}),this.promise.then=p=>{let h;const c=new Promise(M=>{l.subscribe(M),h=M}).then(p);return c.cancel=function(){l.unsubscribe(h)},c},r(function(h,c,M){l.reason||(l.reason=new cm(h,c,M),n(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=l=>{r.abort(l)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new OO(function(p){r=p}),cancel:r}}};function DY(e){return function(n){return e.apply(null,n)}}function IY(e){return Yt.isObject(e)&&e.isAxiosError===!0}const XS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(XS).forEach(([e,r])=>{XS[r]=e});function RO(e){const r=new mh(e),n=uO(mh.prototype.request,r);return Yt.extend(n,mh.prototype,r,{allOwnKeys:!0}),Yt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(p){return RO(bh(e,p))},n}const Co=RO(Ig);Co.Axios=mh;Co.CanceledError=cm;Co.CancelToken=CY;Co.isCancel=EO;Co.VERSION=PO;Co.toFormData=a0;Co.AxiosError=qn;Co.Cancel=Co.CanceledError;Co.all=function(r){return Promise.all(r)};Co.spread=DY;Co.isAxiosError=IY;Co.mergeConfig=bh;Co.AxiosHeaders=Vs;Co.formToJSON=e=>TO(Yt.isHTMLForm(e)?new FormData(e):e);Co.getAdapter=IO.getAdapter;Co.HttpStatusCode=XS;Co.default=Co;const{Axios:JJ,AxiosError:QJ,CanceledError:e2,isCancel:t2,CancelToken:r2,VERSION:n2,all:i2,Cancel:o2,isAxiosError:a2,spread:s2,toFormData:l2,AxiosHeaders:u2,HttpStatusCode:c2,formToJSON:d2,getAdapter:f2,mergeConfig:h2}=Co;/*!
  * vue-cookie-next v1.3.0
  * (c) 2021 Anish George
  * @license MIT
  */const Fl={expire:"1d",path:"; path=/",domain:"",secure:"",sameSite:"; SameSite=Lax"},FO={install:function(e){e.config.globalProperties.$cookie=this,e.provide("cookie",this)},config:function(e){const{expire:r,path:n,domain:l,secure:p,sameSite:h}=e;Fl.expire=r||"1d",Fl.path=n?"; path="+n:"; path=/",Fl.domain=l?"; domain="+l:"",Fl.secure=p?"; Secure":"",Fl.sameSite=h?"; SameSite="+h:"; SameSite=Lax"},getCookie:function(e){var r=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(r&&r.substring(0,1)==="{"&&r.substring(r.length-1,r.length)==="}")try{r=JSON.parse(r)}catch{return r}return r},setCookie:function(e,r,n){let{expire:l,path:p,domain:h,secure:c,sameSite:M}=n||{};if(e){if(/^(?:expires|max\-age|path|domain|secure|SameSite)$/i.test(e))throw new Error('Cookie key name illegality, Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+e)}else throw new Error("Cookie name is not find in first argument.");r&&r.constructor===Object&&(r=JSON.stringify(r));var s="";if(l=l===void 0?Fl.expire:l,l&&l!=0)switch(l.constructor){case Number:l===1/0||l===-1?s="; expires=Fri, 31 Dec 9999 23:59:59 GMT":s="; max-age="+l;break;case String:let k=l.toString();if(/^(?:\d+(y|m|d|h|min|s))$/i.test(k)){var E=k.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(k.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":s="; max-age="+ +E*2592e3;break;case"d":s="; max-age="+ +E*86400;break;case"h":s="; max-age="+ +E*3600;break;case"min":s="; max-age="+ +E*60;break;case"s":s="; max-age="+E;break;case"y":s="; max-age="+ +E*31104e3;break}}else s="; expires="+l;break;case Date:s="; expires="+l.toUTCString();break}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(r)+s+(h?"; domain="+h:Fl.domain)+(p?"; path="+p:Fl.path)+(c===void 0?Fl.secure:c?"; Secure":"")+(M===void 0?Fl.sameSite:M?"; SameSite="+M:""),this},removeCookie:function(e,r){const{path:n,domain:l}=r||{};return!e||!this.isCookieAvailable(e)?!1:(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(l?"; domain="+l:Fl.domain)+(n?"; path="+n:Fl.path)+"; SameSite=Lax",this)},isCookieAvailable:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){if(!document.cookie)return[];for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),r=0;r<e.length;r++)e[r]=decodeURIComponent(e[r]);return e}};var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PY(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var n=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var p=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(n,l,p.get?p:{enumerable:!0,get:function(){return e[l]}})}),n}var eg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var OY=eg.exports,_E;function RY(){return _E||(_E=1,(function(e,r){(function(){var n,l="4.17.21",p=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",M="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",E=500,k="__lodash_placeholder__",R=1,F=2,C=4,B=1,G=2,Z=1,K=2,te=4,se=8,_e=16,Me=32,he=64,Ge=128,st=256,Ne=512,Re=30,ut="...",Ke=800,gt=16,mt=1,Lt=2,ot=3,dt=1/0,vt=9007199254740991,nr=17976931348623157e292,Sr=NaN,pr=4294967295,Er=pr-1,pn=pr>>>1,qr=[["ary",Ge],["bind",Z],["bindKey",K],["curry",se],["curryRight",_e],["flip",Ne],["partial",Me],["partialRight",he],["rearg",st]],Gr="[object Arguments]",Nr="[object Array]",xt="[object AsyncFunction]",qt="[object Boolean]",It="[object Date]",Nt="[object DOMException]",_r="[object Error]",Se="[object Function]",Ce="[object GeneratorFunction]",He="[object Map]",at="[object Number]",Dt="[object Null]",At="[object Object]",sr="[object Promise]",mr="[object Proxy]",ar="[object RegExp]",Ut="[object Set]",jr="[object String]",lr="[object Symbol]",Ir="[object Undefined]",zr="[object WeakMap]",tt="[object WeakSet]",vr="[object ArrayBuffer]",rn="[object DataView]",Qn="[object Float32Array]",ae="[object Float64Array]",$="[object Int8Array]",q="[object Int16Array]",Te="[object Int32Array]",Ze="[object Uint8Array]",ht="[object Uint8ClampedArray]",ke="[object Uint16Array]",Qe="[object Uint32Array]",Wr=/\b__p \+= '';/g,Xr=/\b(__p \+=) '' \+/g,nn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ar=/&(?:amp|lt|gt|quot|#39);/g,ki=/[&<>"']/g,ro=RegExp(Ar.source),Yi=RegExp(ki.source),jt=/<%-([\s\S]+?)%>/g,ur=/<%([\s\S]+?)%>/g,Lr=/<%=([\s\S]+?)%>/g,wr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jr=/^\w*$/,yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fe=/[\\^$.*+?()[\]{}|]/g,X=RegExp(fe.source),re=/^\s+/,ge=/\s/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,rt=/,? & /,Je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/[()=,{}\[\]\/\s]/,et=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hr=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,Yr=/^0b[01]+$/i,Or=/^\[object .+?Constructor\]$/,Cr=/^0o[0-7]+$/i,Kr=/^(?:0|[1-9]\d*)$/,bn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bn=/($^)/,$r=/['\n\r\u2028\u2029\\]/g,ei="\\ud800-\\udfff",hi="\\u0300-\\u036f",Vo="\\ufe20-\\ufe2f",no="\\u20d0-\\u20ff",bo=hi+Vo+no,Pt="\\u2700-\\u27bf",vo="a-z\\xdf-\\xf6\\xf8-\\xff",$i="\\xac\\xb1\\xd7\\xf7",Ja="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Zd="\\u2000-\\u206f",Uo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bs="A-Z\\xc0-\\xd6\\xd8-\\xde",bu="\\ufe0e\\ufe0f",lo=$i+Ja+Zd+Uo,br="[']",Cn="["+ei+"]",Ln="["+lo+"]",Io="["+bo+"]",Qa="\\d+",Sn="["+Pt+"]",ia="["+vo+"]",vs="[^"+ei+lo+Qa+Pt+vo+bs+"]",es="\\ud83c[\\udffb-\\udfff]",uo="(?:"+Io+"|"+es+")",Si="[^"+ei+"]",oa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ns="[\\ud800-\\udbff][\\udc00-\\udfff]",ka="["+bs+"]",hl="\\u200d",Hs="(?:"+ia+"|"+vs+")",vu="(?:"+ka+"|"+vs+")",aa="(?:"+br+"(?:d|ll|m|re|s|t|ve))?",pl="(?:"+br+"(?:D|LL|M|RE|S|T|VE))?",ml=uo+"?",$l="["+bu+"]?",wo="(?:"+hl+"(?:"+[Si,oa,Ns].join("|")+")"+$l+ml+")*",Ri="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ul=$l+ml+wo,Qi="(?:"+[Sn,oa,Ns].join("|")+")"+Ul,No="(?:"+[Si+Io+"?",Io,oa,Ns,Cn].join("|")+")",td=RegExp(br,"g"),Nl=RegExp(Io,"g"),Ai=RegExp(es+"(?="+es+")|"+No+Ul,"g"),_l=RegExp([ka+"?"+ia+"+"+aa+"(?="+[Ln,ka,"$"].join("|")+")",vu+"+"+pl+"(?="+[Ln,ka+Hs,"$"].join("|")+")",ka+"?"+Hs+"+"+aa,ka+"+"+pl,Vl,Ri,Qa,Qi].join("|"),"g"),wu=RegExp("["+hl+ei+bo+bu+"]"),ws=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gl=-1,ii={};ii[Qn]=ii[ae]=ii[$]=ii[q]=ii[Te]=ii[Ze]=ii[ht]=ii[ke]=ii[Qe]=!0,ii[Gr]=ii[Nr]=ii[vr]=ii[qt]=ii[rn]=ii[It]=ii[_r]=ii[Se]=ii[He]=ii[at]=ii[At]=ii[ar]=ii[Ut]=ii[jr]=ii[zr]=!1;var Tn={};Tn[Gr]=Tn[Nr]=Tn[vr]=Tn[rn]=Tn[qt]=Tn[It]=Tn[Qn]=Tn[ae]=Tn[$]=Tn[q]=Tn[Te]=Tn[He]=Tn[at]=Tn[At]=Tn[ar]=Tn[Ut]=Tn[jr]=Tn[lr]=Tn[Ze]=Tn[ht]=Tn[ke]=Tn[Qe]=!0,Tn[_r]=Tn[Se]=Tn[zr]=!1;var xs={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},qs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gs=parseFloat,xu=parseInt,Hl=typeof dh=="object"&&dh&&dh.Object===Object&&dh,yl=typeof self=="object"&&self&&self.Object===Object&&self,Li=Hl||yl||Function("return this")(),Ti=r&&!r.nodeType&&r,Q=Ti&&!0&&e&&!e.nodeType&&e,ie=Q&&Q.exports===Ti,ve=ie&&Hl.process,Ee=(function(){try{var nt=Q&&Q.require&&Q.require("util").types;return nt||ve&&ve.binding&&ve.binding("util")}catch{}})(),$e=Ee&&Ee.isArrayBuffer,yt=Ee&&Ee.isDate,ft=Ee&&Ee.isMap,er=Ee&&Ee.isRegExp,Ur=Ee&&Ee.isSet,xr=Ee&&Ee.isTypedArray;function dr(nt,Wt,Ot){switch(Ot.length){case 0:return nt.call(Wt);case 1:return nt.call(Wt,Ot[0]);case 2:return nt.call(Wt,Ot[0],Ot[1]);case 3:return nt.call(Wt,Ot[0],Ot[1],Ot[2])}return nt.apply(Wt,Ot)}function an(nt,Wt,Ot,Hr){for(var kn=-1,si=nt==null?0:nt.length;++kn<si;){var co=nt[kn];Wt(Hr,co,Ot(co),nt)}return Hr}function On(nt,Wt){for(var Ot=-1,Hr=nt==null?0:nt.length;++Ot<Hr&&Wt(nt[Ot],Ot,nt)!==!1;);return nt}function Bi(nt,Wt){for(var Ot=nt==null?0:nt.length;Ot--&&Wt(nt[Ot],Ot,nt)!==!1;);return nt}function Xt(nt,Wt){for(var Ot=-1,Hr=nt==null?0:nt.length;++Ot<Hr;)if(!Wt(nt[Ot],Ot,nt))return!1;return!0}function cn(nt,Wt){for(var Ot=-1,Hr=nt==null?0:nt.length,kn=0,si=[];++Ot<Hr;){var co=nt[Ot];Wt(co,Ot,nt)&&(si[kn++]=co)}return si}function Zr(nt,Wt){var Ot=nt==null?0:nt.length;return!!Ot&&sa(nt,Wt,0)>-1}function Fi(nt,Wt,Ot){for(var Hr=-1,kn=nt==null?0:nt.length;++Hr<kn;)if(Ot(Wt,nt[Hr]))return!0;return!1}function Dn(nt,Wt){for(var Ot=-1,Hr=nt==null?0:nt.length,kn=Array(Hr);++Ot<Hr;)kn[Ot]=Wt(nt[Ot],Ot,nt);return kn}function pi(nt,Wt){for(var Ot=-1,Hr=Wt.length,kn=nt.length;++Ot<Hr;)nt[kn+Ot]=Wt[Ot];return nt}function Gi(nt,Wt,Ot,Hr){var kn=-1,si=nt==null?0:nt.length;for(Hr&&si&&(Ot=nt[++kn]);++kn<si;)Ot=Wt(Ot,nt[kn],kn,nt);return Ot}function Po(nt,Wt,Ot,Hr){var kn=nt==null?0:nt.length;for(Hr&&kn&&(Ot=nt[--kn]);kn--;)Ot=Wt(Ot,nt[kn],kn,nt);return Ot}function va(nt,Wt){for(var Ot=-1,Hr=nt==null?0:nt.length;++Ot<Hr;)if(Wt(nt[Ot],Ot,nt))return!0;return!1}var xo=Ho("length");function ts(nt){return nt.split("")}function rs(nt){return nt.match(Je)||[]}function bl(nt,Wt,Ot){var Hr;return Ot(nt,function(kn,si,co){if(Wt(kn,si,co))return Hr=si,!1}),Hr}function ns(nt,Wt,Ot,Hr){for(var kn=nt.length,si=Ot+(Hr?1:-1);Hr?si--:++si<kn;)if(Wt(nt[si],si,nt))return si;return-1}function sa(nt,Wt,Ot){return Wt===Wt?Lh(nt,Wt,Ot):ns(nt,wa,Ot)}function In(nt,Wt,Ot,Hr){for(var kn=Ot-1,si=nt.length;++kn<si;)if(Hr(nt[kn],Wt))return kn;return-1}function wa(nt){return nt!==nt}function ql(nt,Wt){var Ot=nt==null?0:nt.length;return Ot?Mu(nt,Wt)/Ot:Sr}function Ho(nt){return function(Wt){return Wt==null?n:Wt[nt]}}function vl(nt){return function(Wt){return nt==null?n:nt[Wt]}}function la(nt,Wt,Ot,Hr,kn){return kn(nt,function(si,co,vi){Ot=Hr?(Hr=!1,si):Wt(Ot,si,co,vi)}),Ot}function uc(nt,Wt){var Ot=nt.length;for(nt.sort(Wt);Ot--;)nt[Ot]=nt[Ot].value;return nt}function Mu(nt,Wt){for(var Ot,Hr=-1,kn=nt.length;++Hr<kn;){var si=Wt(nt[Hr]);si!==n&&(Ot=Ot===n?si:Ot+si)}return Ot}function Aa(nt,Wt){for(var Ot=-1,Hr=Array(nt);++Ot<nt;)Hr[Ot]=Wt(Ot);return Hr}function is(nt,Wt){return Dn(Wt,function(Ot){return[Ot,nt[Ot]]})}function Ws(nt){return nt&&nt.slice(0,Th(nt)+1).replace(re,"")}function io(nt){return function(Wt){return nt(Wt)}}function wl(nt,Wt){return Dn(Wt,function(Ot){return nt[Ot]})}function Su(nt,Wt){return nt.has(Wt)}function Xd(nt,Wt){for(var Ot=-1,Hr=nt.length;++Ot<Hr&&sa(Wt,nt[Ot],0)>-1;);return Ot}function Mh(nt,Wt){for(var Ot=nt.length;Ot--&&sa(Wt,nt[Ot],0)>-1;);return Ot}function cc(nt,Wt){for(var Ot=nt.length,Hr=0;Ot--;)nt[Ot]===Wt&&++Hr;return Hr}var Lu=vl(xs),Sh=vl(qs);function rd(nt){return"\\"+lc[nt]}function Kd(nt,Wt){return nt==null?n:nt[Wt]}function qo(nt){return wu.test(nt)}function nd(nt){return ws.test(nt)}function Jd(nt){for(var Wt,Ot=[];!(Wt=nt.next()).done;)Ot.push(Wt.value);return Ot}function Tu(nt){var Wt=-1,Ot=Array(nt.size);return nt.forEach(function(Hr,kn){Ot[++Wt]=[kn,Hr]}),Ot}function Qd(nt,Wt){return function(Ot){return nt(Wt(Ot))}}function Ms(nt,Wt){for(var Ot=-1,Hr=nt.length,kn=0,si=[];++Ot<Hr;){var co=nt[Ot];(co===Wt||co===k)&&(nt[Ot]=k,si[kn++]=Ot)}return si}function dc(nt){var Wt=-1,Ot=Array(nt.size);return nt.forEach(function(Hr){Ot[++Wt]=Hr}),Ot}function id(nt){var Wt=-1,Ot=Array(nt.size);return nt.forEach(function(Hr){Ot[++Wt]=[Hr,Hr]}),Ot}function Lh(nt,Wt,Ot){for(var Hr=Ot-1,kn=nt.length;++Hr<kn;)if(nt[Hr]===Wt)return Hr;return-1}function od(nt,Wt,Ot){for(var Hr=Ot+1;Hr--;)if(nt[Hr]===Wt)return Hr;return Hr}function Eu(nt){return qo(nt)?Eh(nt):xo(nt)}function xa(nt){return qo(nt)?fc(nt):ts(nt)}function Th(nt){for(var Wt=nt.length;Wt--&&ge.test(nt.charAt(Wt)););return Wt}var ku=vl(sc);function Eh(nt){for(var Wt=Ai.lastIndex=0;Ai.test(nt);)++Wt;return Wt}function fc(nt){return nt.match(Ai)||[]}function hm(nt){return nt.match(_l)||[]}var kh=(function nt(Wt){Wt=Wt==null?Li:Gl.defaults(Li.Object(),Wt,Gl.pick(Li,eo));var Ot=Wt.Array,Hr=Wt.Date,kn=Wt.Error,si=Wt.Function,co=Wt.Math,vi=Wt.Object,hc=Wt.RegExp,Ah=Wt.String,Ma=Wt.TypeError,Au=Ot.prototype,ad=si.prototype,Go=vi.prototype,xl=Wt["__core-js_shared__"],pc=ad.toString,Rn=Go.hasOwnProperty,Wl=0,Ml=(function(){var m=/[^.]+$/.exec(xl&&xl.keys&&xl.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""})(),Cu=Go.toString,ti=pc.call(vi),mc=Li._,pm=hc("^"+pc.call(Rn).replace(fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zl=ie?Wt.Buffer:n,Sa=Wt.Symbol,Du=Wt.Uint8Array,ef=Zl?Zl.allocUnsafe:n,Iu=Qd(vi.getPrototypeOf,vi),sd=vi.create,_c=Go.propertyIsEnumerable,Sl=Au.splice,Zs=Sa?Sa.isConcatSpreadable:n,Ca=Sa?Sa.iterator:n,Ss=Sa?Sa.toStringTag:n,Pu=(function(){try{var m=Uu(vi,"defineProperty");return m({},"",{}),m}catch{}})(),Ou=Wt.clearTimeout!==Li.clearTimeout&&Wt.clearTimeout,gc=Hr&&Hr.now!==Li.Date.now&&Hr.now,Tr=Wt.setTimeout!==Li.setTimeout&&Wt.setTimeout,Wo=co.ceil,Ll=co.floor,ld=vi.getOwnPropertySymbols,Ch=Zl?Zl.isBuffer:n,Xl=Wt.isFinite,Dh=Au.join,ud=Qd(vi.keys,vi),ji=co.max,Wi=co.min,ua=Hr.now,yc=Wt.parseInt,Kl=co.random,mm=Au.reverse,tf=Uu(Wt,"DataView"),Ru=Uu(Wt,"Map"),Tl=Uu(Wt,"Promise"),El=Uu(Wt,"Set"),kl=Uu(Wt,"WeakMap"),Fu=Uu(vi,"create"),Jl=kl&&new kl,Ls={},Ih=al(tf),rf=al(Ru),nf=al(Tl),Ph=al(El),cd=al(kl),Da=Sa?Sa.prototype:n,Ql=Da?Da.valueOf:n,of=Da?Da.toString:n;function ce(m){if(Xi(m)&&!Fn(m)&&!(m instanceof Gn)){if(m instanceof La)return m;if(Rn.call(m,"__wrapped__"))return $a(m)}return new La(m)}var eu=(function(){function m(){}return function(w){if(!_n(w))return{};if(sd)return sd(w);m.prototype=w;var I=new m;return m.prototype=n,I}})();function tu(){}function La(m,w){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=n}ce.templateSettings={escape:jt,evaluate:ur,interpolate:Lr,variable:"",imports:{_:ce}},ce.prototype=tu.prototype,ce.prototype.constructor=ce,La.prototype=eu(tu.prototype),La.prototype.constructor=La;function Gn(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pr,this.__views__=[]}function Oo(){var m=new Gn(this.__wrapped__);return m.__actions__=Mo(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=Mo(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=Mo(this.__views__),m}function _m(){if(this.__filtered__){var m=new Gn(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function af(){var m=this.__wrapped__.value(),w=this.__dir__,I=Fn(m),U=w<0,ne=I?m.length:0,ye=w0(0,ne,this.__views__),Oe=ye.start,qe=ye.end,lt=qe-Oe,Zt=U?qe:Oe-1,Kt=this.__iteratees__,cr=Kt.length,Fr=0,sn=Wi(lt,this.__takeCount__);if(!I||!U&&ne==lt&&sn==lt)return Fg(m,this.__actions__);var vn=[];e:for(;lt--&&Fr<sn;){Zt+=w;for(var Vn=-1,xn=m[Zt];++Vn<cr;){var Jn=Kt[Vn],ri=Jn.iteratee,qa=Jn.type,_a=ri(xn);if(qa==Lt)xn=_a;else if(!_a){if(qa==mt)continue e;break e}}vn[Fr++]=xn}return vn}Gn.prototype=eu(tu.prototype),Gn.prototype.constructor=Gn;function ru(m){var w=-1,I=m==null?0:m.length;for(this.clear();++w<I;){var U=m[w];this.set(U[0],U[1])}}function gm(){this.__data__=Fu?Fu(null):{},this.size=0}function Xs(m){var w=this.has(m)&&delete this.__data__[m];return this.size-=w?1:0,w}function Oh(m){var w=this.__data__;if(Fu){var I=w[m];return I===s?n:I}return Rn.call(w,m)?w[m]:n}function zu(m){var w=this.__data__;return Fu?w[m]!==n:Rn.call(w,m)}function Ts(m,w){var I=this.__data__;return this.size+=this.has(m)?0:1,I[m]=Fu&&w===n?s:w,this}ru.prototype.clear=gm,ru.prototype.delete=Xs,ru.prototype.get=Oh,ru.prototype.has=zu,ru.prototype.set=Ts;function Ia(m){var w=-1,I=m==null?0:m.length;for(this.clear();++w<I;){var U=m[w];this.set(U[0],U[1])}}function Dr(){this.__data__=[],this.size=0}function Rh(m){var w=this.__data__,I=g(w,m);if(I<0)return!1;var U=w.length-1;return I==U?w.pop():Sl.call(w,I,1),--this.size,!0}function Fh(m){var w=this.__data__,I=g(w,m);return I<0?n:w[I][1]}function Al(m){return g(this.__data__,m)>-1}function bc(m,w){var I=this.__data__,U=g(I,m);return U<0?(++this.size,I.push([m,w])):I[U][1]=w,this}Ia.prototype.clear=Dr,Ia.prototype.delete=Rh,Ia.prototype.get=Fh,Ia.prototype.has=Al,Ia.prototype.set=bc;function os(m){var w=-1,I=m==null?0:m.length;for(this.clear();++w<I;){var U=m[w];this.set(U[0],U[1])}}function zh(){this.size=0,this.__data__={hash:new ru,map:new(Ru||Ia),string:new ru}}function sf(m){var w=Sc(this,m).delete(m);return this.size-=w?1:0,w}function lf(m){return Sc(this,m).get(m)}function uf(m){return Sc(this,m).has(m)}function cf(m,w){var I=Sc(this,m),U=I.size;return I.set(m,w),this.size+=I.size==U?0:1,this}os.prototype.clear=zh,os.prototype.delete=sf,os.prototype.get=lf,os.prototype.has=uf,os.prototype.set=cf;function Pa(m){var w=-1,I=m==null?0:m.length;for(this.__data__=new os;++w<I;)this.add(m[w])}function vc(m){return this.__data__.set(m,s),this}function dd(m){return this.__data__.has(m)}Pa.prototype.add=Pa.prototype.push=vc,Pa.prototype.has=dd;function Oa(m){var w=this.__data__=new Ia(m);this.size=w.size}function df(){this.__data__=new Ia,this.size=0}function Yh(m){var w=this.__data__,I=w.delete(m);return this.size=w.size,I}function Bh(m){return this.__data__.get(m)}function jh(m){return this.__data__.has(m)}function $h(m,w){var I=this.__data__;if(I instanceof Ia){var U=I.__data__;if(!Ru||U.length<p-1)return U.push([m,w]),this.size=++I.size,this;I=this.__data__=new os(U)}return I.set(m,w),this.size=I.size,this}Oa.prototype.clear=df,Oa.prototype.delete=Yh,Oa.prototype.get=Bh,Oa.prototype.has=jh,Oa.prototype.set=$h;function ff(m,w){var I=Fn(m),U=!I&&Ic(m),ne=!I&&!U&&Il(m),ye=!I&&!U&&!ne&&uu(m),Oe=I||U||ne||ye,qe=Oe?Aa(m.length,Ah):[],lt=qe.length;for(var Zt in m)(w||Rn.call(m,Zt))&&!(Oe&&(Zt=="length"||ne&&(Zt=="offset"||Zt=="parent")||ye&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||Ds(Zt,lt)))&&qe.push(Zt);return qe}function fd(m){var w=m.length;return w?m[ho(0,w-1)]:n}function Vh(m,w){return Ps(Mo(m),D(w,0,m.length))}function Uh(m){return Ps(Mo(m))}function wc(m,w,I){(I!==n&&!ll(m[w],I)||I===n&&!(w in m))&&x(m,w,I)}function Ks(m,w,I){var U=m[w];(!(Rn.call(m,w)&&ll(U,I))||I===n&&!(w in m))&&x(m,w,I)}function g(m,w){for(var I=m.length;I--;)if(ll(m[I][0],w))return I;return-1}function a(m,w,I,U){return oe(m,function(ne,ye,Oe){w(U,ne,I(ne),Oe)}),U}function d(m,w){return m&&Yo(w,po(w),m)}function b(m,w){return m&&Yo(w,To(w),m)}function x(m,w,I){w=="__proto__"&&Pu?Pu(m,w,{configurable:!0,enumerable:!0,value:I,writable:!0}):m[w]=I}function L(m,w){for(var I=-1,U=w.length,ne=Ot(U),ye=m==null;++I<U;)ne[I]=ye?n:o_(m,w[I]);return ne}function D(m,w,I){return m===m&&(I!==n&&(m=m<=I?m:I),w!==n&&(m=m>=w?m:w)),m}function P(m,w,I,U,ne,ye){var Oe,qe=w&R,lt=w&F,Zt=w&C;if(I&&(Oe=ne?I(m,U,ne,ye):I(m)),Oe!==n)return Oe;if(!_n(m))return m;var Kt=Fn(m);if(Kt){if(Oe=Zg(m),!qe)return Mo(m,Oe)}else{var cr=Bo(m),Fr=cr==Se||cr==Ce;if(Il(m))return pf(m,qe);if(cr==At||cr==Gr||Fr&&!ne){if(Oe=lt||Fr?{}:Nu(m),!qe)return lt?$u(m,b(Oe,m)):Qs(m,d(Oe,m))}else{if(!Tn[cr])return ne?m:{};Oe=Xg(m,cr,qe)}}ye||(ye=new Oa);var sn=ye.get(m);if(sn)return sn;ye.set(m,Oe),Ey(m)?m.forEach(function(xn){Oe.add(P(xn,w,I,xn,m,ye))}):e_(m)&&m.forEach(function(xn,Jn){Oe.set(Jn,P(xn,w,I,Jn,m,ye))});var vn=Zt?lt?rp:mf:lt?To:po,Vn=Kt?n:vn(m);return On(Vn||m,function(xn,Jn){Vn&&(Jn=xn,xn=m[Jn]),Ks(Oe,Jn,P(xn,w,I,Jn,m,ye))}),Oe}function z(m){var w=po(m);return function(I){return N(I,m,w)}}function N(m,w,I){var U=I.length;if(m==null)return!U;for(m=vi(m);U--;){var ne=I[U],ye=w[ne],Oe=m[ne];if(Oe===n&&!(ne in m)||!ye(Oe))return!1}return!0}function V(m,w,I){if(typeof m!="function")throw new Ma(c);return Ec(function(){m.apply(n,I)},w)}function J(m,w,I,U){var ne=-1,ye=Zr,Oe=!0,qe=m.length,lt=[],Zt=w.length;if(!qe)return lt;I&&(w=Dn(w,io(I))),U?(ye=Fi,Oe=!1):w.length>=p&&(ye=Su,Oe=!1,w=new Pa(w));e:for(;++ne<qe;){var Kt=m[ne],cr=I==null?Kt:I(Kt);if(Kt=U||Kt!==0?Kt:0,Oe&&cr===cr){for(var Fr=Zt;Fr--;)if(w[Fr]===cr)continue e;lt.push(Kt)}else ye(w,cr,U)||lt.push(Kt)}return lt}var oe=$g(Fe),me=$g(Be,!0);function pe(m,w){var I=!0;return oe(m,function(U,ne,ye){return I=!!w(U,ne,ye),I}),I}function be(m,w,I){for(var U=-1,ne=m.length;++U<ne;){var ye=m[U],Oe=w(ye);if(Oe!=null&&(qe===n?Oe===Oe&&!ds(Oe):I(Oe,qe)))var qe=Oe,lt=ye}return lt}function ue(m,w,I,U){var ne=m.length;for(I=$n(I),I<0&&(I=-I>ne?0:ne+I),U=U===n||U>ne?ne:$n(U),U<0&&(U+=ne),U=I>U?0:Na(U);I<U;)m[I++]=w;return m}function de(m,w){var I=[];return oe(m,function(U,ne,ye){w(U,ne,ye)&&I.push(U)}),I}function we(m,w,I,U,ne){var ye=-1,Oe=m.length;for(I||(I=gd),ne||(ne=[]);++ye<Oe;){var qe=m[ye];w>0&&I(qe)?w>1?we(qe,w-1,I,U,ne):pi(ne,qe):U||(ne[ne.length]=qe)}return ne}var xe=Vg(),Ie=Vg(!0);function Fe(m,w){return m&&xe(m,w,po)}function Be(m,w){return m&&Ie(m,w,po)}function We(m,w){return cn(w,function(I){return cs(m[I])})}function bt(m,w){w=ju(w,m);for(var I=0,U=w.length;m!=null&&I<U;)m=m[ol(w[I++])];return I&&I==U?m:n}function pt(m,w,I){var U=w(m);return Fn(m)?U:pi(U,I(m))}function Xe(m){return m==null?m===n?Ir:Dt:Ss&&Ss in vi(m)?v0(m):Tc(m)}function tr(m,w){return m>w}function ct(m,w){return m!=null&&Rn.call(m,w)}function Ft(m,w){return m!=null&&w in vi(m)}function St(m,w,I){return m>=Wi(w,I)&&m<ji(w,I)}function Jt(m,w,I){for(var U=I?Fi:Zr,ne=m[0].length,ye=m.length,Oe=ye,qe=Ot(ye),lt=1/0,Zt=[];Oe--;){var Kt=m[Oe];Oe&&w&&(Kt=Dn(Kt,io(w))),lt=Wi(Kt.length,lt),qe[Oe]=!I&&(w||ne>=120&&Kt.length>=120)?new Pa(Oe&&Kt):n}Kt=m[0];var cr=-1,Fr=qe[0];e:for(;++cr<ne&&Zt.length<lt;){var sn=Kt[cr],vn=w?w(sn):sn;if(sn=I||sn!==0?sn:0,!(Fr?Su(Fr,vn):U(Zt,vn,I))){for(Oe=ye;--Oe;){var Vn=qe[Oe];if(!(Vn?Su(Vn,vn):U(m[Oe],vn,I)))continue e}Fr&&Fr.push(vn),Zt.push(sn)}}return Zt}function Et(m,w,I,U){return Fe(m,function(ne,ye,Oe){w(U,I(ne),ye,Oe)}),U}function $t(m,w,I){w=ju(w,m),m=yf(m,w);var U=m==null?m:m[ol(us(w))];return U==null?n:dr(U,m,I)}function or(m){return Xi(m)&&Xe(m)==Gr}function it(m){return Xi(m)&&Xe(m)==vr}function Mt(m){return Xi(m)&&Xe(m)==It}function Pr(m,w,I,U,ne){return m===w?!0:m==null||w==null||!Xi(m)&&!Xi(w)?m!==m&&w!==w:Qr(m,w,I,U,Pr,ne)}function Qr(m,w,I,U,ne,ye){var Oe=Fn(m),qe=Fn(w),lt=Oe?Nr:Bo(m),Zt=qe?Nr:Bo(w);lt=lt==Gr?At:lt,Zt=Zt==Gr?At:Zt;var Kt=lt==At,cr=Zt==At,Fr=lt==Zt;if(Fr&&Il(m)){if(!Il(w))return!1;Oe=!0,Kt=!1}if(Fr&&!Kt)return ye||(ye=new Oa),Oe||uu(m)?tp(m,w,I,U,ne,ye):Gg(m,w,lt,I,U,ne,ye);if(!(I&B)){var sn=Kt&&Rn.call(m,"__wrapped__"),vn=cr&&Rn.call(w,"__wrapped__");if(sn||vn){var Vn=sn?m.value():m,xn=vn?w.value():w;return ye||(ye=new Oa),ne(Vn,xn,I,U,ye)}}return Fr?(ye||(ye=new Oa),Mm(m,w,I,U,ne,ye)):!1}function Rr(m){return Xi(m)&&Bo(m)==He}function on(m,w,I,U){var ne=I.length,ye=ne,Oe=!U;if(m==null)return!ye;for(m=vi(m);ne--;){var qe=I[ne];if(Oe&&qe[2]?qe[1]!==m[qe[0]]:!(qe[0]in m))return!1}for(;++ne<ye;){qe=I[ne];var lt=qe[0],Zt=m[lt],Kt=qe[1];if(Oe&&qe[2]){if(Zt===n&&!(lt in m))return!1}else{var cr=new Oa;if(U)var Fr=U(Zt,Kt,lt,m,w,cr);if(!(Fr===n?Pr(Kt,Zt,B|G,U,cr):Fr))return!1}}return!0}function Mn(m){if(!_n(m)||op(m))return!1;var w=cs(m)?pm:Or;return w.test(al(m))}function en(m){return Xi(m)&&Xe(m)==ar}function kr(m){return Xi(m)&&Bo(m)==Ut}function oi(m){return Xi(m)&&Ff(m.length)&&!!ii[Xe(m)]}function Xn(m){return typeof m=="function"?m:m==null?Ha:typeof m=="object"?Fn(m)?as(m[0],m[1]):Fo(m):__(m)}function ai(m){if(!yd(m))return ud(m);var w=[];for(var I in vi(m))Rn.call(m,I)&&I!="constructor"&&w.push(I);return w}function li(m){if(!_n(m))return gf(m);var w=yd(m),I=[];for(var U in m)U=="constructor"&&(w||!Rn.call(m,U))||I.push(U);return I}function Ro(m,w){return m<w}function ca(m,w){var I=-1,U=Ua(m)?Ot(m.length):[];return oe(m,function(ne,ye,Oe){U[++I]=w(ne,ye,Oe)}),U}function Fo(m){var w=_f(m);return w.length==1&&w[0][2]?Is(w[0][0],w[0][1]):function(I){return I===m||on(I,m,w)}}function as(m,w){return ip(m)&&km(w)?Is(ol(m),w):function(I){var U=o_(I,m);return U===n&&U===w?Lp(I,m):Pr(w,U,B|G)}}function ui(m,w,I,U,ne){m!==w&&xe(w,function(ye,Oe){if(ne||(ne=new Oa),_n(ye))mi(m,w,Oe,I,ui,U,ne);else{var qe=U?U(sp(m,Oe),ye,Oe+"",m,w,ne):n;qe===n&&(qe=ye),wc(m,Oe,qe)}},To)}function mi(m,w,I,U,ne,ye,Oe){var qe=sp(m,I),lt=sp(w,I),Zt=Oe.get(lt);if(Zt){wc(m,I,Zt);return}var Kt=ye?ye(qe,lt,I+"",m,w,Oe):n,cr=Kt===n;if(cr){var Fr=Fn(lt),sn=!Fr&&Il(lt),vn=!Fr&&!sn&&uu(lt);Kt=lt,Fr||sn||vn?Fn(qe)?Kt=qe:Kn(qe)?Kt=Mo(qe):sn?(cr=!1,Kt=pf(lt,!0)):vn?(cr=!1,Kt=Bg(lt,!0)):Kt=[]:zf(lt)||Ic(lt)?(Kt=qe,Ic(qe)?Kt=Pc(qe):(!_n(qe)||cs(qe))&&(Kt=Nu(lt))):cr=!1}cr&&(Oe.set(lt,Kt),ne(Kt,lt,U,ye,Oe),Oe.delete(lt)),wc(m,I,Kt)}function Wn(m,w){var I=m.length;if(I)return w+=w<0?I:0,Ds(w,I)?m[w]:n}function Vi(m,w,I){w.length?w=Dn(w,function(ye){return Fn(ye)?function(Oe){return bt(Oe,ye.length===1?ye[0]:ye)}:ye}):w=[Ha];var U=-1;w=Dn(w,io(mn()));var ne=ca(m,function(ye,Oe,qe){var lt=Dn(w,function(Zt){return Zt(ye)});return{criteria:lt,index:++U,value:ye}});return uc(ne,function(ye,Oe){return y0(ye,Oe,I)})}function zo(m,w){return _i(m,w,function(I,U){return Lp(m,U)})}function _i(m,w,I){for(var U=-1,ne=w.length,ye={};++U<ne;){var Oe=w[U],qe=bt(m,Oe);I(qe,Oe)&&da(ye,ju(Oe,m),qe)}return ye}function Zo(m){return function(w){return bt(w,m)}}function nu(m,w,I,U){var ne=U?In:sa,ye=-1,Oe=w.length,qe=m;for(m===w&&(w=Mo(w)),I&&(qe=Dn(m,io(I)));++ye<Oe;)for(var lt=0,Zt=w[ye],Kt=I?I(Zt):Zt;(lt=ne(qe,Kt,lt,U))>-1;)qe!==m&&Sl.call(qe,lt,1),Sl.call(m,lt,1);return m}function Es(m,w){for(var I=m?w.length:0,U=I-1;I--;){var ne=w[I];if(I==U||ne!==ye){var ye=ne;Ds(ne)?Sl.call(m,ne,1):qh(m,ne)}}return m}function ho(m,w){return m+Ll(Kl()*(w-m+1))}function Ra(m,w,I,U){for(var ne=-1,ye=ji(Wo((w-m)/(I||1)),0),Oe=Ot(ye);ye--;)Oe[U?ye:++ne]=m,m+=I;return Oe}function Fa(m,w){var I="";if(!m||w<1||w>vt)return I;do w%2&&(I+=m),w=Ll(w/2),w&&(m+=m);while(w);return I}function wn(m,w){return lp(ap(m,w,Ha),m+"")}function xc(m){return fd(fs(m))}function Yu(m,w){var I=fs(m);return Ps(I,D(w,0,I.length))}function da(m,w,I,U){if(!_n(m))return m;w=ju(w,m);for(var ne=-1,ye=w.length,Oe=ye-1,qe=m;qe!=null&&++ne<ye;){var lt=ol(w[ne]),Zt=I;if(lt==="__proto__"||lt==="constructor"||lt==="prototype")return m;if(ne!=Oe){var Kt=qe[lt];Zt=U?U(Kt,lt,qe):n,Zt===n&&(Zt=_n(Kt)?Kt:Ds(w[ne+1])?[]:{})}Ks(qe,lt,Zt),qe=qe[lt]}return m}var hd=Jl?function(m,w){return Jl.set(m,w),m}:Ha,Nh=Pu?function(m,w){return Pu(m,"toString",{configurable:!0,enumerable:!1,value:p_(w),writable:!0})}:Ha;function Og(m){return Ps(fs(m))}function za(m,w,I){var U=-1,ne=m.length;w<0&&(w=-w>ne?0:ne+w),I=I>ne?ne:I,I<0&&(I+=ne),ne=w>I?0:I-w>>>0,w>>>=0;for(var ye=Ot(ne);++U<ne;)ye[U]=m[U+w];return ye}function Rg(m,w){var I;return oe(m,function(U,ne,ye){return I=w(U,ne,ye),!I}),!!I}function hf(m,w,I){var U=0,ne=m==null?U:m.length;if(typeof w=="number"&&w===w&&ne<=pn){for(;U<ne;){var ye=U+ne>>>1,Oe=m[ye];Oe!==null&&!ds(Oe)&&(I?Oe<=w:Oe<w)?U=ye+1:ne=ye}return ne}return Hh(m,w,Ha,I)}function Hh(m,w,I,U){var ne=0,ye=m==null?0:m.length;if(ye===0)return 0;w=I(w);for(var Oe=w!==w,qe=w===null,lt=ds(w),Zt=w===n;ne<ye;){var Kt=Ll((ne+ye)/2),cr=I(m[Kt]),Fr=cr!==n,sn=cr===null,vn=cr===cr,Vn=ds(cr);if(Oe)var xn=U||vn;else Zt?xn=vn&&(U||Fr):qe?xn=vn&&Fr&&(U||!sn):lt?xn=vn&&Fr&&!sn&&(U||!Vn):sn||Vn?xn=!1:xn=U?cr<=w:cr<w;xn?ne=Kt+1:ye=Kt}return Wi(ye,Er)}function ym(m,w){for(var I=-1,U=m.length,ne=0,ye=[];++I<U;){var Oe=m[I],qe=w?w(Oe):Oe;if(!I||!ll(qe,lt)){var lt=qe;ye[ne++]=Oe===0?0:Oe}}return ye}function bm(m){return typeof m=="number"?m:ds(m)?Sr:+m}function Ya(m){if(typeof m=="string")return m;if(Fn(m))return Dn(m,Ya)+"";if(ds(m))return of?of.call(m):"";var w=m+"";return w=="0"&&1/m==-dt?"-0":w}function iu(m,w,I){var U=-1,ne=Zr,ye=m.length,Oe=!0,qe=[],lt=qe;if(I)Oe=!1,ne=Fi;else if(ye>=p){var Zt=w?null:ls(m);if(Zt)return dc(Zt);Oe=!1,ne=Su,lt=new Pa}else lt=w?[]:qe;e:for(;++U<ye;){var Kt=m[U],cr=w?w(Kt):Kt;if(Kt=I||Kt!==0?Kt:0,Oe&&cr===cr){for(var Fr=lt.length;Fr--;)if(lt[Fr]===cr)continue e;w&&lt.push(cr),qe.push(Kt)}else ne(lt,cr,I)||(lt!==qe&&lt.push(cr),qe.push(Kt))}return qe}function qh(m,w){return w=ju(w,m),m=yf(m,w),m==null||delete m[ol(us(w))]}function vm(m,w,I,U){return da(m,w,I(bt(m,w)),U)}function Gh(m,w,I,U){for(var ne=m.length,ye=U?ne:-1;(U?ye--:++ye<ne)&&w(m[ye],ye,m););return I?za(m,U?0:ye,U?ye+1:ne):za(m,U?ye+1:0,U?ne:ye)}function Fg(m,w){var I=m;return I instanceof Gn&&(I=I.value()),Gi(w,function(U,ne){return ne.func.apply(ne.thisArg,pi([U],ne.args))},I)}function Bu(m,w,I){var U=m.length;if(U<2)return U?iu(m[0]):[];for(var ne=-1,ye=Ot(U);++ne<U;)for(var Oe=m[ne],qe=-1;++qe<U;)qe!=ne&&(ye[ne]=J(ye[ne]||Oe,m[qe],w,I));return iu(we(ye,1),w,I)}function wm(m,w,I){for(var U=-1,ne=m.length,ye=w.length,Oe={};++U<ne;){var qe=U<ye?w[U]:n;I(Oe,m[U],qe)}return Oe}function Wh(m){return Kn(m)?m:[]}function Zh(m){return typeof m=="function"?m:Ha}function ju(m,w){return Fn(m)?m:ip(m,w)?[m]:up(ci(m))}var Xh=wn;function ou(m,w,I){var U=m.length;return I=I===n?U:I,!w&&I>=U?m:za(m,w,I)}var Kh=Ou||function(m){return Li.clearTimeout(m)};function pf(m,w){if(w)return m.slice();var I=m.length,U=ef?ef(I):new m.constructor(I);return m.copy(U),U}function Js(m){var w=new m.constructor(m.byteLength);return new Du(w).set(new Du(m)),w}function Jh(m,w){var I=w?Js(m.buffer):m.buffer;return new m.constructor(I,m.byteOffset,m.byteLength)}function zg(m){var w=new m.constructor(m.source,hr.exec(m));return w.lastIndex=m.lastIndex,w}function Yg(m){return Ql?vi(Ql.call(m)):{}}function Bg(m,w){var I=w?Js(m.buffer):m.buffer;return new m.constructor(I,m.byteOffset,m.length)}function jg(m,w){if(m!==w){var I=m!==n,U=m===null,ne=m===m,ye=ds(m),Oe=w!==n,qe=w===null,lt=w===w,Zt=ds(w);if(!qe&&!Zt&&!ye&&m>w||ye&&Oe&&lt&&!qe&&!Zt||U&&Oe&&lt||!I&&lt||!ne)return 1;if(!U&&!ye&&!Zt&&m<w||Zt&&I&&ne&&!U&&!ye||qe&&I&&ne||!Oe&&ne||!lt)return-1}return 0}function y0(m,w,I){for(var U=-1,ne=m.criteria,ye=w.criteria,Oe=ne.length,qe=I.length;++U<Oe;){var lt=jg(ne[U],ye[U]);if(lt){if(U>=qe)return lt;var Zt=I[U];return lt*(Zt=="desc"?-1:1)}}return m.index-w.index}function Qh(m,w,I,U){for(var ne=-1,ye=m.length,Oe=I.length,qe=-1,lt=w.length,Zt=ji(ye-Oe,0),Kt=Ot(lt+Zt),cr=!U;++qe<lt;)Kt[qe]=w[qe];for(;++ne<Oe;)(cr||ne<ye)&&(Kt[I[ne]]=m[ne]);for(;Zt--;)Kt[qe++]=m[ne++];return Kt}function pd(m,w,I,U){for(var ne=-1,ye=m.length,Oe=-1,qe=I.length,lt=-1,Zt=w.length,Kt=ji(ye-qe,0),cr=Ot(Kt+Zt),Fr=!U;++ne<Kt;)cr[ne]=m[ne];for(var sn=ne;++lt<Zt;)cr[sn+lt]=w[lt];for(;++Oe<qe;)(Fr||ne<ye)&&(cr[sn+I[Oe]]=m[ne++]);return cr}function Mo(m,w){var I=-1,U=m.length;for(w||(w=Ot(U));++I<U;)w[I]=m[I];return w}function Yo(m,w,I,U){var ne=!I;I||(I={});for(var ye=-1,Oe=w.length;++ye<Oe;){var qe=w[ye],lt=U?U(I[qe],m[qe],qe,I,m):n;lt===n&&(lt=m[qe]),ne?x(I,qe,lt):Ks(I,qe,lt)}return I}function Qs(m,w){return Yo(m,np(m),w)}function $u(m,w){return Yo(m,Wg(m),w)}function el(m,w){return function(I,U){var ne=Fn(I)?an:a,ye=w?w():{};return ne(I,m,mn(U,2),ye)}}function ks(m){return wn(function(w,I){var U=-1,ne=I.length,ye=ne>1?I[ne-1]:n,Oe=ne>2?I[2]:n;for(ye=m.length>3&&typeof ye=="function"?(ne--,ye):n,Oe&&fa(I[0],I[1],Oe)&&(ye=ne<3?n:ye,ne=1),w=vi(w);++U<ne;){var qe=I[U];qe&&m(w,qe,U,ye)}return w})}function $g(m,w){return function(I,U){if(I==null)return I;if(!Ua(I))return m(I,U);for(var ne=I.length,ye=w?ne:-1,Oe=vi(I);(w?ye--:++ye<ne)&&U(Oe[ye],ye,Oe)!==!1;);return I}}function Vg(m){return function(w,I,U){for(var ne=-1,ye=vi(w),Oe=U(w),qe=Oe.length;qe--;){var lt=Oe[m?qe:++ne];if(I(ye[lt],lt,ye)===!1)break}return w}}function b0(m,w,I){var U=w&Z,ne=Vu(m);function ye(){var Oe=this&&this!==Li&&this instanceof ye?ne:m;return Oe.apply(U?I:this,arguments)}return ye}function Ug(m){return function(w){w=ci(w);var I=qo(w)?xa(w):n,U=I?I[0]:w.charAt(0),ne=I?ou(I,1).join(""):w.slice(1);return U[m]()+ne}}function Mc(m){return function(w){return Gi(f_(l_(w).replace(td,"")),m,"")}}function Vu(m){return function(){var w=arguments;switch(w.length){case 0:return new m;case 1:return new m(w[0]);case 2:return new m(w[0],w[1]);case 3:return new m(w[0],w[1],w[2]);case 4:return new m(w[0],w[1],w[2],w[3]);case 5:return new m(w[0],w[1],w[2],w[3],w[4]);case 6:return new m(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new m(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var I=eu(m.prototype),U=m.apply(I,w);return _n(U)?U:I}}function tl(m,w,I){var U=Vu(m);function ne(){for(var ye=arguments.length,Oe=Ot(ye),qe=ye,lt=Cs(ne);qe--;)Oe[qe]=arguments[qe];var Zt=ye<3&&Oe[0]!==lt&&Oe[ye-1]!==lt?[]:Ms(Oe,lt);if(ye-=Zt.length,ye<I)return nl(m,w,Ui,ne.placeholder,n,Oe,Zt,n,n,I-ye);var Kt=this&&this!==Li&&this instanceof ne?U:m;return dr(Kt,this,Oe)}return ne}function Ng(m){return function(w,I,U){var ne=vi(w);if(!Ua(w)){var ye=mn(I,3);w=po(w),I=function(qe){return ye(ne[qe],qe,ne)}}var Oe=m(w,I,U);return Oe>-1?ne[ye?w[Oe]:Oe]:n}}function Hg(m){return au(function(w){var I=w.length,U=I,ne=La.prototype.thru;for(m&&w.reverse();U--;){var ye=w[U];if(typeof ye!="function")throw new Ma(c);if(ne&&!Oe&&As(ye)=="wrapper")var Oe=new La([],!0)}for(U=Oe?U:I;++U<I;){ye=w[U];var qe=As(ye),lt=qe=="wrapper"?Sm(ye):n;lt&&Em(lt[0])&&lt[1]==(Ge|se|Me|st)&&!lt[4].length&&lt[9]==1?Oe=Oe[As(lt[0])].apply(Oe,lt[3]):Oe=ye.length==1&&Em(ye)?Oe[qe]():Oe.thru(ye)}return function(){var Zt=arguments,Kt=Zt[0];if(Oe&&Zt.length==1&&Fn(Kt))return Oe.plant(Kt).value();for(var cr=0,Fr=I?w[cr].apply(this,Zt):Kt;++cr<I;)Fr=w[cr].call(this,Fr);return Fr}})}function Ui(m,w,I,U,ne,ye,Oe,qe,lt,Zt){var Kt=w&Ge,cr=w&Z,Fr=w&K,sn=w&(se|_e),vn=w&Ne,Vn=Fr?n:Vu(m);function xn(){for(var Jn=arguments.length,ri=Ot(Jn),qa=Jn;qa--;)ri[qa]=arguments[qa];if(sn)var _a=Cs(xn),Ga=cc(ri,_a);if(U&&(ri=Qh(ri,U,ne,sn)),ye&&(ri=pd(ri,ye,Oe,sn)),Jn-=Ga,sn&&Jn<Zt){var oo=Ms(ri,_a);return nl(m,w,Ui,xn.placeholder,I,ri,oo,qe,lt,Zt-Jn)}var zs=cr?I:this,ga=Fr?zs[m]:m;return Jn=ri.length,qe?ri=Kg(ri,qe):vn&&Jn>1&&ri.reverse(),Kt&&lt<Jn&&(ri.length=lt),this&&this!==Li&&this instanceof xn&&(ga=Vn||Vu(ga)),ga.apply(zs,ri)}return xn}function un(m,w){return function(I,U){return Et(I,m,w(U),{})}}function rl(m,w){return function(I,U){var ne;if(I===n&&U===n)return w;if(I!==n&&(ne=I),U!==n){if(ne===n)return U;typeof I=="string"||typeof U=="string"?(I=Ya(I),U=Ya(U)):(I=bm(I),U=bm(U)),ne=m(I,U)}return ne}}function md(m){return au(function(w){return w=Dn(w,io(mn())),wn(function(I){var U=this;return m(w,function(ne){return dr(ne,U,I)})})})}function jn(m,w){w=w===n?" ":Ya(w);var I=w.length;if(I<2)return I?Fa(w,m):w;var U=Fa(w,Wo(m/Eu(w)));return qo(w)?ou(xa(U),0,m).join(""):U.slice(0,m)}function qg(m,w,I,U){var ne=w&Z,ye=Vu(m);function Oe(){for(var qe=-1,lt=arguments.length,Zt=-1,Kt=U.length,cr=Ot(Kt+lt),Fr=this&&this!==Li&&this instanceof Oe?ye:m;++Zt<Kt;)cr[Zt]=U[Zt];for(;lt--;)cr[Zt++]=arguments[++qe];return dr(Fr,ne?I:this,cr)}return Oe}function ep(m){return function(w,I,U){return U&&typeof U!="number"&&fa(w,I,U)&&(I=U=n),w=ul(w),I===n?(I=w,w=0):I=ul(I),U=U===n?w<I?1:-1:ul(U),Ra(w,I,U,m)}}function ss(m){return function(w,I){return typeof w=="string"&&typeof I=="string"||(w=ma(w),I=ma(I)),m(w,I)}}function nl(m,w,I,U,ne,ye,Oe,qe,lt,Zt){var Kt=w&se,cr=Kt?Oe:n,Fr=Kt?n:Oe,sn=Kt?ye:n,vn=Kt?n:ye;w|=Kt?Me:he,w&=~(Kt?he:Me),w&te||(w&=-4);var Vn=[m,w,ne,sn,cr,vn,Fr,qe,lt,Zt],xn=I.apply(n,Vn);return Em(m)&&Jg(xn,Vn),xn.placeholder=U,bd(xn,m,w)}function Ba(m){var w=co[m];return function(I,U){if(I=ma(I),U=U==null?0:Wi($n(U),292),U&&Xl(I)){var ne=(ci(I)+"e").split("e"),ye=w(ne[0]+"e"+(+ne[1]+U));return ne=(ci(ye)+"e").split("e"),+(ne[0]+"e"+(+ne[1]-U))}return w(I)}}var ls=El&&1/dc(new El([,-0]))[1]==dt?function(m){return new El(m)}:m_;function So(m){return function(w){var I=Bo(w);return I==He?Tu(w):I==Ut?id(w):is(w,m(w))}}function Cl(m,w,I,U,ne,ye,Oe,qe){var lt=w&K;if(!lt&&typeof m!="function")throw new Ma(c);var Zt=U?U.length:0;if(Zt||(w&=-97,U=ne=n),Oe=Oe===n?Oe:ji($n(Oe),0),qe=qe===n?qe:$n(qe),Zt-=ne?ne.length:0,w&he){var Kt=U,cr=ne;U=ne=n}var Fr=lt?n:Sm(m),sn=[m,w,I,U,ne,Kt,cr,ye,Oe,qe];if(Fr&&Lc(sn,Fr),m=sn[0],w=sn[1],I=sn[2],U=sn[3],ne=sn[4],qe=sn[9]=sn[9]===n?lt?0:m.length:ji(sn[9]-Zt,0),!qe&&w&(se|_e)&&(w&=-25),!w||w==Z)var vn=b0(m,w,I);else w==se||w==_e?vn=tl(m,w,qe):(w==Me||w==(Z|Me))&&!ne.length?vn=qg(m,w,I,U):vn=Ui.apply(n,sn);var Vn=Fr?hd:Jg;return bd(Vn(vn,sn),m,w)}function il(m,w,I,U){return m===n||ll(m,Go[I])&&!Rn.call(U,I)?w:m}function xm(m,w,I,U,ne,ye){return _n(m)&&_n(w)&&(ye.set(w,m),ui(m,w,n,xm,ye),ye.delete(w)),m}function _d(m){return zf(m)?n:m}function tp(m,w,I,U,ne,ye){var Oe=I&B,qe=m.length,lt=w.length;if(qe!=lt&&!(Oe&&lt>qe))return!1;var Zt=ye.get(m),Kt=ye.get(w);if(Zt&&Kt)return Zt==w&&Kt==m;var cr=-1,Fr=!0,sn=I&G?new Pa:n;for(ye.set(m,w),ye.set(w,m);++cr<qe;){var vn=m[cr],Vn=w[cr];if(U)var xn=Oe?U(Vn,vn,cr,w,m,ye):U(vn,Vn,cr,m,w,ye);if(xn!==n){if(xn)continue;Fr=!1;break}if(sn){if(!va(w,function(Jn,ri){if(!Su(sn,ri)&&(vn===Jn||ne(vn,Jn,I,U,ye)))return sn.push(ri)})){Fr=!1;break}}else if(!(vn===Vn||ne(vn,Vn,I,U,ye))){Fr=!1;break}}return ye.delete(m),ye.delete(w),Fr}function Gg(m,w,I,U,ne,ye,Oe){switch(I){case rn:if(m.byteLength!=w.byteLength||m.byteOffset!=w.byteOffset)return!1;m=m.buffer,w=w.buffer;case vr:return!(m.byteLength!=w.byteLength||!ye(new Du(m),new Du(w)));case qt:case It:case at:return ll(+m,+w);case _r:return m.name==w.name&&m.message==w.message;case ar:case jr:return m==w+"";case He:var qe=Tu;case Ut:var lt=U&B;if(qe||(qe=dc),m.size!=w.size&&!lt)return!1;var Zt=Oe.get(m);if(Zt)return Zt==w;U|=G,Oe.set(m,w);var Kt=tp(qe(m),qe(w),U,ne,ye,Oe);return Oe.delete(m),Kt;case lr:if(Ql)return Ql.call(m)==Ql.call(w)}return!1}function Mm(m,w,I,U,ne,ye){var Oe=I&B,qe=mf(m),lt=qe.length,Zt=mf(w),Kt=Zt.length;if(lt!=Kt&&!Oe)return!1;for(var cr=lt;cr--;){var Fr=qe[cr];if(!(Oe?Fr in w:Rn.call(w,Fr)))return!1}var sn=ye.get(m),vn=ye.get(w);if(sn&&vn)return sn==w&&vn==m;var Vn=!0;ye.set(m,w),ye.set(w,m);for(var xn=Oe;++cr<lt;){Fr=qe[cr];var Jn=m[Fr],ri=w[Fr];if(U)var qa=Oe?U(ri,Jn,Fr,w,m,ye):U(Jn,ri,Fr,m,w,ye);if(!(qa===n?Jn===ri||ne(Jn,ri,I,U,ye):qa)){Vn=!1;break}xn||(xn=Fr=="constructor")}if(Vn&&!xn){var _a=m.constructor,Ga=w.constructor;_a!=Ga&&"constructor"in m&&"constructor"in w&&!(typeof _a=="function"&&_a instanceof _a&&typeof Ga=="function"&&Ga instanceof Ga)&&(Vn=!1)}return ye.delete(m),ye.delete(w),Vn}function au(m){return lp(ap(m,n,Im),m+"")}function mf(m){return pt(m,po,np)}function rp(m){return pt(m,To,Wg)}var Sm=Jl?function(m){return Jl.get(m)}:m_;function As(m){for(var w=m.name+"",I=Ls[w],U=Rn.call(Ls,w)?I.length:0;U--;){var ne=I[U],ye=ne.func;if(ye==null||ye==m)return ne.name}return w}function Cs(m){var w=Rn.call(ce,"placeholder")?ce:m;return w.placeholder}function mn(){var m=ce.iteratee||Ol;return m=m===Ol?Xn:m,arguments.length?m(arguments[0],arguments[1]):m}function Sc(m,w){var I=m.__data__;return M0(w)?I[typeof w=="string"?"string":"hash"]:I.map}function _f(m){for(var w=po(m),I=w.length;I--;){var U=w[I],ne=m[U];w[I]=[U,ne,km(ne)]}return w}function Uu(m,w){var I=Kd(m,w);return Mn(I)?I:n}function v0(m){var w=Rn.call(m,Ss),I=m[Ss];try{m[Ss]=n;var U=!0}catch{}var ne=Cu.call(m);return U&&(w?m[Ss]=I:delete m[Ss]),ne}var np=ld?function(m){return m==null?[]:(m=vi(m),cn(ld(m),function(w){return _c.call(m,w)}))}:g_,Wg=ld?function(m){for(var w=[];m;)pi(w,np(m)),m=Iu(m);return w}:g_,Bo=Xe;(tf&&Bo(new tf(new ArrayBuffer(1)))!=rn||Ru&&Bo(new Ru)!=He||Tl&&Bo(Tl.resolve())!=sr||El&&Bo(new El)!=Ut||kl&&Bo(new kl)!=zr)&&(Bo=function(m){var w=Xe(m),I=w==At?m.constructor:n,U=I?al(I):"";if(U)switch(U){case Ih:return rn;case rf:return He;case nf:return sr;case Ph:return Ut;case cd:return zr}return w});function w0(m,w,I){for(var U=-1,ne=I.length;++U<ne;){var ye=I[U],Oe=ye.size;switch(ye.type){case"drop":m+=Oe;break;case"dropRight":w-=Oe;break;case"take":w=Wi(w,m+Oe);break;case"takeRight":m=ji(m,w-Oe);break}}return{start:m,end:w}}function Lm(m){var w=m.match(je);return w?w[1].split(rt):[]}function Tm(m,w,I){w=ju(w,m);for(var U=-1,ne=w.length,ye=!1;++U<ne;){var Oe=ol(w[U]);if(!(ye=m!=null&&I(m,Oe)))break;m=m[Oe]}return ye||++U!=ne?ye:(ne=m==null?0:m.length,!!ne&&Ff(ne)&&Ds(Oe,ne)&&(Fn(m)||Ic(m)))}function Zg(m){var w=m.length,I=new m.constructor(w);return w&&typeof m[0]=="string"&&Rn.call(m,"index")&&(I.index=m.index,I.input=m.input),I}function Nu(m){return typeof m.constructor=="function"&&!yd(m)?eu(Iu(m)):{}}function Xg(m,w,I){var U=m.constructor;switch(w){case vr:return Js(m);case qt:case It:return new U(+m);case rn:return Jh(m,I);case Qn:case ae:case $:case q:case Te:case Ze:case ht:case ke:case Qe:return Bg(m,I);case He:return new U;case at:case jr:return new U(m);case ar:return zg(m);case Ut:return new U;case lr:return Yg(m)}}function x0(m,w){var I=w.length;if(!I)return m;var U=I-1;return w[U]=(I>1?"& ":"")+w[U],w=w.join(I>2?", ":" "),m.replace(Le,`{
/* [wrapped with `+w+`] */
`)}function gd(m){return Fn(m)||Ic(m)||!!(Zs&&m&&m[Zs])}function Ds(m,w){var I=typeof m;return w=w??vt,!!w&&(I=="number"||I!="symbol"&&Kr.test(m))&&m>-1&&m%1==0&&m<w}function fa(m,w,I){if(!_n(I))return!1;var U=typeof w;return(U=="number"?Ua(I)&&Ds(w,I.length):U=="string"&&w in I)?ll(I[w],m):!1}function ip(m,w){if(Fn(m))return!1;var I=typeof m;return I=="number"||I=="symbol"||I=="boolean"||m==null||ds(m)?!0:Jr.test(m)||!wr.test(m)||w!=null&&m in vi(w)}function M0(m){var w=typeof m;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?m!=="__proto__":m===null}function Em(m){var w=As(m),I=ce[w];if(typeof I!="function"||!(w in Gn.prototype))return!1;if(m===I)return!0;var U=Sm(I);return!!U&&m===U[0]}function op(m){return!!Ml&&Ml in m}var ja=xl?cs:Op;function yd(m){var w=m&&m.constructor,I=typeof w=="function"&&w.prototype||Go;return m===I}function km(m){return m===m&&!_n(m)}function Is(m,w){return function(I){return I==null?!1:I[m]===w&&(w!==n||m in vi(I))}}function Am(m){var w=Pf(m,function(U){return I.size===E&&I.clear(),U}),I=w.cache;return w}function Lc(m,w){var I=m[1],U=w[1],ne=I|U,ye=ne<(Z|K|Ge),Oe=U==Ge&&I==se||U==Ge&&I==st&&m[7].length<=w[8]||U==(Ge|st)&&w[7].length<=w[8]&&I==se;if(!(ye||Oe))return m;U&Z&&(m[2]=w[2],ne|=I&Z?0:te);var qe=w[3];if(qe){var lt=m[3];m[3]=lt?Qh(lt,qe,w[4]):qe,m[4]=lt?Ms(m[3],k):w[4]}return qe=w[5],qe&&(lt=m[5],m[5]=lt?pd(lt,qe,w[6]):qe,m[6]=lt?Ms(m[5],k):w[6]),qe=w[7],qe&&(m[7]=qe),U&Ge&&(m[8]=m[8]==null?w[8]:Wi(m[8],w[8])),m[9]==null&&(m[9]=w[9]),m[0]=w[0],m[1]=ne,m}function gf(m){var w=[];if(m!=null)for(var I in vi(m))w.push(I);return w}function Tc(m){return Cu.call(m)}function ap(m,w,I){return w=ji(w===n?m.length-1:w,0),function(){for(var U=arguments,ne=-1,ye=ji(U.length-w,0),Oe=Ot(ye);++ne<ye;)Oe[ne]=U[w+ne];ne=-1;for(var qe=Ot(w+1);++ne<w;)qe[ne]=U[ne];return qe[w]=I(Oe),dr(m,this,qe)}}function yf(m,w){return w.length<2?m:bt(m,za(w,0,-1))}function Kg(m,w){for(var I=m.length,U=Wi(w.length,I),ne=Mo(m);U--;){var ye=w[U];m[U]=Ds(ye,I)?ne[ye]:n}return m}function sp(m,w){if(!(w==="constructor"&&typeof m[w]=="function")&&w!="__proto__")return m[w]}var Jg=kc(hd),Ec=Tr||function(m,w){return Li.setTimeout(m,w)},lp=kc(Nh);function bd(m,w,I){var U=w+"";return lp(m,x0(U,bf(Lm(U),I)))}function kc(m){var w=0,I=0;return function(){var U=ua(),ne=gt-(U-I);if(I=U,ne>0){if(++w>=Ke)return arguments[0]}else w=0;return m.apply(n,arguments)}}function Ps(m,w){var I=-1,U=m.length,ne=U-1;for(w=w===n?U:w;++I<w;){var ye=ho(I,ne),Oe=m[ye];m[ye]=m[I],m[I]=Oe}return m.length=w,m}var up=Am(function(m){var w=[];return m.charCodeAt(0)===46&&w.push(""),m.replace(yn,function(I,U,ne,ye){w.push(ne?ye.replace(et,"$1"):U||I)}),w});function ol(m){if(typeof m=="string"||ds(m))return m;var w=m+"";return w=="0"&&1/m==-dt?"-0":w}function al(m){if(m!=null){try{return pc.call(m)}catch{}try{return m+""}catch{}}return""}function bf(m,w){return On(qr,function(I){var U="_."+I[0];w&I[1]&&!Zr(m,U)&&m.push(U)}),m.sort()}function $a(m){if(m instanceof Gn)return m.clone();var w=new La(m.__wrapped__,m.__chain__);return w.__actions__=Mo(m.__actions__),w.__index__=m.__index__,w.__values__=m.__values__,w}function vf(m,w,I){(I?fa(m,w,I):w===n)?w=1:w=ji($n(w),0);var U=m==null?0:m.length;if(!U||w<1)return[];for(var ne=0,ye=0,Oe=Ot(Wo(U/w));ne<U;)Oe[ye++]=za(m,ne,ne+=w);return Oe}function ha(m){for(var w=-1,I=m==null?0:m.length,U=0,ne=[];++w<I;){var ye=m[w];ye&&(ne[U++]=ye)}return ne}function Os(){var m=arguments.length;if(!m)return[];for(var w=Ot(m-1),I=arguments[0],U=m;U--;)w[U-1]=arguments[U];return pi(Fn(I)?Mo(I):[I],we(w,1))}var Cm=wn(function(m,w){return Kn(m)?J(m,we(w,1,Kn,!0)):[]}),Zi=wn(function(m,w){var I=us(w);return Kn(I)&&(I=n),Kn(m)?J(m,we(w,1,Kn,!0),mn(I,2)):[]}),Qg=wn(function(m,w){var I=us(w);return Kn(I)&&(I=n),Kn(m)?J(m,we(w,1,Kn,!0),n,I):[]});function wf(m,w,I){var U=m==null?0:m.length;return U?(w=I||w===n?1:$n(w),za(m,w<0?0:w,U)):[]}function sl(m,w,I){var U=m==null?0:m.length;return U?(w=I||w===n?1:$n(w),w=U-w,za(m,0,w<0?0:w)):[]}function S0(m,w){return m&&m.length?Gh(m,mn(w,3),!0,!0):[]}function L0(m,w){return m&&m.length?Gh(m,mn(w,3),!0):[]}function ey(m,w,I,U){var ne=m==null?0:m.length;return ne?(I&&typeof I!="number"&&fa(m,w,I)&&(I=0,U=ne),ue(m,w,I,U)):[]}function Dm(m,w,I){var U=m==null?0:m.length;if(!U)return-1;var ne=I==null?0:$n(I);return ne<0&&(ne=ji(U+ne,0)),ns(m,mn(w,3),ne)}function Hu(m,w,I){var U=m==null?0:m.length;if(!U)return-1;var ne=U-1;return I!==n&&(ne=$n(I),ne=I<0?ji(U+ne,0):Wi(ne,U-1)),ns(m,mn(w,3),ne,!0)}function Im(m){var w=m==null?0:m.length;return w?we(m,1):[]}function ty(m){var w=m==null?0:m.length;return w?we(m,dt):[]}function ry(m,w){var I=m==null?0:m.length;return I?(w=w===n?1:$n(w),we(m,w)):[]}function ny(m){for(var w=-1,I=m==null?0:m.length,U={};++w<I;){var ne=m[w];U[ne[0]]=ne[1]}return U}function iy(m){return m&&m.length?m[0]:n}function Pm(m,w,I){var U=m==null?0:m.length;if(!U)return-1;var ne=I==null?0:$n(I);return ne<0&&(ne=ji(U+ne,0)),sa(m,w,ne)}function Om(m){var w=m==null?0:m.length;return w?za(m,0,-1):[]}var Rm=wn(function(m){var w=Dn(m,Wh);return w.length&&w[0]===m[0]?Jt(w):[]}),pa=wn(function(m){var w=us(m),I=Dn(m,Wh);return w===us(I)?w=n:I.pop(),I.length&&I[0]===m[0]?Jt(I,mn(w,2)):[]}),oy=wn(function(m){var w=us(m),I=Dn(m,Wh);return w=typeof w=="function"?w:n,w&&I.pop(),I.length&&I[0]===m[0]?Jt(I,n,w):[]});function T0(m,w){return m==null?"":Dh.call(m,w)}function us(m){var w=m==null?0:m.length;return w?m[w-1]:n}function E0(m,w,I){var U=m==null?0:m.length;if(!U)return-1;var ne=U;return I!==n&&(ne=$n(I),ne=ne<0?ji(U+ne,0):Wi(ne,U-1)),w===w?od(m,w,ne):ns(m,wa,ne,!0)}function k0(m,w){return m&&m.length?Wn(m,$n(w)):n}var ay=wn(Fm);function Fm(m,w){return m&&m.length&&w&&w.length?nu(m,w):m}function sy(m,w,I){return m&&m.length&&w&&w.length?nu(m,w,mn(I,2)):m}function zm(m,w,I){return m&&m.length&&w&&w.length?nu(m,w,n,I):m}var su=au(function(m,w){var I=m==null?0:m.length,U=L(m,w);return Es(m,Dn(w,function(ne){return Ds(ne,I)?+ne:ne}).sort(jg)),U});function Va(m,w){var I=[];if(!(m&&m.length))return I;var U=-1,ne=[],ye=m.length;for(w=mn(w,3);++U<ye;){var Oe=m[U];w(Oe,U,m)&&(I.push(Oe),ne.push(U))}return Es(m,ne),I}function Ym(m){return m==null?m:mm.call(m)}function Bm(m,w,I){var U=m==null?0:m.length;return U?(I&&typeof I!="number"&&fa(m,w,I)?(w=0,I=U):(w=w==null?0:$n(w),I=I===n?U:$n(I)),za(m,w,I)):[]}function A0(m,w){return hf(m,w)}function C0(m,w,I){return Hh(m,w,mn(I,2))}function D0(m,w){var I=m==null?0:m.length;if(I){var U=hf(m,w);if(U<I&&ll(m[U],w))return U}return-1}function xf(m,w){return hf(m,w,!0)}function cp(m,w,I){return Hh(m,w,mn(I,2),!0)}function ly(m,w){var I=m==null?0:m.length;if(I){var U=hf(m,w,!0)-1;if(ll(m[U],w))return U}return-1}function Ac(m){return m&&m.length?ym(m):[]}function Mf(m,w){return m&&m.length?ym(m,mn(w,2)):[]}function I0(m){var w=m==null?0:m.length;return w?za(m,1,w):[]}function P0(m,w,I){return m&&m.length?(w=I||w===n?1:$n(w),za(m,0,w<0?0:w)):[]}function O0(m,w,I){var U=m==null?0:m.length;return U?(w=I||w===n?1:$n(w),w=U-w,za(m,w<0?0:w,U)):[]}function R0(m,w){return m&&m.length?Gh(m,mn(w,3),!1,!0):[]}function F0(m,w){return m&&m.length?Gh(m,mn(w,3)):[]}var z0=wn(function(m){return iu(we(m,1,Kn,!0))}),Y0=wn(function(m){var w=us(m);return Kn(w)&&(w=n),iu(we(m,1,Kn,!0),mn(w,2))}),jm=wn(function(m){var w=us(m);return w=typeof w=="function"?w:n,iu(we(m,1,Kn,!0),n,w)});function B0(m){return m&&m.length?iu(m):[]}function vd(m,w){return m&&m.length?iu(m,mn(w,2)):[]}function j0(m,w){return w=typeof w=="function"?w:n,m&&m.length?iu(m,n,w):[]}function Ni(m){if(!(m&&m.length))return[];var w=0;return m=cn(m,function(I){if(Kn(I))return w=ji(I.length,w),!0}),Aa(w,function(I){return Dn(m,Ho(I))})}function Sf(m,w){if(!(m&&m.length))return[];var I=Ni(m);return w==null?I:Dn(I,function(U){return dr(w,n,U)})}var uy=wn(function(m,w){return Kn(m)?J(m,w):[]}),dp=wn(function(m){return Bu(cn(m,Kn))}),fp=wn(function(m){var w=us(m);return Kn(w)&&(w=n),Bu(cn(m,Kn),mn(w,2))}),Lf=wn(function(m){var w=us(m);return w=typeof w=="function"?w:n,Bu(cn(m,Kn),n,w)}),cy=wn(Ni);function dy(m,w){return wm(m||[],w||[],Ks)}function Tf(m,w){return wm(m||[],w||[],da)}var $m=wn(function(m){var w=m.length,I=w>1?m[w-1]:n;return I=typeof I=="function"?(m.pop(),I):n,Sf(m,I)});function hp(m){var w=ce(m);return w.__chain__=!0,w}function $0(m,w){return w(m),m}function Ef(m,w){return w(m)}var kf=au(function(m){var w=m.length,I=w?m[0]:0,U=this.__wrapped__,ne=function(ye){return L(ye,m)};return w>1||this.__actions__.length||!(U instanceof Gn)||!Ds(I)?this.thru(ne):(U=U.slice(I,+I+(w?1:0)),U.__actions__.push({func:Ef,args:[ne],thisArg:n}),new La(U,this.__chain__).thru(function(ye){return w&&!ye.length&&ye.push(n),ye}))});function V0(){return hp(this)}function Vm(){return new La(this.value(),this.__chain__)}function U0(){this.__values__===n&&(this.__values__=Sp(this.value()));var m=this.__index__>=this.__values__.length,w=m?n:this.__values__[this.__index__++];return{done:m,value:w}}function Um(){return this}function Nm(m){for(var w,I=this;I instanceof tu;){var U=$a(I);U.__index__=0,U.__values__=n,w?ne.__wrapped__=U:w=U;var ne=U;I=I.__wrapped__}return ne.__wrapped__=m,w}function pp(){var m=this.__wrapped__;if(m instanceof Gn){var w=m;return this.__actions__.length&&(w=new Gn(this)),w=w.reverse(),w.__actions__.push({func:Ef,args:[Ym],thisArg:n}),new La(w,this.__chain__)}return this.thru(Ym)}function N0(){return Fg(this.__wrapped__,this.__actions__)}var H0=el(function(m,w,I){Rn.call(m,I)?++m[I]:x(m,I,1)});function q0(m,w,I){var U=Fn(m)?Xt:pe;return I&&fa(m,w,I)&&(w=n),U(m,mn(w,3))}function G0(m,w){var I=Fn(m)?cn:de;return I(m,mn(w,3))}var W0=Ng(Dm),Z0=Ng(Hu);function mp(m,w){return we(_p(m,w),1)}function X0(m,w){return we(_p(m,w),dt)}function fy(m,w,I){return I=I===n?1:$n(I),we(_p(m,w),I)}function Cc(m,w){var I=Fn(m)?On:oe;return I(m,mn(w,3))}function hy(m,w){var I=Fn(m)?Bi:me;return I(m,mn(w,3))}var K0=el(function(m,w,I){Rn.call(m,I)?m[I].push(w):x(m,I,[w])});function J0(m,w,I,U){m=Ua(m)?m:fs(m),I=I&&!U?$n(I):0;var ne=m.length;return I<0&&(I=ji(ne+I,0)),Mp(m)?I<=ne&&m.indexOf(w,I)>-1:!!ne&&sa(m,w,I)>-1}var py=wn(function(m,w,I){var U=-1,ne=typeof w=="function",ye=Ua(m)?Ot(m.length):[];return oe(m,function(Oe){ye[++U]=ne?dr(w,Oe,I):$t(Oe,w,I)}),ye}),my=el(function(m,w,I){x(m,I,w)});function _p(m,w){var I=Fn(m)?Dn:ca;return I(m,mn(w,3))}function Q0(m,w,I,U){return m==null?[]:(Fn(w)||(w=w==null?[]:[w]),I=U?n:I,Fn(I)||(I=I==null?[]:[I]),Vi(m,w,I))}var e1=el(function(m,w,I){m[I?0:1].push(w)},function(){return[[],[]]});function Hm(m,w,I){var U=Fn(m)?Gi:la,ne=arguments.length<3;return U(m,mn(w,4),I,ne,oe)}function gp(m,w,I){var U=Fn(m)?Po:la,ne=arguments.length<3;return U(m,mn(w,4),I,ne,me)}function yp(m,w){var I=Fn(m)?cn:de;return I(m,Lo(mn(w,3)))}function t1(m){var w=Fn(m)?fd:xc;return w(m)}function r1(m,w,I){(I?fa(m,w,I):w===n)?w=1:w=$n(w);var U=Fn(m)?Vh:Yu;return U(m,w)}function Af(m){var w=Fn(m)?Uh:Og;return w(m)}function Cf(m){if(m==null)return 0;if(Ua(m))return Mp(m)?Eu(m):m.length;var w=Bo(m);return w==He||w==Ut?m.size:ai(m).length}function _y(m,w,I){var U=Fn(m)?va:Rg;return I&&fa(m,w,I)&&(w=n),U(m,mn(w,3))}var Df=wn(function(m,w){if(m==null)return[];var I=w.length;return I>1&&fa(m,w[0],w[1])?w=[]:I>2&&fa(w[0],w[1],w[2])&&(w=[w[0]]),Vi(m,we(w,1),[])}),If=gc||function(){return Li.Date.now()};function n1(m,w){if(typeof w!="function")throw new Ma(c);return m=$n(m),function(){if(--m<1)return w.apply(this,arguments)}}function qm(m,w,I){return w=I?n:w,w=m&&w==null?m.length:w,Cl(m,Ge,n,n,n,n,w)}function Gm(m,w){var I;if(typeof w!="function")throw new Ma(c);return m=$n(m),function(){return--m>0&&(I=w.apply(this,arguments)),m<=1&&(w=n),I}}var bp=wn(function(m,w,I){var U=Z;if(I.length){var ne=Ms(I,Cs(bp));U|=Me}return Cl(m,U,w,I,ne)}),Wm=wn(function(m,w,I){var U=Z|K;if(I.length){var ne=Ms(I,Cs(Wm));U|=Me}return Cl(w,U,m,I,ne)});function Zm(m,w,I){w=I?n:w;var U=Cl(m,se,n,n,n,n,n,w);return U.placeholder=Zm.placeholder,U}function Xm(m,w,I){w=I?n:w;var U=Cl(m,_e,n,n,n,n,n,w);return U.placeholder=Xm.placeholder,U}function gy(m,w,I){var U,ne,ye,Oe,qe,lt,Zt=0,Kt=!1,cr=!1,Fr=!0;if(typeof m!="function")throw new Ma(c);w=ma(w)||0,_n(I)&&(Kt=!!I.leading,cr="maxWait"in I,ye=cr?ji(ma(I.maxWait)||0,w):ye,Fr="trailing"in I?!!I.trailing:Fr);function sn(oo){var zs=U,ga=ne;return U=ne=n,Zt=oo,Oe=m.apply(ga,zs),Oe}function vn(oo){return Zt=oo,qe=Ec(Jn,w),Kt?sn(oo):Oe}function Vn(oo){var zs=oo-lt,ga=oo-Zt,x_=w-zs;return cr?Wi(x_,ye-ga):x_}function xn(oo){var zs=oo-lt,ga=oo-Zt;return lt===n||zs>=w||zs<0||cr&&ga>=ye}function Jn(){var oo=If();if(xn(oo))return ri(oo);qe=Ec(Jn,Vn(oo))}function ri(oo){return qe=n,Fr&&U?sn(oo):(U=ne=n,Oe)}function qa(){qe!==n&&Kh(qe),Zt=0,U=lt=ne=qe=n}function _a(){return qe===n?Oe:ri(If())}function Ga(){var oo=If(),zs=xn(oo);if(U=arguments,ne=this,lt=oo,zs){if(qe===n)return vn(lt);if(cr)return Kh(qe),qe=Ec(Jn,w),sn(lt)}return qe===n&&(qe=Ec(Jn,w)),Oe}return Ga.cancel=qa,Ga.flush=_a,Ga}var i1=wn(function(m,w){return V(m,1,w)}),yy=wn(function(m,w,I){return V(m,ma(w)||0,I)});function vp(m){return Cl(m,Ne)}function Pf(m,w){if(typeof m!="function"||w!=null&&typeof w!="function")throw new Ma(c);var I=function(){var U=arguments,ne=w?w.apply(this,U):U[0],ye=I.cache;if(ye.has(ne))return ye.get(ne);var Oe=m.apply(this,U);return I.cache=ye.set(ne,Oe)||ye,Oe};return I.cache=new(Pf.Cache||os),I}Pf.Cache=os;function Lo(m){if(typeof m!="function")throw new Ma(c);return function(){var w=arguments;switch(w.length){case 0:return!m.call(this);case 1:return!m.call(this,w[0]);case 2:return!m.call(this,w[0],w[1]);case 3:return!m.call(this,w[0],w[1],w[2])}return!m.apply(this,w)}}function Of(m){return Gm(2,m)}var wd=Xh(function(m,w){w=w.length==1&&Fn(w[0])?Dn(w[0],io(mn())):Dn(we(w,1),io(mn()));var I=w.length;return wn(function(U){for(var ne=-1,ye=Wi(U.length,I);++ne<ye;)U[ne]=w[ne].call(this,U[ne]);return dr(m,this,U)})}),Dc=wn(function(m,w){var I=Ms(w,Cs(Dc));return Cl(m,Me,n,w,I)}),Km=wn(function(m,w){var I=Ms(w,Cs(Km));return Cl(m,he,n,w,I)}),by=au(function(m,w){return Cl(m,st,n,n,n,w)});function o1(m,w){if(typeof m!="function")throw new Ma(c);return w=w===n?w:$n(w),wn(m,w)}function a1(m,w){if(typeof m!="function")throw new Ma(c);return w=w==null?0:ji($n(w),0),wn(function(I){var U=I[w],ne=ou(I,0,w);return U&&pi(ne,U),dr(m,this,ne)})}function s1(m,w,I){var U=!0,ne=!0;if(typeof m!="function")throw new Ma(c);return _n(I)&&(U="leading"in I?!!I.leading:U,ne="trailing"in I?!!I.trailing:ne),gy(m,w,{leading:U,maxWait:w,trailing:ne})}function l1(m){return qm(m,1)}function u1(m,w){return Dc(Zh(w),m)}function c1(){if(!arguments.length)return[];var m=arguments[0];return Fn(m)?m:[m]}function wp(m){return P(m,C)}function d1(m,w){return w=typeof w=="function"?w:n,P(m,C,w)}function vy(m){return P(m,R|C)}function wy(m,w){return w=typeof w=="function"?w:n,P(m,R|C,w)}function xy(m,w){return w==null||N(m,w,po(w))}function ll(m,w){return m===w||m!==m&&w!==w}var f1=ss(tr),h1=ss(function(m,w){return m>=w}),Ic=or((function(){return arguments})())?or:function(m){return Xi(m)&&Rn.call(m,"callee")&&!_c.call(m,"callee")},Fn=Ot.isArray,My=$e?io($e):it;function Ua(m){return m!=null&&Ff(m.length)&&!cs(m)}function Kn(m){return Xi(m)&&Ua(m)}function Dl(m){return m===!0||m===!1||Xi(m)&&Xe(m)==qt}var Il=Ch||Op,xp=yt?io(yt):Mt;function xd(m){return Xi(m)&&m.nodeType===1&&!zf(m)}function p1(m){if(m==null)return!0;if(Ua(m)&&(Fn(m)||typeof m=="string"||typeof m.splice=="function"||Il(m)||uu(m)||Ic(m)))return!m.length;var w=Bo(m);if(w==He||w==Ut)return!m.size;if(yd(m))return!ai(m).length;for(var I in m)if(Rn.call(m,I))return!1;return!0}function m1(m,w){return Pr(m,w)}function Rf(m,w,I){I=typeof I=="function"?I:n;var U=I?I(m,w):n;return U===n?Pr(m,w,n,I):!!U}function Jm(m){if(!Xi(m))return!1;var w=Xe(m);return w==_r||w==Nt||typeof m.message=="string"&&typeof m.name=="string"&&!zf(m)}function _1(m){return typeof m=="number"&&Xl(m)}function cs(m){if(!_n(m))return!1;var w=Xe(m);return w==Se||w==Ce||w==xt||w==mr}function Qm(m){return typeof m=="number"&&m==$n(m)}function Ff(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=vt}function _n(m){var w=typeof m;return m!=null&&(w=="object"||w=="function")}function Xi(m){return m!=null&&typeof m=="object"}var e_=ft?io(ft):Rr;function Sy(m,w){return m===w||on(m,w,_f(w))}function lu(m,w,I){return I=typeof I=="function"?I:n,on(m,w,_f(w),I)}function Md(m){return Ty(m)&&m!=+m}function Ly(m){if(ja(m))throw new kn(h);return Mn(m)}function g1(m){return m===null}function y1(m){return m==null}function Ty(m){return typeof m=="number"||Xi(m)&&Xe(m)==at}function zf(m){if(!Xi(m)||Xe(m)!=At)return!1;var w=Iu(m);if(w===null)return!0;var I=Rn.call(w,"constructor")&&w.constructor;return typeof I=="function"&&I instanceof I&&pc.call(I)==ti}var t_=er?io(er):en;function b1(m){return Qm(m)&&m>=-vt&&m<=vt}var Ey=Ur?io(Ur):kr;function Mp(m){return typeof m=="string"||!Fn(m)&&Xi(m)&&Xe(m)==jr}function ds(m){return typeof m=="symbol"||Xi(m)&&Xe(m)==lr}var uu=xr?io(xr):oi;function Sd(m){return m===n}function ky(m){return Xi(m)&&Bo(m)==zr}function v1(m){return Xi(m)&&Xe(m)==tt}var w1=ss(Ro),x1=ss(function(m,w){return m<=w});function Sp(m){if(!m)return[];if(Ua(m))return Mp(m)?xa(m):Mo(m);if(Ca&&m[Ca])return Jd(m[Ca]());var w=Bo(m),I=w==He?Tu:w==Ut?dc:fs;return I(m)}function ul(m){if(!m)return m===0?m:0;if(m=ma(m),m===dt||m===-dt){var w=m<0?-1:1;return w*nr}return m===m?m:0}function $n(m){var w=ul(m),I=w%1;return w===w?I?w-I:w:0}function Na(m){return m?D($n(m),0,pr):0}function ma(m){if(typeof m=="number")return m;if(ds(m))return Sr;if(_n(m)){var w=typeof m.valueOf=="function"?m.valueOf():m;m=_n(w)?w+"":w}if(typeof m!="string")return m===0?m:+m;m=Ws(m);var I=Yr.test(m);return I||Cr.test(m)?xu(m.slice(2),I?2:8):Gt.test(m)?Sr:+m}function Pc(m){return Yo(m,To(m))}function r_(m){return m?D($n(m),-vt,vt):m===0?m:0}function ci(m){return m==null?"":Ya(m)}var M1=ks(function(m,w){if(yd(w)||Ua(w)){Yo(w,po(w),m);return}for(var I in w)Rn.call(w,I)&&Ks(m,I,w[I])}),n_=ks(function(m,w){Yo(w,To(w),m)}),Yf=ks(function(m,w,I,U){Yo(w,To(w),m,U)}),S1=ks(function(m,w,I,U){Yo(w,po(w),m,U)}),Ay=au(L);function Cy(m,w){var I=eu(m);return w==null?I:d(I,w)}var i_=wn(function(m,w){m=vi(m);var I=-1,U=w.length,ne=U>2?w[2]:n;for(ne&&fa(w[0],w[1],ne)&&(U=1);++I<U;)for(var ye=w[I],Oe=To(ye),qe=-1,lt=Oe.length;++qe<lt;){var Zt=Oe[qe],Kt=m[Zt];(Kt===n||ll(Kt,Go[Zt])&&!Rn.call(m,Zt))&&(m[Zt]=ye[Zt])}return m}),Dy=wn(function(m){return m.push(n,xm),dr(jf,n,m)});function L1(m,w){return bl(m,mn(w,3),Fe)}function Iy(m,w){return bl(m,mn(w,3),Be)}function cu(m,w){return m==null?m:xe(m,mn(w,3),To)}function Py(m,w){return m==null?m:Ie(m,mn(w,3),To)}function Oy(m,w){return m&&Fe(m,mn(w,3))}function Ry(m,w){return m&&Be(m,mn(w,3))}function Fy(m){return m==null?[]:We(m,po(m))}function T1(m){return m==null?[]:We(m,To(m))}function o_(m,w,I){var U=m==null?n:bt(m,w);return U===n?I:U}function zy(m,w){return m!=null&&Tm(m,w,ct)}function Lp(m,w){return m!=null&&Tm(m,w,Ft)}var Bf=un(function(m,w,I){w!=null&&typeof w.toString!="function"&&(w=Cu.call(w)),m[w]=I},p_(Ha)),Yy=un(function(m,w,I){w!=null&&typeof w.toString!="function"&&(w=Cu.call(w)),Rn.call(m,w)?m[w].push(I):m[w]=[I]},mn),By=wn($t);function po(m){return Ua(m)?ff(m):ai(m)}function To(m){return Ua(m)?ff(m,!0):li(m)}function jy(m,w){var I={};return w=mn(w,3),Fe(m,function(U,ne,ye){x(I,w(U,ne,ye),U)}),I}function Tp(m,w){var I={};return w=mn(w,3),Fe(m,function(U,ne,ye){x(I,ne,w(U,ne,ye))}),I}var $y=ks(function(m,w,I){ui(m,w,I)}),jf=ks(function(m,w,I,U){ui(m,w,I,U)}),Ep=au(function(m,w){var I={};if(m==null)return I;var U=!1;w=Dn(w,function(ye){return ye=ju(ye,m),U||(U=ye.length>1),ye}),Yo(m,rp(m),I),U&&(I=P(I,R|F|C,_d));for(var ne=w.length;ne--;)qh(I,w[ne]);return I});function E1(m,w){return Vy(m,Lo(mn(w)))}var k1=au(function(m,w){return m==null?{}:zo(m,w)});function Vy(m,w){if(m==null)return{};var I=Dn(rp(m),function(U){return[U]});return w=mn(w),_i(m,I,function(U,ne){return w(U,ne[0])})}function A1(m,w,I){w=ju(w,m);var U=-1,ne=w.length;for(ne||(ne=1,m=n);++U<ne;){var ye=m==null?n:m[ol(w[U])];ye===n&&(U=ne,ye=I),m=cs(ye)?ye.call(m):ye}return m}function C1(m,w,I){return m==null?m:da(m,w,I)}function Ld(m,w,I,U){return U=typeof U=="function"?U:n,m==null?m:da(m,w,I,U)}var kp=So(po),Uy=So(To);function Ny(m,w,I){var U=Fn(m),ne=U||Il(m)||uu(m);if(w=mn(w,4),I==null){var ye=m&&m.constructor;ne?I=U?new ye:[]:_n(m)?I=cs(ye)?eu(Iu(m)):{}:I={}}return(ne?On:Fe)(m,function(Oe,qe,lt){return w(I,Oe,qe,lt)}),I}function D1(m,w){return m==null?!0:qh(m,w)}function a_(m,w,I){return m==null?m:vm(m,w,Zh(I))}function I1(m,w,I,U){return U=typeof U=="function"?U:n,m==null?m:vm(m,w,Zh(I),U)}function fs(m){return m==null?[]:wl(m,po(m))}function Hy(m){return m==null?[]:wl(m,To(m))}function qy(m,w,I){return I===n&&(I=w,w=n),I!==n&&(I=ma(I),I=I===I?I:0),w!==n&&(w=ma(w),w=w===w?w:0),D(ma(m),w,I)}function Ap(m,w,I){return w=ul(w),I===n?(I=w,w=0):I=ul(I),m=ma(m),St(m,w,I)}function s_(m,w,I){if(I&&typeof I!="boolean"&&fa(m,w,I)&&(w=I=n),I===n&&(typeof w=="boolean"?(I=w,w=n):typeof m=="boolean"&&(I=m,m=n)),m===n&&w===n?(m=0,w=1):(m=ul(m),w===n?(w=m,m=0):w=ul(w)),m>w){var U=m;m=w,w=U}if(I||m%1||w%1){var ne=Kl();return Wi(m+ne*(w-m+Gs("1e-"+((ne+"").length-1))),w)}return ho(m,w)}var P1=Mc(function(m,w,I){return w=w.toLowerCase(),m+(I?Gy(w):w)});function Gy(m){return Hf(ci(m).toLowerCase())}function l_(m){return m=ci(m),m&&m.replace(bn,Lu).replace(Nl,"")}function Wy(m,w,I){m=ci(m),w=Ya(w);var U=m.length;I=I===n?U:D($n(I),0,U);var ne=I;return I-=w.length,I>=0&&m.slice(I,ne)==w}function $f(m){return m=ci(m),m&&Yi.test(m)?m.replace(ki,Sh):m}function du(m){return m=ci(m),m&&X.test(m)?m.replace(fe,"\\$&"):m}var u_=Mc(function(m,w,I){return m+(I?"-":"")+w.toLowerCase()}),Td=Mc(function(m,w,I){return m+(I?" ":"")+w.toLowerCase()}),Ed=Ug("toLowerCase");function Rs(m,w,I){m=ci(m),w=$n(w);var U=w?Eu(m):0;if(!w||U>=w)return m;var ne=(w-U)/2;return jn(Ll(ne),I)+m+jn(Wo(ne),I)}function Fs(m,w,I){m=ci(m),w=$n(w);var U=w?Eu(m):0;return w&&U<w?m+jn(w-U,I):m}function O1(m,w,I){m=ci(m),w=$n(w);var U=w?Eu(m):0;return w&&U<w?jn(w-U,I)+m:m}function Zy(m,w,I){return I||w==null?w=0:w&&(w=+w),yc(ci(m).replace(re,""),w||0)}function R1(m,w,I){return(I?fa(m,w,I):w===n)?w=1:w=$n(w),Fa(ci(m),w)}function c_(){var m=arguments,w=ci(m[0]);return m.length<3?w:w.replace(m[1],m[2])}var Pl=Mc(function(m,w,I){return m+(I?"_":"")+w.toLowerCase()});function Oc(m,w,I){return I&&typeof I!="number"&&fa(m,w,I)&&(w=I=n),I=I===n?pr:I>>>0,I?(m=ci(m),m&&(typeof w=="string"||w!=null&&!t_(w))&&(w=Ya(w),!w&&qo(m))?ou(xa(m),0,I):m.split(w,I)):[]}var Xy=Mc(function(m,w,I){return m+(I?" ":"")+Hf(w)});function Ky(m,w,I){return m=ci(m),I=I==null?0:D($n(I),0,m.length),w=Ya(w),m.slice(I,I+w.length)==w}function F1(m,w,I){var U=ce.templateSettings;I&&fa(m,w,I)&&(w=n),m=ci(m),w=Yf({},w,U,il);var ne=Yf({},w.imports,U.imports,il),ye=po(ne),Oe=wl(ne,ye),qe,lt,Zt=0,Kt=w.interpolate||Bn,cr="__p += '",Fr=hc((w.escape||Bn).source+"|"+Kt.source+"|"+(Kt===Lr?Rt:Bn).source+"|"+(w.evaluate||Bn).source+"|$","g"),sn="//# sourceURL="+(Rn.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gl+"]")+`
`;m.replace(Fr,function(xn,Jn,ri,qa,_a,Ga){return ri||(ri=qa),cr+=m.slice(Zt,Ga).replace($r,rd),Jn&&(qe=!0,cr+=`' +
__e(`+Jn+`) +
'`),_a&&(lt=!0,cr+=`';
`+_a+`;
__p += '`),ri&&(cr+=`' +
((__t = (`+ri+`)) == null ? '' : __t) +
'`),Zt=Ga+xn.length,xn}),cr+=`';
`;var vn=Rn.call(w,"variable")&&w.variable;if(!vn)cr=`with (obj) {
`+cr+`
}
`;else if(Ue.test(vn))throw new kn(M);cr=(lt?cr.replace(Wr,""):cr).replace(Xr,"$1").replace(nn,"$1;"),cr="function("+(vn||"obj")+`) {
`+(vn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(qe?", __e = _.escape":"")+(lt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+cr+`return __p
}`;var Vn=Rc(function(){return si(ye,sn+"return "+cr).apply(n,Oe)});if(Vn.source=cr,Jm(Vn))throw Vn;return Vn}function Cp(m){return ci(m).toLowerCase()}function d_(m){return ci(m).toUpperCase()}function kd(m,w,I){if(m=ci(m),m&&(I||w===n))return Ws(m);if(!m||!(w=Ya(w)))return m;var U=xa(m),ne=xa(w),ye=Xd(U,ne),Oe=Mh(U,ne)+1;return ou(U,ye,Oe).join("")}function Vf(m,w,I){if(m=ci(m),m&&(I||w===n))return m.slice(0,Th(m)+1);if(!m||!(w=Ya(w)))return m;var U=xa(m),ne=Mh(U,xa(w))+1;return ou(U,0,ne).join("")}function Uf(m,w,I){if(m=ci(m),m&&(I||w===n))return m.replace(re,"");if(!m||!(w=Ya(w)))return m;var U=xa(m),ne=Xd(U,xa(w));return ou(U,ne).join("")}function Dp(m,w){var I=Re,U=ut;if(_n(w)){var ne="separator"in w?w.separator:ne;I="length"in w?$n(w.length):I,U="omission"in w?Ya(w.omission):U}m=ci(m);var ye=m.length;if(qo(m)){var Oe=xa(m);ye=Oe.length}if(I>=ye)return m;var qe=I-Eu(U);if(qe<1)return U;var lt=Oe?ou(Oe,0,qe).join(""):m.slice(0,qe);if(ne===n)return lt+U;if(Oe&&(qe+=lt.length-qe),t_(ne)){if(m.slice(qe).search(ne)){var Zt,Kt=lt;for(ne.global||(ne=hc(ne.source,ci(hr.exec(ne))+"g")),ne.lastIndex=0;Zt=ne.exec(Kt);)var cr=Zt.index;lt=lt.slice(0,cr===n?qe:cr)}}else if(m.indexOf(Ya(ne),qe)!=qe){var Fr=lt.lastIndexOf(ne);Fr>-1&&(lt=lt.slice(0,Fr))}return lt+U}function Jy(m){return m=ci(m),m&&ro.test(m)?m.replace(Ar,ku):m}var Nf=Mc(function(m,w,I){return m+(I?" ":"")+w.toUpperCase()}),Hf=Ug("toUpperCase");function f_(m,w,I){return m=ci(m),w=I?n:w,w===n?nd(m)?hm(m):rs(m):m.match(w)||[]}var Rc=wn(function(m,w){try{return dr(m,n,w)}catch(I){return Jm(I)?I:new kn(I)}}),Qy=au(function(m,w){return On(w,function(I){I=ol(I),x(m,I,bp(m[I],m))}),m});function h_(m){var w=m==null?0:m.length,I=mn();return m=w?Dn(m,function(U){if(typeof U[1]!="function")throw new Ma(c);return[I(U[0]),U[1]]}):[],wn(function(U){for(var ne=-1;++ne<w;){var ye=m[ne];if(dr(ye[0],this,U))return dr(ye[1],this,U)}})}function eb(m){return z(P(m,R))}function p_(m){return function(){return m}}function z1(m,w){return m==null||m!==m?w:m}var tb=Hg(),Fc=Hg(!0);function Ha(m){return m}function Ol(m){return Xn(typeof m=="function"?m:P(m,R))}function Y1(m){return Fo(P(m,R))}function qf(m,w){return as(m,P(w,R))}var Gf=wn(function(m,w){return function(I){return $t(I,m,w)}}),Wf=wn(function(m,w){return function(I){return $t(m,I,w)}});function zc(m,w,I){var U=po(w),ne=We(w,U);I==null&&!(_n(w)&&(ne.length||!U.length))&&(I=w,w=m,m=this,ne=We(w,po(w)));var ye=!(_n(I)&&"chain"in I)||!!I.chain,Oe=cs(m);return On(ne,function(qe){var lt=w[qe];m[qe]=lt,Oe&&(m.prototype[qe]=function(){var Zt=this.__chain__;if(ye||Zt){var Kt=m(this.__wrapped__),cr=Kt.__actions__=Mo(this.__actions__);return cr.push({func:lt,args:arguments,thisArg:m}),Kt.__chain__=Zt,Kt}return lt.apply(m,pi([this.value()],arguments))})}),m}function Ip(){return Li._===this&&(Li._=mc),this}function m_(){}function B1(m){return m=$n(m),wn(function(w){return Wn(w,m)})}var Ad=md(Dn),Pp=md(Xt),j1=md(va);function __(m){return ip(m)?Ho(ol(m)):Zo(m)}function rb(m){return function(w){return m==null?n:bt(m,w)}}var $1=ep(),nb=ep(!0);function g_(){return[]}function Op(){return!1}function V1(){return{}}function ib(){return""}function U1(){return!0}function N1(m,w){if(m=$n(m),m<1||m>vt)return[];var I=pr,U=Wi(m,pr);w=mn(w),m-=pr;for(var ne=Aa(U,w);++I<m;)w(I);return ne}function Rp(m){return Fn(m)?Dn(m,ol):ds(m)?[m]:Mo(up(ci(m)))}function Fp(m){var w=++Wl;return ci(m)+w}var zp=rl(function(m,w){return m+w},0),H1=Ba("ceil"),y_=rl(function(m,w){return m/w},1),b_=Ba("floor");function qu(m){return m&&m.length?be(m,Ha,tr):n}function q1(m,w){return m&&m.length?be(m,mn(w,2),tr):n}function v_(m){return ql(m,Ha)}function ob(m,w){return ql(m,mn(w,2))}function Yp(m){return m&&m.length?be(m,Ha,Ro):n}function G1(m,w){return m&&m.length?be(m,mn(w,2),Ro):n}var W1=rl(function(m,w){return m*w},1),Z1=Ba("round"),X1=rl(function(m,w){return m-w},0);function w_(m){return m&&m.length?Mu(m,Ha):0}function K1(m,w){return m&&m.length?Mu(m,mn(w,2)):0}return ce.after=n1,ce.ary=qm,ce.assign=M1,ce.assignIn=n_,ce.assignInWith=Yf,ce.assignWith=S1,ce.at=Ay,ce.before=Gm,ce.bind=bp,ce.bindAll=Qy,ce.bindKey=Wm,ce.castArray=c1,ce.chain=hp,ce.chunk=vf,ce.compact=ha,ce.concat=Os,ce.cond=h_,ce.conforms=eb,ce.constant=p_,ce.countBy=H0,ce.create=Cy,ce.curry=Zm,ce.curryRight=Xm,ce.debounce=gy,ce.defaults=i_,ce.defaultsDeep=Dy,ce.defer=i1,ce.delay=yy,ce.difference=Cm,ce.differenceBy=Zi,ce.differenceWith=Qg,ce.drop=wf,ce.dropRight=sl,ce.dropRightWhile=S0,ce.dropWhile=L0,ce.fill=ey,ce.filter=G0,ce.flatMap=mp,ce.flatMapDeep=X0,ce.flatMapDepth=fy,ce.flatten=Im,ce.flattenDeep=ty,ce.flattenDepth=ry,ce.flip=vp,ce.flow=tb,ce.flowRight=Fc,ce.fromPairs=ny,ce.functions=Fy,ce.functionsIn=T1,ce.groupBy=K0,ce.initial=Om,ce.intersection=Rm,ce.intersectionBy=pa,ce.intersectionWith=oy,ce.invert=Bf,ce.invertBy=Yy,ce.invokeMap=py,ce.iteratee=Ol,ce.keyBy=my,ce.keys=po,ce.keysIn=To,ce.map=_p,ce.mapKeys=jy,ce.mapValues=Tp,ce.matches=Y1,ce.matchesProperty=qf,ce.memoize=Pf,ce.merge=$y,ce.mergeWith=jf,ce.method=Gf,ce.methodOf=Wf,ce.mixin=zc,ce.negate=Lo,ce.nthArg=B1,ce.omit=Ep,ce.omitBy=E1,ce.once=Of,ce.orderBy=Q0,ce.over=Ad,ce.overArgs=wd,ce.overEvery=Pp,ce.overSome=j1,ce.partial=Dc,ce.partialRight=Km,ce.partition=e1,ce.pick=k1,ce.pickBy=Vy,ce.property=__,ce.propertyOf=rb,ce.pull=ay,ce.pullAll=Fm,ce.pullAllBy=sy,ce.pullAllWith=zm,ce.pullAt=su,ce.range=$1,ce.rangeRight=nb,ce.rearg=by,ce.reject=yp,ce.remove=Va,ce.rest=o1,ce.reverse=Ym,ce.sampleSize=r1,ce.set=C1,ce.setWith=Ld,ce.shuffle=Af,ce.slice=Bm,ce.sortBy=Df,ce.sortedUniq=Ac,ce.sortedUniqBy=Mf,ce.split=Oc,ce.spread=a1,ce.tail=I0,ce.take=P0,ce.takeRight=O0,ce.takeRightWhile=R0,ce.takeWhile=F0,ce.tap=$0,ce.throttle=s1,ce.thru=Ef,ce.toArray=Sp,ce.toPairs=kp,ce.toPairsIn=Uy,ce.toPath=Rp,ce.toPlainObject=Pc,ce.transform=Ny,ce.unary=l1,ce.union=z0,ce.unionBy=Y0,ce.unionWith=jm,ce.uniq=B0,ce.uniqBy=vd,ce.uniqWith=j0,ce.unset=D1,ce.unzip=Ni,ce.unzipWith=Sf,ce.update=a_,ce.updateWith=I1,ce.values=fs,ce.valuesIn=Hy,ce.without=uy,ce.words=f_,ce.wrap=u1,ce.xor=dp,ce.xorBy=fp,ce.xorWith=Lf,ce.zip=cy,ce.zipObject=dy,ce.zipObjectDeep=Tf,ce.zipWith=$m,ce.entries=kp,ce.entriesIn=Uy,ce.extend=n_,ce.extendWith=Yf,zc(ce,ce),ce.add=zp,ce.attempt=Rc,ce.camelCase=P1,ce.capitalize=Gy,ce.ceil=H1,ce.clamp=qy,ce.clone=wp,ce.cloneDeep=vy,ce.cloneDeepWith=wy,ce.cloneWith=d1,ce.conformsTo=xy,ce.deburr=l_,ce.defaultTo=z1,ce.divide=y_,ce.endsWith=Wy,ce.eq=ll,ce.escape=$f,ce.escapeRegExp=du,ce.every=q0,ce.find=W0,ce.findIndex=Dm,ce.findKey=L1,ce.findLast=Z0,ce.findLastIndex=Hu,ce.findLastKey=Iy,ce.floor=b_,ce.forEach=Cc,ce.forEachRight=hy,ce.forIn=cu,ce.forInRight=Py,ce.forOwn=Oy,ce.forOwnRight=Ry,ce.get=o_,ce.gt=f1,ce.gte=h1,ce.has=zy,ce.hasIn=Lp,ce.head=iy,ce.identity=Ha,ce.includes=J0,ce.indexOf=Pm,ce.inRange=Ap,ce.invoke=By,ce.isArguments=Ic,ce.isArray=Fn,ce.isArrayBuffer=My,ce.isArrayLike=Ua,ce.isArrayLikeObject=Kn,ce.isBoolean=Dl,ce.isBuffer=Il,ce.isDate=xp,ce.isElement=xd,ce.isEmpty=p1,ce.isEqual=m1,ce.isEqualWith=Rf,ce.isError=Jm,ce.isFinite=_1,ce.isFunction=cs,ce.isInteger=Qm,ce.isLength=Ff,ce.isMap=e_,ce.isMatch=Sy,ce.isMatchWith=lu,ce.isNaN=Md,ce.isNative=Ly,ce.isNil=y1,ce.isNull=g1,ce.isNumber=Ty,ce.isObject=_n,ce.isObjectLike=Xi,ce.isPlainObject=zf,ce.isRegExp=t_,ce.isSafeInteger=b1,ce.isSet=Ey,ce.isString=Mp,ce.isSymbol=ds,ce.isTypedArray=uu,ce.isUndefined=Sd,ce.isWeakMap=ky,ce.isWeakSet=v1,ce.join=T0,ce.kebabCase=u_,ce.last=us,ce.lastIndexOf=E0,ce.lowerCase=Td,ce.lowerFirst=Ed,ce.lt=w1,ce.lte=x1,ce.max=qu,ce.maxBy=q1,ce.mean=v_,ce.meanBy=ob,ce.min=Yp,ce.minBy=G1,ce.stubArray=g_,ce.stubFalse=Op,ce.stubObject=V1,ce.stubString=ib,ce.stubTrue=U1,ce.multiply=W1,ce.nth=k0,ce.noConflict=Ip,ce.noop=m_,ce.now=If,ce.pad=Rs,ce.padEnd=Fs,ce.padStart=O1,ce.parseInt=Zy,ce.random=s_,ce.reduce=Hm,ce.reduceRight=gp,ce.repeat=R1,ce.replace=c_,ce.result=A1,ce.round=Z1,ce.runInContext=nt,ce.sample=t1,ce.size=Cf,ce.snakeCase=Pl,ce.some=_y,ce.sortedIndex=A0,ce.sortedIndexBy=C0,ce.sortedIndexOf=D0,ce.sortedLastIndex=xf,ce.sortedLastIndexBy=cp,ce.sortedLastIndexOf=ly,ce.startCase=Xy,ce.startsWith=Ky,ce.subtract=X1,ce.sum=w_,ce.sumBy=K1,ce.template=F1,ce.times=N1,ce.toFinite=ul,ce.toInteger=$n,ce.toLength=Na,ce.toLower=Cp,ce.toNumber=ma,ce.toSafeInteger=r_,ce.toString=ci,ce.toUpper=d_,ce.trim=kd,ce.trimEnd=Vf,ce.trimStart=Uf,ce.truncate=Dp,ce.unescape=Jy,ce.uniqueId=Fp,ce.upperCase=Nf,ce.upperFirst=Hf,ce.each=Cc,ce.eachRight=hy,ce.first=iy,zc(ce,(function(){var m={};return Fe(ce,function(w,I){Rn.call(ce.prototype,I)||(m[I]=w)}),m})(),{chain:!1}),ce.VERSION=l,On(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){ce[m].placeholder=ce}),On(["drop","take"],function(m,w){Gn.prototype[m]=function(I){I=I===n?1:ji($n(I),0);var U=this.__filtered__&&!w?new Gn(this):this.clone();return U.__filtered__?U.__takeCount__=Wi(I,U.__takeCount__):U.__views__.push({size:Wi(I,pr),type:m+(U.__dir__<0?"Right":"")}),U},Gn.prototype[m+"Right"]=function(I){return this.reverse()[m](I).reverse()}}),On(["filter","map","takeWhile"],function(m,w){var I=w+1,U=I==mt||I==ot;Gn.prototype[m]=function(ne){var ye=this.clone();return ye.__iteratees__.push({iteratee:mn(ne,3),type:I}),ye.__filtered__=ye.__filtered__||U,ye}}),On(["head","last"],function(m,w){var I="take"+(w?"Right":"");Gn.prototype[m]=function(){return this[I](1).value()[0]}}),On(["initial","tail"],function(m,w){var I="drop"+(w?"":"Right");Gn.prototype[m]=function(){return this.__filtered__?new Gn(this):this[I](1)}}),Gn.prototype.compact=function(){return this.filter(Ha)},Gn.prototype.find=function(m){return this.filter(m).head()},Gn.prototype.findLast=function(m){return this.reverse().find(m)},Gn.prototype.invokeMap=wn(function(m,w){return typeof m=="function"?new Gn(this):this.map(function(I){return $t(I,m,w)})}),Gn.prototype.reject=function(m){return this.filter(Lo(mn(m)))},Gn.prototype.slice=function(m,w){m=$n(m);var I=this;return I.__filtered__&&(m>0||w<0)?new Gn(I):(m<0?I=I.takeRight(-m):m&&(I=I.drop(m)),w!==n&&(w=$n(w),I=w<0?I.dropRight(-w):I.take(w-m)),I)},Gn.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},Gn.prototype.toArray=function(){return this.take(pr)},Fe(Gn.prototype,function(m,w){var I=/^(?:filter|find|map|reject)|While$/.test(w),U=/^(?:head|last)$/.test(w),ne=ce[U?"take"+(w=="last"?"Right":""):w],ye=U||/^find/.test(w);ne&&(ce.prototype[w]=function(){var Oe=this.__wrapped__,qe=U?[1]:arguments,lt=Oe instanceof Gn,Zt=qe[0],Kt=lt||Fn(Oe),cr=function(Jn){var ri=ne.apply(ce,pi([Jn],qe));return U&&Fr?ri[0]:ri};Kt&&I&&typeof Zt=="function"&&Zt.length!=1&&(lt=Kt=!1);var Fr=this.__chain__,sn=!!this.__actions__.length,vn=ye&&!Fr,Vn=lt&&!sn;if(!ye&&Kt){Oe=Vn?Oe:new Gn(this);var xn=m.apply(Oe,qe);return xn.__actions__.push({func:Ef,args:[cr],thisArg:n}),new La(xn,Fr)}return vn&&Vn?m.apply(this,qe):(xn=this.thru(cr),vn?U?xn.value()[0]:xn.value():xn)})}),On(["pop","push","shift","sort","splice","unshift"],function(m){var w=Au[m],I=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",U=/^(?:pop|shift)$/.test(m);ce.prototype[m]=function(){var ne=arguments;if(U&&!this.__chain__){var ye=this.value();return w.apply(Fn(ye)?ye:[],ne)}return this[I](function(Oe){return w.apply(Fn(Oe)?Oe:[],ne)})}}),Fe(Gn.prototype,function(m,w){var I=ce[w];if(I){var U=I.name+"";Rn.call(Ls,U)||(Ls[U]=[]),Ls[U].push({name:w,func:I})}}),Ls[Ui(n,K).name]=[{name:"wrapper",func:n}],Gn.prototype.clone=Oo,Gn.prototype.reverse=_m,Gn.prototype.value=af,ce.prototype.at=kf,ce.prototype.chain=V0,ce.prototype.commit=Vm,ce.prototype.next=U0,ce.prototype.plant=Nm,ce.prototype.reverse=pp,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=N0,ce.prototype.first=ce.prototype.head,Ca&&(ce.prototype[Ca]=Um),ce}),Gl=kh();Q?((Q.exports=Gl)._=Gl,Ti._=Gl):Li._=Gl}).call(OY)})(eg,eg.exports)),eg.exports}var hn=RY();const FY=new Set(["title","titleTemplate","script","style","noscript"]),Db=new Set(["base","meta","link","style","script","noscript"]),zY=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),YY=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),zO=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),BY=typeof window<"u";function Px(e){let r=9;for(let n=0;n<e.length;)r=Math.imul(r^e.charCodeAt(n++),9**9);return((r^r>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function KS(e){if(e._h)return e._h;if(e._d)return Px(e._d);let r=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)r+=`${n}:${String(e.props[n])},`;return Px(r)}function jY(e,r){return e instanceof Promise?e.then(r):r(e)}function JS(e,r,n,l){const p=l||BO(typeof r=="object"&&typeof r!="function"&&!(r instanceof Promise)?{...r}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:r},e==="templateParams"||e==="titleTemplate");if(p instanceof Promise)return p.then(c=>JS(e,r,n,c));const h={tag:e,props:p};for(const c of zO){const M=h.props[c]!==void 0?h.props[c]:n[c];M!==void 0&&((!(c==="innerHTML"||c==="textContent"||c==="children")||FY.has(h.tag))&&(h[c==="children"?"innerHTML":c]=M),delete h.props[c])}return h.props.body&&(h.tagPosition="bodyClose",delete h.props.body),h.tag==="script"&&typeof h.innerHTML=="object"&&(h.innerHTML=JSON.stringify(h.innerHTML),h.props.type=h.props.type||"application/json"),Array.isArray(h.props.content)?h.props.content.map(c=>({...h,props:{...h.props,content:c}})):h}function $Y(e,r){var l;const n=e==="class"?" ":";";return r&&typeof r=="object"&&!Array.isArray(r)&&(r=Object.entries(r).filter(([,p])=>p).map(([p,h])=>e==="style"?`${p}:${h}`:p)),(l=String(Array.isArray(r)?r.join(n):r))==null?void 0:l.split(n).filter(p=>!!p.trim()).join(n)}function YO(e,r,n,l){for(let p=l;p<n.length;p+=1){const h=n[p];if(h==="class"||h==="style"){e[h]=$Y(h,e[h]);continue}if(e[h]instanceof Promise)return e[h].then(c=>(e[h]=c,YO(e,r,n,p)));if(!r&&!zO.has(h)){const c=String(e[h]),M=h.startsWith("data-");c==="true"||c===""?e[h]=M?"true":!0:e[h]||(M&&c==="false"?e[h]="false":delete e[h])}}}function BO(e,r=!1){const n=YO(e,r,Object.keys(e),0);return n instanceof Promise?n.then(()=>e):e}const VY=10;function jO(e,r,n){for(let l=n;l<r.length;l+=1){const p=r[l];if(p instanceof Promise)return p.then(h=>(r[l]=h,jO(e,r,l)));Array.isArray(p)?e.push(...p):e.push(p)}}function UY(e){const r=[],n=e.resolvedInput;for(const p in n){if(!Object.prototype.hasOwnProperty.call(n,p))continue;const h=n[p];if(!(h===void 0||!zY.has(p))){if(Array.isArray(h)){for(const c of h)r.push(JS(p,c,e));continue}r.push(JS(p,h,e))}}if(r.length===0)return[];const l=[];return jY(jO(l,r,0),()=>l.map((p,h)=>(p._e=e._i,e.mode&&(p._m=e.mode),p._p=(e._i<<VY)+h,p)))}const gE=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),yE={base:-10,title:10},bE={critical:-80,high:-10,low:20};function Ox(e){const r=e.tagPriority;if(typeof r=="number")return r;let n=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?n=-30:e.props.charset?n=-20:e.props.name==="viewport"&&(n=-15):e.tag==="link"&&e.props.rel==="preconnect"?n=20:e.tag in yE&&(n=yE[e.tag]),r&&r in bE?n+bE[r]:n}const NY=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],HY=["name","property","http-equiv"];function $O(e){const{props:r,tag:n}=e;if(YY.has(n))return n;if(n==="link"&&r.rel==="canonical")return"canonical";if(r.charset)return"charset";if(r.id)return`${n}:id:${r.id}`;for(const l of HY)if(r[l]!==void 0)return`${n}:${l}:${r[l]}`;return!1}const jd="%separator";function qY(e,r,n=!1){var p;let l;if(r==="s"||r==="pageTitle")l=e.pageTitle;else if(r.includes(".")){const h=r.indexOf(".");l=(p=e[r.substring(0,h)])==null?void 0:p[r.substring(h+1)]}else l=e[r];if(l!==void 0)return n?(l||"").replace(/"/g,'\\"'):l||""}const GY=new RegExp(`${jd}(?:\\s*${jd})*`,"g");function pb(e,r,n,l=!1){if(typeof e!="string"||!e.includes("%"))return e;let p=e;try{p=decodeURI(e)}catch{}const h=p.match(/%\w+(?:\.\w+)?/g);if(!h)return e;const c=e.includes(jd);return e=e.replace(/%\w+(?:\.\w+)?/g,M=>{if(M===jd||!h.includes(M))return M;const s=qY(r,M.slice(1),l);return s!==void 0?s:M}).trim(),c&&(e.endsWith(jd)&&(e=e.slice(0,-jd.length)),e.startsWith(jd)&&(e=e.slice(jd.length)),e=e.replace(GY,n).trim()),e}function vE(e,r){return e==null?r||null:typeof e=="function"?e(r):e}async function WY(e,r={}){const n=r.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const l={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",l),!!l.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async p=>{var R;const h=(await e.resolveTags()).map(F=>({tag:F,id:Db.has(F.tag)?KS(F):F.tag,shouldRender:!0}));let c=e._dom;if(!c){c={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const F=new Set;for(const C of["body","head"]){const B=(R=n[C])==null?void 0:R.children;for(const G of B){const Z=G.tagName.toLowerCase();if(!Db.has(Z))continue;const K={tag:Z,props:await BO(G.getAttributeNames().reduce((Me,he)=>({...Me,[he]:G.getAttribute(he)}),{})),innerHTML:G.innerHTML},te=$O(K);let se=te,_e=1;for(;se&&F.has(se);)se=`${te}:${_e++}`;se&&(K._d=se,F.add(se)),c.elMap[G.getAttribute("data-hid")||KS(K)]=G}}}c.pendingSideEffects={...c.sideEffects},c.sideEffects={};function M(F,C,B){const G=`${F}:${C}`;c.sideEffects[G]=B,delete c.pendingSideEffects[G]}function s({id:F,$el:C,tag:B}){const G=B.tag.endsWith("Attrs");if(c.elMap[F]=C,G||(B.textContent&&B.textContent!==C.textContent&&(C.textContent=B.textContent),B.innerHTML&&B.innerHTML!==C.innerHTML&&(C.innerHTML=B.innerHTML),M(F,"el",()=>{var Z;(Z=c.elMap[F])==null||Z.remove(),delete c.elMap[F]})),B._eventHandlers)for(const Z in B._eventHandlers)Object.prototype.hasOwnProperty.call(B._eventHandlers,Z)&&C.getAttribute(`data-${Z}`)!==""&&((B.tag==="bodyAttrs"?n.defaultView:C).addEventListener(Z.substring(2),B._eventHandlers[Z].bind(C)),C.setAttribute(`data-${Z}`,""));for(const Z in B.props){if(!Object.prototype.hasOwnProperty.call(B.props,Z))continue;const K=B.props[Z],te=`attr:${Z}`;if(Z==="class"){if(!K)continue;for(const se of K.split(" "))G&&M(F,`${te}:${se}`,()=>C.classList.remove(se)),!C.classList.contains(se)&&C.classList.add(se)}else if(Z==="style"){if(!K)continue;for(const se of K.split(";")){const _e=se.indexOf(":"),Me=se.substring(0,_e).trim(),he=se.substring(_e+1).trim();M(F,`${te}:${Me}`,()=>{C.style.removeProperty(Me)}),C.style.setProperty(Me,he)}}else C.getAttribute(Z)!==K&&C.setAttribute(Z,K===!0?"":String(K)),G&&M(F,te,()=>C.removeAttribute(Z))}}const E=[],k={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const F of h){const{tag:C,shouldRender:B,id:G}=F;if(B){if(C.tag==="title"){n.title=C.textContent;continue}F.$el=F.$el||c.elMap[G],F.$el?s(F):Db.has(C.tag)&&E.push(F)}}for(const F of E){const C=F.tag.tagPosition||"head";F.$el=n.createElement(F.tag.tag),s(F),k[C]=k[C]||n.createDocumentFragment(),k[C].appendChild(F.$el)}for(const F of h)await e.hooks.callHook("dom:renderTag",F,n,M);k.head&&n.head.appendChild(k.head),k.bodyOpen&&n.body.insertBefore(k.bodyOpen,n.body.firstChild),k.bodyClose&&n.body.appendChild(k.bodyClose);for(const F in c.pendingSideEffects)c.pendingSideEffects[F]();e._dom=c,await e.hooks.callHook("dom:rendered",{renders:h}),p()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function ZY(e,r={}){const n=r.delayFn||(l=>setTimeout(l,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(l=>n(()=>WY(e,r).then(()=>{delete e._domDebouncedUpdatePromise,l()})))}function XY(e){return r=>{var l,p;const n=((p=(l=r.resolvedOptions.document)==null?void 0:l.head.querySelector('script[id="unhead:payload"]'))==null?void 0:p.innerHTML)||!1;return n&&r.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":h=>{ZY(h,e)}}}}}function QS(e,r={},n){for(const l in e){const p=e[l],h=n?`${n}:${l}`:l;typeof p=="object"&&p!==null?QS(p,r,h):typeof p=="function"&&(r[h]=p)}return r}const KY={run:e=>e()},JY=()=>KY,VO=typeof console.createTask<"u"?console.createTask:JY;function QY(e,r){const n=r.shift(),l=VO(n);return e.reduce((p,h)=>p.then(()=>l.run(()=>h(...r))),Promise.resolve())}function eB(e,r){const n=r.shift(),l=VO(n);return Promise.all(e.map(p=>l.run(()=>p(...r))))}function SM(e,r){for(const n of[...e])n(r)}class tB{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(r,n,l={}){if(!r||typeof n!="function")return()=>{};const p=r;let h;for(;this._deprecatedHooks[r];)h=this._deprecatedHooks[r],r=h.to;if(h&&!l.allowDeprecated){let c=h.message;c||(c=`${p} hook has been deprecated`+(h.to?`, please use ${h.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(c)||(console.warn(c),this._deprecatedMessages.add(c))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+r.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[r]=this._hooks[r]||[],this._hooks[r].push(n),()=>{n&&(this.removeHook(r,n),n=void 0)}}hookOnce(r,n){let l,p=(...h)=>(typeof l=="function"&&l(),l=void 0,p=void 0,n(...h));return l=this.hook(r,p),l}removeHook(r,n){if(this._hooks[r]){const l=this._hooks[r].indexOf(n);l!==-1&&this._hooks[r].splice(l,1),this._hooks[r].length===0&&delete this._hooks[r]}}deprecateHook(r,n){this._deprecatedHooks[r]=typeof n=="string"?{to:n}:n;const l=this._hooks[r]||[];delete this._hooks[r];for(const p of l)this.hook(r,p)}deprecateHooks(r){Object.assign(this._deprecatedHooks,r);for(const n in r)this.deprecateHook(n,r[n])}addHooks(r){const n=QS(r),l=Object.keys(n).map(p=>this.hook(p,n[p]));return()=>{for(const p of l.splice(0,l.length))p()}}removeHooks(r){const n=QS(r);for(const l in n)this.removeHook(l,n[l])}removeAllHooks(){for(const r in this._hooks)delete this._hooks[r]}callHook(r,...n){return n.unshift(r),this.callHookWith(QY,r,...n)}callHookParallel(r,...n){return n.unshift(r),this.callHookWith(eB,r,...n)}callHookWith(r,n,...l){const p=this._before||this._after?{name:n,args:l,context:{}}:void 0;this._before&&SM(this._before,p);const h=r(n in this._hooks?[...this._hooks[n]]:[],l);return h instanceof Promise?h.finally(()=>{this._after&&p&&SM(this._after,p)}):(this._after&&p&&SM(this._after,p),h)}beforeEach(r){return this._before=this._before||[],this._before.push(r),()=>{if(this._before!==void 0){const n=this._before.indexOf(r);n!==-1&&this._before.splice(n,1)}}}afterEach(r){return this._after=this._after||[],this._after.push(r),()=>{if(this._after!==void 0){const n=this._after.indexOf(r);n!==-1&&this._after.splice(n,1)}}}}function rB(){return new tB}const nB=new Set(["templateParams","htmlAttrs","bodyAttrs"]),iB={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const r=$O(e);r&&!r.startsWith("meta:og:")&&!r.startsWith("meta:twitter:")&&delete e.key;const n=r||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":e=>{const r=Object.create(null);for(const l of e.tags){const p=(l.key?`${l.tag}:${l.key}`:l._d)||KS(l),h=r[p];if(h){let M=l==null?void 0:l.tagDuplicateStrategy;if(!M&&nB.has(l.tag)&&(M="merge"),M==="merge"){const s=h.props;s.style&&l.props.style&&(s.style[s.style.length-1]!==";"&&(s.style+=";"),l.props.style=`${s.style} ${l.props.style}`),s.class&&l.props.class?l.props.class=`${s.class} ${l.props.class}`:s.class&&(l.props.class=s.class),r[p].props={...s,...l.props};continue}else if(l._e===h._e){h._duped=h._duped||[],l._d=`${h._d}:${h._duped.length+1}`,h._duped.push(l);continue}else if(Ox(l)>Ox(h))continue}if(!(l.innerHTML||l.textContent||Object.keys(l.props).length!==0)&&Db.has(l.tag)){delete r[p];continue}r[p]=l}const n=[];for(const l in r){const p=r[l],h=p._duped;n.push(p),h&&(delete p._duped,n.push(...h))}e.tags=n,e.tags=e.tags.filter(l=>!(l.tag==="meta"&&(l.props.name||l.props.property)&&!l.props.content))}}},oB=new Set(["script","link","bodyAttrs"]),aB=e=>({hooks:{"tags:resolve":r=>{for(const n of r.tags){if(!oB.has(n.tag))continue;const l=n.props;for(const p in l){if(p[0]!=="o"||p[1]!=="n"||!Object.prototype.hasOwnProperty.call(l,p))continue;const h=l[p];typeof h=="function"&&(e.ssr&&gE.has(p)?l[p]=`this.dataset.${p}fired = true`:delete l[p],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[p]=h)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||Px(n.props.src||n.props.href))}},"dom:renderTag":({$el:r,tag:n})=>{var p,h;const l=r==null?void 0:r.dataset;if(l)for(const c in l){if(!c.endsWith("fired"))continue;const M=c.slice(0,-5);gE.has(M)&&((h=(p=n._eventHandlers)==null?void 0:p[M])==null||h.call(r,new Event(M.substring(2))))}}}}),sB=new Set(["link","style","script","noscript"]),lB={hooks:{"tag:normalise":({tag:e})=>{e.key&&sB.has(e.tag)&&(e.props["data-hid"]=e._h=Px(e.key))}}},uB={mode:"server",hooks:{"tags:beforeResolve":e=>{const r={};let n=!1;for(const l of e.tags)l._m!=="server"||l.tag!=="titleTemplate"&&l.tag!=="templateParams"&&l.tag!=="title"||(r[l.tag]=l.tag==="title"||l.tag==="titleTemplate"?l.textContent:l.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(r),props:{id:"unhead:payload",type:"application/json"}})}}},cB={hooks:{"tags:resolve":e=>{var r;for(const n of e.tags)if(typeof n.tagPriority=="string")for(const{prefix:l,offset:p}of NY){if(!n.tagPriority.startsWith(l))continue;const h=n.tagPriority.substring(l.length),c=(r=e.tags.find(M=>M._d===h))==null?void 0:r._p;if(c!==void 0){n._p=c+p;break}}e.tags.sort((n,l)=>{const p=Ox(n),h=Ox(l);return p<h?-1:p>h?1:n._p-l._p})}}},dB={meta:"content",link:"href",htmlAttrs:"lang"},fB=["innerHTML","textContent"],hB=e=>({hooks:{"tags:resolve":r=>{var c;const{tags:n}=r;let l;for(let M=0;M<n.length;M+=1)n[M].tag==="templateParams"&&(l=r.tags.splice(M,1)[0].props,M-=1);const p=l||{},h=p.separator||"|";delete p.separator,p.pageTitle=pb(p.pageTitle||((c=n.find(M=>M.tag==="title"))==null?void 0:c.textContent)||"",p,h);for(const M of n){if(M.processTemplateParams===!1)continue;const s=dB[M.tag];if(s&&typeof M.props[s]=="string")M.props[s]=pb(M.props[s],p,h);else if(M.processTemplateParams||M.tag==="titleTemplate"||M.tag==="title")for(const E of fB)typeof M[E]=="string"&&(M[E]=pb(M[E],p,h,M.tag==="script"&&M.props.type.endsWith("json")))}e._templateParams=p,e._separator=h},"tags:afterResolve":({tags:r})=>{let n;for(let l=0;l<r.length;l+=1){const p=r[l];p.tag==="title"&&p.processTemplateParams!==!1&&(n=p)}n!=null&&n.textContent&&(n.textContent=pb(n.textContent,e._templateParams,e._separator))}}}),pB={hooks:{"tags:resolve":e=>{const{tags:r}=e;let n,l;for(let p=0;p<r.length;p+=1){const h=r[p];h.tag==="title"?n=h:h.tag==="titleTemplate"&&(l=h)}if(l&&n){const p=vE(l.textContent,n.textContent);p!==null?n.textContent=p||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(l){const p=vE(l.textContent);p!==null&&(l.textContent=p,l.tag="title",l=void 0)}l&&e.tags.splice(e.tags.indexOf(l),1)}}},mB={hooks:{"tags:afterResolve":e=>{for(const r of e.tags)typeof r.innerHTML=="string"&&(r.innerHTML&&(r.props.type==="application/ld+json"||r.props.type==="application/json")?r.innerHTML=r.innerHTML.replace(/</g,"\\u003C"):r.innerHTML=r.innerHTML.replace(new RegExp(`</${r.tag}`,"g"),`<\\/${r.tag}`))}}};let UO;function _B(e={}){const r=gB(e);return r.use(XY()),UO=r}function wE(e,r){return!e||e==="server"&&r||e==="client"&&!r}function gB(e={}){const r=rB();r.addHooks(e.hooks||{}),e.document=e.document||(BY?document:void 0);const n=!e.document,l=()=>{M.dirty=!0,r.callHook("entries:updated",M)};let p=0,h=[];const c=[],M={plugins:c,dirty:!1,resolvedOptions:e,hooks:r,headEntries(){return h},use(s){const E=typeof s=="function"?s(M):s;(!E.key||!c.some(k=>k.key===E.key))&&(c.push(E),wE(E.mode,n)&&r.addHooks(E.hooks||{}))},push(s,E){E==null||delete E.head;const k={_i:p++,input:s,...E};return wE(k.mode,n)&&(h.push(k),l()),{dispose(){h=h.filter(R=>R._i!==k._i),l()},patch(R){for(const F of h)F._i===k._i&&(F.input=k.input=R);l()}}},async resolveTags(){const s={tags:[],entries:[...h]};await r.callHook("entries:resolve",s);for(const E of s.entries){const k=E.resolvedInput||E.input;if(E.resolvedInput=await(E.transform?E.transform(k):k),E.resolvedInput)for(const R of await UY(E)){const F={tag:R,entry:E,resolvedOptions:M.resolvedOptions};await r.callHook("tag:normalise",F),s.tags.push(F.tag)}}return await r.callHook("tags:beforeResolve",s),await r.callHook("tags:resolve",s),await r.callHook("tags:afterResolve",s),s.tags},ssr:n};return[iB,uB,aB,lB,cB,hB,pB,mB,...(e==null?void 0:e.plugins)||[]].forEach(s=>M.use(s)),M.hooks.callHook("init",M),M}function yB(){return UO}const bB=XP[0]==="3";function vB(e){return typeof e=="function"?e():jo(e)}function Rx(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const r=vB(e);if(!e||!r)return r;if(Array.isArray(r))return r.map(n=>Rx(n));if(typeof r=="object"){const n={};for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){if(l==="titleTemplate"||l[0]==="o"&&l[1]==="n"){n[l]=jo(r[l]);continue}n[l]=Rx(r[l])}return n}return r}const wB={hooks:{"entries:resolve":e=>{for(const r of e.entries)r.resolvedInput=Rx(r.input)}}},NO="usehead";function xB(e){return{install(n){bB&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(NO,e))}}.install}function MB(e={}){e.domDelayFn=e.domDelayFn||(n=>Lg(()=>setTimeout(()=>n(),0)));const r=_B(e);return r.use(wB),r.install=xB(r),r}const xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof hg<"u"?hg:typeof self<"u"?self:{},ME="__unhead_injection_handler__";function SB(){return ME in xE?xE[ME]():Br(NO)||yB()}function HO(e,r={}){const n=r.head||SB();if(n)return n.ssr?n.push(e,r):LB(n,e,r)}function LB(e,r,n={}){const l=Oi(!1),p=Oi({});NF(()=>{p.value=l.value?{}:Rx(r)});const h=e.push(p.value,n);return Ao(p,M=>{h.patch(M)}),e0()&&(Tg(()=>{h.dispose()}),xP(()=>{l.value=!0}),wP(()=>{l.value=!1})),h}function TB(e){const r=e;return r.headTags=e.resolveTags,r.addEntry=e.push,r.addHeadObjs=e.push,r.addReactiveEntry=(n,l)=>{const p=HO(n,l);return p!==void 0?p.dispose:()=>{}},r.removeHeadObjs=()=>{},r.updateDOM=()=>{e.hooks.callHook("entries:updated",e)},r.unhead=e,r}function EB(e,r){const n=MB({});return TB(n)}const $o=(e,r)=>{const n=e.__vccOpts||e;for(const[l,p]of r)n[l]=p;return n},kB={setup(){const e=Mi({lang:fr(()=>wwLib.$store.getters["front/getLang"]),pageId:fr(()=>wwLib.$store.getters["websiteData/getPageId"]),screenSize:fr(()=>wwLib.$store.getters["front/getScreenSize"]),screenSizes:fr(()=>wwLib.$store.getters["front/getScreenSizes"])});An("wwFrontState",e)}};function AB(e,r,n,l,p,h){const c=ta("router-view");return fi(),_o(c)}const CB=$o(kB,[["render",AB]]),DB="modulepreload",IB=function(e){return"/"+e},SE={},Zn=function(r,n,l){let p=Promise.resolve();if(n&&n.length>0){let c=function(E){return Promise.all(E.map(k=>Promise.resolve(k).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const M=document.querySelector("meta[property=csp-nonce]"),s=(M==null?void 0:M.nonce)||(M==null?void 0:M.getAttribute("nonce"));p=c(n.map(E=>{if(E=IB(E),E in SE)return;SE[E]=!0;const k=E.endsWith(".css"),R=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${R}`))return;const F=document.createElement("link");if(F.rel=k?"stylesheet":DB,k||(F.as="script"),F.crossOrigin="",F.href=E,s&&F.setAttribute("nonce",s),document.head.appendChild(F),k)return new Promise((C,B)=>{F.addEventListener("load",C),F.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${E}`)))})}))}function h(c){const M=new Event("vite:preloadError",{cancelable:!0});if(M.payload=c,window.dispatchEvent(M),!M.defaultPrevented)throw c}return p.then(c=>{for(const M of c||[])M.status==="rejected"&&h(M.reason);return r().catch(h)})},PB=(e,r,n)=>{const l=e[r];return l?typeof l=="function"?l():Promise.resolve(l):new Promise((p,h)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(h.bind(null,new Error("Unknown variable dynamic import: "+r+(r.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Xp=typeof document<"u";function qO(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function OB(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&qO(e.default)}const Ii=Object.assign;function LM(e,r){const n={};for(const l in r){const p=r[l];n[l]=_u(p)?p.map(e):e(p)}return n}const sg=()=>{},_u=Array.isArray,GO=/#/g,RB=/&/g,FB=/\//g,zB=/=/g,YB=/\?/g,WO=/\+/g,BB=/%5B/g,jB=/%5D/g,ZO=/%5E/g,$B=/%60/g,XO=/%7B/g,VB=/%7C/g,KO=/%7D/g,UB=/%20/g;function zL(e){return encodeURI(""+e).replace(VB,"|").replace(BB,"[").replace(jB,"]")}function NB(e){return zL(e).replace(XO,"{").replace(KO,"}").replace(ZO,"^")}function eL(e){return zL(e).replace(WO,"%2B").replace(UB,"+").replace(GO,"%23").replace(RB,"%26").replace($B,"`").replace(XO,"{").replace(KO,"}").replace(ZO,"^")}function HB(e){return eL(e).replace(zB,"%3D")}function qB(e){return zL(e).replace(GO,"%23").replace(YB,"%3F")}function GB(e){return e==null?"":qB(e).replace(FB,"%2F")}function xg(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const WB=/\/$/,ZB=e=>e.replace(WB,"");function TM(e,r,n="/"){let l,p={},h="",c="";const M=r.indexOf("#");let s=r.indexOf("?");return M<s&&M>=0&&(s=-1),s>-1&&(l=r.slice(0,s),h=r.slice(s+1,M>-1?M:r.length),p=e(h)),M>-1&&(l=l||r.slice(0,M),c=r.slice(M,r.length)),l=QB(l??r,n),{fullPath:l+(h&&"?")+h+c,path:l,query:p,hash:xg(c)}}function XB(e,r){const n=r.query?e(r.query):"";return r.path+(n&&"?")+n+(r.hash||"")}function LE(e,r){return!r||!e.toLowerCase().startsWith(r.toLowerCase())?e:e.slice(r.length)||"/"}function KB(e,r,n){const l=r.matched.length-1,p=n.matched.length-1;return l>-1&&l===p&&om(r.matched[l],n.matched[p])&&JO(r.params,n.params)&&e(r.query)===e(n.query)&&r.hash===n.hash}function om(e,r){return(e.aliasOf||e)===(r.aliasOf||r)}function JO(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(!JB(e[n],r[n]))return!1;return!0}function JB(e,r){return _u(e)?TE(e,r):_u(r)?TE(r,e):e===r}function TE(e,r){return _u(r)?e.length===r.length&&e.every((n,l)=>n===r[l]):e.length===1&&e[0]===r}function QB(e,r){if(e.startsWith("/"))return e;if(!e)return r;const n=r.split("/"),l=e.split("/"),p=l[l.length-1];(p===".."||p===".")&&l.push("");let h=n.length-1,c,M;for(c=0;c<l.length;c++)if(M=l[c],M!==".")if(M==="..")h>1&&h--;else break;return n.slice(0,h).join("/")+"/"+l.slice(c).join("/")}const Id={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Mg;(function(e){e.pop="pop",e.push="push"})(Mg||(Mg={}));var lg;(function(e){e.back="back",e.forward="forward",e.unknown=""})(lg||(lg={}));function e5(e){if(!e)if(Xp){const r=document.querySelector("base");e=r&&r.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ZB(e)}const t5=/^[^#]+#/;function r5(e,r){return e.replace(t5,"#")+r}function n5(e,r){const n=document.documentElement.getBoundingClientRect(),l=e.getBoundingClientRect();return{behavior:r.behavior,left:l.left-n.left-(r.left||0),top:l.top-n.top-(r.top||0)}}const l0=()=>({left:window.scrollX,top:window.scrollY});function i5(e){let r;if("el"in e){const n=e.el,l=typeof n=="string"&&n.startsWith("#"),p=typeof n=="string"?l?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!p)return;r=n5(p,e)}else r=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.scrollX,r.top!=null?r.top:window.scrollY)}function EE(e,r){return(history.state?history.state.position-r:-1)+e}const tL=new Map;function o5(e,r){tL.set(e,r)}function a5(e){const r=tL.get(e);return tL.delete(e),r}let s5=()=>location.protocol+"//"+location.host;function QO(e,r){const{pathname:n,search:l,hash:p}=r,h=e.indexOf("#");if(h>-1){let M=p.includes(e.slice(h))?e.slice(h).length:1,s=p.slice(M);return s[0]!=="/"&&(s="/"+s),LE(s,"")}return LE(n,e)+l+p}function l5(e,r,n,l){let p=[],h=[],c=null;const M=({state:F})=>{const C=QO(e,location),B=n.value,G=r.value;let Z=0;if(F){if(n.value=C,r.value=F,c&&c===B){c=null;return}Z=G?F.position-G.position:0}else l(C);p.forEach(K=>{K(n.value,B,{delta:Z,type:Mg.pop,direction:Z?Z>0?lg.forward:lg.back:lg.unknown})})};function s(){c=n.value}function E(F){p.push(F);const C=()=>{const B=p.indexOf(F);B>-1&&p.splice(B,1)};return h.push(C),C}function k(){const{history:F}=window;F.state&&F.replaceState(Ii({},F.state,{scroll:l0()}),"")}function R(){for(const F of h)F();h=[],window.removeEventListener("popstate",M),window.removeEventListener("beforeunload",k)}return window.addEventListener("popstate",M),window.addEventListener("beforeunload",k,{passive:!0}),{pauseListeners:s,listen:E,destroy:R}}function kE(e,r,n,l=!1,p=!1){return{back:e,current:r,forward:n,replaced:l,position:window.history.length,scroll:p?l0():null}}function u5(e){const{history:r,location:n}=window,l={value:QO(e,n)},p={value:r.state};p.value||h(l.value,{back:null,current:l.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function h(s,E,k){const R=e.indexOf("#"),F=R>-1?(n.host&&document.querySelector("base")?e:e.slice(R))+s:s5()+e+s;try{r[k?"replaceState":"pushState"](E,"",F),p.value=E}catch(C){console.error(C),n[k?"replace":"assign"](F)}}function c(s,E){const k=Ii({},r.state,kE(p.value.back,s,p.value.forward,!0),E,{position:p.value.position});h(s,k,!0),l.value=s}function M(s,E){const k=Ii({},p.value,r.state,{forward:s,scroll:l0()});h(k.current,k,!0);const R=Ii({},kE(l.value,s,null),{position:k.position+1},E);h(s,R,!1),l.value=s}return{location:l,state:p,push:M,replace:c}}function rL(e){e=e5(e);const r=u5(e),n=l5(e,r.state,r.location,r.replace);function l(h,c=!0){c||n.pauseListeners(),history.go(h)}const p=Ii({location:"",base:e,go:l,createHref:r5.bind(null,e)},r,n);return Object.defineProperty(p,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(p,"state",{enumerable:!0,get:()=>r.state.value}),p}function c5(e){return typeof e=="string"||e&&typeof e=="object"}function eR(e){return typeof e=="string"||typeof e=="symbol"}const tR=Symbol("");var AE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(AE||(AE={}));function am(e,r){return Ii(new Error,{type:e,[tR]:!0},r)}function jc(e,r){return e instanceof Error&&tR in e&&(r==null||!!(e.type&r))}const CE="[^/]+?",d5={sensitive:!1,strict:!1,start:!0,end:!0},f5=/[.+*?^${}()[\]/\\]/g;function h5(e,r){const n=Ii({},d5,r),l=[];let p=n.start?"^":"";const h=[];for(const E of e){const k=E.length?[]:[90];n.strict&&!E.length&&(p+="/");for(let R=0;R<E.length;R++){const F=E[R];let C=40+(n.sensitive?.25:0);if(F.type===0)R||(p+="/"),p+=F.value.replace(f5,"\\$&"),C+=40;else if(F.type===1){const{value:B,repeatable:G,optional:Z,regexp:K}=F;h.push({name:B,repeatable:G,optional:Z});const te=K||CE;if(te!==CE){C+=10;try{new RegExp(`(${te})`)}catch(_e){throw new Error(`Invalid custom RegExp for param "${B}" (${te}): `+_e.message)}}let se=G?`((?:${te})(?:/(?:${te}))*)`:`(${te})`;R||(se=Z&&E.length<2?`(?:/${se})`:"/"+se),Z&&(se+="?"),p+=se,C+=20,Z&&(C+=-8),G&&(C+=-20),te===".*"&&(C+=-50)}k.push(C)}l.push(k)}if(n.strict&&n.end){const E=l.length-1;l[E][l[E].length-1]+=.7000000000000001}n.strict||(p+="/?"),n.end?p+="$":n.strict&&!p.endsWith("/")&&(p+="(?:/|$)");const c=new RegExp(p,n.sensitive?"":"i");function M(E){const k=E.match(c),R={};if(!k)return null;for(let F=1;F<k.length;F++){const C=k[F]||"",B=h[F-1];R[B.name]=C&&B.repeatable?C.split("/"):C}return R}function s(E){let k="",R=!1;for(const F of e){(!R||!k.endsWith("/"))&&(k+="/"),R=!1;for(const C of F)if(C.type===0)k+=C.value;else if(C.type===1){const{value:B,repeatable:G,optional:Z}=C,K=B in E?E[B]:"";if(_u(K)&&!G)throw new Error(`Provided param "${B}" is an array but it is not repeatable (* or + modifiers)`);const te=_u(K)?K.join("/"):K;if(!te)if(Z)F.length<2&&(k.endsWith("/")?k=k.slice(0,-1):R=!0);else throw new Error(`Missing required param "${B}"`);k+=te}}return k||"/"}return{re:c,score:l,keys:h,parse:M,stringify:s}}function p5(e,r){let n=0;for(;n<e.length&&n<r.length;){const l=r[n]-e[n];if(l)return l;n++}return e.length<r.length?e.length===1&&e[0]===80?-1:1:e.length>r.length?r.length===1&&r[0]===80?1:-1:0}function rR(e,r){let n=0;const l=e.score,p=r.score;for(;n<l.length&&n<p.length;){const h=p5(l[n],p[n]);if(h)return h;n++}if(Math.abs(p.length-l.length)===1){if(DE(l))return 1;if(DE(p))return-1}return p.length-l.length}function DE(e){const r=e[e.length-1];return e.length>0&&r[r.length-1]<0}const m5={type:0,value:""},_5=/[a-zA-Z0-9_]/;function g5(e){if(!e)return[[]];if(e==="/")return[[m5]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function r(C){throw new Error(`ERR (${n})/"${E}": ${C}`)}let n=0,l=n;const p=[];let h;function c(){h&&p.push(h),h=[]}let M=0,s,E="",k="";function R(){E&&(n===0?h.push({type:0,value:E}):n===1||n===2||n===3?(h.length>1&&(s==="*"||s==="+")&&r(`A repeatable param (${E}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:E,regexp:k,repeatable:s==="*"||s==="+",optional:s==="*"||s==="?"})):r("Invalid state to consume buffer"),E="")}function F(){E+=s}for(;M<e.length;){if(s=e[M++],s==="\\"&&n!==2){l=n,n=4;continue}switch(n){case 0:s==="/"?(E&&R(),c()):s===":"?(R(),n=1):F();break;case 4:F(),n=l;break;case 1:s==="("?n=2:_5.test(s)?F():(R(),n=0,s!=="*"&&s!=="?"&&s!=="+"&&M--);break;case 2:s===")"?k[k.length-1]=="\\"?k=k.slice(0,-1)+s:n=3:k+=s;break;case 3:R(),n=0,s!=="*"&&s!=="?"&&s!=="+"&&M--,k="";break;default:r("Unknown state");break}}return n===2&&r(`Unfinished custom RegExp for param "${E}"`),R(),c(),p}function y5(e,r,n){const l=h5(g5(e.path),n),p=Ii(l,{record:e,parent:r,children:[],alias:[]});return r&&!p.record.aliasOf==!r.record.aliasOf&&r.children.push(p),p}function b5(e,r){const n=[],l=new Map;r=RE({strict:!1,end:!0,sensitive:!1},r);function p(R){return l.get(R)}function h(R,F,C){const B=!C,G=PE(R);G.aliasOf=C&&C.record;const Z=RE(r,R),K=[G];if("alias"in R){const _e=typeof R.alias=="string"?[R.alias]:R.alias;for(const Me of _e)K.push(PE(Ii({},G,{components:C?C.record.components:G.components,path:Me,aliasOf:C?C.record:G})))}let te,se;for(const _e of K){const{path:Me}=_e;if(F&&Me[0]!=="/"){const he=F.record.path,Ge=he[he.length-1]==="/"?"":"/";_e.path=F.record.path+(Me&&Ge+Me)}if(te=y5(_e,F,Z),C?C.alias.push(te):(se=se||te,se!==te&&se.alias.push(te),B&&R.name&&!OE(te)&&c(R.name)),nR(te)&&s(te),G.children){const he=G.children;for(let Ge=0;Ge<he.length;Ge++)h(he[Ge],te,C&&C.children[Ge])}C=C||te}return se?()=>{c(se)}:sg}function c(R){if(eR(R)){const F=l.get(R);F&&(l.delete(R),n.splice(n.indexOf(F),1),F.children.forEach(c),F.alias.forEach(c))}else{const F=n.indexOf(R);F>-1&&(n.splice(F,1),R.record.name&&l.delete(R.record.name),R.children.forEach(c),R.alias.forEach(c))}}function M(){return n}function s(R){const F=x5(R,n);n.splice(F,0,R),R.record.name&&!OE(R)&&l.set(R.record.name,R)}function E(R,F){let C,B={},G,Z;if("name"in R&&R.name){if(C=l.get(R.name),!C)throw am(1,{location:R});Z=C.record.name,B=Ii(IE(F.params,C.keys.filter(se=>!se.optional).concat(C.parent?C.parent.keys.filter(se=>se.optional):[]).map(se=>se.name)),R.params&&IE(R.params,C.keys.map(se=>se.name))),G=C.stringify(B)}else if(R.path!=null)G=R.path,C=n.find(se=>se.re.test(G)),C&&(B=C.parse(G),Z=C.record.name);else{if(C=F.name?l.get(F.name):n.find(se=>se.re.test(F.path)),!C)throw am(1,{location:R,currentLocation:F});Z=C.record.name,B=Ii({},F.params,R.params),G=C.stringify(B)}const K=[];let te=C;for(;te;)K.unshift(te.record),te=te.parent;return{name:Z,path:G,params:B,matched:K,meta:w5(K)}}e.forEach(R=>h(R));function k(){n.length=0,l.clear()}return{addRoute:h,resolve:E,removeRoute:c,clearRoutes:k,getRoutes:M,getRecordMatcher:p}}function IE(e,r){const n={};for(const l of r)l in e&&(n[l]=e[l]);return n}function PE(e){const r={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:v5(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(r,"mods",{value:{}}),r}function v5(e){const r={},n=e.props||!1;if("component"in e)r.default=n;else for(const l in e.components)r[l]=typeof n=="object"?n[l]:n;return r}function OE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function w5(e){return e.reduce((r,n)=>Ii(r,n.meta),{})}function RE(e,r){const n={};for(const l in e)n[l]=l in r?r[l]:e[l];return n}function x5(e,r){let n=0,l=r.length;for(;n!==l;){const h=n+l>>1;rR(e,r[h])<0?l=h:n=h+1}const p=M5(e);return p&&(l=r.lastIndexOf(p,l-1)),l}function M5(e){let r=e;for(;r=r.parent;)if(nR(r)&&rR(e,r)===0)return r}function nR({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function S5(e){const r={};if(e===""||e==="?")return r;const l=(e[0]==="?"?e.slice(1):e).split("&");for(let p=0;p<l.length;++p){const h=l[p].replace(WO," "),c=h.indexOf("="),M=xg(c<0?h:h.slice(0,c)),s=c<0?null:xg(h.slice(c+1));if(M in r){let E=r[M];_u(E)||(E=r[M]=[E]),E.push(s)}else r[M]=s}return r}function FE(e){let r="";for(let n in e){const l=e[n];if(n=HB(n),l==null){l!==void 0&&(r+=(r.length?"&":"")+n);continue}(_u(l)?l.map(h=>h&&eL(h)):[l&&eL(l)]).forEach(h=>{h!==void 0&&(r+=(r.length?"&":"")+n,h!=null&&(r+="="+h))})}return r}function L5(e){const r={};for(const n in e){const l=e[n];l!==void 0&&(r[n]=_u(l)?l.map(p=>p==null?null:""+p):l==null?l:""+l)}return r}const T5=Symbol(""),zE=Symbol(""),YL=Symbol(""),BL=Symbol(""),nL=Symbol("");function D_(){let e=[];function r(l){return e.push(l),()=>{const p=e.indexOf(l);p>-1&&e.splice(p,1)}}function n(){e=[]}return{add:r,list:()=>e.slice(),reset:n}}function $d(e,r,n,l,p,h=c=>c()){const c=l&&(l.enterCallbacks[p]=l.enterCallbacks[p]||[]);return()=>new Promise((M,s)=>{const E=F=>{F===!1?s(am(4,{from:n,to:r})):F instanceof Error?s(F):c5(F)?s(am(2,{from:r,to:F})):(c&&l.enterCallbacks[p]===c&&typeof F=="function"&&c.push(F),M())},k=h(()=>e.call(l&&l.instances[p],r,n,E));let R=Promise.resolve(k);e.length<3&&(R=R.then(E)),R.catch(F=>s(F))})}function EM(e,r,n,l,p=h=>h()){const h=[];for(const c of e)for(const M in c.components){let s=c.components[M];if(!(r!=="beforeRouteEnter"&&!c.instances[M]))if(qO(s)){const k=(s.__vccOpts||s)[r];k&&h.push($d(k,n,l,c,M,p))}else{let E=s();h.push(()=>E.then(k=>{if(!k)throw new Error(`Couldn't resolve component "${M}" at "${c.path}"`);const R=OB(k)?k.default:k;c.mods[M]=k,c.components[M]=R;const C=(R.__vccOpts||R)[r];return C&&$d(C,n,l,c,M,p)()}))}}return h}function YE(e){const r=Br(YL),n=Br(BL),l=fr(()=>{const s=jo(e.to);return r.resolve(s)}),p=fr(()=>{const{matched:s}=l.value,{length:E}=s,k=s[E-1],R=n.matched;if(!k||!R.length)return-1;const F=R.findIndex(om.bind(null,k));if(F>-1)return F;const C=BE(s[E-2]);return E>1&&BE(k)===C&&R[R.length-1].path!==C?R.findIndex(om.bind(null,s[E-2])):F}),h=fr(()=>p.value>-1&&D5(n.params,l.value.params)),c=fr(()=>p.value>-1&&p.value===n.matched.length-1&&JO(n.params,l.value.params));function M(s={}){if(C5(s)){const E=r[jo(e.replace)?"replace":"push"](jo(e.to)).catch(sg);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>E),E}return Promise.resolve()}return{route:l,href:fr(()=>l.value.href),isActive:h,isExactActive:c,navigate:M}}function E5(e){return e.length===1?e[0]:e}const k5=bP({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:YE,setup(e,{slots:r}){const n=Mi(YE(e)),{options:l}=Br(YL),p=fr(()=>({[jE(e.activeClass,l.linkActiveClass,"router-link-active")]:n.isActive,[jE(e.exactActiveClass,l.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const h=r.default&&E5(r.default(n));return e.custom?h:rm("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:p.value},h)}}}),A5=k5;function C5(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const r=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return e.preventDefault&&e.preventDefault(),!0}}function D5(e,r){for(const n in r){const l=r[n],p=e[n];if(typeof l=="string"){if(l!==p)return!1}else if(!_u(p)||p.length!==l.length||l.some((h,c)=>h!==p[c]))return!1}return!0}function BE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const jE=(e,r,n)=>e??r??n,I5=bP({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:r,slots:n}){const l=Br(nL),p=fr(()=>e.route||l.value),h=Br(zE,0),c=fr(()=>{let E=jo(h);const{matched:k}=p.value;let R;for(;(R=k[E])&&!R.components;)E++;return E}),M=fr(()=>p.value.matched[c.value]);An(zE,fr(()=>c.value+1)),An(T5,M),An(nL,p);const s=Oi();return Ao(()=>[s.value,M.value,e.name],([E,k,R],[F,C,B])=>{k&&(k.instances[R]=E,C&&C!==k&&E&&E===F&&(k.leaveGuards.size||(k.leaveGuards=C.leaveGuards),k.updateGuards.size||(k.updateGuards=C.updateGuards))),E&&k&&(!C||!om(k,C)||!F)&&(k.enterCallbacks[R]||[]).forEach(G=>G(E))},{flush:"post"}),()=>{const E=p.value,k=e.name,R=M.value,F=R&&R.components[k];if(!F)return $E(n.default,{Component:F,route:E});const C=R.props[k],B=C?C===!0?E.params:typeof C=="function"?C(E):C:null,Z=rm(F,Ii({},B,r,{onVnodeUnmounted:K=>{K.component.isUnmounted&&(R.instances[k]=null)},ref:s}));return $E(n.default,{Component:Z,route:E})||Z}}});function $E(e,r){if(!e)return null;const n=e(r);return n.length===1?n[0]:n}const P5=I5;function iR(e){const r=b5(e.routes,e),n=e.parseQuery||S5,l=e.stringifyQuery||FE,p=e.history,h=D_(),c=D_(),M=D_(),s=xx(Id);let E=Id;Xp&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const k=LM.bind(null,xt=>""+xt),R=LM.bind(null,GB),F=LM.bind(null,xg);function C(xt,qt){let It,Nt;return eR(xt)?(It=r.getRecordMatcher(xt),Nt=qt):Nt=xt,r.addRoute(Nt,It)}function B(xt){const qt=r.getRecordMatcher(xt);qt&&r.removeRoute(qt)}function G(){return r.getRoutes().map(xt=>xt.record)}function Z(xt){return!!r.getRecordMatcher(xt)}function K(xt,qt){if(qt=Ii({},qt||s.value),typeof xt=="string"){const He=TM(n,xt,qt.path),at=r.resolve({path:He.path},qt),Dt=p.createHref(He.fullPath);return Ii(He,at,{params:F(at.params),hash:xg(He.hash),redirectedFrom:void 0,href:Dt})}let It;if(xt.path!=null)It=Ii({},xt,{path:TM(n,xt.path,qt.path).path});else{const He=Ii({},xt.params);for(const at in He)He[at]==null&&delete He[at];It=Ii({},xt,{params:R(He)}),qt.params=R(qt.params)}const Nt=r.resolve(It,qt),_r=xt.hash||"";Nt.params=k(F(Nt.params));const Se=XB(l,Ii({},xt,{hash:NB(_r),path:Nt.path})),Ce=p.createHref(Se);return Ii({fullPath:Se,hash:_r,query:l===FE?L5(xt.query):xt.query||{}},Nt,{redirectedFrom:void 0,href:Ce})}function te(xt){return typeof xt=="string"?TM(n,xt,s.value.path):Ii({},xt)}function se(xt,qt){if(E!==xt)return am(8,{from:qt,to:xt})}function _e(xt){return Ge(xt)}function Me(xt){return _e(Ii(te(xt),{replace:!0}))}function he(xt){const qt=xt.matched[xt.matched.length-1];if(qt&&qt.redirect){const{redirect:It}=qt;let Nt=typeof It=="function"?It(xt):It;return typeof Nt=="string"&&(Nt=Nt.includes("?")||Nt.includes("#")?Nt=te(Nt):{path:Nt},Nt.params={}),Ii({query:xt.query,hash:xt.hash,params:Nt.path!=null?{}:xt.params},Nt)}}function Ge(xt,qt){const It=E=K(xt),Nt=s.value,_r=xt.state,Se=xt.force,Ce=xt.replace===!0,He=he(It);if(He)return Ge(Ii(te(He),{state:typeof He=="object"?Ii({},_r,He.state):_r,force:Se,replace:Ce}),qt||It);const at=It;at.redirectedFrom=qt;let Dt;return!Se&&KB(l,Nt,It)&&(Dt=am(16,{to:at,from:Nt}),pr(Nt,Nt,!0,!1)),(Dt?Promise.resolve(Dt):Re(at,Nt)).catch(At=>jc(At)?jc(At,2)?At:Sr(At):vt(At,at,Nt)).then(At=>{if(At){if(jc(At,2))return Ge(Ii({replace:Ce},te(At.to),{state:typeof At.to=="object"?Ii({},_r,At.to.state):_r,force:Se}),qt||at)}else At=Ke(at,Nt,!0,Ce,_r);return ut(at,Nt,At),At})}function st(xt,qt){const It=se(xt,qt);return It?Promise.reject(It):Promise.resolve()}function Ne(xt){const qt=qr.values().next().value;return qt&&typeof qt.runWithContext=="function"?qt.runWithContext(xt):xt()}function Re(xt,qt){let It;const[Nt,_r,Se]=O5(xt,qt);It=EM(Nt.reverse(),"beforeRouteLeave",xt,qt);for(const He of Nt)He.leaveGuards.forEach(at=>{It.push($d(at,xt,qt))});const Ce=st.bind(null,xt,qt);return It.push(Ce),Nr(It).then(()=>{It=[];for(const He of h.list())It.push($d(He,xt,qt));return It.push(Ce),Nr(It)}).then(()=>{It=EM(_r,"beforeRouteUpdate",xt,qt);for(const He of _r)He.updateGuards.forEach(at=>{It.push($d(at,xt,qt))});return It.push(Ce),Nr(It)}).then(()=>{It=[];for(const He of Se)if(He.beforeEnter)if(_u(He.beforeEnter))for(const at of He.beforeEnter)It.push($d(at,xt,qt));else It.push($d(He.beforeEnter,xt,qt));return It.push(Ce),Nr(It)}).then(()=>(xt.matched.forEach(He=>He.enterCallbacks={}),It=EM(Se,"beforeRouteEnter",xt,qt,Ne),It.push(Ce),Nr(It))).then(()=>{It=[];for(const He of c.list())It.push($d(He,xt,qt));return It.push(Ce),Nr(It)}).catch(He=>jc(He,8)?He:Promise.reject(He))}function ut(xt,qt,It){M.list().forEach(Nt=>Ne(()=>Nt(xt,qt,It)))}function Ke(xt,qt,It,Nt,_r){const Se=se(xt,qt);if(Se)return Se;const Ce=qt===Id,He=Xp?history.state:{};It&&(Nt||Ce?p.replace(xt.fullPath,Ii({scroll:Ce&&He&&He.scroll},_r)):p.push(xt.fullPath,_r)),s.value=xt,pr(xt,qt,It,Ce),Sr()}let gt;function mt(){gt||(gt=p.listen((xt,qt,It)=>{if(!Gr.listening)return;const Nt=K(xt),_r=he(Nt);if(_r){Ge(Ii(_r,{replace:!0,force:!0}),Nt).catch(sg);return}E=Nt;const Se=s.value;Xp&&o5(EE(Se.fullPath,It.delta),l0()),Re(Nt,Se).catch(Ce=>jc(Ce,12)?Ce:jc(Ce,2)?(Ge(Ii(te(Ce.to),{force:!0}),Nt).then(He=>{jc(He,20)&&!It.delta&&It.type===Mg.pop&&p.go(-1,!1)}).catch(sg),Promise.reject()):(It.delta&&p.go(-It.delta,!1),vt(Ce,Nt,Se))).then(Ce=>{Ce=Ce||Ke(Nt,Se,!1),Ce&&(It.delta&&!jc(Ce,8)?p.go(-It.delta,!1):It.type===Mg.pop&&jc(Ce,20)&&p.go(-1,!1)),ut(Nt,Se,Ce)}).catch(sg)}))}let Lt=D_(),ot=D_(),dt;function vt(xt,qt,It){Sr(xt);const Nt=ot.list();return Nt.length?Nt.forEach(_r=>_r(xt,qt,It)):console.error(xt),Promise.reject(xt)}function nr(){return dt&&s.value!==Id?Promise.resolve():new Promise((xt,qt)=>{Lt.add([xt,qt])})}function Sr(xt){return dt||(dt=!xt,mt(),Lt.list().forEach(([qt,It])=>xt?It(xt):qt()),Lt.reset()),xt}function pr(xt,qt,It,Nt){const{scrollBehavior:_r}=e;if(!Xp||!_r)return Promise.resolve();const Se=!It&&a5(EE(xt.fullPath,0))||(Nt||!It)&&history.state&&history.state.scroll||null;return Lg().then(()=>_r(xt,qt,Se)).then(Ce=>Ce&&i5(Ce)).catch(Ce=>vt(Ce,xt,qt))}const Er=xt=>p.go(xt);let pn;const qr=new Set,Gr={currentRoute:s,listening:!0,addRoute:C,removeRoute:B,clearRoutes:r.clearRoutes,hasRoute:Z,getRoutes:G,resolve:K,options:e,push:_e,replace:Me,go:Er,back:()=>Er(-1),forward:()=>Er(1),beforeEach:h.add,beforeResolve:c.add,afterEach:M.add,onError:ot.add,isReady:nr,install(xt){const qt=this;xt.component("RouterLink",A5),xt.component("RouterView",P5),xt.config.globalProperties.$router=qt,Object.defineProperty(xt.config.globalProperties,"$route",{enumerable:!0,get:()=>jo(s)}),Xp&&!pn&&s.value===Id&&(pn=!0,_e(p.location).catch(_r=>{}));const It={};for(const _r in Id)Object.defineProperty(It,_r,{get:()=>s.value[_r],enumerable:!0});xt.provide(YL,qt),xt.provide(BL,_g(It)),xt.provide(nL,s);const Nt=xt.unmount;qr.add(xt),xt.unmount=function(){qr.delete(xt),qr.size<1&&(E=Id,gt&&gt(),gt=null,s.value=Id,pn=!1,dt=!1),Nt()}}};function Nr(xt){return xt.reduce((qt,It)=>qt.then(()=>Ne(It)),Promise.resolve())}return Gr}function O5(e,r){const n=[],l=[],p=[],h=Math.max(r.matched.length,e.matched.length);for(let c=0;c<h;c++){const M=r.matched[c];M&&(e.matched.find(E=>om(E,M))?l.push(M):n.push(M));const s=e.matched[c];s&&(r.matched.find(E=>om(E,s))||p.push(s))}return[n,l,p]}function R5(e){return Br(BL)}function F5(){return oR().__VUE_DEVTOOLS_GLOBAL_HOOK__}function oR(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const z5=typeof Proxy=="function",Y5="devtools-plugin:setup",B5="plugin:settings:set";let Up,iL;function j5(){var e;return Up!==void 0||(typeof window<"u"&&window.performance?(Up=!0,iL=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Up=!0,iL=globalThis.perf_hooks.performance):Up=!1),Up}function $5(){return j5()?iL.now():Date.now()}class V5{constructor(r,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=r,this.hook=n;const l={};if(r.settings)for(const c in r.settings){const M=r.settings[c];l[c]=M.defaultValue}const p=`__vue-devtools-plugin-settings__${r.id}`;let h=Object.assign({},l);try{const c=localStorage.getItem(p),M=JSON.parse(c);Object.assign(h,M)}catch{}this.fallbacks={getSettings(){return h},setSettings(c){try{localStorage.setItem(p,JSON.stringify(c))}catch{}h=c},now(){return $5()}},n&&n.on(B5,(c,M)=>{c===this.plugin.id&&this.fallbacks.setSettings(M)}),this.proxiedOn=new Proxy({},{get:(c,M)=>this.target?this.target.on[M]:(...s)=>{this.onQueue.push({method:M,args:s})}}),this.proxiedTarget=new Proxy({},{get:(c,M)=>this.target?this.target[M]:M==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(M)?(...s)=>(this.targetQueue.push({method:M,args:s,resolve:()=>{}}),this.fallbacks[M](...s)):(...s)=>new Promise(E=>{this.targetQueue.push({method:M,args:s,resolve:E})})})}async setRealTarget(r){this.target=r;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function U5(e,r){const n=e,l=oR(),p=F5(),h=z5&&n.enableEarlyProxy;if(p&&(l.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!h))p.emit(Y5,e,r);else{const c=h?new V5(n,p):null;(l.__VUE_DEVTOOLS_PLUGINS__=l.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:r,proxy:c}),c&&r(c.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var aR="store";function N5(e){return e===void 0&&(e=null),Br(e!==null?e:aR)}function dm(e,r){Object.keys(e).forEach(function(n){return r(e[n],n)})}function sR(e){return e!==null&&typeof e=="object"}function H5(e){return e&&typeof e.then=="function"}function q5(e,r){return function(){return e(r)}}function lR(e,r,n){return r.indexOf(e)<0&&(n&&n.prepend?r.unshift(e):r.push(e)),function(){var l=r.indexOf(e);l>-1&&r.splice(l,1)}}function uR(e,r){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;u0(e,n,[],e._modules.root,!0),jL(e,n,r)}function jL(e,r,n){var l=e._state,p=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var h=e._wrappedGetters,c={},M={},s=Hx(!0);s.run(function(){dm(h,function(E,k){c[k]=q5(E,e),M[k]=fr(function(){return c[k]()}),Object.defineProperty(e.getters,k,{get:function(){return M[k].value},enumerable:!0})})}),e._state=Mi({data:r}),e._scope=s,e.strict&&K5(e),l&&n&&e._withCommit(function(){l.data=null}),p&&p.stop()}function u0(e,r,n,l,p){var h=!n.length,c=e._modules.getNamespace(n);if(l.namespaced&&(e._modulesNamespaceMap[c],e._modulesNamespaceMap[c]=l),!h&&!p){var M=$L(r,n.slice(0,-1)),s=n[n.length-1];e._withCommit(function(){M[s]=l.state})}var E=l.context=G5(e,c,n);l.forEachMutation(function(k,R){var F=c+R;W5(e,F,k,E)}),l.forEachAction(function(k,R){var F=k.root?R:c+R,C=k.handler||k;Z5(e,F,C,E)}),l.forEachGetter(function(k,R){var F=c+R;X5(e,F,k,E)}),l.forEachChild(function(k,R){u0(e,r,n.concat(R),k,p)})}function G5(e,r,n){var l=r==="",p={dispatch:l?e.dispatch:function(h,c,M){var s=Fx(h,c,M),E=s.payload,k=s.options,R=s.type;return(!k||!k.root)&&(R=r+R),e.dispatch(R,E)},commit:l?e.commit:function(h,c,M){var s=Fx(h,c,M),E=s.payload,k=s.options,R=s.type;(!k||!k.root)&&(R=r+R),e.commit(R,E,k)}};return Object.defineProperties(p,{getters:{get:l?function(){return e.getters}:function(){return cR(e,r)}},state:{get:function(){return $L(e.state,n)}}}),p}function cR(e,r){if(!e._makeLocalGettersCache[r]){var n={},l=r.length;Object.keys(e.getters).forEach(function(p){if(p.slice(0,l)===r){var h=p.slice(l);Object.defineProperty(n,h,{get:function(){return e.getters[p]},enumerable:!0})}}),e._makeLocalGettersCache[r]=n}return e._makeLocalGettersCache[r]}function W5(e,r,n,l){var p=e._mutations[r]||(e._mutations[r]=[]);p.push(function(c){n.call(e,l.state,c)})}function Z5(e,r,n,l){var p=e._actions[r]||(e._actions[r]=[]);p.push(function(c){var M=n.call(e,{dispatch:l.dispatch,commit:l.commit,getters:l.getters,state:l.state,rootGetters:e.getters,rootState:e.state},c);return H5(M)||(M=Promise.resolve(M)),e._devtoolHook?M.catch(function(s){throw e._devtoolHook.emit("vuex:error",s),s}):M})}function X5(e,r,n,l){e._wrappedGetters[r]||(e._wrappedGetters[r]=function(h){return n(l.state,l.getters,h.state,h.getters)})}function K5(e){Ao(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function $L(e,r){return r.reduce(function(n,l){return n[l]},e)}function Fx(e,r,n){return sR(e)&&e.type&&(n=r,r=e,e=e.type),{type:e,payload:r,options:n}}var J5="vuex bindings",VE="vuex:mutations",kM="vuex:actions",Np="vuex",Q5=0;function ej(e,r){U5({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[J5]},function(n){n.addTimelineLayer({id:VE,label:"Vuex Mutations",color:UE}),n.addTimelineLayer({id:kM,label:"Vuex Actions",color:UE}),n.addInspector({id:Np,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(l){if(l.app===e&&l.inspectorId===Np)if(l.filter){var p=[];pR(p,r._modules.root,l.filter,""),l.rootNodes=p}else l.rootNodes=[hR(r._modules.root,"")]}),n.on.getInspectorState(function(l){if(l.app===e&&l.inspectorId===Np){var p=l.nodeId;cR(r,p),l.state=nj(oj(r._modules,p),p==="root"?r.getters:r._makeLocalGettersCache,p)}}),n.on.editInspectorState(function(l){if(l.app===e&&l.inspectorId===Np){var p=l.nodeId,h=l.path;p!=="root"&&(h=p.split("/").filter(Boolean).concat(h)),r._withCommit(function(){l.set(r._state.data,h,l.state.value)})}}),r.subscribe(function(l,p){var h={};l.payload&&(h.payload=l.payload),h.state=p,n.notifyComponentUpdate(),n.sendInspectorTree(Np),n.sendInspectorState(Np),n.addTimelineEvent({layerId:VE,event:{time:Date.now(),title:l.type,data:h}})}),r.subscribeAction({before:function(l,p){var h={};l.payload&&(h.payload=l.payload),l._id=Q5++,l._time=Date.now(),h.state=p,n.addTimelineEvent({layerId:kM,event:{time:l._time,title:l.type,groupId:l._id,subtitle:"start",data:h}})},after:function(l,p){var h={},c=Date.now()-l._time;h.duration={_custom:{type:"duration",display:c+"ms",tooltip:"Action duration",value:c}},l.payload&&(h.payload=l.payload),h.state=p,n.addTimelineEvent({layerId:kM,event:{time:Date.now(),title:l.type,groupId:l._id,subtitle:"end",data:h}})}})})}var UE=8702998,tj=6710886,rj=16777215,dR={label:"namespaced",textColor:rj,backgroundColor:tj};function fR(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function hR(e,r){return{id:r||"root",label:fR(r),tags:e.namespaced?[dR]:[],children:Object.keys(e._children).map(function(n){return hR(e._children[n],r+n+"/")})}}function pR(e,r,n,l){l.includes(n)&&e.push({id:l||"root",label:l.endsWith("/")?l.slice(0,l.length-1):l||"Root",tags:r.namespaced?[dR]:[]}),Object.keys(r._children).forEach(function(p){pR(e,r._children[p],n,l+p+"/")})}function nj(e,r,n){r=n==="root"?r:r[n];var l=Object.keys(r),p={state:Object.keys(e.state).map(function(c){return{key:c,editable:!0,value:e.state[c]}})};if(l.length){var h=ij(r);p.getters=Object.keys(h).map(function(c){return{key:c.endsWith("/")?fR(c):c,editable:!1,value:oL(function(){return h[c]})}})}return p}function ij(e){var r={};return Object.keys(e).forEach(function(n){var l=n.split("/");if(l.length>1){var p=r,h=l.pop();l.forEach(function(c){p[c]||(p[c]={_custom:{value:{},display:c,tooltip:"Module",abstract:!0}}),p=p[c]._custom.value}),p[h]=oL(function(){return e[n]})}else r[n]=oL(function(){return e[n]})}),r}function oj(e,r){var n=r.split("/").filter(function(l){return l});return n.reduce(function(l,p,h){var c=l[p];if(!c)throw new Error('Missing module "'+p+'" for path "'+r+'".');return h===n.length-1?c:c._children},r==="root"?e:e.root._children)}function oL(e){try{return e()}catch(r){return r}}var yu=function(r,n){this.runtime=n,this._children=Object.create(null),this._rawModule=r;var l=r.state;this.state=(typeof l=="function"?l():l)||{}},mR={namespaced:{configurable:!0}};mR.namespaced.get=function(){return!!this._rawModule.namespaced};yu.prototype.addChild=function(r,n){this._children[r]=n};yu.prototype.removeChild=function(r){delete this._children[r]};yu.prototype.getChild=function(r){return this._children[r]};yu.prototype.hasChild=function(r){return r in this._children};yu.prototype.update=function(r){this._rawModule.namespaced=r.namespaced,r.actions&&(this._rawModule.actions=r.actions),r.mutations&&(this._rawModule.mutations=r.mutations),r.getters&&(this._rawModule.getters=r.getters)};yu.prototype.forEachChild=function(r){dm(this._children,r)};yu.prototype.forEachGetter=function(r){this._rawModule.getters&&dm(this._rawModule.getters,r)};yu.prototype.forEachAction=function(r){this._rawModule.actions&&dm(this._rawModule.actions,r)};yu.prototype.forEachMutation=function(r){this._rawModule.mutations&&dm(this._rawModule.mutations,r)};Object.defineProperties(yu.prototype,mR);var xh=function(r){this.register([],r,!1)};xh.prototype.get=function(r){return r.reduce(function(n,l){return n.getChild(l)},this.root)};xh.prototype.getNamespace=function(r){var n=this.root;return r.reduce(function(l,p){return n=n.getChild(p),l+(n.namespaced?p+"/":"")},"")};xh.prototype.update=function(r){_R([],this.root,r)};xh.prototype.register=function(r,n,l){var p=this;l===void 0&&(l=!0);var h=new yu(n,l);if(r.length===0)this.root=h;else{var c=this.get(r.slice(0,-1));c.addChild(r[r.length-1],h)}n.modules&&dm(n.modules,function(M,s){p.register(r.concat(s),M,l)})};xh.prototype.unregister=function(r){var n=this.get(r.slice(0,-1)),l=r[r.length-1],p=n.getChild(l);p&&p.runtime&&n.removeChild(l)};xh.prototype.isRegistered=function(r){var n=this.get(r.slice(0,-1)),l=r[r.length-1];return n?n.hasChild(l):!1};function _R(e,r,n){if(r.update(n),n.modules)for(var l in n.modules){if(!r.getChild(l))return;_R(e.concat(l),r.getChild(l),n.modules[l])}}function aj(e){return new Us(e)}var Us=function(r){var n=this;r===void 0&&(r={});var l=r.plugins;l===void 0&&(l=[]);var p=r.strict;p===void 0&&(p=!1);var h=r.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new xh(r),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=h;var c=this,M=this,s=M.dispatch,E=M.commit;this.dispatch=function(F,C){return s.call(c,F,C)},this.commit=function(F,C,B){return E.call(c,F,C,B)},this.strict=p;var k=this._modules.root.state;u0(this,k,[],this._modules.root),jL(this,k),l.forEach(function(R){return R(n)})},VL={state:{configurable:!0}};Us.prototype.install=function(r,n){r.provide(n||aR,this),r.config.globalProperties.$store=this;var l=this._devtools!==void 0?this._devtools:!1;l&&ej(r,this)};VL.state.get=function(){return this._state.data};VL.state.set=function(e){};Us.prototype.commit=function(r,n,l){var p=this,h=Fx(r,n,l),c=h.type,M=h.payload,s={type:c,payload:M},E=this._mutations[c];E&&(this._withCommit(function(){E.forEach(function(R){R(M)})}),this._subscribers.slice().forEach(function(k){return k(s,p.state)}))};Us.prototype.dispatch=function(r,n){var l=this,p=Fx(r,n),h=p.type,c=p.payload,M={type:h,payload:c},s=this._actions[h];if(s){try{this._actionSubscribers.slice().filter(function(k){return k.before}).forEach(function(k){return k.before(M,l.state)})}catch{}var E=s.length>1?Promise.all(s.map(function(k){return k(c)})):s[0](c);return new Promise(function(k,R){E.then(function(F){try{l._actionSubscribers.filter(function(C){return C.after}).forEach(function(C){return C.after(M,l.state)})}catch{}k(F)},function(F){try{l._actionSubscribers.filter(function(C){return C.error}).forEach(function(C){return C.error(M,l.state,F)})}catch{}R(F)})})}};Us.prototype.subscribe=function(r,n){return lR(r,this._subscribers,n)};Us.prototype.subscribeAction=function(r,n){var l=typeof r=="function"?{before:r}:r;return lR(l,this._actionSubscribers,n)};Us.prototype.watch=function(r,n,l){var p=this;return Ao(function(){return r(p.state,p.getters)},n,Object.assign({},l))};Us.prototype.replaceState=function(r){var n=this;this._withCommit(function(){n._state.data=r})};Us.prototype.registerModule=function(r,n,l){l===void 0&&(l={}),typeof r=="string"&&(r=[r]),this._modules.register(r,n),u0(this,this.state,r,this._modules.get(r),l.preserveState),jL(this,this.state)};Us.prototype.unregisterModule=function(r){var n=this;typeof r=="string"&&(r=[r]),this._modules.unregister(r),this._withCommit(function(){var l=$L(n.state,r.slice(0,-1));delete l[r[r.length-1]]}),uR(this)};Us.prototype.hasModule=function(r){return typeof r=="string"&&(r=[r]),this._modules.isRegistered(r)};Us.prototype.hotUpdate=function(r){this._modules.update(r),uR(this,!0)};Us.prototype._withCommit=function(r){var n=this._committing;this._committing=!0,r(),this._committing=n};Object.defineProperties(Us.prototype,VL);var gR=uj(function(e,r){var n={};return sj(r).forEach(function(l){var p=l.key,h=l.val;h=e+h,n[p]=function(){if(!(e&&!cj(this.$store,"mapGetters",e)))return this.$store.getters[h]},n[p].vuex=!0}),n});function sj(e){return lj(e)?Array.isArray(e)?e.map(function(r){return{key:r,val:r}}):Object.keys(e).map(function(r){return{key:r,val:e[r]}}):[]}function lj(e){return Array.isArray(e)||sR(e)}function uj(e){return function(r,n){return typeof r!="string"?(n=r,r=""):r.charAt(r.length-1)!=="/"&&(r+="/"),e(r,n)}}function cj(e,r,n){var l=e._modulesNamespaceMap[n];return l}const dj={data(){return{pageLoadProgress:0,isProgressing:!1,pageLoadProgressColor:"blue"}},computed:{...gR({showPageLoadProgress:"front/showPageLoadProgress"})},watch:{showPageLoadProgress(){this.showPageLoadProgress?(this.pageLoadProgressColor=this.showPageLoadProgress.color||"#000000",this.pageLoadProgress=10,this.isProgressing=!0,setTimeout(this.runPageLoadProgress,300)):this.isProgressing=!1}},methods:{runPageLoadProgress(){if(!this.isProgressing){this.pageLoadProgress=0;return}this.pageLoadProgress=this.pageLoadProgress+(100-this.pageLoadProgress)/5,setTimeout(this.runPageLoadProgress,300)}}};function fj(e,r,n,l,p,h){return fi(),cl("div",{class:wh(["ww-page-load-progress",{display:e.showPageLoadProgress}])},[Zc("div",{class:"progress",style:Jc({width:p.pageLoadProgress+"%",background:p.pageLoadProgressColor})},null,4)],2)}const hj=$o(dj,[["render",fj],["__scopeId","data-v-2857ebbc"]]);function UL(e){let r;e.backgroundImage&&(e.backgroundImage.startsWith("url(")?r=e.backgroundImage:(e.backgroundImage.startsWith("https://")||e.backgroundImage.startsWith("http://")||e.backgroundImage.startsWith("data:image")||e.backgroundImage.startsWith("blob:"),r=wwLib.wwUtils.formatBgImgUrl(e.backgroundImage)));const n=(e.backgroundOrder||"grad,img,col").split(","),l=n[2]==="col";let p="";for(let h of n)switch(h){case"grad":e.backgroundGradient&&(p.length&&(p+=", "),p+=e.backgroundGradient);break;case"col":e.backgroundColor&&(p.length&&(p+=", "),l?p+=e.backgroundColor:p+=`linear-gradient(0deg, ${e.backgroundColor}, ${e.backgroundColor})`);break;case"img":if(r){p.length&&(p+=", "),p+=r;let c=e.backgroundPositionX==="auto"?"center":e.backgroundPositionX,M=e.backgroundPositionY==="auto"?"center":e.backgroundPositionY;p+=` ${c||"center"} ${M||"center"}`,p+=` / ${e.backgroundSize||"cover"}`,p+=` ${e.backgroundRepeat||"no-repeat"}`;let s=e.backgroundAttachment==="unset"?null:e.backgroundAttachment;p+=` ${s||"scroll"}`}break}return p.length?p:"none"}let yR;const c0=e=>yR=e,bR=Symbol();function aL(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ug;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ug||(ug={}));function pj(){const e=Hx(!0),r=e.run(()=>Oi({}));let n=[],l=[];const p=Gx({install(h){c0(p),p._a=h,h.provide(bR,p),h.config.globalProperties.$pinia=p,l.forEach(c=>n.push(c)),l=[]},use(h){return this._a?n.push(h):l.push(h),this},_p:n,_a:null,_e:e,_s:new Map,state:r});return p}const vR=()=>{};function NE(e,r,n,l=vR){e.push(r);const p=()=>{const h=e.indexOf(r);h>-1&&(e.splice(h,1),l())};return!n&&$I()&&O3(p),p}function Hp(e,...r){e.slice().forEach(n=>{n(...r)})}const mj=e=>e(),HE=Symbol(),AM=Symbol();function sL(e,r){e instanceof Map&&r instanceof Map?r.forEach((n,l)=>e.set(l,n)):e instanceof Set&&r instanceof Set&&r.forEach(e.add,e);for(const n in r){if(!r.hasOwnProperty(n))continue;const l=r[n],p=e[n];aL(p)&&aL(l)&&e.hasOwnProperty(n)&&!yo(l)&&!Ud(l)?e[n]=sL(p,l):e[n]=l}return e}const _j=Symbol();function gj(e){return!aL(e)||!Object.prototype.hasOwnProperty.call(e,_j)}const{assign:Fd}=Object;function yj(e){return!!(yo(e)&&e.effect)}function bj(e,r,n,l){const{state:p,actions:h,getters:c}=r,M=n.state.value[e];let s;function E(){M||(n.state.value[e]=p?p():{});const k=rF(n.state.value[e]);return Fd(k,h,Object.keys(c||{}).reduce((R,F)=>(R[F]=Gx(fr(()=>{c0(n);const C=n._s.get(e);return c[F].call(C,C)})),R),{}))}return s=wR(e,E,r,n,l,!0),s}function wR(e,r,n={},l,p,h){let c;const M=Fd({actions:{}},n),s={deep:!0};let E,k,R=[],F=[],C;const B=l.state.value[e];!h&&!B&&(l.state.value[e]={}),Oi({});let G;function Z(st){let Ne;E=k=!1,typeof st=="function"?(st(l.state.value[e]),Ne={type:ug.patchFunction,storeId:e,events:C}):(sL(l.state.value[e],st),Ne={type:ug.patchObject,payload:st,storeId:e,events:C});const Re=G=Symbol();Lg().then(()=>{G===Re&&(E=!0)}),k=!0,Hp(R,Ne,l.state.value[e])}const K=h?function(){const{state:Ne}=n,Re=Ne?Ne():{};this.$patch(ut=>{Fd(ut,Re)})}:vR;function te(){c.stop(),R=[],F=[],l._s.delete(e)}const se=(st,Ne="")=>{if(HE in st)return st[AM]=Ne,st;const Re=function(){c0(l);const ut=Array.from(arguments),Ke=[],gt=[];function mt(dt){Ke.push(dt)}function Lt(dt){gt.push(dt)}Hp(F,{args:ut,name:Re[AM],store:Me,after:mt,onError:Lt});let ot;try{ot=st.apply(this&&this.$id===e?this:Me,ut)}catch(dt){throw Hp(gt,dt),dt}return ot instanceof Promise?ot.then(dt=>(Hp(Ke,dt),dt)).catch(dt=>(Hp(gt,dt),Promise.reject(dt))):(Hp(Ke,ot),ot)};return Re[HE]=!0,Re[AM]=Ne,Re},_e={_p:l,$id:e,$onAction:NE.bind(null,F),$patch:Z,$reset:K,$subscribe(st,Ne={}){const Re=NE(R,st,Ne.detached,()=>ut()),ut=c.run(()=>Ao(()=>l.state.value[e],Ke=>{(Ne.flush==="sync"?k:E)&&st({storeId:e,type:ug.direct,events:C},Ke)},Fd({},s,Ne)));return Re},$dispose:te},Me=Mi(_e);l._s.set(e,Me);const Ge=(l._a&&l._a.runWithContext||mj)(()=>l._e.run(()=>(c=Hx()).run(()=>r({action:se}))));for(const st in Ge){const Ne=Ge[st];if(yo(Ne)&&!yj(Ne)||Ud(Ne))h||(B&&gj(Ne)&&(yo(Ne)?Ne.value=B[st]:sL(Ne,B[st])),l.state.value[e][st]=Ne);else if(typeof Ne=="function"){const Re=se(Ne,st);Ge[st]=Re,M.actions[st]=Ne}}return Fd(Me,Ge),Fd(di(Me),Ge),Object.defineProperty(Me,"$state",{get:()=>l.state.value[e],set:st=>{Z(Ne=>{Fd(Ne,st)})}}),l._p.forEach(st=>{Fd(Me,c.run(()=>st({store:Me,app:l._a,pinia:l,options:M})))}),B&&h&&n.hydrate&&n.hydrate(Me.$state,B),E=!0,k=!0,Me}/*! #__NO_SIDE_EFFECTS__ */function d0(e,r,n){let l;const p=typeof r=="function";l=p?n:r;function h(c,M){const s=DF();return c=c||(s?Br(bR,null):null),c&&c0(c),c=yR,c._s.has(e)||(p?wR(e,r,l,c):bj(e,l,c)),c._s.get(e)}return h.$id=e,h}var CM={exports:{}},qE;function vj(){return qE||(qE=1,(function(e){var r=(()=>{var n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,s=(_e,Me,he)=>Me in _e?n(_e,Me,{enumerable:!0,configurable:!0,writable:!0,value:he}):_e[Me]=he,E=(_e,Me)=>{for(var he in Me||(Me={}))c.call(Me,he)&&s(_e,he,Me[he]);if(h)for(var he of h(Me))M.call(Me,he)&&s(_e,he,Me[he]);return _e},k=(_e,Me)=>{for(var he in Me)n(_e,he,{get:Me[he],enumerable:!0})},R=(_e,Me,he,Ge)=>{if(Me&&typeof Me=="object"||typeof Me=="function")for(let st of p(Me))!c.call(_e,st)&&st!==he&&n(_e,st,{get:()=>Me[st],enumerable:!(Ge=l(Me,st))||Ge.enumerable});return _e},F=_e=>R(n({},"__esModule",{value:!0}),_e),C=(_e,Me,he)=>s(_e,typeof Me!="symbol"?Me+"":Me,he),B={};k(B,{DEFAULT_OPTIONS:()=>K,DEFAULT_UUID_LENGTH:()=>Z,default:()=>se});var G="5.3.2",Z=6,K={dictionary:"alphanum",shuffle:!0,debug:!1,length:Z,counter:0},te=class{constructor(Me={}){C(this,"counter"),C(this,"debug"),C(this,"dict"),C(this,"version"),C(this,"dictIndex",0),C(this,"dictRange",[]),C(this,"lowerBound",0),C(this,"upperBound",0),C(this,"dictLength",0),C(this,"uuidLength"),C(this,"_digit_first_ascii",48),C(this,"_digit_last_ascii",58),C(this,"_alpha_lower_first_ascii",97),C(this,"_alpha_lower_last_ascii",123),C(this,"_hex_last_ascii",103),C(this,"_alpha_upper_first_ascii",65),C(this,"_alpha_upper_last_ascii",91),C(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),C(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),C(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),C(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),C(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),C(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),C(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),C(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),C(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),C(this,"log",(...ut)=>{const Ke=[...ut];if(Ke[0]="[short-unique-id] ".concat(ut[0]),this.debug===!0&&typeof console<"u"&&console!==null){console.log(...Ke);return}}),C(this,"_normalizeDictionary",(ut,Ke)=>{let gt;if(ut&&Array.isArray(ut)&&ut.length>1)gt=ut;else{gt=[],this.dictIndex=0;const mt="_".concat(ut,"_dict_ranges"),Lt=this._dict_ranges[mt];let ot=0;for(const[,vt]of Object.entries(Lt)){const[nr,Sr]=vt;ot+=Math.abs(Sr-nr)}gt=new Array(ot);let dt=0;for(const[,vt]of Object.entries(Lt)){this.dictRange=vt,this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1];const nr=this.lowerBound<=this.upperBound,Sr=this.lowerBound,pr=this.upperBound;if(nr)for(let Er=Sr;Er<pr;Er++)gt[dt++]=String.fromCharCode(Er),this.dictIndex=Er;else for(let Er=Sr;Er>pr;Er--)gt[dt++]=String.fromCharCode(Er),this.dictIndex=Er}gt.length=dt}if(Ke){const mt=gt.length;for(let Lt=mt-1;Lt>0;Lt--){const ot=Math.floor(Math.random()*(Lt+1));[gt[Lt],gt[ot]]=[gt[ot],gt[Lt]]}}return gt}),C(this,"setDictionary",(ut,Ke)=>{this.dict=this._normalizeDictionary(ut,Ke),this.dictLength=this.dict.length,this.setCounter(0)}),C(this,"seq",()=>this.sequentialUUID()),C(this,"sequentialUUID",()=>{const ut=this.dictLength,Ke=this.dict;let gt=this.counter;const mt=[];do{const ot=gt%ut;gt=Math.trunc(gt/ut),mt.push(Ke[ot])}while(gt!==0);const Lt=mt.join("");return this.counter+=1,Lt}),C(this,"rnd",(ut=this.uuidLength||Z)=>this.randomUUID(ut)),C(this,"randomUUID",(ut=this.uuidLength||Z)=>{if(ut===null||typeof ut>"u"||ut<1)throw new Error("Invalid UUID Length Provided");const Ke=new Array(ut),gt=this.dictLength,mt=this.dict;for(let Lt=0;Lt<ut;Lt++){const ot=Math.floor(Math.random()*gt);Ke[Lt]=mt[ot]}return Ke.join("")}),C(this,"fmt",(ut,Ke)=>this.formattedUUID(ut,Ke)),C(this,"formattedUUID",(ut,Ke)=>{const gt={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return ut.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,Lt=>{const ot=Lt.slice(0,2),dt=Number.parseInt(Lt.slice(2),10);return ot==="$s"?gt[ot]().padStart(dt,"0"):ot==="$t"&&Ke?gt[ot](dt,Ke):gt[ot](dt)})}),C(this,"availableUUIDs",(ut=this.uuidLength)=>Number.parseFloat(([...new Set(this.dict)].length**ut).toFixed(0))),C(this,"_collisionCache",new Map),C(this,"approxMaxBeforeCollision",(ut=this.availableUUIDs(this.uuidLength))=>{const Ke=ut,gt=this._collisionCache.get(Ke);if(gt!==void 0)return gt;const mt=Number.parseFloat(Math.sqrt(Math.PI/2*ut).toFixed(20));return this._collisionCache.set(Ke,mt),mt}),C(this,"collisionProbability",(ut=this.availableUUIDs(this.uuidLength),Ke=this.uuidLength)=>Number.parseFloat((this.approxMaxBeforeCollision(ut)/this.availableUUIDs(Ke)).toFixed(20))),C(this,"uniqueness",(ut=this.availableUUIDs(this.uuidLength))=>{const Ke=Number.parseFloat((1-this.approxMaxBeforeCollision(ut)/ut).toFixed(20));return Ke>1?1:Ke<0?0:Ke}),C(this,"getVersion",()=>this.version),C(this,"stamp",(ut,Ke)=>{const gt=Math.floor(+(Ke||new Date)/1e3).toString(16);if(typeof ut=="number"&&ut===0)return gt;if(typeof ut!="number"||ut<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));const mt=ut-9,Lt=Math.round(Math.random()*(mt>15?15:mt)),ot=this.randomUUID(mt);return"".concat(ot.substring(0,Lt)).concat(gt).concat(ot.substring(Lt)).concat(Lt.toString(16))}),C(this,"parseStamp",(ut,Ke)=>{if(Ke&&!/t0|t[1-9]\d{1,}/.test(Ke))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const gt=Ke?Ke.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,Lt=>{const ot={$r:nr=>[...Array(nr)].map(()=>"r").join(""),$s:nr=>[...Array(nr)].map(()=>"s").join(""),$t:nr=>[...Array(nr)].map(()=>"t").join("")},dt=Lt.slice(0,2),vt=Number.parseInt(Lt.slice(2),10);return ot[dt](vt)}).replace(/^(.*?)(t{8,})(.*)$/g,(Lt,ot,dt)=>ut.substring(ot.length,ot.length+dt.length)):ut;if(gt.length===8)return new Date(Number.parseInt(gt,16)*1e3);if(gt.length<10)throw new Error("Stamp length invalid");const mt=Number.parseInt(gt.substring(gt.length-1),16);return new Date(Number.parseInt(gt.substring(mt,mt+8),16)*1e3)}),C(this,"setCounter",ut=>{this.counter=ut}),C(this,"validate",(ut,Ke)=>{const gt=Ke?this._normalizeDictionary(Ke):this.dict;return ut.split("").every(mt=>gt.includes(mt))});const he=E(E({},K),Me);this.counter=0,this.debug=!1,this.dict=[],this.version=G;const{dictionary:Ge,shuffle:st,length:Ne,counter:Re}=he;this.uuidLength=Ne,this.setDictionary(Ge,st),this.setCounter(Re),this.debug=he.debug,this.log(this.dict),this.log("Generator instantiated with Dictionary Size ".concat(this.dictLength," and counter set to ").concat(this.counter)),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this)}};C(te,"default",te);var se=te;return F(B)})();e.exports=r.default,typeof window<"u"&&(r=r.default)})(CM)),CM.exports}var wj=vj();const xj=Ct(wj),Mj=new xj,vh=d0("popups",()=>{const e=fr(()=>{const c=wwLib.$store.getters["libraries/getLibrary"].id;return Object.values(wwLib.$store.getters["libraries/getComponents"]).filter(M=>M.type==="modal"&&M.libraryId===c).map(M=>({name:M.name,libraryComponentBaseId:M.id,libraryId:c}))}),r={},n=Oi({});async function l(c,M,{waitClosing:s=!1}={}){const E=`popup-${Mj.rnd()}`;return n.value[E]={uid:E,libraryComponentBaseId:c,content:M},s?new Promise(k=>{r[E]=k}):Promise.resolve(E)}function p(c,M){delete n.value[c],r[c]&&(r[c](M),delete r[c])}function h(c){Object.keys(n.value).forEach(M=>{n.value[M].libraryComponentBaseId===c&&p(M)})}return{availablePopups:e,open:l,close:p,closeAll:h,instances:n,stackedPopupUids:fr(()=>{const c={};return Object.values(n.value).forEach(M=>{var k,R,F,C,B,G,Z,K,te;if(!(((F=(R=(k=wwLib.$store.getters["libraries/getComponents"][M.libraryComponentBaseId])==null?void 0:k.configuration)==null?void 0:R.popup)==null?void 0:F.isStacked)&&((G=(B=(C=wwLib.$store.getters["libraries/getComponents"][M.libraryComponentBaseId])==null?void 0:C.configuration)==null?void 0:B.popup)==null?void 0:G.containerUid)))return;const E=(te=(K=(Z=wwLib.$store.getters["libraries/getComponents"][M.libraryComponentBaseId])==null?void 0:Z.configuration)==null?void 0:K.popup)==null?void 0:te.containerUid;c[E]||(c[E]=[]),c[E].push(M.uid)}),c}),singlePopupUids:fr(()=>Object.keys(n.value).filter(c=>{var s,E,k;const M=n.value[c];return!((k=(E=(s=wwLib.$store.getters["libraries/getComponents"][M.libraryComponentBaseId])==null?void 0:s.configuration)==null?void 0:E.popup)!=null&&k.isStacked)}))}}),GE={properties:{"_ww-text_text":{label:"Text",type:"Info",category:"text",options:{text:"Click text to edit"},bindable:!0,multiLang:!0,defaultValue:"New text",hidden:(e,r,n,l)=>!!(l&&l.text)},"_ww-text_sanitize":{label:"Sanitize",type:"OnOff",bindable:!0,category:"text",bindingValidation:{type:"boolean",markdown:"sanitize"}},"_ww-text_font":{label:"Typography",type:"Typography",category:"text",options:(e,r,n)=>({initialValue:{fontSize:e["_ww-text_fontSize"],fontFamily:e["_ww-text_fontFamily"],fontWeight:e["_ww-text_fontWeight"],fontStyle:e["_ww-text_fontStyle"],lineHeight:e["_ww-text_lineHeight"]},creationDisabled:n["_ww-text_fontSize"]||n["_ww-text_fontFamily"]||n["_ww-text_fontWeight"]||n["_ww-text_fontStyle"]||n["_ww-text_lineHeight"],creationDisabledMessage:"Cannot create typography from bound properties"}),bindable:!0,responsive:!0,states:!0,classes:!0,isStyle:!0},"_ww-text_fontSize":{label:"Size",type:"Length",category:"text",options:{unitChoices:[{value:"px",label:"px",min:1,max:100,default:!0},{value:"em",label:"em",min:0,max:10,digits:3,step:.1},{value:"rem",label:"rem",min:0,max:10,digits:3,step:.1}],noRange:!0},responsive:!0,states:!0,classes:!0,bindable:!0,hidden:(e,r,n)=>e["_ww-text_font"]||n["_ww-text_font"],bindingValidation:{markdown:"font-size",type:"string",cssSupports:"font-size"},isStyle:!0},"_ww-text_fontFamily":{label:"Font family",type:"FontFamily",category:"text",responsive:!0,states:!0,classes:!0,bindable:!0,hidden:(e,r,n)=>e["_ww-text_font"]||n["_ww-text_font"],bindingValidation:{markdown:"font-family",type:"string",cssSupports:"font-family"},isStyle:!0},"_ww-text_fontWeight":{label:"Font weight",type:"TextSelect",category:"text",options:{options:[{value:null,label:"Default",default:!0},{value:100,label:"100 - Thin"},{value:200,label:"200 - Extra Light"},{value:300,label:"300 - Light"},{value:400,label:"400 - Normal"},{value:500,label:"500 - Medium"},{value:600,label:"600 - Semi Bold"},{value:700,label:"700 - Bold"},{value:800,label:"800 - Extra Bold"},{value:900,label:"900 - Black"}]},responsive:!0,states:!0,classes:!0,bindable:!0,hidden:(e,r,n)=>e["_ww-text_font"]||n["_ww-text_font"],bindingValidation:{markdown:"font-weight",type:"string",cssSupports:"font-weight"},isStyle:!0},"_ww-text_fontStyle":{label:"Font Style",type:"TextRadioGroup",category:"text",options:{choices:[{value:null,title:"Default",icon:"typo-default",default:!0},{value:"italic",title:"Italic",icon:"typo-italic"}]},responsive:!0,states:!0,bindable:!0,classes:!0,hidden:(e,r,n)=>e["_ww-text_font"]||n["_ww-text_font"],bindingValidation:{markdown:"font-style",type:"string",cssSupports:"font-style"},isStyle:!0},"_ww-text_lineHeight":{label:"Line height",type:"Length",category:"text",options:{unitChoices:[{value:"normal",label:"auto",default:!0},{value:"px",label:"px",min:0,max:100},{value:"%",label:"%",min:0,max:100},{value:"em",label:"em",min:0,max:10,digits:3,step:.1},{value:"rem",label:"rem",min:0,max:10,digits:3,step:.1},{value:"unset",label:"none"}],noRange:!0},responsive:!0,states:!0,classes:!0,bindable:!0,hidden:(e,r,n)=>e["_ww-text_font"]||n["_ww-text_font"],bindingValidation:{markdown:"line-height",type:"string",cssSupports:"line-height"},isStyle:!0},"_ww-text_textAlign":{label:"Alignment",type:"TextRadioGroup",category:"text",options:{choices:[{value:"left",default:!0,title:"Left",icon:"menu-alt-2"},{value:"center",title:"Center",icon:"text-middle"},{value:"right",title:"Right",icon:"menu-alt-3"},{value:"justify",title:"Justify",icon:"menu"}]},responsive:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"text-align",type:"string",cssSupports:"text-align"},isStyle:!0},"_ww-text_color":{label:"Text color",type:"Color",category:"text",options:{nullable:!0},bindable:!0,bindingValidation:{markdown:"color",type:"string",cssSupports:"color"},responsive:!0,states:!0,classes:!0,isStyle:!0},"_ww-text_textDecoration":{label:"Decoration",type:"TextRadioGroup",category:"text",options:{choices:[{value:"none",title:"None",icon:"x",default:!0},{value:"underline",title:"Underline",icon:"typo-underline"},{value:"overline",title:"Overline",icon:"typo-overline"},{value:"line-through",title:"Line-through",icon:"typo-strikethrough"}]},bindable:!0,responsive:!0,states:!0,classes:!0,bindingValidation:{markdown:"text-decoration",type:"string",cssSupports:"text-decoration"},isStyle:!0},"_ww-text_textDecorationStyle":{label:"Decoration style",type:"TextSelect",category:"text",options:{options:[{value:"solid",label:"Solid",default:!0},{value:"double",label:"Double"},{value:"dotted",label:"Dotted"},{value:"dashed",label:"Dashed"},{value:"wavy",label:"Wavy"}]},responsive:!0,bindable:!0,states:!0,classes:!0,hidden:e=>e["_ww-text_textDecoration"]==="none"||!e["_ww-text_textDecoration"],bindingValidation:{markdown:"text-decoration-style",type:"string",cssSupports:"text-decoration-style"},isStyle:!0},"_ww-text_textDecorationColor":{label:"Decoration color",type:"Color",category:"text",options:{nullable:!0},responsive:!0,bindable:!0,bindingValidation:{markdown:"color",type:"string",cssSupports:"color"},states:!0,classes:!0,hidden:e=>e["_ww-text_textDecoration"]==="none"||!e["_ww-text_textDecoration"],isStyle:!0},"_ww-text_nowrap":{label:"No-wrap",type:"OnOff",category:"text",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{type:"boolean",markdown:"no-wrap"},isStyle:!0},"_ww-text_ellipsis":{hidden:e=>!e["_ww-text_nowrap"],label:"Ellipsis",type:"OnOff",category:"text",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{type:"boolean",markdown:"ellipsis"},isStyle:!0},"_ww-text_textTransform":{label:"Character case",type:"TextSelect",category:"text",options:{options:[{value:null,label:"None",default:!0},{value:"capitalize",label:"Capitalize"},{value:"uppercase",label:"UPPERCASE"},{value:"lowercase",label:"lowercase"}]},responsive:!0,bindable:!0,bindingValidation:{markdown:"text-transform",type:"string",cssSupports:"text-transform"},states:!0,classes:!0,isStyle:!0},"_ww-text_textShadow":{label:"Text Shadows",type:"Shadows",category:"text",options:{isText:!0},responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"text-shadow",type:"string",cssSupports:"text-shadow"},isStyle:!0},"_ww-text_letterSpacing":{label:"Letter spacing",type:"Length",category:"text",options:{unitChoices:[{value:"px",label:"px",min:-100,max:100},{value:"em",label:"em",min:-10,max:10,digits:3,step:.1},{value:"rem",label:"rem",min:-10,max:10,digits:3,step:.1}],noRange:!0},responsive:!0,states:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"letter-spacing",type:"string",cssSupports:"letter-spacing"},isStyle:!0},"_ww-text_wordSpacing":{label:"Word spacing",type:"Length",category:"text",options:{unitChoices:[{value:"px",label:"px",min:0,max:100}],noRange:!0},responsive:!0,states:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"word-spacing",type:"string",cssSupports:"word-spacing"},isStyle:!0},"_ww-text_links":{hidden:!0}}},cg={properties:{"_ww-layout_flexDirection":{label:"Direction",type:"TextRadioGroup",category:"layout",options:{choices:[{title:"Vertical",value:"column",label:"Vertical"},{title:"Horizontal",value:"row",label:"Horizontal",default:!0}]},bindable:!0,bindingValidation:{markdown:"flex-direction",type:"string",cssSupports:"flex-direction"},responsive:!0,classes:!0},"_ww-layout_rowGap":{label:"Row gap",type:"Length",category:"layout",options:{unitChoices:[{value:"px",label:"px",min:0,max:100},{value:"%",label:"%",min:0,max:100,digits:2,step:1},{value:"em",label:"em",min:0,max:10,digits:3,step:.1},{value:"rem",label:"rem",min:0,max:10,digits:3,step:.1}],useVar:!0,noRange:!0},bindable:!0,bindingValidation:{markdown:"row-gap",type:"string",cssSupports:"row-gap"},states:!0,classes:!0,responsive:!0},"_ww-layout_columnGap":{label:"Column gap",type:"Length",category:"layout",options:{unitChoices:[{value:"px",label:"px",min:0,max:100},{value:"%",label:"%",min:0,max:100,digits:2,step:1},{value:"em",label:"em",min:0,max:10,digits:3,step:.1},{value:"rem",label:"rem",min:0,max:10,digits:3,step:.1}],useVar:!0,noRange:!0},bindable:!0,bindingValidation:{markdown:"column-gap",type:"string",cssSupports:"column-gap"},states:!0,responsive:!0,classes:!0},"_ww-layout_justifyContent":{label:"Justify",type:"TextRadioGroup",category:"layout",options:e=>e["_ww-layout_flexDirection"]==="column"?{choices:[{value:"flex-start",title:"Start",icon:"align-x-start-vertical",default:!0},{value:"center",title:"Center",icon:"align-x-center-vertical"},{value:"flex-end",title:"End",icon:"align-x-end-vertical"},{value:"space-around",title:"Space around",icon:"align-x-space-around-vertical"},{value:"space-between",title:"Space between",icon:"align-x-space-between-vertical"}],compact:!0}:{choices:[{value:"flex-start",title:"Start",icon:"align-x-start",default:!0},{value:"center",title:"Center",icon:"align-x-center"},{value:"flex-end",title:"End",icon:"align-x-end"},{value:"space-around",title:"Space around",icon:"align-x-space-around"},{value:"space-between",title:"Space between",icon:"align-x-space-between"}],compact:!0},responsive:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"justify-content",type:"string",cssSupports:"justify-content"}},"_ww-layout_alignItems":{label:"Alignment",type:"TextRadioGroup",category:"layout",options:e=>e["_ww-layout_flexDirection"]==="column"?{choices:[{value:"flex-start",title:"Start",icon:"align-x-start"},{value:"center",title:"Center",icon:"align-x-center"},{value:"flex-end",title:"End",icon:"align-x-end"},{value:"stretch",title:"Stretch",icon:"align-x-stretch",default:!0}],compact:!0}:{choices:[{value:"flex-start",title:"Start",icon:"align-y-start"},{value:"center",title:"Center",icon:"align-y-center"},{value:"flex-end",title:"End",icon:"align-y-end"},{value:"stretch",title:"Stretch",icon:"align-y-stretch",default:!0},{value:"baseline",title:"Baseline",icon:"align-y-baseline"}],compact:!0},responsive:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"align-items",type:"string",cssSupports:"align-items"}},"_ww-layout_flexWrap":{label:"Wrap elements",type:"OnOff",category:"layout",hidden:e=>e["_ww-layout_flexDirection"]==="column",responsive:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"flex-wrap",type:"boolean"}},"_ww-layout_alignContent":{label:"Content Alignment",type:"TextRadioGroup",category:"layout",options:e=>e["_ww-layout_flexDirection"]==="column"?{choices:[{value:"flex-start",title:"Start",icon:"y-align-content-start"},{value:"center",title:"Center",icon:"y-align-content-center"},{value:"flex-end",title:"End",icon:"y-align-content-end"},{value:"stretch",title:"Stretch",icon:"y-align-content-stretch",default:!0},{value:"space-between",title:"Space between",icon:"y-align-content-space-between"},{value:"space-around",title:"Space around",icon:"y-align-content-space-around"}],compact:!0}:{choices:[{value:"flex-start",title:"Start",icon:"x-align-content-start"},{value:"center",title:"Center",icon:"x-align-content-center"},{value:"flex-end",title:"End",icon:"x-align-content-end"},{value:"stretch",title:"Stretch",icon:"x-align-content-stretch",default:!0},{value:"space-between",title:"Space between",icon:"x-align-content-space-between"},{value:"space-around",title:"Space around",icon:"x-align-content-space-around"}],compact:!0},hidden:e=>!e["_ww-layout_flexWrap"],responsive:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"align-content",type:"string",cssSupports:"align-content"}},"_ww-layout_reverse":{label:"Reverse",type:"OnOff",category:"layout",responsive:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"layout-reverse",type:"boolean"}},"_ww-layout_pushLast":{label:"Last to the end",type:"OnOff",category:"layout",responsive:!0,classes:!0,bindable:!0,bindingValidation:{markdown:"layout-push-last",type:"boolean"}}}},WE={properties:{"_ww-grid_flowDirection":{label:"Direction",type:"TextRadioGroup",category:"grid",options:{choices:[{title:"Row",value:"row",label:"Row",default:!0},{title:"Column",value:"column",label:"Column"}]},bindable:!0,responsive:!0,classes:!0,bindingValidation:{markdown:"grid-flow-direction",type:"string"}},"_ww-grid_columns":{label:"Columns",type:"ArrayCompact",options:{item:{label:e=>`Column ${e.index+1}`,type:"Length",options:ZE("fr","px","%","auto"),defaultValue:"1fr",bindable:!0,responsive:!0},placeholder:{icon:"columns",text:"Columns auto-generated"}},defaultValue:void 0,category:"grid",bindable:!0,responsive:!0,classes:!0,bindingValidation:{markdown:"grid-columns",type:"array"}},"_ww-grid_rows":{label:"Rows",type:"ArrayCompact",options:{item:{label:e=>`Row ${e.index+1}`,type:"Length",options:ZE("fr","px","%","auto"),defaultValue:"1fr",bindable:!0,responsive:!0},placeholder:{icon:"rows",text:"Rows auto-generated"}},defaultValue:void 0,category:"grid",bindable:!0,responsive:!0,classes:!0,bindingValidation:{markdown:"grid-rows",type:"array"}},"_ww-grid_columnGap":{...cg.properties["_ww-layout_columnGap"],category:"grid"},"_ww-grid_rowGap":{...cg.properties["_ww-layout_rowGap"],category:"grid"}}},Sj={properties:{"_ww-backgroundVideo":{label:"Video",type:"Video",options:{nullable:!0},responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"background.video",type:"string"}},"_ww-backgroundVideoPoster":{label:"Poster",type:"Image",options:{nullable:!0},responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"background.video.poster",type:"string"}},"_ww-backgroundVideoSize":{label:"Size",type:"TextSelect",options:{options:[{value:"cover",default:!0,label:{en:"Cover",fr:"Couvrir"}},{value:"contain",label:{en:"Contain",fr:"Contenir"}}]},responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"background.video.size",type:"string"}},"_ww-backgroundVideoLoop":{label:"Loop",type:"OnOff",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"background.video.loop",type:"boolean"}},"_ww-backgroundVideoPreload":{label:"Preload",type:"OnOff",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"background.video.preload",type:"boolean"}}}};function ZE(...e){return{unitChoices:[{value:"auto",label:"auto",default:!0},{value:"px",label:"px",min:0,max:100},{value:"fr",label:"fr",min:0,max:100,digits:2,step:1},{value:"%",label:"%",min:0,max:100,digits:2,step:1},{value:"em",label:"em",min:0,max:10,digits:3,step:.1},{value:"rem",label:"rem",min:0,max:10,digits:3,step:.1}].filter(n=>!e||e.includes(n.value)),useVar:!0,noRange:!0}}function dg(e,r){return e.inherit===r?!0:e.inherit&&e.inherit.type===r?e.inherit:Array.isArray(e.inherit)?e.inherit.find(n=>n===r||n&&n.type===r):!1}function bi(e){const r=dg(e,"ww-text");if(r)if(!Array.isArray(r.exclude))e={...e,properties:{...e.properties||{},...GE.properties}};else{e={...e,properties:{...e.properties||{}}};for(const[p,h]of Object.entries(GE.properties))r.exclude.some(c=>`_ww-text_${c}`===p)||(e.properties[p]=h)}dg(e,"ww-background-video")&&(e={...e,properties:{...e.properties||{},...Sj.properties}});const l=dg(e,"ww-layout");if(l)if(!Array.isArray(l.exclude))e={...e,properties:{...e.properties||{},...cg.properties,...WE.properties}};else{e={...e,properties:{...e.properties||{},...cg.properties,...WE.properties}};for(const[p,h]of Object.entries(cg.properties))l.exclude.some(c=>`_ww-layout_${c}`===p)||(e.properties[p]=h)}return e}const Lj={features:{datasource:!0},editor:{settings:{edit:()=>Zn(()=>import("./SettingsEdit-VH0r2S1D.js"),__vite__mapDeps([0,1])),summary:()=>Zn(()=>import("./SettingsSummary-BVbw2HIB.js"),__vite__mapDeps([2,3])),getIsValid(e){return!!e.privateData.apiKey}},collection:{edit:()=>Zn(()=>import("./CollectionEdit-e6Y6aJbZ.js"),__vite__mapDeps([4,5])),summary:()=>Zn(()=>import("./CollectionSummary-CYqHsmll.js"),__vite__mapDeps([6,7])),getIsValid(e){return!!e.baseId&&!!e.tableId&&!!e.view}}},actions:[{name:"Create a record",code:"createRecord",isAsync:!0},{name:"Update a record",code:"updateRecord",isAsync:!0},{name:"Delete a record",code:"deleteRecord",isAsync:!0},{name:"Sync a record",code:"syncRecord",isAsync:!0}]},Tj={formulas:[{name:"dateISO",arrity:0,deprecated:!0},{name:"date",arrity:0},{name:"dateRealtime",arrity:0},{name:"toDateISO",arrity:1},{name:"formatDate",arrity:1,parameters:[{name:"Date",type:"string"},{name:"Format",type:"string"},{name:"Locale",type:"string"}]},{name:"toTime",arrity:1,parameters:[{name:"Date",type:"string"},{name:"WithoutSuffix",type:"boolean"},{name:"Locale",type:"string"}]},{name:"fromTime",arrity:1,parameters:[{name:"Date",type:"string"},{name:"WithoutSuffix",type:"boolean"},{name:"Locale",type:"string"}]},{name:"compareDate",arrity:3,parameters:[{name:"Date1",type:"string"},{name:"Date1",type:"string"},{name:"Precision",type:"string"},{name:"Float",type:"boolean"}]},{name:"getSecond",arrity:0},{name:"getMinute",arrity:0},{name:"getHour",arrity:0},{name:"getDay",arrity:0},{name:"getDayOfWeek",arrity:0},{name:"getMonth",arrity:0},{name:"getYear",arrity:0},{name:"getDayOfYear",arrity:0,parameters:[{name:"Date",type:"string"}]},{name:"getWeekOfYear",arrity:0,parameters:[{name:"Date",type:"string"}]},{name:"addSeconds",arrity:2},{name:"addMinutes",arrity:2},{name:"addHours",arrity:2},{name:"addDays",arrity:2},{name:"addMonths",arrity:2},{name:"addYears",arrity:2},{name:"setSecond",arrity:2},{name:"setMinute",arrity:2},{name:"setHour",arrity:2},{name:"setDay",arrity:2},{name:"setDayOfWeek",arrity:2},{name:"setMonth",arrity:2},{name:"setYear",arrity:2},{name:"toTimestamp",arrity:1},{name:"getBrowserTimezone",arrity:0},{name:"convertDateTimezone",arrity:2,parameters:[{name:"Date",type:"string"},{name:"Timezone",type:"string"},{name:"Preserve",type:"boolean"}]},{name:"formatDateTimezone",arrity:3,parameters:[{name:"Date",type:"string"},{name:"Format",type:"string"},{name:"Timezone",type:"string"},{name:"Locale",type:"string"}]}]},Ej={editor:{settings:[{label:"Configuration",icon:"advanced",edit:()=>Zn(()=>import("./SettingsEdit-CG41oVXH.js"),[]),summary:()=>Zn(()=>import("./SettingsSummary-BrlGReKt.js"),__vite__mapDeps([8,9])),getIsValid(e){const{publicApiKey:r}=e.publicData,{privateApiKey:n}=e.privateData;return!!r&&!!n}}],designSystemId:"48b73e9d-9636-4e13-8125-f6433265a97d"},actions:[{name:"Checkout",code:"checkout",isAsync:!0},{name:"Customer portal",code:"customerPortal",isAsync:!0},{name:"Create payment intent",code:"createPaymentIntent",isAsync:!0},{name:"Retrieve payment intent",code:"retrievePaymentIntent",isAsync:!0},{name:"Confirm payment",code:"confirmPayment",isAsync:!0},{name:"Confirm card payment",code:"confirmCardPayment",isAsync:!0}]},kj={features:{auth:!0},editor:{settings:[{label:"Configuration",icon:"advanced",edit:()=>Zn(()=>import("./SettingsEdit-CJ9kbmji.js"),[]),summary:()=>Zn(()=>import("./SettingsSummary-CQTGIN4V.js"),[]),getIsValid(e){const{loginEndpoint:r,getMeEndpoint:n,signupEndpoint:l,customDomain:p=""}=e.publicData,{apiKey:h,metaApiKey:c,instanceId:M,workspaceId:s}=e.privateData;return!!r&&!!n&&!!l&&(c||h)&&!!M&&!!s&&(!p||!p.includes("http"))},onSave:"initManager"},{label:"Data Source",edit:()=>Zn(()=>import("./SettingsEdit-D4lCRr9w.js"),__vite__mapDeps([10,11])),summary:()=>Zn(()=>import("./SettingsSummary-BhDIi67X.js"),[]),getIsValid(){return!0}},{label:"Branching",edit:()=>Zn(()=>import("./SettingsEdit-CY-h3lSN.js"),__vite__mapDeps([12,13])),summary:()=>Zn(()=>import("./SettingsSummary-Cvkd8_0y.js"),[]),getIsValid(){return!0},onSave:"updateBranch"},{label:"Global Headers",edit:()=>Zn(()=>import("./SettingsEdit-LD6gfqUa.js"),__vite__mapDeps([14,15])),summary:()=>Zn(()=>import("./SettingsSummary-TAFiyTDj.js"),[]),getIsValid(){return!0}}],designSystemId:"9a1f106a-1397-4fb4-8b9a-369d744e6aa3"},variables:[{name:"user",value:"user",type:"object",defaultValue:null},{name:"isAuthenticated",value:"isAuthenticated",type:"boolean",defaultValue:!1},{name:"accessToken",value:"token",type:"string",defaultValue:null}],actions:[{name:"Sign Up",code:"signUp",isAsync:!0},{name:"Login",code:"login",isAsync:!0},{name:"Login Provider",code:"loginProvider",isAsync:!0},{name:"Fetch User",code:"fetchUser",isAsync:!0},{name:"Store Auth Token",code:"storeAuthToken"},{name:"Logout",code:"logout"}]},Aj={features:{datasource:!0},actions:[{name:"REST API Request",code:"apiRequest",isAsync:!0}]},Cj={features:{datasource:!0},editor:{settings:[{edit:()=>Zn(()=>import("./SettingsEdit-DhXehiDQ.js"),[]),summary:()=>Zn(()=>import("./SettingsSummary-CHS9CjRG.js"),[]),getIsValid(e){return(e.privateData.metaApiKey||e.privateData.apiKey)&&!!e.privateData.instanceId&&(!e.publicData.customDomain||!e.publicData.customDomain.includes("http"))},onSave:"init"},{label:"Data Source",edit:()=>Zn(()=>import("./SettingsEdit-DVpsejsr.js"),__vite__mapDeps([16,17])),summary:()=>Zn(()=>import("./SettingsSummary-DfNlgxm5.js"),[]),getIsValid(){return!0}},{label:"Branching",edit:()=>Zn(()=>import("./SettingsEdit-L883Aqe5.js"),__vite__mapDeps([18,19])),summary:()=>Zn(()=>import("./SettingsSummary-BZvCeBJt.js"),[]),getIsValid(){return!0},onSave:"updateBranch"},{label:"Global Headers",edit:()=>Zn(()=>import("./SettingsEdit-C-9PsGzF.js"),__vite__mapDeps([20,21])),summary:()=>Zn(()=>import("./SettingsSummary-IRIqF3DV.js"),[]),getIsValid(){return!0}}],collection:{edit:()=>Zn(()=>import("./CollectionEdit-DLrqFKZ7.js"),[]),summary:()=>Zn(()=>import("./CollectionSummary-Dr9gX-je.js"),__vite__mapDeps([22,23])),getIsValid({apiGroupUrl:e,endpoint:r}){return!!e&&!!r}}},triggers:[{label:"On realtime - All events",value:"realtime",event:{channel:"<channel-name>",type:"message",data:{client:null,action:"",options:{},payload:null}},conditions:[{name:"Channel name",key:"channel",placeholder:"Default: All channels",bindingValidation:{type:"string",tooltip:"A channel name as a string"},type:"Text"}]},{label:"On realtime - connection status",value:"realtime:connection_status",event:{channel:"<channel-name>",data:{action:"connection_status",options:{},payload:{status:"disconnected"}}},conditions:[{name:"Channel name",key:"channel",placeholder:"Default: All channels",bindingValidation:{type:"string",tooltip:"A channel name as a string"},type:"Text"}]},{label:"On realtime - presence full",value:"realtime:presence_full",event:{channel:"<channel-name>",data:{client:null,action:"presence_full",options:{},payload:{presence:[{socketId:"<socket-id>",extras:{},permissions:{dbo_id:0,row_id:0}}]}}},conditions:[{name:"Channel name",key:"channel",placeholder:"Default: All channels",bindingValidation:{type:"string",tooltip:"A channel name as a string"},type:"Text"}]},{label:"On realtime - presence update",value:"realtime:presence_update",event:{channel:"<channel-name>",data:{client:null,action:"presence_full",options:{channel:"<channel-name>"},payload:{action:"join",presence:{socketId:"<socket-id>",extras:{},permissions:{dbo_id:0,row_id:0}}}}},conditions:[{name:"Channel name",key:"channel",placeholder:"Default: All channels",bindingValidation:{type:"string",tooltip:"A channel name as a string"},type:"Text"},{name:"Event type",key:"event",placeholder:"Default: All events",bindingValidation:{type:"string",tooltip:"An event type as a string (join | leave)"},type:"TextSelect",options:[{label:"All events",value:null},{label:"Join",value:"join"},{label:"Leave",value:"leave"}]}]},{label:"On realtime - message",value:"realtime:message",event:{channel:"<channel-name>",data:{action:"message",options:{authenticated:!1,socketId:null,channel:""},client:{socketId:"<socket-id>",extras:{},permissions:{dbo_id:0,row_id:0}},payload:"<message>"}},conditions:[{name:"Channel name",key:"channel",placeholder:"Default: All channels",bindingValidation:{type:"string",tooltip:"A channel name as a string"},type:"Text"}]},{label:"On realtime - event",value:"realtime:event",event:{channel:"<channel-name>",data:{action:"event",options:{channel:"<channel-name>"},client:null,payload:{data:"<event-data>",dbo_id:0,row_id:0}}},conditions:[{name:"Channel name",key:"channel",placeholder:"Default: All channels",bindingValidation:{type:"string",tooltip:"A channel name as a string"},type:"Text"}]},{label:"On realtime - history",value:"realtime:history",event:{channel:"<channel-name>",data:{action:"history",options:{channel:""},client:null,payload:{history:[{action:"message 1",options:{authenticated:!1,socketId:null,channel:""},client:{socketId:"<socket-id>",extras:{},permissions:{dbo_id:0,row_id:0}},payload:"<message>"},{action:"message 2",options:{authenticated:!1,socketId:null,channel:""},client:{socketId:"<socket-id>",extras:{},permissions:{dbo_id:0,row_id:0}},payload:"<message>"}]}}},conditions:[{name:"Channel name",key:"channel",placeholder:"Default: All channels",bindingValidation:{type:"string",tooltip:"A channel name as a string"},type:"Text"}]},{label:"On realtime - error",value:"realtime:error",event:{channel:"<channel-name>",data:{action:"event",options:{channel:"<channel-name>"},client:null,payload:{message:"<error-message>"}}},conditions:[{name:"Channel name",key:"channel",placeholder:"Default: All channels",bindingValidation:{type:"string",tooltip:"A channel name as a string"},type:"Text"}]}],actions:[{name:"Request",code:"request",parameters:[{name:"apiGroup",type:"string"},{name:"endpoint",type:"object"},{name:"parameters",type:"object"},{name:"body",type:"object"}],isAsync:!0},{name:"Realtime | Open channel",code:"openRealtimeChannel",parameters:[{name:"channel"},{name:"presence",type:"boolean"}]},{name:"Realtime | Close channel",code:"closeRealtimeChannel",parameters:[{name:"channel"}]},{name:"Realtime | Send message",code:"sendRealtimeMessage",parameters:[{name:"channel"},{name:"message"}]},{name:"Realtime | Get presence",code:"getRealtimePresence",parameters:[{name:"channel"},{name:"message"}]},{name:"Realtime | Request history",code:"requestRealtimeHistory",parameters:[{name:"channel"},{name:"message"}]}]},Dj={editor:{settings:{edit:()=>Zn(()=>import("./SettingsEdit-BT32FRvW.js"),[]),summary:()=>Zn(()=>import("./SettingsSummary-D3sZ-o34.js"),[]),getIsValid(e){return!!e.publicData.containerIdProd},onSave:"onLoad"}},actions:[{name:"Push Event",code:"pushEvent",getIsValid({event:e}){return!!e}}]},Ij={editor:{designSystemId:"bf0afd2b-e049-43c4-a15b-a3404b877a1e"}},Pj={options:{displayAllowedValues:["flex","block","grid"]},inherit:[{type:"ww-layout"},{type:"ww-background-video"}],editor:{label:{en:"Base"}},properties:{wwObjects:{hidden:!0,defaultValue:[]}}},Oj={editor:{label:{en:"Modal"},excludedSections:["sizing","spacing","positioning","background","styling","advanced-style","customCss"]},triggerEvents:[{name:"backdropClick",label:{en:"On backdrop click"}}],options:{forceHydration:!0},properties:{display:{type:"OnOff",label:{en:"Display",fr:"Afficher"},bindable:!0,responsive:!0,defaultValue:!0},displayInEditor:{type:"OnOff",label:{en:"Force display in editor",fr:"Forcer l'affichage dans l'diteur"},editorOnly:!0,hidden:(e,r,n)=>!n.display,defaultValue:!1},animation:{type:"TextSelect",label:{en:"Animation",fr:"Animation"},options:{options:[{value:"fade",label:{en:"Fade",fr:"Fondu"}},{value:"fromTop",label:{en:"Appears from top",fr:"Apparait par le haut"}},{value:"fromRight",label:{en:"Appears from right",fr:"Apparait par la droite"}},{value:"fromLeft",label:{en:"Appears from left",fr:"Apparait par la gauche"}},{value:"fromBottom",label:{en:"Appears from bottom",fr:"Apparait par le bas"}},{value:"zoomIn",label:{en:"Zoom in",fr:"Zoom arrire"}},{value:"zoomOut",label:{en:"Zoom out",fr:"Zoom avant"}}]},responsive:!0,states:!0,classes:!0,defaultValue:"fade"},position:{type:"TextSelect",label:{en:"Position",fr:"Position"},options:{options:[{value:"topLeft",label:{en:"On top left",fr:"En haut  gauche"}},{value:"topMiddle",label:{en:"On top middle",fr:"En haut au milieu"}},{value:"topRight",label:{en:"On top right",fr:"En haut  droite"}},{value:"middleLeft",label:{en:"On middle left",fr:"Au milieu  gauche"}},{value:"middle",label:{en:"On middle",fr:"Au milieu"}},{value:"middleRight",label:{en:"On middle right",fr:"Au milieu  droite"}},{value:"bottomLeft",label:{en:"On bottom left",fr:"En bas  gauche"}},{value:"bottomMiddle",label:{en:"On bottom middle",fr:"En bas au milieu"}},{value:"bottomRight",label:{en:"On bottom right",fr:"En bas  droite"}},{value:"custom",label:{en:"Custom",fr:"Personnalis"}}]},defaultValue:"middle",responsive:!0,states:!0,classes:!0,bindable:!0},positionLeft:{hidden:e=>e.position!=="custom",label:{en:"Horizontal",fr:"Horizontal"},type:"Length",options:{unitChoices:[{value:"%",label:"%",min:0,max:100},{value:"px",label:"px",min:0,max:1e3}]},defaultValue:"0%",responsive:!0,bindable:!0,states:!0,classes:!0},positionTop:{hidden:e=>e.position!=="custom",label:{en:"Vertical",fr:"Vertical"},type:"Length",options:{unitChoices:[{value:"%",label:"%",min:0,max:100},{value:"px",label:"px",min:0,max:1e3}]},defaultValue:"0%",responsive:!0,bindable:!0,states:!0,classes:!0},zIndex:{label:{en:"Z axis"},type:"Number",options:{min:0,max:100},responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"z-index",type:"string",cssSupports:"z-index"}},backdrop:{type:"OnOff",label:{en:"Backdrop",fr:"Fond"},bindable:!0,defaultValue:!0,responsive:!0,states:!0,classes:!0},backdropColor:{type:"Color",label:{en:"Backdrop color",fr:"Couleur du fond"},bindable:!0,defaultValue:void 0,responsive:!0,states:!0,classes:!0,hidden:e=>!e.backdrop},transition:{type:"Transitions",label:{en:"Transition",fr:"Transition"},options:{enforcedTransitionProperty:"all"},bindable:!0,defaultValue:"all .3s ease",responsive:!0,classes:!0},modalContent:{defaultValue:[{isWwObject:!0,type:"ww-flexbox"}]}}},Rj={editor:{label:{en:"Input multiselect",fr:"Champs slection multiple"},icon:"select",customStylePropertiesOrder:[["tagsDefaultBgColor","tagsDefaultTextColor"],["dropdownBackgroundColor","optionBackgroundPointed","optionBackgroundSelected","optionBackgroundSelectedPointed","dropdownBorderWidth","dropdownBorderColor","dropdownBorderRadius","dropdownMaxHeight"],["searchFontFamily","searchFontSize","searchFontColor"]],customSettingsPropertiesOrder:["isOpen","openInEditor","layoutType","required","readonly","disabled","initialValue","mode","multipleLabel",["options","hintFields","labelField","valueField","textColorField","bgColorField"],["placeholder","noResultsText","noOptionsText"],["advanced","searchable","allowCreation","hideSelected","closeOnSelect","maxSelection","max","infiniteScroll","loadingRingColor","limitedOptions","limit"],["clearIcon","caretIcon"]]},triggerEvents:[{name:"change",label:{en:"On change"},event:{value:[]},default:!0},{name:"initValueChange",label:{en:"On init value change"},event:{value:""}}],options:{displayAllowedValues:["flex","inline-flex"]},properties:{openInEditor:{type:"OnOff",label:{en:"Force open in editor"},editorOnly:!0,defaultValue:!1,section:"settings",hidden:e=>e.readonly||e.disabled},layoutType:{label:{en:"Layout type"},type:"TextSelect",options:{options:[{value:"text",label:{en:"Text"},default:!0},{value:"free",label:{en:"Free layout"}}]},defaultValue:"text",section:"settings"},placeholder:{label:{en:"Placeholder",fr:"Texte par dfaut"},type:"Text",defaultValue:{en:"placeholder"},section:"settings",bindable:!0,multiLang:!0},noOptionsText:{label:{en:"No options text",fr:"No options text"},type:"Text",section:"settings",multiLang:!0,bindable:!0},noResultsText:{label:{en:"No results text",fr:"No results text"},type:"Text",section:"settings",multiLang:!0,bindable:!0},disabled:{label:{en:"Disabled",fr:"Dsactiv"},type:"OnOff",defaultValue:!1,section:"settings",bindable:!0},required:{type:"OnOff",label:{en:"Required",fr:"Required"},defaultValue:!1,bindable:!0,section:"settings"},readonly:{label:{en:"Read Only",fr:"Read Only"},type:"OnOff",defaultValue:!1,section:"settings",bindable:!0,hidden:(e,r,n,l)=>!!(l&&l.readonly!==void 0)},mode:{label:{en:"Mode",fr:"Mode"},type:"TextSelect",defaultValue:"tags",options:{options:[{label:"Tags",value:"tags"},{label:"Counter",value:"multiple"}]},section:"settings",bindable:!0},multipleLabel:{label:{en:"Selected options text",fr:"Selected options text"},type:"Text",section:"settings",options:{placeholder:"{count} selected"},propertyHelp:{tooltip:"Use `{count}` in your text to display the number of selected options."},bindable:!0,multiLang:!0,hidden:e=>e.mode!=="multiple"},advanced:{type:"OnOff",label:{en:"Display advanced options"},defaultValue:!1,bindable:!0,section:"settings"},allowCreation:{hidden:e=>!e.advanced,label:{en:"Allow to create option",fr:"Permettre la cration d'option"},type:"OnOff",defaultValue:!1,section:"settings",bindable:!0},hideSelected:{hidden:e=>!e.advanced,label:{en:"Hide selected elements",fr:"Cacher les lments slectionns"},type:"OnOff",defaultValue:!0,bindable:!0,section:"settings"},searchable:{hidden:e=>!e.advanced,label:{en:"Searchable",fr:"Recherche"},type:"OnOff",defaultValue:!0,bindable:!0,section:"settings"},searchFontFamily:{label:{en:"Search font family"},type:"FontFamily",responsive:!0,states:!0,classes:!0,hidden:e=>!e.searchable},searchFontSize:{label:{en:"Search font size"},type:"Length",options:{unitChoices:[{value:"px",label:"px",min:1,max:100},{value:"em",label:"em",min:1,max:10,digits:2},{value:"rem",label:"rem",min:1,max:10,digits:2}]},responsive:!0,states:!0,classes:!0,hidden:e=>!e.searchable},searchFontColor:{label:{en:"Search font color"},type:"Color",options:{nullable:!0},bindable:!0,responsive:!0,states:!0,classes:!0,hidden:e=>!e.searchable},closeOnSelect:{hidden:e=>!e.advanced,label:{en:"Close on select",fr:"Ferme  la slection"},type:"OnOff",defaultValue:!1,bindable:!0,section:"settings"},infiniteScroll:{hidden:e=>!e.advanced,label:{en:"Infinite scroll",fr:"Scroll infini"},type:"OnOff",defaultValue:!1,bindable:!0,section:"settings"},loadingRingColor:{hidden:e=>!e.advanced||!e.infiniteScroll,label:{en:"Loading ring color"},type:"Color",defaultValue:"#099af2",bindable:!0,section:"settings",classes:!0,states:!0,responsive:!0},limitedOptions:{hidden:e=>!e.advanced,label:{en:"Limited options",fr:"Options limites"},type:"OnOff",defaultValue:!1,section:"settings"},limit:{hidden:e=>!e.advanced||!e.limitedOptions,type:"Number",label:{en:"Limit",fr:"Limite"},options:{min:10,max:50,step:1},defaultValue:20,bindable:!0,section:"settings"},maxSelection:{hidden:e=>!e.advanced,label:{en:"Max selection",fr:"Max selection"},type:"OnOff",defaultValue:!1,bindable:!0,section:"settings"},max:{hidden:e=>!e.advanced||!e.maxSelection,type:"Number",label:{en:"Max",fr:"Max"},options:{min:0,max:50,step:1},defaultValue:1,section:"settings",bindable:!0,bindable:!0},clearIcon:{label:{en:"Clear icon"},type:"OnOff",defaultValue:!1,bindable:!0,section:"settings"},caretIcon:{label:{en:"Caret icon"},type:"OnOff",defaultValue:!0,bindable:!0,section:"settings"},initialValue:{label:{en:"Initial value",fr:"Valeur initiale"},type:"Array",options:{item:{type:"Generic"}},bindable:!0,section:"settings"},options:{label:{en:"Options",fr:"Options"},type:"Array",section:"settings",options:{item:{type:"Object",defaultValue:{label:"New option",value:""},options:{item:{label:{label:{en:"Label"},type:"Text",options:{placeholder:"Label"},multiLang:!0},value:{label:{en:"Value"},type:"Text",options:{placeholder:"Value"}}}}}},defaultValue:[{value:"option",label:{en:"option - 1"}},{value:"option2",label:{en:"option - 2"}}],bindable:!0},hintFields:{hidden:(e,r,n)=>!n.options||e.options,label:{en:"Options fields",fr:"Champs des options"},type:"Info",options:{text:{en:"Please provide at least one option to configure fields"}},editorOnly:!0,section:"settings"},labelField:{hidden:(e,r,n)=>!n.options||!e.options,label:{en:"Label field",fr:"Label field"},type:"ObjectPropertyPath",options:e=>!e.options.length||typeof e.options[0]!="object"?null:{object:e.options[0]},defaultValue:null,section:"settings",multiLang:!0},valueField:{hidden:(e,r,n)=>!n.options||!e.options,label:{en:"Value field",fr:"Value field"},type:"ObjectPropertyPath",options:e=>!e.options.length||typeof e.options[0]!="object"?null:{object:e.options[0]},defaultValue:null,section:"settings"},placeholderElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-text",state:{name:"Placeholder text",style:{default:{color:"#D1D5DB",padding:"0px 0px 0px 12px"}}}},navigator:{group:"Multiselect"}},tagElementSelected:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-text",state:{name:"Text - selected",style:{default:{padding:"4px",borderRadius:"4px"}}}},navigator:{group:"Option",hidden:e=>e.layoutType==="free"||e.mode!=="tags"}},tagElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-text",state:{name:"Text"}},navigator:{group:"Option",hidden:e=>e.layoutType==="free"||e.mode!=="tags"}},flexboxElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-flexbox",state:{name:"Option container",style:{default:{width:"100%"}}}},navigator:{group:"Option",hidden:e=>e.layoutType!=="free"||e.mode!=="tags"}},selectedFlexboxElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-flexbox",state:{name:"Option container",style:{default:{width:"100%"}}}},navigator:{group:"Option - Selected",hidden:e=>e.layoutType!=="free"||e.mode!=="tags"}},removeTagIconElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-icon",state:{name:"Delete icon",style:{default:{padding:"4px",borderRadius:"4px"}}},content:{default:{icon:"wwi wwi-cross",color:"#FFFFFF",fontSize:"16"}}},navigator:{group:"Option - Selected",hidden:e=>e.layoutType==="free"||e.mode!=="tags"}},caretIconElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-icon",state:{name:"Caret icon",style:{default:{padding:"12px"}}},content:{default:{icon:"fas fa-caret-down",color:"#9CA3AF",fontSize:"16"}}},navigator:{group:"Multiselect"}},clearIconElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-icon",state:{name:"Clear icon",style:{default:{padding:"12px"}}},content:{default:{icon:"wwi wwi-cross",color:"#9CA3AF",fontSize:"14"}}},navigator:{group:"Multiselect"}},tagsDefaultBgColor:{label:{en:"Default option background"},type:"Color",defaultValue:"#099AF2",classes:!0,states:!0,responsive:!0,bindable:!0},tagsDefaultTextColor:{label:{en:"Default option text color"},type:"Color",defaultValue:"#FFFFFF",classes:!0,states:!0,responsive:!0,bindable:!0},optionBackgroundPointed:{label:{en:"Option hover color"},type:"Color",defaultValue:"#d1d5db",classes:!0,states:!0,responsive:!0,bindable:!0},optionBackgroundSelected:{label:{en:"Option selected color"},type:"Color",defaultValue:"#10B981",classes:!0,states:!0,responsive:!0,bindable:!0},optionBackgroundSelectedPointed:{label:{en:"Option hover selected color"},type:"Color",defaultValue:"#10B981",classes:!0,states:!0,responsive:!0,bindable:!0},dropdownBackgroundColor:{label:{en:"Dropdown background color"},type:"Color",defaultValue:"#ffffff",classes:!0,states:!0,responsive:!0,bindable:!0},dropdownBorderWidth:{type:"Length",label:{en:"Dropdown border width"},options:{unitChoices:[{value:"px",label:"px",min:1,max:100}]},defaultValue:"1px",classes:!0,states:!0,responsive:!0,bindable:!0},dropdownBorderColor:{label:{en:"Dropdown border color"},type:"Color",defaultValue:"#d1d5db",classes:!0,states:!0,responsive:!0,bindable:!0},dropdownBorderRadius:{type:"Length",label:{en:"Dropdown border radius"},options:{unitChoices:[{value:"px",label:"px",min:1,max:100}]},defaultValue:"4px",classes:!0,states:!0,responsive:!0,bindable:!0},dropdownMaxHeight:{label:{en:"Dropdown max height"},type:"Length",options:{unitChoices:[{value:"px",label:"px",min:1,max:500}]},classes:!0,states:!0,responsive:!0,bindable:!0,defaultValue:"150px"}}},Fj={editor:{label:{en:"Columns",fr:"Colonnes"},icon:"two-columns",bubble:{icon:"two-columns"}},options:{linkable:!0},properties:{grid:{hidden:!0,responsive:!0,defaultValue:[]},children:{bindable:"repeatable",label:{en:"Items",fr:"Items"},type:"Info",options:{text:{en:"Elements to repeat"}},defaultValue:[]},type:{label:{en:"Display type",fr:"Type d'affichage"},type:"BigIconRadioGroup",options:(e,r,n)=>({choices:[...n&&n.children?[]:[{icon:"type-columns",value:"columns",label:"Columns"}],{icon:"type-rows",value:"rows",label:"Rows"},{icon:"type-mosaic",value:"mosaic",label:"Mosaic"}]}),responsive:!0,defaultValue:"columns"},presets:{label:{en:"Presets"},type:"BigButtons",hidden:e=>e.type==="rows",editorOnly:!0,options:e=>({action:"setPreset",values:e.type==="columns"?[{icon:"two-columns",id:"two-columns"},{icon:"two-columns-small-left",id:"two-columns-small-left"},{icon:"two-columns-small-right",id:"two-columns-small-right"},{icon:"three-columns",id:"three-columns"},{icon:"three-columns-big-middle",id:"three-columns-big-middle"},{icon:"four-columns",id:"four-columns"},{icon:"five-columns",id:"five-columns"},{icon:"six-columns",id:"six-columns"}]:[{icon:"two-columns-mosaic",id:"two-columns-mosaic"},{icon:"three-columns-mosaic",id:"three-columns-mosaic"},{icon:"four-columns-mosaic",id:"four-columns-mosaic"},{icon:"five-columns-mosaic",id:"five-columns-mosaic"}]})},justifyContent:{label:{en:"Justify"},type:"TextRadioGroup",hidden:e=>e.type!=="mosaic",options:{choices:[{value:"flex-start",title:{en:"Start",fr:"Dbut"},icon:"align-x-start"},{value:"center",title:{en:"Center",fr:"Milieu"},icon:"align-x-center"},{value:"flex-end",title:{en:"End",fr:"Fin"},icon:"align-x-end"},{value:"space-around",title:{en:"Space around",fr:"Space around"},icon:"align-x-space-around"},{value:"space-between",title:{en:"Space between",fr:"Space between"},icon:"align-x-space-between"}]},responsive:!0,defaultValue:"center"},alignItems:{label:{en:"Alignment"},type:"TextRadioGroup",hidden:e=>e.type!=="mosaic",options:{choices:[{value:"flex-start",title:{en:"Start",fr:"Dbut"},icon:"align-y-start"},{value:"center",title:{en:"Center",fr:"Milieu"},icon:"align-y-center"},{value:"flex-end",title:{en:"End",fr:"Fin"},icon:"align-y-end"},{value:"stretch",title:{en:"Stretch",fr:"Stretch"},icon:"align-y-stretch"},{value:"baseline",title:{en:"Baseline",fr:"Baseline"},icon:"align-y-baseline"}]},responsive:!0,defaultValue:"stretch"},reverse:{label:{en:"Reverse order",fr:"Inverser l'ordre"},type:"TextRadioGroup",options:{choices:[{title:"off",value:!1,default:!0,label:"Off"},{title:"on",value:!0,label:"On"}]},responsive:!0,defaultValue:!1},pushLast:{label:{en:"Push last to the end",fr:"Push last to the end"},type:"OnOff",responsive:!0,defaultValue:!1},lengthInUnitRadio:{label:{en:"Grid system",fr:"Grille"},hidden:e=>e.type==="rows",type:"BigButtons",editorOnly:!0,section:"settings",options:{action:"setGridSystem",values:[{label:"%",id:"percent"},{label:"U",id:"unit"}]}},lengthInUnit:{hidden:e=>e.type==="rows"||e.lengthInUnit===100,label:{en:"Units count"},type:"Number",section:"settings",responsive:!0,defaultValue:12}}},zj={type:"wwObject",options:{sizable:!0,ignoredStyleProperties:["overflow"],displayAllowedValues:["flex","inline-flex"]},editor:{label:{fr:"Image",en:"Image"},icon:"photograph",deprecated:"Use an image from the Elements panel instead of this one."},properties:{url:{label:{en:"Image",fr:"Image"},type:"Image",bindable:!0,responsive:!0,defaultValue:"https://cdn.weweb.app/public/images/no_image_selected.png"},ratio:{hidden:!0,defaultValue:.56,responsive:!0,states:!0},zoom:{type:"Number",label:{en:"Zoom",fr:"Zoom"},options:{min:.01,max:5,step:.01},responsive:!0,states:!0,defaultValue:1},x:{type:"Number",label:{en:"Position X",fr:"Position X"},options:{min:-100,max:100},responsive:!0,states:!0,defaultValue:0},y:{type:"Number",label:{en:"Position Y",fr:"Position Y"},options:{min:-100,max:100},responsive:!0,states:!0,defaultValue:0},reset:{type:"Button",editorOnly:!0,options:{text:{en:"Reset zoom & pos.",fr:"Rinit. zoom & pos."},color:"blue",action:"resetZoom"}},coverContain:{type:"Button",editorOnly:!0,options:{text:{en:"Switch Cover / Contain",fr:"Zoom auto"},color:"blue",action:"switchCoverContain"}},style:{type:"Object",options:{item:{overlay:{type:"Color",label:{en:"Overlay",fr:"Overlay"},options:{nullable:!0,gradient:!0}},filter:{type:"CssFilters",label:{en:"Filters",fr:"Filtres"}}}},responsive:!0,states:!0,defaultValue:{}},alt:{section:"settings",label:{en:"Alt",fr:"Alt"},type:"Text",multiLang:!0,bindable:!0,options:{placeholder:"Image description"},defaultValue:{en:""}}}},Yj={editor:{label:{en:"Input select",fr:"Champs slection"},icon:"select",customStylePropertiesOrder:[["dropdownBorderWidth","dropdownBorderColor","dropdownBorderRadius","dropdownMaxHeight"],["searchFontFamily","searchFontSize","searchFontColor"]],customSettingsPropertiesOrder:["openInEditor","layoutType","required","readonly","disabled","initialValue",["placeholder","noResultsText","noOptionsText"],["options"],["hintFields","labelField","valueField"],["advanced","searchable","closeOnSelect","canDeselect","infiniteScroll","loadingRingColor","limitedOptions","limit"],["clearIcon","caretIcon"]]},options:{displayAllowedValues:["flex","inline-flex"]},triggerEvents:[{name:"change",label:{en:"On change"},event:{value:""},default:!0},{name:"initValueChange",label:{en:"On init value change"},event:{value:""}}],inherit:{type:"ww-text",exclude:["text"]},properties:{layoutType:{label:{en:"Layout type"},type:"TextSelect",options:{options:[{value:"text",label:{en:"Text"}},{value:"free",label:{en:"Free layout"}}]},defaultValue:"text",section:"settings"},readonly:{label:{en:"Read only",fr:"Lecture seule"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:(e,r,n,l)=>!!(l&&l.readonly!==void 0)},openInEditor:{type:"OnOff",label:{en:"Force open in editor"},editorOnly:!0,defaultValue:!1,section:"settings",hidden:e=>e.readonly||e.disabled},required:{type:"OnOff",label:{en:"Required",fr:"Required"},defaultValue:!1,bindable:!0,section:"settings"},placeholder:{label:{en:"Placeholder",fr:"Texte par dfaut"},type:"Text",defaultValue:{en:"Placeholder"},section:"settings",bindable:!0,multiLang:!0},noOptionsText:{label:{en:"No options text",fr:"No options text"},type:"Text",section:"settings",multiLang:!0,bindable:!0},noResultsText:{label:{en:"No results text",fr:"No results text"},type:"Text",section:"settings",multiLang:!0,bindable:!0},disabled:{label:{en:"Disabled",fr:"Dsactiv"},type:"OnOff",defaultValue:!1,section:"settings",bindable:!0},advanced:{type:"OnOff",label:{en:"Display advanced options"},defaultValue:!1,bindable:!0,section:"settings"},canDeselect:{hidden:e=>!e.advanced,label:{en:"Can unselect"},type:"OnOff",defaultValue:!1,bindable:!0,section:"settings"},searchable:{hidden:e=>!e.advanced,label:{en:"Searchable",fr:"Recherche"},bindable:!0,type:"OnOff",defaultValue:!0,bindable:!0,section:"settings"},searchFontFamily:{label:{en:"Search font family"},type:"FontFamily",responsive:!0,states:!0,classes:!0,hidden:e=>!e.searchable},searchFontSize:{label:{en:"Search font size"},type:"Length",options:{unitChoices:[{value:"px",label:"px",min:1,max:100},{value:"em",label:"em",min:1,max:10,digits:2},{value:"rem",label:"rem",min:1,max:10,digits:2}]},responsive:!0,states:!0,classes:!0,hidden:e=>!e.searchable},searchFontColor:{label:{en:"Search font color"},type:"Color",options:{nullable:!0},bindable:!0,responsive:!0,states:!0,classes:!0,hidden:e=>!e.searchable},closeOnSelect:{hidden:e=>!e.advanced,label:{en:"Close on select",fr:"Ferme  la slection"},type:"OnOff",defaultValue:!0,bindable:!0,section:"settings"},infiniteScroll:{hidden:e=>!e.advanced,label:{en:"Infinite scroll",fr:"Scroll infini"},type:"OnOff",defaultValue:!1,bindable:!0,section:"settings"},loadingRingColor:{hidden:e=>!e.advanced||!e.infiniteScroll,label:{en:"Loading ring color"},type:"Color",defaultValue:"#099af2",bindable:!0,section:"settings",classes:!0,states:!0,responsive:!0},limitedOptions:{hidden:e=>!e.advanced,label:{en:"Limited options",fr:"Options limites"},type:"OnOff",defaultValue:!1,section:"settings"},limit:{hidden:e=>!e.advanced||!e.limitedOptions,type:"Number",label:{en:"Limit",fr:"Limite"},options:{min:10,max:50,step:1},defaultValue:20,bindable:!0,section:"settings"},clearIcon:{label:{en:"Clear icon"},type:"OnOff",defaultValue:!1,bindable:!0,section:"settings"},caretIcon:{label:{en:"Caret icon"},type:"OnOff",defaultValue:!0,bindable:!0,section:"settings"},initialValue:{label:{en:"Initial value",fr:"Valeur initiale"},type:"Text",bindable:!0,section:"settings"},options:{label:{en:"Options",fr:"Options"},type:"Array",section:"settings",options:{item:{type:"Object",defaultValue:{label:{en:"New option"},value:""},options:{item:{label:{label:{en:"Label"},type:"Text",options:{placeholder:"Label"},multiLang:!0},value:{label:{en:"Value"},type:"Text",options:{placeholder:"Value"}},image:{hidden:e=>e.layoutType!=="imageText",label:{en:"Image"},type:"Text",options:{placeholder:"Image link"}}}}}},defaultValue:[{value:"option",label:{en:"option - 1"}},{value:"option2",label:{en:"option - 2"}}],bindable:!0},hintFields:{hidden:(e,r,n)=>!n.options||e.options,label:{en:"Options fields",fr:"Champs des options"},type:"Info",options:{text:{en:"Please provide at least one option to configure fields"}},editorOnly:!0,section:"settings"},labelField:{hidden:(e,r,n)=>!n.options||!e.options,label:{en:"Label field",fr:"Label field"},type:"ObjectPropertyPath",options:e=>!e.options.length||typeof e.options[0]!="object"?null:{object:e.options[0]},defaultValue:"",section:"settings",multiLang:!0},valueField:{hidden:(e,r,n)=>!n.options||!e.options,label:{en:"Value field",fr:"Value field"},type:"ObjectPropertyPath",options:e=>!e.options.length||typeof e.options[0]!="object"?null:{object:e.options[0]},defaultValue:"",section:"settings"},placeholderElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-text",state:{name:"Placeholder text",style:{default:{color:"#D1D5DB"}}}},navigator:{group:"Select"}},textElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-text",state:{name:"Option text",style:{default:{color:"#BD0F0F",width:"100%"}}}},navigator:{group:"Option",hidden:e=>e.layoutType==="free"}},flexboxElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-flexbox",state:{name:"Option container",style:{default:{width:"100%"}}}},navigator:{group:"Option",hidden:e=>e.layoutType!=="free"}},caretIconElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-icon",state:{name:"Caret icon",style:{default:{padding:"0px 12px"}}},content:{default:{icon:"fas fa-caret-down",color:"#9CA3AF",fontSize:"16"}}},navigator:{group:"Select"}},clearIconElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-icon",state:{name:"Clear icon",style:{default:{padding:"12px"}}},content:{default:{icon:"wwi wwi-cross",color:"#9CA3AF",fontSize:"14"}}},navigator:{group:"Select"}},dropdownBorderWidth:{type:"Length",label:{en:"Dropdown border width"},options:{unitChoices:[{value:"px",label:"px",min:1,max:100}]},defaultValue:void 0,states:!0,classes:!0,bindable:!0,responsive:!0},dropdownBorderColor:{label:{en:"Dropdown border color"},type:"Color",defaultValue:void 0,states:!0,classes:!0,bindable:!0,responsive:!0},dropdownBorderRadius:{type:"Length",label:{en:"Dropdown border radius"},options:{unitChoices:[{value:"px",label:"px",min:1,max:100}]},defaultValue:void 0,states:!0,classes:!0,bindable:!0,responsive:!0},dropdownMaxHeight:{label:{en:"Dropdown max height"},type:"Length",options:{unitChoices:[{value:"px",label:"px",min:1,max:500}]},responsive:!0,states:!0,defaultValue:void 0,states:!0,classes:!0,bindable:!0,responsive:!0}}},Bj={options:{displayAllowedValues:["flex","block","inline-block","inline-flex"]},inherit:{type:"ww-layout"},editor:{label:{fr:"Conteneur de formulaire",en:"Form Container"},icon:"pencil",bubble:{icon:"pencil"},workflowHint:()=>{const e=wwLib.wwUtils.getSelectedComponent();return!e||e.querySelector('[data-ww-flag="btn-submit"]')?!1:{type:"warning",header:{en:"Submit button missing!",fr:"Bouton de soumission manquant !"},text:{en:'A form container require a button with type submit to use the "on submit" trigger.',fr:"Un conteneur de formulaire  besoin d'un bouton avec le type submit pour dlencher l'vnement de soumission."}}}},triggerEvents:[{name:"submit",label:{en:"On submit"},default:!0}],properties:{formContent:{hidden:!0,defaultValue:[]},autocomplete:{section:"settings",label:{en:"Autocomplete",fr:"Autocompltion"},type:"OnOff",defaultValue:!0}}},jj={editor:{label:{en:"Icon",fr:"Icne"},icon:"star"},options:{displayAllowedValues:["flex","inline-flex"],linkable:!0},properties:{fontSize:{label:{en:"Size",fr:"Taille"},type:"Number",bindable:!0,responsive:!0,states:!0,classes:!0},color:{label:{en:"Color",fr:"Couleur"},type:"Color",bindable:!0,responsive:!0,states:!0,classes:!0},icon:{label:{en:"Icon",fr:"Icne"},type:"Icon",bindable:!0,states:!0,defaultValue:"wwi wwi-icon"}}},$j={editor:{label:{en:"Checkbox",fr:"Checkbox"},icon:"check"},options:{displayAllowedValues:["flex","inline-flex"]},triggerEvents:[{name:"change",label:{en:"On change"},event:{value:""},default:!0},{name:"initValueChange",label:{en:"On init value change"},event:{value:""}}],properties:{value:{label:{en:"Init value"},type:"OnOff",section:"settings",bindable:!0},required:{label:"Required",type:"OnOff",section:"settings",defaultValue:!1,bindable:!0},readonly:{label:{en:"Read only",fr:"Lecture seule"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:(e,r,n,l)=>!!(l&&l.readonly!==void 0)},isEmbeddedContainer:{type:"OnOff",label:{en:"Embedded container",fr:"Embedded container"},section:"settings",responsive:!0,defaultValue:!1},containerPosition:{hidden:e=>!e.isEmbeddedContainer,label:{en:"Container position",fr:"Position du container"},type:"TextSelect",options:{options:[{value:"right",label:{en:"Right"}},{value:"left",label:{en:"Left"}},{value:"top",label:{en:"Top"}},{value:"bottom",label:{en:"Bottom"}}]},section:"settings",responsive:!0,states:!0,classes:!0,defaultValue:"right"},embeddedContainer:{hidden:!0,defaultValue:null},checkbox:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-checkbox",content:{color:"#FFFFFF",fontSize:10,icon:"fas fa-check"},state:{states:[{id:"checked",label:"checked"}],style:{default:{backgroundColor:"#FFFFFF",border:"1px solid #767676",borderRadius:"4px",cursor:"pointer",height:"auto",padding:"2px",width:"auto"},checked_default:{backgroundColor:"#767676"}}}}}}},Vj={editor:{label:{en:"Checkbox",fr:"Checkbox"},icon:"check"},options:{displayAllowedValues:["flex","inline-flex"]},properties:{fontSize:{label:{en:"Size",fr:"Taille"},type:"Number",bindable:!0,responsive:!0,states:!0,classes:!0},color:{label:{en:"Color",fr:"Couleur"},type:"Color",bindable:!0,responsive:!0,states:!0,classes:!0},icon:{label:{en:"Icon",fr:"Icne"},type:"Icon",bindable:!0,responsive:!0,states:!0,classes:!0,defaultValue:"wwi wwi-check"}}},XE={submit:"sub",reset:"rst",button:"btn"},Uj={inherit:"ww-text",options:{autoByContent:!0,displayAllowedValues:["flex","inline-flex"],linkable:!0},editor:{label:{en:"Button",fr:"Bouton"},icon:"cursor-click",infoTags:e=>e.buttonType&&XE[e.buttonType]?{color:"var(--ww-color-blue-500)",backgroundColor:"var(--ww-color-blue-100)",text:XE[e.buttonType].toUpperCase(),action:()=>{wwLib.wwSearchBar.executeAction({actions:wwLib.wwSearchBar.getEditSidebarActions("settings","custom-0")})}}:[],workflowHint:e=>e.buttonType!=="submit"?!1:{type:"warning",header:{en:"You probably shouldnt trigger workflows on submit buttons.",fr:"Vous ne devriez pas dclencher un workflow depuis un bouton submit"},text:{en:"For your users to benefit from automatic form field validation, you should trigger submit workflows on the form container. Unless you are 100% sure of what youre doing and want to bypass this behavior.",fr:"Pour que vos utilisateurs bnficient de la validation automatique des champs de formulaire, vous devez dclencher des workflows de soumission sur le conteneur de formulaire.  moins que vous ne soyez sr  100 % de ce que vous faites et que vous souhaitiez contourner ce comportement."},button:{text:{en:"Select form container",fr:"Selectionnez le form container"},action:"selectParentFormContainer"}}},states:["focus","disabled"],triggerEvents:[{name:"focus",label:{en:"On focus"},event:null},{name:"blur",label:{en:"On blur"},event:null}],properties:{backgroundColor:{label:{en:"Text Background",fr:"Background du Texte"},type:"Color",options:{nullable:!0},bindable:!0,responsive:!0,states:!0,classes:!0},buttonType:{label:{en:"Type",fr:"Type"},type:"TextSelect",section:"settings",options:{options:[{value:null,label:"none"},{value:"button",label:"Button"},{value:"submit",label:"Submit Button"}]},defaultValue:"button",bindable:!0,bindingValidation:{type:"string",tooltip:'A string that defines the button type: `"button" | "submit"`'}},disabled:{label:{en:"Disabled"},type:"OnOff",section:"settings",defaultValue:!1,bindable:!0},hasLeftIcon:{label:{en:"Left icon",fr:"Icne gauche"},section:"settings",type:"OnOff"},leftIcon:{hidden:!0},hasRightIcon:{label:{en:"Right icon",fr:"Icne droite"},type:"OnOff",section:"settings"},rightIcon:{hidden:!0}}};function KE(e){return typeof e=="object"&&"type"in e&&e.type==="collection"&&e.data?e.limit!==null?e.data.slice(e.offset,e.offset+e.limit):e.data:Array.isArray(e)?e.filter(r=>r!==void 0):[]}const Nj={editor:{label:{en:"Slider"},icon:"slider",bubble:{icon:"slider"},customSettingsPropertiesOrder:[["mainLayoutContent","slideIndex"],["slidesPerView","spaceBetween","effect","transitionDuration"],"navigation","pagination","loop","automatic",["automaticTiming","linearTransition"],"mousewheel",["mousewheelForceToAxis","mousewheelInvert","mousewheelSensitivity"]]},properties:{mainLayoutContent:{label:{en:"Bind slides"},bindable:"repeatable",type:"Info",options:{text:" "},section:"settings",defaultValue:[{isWwObject:!0,type:"ww-flexbox"},{isWwObject:!0,type:"ww-flexbox"},{isWwObject:!0,type:"ww-flexbox"}],navigator:{group:"Slides"}},slideIndex:{label:{en:"Slides",fr:"Slides"},type:"Tabs",editorOnly:!0,options:(e,r,n)=>{const l=!!n.mainLayoutContent,p=KE(e.mainLayoutContent);return{labels:p.map((h,c)=>({label:`slide ${c+1}`})),prefixLabel:"Slide",nbTabs:p.length,add:"addSlide",remove:"removeSlide",fixed:l}},section:"settings",defaultValue:0},slidesPerView:{type:"Number",label:{en:"Slides per view",fr:"Slides per view"},options:e=>({min:1,max:KE(e.mainLayoutContent).length,step:1}),responsive:!0,states:!0,bindable:!0,classes:!0,defaultValue:1,section:"settings"},spaceBetween:{type:"Length",label:{en:"Space between",fr:"Space between"},options:{unitChoices:[{value:"px",label:"px"}]},responsive:!0,states:!0,bindable:!0,classes:!0,section:"settings"},effect:{label:{en:"Effect",fr:"Effect"},type:"TextSelect",options:{options:[{value:"slide",label:{en:"slide"}},{value:"fade",label:{en:"fade"}},{value:"coverflow",label:{en:"coverflow"}},{value:"flip",label:{en:"flip"}},{value:"cards",label:{en:"cards"}}]},responsive:!0,states:!0,bindable:!0,classes:!0,section:"settings"},transitionDuration:{type:"Length",label:{en:"Transition duration",fr:"Transition duration"},options:{unitChoices:[{value:"ms",label:"ms",min:1,max:2e4}]},section:"settings",responsive:!0,states:!0,bindable:!0,classes:!0},navigation:{type:"OnOff",label:{en:"Navigation",fr:"Navigation"},defaultValue:!0,section:"settings"},pagination:{type:"OnOff",label:{en:"Pagination",fr:"Pagination"},defaultValue:!1,section:"settings"},loop:{type:"OnOff",label:{en:"Loop",fr:"Loop"},defaultValue:!1,section:"settings"},automatic:{type:"OnOff",label:{en:"Autoplay",fr:"Autoplay"},defaultValue:!1,section:"settings"},automaticTiming:{hidden:e=>!e.automatic,type:"Length",label:{en:"Timing",fr:"Timing"},options:{unitChoices:[{value:"s",label:"s",min:0,max:20}]},defaultValue:"3s",section:"settings"},linearTransition:{hidden:e=>!e.automatic,type:"OnOff",label:{en:"Linear transition",fr:"Linear transition"},defaultValue:!1,section:"settings"},mousewheel:{type:"OnOff",label:{en:"Mousewheel control",fr:"Mousewheel control"},defaultValue:!1,section:"settings"},mousewheelForceToAxis:{hidden:e=>!e.mousewheel,type:"OnOff",label:{en:"Force to axis",fr:"Force to axis"},defaultValue:!1,section:"settings"},mousewheelInvert:{hidden:e=>!e.mousewheel,type:"OnOff",label:{en:"Invert direction",fr:"Invert direction"},defaultValue:!1,section:"settings"},mousewheelSensitivity:{hidden:e=>!e.mousewheel,type:"Number",label:{en:"Sensitivity",fr:"Sensitivity"},defaultValue:1,section:"settings"},slidesContainer:{hidden:!0,defaultValue:[]},navigationIcons:{hidden:!0,defaultValue:[{isWwObject:!0,type:"83d890fb-84f9-4386-b459-fb4be89a8e15"},{isWwObject:!0,type:"83d890fb-84f9-4386-b459-fb4be89a8e15"}]},bulletsIcons:{hidden:!0,defaultValue:{isWwObject:!0,type:"83d890fb-84f9-4386-b459-fb4be89a8e15"}}}},Hj={inherit:["ww-text"],editor:{label:{en:"Text",fr:"Texte"},icon:"text",infoTag:e=>({color:"var(--ww-color-blue-500)",backgroundColor:"var(--ww-color-blue-100)",text:e.tag==="button"?"BTN":e.tag&&e.tag.toUpperCase(),action:()=>{wwLib.wwSearchBar.executeAction({actions:wwLib.wwSearchBar.getEditSidebarActions("settings","custom-0")})}})},options:{linkable:!0},properties:{tag:{label:{en:"Html tag",fr:"Tag html"},section:"settings",type:"TextSelect",options:{options:[{value:"p",label:"P"},{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"button",label:"Button"},{value:"div",label:"Div"}]},defaultValue:"p"}}},qj={editor:{deprecated:"Use the input file from the Elements panel instead of this one.",label:"Input File",icon:"upload",bubble:{icon:"upload"}},triggerEvents:[{name:"change",label:{en:"On change"},event:{value:""},default:!0},{name:"initValueChange",label:{en:"On init value change"},event:{value:""}}],options:{displayAllowedValues:["flex","inline-flex"]},properties:{button:{defaultValue:{isWwObject:!0,type:"ww-button"},hidden:!0},text:{defaultValue:{isWwObject:!0,type:"ww-text"},hidden:!0},multiple:{label:"Multiple",type:"OnOff",section:"settings",defaultValue:!1},required:{label:"Required",type:"OnOff",section:"settings",defaultValue:!0,bindable:!0},readonly:{label:{en:"Read only",fr:"Lecture seule"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:(e,r,n,l)=>!!(l&&l.readonly!==void 0)},accept:{label:"Extensions",type:"TextSelect",options:{options:[{label:"Any",value:"any"},{label:"Image",value:"image"},{label:"Video",value:"video"},{label:"Audio",value:"audio"},{label:"PDF",value:"pdf"},{label:"CSV",value:"csv"},{label:"Excel file",value:"xls"},{label:"Word file",value:"doc"},{label:"JSON",value:"json"},{label:"Custom",value:"custom"}]},section:"settings",defaultValue:"any"},acceptCustom:{type:"Text",options:{placeholder:".html, .xml, .pt"},section:"settings",hidden:e=>e.accept!=="custom",defaultValue:""}}},Gj={editor:{label:{en:"PDF viewer"},icon:"document-report"},properties:{pdf:{label:{en:"PDF Url",fr:"PDF Url"},type:"Text",options:{placeholder:"PDF url"},defaultValue:"https://weweb-staging.s3.amazonaws.com/designs/1fb3c298-9f4f-4b49-9661-35a8eee7941b/files/Focussurcatnat.pdf",bindable:!0}}},Wj={editor:{label:{en:"Loader"},icon:"loader"},options:{displayAllowedValues:["flex","inline-flex"]},properties:{spinner:{label:{en:"Loader",fr:"Loader"},type:"TextSelect",options:{options:[{value:"plane",label:{en:"Plane"}},{value:"chase",label:{en:"Chase"}},{value:"bounce",label:{en:"Bounce"}},{value:"wave",label:{en:"Wave"}},{value:"pulse",label:{en:"Pulse"}},{value:"flow",label:{en:"Flow"}},{value:"swing",label:{en:"Swing"}},{value:"circle",label:{en:"Circle"}},{value:"circle-fade",label:{en:"Circle Fade"}},{value:"grid",label:{en:"Grid"}},{value:"fold",label:{en:"Fold"}},{value:"wander",label:{en:"Wander"}}]},defaultValue:"plane"},color:{label:{en:"Color"},type:"Color",bindable:!0,responsive:!0,states:!0,classes:!0},size:{label:{en:"Size"},type:"Length",options:{unitChoices:[{value:"px",label:"px",min:0,max:2e3}]},bindable:!0,responsive:!0,states:!0,classes:!0}}},Zj={options:{sizable:!0},editor:{label:{en:"iFrame",fr:"iFrame"},icon:"globe-alt"},properties:{source:{label:{en:"iFrame source (URL)"},type:"Text",bindable:!0,defaultValue:""}}},Xj={type:"wwObject",options:{sizable:!0,ignoredStyleProperties:["overflow"],linkable:!0},editor:{label:{fr:"Image",en:"Image"},icon:"photograph"},properties:{url:{label:{en:"Image",fr:"Image"},type:"Image",bindable:!0,defaultValue:"https://cdn.weweb.app/public/images/no_image_selected.png"},objectFit:{label:{en:"Fit"},type:"TextSelect",options:{options:[{value:null,default:!0,label:{en:"Fill"}},{value:"cover",label:{en:"Cover"}},{value:"contain",label:{en:"Contain"}}]},responsive:!0,states:!0,classes:!0,defaultValue:null},overlay:{type:"Color",label:{en:"Overlay"},options:{nullable:!0,gradient:!0},responsive:!0,states:!0,bindable:!0,classes:!0},filter:{type:"CssFilters",label:{en:"Filters"},responsive:!0,states:!0,bindable:!0,classes:!0},alt:{section:"settings",label:{en:"Alt",fr:"Alt"},type:"Text",multiLang:!0,bindable:!0,options:{placeholder:"Image description"},defaultValue:{en:""}},loading:{section:"settings",label:{en:"Loading"},type:"TextSelect",options:{options:[{value:"lazy",label:{en:"Lazy"},default:!0},{value:"eager",label:{en:"Eager"}}]},defaultValue:"lazy"}}},Kj={options:{lazyHydrate:!0,displayAllowedValues:(e,r)=>(r==null?void 0:r.overrideDisplayValues)??["flex","block","grid","table-cell","table-row","table-header-group","inline-flex","inline-block","inline-grid"],linkable:!0},inherit:[{type:"ww-layout"},{type:"ww-background-video"}],editor:{label:{en:"Flexbox"},icon:"border",bubble:{icon:"border"},customStylePropertiesOrder:["children"]},properties:{children:{label:{en:"Items",fr:"Items"},type:"Repeat",options:{text:{en:"Elements to repeat"}},hidden:(e,r,n,l)=>!!(l&&l.isFixed)||l.noDropzone,bindable:"repeatable",defaultValue:[]}}},Jj={editor:{label:{en:"Accordion",fr:"Accordion"},icon:"view-grid"},properties:{value:{label:{en:"Init value"},type:"OnOff",section:"settings",bindable:!0},toggleLayout:{hidden:!0,defaultValue:[]},activeToggleLayout:{hidden:!0,defaultValue:[]},contentLayout:{hidden:!0,defaultValue:[]},toggleEdit:{type:"Button",section:"settings",editorOnly:!0,options:{text:{en:"Toggle edition",fr:"Toggle edition"},color:"blue",action:"toggleEdit"}}}},Qj={editor:{label:{en:"Mapbox"},icon:"map",customSettingsPropertiesOrder:["apiAccessToken",["lat","lng","zoom"],["scrollZoom","trackResize","defaultMarkerDraggable","fixedBounds"],["markers","markersHintFields","markersContentField","markersLatField","markersLngField","markersColorField","markersDraggableField","markersIconField","markersWidthField","markersHeightField"],"advancedOptions",["sources","sourcesHintFields","sourcesIdField","sourcesTypeField","sourcesUrlField","sourcesOptionsField"],["layers","layersHintFields","layersIdField","layersTypeField","layersSourceField","layersSourceLayerField","layersMinZoomField","layersMaxZoomField","layersLayoutField","layersPaintField","layersFilterField","layersMetadataField"]]},triggerEvents:[{name:"map:load",label:{en:"On map load"}},{name:"map:render",label:{en:"On map render"}},{name:"map:idle",label:{en:"On map idle"}},{name:"map:click",label:{en:"On map click"},event:{lngLat:{lat:48.84872727506581,lng:2.351657694024656},point:{x:474,y:196},domEvent:{x:0,y:0}},default:!0},{name:"map:dragstart",label:{en:"On map drag start"},event:{lngLat:{lat:48.84872727506581,lng:2.351657694024656}}},{name:"map:dragend",label:{en:"On map drag end"},event:{lngLat:{lat:48.84872727506581,lng:2.351657694024656}}},{name:"marker:mouseover",label:{en:"On marker mouse enter"},event:{marker:{content:"Paris",position:{lat:48.84872727506581,lng:2.351657694024656},rawData:{}},domEvent:{x:0,y:0}},getTestEvent:"getMarkerTestEvent"},{name:"marker:mouseout",label:{en:"On marker mouse leave"},event:{marker:{content:"Paris",position:{lat:48.84872727506581,lng:2.351657694024656},rawData:{}},domEvent:{x:0,y:0}},getTestEvent:"getMarkerTestEvent"},{name:"marker:click",label:{en:"On marker click"},event:{marker:{content:"Paris",position:{lat:48.84872727506581,lng:2.351657694024656},rawData:{}},domEvent:{x:0,y:0}},getTestEvent:"getMarkerTestEvent"},{name:"marker:dragstart",label:{en:"On marker drag start"},event:{marker:{content:"Paris",position:{lat:48.84872727506581,lng:2.351657694024656},rawData:{}},lngLat:{lat:48.84872727506581,lng:2.351657694024656}},getTestEvent:"getMarkerDragTestEvent"},{name:"marker:drag",label:{en:"On marker drag"},event:{marker:{content:"Paris",position:{lat:48.84872727506581,lng:2.351657694024656},rawData:{}},lngLat:{lat:48.84872727506581,lng:2.351657694024656}},getTestEvent:"getMarkerDragTestEvent"},{name:"marker:dragend",label:{en:"On marker drag end"},event:{marker:{content:"Paris",position:{lat:48.84872727506581,lng:2.351657694024656},rawData:{}},lngLat:{lat:48.84872727506581,lng:2.351657694024656}},getTestEvent:"getMarkerDragTestEvent"}],properties:{mapStyle:{label:{en:"Map style",fr:"Style de la map"},type:"TextSelect",options:{options:[{value:"mapbox://styles/mapbox/streets-v11",label:"Mapbox Streets"},{value:"mapbox://styles/mapbox/outdoors-v11",label:"Mapbox outdoors"},{value:"mapbox://styles/mapbox/light-v10",label:"Mapbox Light"},{value:"mapbox://styles/mapbox/dark-v10",label:"Mapbox Dark"},{value:"mapbox://styles/mapbox/satellite-v9",label:"Mapbox Satellite"},{value:"mapbox://styles/mapbox/satellite-streets-v11",label:"Mapbox Satellite Streets"},{value:"mapbox://styles/mapbox/navigation-day-v1",label:"Mapbox Navigation Day"},{value:"mapbox://styles/mapbox/navigation-night-v1",label:"Mapbox Navigation Night"},{value:null,label:"Custom"}]},defaultValue:"mapbox://styles/mapbox/streets-v11",bindable:!0,states:!0,classes:!0,responsive:!0},styleUrl:{hidden:e=>!!e.mapStyle,label:{en:"Style URL",fr:"Style URL"},type:"Text",options:{placeholder:"mapbox://styles/username/styleid"},defaultValue:"",bindable:!0,states:!0,classes:!0,responsive:!0},mapProjection:{label:{en:"Map projection",fr:"Map projection"},type:"TextSelect",options:{options:[{value:"albers",label:"Albers"},{value:"equalEarth",label:"Equal Earth"},{value:"equirectangular",label:"Equirectangular"},{value:"globe",label:"3D Globe"},{value:"lambertConformalConic",label:"Lambert Conformal Conic"},{value:"mercator",label:"Mercator"},{value:"naturalEarth",label:"Natural Earth"},{value:"winkelTripel",label:"Winkel Tripel"}]},defaultValue:"globe",bindable:!0,states:!0,classes:!0,responsive:!0},logoPosition:{label:{en:"Logo position",fr:"Logo position"},type:"TextSelect",options:{options:[{value:"top-left",label:"Top left"},{value:"top-right",label:"Top right"},{value:"bottom-left",label:"Bottom left"},{value:"bottom-right",label:"Bottom right"}]},defaultValue:"bottom-left"},customMarker:{label:"Custom marker icon",type:"OnOff",defaultValue:!1},defaultMarkerColor:{label:{en:"Default Markers color",fr:"Default Markers color"},type:"Color",defaultValue:"#F23636",bindable:!0,states:!0,classes:!0,responsive:!0,hidden:(e,r,n)=>e.customMarker},defaultMarkerIcon:{label:"Default Markers Icon",type:"Image",options:{nullable:!0},bindable:!0},defaultMarkerWidth:{label:"Default Markers Width",type:"Length",options:{unitChoices:[{value:"auto",label:"auto",default:!0},{value:"px",label:"px",min:1,max:300}],noRange:!0},defaultValue:"40px",responsive:!0,bindable:!0,states:!0,classes:!0},defaultMarkerHeight:{label:"Default Markers Height",type:"Length",options:{unitChoices:[{value:"auto",label:"auto",default:!0},{value:"px",label:"px",min:1,max:300}],noRange:!0},defaultValue:"auto",responsive:!0,bindable:!0,states:!0,classes:!0},disablePopups:{label:{en:"Disable popups",fr:"Disable popups"},type:"OnOff",defaultValue:!1,bindable:!0},popupHideCloseButton:{label:{en:"Popup hide close button",fr:"Popup hide close button"},type:"OnOff",defaultValue:!1,hidden:e=>e.disablePopups,bindable:!0},popupStayOpenOnClick:{label:{en:"Popup stay open on click",fr:"Popup stay open on click"},type:"OnOff",defaultValue:!1,hidden:e=>e.disablePopups,bindable:!0},popupCloseOnMove:{label:{en:"Popup close on move",fr:"Popup close on move"},type:"OnOff",defaultValue:!1,hidden:e=>e.disablePopups,bindable:!0},popupMaxWidth:{type:"Length",label:{en:"Popup max width"},options:{noRange:!0,unitChoices:[{value:"px",label:"px",min:10,max:500},{value:"%",label:"%",min:0,max:100},{value:"auto",label:"auto"}]},defaultValue:"240px",hidden:e=>e.disablePopups,bindable:!0,states:!0,classes:!0,responsive:!0},apiAccessToken:{section:"settings",label:{en:"API access token",fr:"API access token"},type:"Text",options:{placeholder:"pk.eyJ1IjoiYWxleGlzamMiLCJhIjoiY2w2eHUwOXR0MHdrczNncWx2eGMxcXdqbSJ9.qDyDmFSrF81mnB_VkeFPmK"},defaultValue:"",bindable:!0},lat:{section:"settings",label:{en:"Latitude",fr:"Latitude"},type:"Text",options:{placeholder:"Latitude"},defaultValue:"40.712784",bindable:!0},lng:{section:"settings",label:{en:"Longitude",fr:"Longitude"},type:"Text",options:{placeholder:"Longitude"},defaultValue:"-74.005941",bindable:!0},zoom:{section:"settings",type:"Number",label:{en:"Zoom",fr:"Zoom"},options:{min:0,max:20,step:1},defaultValue:9,bindable:!0,states:!0,classes:!0,responsive:!0},scrollZoom:{section:"settings",label:{en:"Scroll zoom",fr:"Scroll zoom"},type:"OnOff",defaultValue:!0},trackResize:{section:"settings",label:{en:"Track resize",fr:"Track resize"},type:"OnOff",defaultValue:!0},defaultMarkerDraggable:{section:"settings",label:{en:"Markers draggable",fr:"Markers draggable"},type:"OnOff",defaultValue:!1,bindable:!0},fixedBounds:{section:"settings",label:{en:"Fixed markers bounds",fr:"Fixed markers bounds"},type:"OnOff",defaultValue:!0,bindable:!0},markers:{section:"settings",label:{en:"Markers",fr:"Markers"},bindable:!0,type:"Array",options:{getItemLabel(e,r){return`Marker ${r+1}`},movable:!0,expandable:!0,item:{type:"Object",defaultValue:{content:"",lat:0,lng:0,color:"#F23636",draggable:!1},options:{item:{content:{label:{en:"Content"},type:"Text",options:{placeholder:"Content"}},lat:{label:{en:"Latitude"},type:"Text",options:{placeholder:"Latitude"}},lng:{label:{en:"Longitude"},type:"Text",options:{placeholder:"Longitude"}},color:{label:{en:"Color"},type:"Color"},draggable:{label:{en:"Draggable"},type:"OnOff"},icon:{label:{en:"Icon"},type:"Image",options:{nullable:!0},bindable:!0},width:{label:{en:"Width"},type:"Length",options:{unitChoices:[{value:"auto",label:"auto",default:!0},{value:"px",label:"px",min:1,max:300}],noRange:!0},defaultValue:"27px",responsive:!0,bindable:!0,states:!0,classes:!0},height:{label:{en:"Height"},type:"Length",options:{unitChoices:[{value:"auto",label:"auto",default:!0},{value:"px",label:"px",min:1,max:300}],noRange:!0},defaultValue:"auto",responsive:!0,bindable:!0,states:!0,classes:!0}}}}},defaultValue:[{title:"New York",content:"New York, often called New York City (NYC) to distinguish it from the State of New York, is the most populous city in the United States.",lat:40.712784,lng:-74.005941,color:null,draggable:!1},{title:"Brooklyn",content:"Brooklyn is a borough of New York City, coextensive with Kings County, in the U.S. state of New York.",lat:40.650002,lng:-73.949997,color:null,draggable:!1}]},markersHintFields:{hidden:(e,r,n)=>!n.markers||e.markers,label:{en:"Marker fields",fr:"Champs du marker"},type:"Info",options:{text:{en:"Please provide at least one marker to configure fields"}},editorOnly:!0,section:"settings"},markersContentField:{hidden:(e,r,n)=>!n.markers||!e.markers,label:{en:"Marker content",fr:"Marker content"},type:"ObjectPropertyPath",options:e=>!e.markers.length||typeof e.markers[0]!="object"?null:{object:e.markers[0]},defaultValue:null,section:"settings"},markersLatField:{hidden:(e,r,n)=>!n.markers||!e.markers,label:{en:"Marker lat. field",fr:"Marker lat. field"},type:"ObjectPropertyPath",options:e=>!e.markers.length||typeof e.markers[0]!="object"?null:{object:e.markers[0]},defaultValue:null,section:"settings"},markersLngField:{hidden:(e,r,n)=>!n.markers||!e.markers,label:{en:"Marker long. field",fr:"Marker long. field"},type:"ObjectPropertyPath",options:e=>!e.markers.length||typeof e.markers[0]!="object"?null:{object:e.markers[0]},defaultValue:null,section:"settings"},markersColorField:{hidden:(e,r,n)=>!n.markers||!e.markers||e.customMarker,label:{en:"Marker color",fr:"Marker color"},type:"ObjectPropertyPath",options:e=>!e.markers.length||typeof e.markers[0]!="object"?null:{object:e.markers[0]},defaultValue:null,section:"settings"},markersDraggableField:{hidden:(e,r,n)=>!n.markers||!e.markers,label:{en:"Marker draggable",fr:"Marker draggable"},type:"ObjectPropertyPath",options:e=>!e.markers.length||typeof e.markers[0]!="object"?null:{object:e.markers[0]},defaultValue:null,section:"settings"},markersIconField:{hidden:(e,r,n)=>!n.markers||!e.markers||!e.customMarker,label:{en:"Marker icon",fr:"Marker icon"},type:"ObjectPropertyPath",options:e=>!e.markers.length||typeof e.markers[0]!="object"?null:{object:e.markers[0]},defaultValue:null,section:"settings"},markersWidthField:{hidden:(e,r,n)=>!n.markers||!e.markers||!e.customMarker,label:{en:"Marker width",fr:"Marker width"},type:"ObjectPropertyPath",options:e=>!e.markers.length||typeof e.markers[0]!="object"?null:{object:e.markers[0]},defaultValue:null,section:"settings"},markersHeightField:{hidden:(e,r,n)=>!n.markers||!e.markers||!e.customMarker,label:{en:"Marker height",fr:"Marker height"},type:"ObjectPropertyPath",options:e=>!e.markers.length||typeof e.markers[0]!="object"?null:{object:e.markers[0]},defaultValue:null,section:"settings"},advancedOptions:{label:{en:"Advanced",fr:"Avances"},type:"Info",options:{text:{en:"Read the mapbox-gl-js documentation to use custom sources & layers"}},editorOnly:!0,section:"settings"},layers:{section:"settings",label:{en:"Layers",fr:"Layers"},bindable:!0,type:"Array",options:{getItemLabel(e,r){return`Layer ${r+1}`},movable:!0,expandable:!0,item:{type:"Object",defaultValue:{id:"",type:"",source:null,sourceLayer:"",metadata:null,layout:null,paint:null,minZoom:0,maxZoom:24,filter:null},options:{item:{id:{label:{en:"Unique Id"},type:"Text",options:{placeholder:"my-layer-id"},bindable:!0},type:{label:{en:"Type"},type:"TextSelect",options:{options:[{value:"fill",label:"fill"},{value:"line",label:"line"},{value:"symbol",label:"symbol"},{value:"circle",label:"circle"},{value:"heatmap",label:"heatmap"},{value:"fill-extrusion",label:"fill-extrusion"},{value:"raster",label:"raster"},{value:"hillshade",label:"hillshade"},{value:"background",label:"background"},{value:"sky",label:"sky"}]},bindable:!0},source:{label:{en:"Source"},type:"TextSelect",options:e=>({options:e.sources.map(r=>({label:r.id,value:r.id}))}),bindable:!0},sourceLayer:{label:{en:"Source layer"},type:"Text",options:{placeholder:"Source layer"},bindable:!0},minZoom:{type:"Number",label:{en:"Min zoom",fr:"Min zoom"},options:{min:0,max:24,step:1},defaultValue:0,bindable:!0},maxZoom:{type:"Number",label:{en:"Max zoom",fr:"Max zoom"},options:{min:0,max:24,step:1},defaultValue:24,bindable:!0},metadata:{label:{en:"Metadata"},type:"Info",bindable:!0},layout:{label:{en:"Layout"},type:"Info",bindable:!0},paint:{label:{en:"Paint"},type:"Info",bindable:!0},filter:{label:{en:"Filter"},type:"Info",bindable:!0}}}}},defaultValue:[]},layersHintFields:{hidden:(e,r,n)=>!n.layers||e.layers,label:{en:"Layers fields",fr:"Champs des layers"},type:"Info",options:{text:{en:"Please provide at least one layer to configure fields"}},editorOnly:!0,section:"settings"},layersIdField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Id field",fr:"Id field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersTypeField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Type field",fr:"Type field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersSourceField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Source field",fr:"Source field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersSourceLayerField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Source layer field",fr:"Source layer field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersMetadataField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Metadata field",fr:"Metadata field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersLayoutField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Layout field",fr:"Layout field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersPaintField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Paint field",fr:"Paint field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersFilterField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Filter field",fr:"Filter field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersMaxZoomField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Max zoom field",fr:"Max zoom field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},layersMinZoomField:{hidden:(e,r,n)=>!n.layers||!e.layers,label:{en:"Min zoom field",fr:"Min zoom field"},type:"ObjectPropertyPath",options:e=>!e.layers.length||typeof e.layers[0]!="object"?null:{object:e.layers[0]},defaultValue:null,section:"settings"},sources:{section:"settings",label:{en:"Sources",fr:"Sources"},bindable:!0,type:"Array",options:{getItemLabel(e,r){return`Source ${r+1}`},movable:!0,expandable:!0,item:{type:"Object",defaultValue:{id:"",type:"",config:{}},options:{item:{id:{label:{en:"Unique Id"},type:"Text",options:{placeholder:"Id"},bindable:!0},type:{label:{en:"Type"},type:"TextSelect",options:{options:[{value:"vector",label:"vector"},{value:"raster",label:"raster"},{value:"raster-dem",label:"raster-dem"},{value:"geojson",label:"geojson"},{value:"image",label:"image"},{value:"video",label:"video"}]},bindable:!0},url:{label:{en:"Url (Tileset)"},type:"Text",options:{placeholder:"mapbox://mapbox.mapbox-streets-v6"},bindable:!0},options:{label:{en:"Advanced options"},type:"Info",bindable:!0}}}}},defaultValue:[]},sourcesHintFields:{hidden:(e,r,n)=>!n.sources||e.sources,label:{en:"Sources fields",fr:"Champs des sources"},type:"Info",options:{text:{en:"Please provide at least one source to configure fields"}},editorOnly:!0,section:"settings"},sourcesIdField:{hidden:(e,r,n)=>!n.sources||!e.sources,label:{en:"Id field",fr:"Id field"},type:"ObjectPropertyPath",options:e=>!e.sources.length||typeof e.sources[0]!="object"?null:{object:e.sources[0]},defaultValue:null,section:"settings"},sourcesTypeField:{hidden:(e,r,n)=>!n.sources||!e.sources,label:{en:"Type field",fr:"Type field"},type:"ObjectPropertyPath",options:e=>!e.sources.length||typeof e.sources[0]!="object"?null:{object:e.sources[0]},defaultValue:null,section:"settings"},sourcesUrlField:{hidden:(e,r,n)=>!n.sources||!e.sources,label:{en:"Url field",fr:"Url field"},type:"ObjectPropertyPath",options:e=>!e.sources.length||typeof e.sources[0]!="object"?null:{object:e.sources[0]},defaultValue:null,section:"settings"},sourcesOptionsField:{hidden:(e,r,n)=>!n.sources||!e.sources,label:{en:"Advanced Opt. field",fr:"Advanced Opt. field"},type:"ObjectPropertyPath",options:e=>!e.sources.length||typeof e.sources[0]!="object"?null:{object:e.sources[0]},defaultValue:null,section:"settings"}}},e6={editor:{label:"Stripe - Payment",icon:"logos/stripe"},inherit:{type:"ww-text",exclude:["text","font","lineHeight","textDecoration","textDecorationColor","textDecorationStyle","textAlign","textTransform","textShadow","letterSpacing","wordSpacing"]},properties:{labels:{label:"Labels",type:"TextSelect",options:{options:[{label:"Above",value:"above"},{label:"Floating",value:"floating"}]},defaultValue:"above"},theme:{label:"Theme",type:"TextSelect",options:{options:[{label:"Stripe",value:"stripe"},{label:"Night",value:"night"},{label:"Flat",value:"flat"},{label:"Minimal",value:"minimal"},{label:"Bubblegum",value:"bubblegum"},{label:"Ninety Five",value:"ninety-five"},{label:"Dark Blue",value:"dark-blue"},{label:"None",value:"none"}]},defaultValue:"stripe"},colorPrimary:{label:"Primary color",type:"Color",options:{nullable:!0}},colorBackground:{label:"Background color",type:"Color",options:{nullable:!0}},colorDanger:{label:"Danger color",type:"Color",options:{nullable:!0}},borderRadius:{label:"Border radius",type:"Length",options:{unitChoices:[{value:"px",label:"px",min:0,max:100}]},defaultValue:"4px",responsive:!0},spacingUnit:{label:"Spacing",type:"Length",options:{unitChoices:[{value:"px",label:"px",min:0,max:100}]},defaultValue:"4px",responsive:!0},rules:{label:"Custom Rules",type:"Text",options:{placeholder:"{ }"},defaultValue:"",responsive:!0},clientSecret:{label:"Client secret (Payment intent)",type:"Text",options:{placeholder:"pi_********"},bindable:!0,defaultValue:"",section:"settings"}}},t6={editor:{label:{en:"Tabs",fr:"Onglets"},icon:"collection",bubble:{icon:"collection"},navigator:{groups:["Headers","Contents"]},customStylePropertiesOrder:["tabsPosition",["horizontalAlignment","verticalAlignment"],["transition","transitionDuration"]]},options:{displayAllowedValues:["flex","inline-flex"]},actions:[{action:"addTab",label:{en:"Add tab"}},{action:"removeTab",label:{en:"Remove tab"},args:[{name:"index",type:"number",label:{en:"Tab index"}}]},{action:"moveTabUp",label:{en:"Move tab up"},args:[{name:"index",type:"number",label:{en:"Tab index"}}]},{action:"moveTabDown",label:{en:"Move tab down"},args:[{name:"index",type:"number",label:{en:"Tab index"}}]},{action:"updateTabLabel",label:{en:"Update tab label"},args:[{name:"payload",type:"object",label:{en:"Tab data"},options:{item:{index:{type:"number",label:{en:"Tab index"}},label:{type:"string",label:{en:"New label"}}}}}]}],triggerEvents:[{name:"change",label:{en:"On change"},event:{value:""}},{name:"initValueChange",label:{en:"On init value change"},event:{value:""}}],properties:{tabIndex:{label:{en:"Tabs",fr:"Tabs"},type:"Tabs",editorOnly:!0,options:e=>({labels:e.tabsList.map((r,n)=>{var l;return{label:((l=e.tabLabels)==null?void 0:l[n])||`Tab ${n}`,customizable:!0}}),nbTabs:e.tabsList.length,add:"addTab",remove:"removeTab",orderable:!0,moveUp:"moveTabUp",moveDown:"moveTabDown",updateLabel:"updateTabLabel"}),section:"settings",defaultValue:0},tabsPosition:{label:{en:"Tabs position",fr:"Position des tabs"},type:"TextSelect",options:{options:[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"},{value:"right",label:"Right"}]},responsive:!0,states:!0,bindable:!0,classes:!0,defaultValue:"top"},horizontalAlignment:{label:{en:"Hor. Align."},type:"TextRadioGroup",options:e=>e.tabsPosition==="top"||e.tabsPosition==="bottom"?{choices:[{value:"flex-start",title:{en:"Start",fr:"Dbut"},icon:"align-x-start"},{value:"center",title:{en:"Center",fr:"Milieu"},icon:"align-x-center"},{value:"flex-end",title:{en:"End",fr:"Fin"},icon:"align-x-end"},{value:"space-around",title:{en:"Space around",fr:"Space around"},icon:"align-x-space-around"},{value:"space-between",title:{en:"Space between",fr:"Space between"},icon:"align-x-space-between"}]}:{choices:[{value:"start",title:{en:"Start",fr:"Dbut"},icon:"align-left"},{value:"center",title:{en:"Center",fr:"Milieu"},icon:"align-center"},{value:"end",title:{en:"End",fr:"Fin"},icon:"align-right"}]},states:!0,bindable:!0,classes:!0,defaultValue:"center"},verticalAlignment:{label:{en:"Vert. Align"},type:"TextRadioGroup",options:e=>e.tabsPosition==="top"||e.tabsPosition==="bottom"?{choices:[{value:"start",title:{en:"Start",fr:"Dbut"},icon:"align-top"},{value:"center",title:{en:"Center",fr:"Milieu"},icon:"align-middle"},{value:"end",title:{en:"End",fr:"Fin"},icon:"align-bottom"}]}:{choices:[{value:"flex-start",title:{en:"Start",fr:"Dbut"},icon:"align-x-start-vertical"},{value:"center",title:{en:"Center",fr:"Milieu"},icon:"align-x-center-vertical"},{value:"flex-end",title:{en:"End",fr:"Fin"},icon:"align-x-end-vertical"},{value:"space-around",title:{en:"Space around",fr:"Space around"},icon:"align-x-space-around-vertical"},{value:"space-between",title:{en:"Space between",fr:"Space between"},icon:"align-x-space-between-vertical"}]},states:!0,bindable:!0,classes:!0,defaultValue:"center"},transition:{label:{en:"Transition",fr:"Transition"},type:"TextSelect",options:{options:[{value:"none",label:{en:"None",fr:"Aucune"}},{value:"fade",label:{en:"Fade",fr:"Fade"}},{value:"fadeTopBottom",label:{en:"Fade top / bottom",fr:"Fade top / bottom"}},{value:"fadeLeftRight",label:{en:"Fade right / left",fr:"Fade right / left"}}]},defaultValue:"fade",states:!0,bindable:!0,classes:!0},transitionDuration:{type:"Number",label:{en:"Transition duration",fr:"Dure de la transition"},options:{min:0,max:5,step:.1},defaultValue:.4,states:!0,bindable:!0,classes:!0},tabsList:{hidden:!0,defaultValue:[],navigator:{group:"Headers"}},tabsContent:{hidden:!0,defaultValue:[],navigator:{group:"Contents"}},tabLabels:{hidden:!0,defaultValue:[]},value:{label:{en:"Active tab index"},type:"Number",options:e=>({min:0,max:Math.max(0,e.tabsList.length-1)}),section:"settings",bindable:!0}}},r6={inherit:{type:"ww-text",exclude:["text"]},editor:{label:{en:"Form Input",fr:"Entre de Formulaire"},icon:"text-input",customSettingsPropertiesOrder:["formInfobox",["fieldName","customValidation","validation"],"type","value","placeholder","readonly","required","autocomplete","debounce","debounceDelay"],customStylePropertiesOrder:["placeholderColor",["precision","min","max","minDate","maxDate","step","timePrecision","hideArrows","displayPassword","rows","resize","currencyShowSymbol","currencySymbol","currencySymbolPosition","currencyDecimalPlaces","currencyThousandsSeparator","currencyDecimalSeparator","currencySymbolColor","currencySymbolFontSize","currencySymbolPadding"]],hint:(e,r)=>{if(!r.parentSelection)return null;const{header:n,text:l,button:p,args:h}=r.parentSelection;return["style","settings"].map(M=>({section:M,header:n,text:l,button:{text:p,action:"selectParent",args:h}}))}},states:["focus","readonly"],actions:[{label:"Focus element",action:"focusInput"}],triggerEvents:[{name:"change",label:{en:"On change"},event:{value:""},default:!0},{name:"initValueChange",label:{en:"On init value change"},event:{value:""}},{name:"onEnterKey",label:{en:"On enter key"},event:{value:""}},{name:"focus",label:{en:"On focus"},event:null},{name:"blur",label:{en:"On blur"},event:null}],properties:{placeholderColor:{label:{en:"Placeholder color"},type:"Color",options:{nullable:!0},bindable:!0,responsive:!0,classes:!0,states:!0,hidden:e=>e.advancedPlaceholder},value:{label:{en:"Init value"},type:"Text",section:"settings",bindable:!0,defaultValue:""},type:{label:{en:"Input type",fr:"Input type"},type:"TextSelect",options:{options:[{value:"text",label:{en:"Short answer",fr:"Texte"}},{value:"textarea",label:{en:"Long answer",fr:"Texte"}},{value:"email",label:{en:"Email",fr:"Email"}},{value:"search",label:{en:"Search",fr:"Recherche"}},{value:"password",label:{en:"Password",fr:"Mot de passe"}},{value:"number",label:{en:"Number",fr:"Nombre"}},{value:"decimal",label:{en:"Decimal",fr:"Decimal"}},{value:"date",label:{en:"Date",fr:"Date"}},{value:"time",label:{en:"Time",fr:"Heure"}},{value:"tel",label:{en:"Phone",fr:"Tlphone"}},{value:"color",label:{en:"Color",fr:"Couleur"}},{value:"currency",label:{en:"Currency",fr:"Devise"}}]},defaultValue:"text"},displayPassword:{label:{en:"Display password"},type:"OnOff",bindable:!0,defaultValue:!1,classes:!0,hidden:e=>e.type!=="password"},readonly:{label:{en:"Read only",fr:"Lecture seule"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:(e,r,n,l)=>!!(l&&l.readonly!==void 0)},required:{label:{en:"Required",fr:"Requis"},type:"OnOff",section:"settings",defaultValue:!0,bindable:!0},precision:{label:{en:"Precision",fr:"Precision"},type:"TextSelect",options:{options:[{value:"0.1",label:{en:"1.0"}},{value:"0.01",label:{en:"1.00"}},{value:"0.001",label:{en:"1.000"}},{value:"0.0001",label:{en:"1.0000"}},{value:"0.00001",label:{en:"1.00000"}},{value:"0.000001",label:{en:"1.000000"}},{value:"0.0000001",label:{en:"1.0000000"}},{value:"0.00000001",label:{en:"1.00000000"}}]},hidden:e=>e.type!=="decimal",defaultValue:"0.1"},step:{label:{en:"Step",fr:"Step"},type:"Number",options:e=>e.type==="decimal"?{min:0,max:10*parseFloat(e.precision),step:parseFloat(e.precision)}:{min:1,max:100,step:1},defaultValue:1,bindable:!0,hidden:e=>e.type!=="decimal"&&e.type!=="number"},timePrecision:{label:{en:"Time precision",fr:"Time precision"},type:"TextSelect",options:{options:[{value:3600,label:{en:"hh"}},{value:60,label:{en:"hh:mm"}},{value:1,label:{en:"hh:mm:ss"}},{value:.1,label:{en:"hh:mm:ss.s"}}]},bindable:!0,hidden:e=>e.type!=="time",defaultValue:1},placeholder:{label:{en:"Placeholder",fr:"Placeholder"},type:"Text",options:{placeholder:"Type text"},section:"settings",hidden:e=>e.type==="date"||e.type==="time",multiLang:!0,bindable:!0,defaultValue:{}},rows:{label:{en:"Rows",fr:"Rows"},type:"Number",options:{min:1,max:25},hidden:e=>e.type!=="textarea",bindable:!0,defaultValue:4,classes:!0},resize:{label:{en:"Resize",fr:"Resize"},type:"OnOff",hidden:e=>e.type!=="textarea",defaultValue:!1,classes:!0},min:{label:{en:"Min number",fr:"Min number"},type:"Number",options:{min:0,max:100},hidden:e=>e.type!=="number"&&e.type!=="decimal",defaultValue:"0",bindable:!0},max:{label:{en:"Max number",fr:"Max number"},type:"Number",options:{min:0,max:1e4},hidden:e=>e.type!=="number"&&e.type!=="decimal",defaultValue:"10000",bindable:!0},minDate:{label:{en:"Min date"},type:"Text",hidden:e=>e.type!=="date",defaultValue:"",bindable:!0},maxDate:{label:{en:"Max date"},type:"Text",hidden:e=>e.type!=="date",defaultValue:"",bindable:!0},hideArrows:{label:{en:"Hide arrows",fr:"Masquer les flches"},type:"OnOff",hidden:e=>e.type!=="number"&&e.type!=="decimal",defaultValue:!1,classes:!0},debounce:{label:{en:"Debounce"},type:"OnOff",section:"settings",defaultValue:!1},debounceDelay:{type:"Length",label:{en:"Delay"},options:{unitChoices:[{value:"ms",label:"ms",min:1,max:5e3}]},section:"settings",defaultValue:"500ms",responsive:!0,hidden:e=>!e.debounce},autocomplete:{label:{en:"Autocomplete",fr:"Autocompltion"},type:"OnOff",section:"settings",defaultValue:!1,bindable:!0},fieldName:{label:"Field name",section:"settings",type:"Text",defaultValue:"",bindable:!0,hidden:(e,r)=>{var n;return!((n=r.form)!=null&&n.uid)}},customValidation:{label:"Custom validation",section:"settings",type:"OnOff",defaultValue:!1,bindable:!0,hidden:(e,r)=>{var n;return!((n=r.form)!=null&&n.uid)}},validation:{label:"Validation",section:"settings",type:"Formula",defaultValue:"",bindable:!1,hidden:(e,r)=>{var n;return!((n=r.form)!=null&&n.uid)||!e.customValidation}},currencyShowSymbol:{label:{en:"Show currency symbol"},type:"OnOff",bindable:!0,defaultValue:!0,hidden:e=>e.type!=="currency"},currencySymbol:{label:{en:"Currency symbol"},type:"Text",bindable:!0,defaultValue:"$",hidden:e=>!e.currencyShowSymbol||e.type!=="currency"},currencySymbolPosition:{label:{en:"Symbol position"},type:"TextRadioGroup",bindable:!0,defaultValue:"prefix",options:{choices:[{value:"prefix",title:"Before",icon:"align-left"},{value:"suffix",title:"After",icon:"align-right"}]},hidden:e=>!e.currencyShowSymbol||e.type!=="currency"},currencyDecimalPlaces:{label:{en:"Decimal places"},type:"Number",bindable:!0,defaultValue:2,options:{min:0,max:10,step:1},hidden:e=>e.type!=="currency"},currencyThousandsSeparator:{label:{en:"Thousands separator"},type:"TextSelect",bindable:!0,defaultValue:",",options:{options:[{value:",",label:"Comma (,)"},{value:".",label:"Dot (.)"},{value:" ",label:"Space ( )"},{value:"'",label:"Apostrophe (')"},{value:"",label:"None"}]},hidden:e=>e.type!=="currency"},currencyDecimalSeparator:{label:{en:"Decimal separator"},type:"TextSelect",bindable:!0,defaultValue:".",options:{options:[{value:".",label:"Dot (.)"},{value:",",label:"Comma (,)"}]},hidden:e=>e.type!=="currency"},currencySymbolColor:{label:{en:"Symbol color"},type:"Color",classes:!0,bindable:!0,responsive:!0,states:!0,defaultValue:"#666666",hidden:e=>e.type!=="currency"},currencySymbolFontSize:{label:{en:"Symbol font size"},type:"Length",options:{unitChoices:[{value:"px",label:"px",min:0,max:100},{value:"em",label:"em",min:0,max:10},{value:"%",label:"%",min:0,max:100}]},classes:!0,bindable:!0,responsive:!0,states:!0,defaultValue:"1em",responsive:!0,hidden:e=>e.type!=="currency"},currencySymbolPadding:{label:{en:"Symbol padding"},type:"Length",options:{unitChoices:[{value:"px",label:"px",min:0,max:100},{value:"em",label:"em",min:0,max:10},{value:"%",label:"%",min:0,max:100}]},classes:!0,bindable:!0,responsive:!0,states:!0,defaultValue:"4px",responsive:!0,hidden:e=>e.type!=="currency"}}},n6={editor:{label:{en:"Date picker"},icon:"calendar",bubble:{icon:"calendar"},customStylePropertiesOrder:["lang","format","customFormat",{label:"Display",isCollapsible:!0,properties:["orientation","menuPosition","enableCalendarOnly","stickedDatePicker","calendarOnlyFit","enableLeftSidebar","enableRightSidebar","enableMultiCalendars","multiCalendars","multiCalendarsSolo"]},{label:"Style",isCollapsible:!0,properties:["themeFontFamily","themeFontSize","themeTimeFontSize","advancedStyles","themePreviewFontSize","themeBorderRadius","themeCellBorderRadius","themeCellSize","themeCellPadding","themeMenuMinWidth"]},{label:"Colors",isCollapsible:!0,properties:["themePrimaryColor","themeSecondaryColor","themeBackgroundColor","themeTextColor","themePrimaryTextColor","themeHoverColor","themeDisabledColor","advancedColors","themeHoverTextColor","themeHoverIconColor","themeBorderColor","themeMenuBorderColor","themeBorderHoverColor","themeScrollBarBackgroundColor","themeScrollBarColor","themeSuccessColor","themeSuccessDisabledColor","themeIconColor","themeDangerColor","themeHighlightColor"]}],customSettingsPropertiesOrder:["readonly","required",{label:"Selection",isCollapsible:!0,properties:["selectionMode","initValueSingle","initValueRangeStart","initValueRangeEnd","initValueMulti","multiDatesLimit","rangeMode","autoRange","enablePartialRange","minRange","maxRange","noDisabledRange"]},{label:"Behavior",isCollapsible:!0,properties:["autoApply","closeOnAutoApply"]},{label:"Time",isCollapsible:!0,properties:["dateMode","timezone","use24","enableSeconds"]},{label:"Dates",isCollapsible:!0,properties:["startDate","minDate","maxDate","advancedDates","preventMinMaxNavigation","ignoreTimeValidation","allowedDates","disabledDates","disabledWeekDays"]},{label:"Weeks / Months",isCollapsible:!0,properties:["weekStart","weekNumbers","hideOffsetDates","disableMonthYearSelect"]},{label:"Flow",isCollapsible:!0,properties:["enableFlow","flowHint","flowSteps"]}]},triggerEvents:[{name:"change",label:{en:"On change"},event:{value:"2023-03-02T14:54:54.727Z"}},{name:"initValueChange",label:{en:"On init value change"},event:{value:"2023-03-02T14:54:54.727Z"}},{name:"onFlowStep",label:{en:"On flow step"},event:{value:1}}],actions:[{label:"Clear",action:"clearValue"},{label:"Open Menu",action:"openMenu"},{label:"Close Menu",action:"closeMenu"}],properties:{initValueSingle:{label:{en:"Init value"},type:"Text",defaultValue:null,bindable:!0,section:"settings",hidden:e=>e.selectionMode!=="single"},initValueRangeStart:{label:{en:"Init value start"},type:"Text",defaultValue:null,bindable:!0,section:"settings",hidden:e=>e.selectionMode!=="range"},initValueRangeEnd:{label:{en:"Init value end"},type:"Text",defaultValue:null,bindable:!0,section:"settings",hidden:e=>e.selectionMode!=="range"},initValueMulti:{label:{en:"Init value"},type:"Array",defaultValue:null,bindable:!0,section:"settings",hidden:e=>e.selectionMode!=="multi"},advancedColors:{label:{en:"Advanced"},section:"style",defaultValue:!1,type:"TextRadioGroup",options:{choices:[{value:!0,label:{en:"Show"}},{value:!1,label:{en:"Hide"}}]}},advancedStyles:{label:{en:"Advanced"},section:"style",defaultValue:!1,type:"TextRadioGroup",options:{choices:[{value:!0,label:{en:"Show"}},{value:!1,label:{en:"Hide"}}]}},advancedDates:{label:{en:"Advanced"},section:"settings",defaultValue:!1,type:"TextRadioGroup",options:{choices:[{value:!0,label:{en:"Show"}},{value:!1,label:{en:"Hide"}}]}},enableCalendarOnly:{label:{en:"Calendar only",fr:"Calendrier seul"},type:"OnOff",defaultValue:!1,states:!0,classes:!0},stickedDatePicker:{label:{en:"Sticked date picker",fr:"Date picker fix"},type:"OnOff",defaultValue:!1,states:!0,classes:!0,bindable:!0,propertyHelp:{tooltip:"If set to `true`, the date picker will be rendered at trigger button level and not above all elements. This may be useful in the case of a date picker in a pop-up."}},calendarOnlyFit:{label:{en:"Fit"},section:"style",defaultValue:"stretch",type:"TextRadioGroup",options:{choices:[{value:"stretch",label:{en:"Stretch"}},{value:"center",label:{en:"Center"}}]},states:!0,classes:!0,hidden:e=>!e.enableCalendarOnly},enableLeftSidebar:{label:{en:"Left sidebar"},type:"OnOff",defaultValue:!1,hidden:e=>e.enableCalendarOnly},enableRightSidebar:{label:{en:"Right sidebar"},type:"OnOff",defaultValue:!1,hidden:e=>e.enableCalendarOnly},menuPosition:{label:{en:"Menu position",fr:"Menu position"},type:"TextSelect",options:{options:[{value:"center",label:{en:"Center"},default:!0},{value:"left",label:{en:"Left"}},{value:"right",label:{en:"Right"}}]},states:!0,classes:!0,responsive:!0,defaultValue:"center"},selectionMode:{label:{en:"Mode",fr:"Mode"},type:"TextSelect",section:"settings",options:{options:[{value:"single",label:{en:"Single"}},{value:"range",label:{en:"Range"}},{value:"multi",label:{en:"Multi dates"}}]},defaultValue:"single"},dateMode:{label:{en:"Mode",fr:"Mode"},type:"TextSelect",section:"settings",options:e=>({options:[{value:"datetime",label:{en:"Datetime"},support:["single","range","multi"]},{value:"date",label:{en:"Date"},support:["single","range","multi"]},{value:"time",label:{en:"Time"},support:["single","range"]},{value:"month",label:{en:"Month"},support:["single","range"]},{value:"year",label:{en:"Year"},support:["single","range"]}].filter(r=>r.support.includes(e.selectionMode))}),defaultValue:"datetime"},enableSeconds:{label:{en:"Enable seconds",fr:"Activer les secondes"},type:"OnOff",section:"settings",defaultValue:!1,hidden:e=>!["datetime","time"].includes(e.dateMode)},use24:{label:{en:"24h mode",fr:"Mode 24h"},type:"OnOff",section:"settings",defaultValue:!1,states:!0,classes:!0,responsive:!0,hidden:e=>!["datetime","time"].includes(e.dateMode)},multiDatesLimit:{label:{en:"Multi dates limit"},type:"Number",section:"settings",defaultValue:0,hidden:e=>e.selectionMode!=="multi"},enableMultiCalendars:{label:{en:"Multi calendars",fr:"Calendriers multiple"},type:"OnOff",section:"style",defaultValue:!1,hidden:e=>e.selectionMode!=="range"||!["datetime","date","week"].includes(e.dateMode)},multiCalendars:{label:{en:"Calendars number"},type:"Number",section:"style",defaultValue:2,options:{min:2,max:4,step:1},hidden:e=>e.selectionMode!=="range"||!["datetime","date","week"].includes(e.dateMode)||!e.enableMultiCalendars},multiCalendarsSolo:{label:{en:"Independant calendars",fr:"Calendriers indpendants"},type:"OnOff",section:"style",defaultValue:!1,hidden:e=>e.selectionMode!=="range"||!["datetime","date","week"].includes(e.dateMode)||!e.enableMultiCalendars},rangeMode:{label:{en:"Range mode",fr:"Range mode"},type:"TextSelect",section:"settings",options:{options:[{value:"free",label:{en:"Free"}},{value:"auto",label:{en:"Auto"}},{value:"minmax",label:{en:"Min Max"}}]},bindable:!0,defaultValue:"free",hidden:e=>e.selectionMode!=="range"},enablePartialRange:{label:{en:"Partial range",fr:"Range partiel"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!0,hidden:e=>e.selectionMode!=="range"||e.rangeMode!=="free"||e.rangeMode==="free"&&e.enableCalendarOnly},autoRange:{label:{en:"Auto range days"},type:"Number",section:"settings",bindable:!0,defaultValue:1,hidden:e=>e.selectionMode!=="range"||e.rangeMode!=="auto"},minRange:{label:{en:"Min range days"},type:"Number",section:"settings",bindable:!0,defaultValue:2,hidden:e=>e.selectionMode!=="range"||e.rangeMode!=="minmax"},maxRange:{label:{en:"Max range days"},type:"Number",section:"settings",bindable:!0,defaultValue:7,hidden:e=>e.selectionMode!=="range"||e.rangeMode!=="minmax"},orientation:{label:{en:"Orientation",fr:"Orientation"},type:"TextSelect",options:{options:[{value:"horizontal",label:{en:"Horizontal"},default:!0},{value:"vertical",label:{en:"Vertical"}}]},states:!0,classes:!0,responsive:!0},timezone:{label:{en:"Timezone",fr:"Fuseau horaire"},type:"TextSelect",section:"settings",options:{options:[{value:"locale",label:{en:"Locale"}},{value:"Pacific/Midway",label:{en:"Pacific/Midway"}},{value:"America/Adak",label:{en:"America/Adak"}},{value:"Pacific/Gambier",label:{en:"Pacific/Gambier"}},{value:"America/Los_Angeles",label:{en:"America/Los_Angeles"}},{value:"America/Denver",label:{en:"America/Denver"}},{value:"America/Chicago",label:{en:"America/Chicago"}},{value:"America/New_York",label:{en:"America/New_York"}},{value:"America/Santiago",label:{en:"America/Santiago"}},{value:"America/Sao_Paulo",label:{en:"America/Sao_Paulo"}},{value:"America/Noronha",label:{en:"America/Noronha"}},{value:"Atlantic/Cape_Verde",label:{en:"Atlantic/Cape_Verde"}},{value:"UTC",label:{en:"UTC"}},{value:"Europe/Brussels",label:{en:"Europe/Brussels"}},{value:"Africa/Cairo",label:{en:"Africa/Cairo"}},{value:"Europe/Minsk",label:{en:"Europe/Minsk"}},{value:"Europe/Moscow",label:{en:"Europe/Moscow"}},{value:"Asia/Tashkent",label:{en:"Asia/Tashkent"}},{value:"Asia/Dhaka",label:{en:"Asia/Dhaka"}},{value:"Asia/Novosibirsk",label:{en:"Asia/Novosibirsk"}},{value:"Australia/Perth",label:{en:"Australia/Perth"}},{value:"Asia/Tokyo",label:{en:"Asia/Tokyo"}},{value:"Australia/Hobart",label:{en:"Australia/Hobart"}},{value:"Asia/Vladivostok",label:{en:"Asia/Vladivostok"}},{value:"Pacific/Auckland",label:{en:"Pacific/Auckland"}}]},defaultValue:"locale",bindable:!0,hidden:e=>!["datetime"].includes(e.dateMode)},enableFlow:{label:{en:"Flow",fr:"Flow"},type:"OnOff",bindable:!0,section:"settings",defaultValue:!1,hidden:e=>e.enableMultiCalendars},flowHint:{label:{en:"Hint",fr:"Hint"},type:"Info",options:{text:{en:"Order the flow steps"}},section:"settings",editorOnly:!0,hidden:e=>!e.enableFlow},flowSteps:{label:{en:"Steps",fr:"Steps"},type:"Array",section:"settings",options:{item:{type:"TextSelect",options:{options:[{value:"month",label:{en:"Month"}},{value:"year",label:{en:"Year"}},{value:"calendar",label:{en:"Calendar"}},{value:"time",label:{en:"Time"}},{value:"minutes",label:{en:"Minutes"}},{value:"hours",label:{en:"Hours"}},{value:"seconds",label:{en:"Seconds"}}]}},movable:!0,getItemLabel(e,r){return`Step ${r+1}`}},defaultValue:["month","year","calendar","time","minutes","hours","seconds"],hidden:e=>!e.enableFlow},readonly:{label:{en:"Read only",fr:"Lecture seule"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:(e,r,n,l)=>!!(l&&l.readonly!==void 0)},required:{label:{en:"Required",fr:"Requis"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1},lang:{label:{en:"Lang",fr:"Lang"},type:"TextSelect",options:()=>{const e=wwLib.wwWebsiteData.getCurrentPage().langs.map(r=>({value:r,label:{en:r}}));return e.unshift({value:"pageLang",label:"Page lang"}),{options:e}},defaultValue:"pageLang",bindable:!0},format:{label:{en:"Format",fr:"Format"},type:"TextSelect",options:{options:[{value:"DD/MM/YYYY",label:{en:"DD/MM/YYYY"}},{value:"MMMM D, YYYY",label:{en:"MMMM D, YYYY"}},{value:"MMM D, YYYY",label:{en:"MMM D, YYYY"}},{value:"h:mm A",label:{en:"h:mm A"}},{value:"h:mm:ss A",label:{en:"h:mm:ss A"}},{value:"MMM D, YYYY h:mm A",label:{en:"MMM D, YYYY h:mm A"}},{value:"custom",label:{en:"Custom"}}]},defaultValue:"DD/MM/YYYY"},customFormat:{label:{en:"Custom Format",fr:"Custom Format"},type:"Text",options:{placeholder:"MMMM D, YYYY h:mm A"},bindable:!0,defaultValue:"",hidden:e=>e.format!=="custom"},autoApply:{label:{en:"Auto apply"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:e=>e.dateMode==="time"},closeOnAutoApply:{label:{en:"Close on auto apply"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!0,hidden:e=>!e.autoApply||e.dateMode==="time"},weekNumbers:{label:{en:"Week numbers"},type:"TextSelect",section:"settings",options:{options:[{value:"none",label:{en:"None"}},{value:"local",label:{en:"Local"}},{value:"iso",label:{en:"ISO"}}]},bindable:!0,defaultValue:"none"},weekStart:{label:{en:"Week start"},type:"TextSelect",section:"settings",options:{options:[{value:"0",label:{en:"Sunday"}},{value:"1",label:{en:"Monday"}},{value:"2",label:{en:"Tuesday"}},{value:"3",label:{en:"Wednesday"}},{value:"4",label:{en:"Thursday"}},{value:"5",label:{en:"Friday"}},{value:"6",label:{en:"Saturday"}}]},bindable:!0,defaultValue:"1"},hideOffsetDates:{label:{en:"Hide offset dates"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1},minDate:{label:{en:"Min date"},type:"Text",section:"settings",bindable:!0,defaultValue:null},maxDate:{label:{en:"Max date"},type:"Text",section:"settings",bindable:!0,defaultValue:null},preventMinMaxNavigation:{label:{en:"Prevent min/max navigation"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:e=>!e.advancedDates},ignoreTimeValidation:{label:{en:"Ignore time validation"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:e=>!e.advancedDates},startDate:{label:{en:"Start date"},type:"Text",section:"settings",bindable:!0,defaultValue:null},disableMonthYearSelect:{label:{en:"Disable month/year select"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1},allowedDates:{label:{en:"Allowed dates"},type:"Array",section:"settings",options:{item:{type:"Text",defaultValue:"2023-03-06"}},bindable:!0,defaultValue:[],hidden:e=>!e.advancedDates},disabledDates:{label:{en:"Disabled dates"},type:"Array",section:"settings",options:{item:{type:"Text",defaultValue:"2023-03-06"}},bindable:!0,defaultValue:[],hidden:e=>!e.advancedDates},disabledWeekDays:{label:{en:"Disabled week days"},type:"Array",section:"settings",options:{item:{type:"TextSelect",options:{options:[{value:"0",label:{en:"Sunday"}},{value:"1",label:{en:"Monday"}},{value:"2",label:{en:"Tuesday"}},{value:"3",label:{en:"Wednesday"}},{value:"4",label:{en:"Thursday"}},{value:"5",label:{en:"Friday"}},{value:"6",label:{en:"Saturday"}}]}}},bindable:!0,defaultValue:[],hidden:e=>!e.advancedDates},noDisabledRange:{label:{en:"No disabled range"},type:"OnOff",section:"settings",bindable:!0,defaultValue:!1,hidden:e=>e.selectionMode!=="range"},themeFontFamily:{type:"FontFamily",label:{en:"Font family"},responsive:!0,states:!0,classes:!0},themeFontSize:Pd("Font size",16,48),themeTimeFontSize:Pd("Time font size",32,48),themeBorderRadius:Pd("Border radius",4,20,!0),themeCellBorderRadius:Pd("Cell border radius",4,20,!0),themePreviewFontSize:Pd("Preview font size",13,48,!0),themeMenuMinWidth:Pd("Menu min width",250,300,!0),themeCellSize:Pd("Cell size",35,100,!0),themeCellPadding:Pd("Cell padding",5,32,!0),themePrimaryColor:ea("Primary Color","#1976d2"),themeSecondaryColor:ea("Secondary Color","#c0c4cc"),themeBackgroundColor:ea("Background Color","#ffffff"),themeTextColor:ea("Text Color","#212121"),themePrimaryTextColor:ea("Primary Text Color","#f8f5f5"),themeHoverColor:ea("Hover Color","#f3f3f3"),themeDisabledColor:ea("Disabled Color","#f6f6f6"),themeHoverTextColor:ea("Hover Text Color","#212121",!0),themeHoverIconColor:ea("Hover Icon Color","#959595",!0),themeBorderColor:ea("Border Color","#ddd",!0),themeMenuBorderColor:ea("Menu Border Color","#ddd",!0),themeBorderHoverColor:ea("Border Hover Color","#aaaeb7",!0),themeScrollBarBackgroundColor:ea("Scrollbar background Color","#f3f3f3",!0),themeScrollBarColor:ea("Scrollbar Color","#959595",!0),themeSuccessColor:ea("Success Color","#76d275",!0),themeSuccessDisabledColor:ea("Success Disabled Color","#a3d9b1",!0),themeIconColor:ea("Icon Color","#959595",!0),themeDangerColor:ea("Danger Color","#ff6f60",!0),themeHighlightColor:ea("Highlight Color","#1976d219",!0),triggerZone:{hidden:!0,defaultValue:[{isWwObject:!0,type:"ww-text",state:{name:"Date input"}}],navigator:{group:"Trigger"}},leftSidebarZone:{hidden:!0,defaultValue:[],navigator:{group:"Left Sidebar"}},rightSidebarZone:{hidden:!0,defaultValue:[],navigator:{group:"Right Sidebar"}},actionSelectElement:{hidden:!0,defaultValue:{isWwObject:!0,type:"ww-button",state:{name:"Select button"},content:{default:{text:"Select"}}},navigator:{group:"Actions"}}}};function ea(e,r,n){return{label:{en:e},type:"Color",defaultValue:r,bindable:!0,responsive:!0,states:!0,classes:!0,hidden:n?l=>!l.advancedColors:void 0}}function Pd(e,r,n,l){return{type:"Length",label:{en:e},bindable:!0,options:{unitChoices:[{value:"px",label:"px",min:1,max:n}]},responsive:!0,classes:!0,states:!0,defaultValue:r+"px",hidden:l?p=>!p.advancedStyles:void 0}}const i6={options:{displayAllowedValues:["flex","block","inline-block","inline-flex"]},inherit:{type:"ww-layout"},editor:{label:{fr:"Conteneur de formulaire",en:"Form Container"},icon:"pencil",bubble:{icon:"pencil"},customStylePropertiesOrder:["validation","debounceDelay"],hint:()=>{const e=wwLib.wwUtils.getSelectedComponent();return!e||e.querySelector('[data-ww-flag="btn-submit"]')?!1:{section:"workflows",type:"warning",header:{en:"Submit button missing!",fr:"Bouton de soumission manquant !"},text:{en:'A form container require a button with type submit to use the "on submit" trigger.',fr:"Un conteneur de formulaire  besoin d'un bouton avec le type submit pour dlencher l'vnement de soumission."}}}},actions:[{label:"Set form state",action:"_setFormState",args:[{name:"isSubmitting",type:"boolean"},{name:"isSubmitted",type:"boolean"}]},{label:"Submit form",action:"submitForm"},{label:"Reset form",action:"resetForm",args:[{name:"initialValues",type:"object",required:!1}]}],triggerEvents:[{name:"submit",label:{en:"On submit"},default:!0},{name:"submit-validation-error",label:{en:"On submit validation error"},default:!0}],properties:{validation:{section:"settings",label:"Validation",type:"TextSelect",options:{options:[{value:"submit",label:"On form submit"},{value:"change",label:"On input change"}]},bindable:!0,defaultValue:"submit",bindingValidation:{type:"string",tooltip:"Which event to trigger the form validation on. Either `submit` or `change`",enum:["change","submit"]}},debounceDelay:{section:"settings",type:"Length",label:{en:"Validation delay"},options:{unitChoices:[{value:"ms",label:"ms",min:1,max:5e3}]},defaultValue:"500ms",hidden:e=>e.validation!=="change",bindable:!0,bindingValidation:{type:"string",tooltip:"The delay before triggering the form validation in milliseconds. Must be between `1` and `5000`"}},formContent:{hidden:!0,defaultValue:[]},autocomplete:{section:"settings",label:{en:"Autocomplete",fr:"Autocompltion"},type:"OnOff",defaultValue:!0}}},f0=d0("componentBases",()=>{let e;return e={"plugin-29809245-a5ea-4687-af79-952998abab22":bi({...Lj,name:"plugin-29809245-a5ea-4687-af79-952998abab22"}),"plugin-832d6f7a-42c3-43f1-a3ce-9a678272f811":bi({...Tj,name:"plugin-832d6f7a-42c3-43f1-a3ce-9a678272f811"}),"plugin-00d22f72-1a03-44f8-ad68-c593dc80b543":bi({...Ej,name:"plugin-00d22f72-1a03-44f8-ad68-c593dc80b543"}),"plugin-f5856798-485d-47be-b433-d43d771c64e1":bi({...kj,name:"plugin-f5856798-485d-47be-b433-d43d771c64e1"}),"plugin-2bd1c688-31c5-443e-ae25-59aa5b6431fb":bi({...Aj,name:"plugin-2bd1c688-31c5-443e-ae25-59aa5b6431fb"}),"plugin-cd33cf33-e29f-4e8c-ac26-b997fe507ce7":bi({...Cj,name:"plugin-cd33cf33-e29f-4e8c-ac26-b997fe507ce7"}),"plugin-fbf0feec-356b-461b-8738-3b1f44edaf02":bi({...Dj,name:"plugin-fbf0feec-356b-461b-8738-3b1f44edaf02"}),"plugin-2adce8d5-2056-479d-a21a-068f55a8077f":bi({...Ij,name:"plugin-2adce8d5-2056-479d-a21a-068f55a8077f"}),"section-99586bd3-2b15-4d6b-a025-6a50d07ca845":bi({...Pj,name:"section-99586bd3-2b15-4d6b-a025-6a50d07ca845"}),"section-ef0ecc71-9a59-4eab-94b0-b36d66d3d61d":bi({...Oj,name:"section-ef0ecc71-9a59-4eab-94b0-b36d66d3d61d"}),"wwobject-2d18ef4c-e9e5-4dc6-a29d-01d9f797be5e":bi({...Rj,name:"wwobject-2d18ef4c-e9e5-4dc6-a29d-01d9f797be5e"}),"wwobject-21881619-a984-4847-81a9-922c3dbb5853":bi({...Fj,name:"wwobject-21881619-a984-4847-81a9-922c3dbb5853"}),"wwobject-700d9467-e29c-4129-b103-664e9d8611dd":bi({...zj,name:"wwobject-700d9467-e29c-4129-b103-664e9d8611dd"}),"wwobject-0d3e75d1-9e77-44cb-a272-8b0825fbc5da":bi({...Yj,name:"wwobject-0d3e75d1-9e77-44cb-a272-8b0825fbc5da"}),"wwobject-69d0b3ef-b265-494c-8cd1-874da4aa1834":bi({...Bj,name:"wwobject-69d0b3ef-b265-494c-8cd1-874da4aa1834"}),"wwobject-83d890fb-84f9-4386-b459-fb4be89a8e15":bi({...jj,name:"wwobject-83d890fb-84f9-4386-b459-fb4be89a8e15"}),"wwobject-6ba133b6-a444-414f-93a5-25cd237dd398":bi({...$j,name:"wwobject-6ba133b6-a444-414f-93a5-25cd237dd398"}),"wwobject-af811adf-94d9-49dd-ab22-e2f29ae30299":bi({...Vj,name:"wwobject-af811adf-94d9-49dd-ab22-e2f29ae30299"}),"wwobject-6f8796b1-8273-498d-95fc-7013b7c63214":bi({...Uj,name:"wwobject-6f8796b1-8273-498d-95fc-7013b7c63214"}),"wwobject-73a13eff-bdc7-4021-bdc6-413c97fe91c1":bi({...Nj,name:"wwobject-73a13eff-bdc7-4021-bdc6-413c97fe91c1"}),"wwobject-d7904e9d-fc9a-4d80-9e32-728e097879ad":bi({...Hj,name:"wwobject-d7904e9d-fc9a-4d80-9e32-728e097879ad"}),"wwobject-9202d35c-2813-45bc-a7f3-0adb85f83e5e":bi({...qj,name:"wwobject-9202d35c-2813-45bc-a7f3-0adb85f83e5e"}),"wwobject-2fd375f8-f5c7-4d81-881d-dacd40bc0ad3":bi({...Gj,name:"wwobject-2fd375f8-f5c7-4d81-881d-dacd40bc0ad3"}),"wwobject-aa27b26f-0686-4c29-98c5-8217044045b7":bi({...Wj,name:"wwobject-aa27b26f-0686-4c29-98c5-8217044045b7"}),"wwobject-6dee3327-9afa-4b44-bade-bdb547cdb18b":bi({...Zj,name:"wwobject-6dee3327-9afa-4b44-bade-bdb547cdb18b"}),"wwobject-3a7d6379-12d3-4387-98ff-b332bb492a63":bi({...Xj,name:"wwobject-3a7d6379-12d3-4387-98ff-b332bb492a63"}),"wwobject-b783dc65-d528-4f74-8c14-e27c934c39b1":bi({...Kj,name:"wwobject-b783dc65-d528-4f74-8c14-e27c934c39b1"}),"wwobject-53401515-b694-4c79-a88d-abeecb1de562":bi({...Jj,name:"wwobject-53401515-b694-4c79-a88d-abeecb1de562"}),"wwobject-1d0468f8-4d33-46fb-9c58-b3742aa7d55a":bi({...Qj,name:"wwobject-1d0468f8-4d33-46fb-9c58-b3742aa7d55a"}),"wwobject-faf7b16f-26ea-4368-8720-1563d265cd31":bi({...e6,name:"wwobject-faf7b16f-26ea-4368-8720-1563d265cd31"}),"wwobject-a6cb6a4d-6af7-4cd6-b530-a15d9ec64488":bi({...t6,name:"wwobject-a6cb6a4d-6af7-4cd6-b530-a15d9ec64488"}),"wwobject-deb10a01-5eef-4aa1-9017-1b51c2ad6fd0":bi({...r6,name:"wwobject-deb10a01-5eef-4aa1-9017-1b51c2ad6fd0"}),"wwobject-985570fc-b3c0-4566-8004-82ab3b30a11d":bi({...n6,name:"wwobject-985570fc-b3c0-4566-8004-82ab3b30a11d"}),"wwobject-9ecb2cfc-cef7-4be8-b736-3e17a3b7e9ff":bi({...i6,name:"wwobject-9ecb2cfc-cef7-4be8-b736-3e17a3b7e9ff"})},{configurations:e}});function NL(e,r,n=!1){const l=sm(e,r,n);return xR(e,l)}function xR(e,r){return r?e==="element"?`wwobject-${r}`:e==="section"?`section-${r}`:null:null}function sm(e,r,n=!1){var l,p,h,c;if(r!=null&&r.startsWith("popup-"))return(l=vh(wwLib.$pinia).instances[r])==null?void 0:l.libraryComponentBaseId;if(e==="element")return(p=wwLib.$store.getters["websiteData/getWwObjects"][r])==null?void 0:p.wwObjectBaseId;if(e==="libraryComponent")return(h=wwLib.$store.getters["websiteData/getWwObjects"][r])==null?void 0:h.libraryComponentBaseId;if(e==="section"){const M=(c=wwLib.$store.getters["websiteData/getSections"][r])==null?void 0:c.sectionBaseId;return M||(n||wwLib.wwLog.error(`Component base not found : ${e} / ${r}`),null)}return null}function MR(e){return f0(wwLib.$pinia).configurations[e]||{}}function HL(e,r,n=!1){var p;if(e==="libraryComponent"){const h=sm(e,r,n);return((p=wwLib.$store.getters["libraries/getComponents"][h])==null?void 0:p.configuration)||{}}const l=NL(e,r,n);return MR(l)}function o6(e,r){var l;if(e==="libraryComponent")return((l=wwLib.$store.getters["libraries/getComponents"][r])==null?void 0:l.configuration)||{};const n=xR(e,r);return MR(n)}function SR(e,r){if(!e)return"";const{label:n,deprecated:l}=r.editor||{};let p="";return e==="section"?wwLib.wwManagerLang?p=wwLib.wwManagerLang.getText(n)||"Section":p=n&&n.en?n.en:"Section":wwLib.wwManagerLang?p=wwLib.wwManagerLang.getText(n)||"Element":p=n&&n.en?n.en:"Element",`${p}${l?" - Deprecated":""}`}function a6(e,r){var l;if(e==="libraryComponent"){const h=(((l=wwLib.$store.getters["libraries/getComponents"][r])==null?void 0:l.name)||"Component").split("/");return h[h.length-1]}const n=o6(e,r);return SR(e,n)}function h0(e,r){if(!e)return"";const n=c6(e,r);if(n)return n;if(e==="libraryComponent"){const p=sm(e,r);return a6(e,p)}const l=HL(e,r);return SR(e,l)}const JE=["none","false",!1,null,void 0];function s6(e){return typeof e=="string"?!JE.includes(e.toLowerCase()):!JE.includes(e)}const l6=["block","inline-block"];function u6(e,r){var n,l,p;return typeof((n=e==null?void 0:e.options)==null?void 0:n.displayAllowedValues)=="function"?(l=e==null?void 0:e.options)==null?void 0:l.displayAllowedValues(r==null?void 0:r.content,r==null?void 0:r.wwProps):((p=e==null?void 0:e.options)==null?void 0:p.displayAllowedValues)||l6}function p0(e,r,n){if(!s6(e))return"none";const p=u6(r,n);return typeof e=="string"&&p.includes(e.toLowerCase())?e.toLowerCase():p[0]}function js(e,r="unset"){return!e||e==="auto"?r:e}function c6(e,r){if(!e)return"";if(r!=null&&r.startsWith("popup-"))return null;if(e==="section"){const{sectionTitle:n}=wwLib.$store.getters["websiteData/getSections"][r]||{};return n}else{const{name:n}=wwLib.$store.getters["websiteData/getWwObjects"][r]||{name:"Element undefined"};return n}}const Od={backgroundOrder:{label:"Order",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{type:"string",markdown:"background.order"}},backgroundColor:{label:"Color",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{markdown:"background.color",type:"string",cssSupports:"color"}},backgroundGradient:{label:"Gradient",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{markdown:"background",type:"string",cssSupports:"background"}},backgroundImage:{label:"Image",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{markdown:"background.image",type:"string",cssSupports:"backgroundImage"}},backgroundSize:{label:"Size",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{markdown:"background.size",type:"string",cssSupports:"backgroundSize"}},backgroundRepeat:{label:"Repeat",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{markdown:"background.repeat",type:"string",cssSupports:"backgroundRepeat"}},backgroundAttachment:{label:"Attachment",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{markdown:"background.attachment",type:"string",cssSupports:"backgroundAttachment"}},backgroundPositionX:{label:"Position X",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{markdown:"background.position.x",type:"string",cssSupports:"backgroundPositionX"}},backgroundPositionY:{label:"Position Y",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",bindingValidation:{markdown:"background.position.y",type:"string",cssSupports:"backgroundPositionY"}},backgroundVideo:{label:"Video",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",componentType:"section",bindingValidation:{markdown:"background.video",type:"string"}},backgroundVideoPoster:{label:"Poster",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",componentType:"section",bindingValidation:{markdown:"background.video.poster",type:"string"}},backgroundVideoSize:{label:"Size",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",componentType:"section",bindingValidation:{markdown:"background.video.size",type:"string"}},backgroundVideoLoop:{label:"Loop",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",componentType:"section",bindingValidation:{markdown:"background.video.loop",type:"boolean"}},backgroundVideoPreload:{label:"Preload",responsive:!0,bindable:!0,states:!0,classes:!0,category:"background",componentType:"section",bindingValidation:{markdown:"background.video.preload",type:"boolean"}},align:{label:"Alignement",category:"display",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"align",type:"string",cssSupports:"align"}},columnSpan:{label:"Column span",category:"display",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"column-span",type:"string",cssSupports:"column-span"}},rowSpan:{label:"Row span",category:"display",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"row-span",type:"string",cssSupports:"row-span"}},gridColumn:{label:"Column position",category:"display",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"column-position",type:"string",cssSupports:"column-position"}},gridRow:{label:"Row position",category:"display",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"row-position",type:"string",cssSupports:"row-position"}},zIndex:{label:"Z index",responsive:!0,category:"advanced",bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"z-index",type:"string",cssSupports:"z-index"}},overflow:{label:"Overflow",category:"advanced",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"overflow",type:"string",cssSupports:"overflow"}},position:{label:"Position",category:"advanced",responsive:!0,states:!0,classes:!0,bindingValidation:{markdown:"position",type:"string",cssSupports:"position"}},anchor:{label:"Anchor",category:"advanced",responsive:!0,states:!0,classes:!0},top:{label:"Top",category:"advanced",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"top",type:"string",cssSupports:"top"}},bottom:{label:"Bottom",category:"advanced",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"bottom",type:"string",cssSupports:"bottom"}},left:{label:"Left",category:"advanced",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"left",type:"string",cssSupports:"left"}},right:{label:"Right",category:"advanced",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"right",type:"string",cssSupports:"right"}},height:{label:"Height",category:"sizing",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"height",type:"string",cssSupports:"height"}},aspectRatio:{label:"Aspect ratio",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"aspectRatio",type:"string",cssSupports:"aspect-ratio"}},minHeight:{label:"Min height",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"min-height",type:"string",cssSupports:"min-height"}},maxHeight:{label:"Max height",category:"sizing",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"max-height",type:"string",cssSupports:"max-height"}},width:{label:"Width",category:"sizing",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"width",type:"string",cssSupports:"width"}},minWidth:{label:"Min width",category:"sizing",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"min-width",type:"string",cssSupports:"min-width"}},maxWidth:{label:"Max width",category:"sizing",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"max-width",type:"string",cssSupports:"max-width"}},padding:{label:"Padding",category:"spacing",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"padding",type:"string",cssSupports:"padding"}},margin:{label:"Margin",category:"spacing",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"margin",type:"string",cssSupports:"margin"}},border:{label:"Border",category:"borders-shadows",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"border",type:"string",cssSupports:"border"}},borderTop:{label:"Border top",category:"borders-shadows",bindable:!0,responsive:!0,states:!0,classes:!0,bindingValidation:{markdown:"border-top",type:"string",cssSupports:"border-top"}},borderBottom:{label:"Border bottom",category:"borders-shadows",bindable:!0,responsive:!0,states:!0,classes:!0,bindingValidation:{markdown:"border-bottom",type:"string",cssSupports:"border-bottom"}},borderRight:{label:"Border right",category:"borders-shadows",bindable:!0,responsive:!0,states:!0,classes:!0,bindingValidation:{markdown:"border-right",type:"string",cssSupports:"border-right"}},borderLeft:{label:"Border left",category:"borders-shadows",bindable:!0,responsive:!0,states:!0,classes:!0,bindingValidation:{markdown:"border-left",type:"string",cssSupports:"border-left"}},outline:{label:"Outline",category:"borders-outline",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"outline",type:"string",cssSupports:"outline"}},outlineOffset:{label:"Outline Offset",category:"borders-outline",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"outline-offset",type:"string",cssSupports:"outline-offset"}},borderRadius:{label:"Border radius",category:"borders-shadows",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"border-radius",type:"string",cssSupports:"border-radius"}},boxShadow:{label:"Shadow",category:"borders-shadows",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"box-shadow",type:"string",cssSupports:"box-shadow"}},cursor:{label:"Cursor",category:"advanced",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"cursor",type:"string",cssSupports:"cursor"}},textAlign:{label:"Text align",category:"display",responsive:!0,bindable:!0,states:!0,classes:!0,bindingValidation:{markdown:"text-align",type:"string",cssSupports:"text-align"}},display:{label:"Display",category:"display",responsive:!0,bindable:!0,states:!0,classes:!0,defaultUndefined:!0,bindingValidation:{markdown:"display",validations:[{type:"string",cssSupports:"display"},{type:"boolean"}]}},customCss:{label:"Custom CSS",category:"custom-css",responsive:!0,states:!0,classes:!0},transform:{label:"Transform",category:"advanced",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"transform",type:"string",cssSupports:"transform"}},perspective:{label:"Perspective",category:"advanced",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"perspective",type:"string",cssSupports:"perspective"}},opacity:{label:"Opacity",category:"advanced",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"opacity",type:"number",cssSupports:"opacity"}},transition:{label:"Transition",category:"advanced",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"transition",type:"string",cssSupports:"transition"}},flex:{label:"Flex",category:"display",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"flex",type:"string",cssSupports:"flex"}},animationDuration:{label:"Duration",category:"animation",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"animation-duration",type:"string",cssSupports:"animation-duration"}},animationTimingFunction:{label:"Transition",category:"animation",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"animation-timing-function",type:"string",cssSupports:"animation-timing-function"}},animationDelay:{label:"Delay",category:"animation",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"animation-delay",type:"string",cssSupports:"animation-delay"}},animationIterationCount:{label:"Iterations",category:"animation",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"animation-iteration-count",validations:[{type:"string",cssSupports:"animation-iteration-count"},{type:"number",cssSupports:"animation-iteration-count"}]}},animationDirection:{label:"Alternate",category:"animation",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"animation-direction",type:"string",cssSupports:"animation-direction"}},animationPlayState:{label:"Run animation",category:"animation",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"animation-play-state",type:"string",cssSupports:"animation-play-state"}},animationFillMode:{label:"Fill mode",category:"animation",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"animation-fill-mode",type:"string",cssSupports:"animation-fill-mode"}},animationKeyframes:{label:"Keyframes",category:"animation",responsive:!0,states:!0,bindable:!0,classes:!0,bindingValidation:{markdown:"keyframes",type:"string"}},conditionalRendering:{label:"Conditional rendering",bindable:!0,defaultUndefined:!0,responsive:!0,states:!0,canReset:!0,bindingValidation:{validations:[{type:"boolean"}]}}},qp={id:{label:"Id",bindable:!0,category:"attributes"},class:{label:"Class",bindable:!0,classes:!0,category:"attributes"},attributes:{label:"Attributes",type:"Array",category:"attributes",options:{item:{type:"Object",defaultValue:{name:"",value:""},options:{item:{name:{type:"Text",options:{placeholder:"Name",prevent:[/ /g]},bindable:!0},value:{type:"Text",options:{placeholder:"Value"},bindable:!0}}}}},bindable:!0,classes:!0},link:{type:"Object",options:{item:{type:{},pageId:{bindable:!0},parameters:{bindable:!0},sectionId:{bindable:!0},href:{bindable:!0},file:{bindable:!0},targetBlank:{bindable:!0},background:{bindable:!0},content:{},query:{type:"Array",options:{item:{type:"Object",options:{item:{name:{type:"Text",options:{placeholder:"Name"}},value:{type:"Text",bindable:!0,options:{placeholder:"Value"}}}}}}}}},bindable:!0},watchScrollPosition:{category:"advancedInteractions"},interactions:{noRootMerge:!0},hydrate:{},forceRendering:{editorOnly:!0},states:{noRootMerge:!0},libraryComponentInjected:{noRootMerge:!0},dropzoneContext:{noRootMerge:!0,bindable:!0}},{replace:d6}="",f6=/[&<>'"]/g,h6={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},p6=e=>h6[e],LR=e=>d6.call(e,f6,p6);function th(e){return!(!e||Array.isArray(e)||typeof e!="object")}const m6=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,qL={if(e,r,n){return e?r:n},ifEmpty(e,r){return wwLib.wwUtils.isEmpty(e)?r:e},ifempty(e,r){return wwLib.wwLog.error("ifempty is deprecated. Please use ifEmpty instead"),this.ifEmpty(e,r)},not(e){return!e},compare(e,r){return hn.isEqual(e,r)},switch(e,r,n,...l){const p=[r,n,...l].filter((M,s)=>s%2===0),h=[r,n,...l].filter((M,s)=>s%2===1),c=p.findIndex(M=>M===e);return c===-1?p.length>h.length?p[h.length]:void 0:h[c]},average(e,...r){return Array.isArray(e)||(e=[e,...r]),e.length===0?0:e.reduce((n,l)=>n+l,0)/e.length},sum(e,...r){return Array.isArray(e)||(e=[e,...r]),e.reduce((n,l)=>n+l,0)},round(e,r=0){const n=Math.pow(10,r);return Math.round(e*n)/n},length(e){if(typeof e=="string")return e.length;if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection) or a string";return e.length},keys(e){if(!th(e))throw"First parameter must be an object";return Object.keys(e)},values(e){if(!th(e))throw"First parameter must be an object";return Object.values(e)},objectToArray(e){if(!th(e))throw"First parameter must be an object";return Object.entries(e)},slice(e,r,n){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return e.slice(r,n)},merge(...e){const r=e.map(n=>{const l=wwLib.wwUtils.getDataFromCollection(n);if(!Array.isArray(l))throw"All parameters must be arrays (or collections)";return l});return[].concat(...r)},contains(e,r){if(!e&&e!=="")return!1;if(typeof e=="string")return e.includes(r);if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection) or a string";return e.includes(r)},map(e,r,...n){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return n.length===0?e.map(l=>l&&_.get(l,r)):(n=[r,...n],e.map(l=>{if(l){const p={};for(let h of n)p[h]=l[h];return p}else return{}}))},reverse(e){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return[...e].reverse()},distinct(e){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return e.reduce((r,n)=>(r.some(l=>_.isEqual(n,l))||r.push(n),r),[])},groupBy(e,r){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";const n={};for(let l of e){const p=_.get(l,r);l&&(n[p]?n[p].push(l):n[p]=[l])}return n},rollupSum(e,r){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return e.reduce((n,l)=>l&&_.get(l,r)?n+parseFloat(_.get(l,r)):n,0)},rollupCount(e,r){return wwLib.wwLog.error("rollupCount is deprecated. Please use rollupSum instead"),this.rollupSum(e,r)},sort(e,r="asc",n){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";const l=r==="asc"?1:-1,p=r==="asc"?-1:1;return n?[...e].sort((h,c)=>(h&&_.get(h,n)||"")>(c&&_.get(c,n)||"")?l:p):[...e].sort((h,c)=>(h||"")>(c||"")?l:p)},flat(e){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return e.flat()},concatenate(...e){return`${e.join("")}`},split(e,r){if(!e||typeof e!="string")throw"First parameter must be a text";return e.split(r)},lower(e){if(!e||typeof e!="string")throw"First parameter must be a text";return e.toLowerCase()},lowercase(e){if(!e||typeof e!="string")throw"First parameter must be a text";return e.toLowerCase()},capitalize(e){if(!e||typeof e!="string")throw"First parameter must be a text";let r="";for(let n=0;n<e.length;n++){let l=n===0?" ":e[n-1];l===" "||l.match(/[\u0020-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]/)&&l!=="'"&&l!=="_"||l==="'"&&(n<=1||e[n-2].match(/[\u0020-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]/))||l.match(/[\u00A0-\u00BF\u02B0-\u036F\u2000-\u206F\u20A0-\u20CF\u2100-\u218F]/)?r+=e[n]!=="_"?e[n].toUpperCase():e[n]:r+=e[n]}return r},uppercase(e){if(!e||typeof e!="string")throw"First parameter must be a text";return e.toUpperCase()},indexOf(e,r,n=0){if(!e||typeof e!="string")throw"First parameter must be a text";return e.indexOf(r,n)},add(e,...r){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return[...e,...r]},prepend(e,...r){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return[...r,...e]},remove(e,r){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return e.filter(n=>!_.isEqual(n,r))},filterByKey(e,r,n){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return n===void 0?e.filter(l=>_.get(l,r)):Array.isArray(n)?e.filter(l=>n.includes(_.get(l,r))):e.filter(l=>_.get(l,r)===n)},removeByKey(e,r,n){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return n===void 0?e.filter(l=>!_.get(l,r)):Array.isArray(n)?e.filter(l=>!n.includes(_.get(l,r))):e.filter(l=>_.get(l,r)!==n)},removeByIndex(e,r){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";const n=parseInt(r);if(isNaN(n))throw"Second parameter must be a number";if(n<0||n>=e.length)return e;const l=[...e];return l.splice(n,1),l},getKeyValue(e,r){if(!th(e))throw"First parameter must be an object";return _.get(e,r)},getByKey(e,r){return wwLib.wwLog.error("getByKey is deprecated. Please use getKeyValue instead"),this.getKeyValue(e,r)},setKeyValue(e,r,n){if(!th(e))throw"First parameter must be an object";return{...e,[r]:n}},setByKey(e,r,n){return wwLib.wwLog.error("setByKey is deprecated. Please use setKeyValue instead"),this.setKeyValue(e,r,n)},toText(e){return`${e}`},trim(e){return`${e}`.trim()},trimStart(e){return`${e}`.trimStart()},trimEnd(e){return`${e}`.trimEnd()},toNumber(e){return parseFloat(e)},createObject(...e){const r=[...e].filter((p,h)=>h%2===0),n=[...e].filter((p,h)=>h%2===1),l={};return r.forEach((p,h)=>{if(!p||Array.isArray(p)||typeof p=="object")throw`${p} is an invalid key`;l[`${p}`]=n[h]}),l},toObject(...e){return wwLib.wwLog.error("toObject is deprecated. Please use createObject instead"),this.createObject(...e)},createArray(...e){return[...e]},toList(...e){return wwLib.wwLog.error("toList is deprecated. Please use createArray instead"),this.createArray(...e)},pick(e,...r){if(!th(e))throw"First parameter must be an object";return[...r].reduce((l,p)=>(l[p]=_.get(e,p),l),{})},omit(e,...r){if(!th(e))throw"First parameter must be an object";return Object.keys(e).filter(l=>!r.includes(l)).reduce((l,p)=>(l[p]=_.get(e,p),l),{})},now(){wwLib.wwLog.error("now is deprecated. Please use date from the date plugin instead");const e=new Date().getTimezoneOffset()*6e4;return new Date(Date.now()-e).toISOString()},timestamp(){wwLib.wwLog.error("timestamp is deprecated. Please use toTimestamp from the date plugin instead");const e=new Date().getTimezoneOffset()*6e4;return new Date(Date.now()-e).getTime()},join(e,r=","){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";if(typeof r!="string")throw"Second parameter must be a text";return e.join(r)},getByIndex(e,r){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";const n=parseInt(r);if(isNaN(n))throw"Second parameter must be a number";return e[n]},fileToUrl(e,r=""){return e?URL.createObjectURL(e):r},toBool(e){return!!e},lookup(e,r,n="id"){if(r=wwLib.wwUtils.getDataFromCollection(r),!Array.isArray(r))throw"Second parameter must be an array (or collection)";return r.filter(l=>_.get(l,n)===e).shift()},lookupArray(e,r,n="id"){if(r=wwLib.wwUtils.getDataFromCollection(r),e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";if(!Array.isArray(r))throw"Second parameter must be an array (or collection)";return r.filter(l=>e.includes(_.get(l,n)))},rollup(e,r,n){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";const l=e.reduce((p,h)=>{const c=_.get(h,r);return c==null?p:p.concat(c)},[]);return n?this.distinct(l):l},findIndex(e,r){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";return e.findIndex(n=>_.isEqual(n,r))},findIndexByKey(e,r,n){if(e=wwLib.wwUtils.getDataFromCollection(e),!Array.isArray(e))throw"First parameter must be an array (or collection)";if(typeof r!="string")throw"Second parameter must be a text";return e.findIndex(l=>_.isEqual(_.get(l,r),n))},textLength(e){if(typeof e!="string")throw"First parameter must be a text";return e.length},subText(e,r,n){if(typeof e!="string")throw"First parameter must be a text";if(r=parseInt(r),isNaN(r))throw"Second parameter must be a number";if(n!==void 0&&(n=parseInt(n),isNaN(n)))throw"Third parameter must be a number";return e.substring(r,n)},sanitize(e){if(e=`${e}`,typeof e!="string")throw"First parameter cannot be converted to a text";return LR(e)},translate(e){return wwLib.wwLang.getText(e)},isEmail(e){return!e||typeof e!="string"?!1:m6.test(e)}};function _6({uid:e,componentId:r,repeatIndex:n},{context:l,executionContext:p}){var R,F;const h=sm("libraryComponent",e);function c(C,B){var Z,K;const G=(K=(Z=wwLib.$store.getters["libraries/getComponents"][h])==null?void 0:Z.inner)==null?void 0:K.workflows[C];return Xc(G,{context:{...l,...p,parameters:B}})}function M(){var C,B,G,Z;l!=null&&l.component?(B=(C=l.component.localComponentActionsFn.libraryComponents)==null?void 0:C[e])!=null&&B[r]&&(delete l.component.localComponentActionsFn.libraryComponents[e][r],Object.keys(l.component.localComponentActionsFn.libraryComponents[e]).length===0&&delete l.component.localComponentActionsFn.libraryComponents[e]):(Z=(G=wwLib.globalVariables.globalComponentActionsFn.libraryComponents)==null?void 0:G[e])!=null&&Z[r]&&(delete wwLib.globalVariables.globalComponentActionsFn.libraryComponents[e][r],Object.keys(wwLib.globalVariables.globalComponentActionsFn.libraryComponents[e]).length===0&&delete wwLib.globalVariables.globalComponentActionsFn.libraryComponents[e])}function s(){l!=null&&l.component?(l.component.localComponentActionsFn.libraryComponents[e]||(l.component.localComponentActionsFn.libraryComponents[e]={}),l.component.localComponentActionsFn.libraryComponents[e][r]={repeatIndex:n,executeFunction:c}):(wwLib.globalVariables.globalComponentActionsFn.libraryComponents[e]||(wwLib.globalVariables.globalComponentActionsFn.libraryComponents[e]={}),wwLib.globalVariables.globalComponentActionsFn.libraryComponents[e][r]={repeatIndex:n,executeFunction:c})}let E;const k=((F=(R=wwLib.$store.getters["libraries/getComponents"][h])==null?void 0:R.inner)==null?void 0:F.workflows)||{};E={value:Object.values(k).some(C=>C.isExternal)},E.value&&s(),lm(()=>{M()})}function TR({uid:e,componentId:r,type:n,repeatIndex:l},{configuration:p,componentRef:h,context:c}){if(!p.actions)return;function M(s,E){var k;if(typeof((k=h.value)==null?void 0:k[s])=="function")return h.value[s](...E)}n==="section"?wwLib.globalVariables.globalComponentActionsFn.sections[e]=M:c!=null&&c.component?(c.component.localComponentActionsFn.elements[e]||(c.component.localComponentActionsFn.elements[e]={}),c.component.localComponentActionsFn.elements[e][r]={repeatIndex:l,executeFunction:M}):(wwLib.globalVariables.globalComponentActionsFn.elements[e]||(wwLib.globalVariables.globalComponentActionsFn.elements[e]={}),wwLib.globalVariables.globalComponentActionsFn.elements[e][r]={repeatIndex:l,executeFunction:M}),lm(()=>{if(n==="section"){delete wwLib.globalVariables.globalComponentActionsFn.sections[e];return}if(c!=null&&c.component){delete c.component.localComponentActionsFn.elements[e][r],Object.keys(c.component.localComponentActionsFn.elements[e]).length===0&&delete c.component.localComponentActionsFn.elements[e];return}else delete wwLib.globalVariables.globalComponentActionsFn.elements[e][r],Object.keys(wwLib.globalVariables.globalComponentActionsFn.elements[e]).length===0&&delete wwLib.globalVariables.globalComponentActionsFn.elements[e]})}function g6(e,{context:r},n=[]){var c,M,s;if(!e.uid)return null;e.category=e.category||"elements";const l=((s=(M=(c=r==null?void 0:r.component)==null?void 0:c.localComponentActionsFn)==null?void 0:M[e.category])==null?void 0:s[e.uid])||wwLib.globalVariables.globalComponentActionsFn[e.category][e.uid];if(!l)return null;typeof l=="function"&&l[e.id](e.name,n);const p=Object.keys(l);let h=null;if(p.length&&e.repeatIndex){for(const E in l)if(l[E].repeatIndex===e.repeatIndex){h=l[E].executeFunction;break}}return h||(h=l[p[0]].executeFunction),h(e.actionName,n)||null}const QE=3;function y6(e){if(e.length<QE)return!1;const r=e[e.length-1];return e.filter(l=>l===r).length>=QE}const gs=d0("variables",()=>{const e=_g({}),r=_g({}),n=Mi({}),l=Oi({}),p={};function h(F,C){const B=Object.values(this.website);for(const G of B){if(!C&&G.type!=="query"&&G.isPersistentOnNav)continue;let Z=G.defaultValue;G.isLocalStorage&&(Z=ER(G)),G.type==="query"&&(Z=b6(G,F)),this.setValue(G.id,Z,{ignoreQuery:!0})}wwLib.$store.dispatch("data/setPageParameterVariables")}function c(F){return this.website[F]||this.components[F]||this.plugins[F]||wwLib.$store.getters["data/getPageParameterVariables"][F]}function M(F,C,B,{partialUpdate:G=!1}={}){const Z=this.getConfiguration(C),K=Z==null?void 0:Z.name,te=!!Z;if(G)Object.assign(Z,B);else{let he="website";switch(F){case"website":break;case"plugin":he="plugins";break;case"component":he="components";break}this[he][C]=B}if(te&&(K===B.name||["plugin","component"].includes(F)))return;const se=this;function _e(){return se.values[C]}function Me(he){se.setValue(C,he)}p[C]=Hx(!0),p[C].run(()=>{wwLib.globalVariables.customCodeVariables[C]===void 0&&(wwLib.globalVariables.customCodeVariables[C]=fr({get:_e,set:Me})),!(F==="plugin"||F==="component"||!B.name||B.name===K)&&wwLib.globalVariables.customCodeVariables[B==null?void 0:B.name]===void 0&&(wwLib.globalVariables.customCodeVariables[B==null?void 0:B.name]=fr({get:_e,set:Me}))}),K&&delete wwLib.globalVariables.customCodeVariables[K]}function s(F,C,{ignoreQuery:B,path:G,index:Z,arrayUpdateType:K,workflowContext:te,silent:se}={}){const _e=this.getConfiguration(F);if(_e){if(typeof C=="string")switch(_e.type){case"query":{if(!B){let Me;Me=wwLib.getFrontRouter();const he=Me.currentRoute._value.path,Ge=Me.currentRoute._value.query,st=C!==_e.defaultValue?C:void 0;if(Ge[_e.queryName||_e.name]!==st){const Ne={...Ge};for(const Re in this.website)this.website[Re].type==="query"&&(Ne[this.website[Re].queryName||this.website[Re].name]=this.values[Re]===""?void 0:this.values[Re]);Ne[_e.queryName||_e.name]=st,Me.replace({path:he,query:Ne})}}break}case"number":try{C=parseFloat(C)}catch{C=0,wwLib.wwLog.error(`Unable to set variable ${F} value.`),wwLib.wwLog.error("Expected value of type number, got :",C)}break;case"object":case"array":if(!(G||K))try{C=JSON.parse(C)}catch{C=_e.type==="object"?{}:[],wwLib.wwLog.error(`Unable to set variable ${F} value.`),wwLib.wwLog.error(`Expected value of type ${_e.type}, got:`,C)}break}else C&&typeof C=="object"&&["object","array"].includes(_e.type)&&!_e.preserveReference&&(C=_.cloneDeep(C));if(_e.type==="object"&&G)this.values[F]=this.values[F]||{},hn.set(this.values[F],G,C),se||wwLib.logStore.verbose(`Variable _wwVariable(${F}) update`,{preview:this.values[F],workflowContext:te,type:te?"action":null});else if(_e.type==="array"&&K)switch(this.values[F]=this.values[F]||[],Z=Z||0,K){case"update":{let Me=`[${Z}]`;G&&(Me=`${Me}.${G}`),hn.set(this.values[F],Me,C),se||wwLib.logStore.verbose(`Updating partially array variable _wwVariable(${F}) `,{preview:C,workflowContext:te,type:te?"action":null});break}case"delete":this.values[F].splice(Z,1),se||wwLib.logStore.verbose(`Deleting item ${Z} from array _wwVariable(${F})`,{workflowContext:te,type:te?"action":null});break;case"insert":this.values[F].splice(Z,0,C),se||wwLib.logStore.verbose(`Inserting value into array variable at index ${Z} _wwVariable(${F}) `,{preview:C,workflowContext:te,type:te?"action":null});break;case"unshift":this.values[F].unshift(C),se||wwLib.logStore.verbose(`Removing first element from array variable _wwVariable(${F}) `,{workflowContext:te,type:te?"action":null});break;case"push":this.values[F].push(C),se||wwLib.logStore.verbose(`Adding value at the end of the array variable _wwVariable(${F}) `,{preview:C,workflowContext:te,type:te?"action":null});break;case"shift":this.values[F].shift(C),se||wwLib.logStore.verbose(`Adding value at the start of the array variable _wwVariable(${F}) `,{preview:C,workflowContext:te,type:te?"action":null});break;case"pop":this.values[F].pop(C),se||wwLib.logStore.verbose(`Removing last value of the array variable _wwVariable(${F})`,{workflowContext:te,type:te?"action":null});break}else this.values[F]=C,se||wwLib.logStore.verbose(`Setting value for _wwVariable(${F}) `,{preview:_.cloneDeep(C),workflowContext:te,type:te?"action":null});if(_e.isLocalStorage&&window.localStorage)switch(se||wwLib.logStore.verbose(`Updating localStorage to synchronize with _wwVariable(${F})`),_e.type){case"query":case"string":window.localStorage.setItem(`variable-${F}`,C);break;case"number":case"object":case"array":case"boolean":window.localStorage.setItem(`variable-${F}`,JSON.stringify(this.values[F]));break}}}function E(F){var B;const C=this.getConfiguration(F);C&&(delete this.values[F],delete this.website[F],delete this.components[F],delete this.plugins[F],(B=p[F])==null||B.stop(),delete p[F],delete wwLib.globalVariables.customCodeVariables[C.id],C.name&&delete wwLib.globalVariables.customCodeVariables[C.name])}function k(F){for(const C of Object.values(this.components))F.includes(C.sectionId)||this.remove(C.id)}function R(F){for(const C of F)this.website[C.id]&&this.add("website",C.id,{...this.website[C.id],folder:C.folder})}return{website:e,plugins:r,components:n,values:l,resetVariables:h,getConfiguration:c,setValue:s,add:M,remove:E,cleanComponent:k,renameFolder:R}});function ER(e){var n,l;let r;switch(e.type){case"query":case"string":{const p=(n=window.localStorage)==null?void 0:n.getItem(`variable-${e.id}`);r=p!==null?p:e.defaultValue;break}case"number":case"object":case"array":case"boolean":try{const p=(l=window.localStorage)==null?void 0:l.getItem(`variable-${e.id}`);r=p!==null?JSON.parse(p):e.defaultValue}catch{r=e.defaultValue,wwLib.wwLog.error("Invalid localStorage value for variable id:",e.id)}break}return r}function b6(e,r){let n;const l=r?r.query:{};return Object.keys(l).forEach(p=>{e.name.toLowerCase()===p.toLowerCase()&&(n=l[p])}),n===void 0&&e.isLocalStorage&&(n=ER(e)),n||e.defaultValue}const v6=["loop","while-loop","if","filter","switch"];async function Xc(e,{context:r={},event:n={},callstack:l=[],isError:p,executionContext:h,internal:c}={}){let M,s;if(!e)return{};if(l=[...l,e.id],y6(l))return wwLib.logStore.info("Possible infinity loop detected! Workflow was stopped.",{workflowContext:{workflow:e,executionContext:h},type:"action"}),{};if(!p){switch(h==null?void 0:h.type){case"p":wwLib.logStore.info(`Start page workflow _wwWorkflow(${e.id},p,${h.pageId})`,{type:"action",workflowContext:{workflow:e,executionContext:h}});break;case"a":wwLib.logStore.info(`Start application workflow _wwWorkflow(${e.id},a)`,{type:"action",workflowContext:{workflow:e,executionContext:h}});break;case"e":wwLib.logStore.info(`Start element workflow _wwWorkflow(${e.id},e,${h.uid})`,{type:"action",workflowContext:{workflow:e,executionContext:h}});break;case"c":wwLib.logStore.info(`Start component _wwWorkflow(${e.id},c)`,{type:"action",workflowContext:{workflow:e,executionContext:h}});break;case"s":wwLib.logStore.info(`Start section workflow _wwWorkflow(${e.id},s,${h.uid})`,{type:"action",workflowContext:{workflow:e,executionContext:h}});break;default:wwLib.logStore.info(`Start workflow _wwWorkflow(${e.id},${c?"c":"g"})`,{type:"action",workflowContext:{workflow:e,executionContext:h}})}({error:M,result:s}=await _h(e,e.firstAction,{context:r,event:n,callstack:l,isError:!1,executionContext:h,internal:c}))}if(M&&(wwLib.logStore.error("Workflow triggered an error",{type:"action",workflowContext:{workflow:e,executionContext:h},error:M}),c?hn.set(r.component,`workflowsResults.${e.id}.error`,lL(M)):await wwLib.$store.dispatch("data/setWorkflowError",{workflowId:e.id,value:lL(M)})),p||M){wwLib.logStore.info("Start error branch",{workflowContext:{workflow:e,executionContext:h},type:"action"});const{result:E}=await _h(e,e.firstErrorAction,{context:r,event:n,callstack:l,isError:!0,executionContext:h,internal:c});return wwLib.logStore.info("Error branch done!",{workflowContext:{workflow:e,executionContext:h},type:"action"}),{error:M,result:E}}return wwLib.logStore.info("Workflow done!",{workflowContext:{workflow:e,executionContext:h},type:"action"}),{error:M,result:s}}async function _h(e,r,{context:n,event:l,callstack:p=[],isError:h,queue:c=[],executionContext:M,internal:s}){var E,k;try{if(!e||!r)return{};const R=e.actions[r];if(!R)return{};let F={...n,workflow:s?(k=(E=n==null?void 0:n.component)==null?void 0:E.workflowsResults)==null?void 0:k[e.id]:wwLib.$store.getters["data/getWorkflowResults"](e.id)};const{result:C,stop:B,breakLoop:G}=await kR(e,r,{context:F,event:l,callstack:p,isError:h,standalone:!1,executionContext:M,internal:s});if(B||G)return{result:C,breakLoop:G};let Z=(R.branches||[]).find(({value:K})=>K===C);return Z||(Z=(R.branches||[]).find(({isDefault:K})=>K)),Z&&Z.id&&!R.disabled?await _h(e,Z.id,{context:F,event:l,callstack:p,isError:h,queue:R.next?[R.next,...c]:c,executionContext:M,internal:s}):R.next?await _h(e,R.next,{context:F,event:l,callstack:p,isError:h,queue:c,executionContext:M,internal:s}):c.length?await _h(e,c[0],{context:F,event:l,callstack:p,isError:h,queue:c.slice(1),executionContext:M,internal:s}):{result:C}}catch(R){return{error:R}}}async function kR(e,r,{context:n={},event:l={},callstack:p=[],isError:h,standalone:c=!0,executionContext:M,internal:s,fromFunction:E=!1}){var K,te,se,_e,Me,he,Ge,st,Ne,Re,ut,Ke,gt,mt,Lt,ot,dt,vt,nr,Sr,pr,Er,pn,qr,Gr,Nr,xt,qt,It,Nt,_r,Se,Ce,He,at,Dt,At,sr,mr,ar,Ut,jr,lr,Ir,zr,tt,vr,rn,Qn,ae,$,q,Te,Ze,ht,ke,Qe,Wr,Xr,nn,Ar,ki,ro,Yi;let k,R,F;if(!e||!r)return{result:k};Object.keys(n).includes("workflow")||(n={...n,workflow:s?(K=n==null?void 0:n.component)==null?void 0:K.workflowsResults[e.id]:wwLib.$store.getters["data/getWorkflowResults"](e.id)});const C=e.actions[r];if(!C)return{result:k};function B(jt,ur,Lr={}){E||wwLib.logStore.log(jt,ur,{workflowContext:{workflow:e,actionId:C.id,executionContext:M},type:"action",...Lr})}if(!E&&!c&&C.disabled)return{result:k};const G={log:B},Z=C.type.includes(":")?C.type.split(":")[0]:C.type;try{switch(Z){case"custom-js":{if(!C.code)throw new Error("No custom code defined.");k=await S6(C.code,n,l,G),B("info","Executing custom Javascript");break}case"variable":{if(!C.varId)throw new Error("No variable selected.");const jt=tn(C.varValue,n,{event:l,recursive:!1}),ur=C.usePath?tn(C.path||"",n,{event:l,recursive:!1}):null,Lr=tn(C.index||0,n,{event:l,recursive:!1}),wr=gs(wwLib.$pinia),Jr=((_e=(se=wwLib.$store.getters["libraries/getComponents"][(te=n==null?void 0:n.component)==null?void 0:te.baseUid])==null?void 0:se.inner)==null?void 0:_e.variables)||{},yn=((Me=n==null?void 0:n.component)==null?void 0:Me.componentVariablesConfiguration)||{};Jr[C.varId]||yn[C.varId]?k=(Ge=(he=n==null?void 0:n.component)==null?void 0:he.methods)==null?void 0:Ge.updateVariable(C.varId,jt,{path:ur,index:Lr,arrayUpdateType:C.arrayUpdateType,workflowContext:{workflow:e,actionId:C.id,executionContext:M}}):wr.getConfiguration(C.varId)&&(k=wwLib.wwVariable.updateValue(C.varId,jt,{path:ur,index:Lr,arrayUpdateType:C.arrayUpdateType,workflowContext:{workflow:e,actionId:C.id,executionContext:M}}));break}case"reset-variables":{const jt=gs(wwLib.$pinia),ur=((Re=(Ne=wwLib.$store.getters["libraries/getComponents"][(st=n==null?void 0:n.component)==null?void 0:st.baseUid])==null?void 0:Ne.inner)==null?void 0:Re.variables)||{},Lr=((ut=n==null?void 0:n.component)==null?void 0:ut.componentVariablesConfiguration)||{};for(const wr of C.varsId||[]){if(!wr)continue;const Jr=jt.getConfiguration(wr);Jr?wwLib.wwVariable.updateValue(wr,Jr.defaultValue===void 0?null:jo(Jr.defaultValue),{workflowContext:{workflow:e,actionId:C.id,executionContext:M}}):ur[wr]?(gt=(Ke=n==null?void 0:n.component)==null?void 0:Ke.methods)==null||gt.updateVariable(wr,ur[wr].defaultValue===void 0?null:jo(ur[wr].defaultValue),{workflowContext:{workflow:e,actionId:C.id,executionContext:M}}):Lr[wr]&&((Lt=(mt=n==null?void 0:n.component)==null?void 0:mt.methods)==null||Lt.updateVariable(wr,Lr[wr].defaultValue===void 0?null:jo(Lr[wr].defaultValue),{workflowContext:{workflow:e,actionId:C.id,executionContext:M}}))}break}case"fetch-collection":{if(!C.collectionId)throw new Error("No collection selected.");const jt=wwLib.$store.getters["data/getCollections"][C.collectionId];if(!jt)throw new Error("Collection not found.");if(await wwLib.wwCollection.fetchCollection(C.collectionId,{},{workflowContext:{workflow:e,actionId:C.id,executionContext:M}}),jt.error)throw jt.error.message?{name:"Error",...jt.error}:new Error("Error while fetching the collection");break}case"fetch-collections":{if(!C.collectionsId.length)throw new Error("No collection selected.");const jt=wwLib.$store.getters["data/getCollections"];await Promise.all(C.collectionsId.filter(ur=>!!ur).map(async ur=>{const Lr=jt[ur];if(!Lr)throw new Error("Collection not found.");if(await wwLib.wwCollection.fetchCollection(ur,{},{workflowContext:{workflow:e,actionId:C.id,executionContext:M}}),Lr.error)throw Lr.error.message?{name:"Error",...Lr.error}:new Error(`Error while fetching the collection ${Lr.name}`)}));break}case"update-collection":{if(!C.collectionId)throw new Error("No collection selected.");if(!wwLib.$store.getters["data/getCollections"][C.collectionId])throw new Error("Collection not found.");await wwLib.wwCollection.updateCollection(C.collectionId,tn(C.data,n,{event:l}),{updateType:C.updateType,updateIndex:tn(C.updateIndex,n,{event:l}),updateBy:C.updateBy,idKey:tn(C.idKey,n,{event:l}),idValue:tn(C.idValue,n,{event:l}),merge:tn(C.merge,n,{event:l}),refreshFilter:tn(C.refreshFilter,n,{event:l}),refreshSort:tn(C.refreshSort,n,{event:l})});break}case"change-page":{if(C.navigateMode==="external"){const yn=tn(C.externalUrl,n,{event:l});C.openInNewTab?wwLib.getFrontWindow().open(yn,"_blank"):wwLib.getFrontWindow().open(yn,"_self"),B("info","Navigate to",{preview:yn||"Undefined"});break}let jt,ur={};if(C.mode==="path"){let yn=tn(C.path,n,{event:l});yn!=="/"&&yn.endsWith("/")&&(yn=yn.replace(/\/$/,"")),jt=yn}else{if(!C.pageId)throw new Error("No page selected.");const yn=tn(C.pageId,n,{event:l}),fe=typeof yn=="object"?yn.id:yn;if(!wwLib.$store.getters["websiteData/getPageById"](fe))throw new Error("Page not found.");jt=wwLib.wwPageHelper.getPagePath(fe);const re=Object.keys(C.parameters||{}).reduce((Le,je)=>({...Le,[je]:tn(C.parameters[je],n,{event:l})}),{}),ge=wwLib.$store.getters["data/getPageParameterVariablesFromId"](fe);for(const Le of ge)jt=jt.replace(`{{${Le.id}|${Le.defaultValue||""}}}`,re[Le.id])}const Lr=tn(C.queries,n,{event:l});Lr&&(Array.isArray(Lr)&&Lr.length?ur=Lr.reduce((yn,fe)=>(yn[fe.name]=fe.value,yn),ur):typeof Lr=="object"&&(ur={...ur,...Lr})),C.loadProgress&&C.loadProgressColor&&wwLib.$store.dispatch("front/showPageLoadProgress",{color:C.loadProgressColor});const wr=tn(C.section,n,{event:l}),Jr=wwLib.wwUtils.sanitize(wwLib.$store.getters["websiteData/getSectionTitle"](wr)||wr);wwLib.wwApp.goTo(jt,ur,{openInNewTab:C.openInNewTab,hash:Jr?`#${Jr}`:null});break}case"previous-page":{let jt;if(jt=!wwLib.getFrontRouter().options.history.state.back,jt){let ur;if(!C.pageId)throw new Error("No page selected.");const Lr=tn(C.pageId,n,{event:l}),wr=typeof Lr=="object"?Lr.id:Lr;if(!wwLib.$store.getters["websiteData/getPageById"](wr))throw new Error("Page not found.");ur=wwLib.wwPageHelper.getPagePath(wr),wwLib.wwApp.goTo(ur);break}wwLib.getFrontRouter().go(-1);break}case"page-loader":{C.show?(wwLib.$store.dispatch("front/showPageLoadProgress",{color:C.color||"blue"}),B("info","Setting page loader progress bar",{preview:C.color||"blue"})):(wwLib.$store.dispatch("front/showPageLoadProgress",!1),B("info","Disable page loader progress bar"));break}case"upload-file":{const jt=gs(wwLib.$pinia);if(!C.varId)throw new Error("No file variable selected.");const ur=typeof C.varId=="string",Lr=ur&&((dt=(ot=n==null?void 0:n.component)==null?void 0:ot.componentVariablesConfiguration)==null?void 0:dt[C.varId]),wr=ur?Lr?(nr=(vt=n==null?void 0:n.component)==null?void 0:vt.componentVariablesConfiguration)==null?void 0:nr[C.varId]:jt.components[C.varId]:null,Jr=ur?Lr?(Sr=n==null?void 0:n.component)==null?void 0:Sr.variables[C.varId]:jt.values[C.varId]:tn(C.varId,n,{event:l});if(ur){if(!wr)throw new Error("File variable not found.");if(!Jr)throw new Error("No file selected. Please create a true / false split to manage the case when there is no file.")}else{if(!Jr)throw new Error("File not found.");if(typeof Jr!="object")throw new Error("Not a file object.")}const yn=ur?Lr?(Er=(pr=n==null?void 0:n.component)==null?void 0:pr.componentVariablesConfiguration)==null?void 0:Er[`${wr.componentUid}-progress`]:jt.components[`${wr.componentUid}-progress`]:null,fe=ur?Lr?(qr=(pn=n==null?void 0:n.component)==null?void 0:pn.componentVariablesConfiguration)==null?void 0:qr[`${wr.componentUid}-status`]:jt.components[`${wr.componentUid}-status`]:null,X=ur?wwLib.$store.getters["websiteData/getWwObjects"][wr.componentUid]||{}:null,re=ur?((Nr=(Gr=X==null?void 0:X.content)==null?void 0:Gr.default)==null?void 0:Nr.multiple)||fe:Array.isArray(Jr),ge=Ue=>{var et,Rt;yn&&(Lr?(Rt=(et=n==null?void 0:n.component)==null?void 0:et.methods)==null||Rt.updateVariable(`${wr.componentUid}-progress`,Ue):jt.setValue(yn.id,Ue))},Le=()=>{var Rt,hr,Gt;if(!fe)return;const et={...Lr?((Rt=n==null?void 0:n.component)==null?void 0:Rt.variables[`${wr.componentUid}-status`])||{}:jt.values[fe.id]||{}};for(const Yr of Je)Yr&&Yr.name&&(et[Yr.name]={uploadProgress:100,isUploading:!1,isUploaded:!0});Lr?(Gt=(hr=n==null?void 0:n.component)==null?void 0:hr.methods)==null||Gt.updateVariable(`${wr.componentUid}-status`,et):jt.setValue(fe.id,et)};let je=0;k=[];const rt=wwLib.$store.getters["websiteData/getDesignInfo"].id,Je=re?Jr:[Jr];for(const Ue of Je){if(!Ue||!Ue.name)continue;const{data:et}=await axios.post(`${wwLib.wwApiRequests._getApiUrl()}/designs/${rt}/user-files`,{name:Ue.name.replace(/[#!@$%^&*()+=\[\]{};':"\\|,<>\? \/]/g,"_"),type:Ue.type||Ue.mimeType,size:Ue.size,tag:`${tn(C.fileTag,n,{event:l,recursive:!1})||""}`}),Rt=hr=>{var Or,Cr,Kr;const Gt=hr.loaded/hr.total*100,Yr=je+Gt/Je.length;if(ge(Yr),fe){const bn=Ue.name,$r={...Lr?((Or=n==null?void 0:n.component)==null?void 0:Or.variables[`${wr.componentUid}-status`])||{}:jt.values[fe.id]||{},[bn]:{uploadProgress:Gt,isUploading:Gt<100,isUploaded:Gt>=100}};Lr?(Kr=(Cr=n==null?void 0:n.component)==null?void 0:Cr.methods)==null||Kr.updateVariable(`${wr.componentUid}-status`,$r):jt.setValue(fe.id,$r)}};await axios.put(et.signedRequest,Ue,{headers:{Accept:"*/*","Content-Type":Ue.type||Ue.mimeType},skipAuthorization:!0,onUploadProgress:Rt}),k.push({url:et.url,name:et.name,ext:et.ext,tag:et.tag,size:et.size}),je+=100/Je.length}re||(k=k[0]),ge(100),Le(),B("info","File upload completed",{preview:k});break}case"execute-inner-workflow":{const jt=((xt=C.type.split(":"))==null?void 0:xt[1])??C.workflowId;if(!jt)throw new Error("No workflow selected.");const ur=(_r=(Nt=(It=wwLib.$store.getters["libraries/getComponents"][(qt=n==null?void 0:n.component)==null?void 0:qt.baseUid])==null?void 0:It.inner)==null?void 0:Nt.workflows)==null?void 0:_r[jt],Lr={libraryComponentIdentifier:M==null?void 0:M.libraryComponentIdentifier};if(!ur)throw new Error("Workflow not found.");B("info",`Starting an other workflow (${ur.name})`);const wr={};Object.keys(C.parameters||{}).forEach(yn=>{wr[yn]=tn(C.parameters[yn],n,{event:l})});const Jr=await Xc(ur,{context:{...n,parameters:wr,workflow:((Ce=(Se=n==null?void 0:n.component)==null?void 0:Se.workflowsResults)==null?void 0:Ce[jt])||{}},event:l,callstack:p,internal:!0,executionContext:Lr});if(k=Jr.result,Jr.error)throw Jr.error;break}case"execute-workflow":{const jt=((He=C.type.split(":"))==null?void 0:He[1])??C.workflowId;if(!jt)throw new Error("No workflow selected.");let ur,Lr;if(C.internal?(ur=(sr=(At=(Dt=wwLib.$store.getters["libraries/getComponents"][(at=n==null?void 0:n.component)==null?void 0:at.baseUid])==null?void 0:Dt.inner)==null?void 0:At.workflows)==null?void 0:sr[jt],Lr={libraryComponentIdentifier:M==null?void 0:M.libraryComponentIdentifier}):ur=wwLib.$store.getters["data/getGlobalWorkflows"][jt],!ur)throw new Error("Workflow not found.");B("info",`Starting an other workflow (${ur.name})`);const wr={};Object.keys(C.parameters||{}).forEach(yn=>{wr[yn]=tn(C.parameters[yn],n,{event:l})});const Jr=await Xc(ur,{context:{...n,parameters:wr,workflow:C.internal?((ar=(mr=n==null?void 0:n.component)==null?void 0:mr.workflowsResults)==null?void 0:ar[jt])||{}:wwLib.$store.getters["data/getWorkflowResults"](jt)},event:l,callstack:p,internal:C.internal,executionContext:Lr});if(k=Jr.result,Jr.error)throw Jr.error;break}case"trigger-event":{if(!C.triggerId)throw new Error("No trigger selected.");const jt=(Ir=(lr=(jr=wwLib.$store.getters["libraries/getComponents"][(Ut=n==null?void 0:n.component)==null?void 0:Ut.baseUid])==null?void 0:jr.configuration)==null?void 0:lr.triggers)==null?void 0:Ir[C.triggerId],ur=tn(C.event,n,{event:l,recursive:!1});B("info",`Emiting an event (${jt==null?void 0:jt.label})`),(tt=(zr=n==null?void 0:n.component)==null?void 0:zr.methods)==null||tt.triggerEvent(C.triggerId,ur);break}case"component-action":{if(!C.actionName)throw new Error("No actions selected.");const jt=tn(C.args,n,{event:l,recursive:!0});B("info",`${C.actionName} triggered on ${h0(C.type,C.uid)}`),k=g6({...C,repeatIndex:((vr=n==null?void 0:n.item)==null?void 0:vr.repeatIndex)||null},{context:n},jt);break}case"execute-dropzone-workflow":{if(!C.workflowId)throw new Error("No workflow selected.");const jt=tn(C.parameters,n,{event:l}),ur=await((Qn=(rn=n==null?void 0:n.dropzone)==null?void 0:rn.methods)==null?void 0:Qn.executeWorkflow(C.workflowId,jt));if(k=ur.result,ur.error)throw ur.error;break}case"return":{k=tn(C.value,n,{event:l}),B("info","Returning value",{preview:k});break}case"if":{k=!!tn(C.value,n,{event:l}),B("info",`Branching for ${h?"Error ":""}Action ${C.name?`| ${C.name}`:""} - ${k?"True":"False"}`);break}case"switch":{k=tn(C.value,n,{event:l}),B("info",`Branching for ${h?"Error ":""}Action ${C.name?`| ${C.name}`:""} - ${JSON.stringify(k)}`);break}case"filter":{k=!!tn(C.value,n,{event:l}),R=!k,R&&B("info",`Filter ${h?"Error ":""}Action ${C.name?`| ${C.name}`:""} - Stop`);break}case"wait":{if(C.value===void 0&&C.duration===void 0)throw new Error("No time delay defined.");const jt=tn(C.value||C.duration,n,{event:l});B("info",`Waiting ${jt}ms `),await new Promise(ur=>setTimeout(ur,jt)),B("info"," Stop waiting");break}case"user-location":{if(!("geolocation"in navigator))throw B("error","Geolocation is not available."),new Error("Geolocation is not available.");try{const jt=await new Promise((ur,Lr)=>{navigator.geolocation.getCurrentPosition(ur,Lr)});k={coords:{accuracy:jt.coords.accuracy,altitude:jt.coords.altitude,altitudeAccurary:jt.coords.altitudeAccurary,heading:jt.coords.heading,latitude:jt.coords.latitude,longitude:jt.coords.longitude,speed:jt.coords.speed},timestamp:jt.timestamp}}catch{throw B("error","Error while geolocation."),new Error("Error while geolocation.")}break}case"print-pdf":{wwLib.getFrontWindow().print();break}case"loop":{let jt=tn(C.value,n,{event:l});if(Array.isArray(jt))jt.length?B("info",`${C.name?C.name+": ":""} Starting looping on ${jt.length} items`):B("info",`${C.name?C.name+": ":""} Skipping loop as items to parse is empty`);else throw new Error("Fail to start loop, as items to parse is not iterable");for(const[ur,Lr]of jt.entries()){s?hn.set(n.component,`workflowsResults.${e.id}.${r}.loop`,{index:ur,item:Lr,items:jt}):wwLib.$store.dispatch("data/setWorkflowActionLoop",{workflowId:e.id,actionId:r,loop:{index:ur,item:Lr,items:jt}}),B("info",`Loop ${h?"Error ":""}Action ${C.name?`| ${C.name}`:""} - Iteration ${ur+1}/${jt.length}`);const{error:wr,result:Jr,breakLoop:yn}=await _h(e,C.loop,{isError:h,context:n,event:l,callstack:p,executionContext:M,internal:s});if(wr)throw wr;if(k=Jr,yn)break}B("info",`Loop ${h?"Error ":""}Action ${C.name?`| ${C.name}`:""} - End`);break}case"while-loop":{B("info",`${C.name?C.name+": ":""} Start while loop`);let jt=tn(C.value,n,{event:l});for(;jt;){const{error:ur,result:Lr,breakLoop:wr}=await _h(e,C.loop,{isError:h,context:n,event:l,callstack:p,executionContext:M,internal:s});if(k=Lr,ur)throw ur;if(wr)break;let Jr={...n,workflow:s?($=(ae=n==null?void 0:n.component)==null?void 0:ae.workflowsResults)==null?void 0:$[e.id]:wwLib.$store.getters["data/getWorkflowResults"](e.id)};jt=tn(C.value,Jr,{event:l})}B("info",`While ${h?"Error ":""}Action ${C.name?`| ${C.name}`:""} - End`);break}case"continue-loop":{k=R=tn(C.value,n,{event:l});break}case"break-loop":{k=F=tn(C.value,n,{event:l});break}case"change-lang":{if(!C.lang)throw new Error("No language selected.");const jt=tn(C.lang,n,{event:l});if(B("info",`Changing language to "${jt}"`),!wwLib.wwLang.setLang(jt))throw new Error(`Page does not contain the lang "${jt}"`);break}case"log":{if(!C.message)throw new Error("No message defined.");const jt=tn(C.message,n,{event:l});if(typeof jt!="string")throw new Error("Message must be a string.");const ur=tn(C.preview,n,{event:l});B(C.level||"info",jt,{preview:ur});break}case"copy-clipboard":{k=tn(C.value,n,{event:l}),B("info","Copying value to clipboard",{preview:k}),await navigator.clipboard.writeText(`${k}`);break}case"stop-click":{(q=l==null?void 0:l.stopPropagation)==null||q.call(l),(Te=l==null?void 0:l.preventDefault)==null||Te.call(l);break}case"file-create-url":{const jt=tn(C.fileString,n,{event:l}),ur=atob(jt.startsWith("data:")?jt.split("base64,")[1]:jt),Lr=new ArrayBuffer(ur.length),wr=new Uint8Array(Lr);for(let fe=0;fe<ur.length;fe++)wr[fe]=ur.charCodeAt(fe);const Jr=new Blob([wr],{type:"application/octet-stream"}),yn=URL.createObjectURL(Jr);B("info","Create object URL from Base64",{preview:k}),k=yn;break}case"file-encode-base64":{const jt=gs(wwLib.$pinia);let ur;if(typeof C.file=="string"?(((Ze=n==null?void 0:n.component)==null?void 0:Ze.componentVariablesConfiguration)||{})[C.file]?ur=(ke=(ht=n==null?void 0:n.component)==null?void 0:ht.variables)==null?void 0:ke[C.file]:ur=jt.values[C.file]:ur=tn(C.file,n,{event:l}),!ur)throw new Error("File not found.");if(typeof ur!="object")throw new Error("Not a file object.");if(k=await new Promise(Lr=>{const wr=new FileReader;wr.onload=()=>Lr(C.output==="base64"?wr.result.split(",")[1]:wr.result),wr.readAsDataURL(ur)}),!k)throw new Error("Cannot encode the file. Your file may be too big to be encoded to base64 in a browser (Chrome-like=512mb;Firefox=32mb).");B("info","Generate Base64 encoded file",{preview:ek(k,20)});break}case"file-download-url":{const jt=await fetch(tn(C.fileUrl,n,{event:l}));if(!jt.ok){const Jr=await jt.text();throw new Error("File could not be fetch",{cause:Jr})}const ur=await jt.blob(),Lr=URL.createObjectURL(ur);let wr=tn(C.fileName,n,{event:l})||"";if(wr=wr.replace(/[^\w\s.-]/gi,""),Lr.startsWith("blob:")){const Jr=wwLib.getFrontDocument().createElement("a");Jr.href=Lr,Jr.download=wr,Jr.click()}else throw new Error("Invalid blob URL");URL.revokeObjectURL(Lr),B("info","Download file from URL");break}case"change-theme":{const jt=tn(C.theme,n,{event:l})||"light";wwLib.$store.dispatch("front/setTheme",jt),B("info",`Changed to ${jt} theme`);break}case"open-popup":{const jt=JSON.parse(JSON.stringify(C)),ur=vh(wwLib.$pinia),Lr=(Qe=wwLib.$store.getters["libraries/getComponents"])==null?void 0:Qe[jt.libraryComponentBaseId],wr=((Wr=Lr==null?void 0:Lr.configuration)==null?void 0:Wr.properties)||{};for(const Jr in((Xr=jt.content)==null?void 0:Xr.default)||{})if(!Object.keys(wr).includes(Jr)){const yn=Object.values(wr).find(fe=>fe.label===Jr);yn&&(jt.content.default[yn.id]=jt.content.default[Jr])}k=await ur.open(jt.libraryComponentBaseId,tn(jt.content,n,{event:l}),{waitClosing:jt.waitClosing});break}case"close-popup":{await((nn=n.local)==null?void 0:nn.methods.popup.close.method(tn(C.data,n,{event:l})));break}case"close-all-popup":{vh(wwLib.$pinia).closeAll(C.libraryComponentBaseId);break}default:{if(C.type.startsWith("_wwLocalMethod_")){const jt=C.type.match(/_wwLocalMethod_(.+)\.(.+)/);if(jt){const[,ur,Lr]=jt,wr=(Yi=(ro=(ki=(Ar=n.local)==null?void 0:Ar.methods)==null?void 0:ki[ur])==null?void 0:ro[Lr])==null?void 0:Yi.method;if(typeof wr=="function"){const Jr=(C.args||[]).map(yn=>tn(yn,n,{event:l}));k=wr(...Jr),B("info",`Executing local method: ${ur}.${Lr}`)}else B("error",`Local method not found or not a function: ${ur}.${Lr}`)}else B("error","Invalid local method format")}else{const ur=wwLib.$store.getters["data/getPluginActions"][C.type];if(!ur)break;const Lr=ur.pluginId&&wwLib.$store.getters["websiteData/getPluginById"](ur.pluginId);if(!Lr)break;const wr=tn(C.args||[],n,{event:l});B("info",`Action ${ur.name}`);try{const Jr=wwLib.wwPlugins[Lr.namespace][ur.code](wr,G);k=ur.isAsync?await Jr:Jr}catch(Jr){throw wwLib.wwLog.error(Jr),Jr}}break}}if(!E&&(s?(hn.set(n.component,`workflowsResults.${e.id}.${r}.result`,k),hn.set(n.component,`workflowsResults.${e.id}.${r}.error`,null)):wwLib.$store.dispatch("data/setWorkflowActionResult",{workflowId:e.id,actionId:r,result:k,error:null}),!v6.includes(C.type)))switch(C.type){case"file-encode-base64":B("info","Succeeded ",{preview:ek(k,20)});break;default:B("info","Succeeded ",{preview:k})}}catch(jt){const ur=lL(jt);throw E||(s?(hn.set(n.component,`workflowsResults.${e.id}.${r}.error`,ur),hn.set(n.component,`workflowsResults.${e.id}.${r}.result`,k)):wwLib.$store.dispatch("data/setWorkflowActionResult",{workflowId:e.id,actionId:r,error:ur,result:k}),jt&&wwLib.logStore.error("An error happened during the execution of the workflow",{type:"action",error:jt,workflowContext:{workflow:e,executionContext:M}})),jt}return{result:k,stop:R,breakLoop:F}}async function ya(e,r={},n={}){const l={id:"wf_id",firstActionId:"action_id",trigger:null,actions:{action_id:{id:"action_id",type:e,next:null,...r}}},{result:p}=await kR(l,"action_id",{context:n,fromFunction:!0});return p}const w6={resetVariablesValues:async e=>await ya("reset-variables",{varIds:e}),fetchCollection:async e=>await ya("fetch-collection",{collectionId:e}),fetchCollectionsInParallel:async e=>await ya("fetch-collections",{collectionsId:e}),goToPage:async(e,{mode:r,pageId:n,path:l,externalUrl:p,section:h,openInNewTab:c,queries:M,loadProgress:s,loadProgressColor:E})=>await ya("change-page",{navigateMode:e,mode:r,pageId:n,path:l,externalUrl:p,section:h,openInNewTab:c,queries:M,loadProgress:s,loadProgressColor:E}),goToPreviousPage:async e=>await ya("previous-page",{pageId:e}),setPageLoader:async(e,r)=>await ya("page-loader",{show:e,color:r}),setTheme:async e=>await ya("change-theme",{theme:e}),setLang:async e=>await ya("change-lang",{lang:e}),printPdf:async()=>await ya("print-pdf"),createUrlFromBase64:async e=>await ya("file-create-url",{fileString:e}),encodeFileBase64:async(e,r)=>await ya("file-encode-base64",{file:e,output:r}),downloadFileFromUrl:async(e,r)=>await ya("file-download-url",{fileUrl:e,fileName:r}),uploadFileToWeWeb:async(e,r)=>await ya("upload-file",{varId:e,fileTag:r}),openPopup:async(e,r)=>{var l;const n=(l=wwLib.$store.getters["websiteData/getWwObjects"])==null?void 0:l[e];return n!=null&&n.parentLibraryComponentId&&(e=n.parentLibraryComponentId),await ya("open-popup",{libraryComponentBaseId:e,content:{default:r}})},closePopup:async(e,r)=>await e.local.methods.popup.close.method(r),executeGlobalFunction:new Proxy({},{get(e,r){return async(...n)=>{var h;const l=wwLib.$store.getters["data/getGlobalWorkflows"][r];if(!l)throw wwLib.logStore.error(`Global workflow "${r}" not found.`),new Error(`Global workflow "${r}" not found.`);l.parameters;const p={};for(const c in n)(h=l.parameters[c])!=null&&h.name&&(p[l.parameters[c].name]=n[c]);return await ya("execute-workflow",{workflowId:r,parameters:p})}}}),executePopupFunction:e=>new Proxy({},{get(r,n){return async(...l)=>{var M,s,E;const p=(M=Object.values(wwLib.$store.getters["libraries/getComponents"]))==null?void 0:M.find(k=>k.id==e.component.baseUid&&k.type=="modal");if(!p)throw new Error(`Library component "${e.component.baseUid}" not found.`);const h=(s=p.inner.workflows)==null?void 0:s[n];if(!h)throw wwLib.logStore.error(`Popup workflow "${n}" not found.`),new Error(`Popup workflow "${n}" not found.`);const c={};for(const k in l)(E=h.parameters[k])!=null&&E.name&&(c[h.parameters[k].name]=l[k]);return await ya("execute-workflow",{workflowId:n,parameters:c,internal:!0},e)}}}),executeElementAction:async(e,r,n)=>await ya("component-action",{uid:e,actionName:r,args:n}),executePluginFunction:async(e,r,n)=>await ya(`${e}-${r}`,{args:n})};function lL(e){const r=["name",...Object.getOwnPropertyNames(e)];let n={};for(const l of r)n[l]=e[l];return n}function ek(e,r){return e.length>r?e.substring(0,r)+"...":e}const x6=(async function(){}).constructor,M6={UNEXPECTED_END_OF_FORMULA:"Unexpected token ';'"},GL=fr(()=>{const e=wwLib.$store.getters["data/getCollections"];return Object.keys(e).reduce((r,n)=>{const l=e[n];return r[l.name]=l,r[n]=l,r},{})}),WL=fr(()=>Object.values(wwLib.$store.getters["data/getFormulas"]).reduce((e,r)=>(e[r.name]=e[r.id]=(...n)=>{const l=(r.parameters||[]).map(c=>c.name||""),p=["getValue","__wwItem","args",...l],h=[tn,r,n,...n];return new Function(...p,`return getValue(
                    {...__wwItem, __wwtype: __wwItem.type},
                    {},
                    { recursive: false, args: {names: '${l.join(", ")}', value: args } }
                );`)(...h)},e),{})),ZL=fr(()=>Object.values(wwLib.$store.getters["data/getPluginFormulas"]).reduce((e,r)=>{e[r.pluginId]||(e[r.pluginId]={});const n=wwLib.wwPlugins[r.pluginId];return e[r.pluginId][r.name]=(...l)=>n[r.name].call(n,...l),e},{}));function uL({code:e,filter:r,sort:n,__wwmap:l},p,h,c){try{const M=new Function("plugins","collections","formulas","pluginFormulas","wwFormulas","variables","pluginVariables","globalContext","context","event",...((c==null?void 0:c.names)||"").split(", "),e)(wwLib.wwPlugins,GL.value,WL.value,ZL.value,qL,wwLib.globalVariables.customCodeVariables,wwLib.wwPlugins,wwLib.globalContext,p,h,...(c==null?void 0:c.value)||[]);return AR(M,r,n,l,p,h,c)}catch(M){return{error:M}}}async function S6(e,r,n,l){try{return await new x6("plugins","collections","formulas","pluginFormulas","wwFormulas","variables","pluginVariables","globalContext","utilsFunctions","context","event","wwUtils",e)(wwLib.wwPlugins,GL.value,WL.value,ZL.value,qL,wwLib.globalVariables.customCodeVariables,wwLib.wwPlugins,wwLib.globalContext,w6,r,n,l)}catch(p){throw wwLib.wwLog.error(p),delete p.stack,p}}function cL({code:e,filter:r,sort:n,__wwmap:l},p,h,c){try{const M=new Function("plugins","collections","formulas","pluginFormulas","wwFormulas","variables","pluginVariables","globalContext","context","event",...((c==null?void 0:c.names)||"").split(", "),`return ${e}
;`)(wwLib.wwPlugins,GL.value,WL.value,ZL.value,qL,wwLib.globalVariables.customCodeVariables,wwLib.wwPlugins,wwLib.globalContext,p,h,...(c==null?void 0:c.value)||[]);return AR(M,r,n,l,p,h,c)}catch(M){if(M.message){let s=M.message;switch(M.message){case M6.UNEXPECTED_END_OF_FORMULA:s="Unexpected end of formula"}return{error:s}}else return{error:M}}}function AR(e,r,n,l,p,h,c){let M=e;if(Array.isArray(M)){let s=M;return r&&(s=Yx(s,r,p,h,c)),n&&(s=zx([...s],n,p,h,c)),l&&(s=tk(s,l,p,h,c)),{value:s,rawValue:e}}else if(hn.isObject(M)&&Array.isArray(M.data)&&M.type==="collection"){let s=M.data;return r&&(s=Yx(s,r,p,h,c)),n&&(s=zx([...s],n,p,h,c)),l&&(s=tk(s,l,p,h,c)),{value:{...M,data:s,total:s.length},rawValue:e}}return{value:M,rawValue:e}}function L6({code:e,filter:r,sort:n,__wwmap:l},p,h,c){const{value:M}=uL({code:e,filter:r,sort:n,__wwmap:l},p,h,c);return M}function T6({code:e,filter:r,sort:n,__wwmap:l},p,h,c){const{value:M}=cL({code:e,filter:r,sort:n,__wwmap:l},p,h,c);return M}function zx(e,r,n,l,p){if(!Array.isArray(e))return e;const h=tn(r,n,{event:l,args:p});return e.sort((c,M)=>{for(const s of h){let E=0;const k=c==null?void 0:c[s.key],R=M==null?void 0:M[s.key];switch(k==null?R===null?"undefined":typeof R:typeof k){case"boolean":E=k==R?0:k?1:-1;break;case"string":E=(k||"").localeCompare(R||"");break;case"number":E=(k||0)>(R||0)?1:(k||0)<(R||0)?-1:0;break;case"object":E=JSON.stringify(k||{}).localeCompare(JSON.stringify(R||{}));break;case"undefined":k===R?E=0:k===void 0?E=-1:E=1;break}if(s.direction==="DESC"&&E&&(E*=-1),E)return E}return 0}),e}function CR(e,r){var p,h;if(!hn.isObject(r))return!0;if(r.if===!1||!r.conditions||!r.conditions.length)return null;if(!e)return!1;const n=r.conditions.filter(c=>!(c.isEmptyIgnored&&wwLib.wwUtils.isEmpty(c.value)));let l=null;for(const c of n){let M=null;if(c.link)M=CR(e,c);else switch(c.operator){case"$eq":M=e[c.field]===c.value;break;case"$ne":M=e[c.field]!==c.value;break;case"$lt":M=e[c.field]<c.value;break;case"$gt":M=e[c.field]>c.value;break;case"$lte":M=e[c.field]<=c.value;break;case"$gte":M=e[c.field]>=c.value;break;case"$iLike:contains":typeof e[c.field]!="string"&&typeof c.value=="string"?M=JSON.stringify(e[c.field]||"").toLowerCase().includes(c.value.toLowerCase()):typeof c.value=="string"?M=e[c.field].toLowerCase().includes(c.value.toLowerCase()):M=!1;break;case"$notILike:contains":typeof e[c.field]!="string"&&typeof c.value=="string"?M=!JSON.stringify(e[c.field]||"").toLowerCase().includes(c.value.toLowerCase()):typeof c.value=="string"?M=!e[c.field].toLowerCase().includes(c.value.toLowerCase()):M=!1;break;case"$iLike:startsWith":M=typeof e[c.field]=="string"&&typeof c.value=="string"?e[c.field].toLowerCase().startsWith(c.value.toLowerCase()):!1;break;case"$iLike:endsWith":M=typeof e[c.field]=="string"&&typeof c.value=="string"?e[c.field].toLowerCase().endsWith(c.value.toLowerCase()):!1;break;case"$eq:null":M=e[c.field]==null||e[c.field]===""||hn.isObject(e[c.field])&&!Object.keys(e[c.field]).length||Array.isArray(e[c.field])&&!e[c.field].length;break;case"$ne:null":M=e[c.field]!=null&&e[c.field]!==""&&(!hn.isObject(e[c.field])||!!Object.keys(e[c.field]).length)&&(!Array.isArray(e[c.field])||!!e[c.field].length);break;case"$in":M=Array.isArray(c.value)&&c.value.includes(e[c.field]);break;case"$notIn":M=Array.isArray(c.value)&&!c.value.includes(e[c.field]);break;case"$overlap":M=Array.isArray(c.value)&&Array.isArray(e[c.field])&&c.value.some(s=>e[c.field].includes(s));break;case"$notOverlap":M=Array.isArray(c.value)&&Array.isArray(e[c.field])&&!c.value.some(s=>e[c.field].includes(s));break;case"$contains":M=Array.isArray(c.value)&&Array.isArray(e[c.field])&&c.value.every(s=>e[c.field].includes(s));break;case"$has":M=((p=e[c.field])==null?void 0:p[c.value])!=null;break;case"$hasNot":M=((h=e[c.field])==null?void 0:h[c.value])==null;break;case"$match":M=mb(c.value)&&mb(c.value).test(e[c.field]);break;case"$notMatch":M=mb(c.value)&&!mb(c.value).test(e[c.field]);break}M!==null&&(l===null?l=M:l=r.link==="$or"?l||M:l&&M)}return l}function mb(e){if(!e)return;const r=e.match(/\/(.+)\/.*/)&&e.match(/\/(.+)\/.*/)[1]?e.match(/\/(.+)\/.*/)[1]:"",n=e.match(/\/.+\/(.*)/)&&e.match(/\/.+\/(.*)/)[1]?e.match(/\/.+\/(.*)/)[1]:"";return new RegExp(r,n)}function Yx(e,r,n,l,p){if(!Array.isArray(e))return e;const h=tn(r,n,{event:l,args:p});return e.filter(c=>{const M=CR(c,h);return M===null||M})}function tk(e,r,n,l,p){return Array.isArray(e)?e.map((h,c)=>{const M={};return Object.keys(r).forEach(s=>{M[s]=tn(r[s],{...n,mapping:{value:h,index:c}},{event:l,args:p})}),M}):e}function tn(e,r,{event:n,recursive:l=!0,defaultUndefined:p,args:h}={}){if(e===void 0)return _.cloneDeep(p);if(!e)return e;if(e.__wwtype==="d")return e.data.map(c=>tn(c,r,{event:n,args:h}));if(e.__wwtype==="f")return T6({code:e.code,filter:e.filter,sort:e.sort,__wwmap:e.__wwmap},r||{},n,h);if(e.__wwtype==="js")return L6({code:e.code,filter:e.filter,sort:e.sort,__wwmap:e.__wwmap},r||{},n,h);if(Array.isArray(e)&&l)return e.map(c=>tn(c,r,{event:n,args:h}));if(typeof e=="object"&&l){const c={};return Object.keys(e).forEach(M=>{c[M]=tn(e[M],r,{event:n,args:h})}),c}else return e}const E6=fr(()=>A6()),k6=fr(()=>{const e=wwLib.$store.getters["front/getScreenSize"],r=wwLib.$store.getters["front/getScreenSizes"][e].order,n=wwLib.$store.getters["front/getScreenSizes"];return E6.value.filter(l=>n[l].order<=r)});function dL({dataRef:e,data:r,prefix:n,suffix:l,propertyConfiguration:p,statesRef:h,states:c,libraryComponentData:M,libraryComponentDataRef:s,breakpoint:E,noClasses:k,layers:R}){var se,_e,Me,he,Ge,st,Ne,Re,ut,Ke,gt,mt,Lt,ot,dt,vt,nr,Sr,pr,Er,pn,qr,Gr;p=p||{};const F=!k&&p.classes;r=(e?e.value:r)||{},M=(s?s.value:M)||{};let C,B=Gp([n,l]),G=B;if(B.startsWith("_state.style")&&(B=B.replace("_state.style","style"),G=G.replace("_state.style","rawStyle")),B.startsWith("_state")&&(B=B.replace("_state","state"),G=G.replace("_state","rawState")),!p.noRootMerge){const Nr=hn.get(M,G),xt=hn.get(M,B);if(Nr!==void 0&&xt!==void 0)return xt}if(hn.get((se=r==null?void 0:r._state)==null?void 0:se.libraryComponentInjected,B)){const Nr=r==null?void 0:r.parentLibraryComponentId;r=(he=(Me=(_e=R==null?void 0:R[Nr])==null?void 0:_e.childrenData)==null?void 0:Me.value)==null?void 0:he[r==null?void 0:r.uid]}const K=((st=(Ge=r==null?void 0:r._state)==null?void 0:Ge.classes)==null?void 0:st.default)||[];if(!p.states&&!p.responsive){const Nr=Gp([n,n==="_state"?"":"default",l]);if(F)for(const qt of K){const It=_b(qt,Nr);It!==void 0&&(C=It);for(const Nt of((ut=(Re=(Ne=r==null?void 0:r._state)==null?void 0:Ne.subClasses)==null?void 0:Re.default)==null?void 0:ut[qt])||[]){const _r=I_(qt,Nt,Nr);_r!==void 0&&(C=_r)}}const xt=hn.get(r,Nr);return xt!==void 0&&(C=xt),C}const te=E?[E]:k6.value;if(p.responsive&&!p.states){for(const Nr of te){const xt=Gp([n,Nr,l]);if(F)for(const It of K){const Nt=_b(It,xt);Nt!==void 0&&(C=Nt);for(const _r of((mt=(gt=(Ke=r==null?void 0:r._state)==null?void 0:Ke.subClasses)==null?void 0:gt.default)==null?void 0:mt[It])||[]){const Se=I_(It,_r,xt);Se!==void 0&&(C=Se)}}const qt=hn.get(r,xt);qt!==void 0&&(C=qt)}return C}c=(h?h.value:c)||[];for(const Nr of te){const xt=Gp([n,Nr,l]);if(F)for(const It of K){const Nt=_b(It,xt);Nt!==void 0&&(C=Nt);const _r=((dt=(ot=(Lt=r==null?void 0:r._state)==null?void 0:Lt.subClasses)==null?void 0:ot.default)==null?void 0:dt[It])||[];for(const Se of _r){const Ce=I_(It,Se,xt);Ce!==void 0&&(C=Ce)}for(const Se of c){if(Se==="default")continue;const Ce=((Sr=(nr=(vt=r==null?void 0:r._state)==null?void 0:vt.subClasses)==null?void 0:nr[Se])==null?void 0:Sr[It])||[];for(const He of Ce){const at=I_(It,He,xt);at!==void 0&&(C=at)}}}const qt=hn.get(r,xt);qt!==void 0&&(C=qt)}for(const Nr of c){if(Nr==="default")continue;const xt=((Er=(pr=r==null?void 0:r._state)==null?void 0:pr.classes)==null?void 0:Er[Nr])||[];for(const qt of te){const It=Gp([n,qt,l]);if(F)for(const _r of xt){const Se=_b(_r,It);Se!==void 0&&(C=Se);const Ce=((Gr=(qr=(pn=r==null?void 0:r._state)==null?void 0:pn.subClasses)==null?void 0:qr[Nr])==null?void 0:Gr[_r])||[];for(const He of Ce){const at=I_(_r,He,It);at!==void 0&&(C=at)}}const Nt=hn.get(r,Gp([n,`${Nr}_${qt}`,l]));Nt!==void 0&&(C=Nt)}}return C}function Gp(e){return e.filter(r=>r&&r.length).join(".")}function _b(e,r){const n=wwLib.$store.getters["libraries/getClasses"][e];return hn.get(n,r)}function I_(e,r,n){const l=wwLib.$store.getters["libraries/getClasses"][e];return hn.get(l,`subClasses.${r}.${n}`)}function A6(){const e=wwLib.$store.getters["front/getScreenSizes"];return Object.keys(e).sort((r,n)=>e[r].order-e[n].order)}function XL({type:e,uid:r,componentId:n,currentStates:l,context:p={},libraryComponentDataRef:h,wwProps:c={}}){let M={},s={};Mi({content:{},_state:{style:{}}});let E={},k={},R={},F={};const C=vh(),B=HL(e,r),G=fr(()=>e==="section"?wwLib.$store.getters["websiteData/getSections"][r]:r.startsWith("popup-")?C.instances[r]:wwLib.$store.getters["websiteData/getWwObjects"][r]),Z=Br("_wwLibraryComponentLayers",{});for(let K in B.properties){const te=B.properties[K];te.editorOnly||I6(K,te,{component:G,currentStates:l,libraryComponentDataRef:h,context:p,content:M,rawContent:s,layers:Z})}for(let K in Od)if(!(Od[K].componentType&&Od[K].componentType!==e)&&!Od[K].editorOnly){const te=fr(()=>dL({dataRef:G,prefix:"_state.style",suffix:K,propertyConfiguration:Od[K],statesRef:l,libraryComponentDataRef:h})),se=fr(()=>tn(te.value,p,{defaultUndefined:Od[K].fallbackToDefault?Od[K].defaultValue:Od[K].defaultUndefined}));E[K]=se,k[K]=te}for(const K in qp)if(K==="interactions"){const te=fr(()=>{var se,_e;return(_e=(se=G.value)==null?void 0:se._state)==null?void 0:_e.interactions});F.interactions=te,R.interactions=te}else if(!qp[K].editorOnly){const te=fr(()=>dL({dataRef:G,prefix:"_state",suffix:K,propertyConfiguration:qp[K],statesRef:l,libraryComponentDataRef:h})),se=fr(()=>tn(te.value,p,{defaultUndefined:qp[K].fallbackToDefault?qp[K].defaultValue:qp[K].defaultUndefined}));F[K]=se,R[K]=te}if(e==="libraryComponent"){const K=fr(()=>{var te,se,_e;return((_e=(se=(te=G.value)==null?void 0:te.content)==null?void 0:se.default)==null?void 0:_e.childrenData)||{}});M.childrenData=K,s.childrenData=K}return M=Mi(M),E=Mi(E),s=Mi(s),k=Mi(k),R=Mi(R),F=Mi(F),e==="libraryComponent"||(An("componentContent",M),An("componentState",F),An("componentStyle",E),An("componentRawContent",s),An("componentConfiguration",B),An("componentData",G),An("componentWwProps",c)),{content:M,style:E,state:F,rawContent:s,rawStyle:k,rawState:R,name:fr(()=>G.value&&G.value.name),configuration:B}}function C6(e){const r=Br("componentContent"),n=Br("componentRawContent");return{property:fr(()=>hn.get(r,e.value)),rawProperty:fr(()=>hn.get(n,e.value))}}const fL={section:"s",element:"e",libraryComponent:"c"};function KL({state:e,componentIdentifier:r,triggerLibraryComponentEvent:n,triggerParentEvent:l,parentInteractionsRef:p,isRenderingRef:h,rootElementRef:c,extraListeners:M={}},s={}){Br("componentData",Oi({}));function E(C,B={}){(e.interactions||[]).filter(({trigger:Z})=>Z===C).forEach(Z=>{Xc(Z,{context:s,event:B,executionContext:{type:fL[r.type],uid:r.uid}})})}if(r.type==="libraryComponent")return{triggerEvent:E};const k=fr(()=>{const C=[...new Set([...e.interactions||[],...(p==null?void 0:p.value)||[]].map(({trigger:Z})=>Z))],B=C.filter((Z,K)=>Z&&C.indexOf(Z)===K).filter(Z=>["click","dblclick","contextmenu","mousedown","mouseup","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchend","touchcancel","scroll"].includes(Z)),G={};for(const Z of B)G[`on${Z[0].toUpperCase()}${Z.substr(1)}`]=K=>{Z==="contextmenu"&&(K.ctrlKey&&K.altKey||K.metaKey&&K.altKey||K.preventDefault()),l&&l(Z,K),E(Z,K)};for(const[Z,K]of Object.entries(M)){const te=G[Z];G[Z]=se=>{K(se),te==null||te(se)}}return G});function R(C){n&&n(C,{}),l&&l(C,{}),E(C,{})}Ao(h,(C,B)=>{C&&!B?Lg(()=>R("_wwOnMounted")):!C&&B&&R("_wwOnBeforeUnmount")});const F=C=>{E("scroll",C)};return c&&Ao(c,()=>{var C;(C=c==null?void 0:c.value)!=null&&C.$el&&(c.value.$el.removeEventListener("scroll",F),c.value.$el.addEventListener("scroll",F))}),R("_wwOnCreated"),Kx(()=>{h.value&&R("_wwOnMounted")}),Tg(()=>{var C,B;h.value&&R("_wwOnBeforeUnmount"),(C=c==null?void 0:c.value)!=null&&C.$el&&((B=c==null?void 0:c.value)==null||B.$el.removeEventListener("scroll",F))}),{triggerEvent:E,listeners:k}}function D6({baseUid:e,componentIdentifier:r},n={}){var c,M;function l(s,E={},k){var F,C;Object.values(((C=(F=wwLib.$store.getters["libraries/getComponents"][e])==null?void 0:F.inner)==null?void 0:C.workflows)||{}).filter(({trigger:B,triggerProperty:G})=>B===s&&(!k||k===G)).forEach(B=>{Xc(B,{context:n,event:E,internal:!0,executionContext:{type:fL[r.type],uid:r.uid}})})}function p(s,E){var R,F,C;const k=(C=(F=(R=wwLib.$store.getters["libraries/getComponents"][e])==null?void 0:R.inner)==null?void 0:F.workflows)==null?void 0:C[s];if(!k){console.error(`Workflow with id ${s} not found`);return}return Xc(k,{context:{...n,parameters:E},internal:!0,executionContext:{type:fL[r.type],uid:r.uid}})}let h;h=[...new Set(Object.values(((M=(c=wwLib.$store.getters["libraries/getComponents"][e])==null?void 0:c.inner)==null?void 0:M.workflows)||{}).filter(({trigger:s})=>s==="_wwOnPropertyChange").map(({triggerProperty:s})=>s))];for(const s of h)Ao(()=>{var E,k;return(k=(E=n==null?void 0:n.component)==null?void 0:E.props)==null?void 0:k[s]},(E,k)=>{l("_wwOnPropertyChange",{newValue:E,oldValue:k},s)},{immediate:!0});return{triggerLibraryComponentEvent:l,executeLibraryComponentWorkflow:p}}function I6(e,r,{component:n,currentStates:l,libraryComponentDataRef:p,useEditorKeyframesRef:h,context:c,content:M,rawContent:s,boundProps:E,layers:k}){const R=fr(()=>dL({dataRef:n,prefix:"content",suffix:e,propertyConfiguration:r,statesRef:l,libraryComponentDataRef:p,layers:k})),F=fr(()=>tn(R.value,c,{defaultUndefined:r.fallbackToDefault?r.defaultValue:r.defaultUndefined}));M[e]=F,s[e]=R}function JL({uid:e,type:r},{context:n={},propsState:l=[],isSelected:p=!1}){const h=fr(()=>wwLib.$store.getters["websiteData/getComponentRawStates"]({uid:e,type:r})),c=Mi(new Set),M=fr(()=>h.value.filter(R=>tn(R.condition,n)).map(({id:R})=>R)),s=Br("activeStates",Oi([])),E=Oi([]);Ao(()=>h.value.filter(({id:R,label:F})=>c.has(R)||c.has(F)||(jo(l)||[]).includes(F)||M.value.includes(R)||s.value.includes(R)).map(R=>R.id),R=>{JSON.stringify(R)!==JSON.stringify(E.value)&&(E.value=R)},{immediate:!0});const k=Oi([]);return Ao(()=>{const R=E.value.filter(C=>C.startsWith("_wwParent_")),F=h.value.filter(C=>E.value.includes(C.id)).map(C=>`_wwParent_${e}_${C.id}`);return[...R,...F,...s.value]},R=>{JSON.stringify(R)!==JSON.stringify(k.value)&&(k.value=R)},{immediate:!0}),An("activeStates",k),{currentStates:E,addInternalState(R,F){c.add(R)},removeInternalState(R,F){c.delete(R)},toggleInternalState(R,F){c.has(R)?c.delete(R):c.add(R)}}}function P6(e,r){e&&(Ao(r,(n,l)=>{n!==l&&(n!=null&&n.length?O6(e,r.value):rk(e))},{immediate:!0}),lm(()=>{rk(e)}))}function O6(e,r){let n=wwLib.getFrontDocument().getElementById(e);return n||(n=wwLib.getFrontDocument().createElement("style"),n.setAttribute("id",e),wwLib.getFrontDocument().head.append(n)),n.innerText=r,n}function rk(e){let r=wwLib.getFrontDocument().getElementById(e);r&&r.remove()}function R6({componentId:e,style:r,isEditing:n,isSelected:l}){const p=`ww-keyframes-${e}`,h=fr(()=>(r==null?void 0:r.animationKeyframes)&&`${r==null?void 0:r.animationKeyframes}`.replace(/^(@keyframes\s*)[^\s{]*(\s*{)/gi,`$1${p}$2`));return P6(p,h),{animationStyle:fr(()=>{if(!r.animationDuration)return{};let c=nk(r.animationPlayState===void 0?!0:r.animationPlayState,"running","paused");return{animationName:p,animationPlayState:c,animationDuration:r.animationDuration,animationTimingFunction:r.animationTimingFunction||"ease",animationDelay:r.animationDelay||"0s",animationIterationCount:r.animationIterationCount||"infinite",animationFillMode:r.animationFillMode||"none",animationDirection:nk(r.animationDirection,"alternate","normal")}})}}function nk(e,r,n){return e===r||e===n?e:e?r:n}function DR(e,r){Ao(()=>e==null?void 0:e.id,(n,l)=>{n!==l&&(l&&delete wwLib.scrollStore.componentPositionInfo.value[l],n&&(e!=null&&e.watchScrollPosition)&&(wwLib.scrollStore.componentPositionInfo.value[n]={pageId:r}))}),Ao(()=>e==null?void 0:e.watchScrollPosition,(n,l)=>{n!==l&&(l&&(e!=null&&e.id)&&delete wwLib.scrollStore.componentPositionInfo.value[e.id],n&&(e!=null&&e.id)&&(wwLib.scrollStore.componentPositionInfo.value[e.id]={pageId:r}))},{immediate:!0}),Kx(()=>{var n;e!=null&&e.id&&(e!=null&&e.watchScrollPosition)&&!((n=wwLib.scrollStore.componentPositionInfo.value)!=null&&n[e.id])&&(wwLib.scrollStore.componentPositionInfo.value[e.id]={pageId:r})}),lm(()=>{var n,l;e!=null&&e.id&&((n=wwLib.scrollStore.componentPositionInfo.value)!=null&&n[e.id])&&((l=wwLib.scrollStore.componentPositionInfo.value)==null?void 0:l[e.id].pageId)===r&&delete wwLib.scrollStore.componentPositionInfo.value[e.id]})}function F6(){const e=Br("_wwLocalContext",null),r=Mi({key:null,data:null,methods:null,markdown:""}),n=fr(()=>{var l,p,h;return r.key?{data:{...((l=e==null?void 0:e.value)==null?void 0:l.data)||{},[r.key]:r.data},methods:{...((p=e==null?void 0:e.value)==null?void 0:p.methods)||{},[r.key]:r.methods},markdown:{...((h=e==null?void 0:e.value)==null?void 0:h.markdown)||{},[r.key]:r.markdown}}:e==null?void 0:e.value});return An("_wwLocalContext",n),An("_wwElementLocalContext",r),n}function z6(e,r,n,l){const p=Br("_wwElementLocalContext");p.key=e,p.data=r,p.methods=n,p.markdown=l}let ik=1;const Y6={components:{},inject:{parentId:{from:"_wwElementUid",default:null},wwIsInStretchedSection:{from:"__wwIsInStretchedSection",default:!1}},inheritAttrs:!1,props:{uid:{type:String,required:!0},isWwObject:{type:Boolean,default:!0},wwProps:{type:Object,default:()=>({})},states:{type:Array,default:()=>[]},isLibraryComponentRoot:{type:Boolean,default:!1},libraryComponentData:{type:Object,default:null},libraryComponentTriggerEvent:{type:Function,default:null},libraryComponentTriggerLibraryComponentEvent:{type:Function,default:null}},emits:["element-event","update:child-selected","update:is-selected","add-state","remove-state"],setup(e,r){const n=ik;ik++;const l=xx(null),p=Br("wwLayoutContext",{}),h=Br("bindingContext",null),c=Br("sectionId",null),M=Br("__wwContainerType",null),s=Br("wwLibraryComponentUid_",null);An("wwLayoutContext",{}),An("__wwContainerType",null),An("__wwIsInStretchedSection",!1),An("_wwElementUid",e.uid),An("_wwElementComponentId",n);const E=Br("_wwLibraryComponentContext",null),k=Br("_wwDropzoneContext",null),R=F6(),F=Mi({item:fr(()=>h||{}),layout:fr(()=>({id:p.layoutId})),component:E==null?void 0:E.component,get thisInstance(){var dt;return(dt=l.value)==null?void 0:dt.$el},dropzone:k,local:R}),{currentStates:C,addInternalState:B,removeInternalState:G,toggleInternalState:Z}=JL({uid:e.uid,type:"element"},{context:F,propsState:oc(e,"states")});An("wwAddInternalState",B),An("wwRemoveInternalState",G),An("wwToggleInternalState",Z);const{content:K,style:te,state:se,rawContent:_e,name:Me,configuration:he}=XL({type:"element",uid:e.uid,componentId:n,currentStates:C,wwProps:oc(e,"wwProps"),context:F,libraryComponentDataRef:fr(()=>e.libraryComponentData)}),Ge=Mi({lang:fr(()=>wwLib.$store.getters["front/getLang"]),pageId:fr(()=>wwLib.$store.getters["websiteData/getPageId"]),sectionId:c,screenSize:fr(()=>wwLib.$store.getters["front/getScreenSize"]),screenSizes:fr(()=>wwLib.$store.getters["front/getScreenSizes"])});An("wwFrontState",Ge);const st=fr(()=>se.link&&se.link.type!=="none"),Ne=Mi({props:oc(e,"wwProps"),uid:e.uid,name:Me,states:C});An("wwElementState",Ne);const Re=fr(()=>te.conditionalRendering);Ao(Re,dt=>{dt||G("_wwHover",!0)});function ut(dt){r.emit("element-event",dt)}An("triggerElementEvent",ut),DR(se,wwLib.$store.getters["websiteData/getPageId"]);const{animationStyle:Ke}=R6({componentId:n,style:te});TR({uid:e.uid,componentId:n,type:"element",repeatIndex:h==null?void 0:h.index},{context:F,configuration:he,componentRef:l});const{listeners:gt,triggerEvent:mt}=KL({state:se,componentIdentifier:{type:"element",uid:e.uid},triggerParentEvent:e.libraryComponentTriggerEvent,triggerLibraryComponentEvent:e.libraryComponentTriggerLibraryComponentEvent,parentInteractionsRef:fr(()=>{var dt,vt;return(vt=(dt=e.libraryComponentData)==null?void 0:dt.state)==null?void 0:vt.interactions}),isRenderingRef:Re,rootElementRef:l,extraListeners:{onMouseenter(){B("_wwHover",!0),r.emit("add-state",["_wwHover",!0])},onMouseleave(){G("_wwHover",!0),r.emit("remove-state",["_wwHover",!0])}}},F),Lt=fr(()=>{let dt={"data-ww-element":!e.noInteraction,"data-ww-uid":e.uid,"data-ww-component-id":n};return h!=null&&h.index&&(dt["data-ww-repeat-index"]=h==null?void 0:h.index),s&&(dt["data-ww-comp-uid"]=s),dt}),ot=HL("element",e.uid);return{component:l,content:K,style:te,state:se,componentId:n,sectionId:c,configuration:ot,bindingContext:h,rawContent:_e,context:F,elementName:Me,addInternalState:B,removeInternalState:G,toggleInternalState:Z,listeners:gt,triggerEvent:mt,wwFrontState:Ge,hasLink:st,wwElementState:Ne,containerType:M,isRendering:Re,animationStyle:Ke,wwLibraryComponentUid_:s,wwTechnicalAttributes:Lt}},computed:{vueComponentName(){return NL("element",this.uid)},configurationOptions(){return this.configuration.options||{}},componentAttributes(){let e={...this.$attrs};for(const[r,n]of Object.entries(this.listeners)){const l=e[r];e[r]=p=>{n(p),l==null||l(p)}}if(this.state.attributes)try{for(const r of this.state.attributes.filter(n=>n.name))e[r.name.replace(/ /g,"")]=r.value}catch{wwLib.wwLog.warn(`Attributes is missbind for element ${h0("element",this.uid)} (${this.uid})`)}return this.state.id&&(e.id=this.state.id),Object.assign(e,this.wwTechnicalAttributes),e},isFlexboxChild(){return this.containerType==="flex"||this.containerType==="inline-flex"},isGridChild(){return this.containerType==="grid"||this.containerType==="inline-grid"},elementStyle(){var h,c;const e=((c=(h=this.configuration)==null?void 0:h.options)==null?void 0:c.ignoredStyleProperties)||[],r={};if(e.includes("margin")||(r.margin=this.style.margin||"0"),e.includes("padding")||(r.padding=this.style.padding||"0"),e.includes("overflow")||(r.overflow=this.style.overflow),r.zIndex=this.style.zIndex||"unset",r.alignSelf=this.isFlexboxChild&&this.style.align?this.style.align:"unset",r.display=p0(this.style.display,this.configuration,{content:this.content,wwProps:this.wwProps}),["absolute","fixed","sticky"].includes(this.style.position)){r.position=this.style.position;const M=this.style.top||this.style.bottom||this.style.left||this.style.right;r.top=this.style.top||(M?null:"0px"),r.bottom=this.style.bottom,r.left=this.style.left,r.right=this.style.right}r.width=js(this.style.width,this.configurationOptions.autoByContent?"auto":null),this.isFlexboxChild&&this.style.flex&&(r.flex=this.style.flex),r.maxWidth=js(this.style.maxWidth),r.minWidth=js(this.style.minWidth);let n=this.style.perspective||0;wwLib.wwUtils.getLengthUnit(n)[0]&&(r.perspective=n),r.height=this.style.height||"auto",e.includes("aspectRatio")||(r.aspectRatio=this.style.aspectRatio),r.maxHeight=js(this.style.maxHeight),r.minHeight=js(this.style.minHeight),e.includes("background")||(r.background=UL(this.style));const p=["boxShadow","opacity","transition","transform"];e.includes("border")||p.push("border","borderTop","borderBottom","borderLeft","borderRight"),e.includes("outline")||p.push("outline","outlineOffset"),e.includes("borderRadius")||p.push("borderRadius"),p.forEach(M=>{this.style[M]!==void 0&&this.style[M]!==null&&(r[M]=this.style[M])}),this.style.cursor&&(r.cursor=this.style.cursor),Object.assign(r,this.animationStyle);for(const M in this.style.customCss||{})r[M]=this.style.customCss[M];return this.wwIsInStretchedSection&&!this.style.align&&(r.width=r.width||"100%",r.alignSelf="center"),{...r,...this.gridStyle,...this.$attrs["extra-style"]||{}}},gridStyle(){if(!this.isGridChild)return{};const{columnSpan:e,rowSpan:r,gridColumn:n,gridRow:l}=this.style,p={};return e&&(p.gridColumn=`span ${e}`),r&&(p.gridRow=`span ${r}`),n&&(p.gridColumn=n),l&&(p.gridRow=l),p}},methods:{onTriggerEvent({name:e,event:r}={}){this.triggerEvent(e,r)}}};function B6(e,r,n,l,p,h){return l.isRendering?(fi(),_o(Eg(h.vueComponentName),fl({key:0,ref:"component",style:h.elementStyle,class:["ww-element",[l.state.class||"",`ww-element-${n.uid}`]]},h.componentAttributes,{content:l.content,uid:n.uid,"ww-front-state":l.wwFrontState,"ww-element-state":l.wwElementState,"ww-responsive":"ww-element",onTriggerEvent:h.onTriggerEvent,onElementEvent:r[0]||(r[0]=c=>e.$emit("element-event",c)),onAddState:l.addInternalState,onRemoveState:l.removeInternalState,onToggleState:l.toggleInternalState}),{default:ac(()=>[Wc(e.$slots,"default")]),_:3},16,["style","class","content","uid","ww-front-state","ww-element-state","onTriggerEvent","onAddState","onRemoveState","onToggleState"])):Hd("",!0)}const IR=$o(Y6,[["render",B6]]);function PR(e,r,{path:n,arrayUpdateType:l}={}){switch(e.type){case"boolean":if(r==="true"&&(r=!0),r==="false"&&(r=!1),typeof r!="boolean")throw new Error("value must be a boolean");break;case"query":case"string":if(r!==null&&typeof r=="object")throw new Error("value must be a string, a number or a boolean");r!==null&&(r=`${r}`);break;case"number":if(typeof r=="string")try{r=parseFloat(r),isNaN(r)&&(r=null)}catch{r=null}if(r!==null&&typeof r!="number")throw new Error("value must be a number");break;case"array":if(r!==null&&!Array.isArray(r)&&!l)throw new Error("value must be an array");break;case"object":if(r!==null&&typeof r!="object"&&!n)throw new Error("value must be an object");break}return r}function j6(e,{context:r,props:n},l){const p=Br("sectionId",null);gs();const h=fr(()=>{var B,G;return((G=(B=wwLib.$store.getters["libraries/getComponents"][e])==null?void 0:B.inner)==null?void 0:G.variables)||{}}),c=fr(()=>{var B,G;return((G=(B=wwLib.$store.getters["libraries/getComponents"][e])==null?void 0:B.inner)==null?void 0:G.formulas)||{}}),M=Br("bindingContext",null),s=fr(()=>M!==null),E=Mi({}),k=Mi({}),R=Mi({}),F={};Object.keys(h.value).forEach(B=>{E[B]=hn.cloneDeep(h.value[B].defaultValue),h.value[B].isExternal&&!s.value&&(r!=null&&r.component?F[B]=wwLib.wwVariable.registerLibraryComponentVariable({uid:l.uid,componentType:"libraryComponent",name:h.value[B].name,id:`${l.uid}-${h.value[B].id}`,defaultValue:h.value[B].defaultValue,type:h.value[B].type,readonly:!0,resettable:!1,libraryContext:r,sectionId:p}):F[B]=wwLib.wwVariable.registerComponentVariable({uid:l.uid,componentType:"libraryComponent",name:h.value[B].name,id:`${l.uid}-${h.value[B].id}`,defaultValue:h.value[B].defaultValue,type:h.value[B].type,readonly:!0,resettable:!1,sectionId:p}))});function C(B){k[B]=(...G)=>{var se,_e,Me;const Z=(((_e=(se=c.value)==null?void 0:se[B])==null?void 0:_e.parameters)||[]).map(he=>he.name||""),K=["getValue","context","baseUid","props","variables","formulas","args","__wwItem",...Z],te=[tn,r,e,n,E,k,G,(Me=c.value)==null?void 0:Me[B],...G];return new Function(...K,` return getValue(
                    {...__wwItem, __wwtype: __wwItem.type},
                    {...context, component: { baseUid, props, variables, formulas }},
                    { recursive: false, args: {names: '${Z.join(", ")}', value: args } }
                );`)(...te)}}return Object.keys(c.value).forEach(B=>{C(B)}),{variables:E,formulas:k,updateVariable(B,G,{path:Z,index:K,arrayUpdateType:te,workflowContext:se={}}={}){se={...se||{},executionContext:{...(se==null?void 0:se.executionContext)||{},libraryComponentIdentifier:{...l,baseUid:e}}};const _e=h.value[B]||R[B];try{if(!_e)throw wwLib.logStore.error(`Try to set variable ${B} (not found)`,{type:se?"action":null,workflowContext:se}),new Error("variable not found");if(G===void 0&&!["delete","shift","pop"].includes(te))return;if(G=PR(_e,G,{path:Z,arrayUpdateType:te}),G&&typeof G=="object"&&["object","array"].includes(_e.type)&&(G=_.cloneDeep(G)),_e.type==="object"&&Z)E[B]=E[B]||{},hn.set(E[B],Z,G),wwLib.logStore.verbose(`Variable _wwLocalVariable(${B}) update`,{preview:G,workflowContext:se,type:se?"action":null});else if(_e.type==="array"&&te)switch(E[B]=E[B]||[],K=K||0,te){case"update":{let Me=`[${K}]`;Z&&(Me=`${Me}.${Z}`),hn.set(E[B],Me,G),wwLib.logStore.verbose(`Updating partially array variable _wwLocalVariable(${B}) `,{preview:G,workflowContext:se,type:se?"action":null});break}case"delete":E[B].splice(K,1),wwLib.logStore.verbose(`Deleting item ${K} from array _wwLocalVariable(${B})`,{workflowContext:se,type:se?"action":null});break;case"insert":E[B].splice(K,0,G),wwLib.logStore.verbose(`Inserting value into array variable at index ${K} _wwLocalVariable(${B}) `,{preview:G,workflowContext:se,type:se?"action":null});break;case"unshift":E[B].unshift(G),wwLib.logStore.verbose(`Removing first element from array variable _wwLocalVariable(${B}) `,{workflowContext:se,type:se?"action":null});break;case"push":E[B].push(G),wwLib.logStore.verbose(`Adding value at the end of the array variable _wwLocalVariable(${B}) `,{preview:G,workflowContext:se,type:se?"action":null});break;case"shift":E[B].shift(G),wwLib.logStore.verbose(`Adding value at the start of the array variable _wwLocalVariable(${B}) `,{preview:G,workflowContext:se,type:se?"action":null});break;case"pop":E[B].pop(G),wwLib.logStore.verbose(`Removing last value of the array variable _wwLocalVariable(${B})`,{workflowContext:se,type:se?"action":null});break}else E[B]=G,wwLib.logStore.verbose(`Setting value for _wwLocalVariable(${B}) `,{preview:_.cloneDeep(G),workflowContext:se,type:se?"action":null});return _e.isExternal&&F[B]&&(r!=null&&r.component?r.component.methods.updateVariable(F[B],G,{path:Z,index:K,arrayUpdateType:te,workflowContext:se}):wwLib.wwVariable.updateValue(F[B],G,{path:Z,index:K,arrayUpdateType:te,workflowContext:se})),G}catch(Me){wwLib.logStore.error(`Unable to update variable ${_e?`${_e.name} of type ${_e.type}`:""} (${B}) : ${Me.message} - got : `,{workflowContext:se}),wwLib.logStore.error(G)}},componentVariablesConfiguration:R}}let ok=1;const $6={components:{wwElementComponent:IR},inheritAttrs:!1,props:{uid:{type:String,required:!0},isPopup:{type:Boolean,default:!1}},setup(e){const r=ok,n=sm("libraryComponent",e.uid);ok++;const l=Br("wwLayoutContext",{}),p=Br("bindingContext",null);fr(()=>p&&p.isACopy),Br("__wwContainerType",null),An("wwLibraryComponentUid_",e.uid);const h=vh(),c=Oi(null),M=Br("_wwLibraryComponentContext",null),s=Br("_wwDropzoneContext",null),E=Br("_wwLocalContext",null),k=Mi({item:fr(()=>p||{}),layout:fr(()=>({id:l.layoutId})),component:M==null?void 0:M.component,get thisInstance(){var Lt,ot;return(ot=(Lt=c.value)==null?void 0:Lt.component)==null?void 0:ot.$el},dropzone:s,local:E}),{currentStates:R,addInternalState:F,removeInternalState:C}=JL({uid:e.uid,type:"element"},{context:k}),{content:B,style:G,state:Z,rawStyle:K,rawState:te}=XL({type:"libraryComponent",uid:e.uid,componentId:r,currentStates:R,context:k}),{variables:se,updateVariable:_e,formulas:Me,componentVariablesConfiguration:he}=j6(n,{context:k,props:B},{uid:e.uid,componentId:r,type:"element"}),Ge={component:{props:B,baseUid:n,variables:se,workflowsResults:Mi({}),localComponentActionsFn:Mi({elements:{},libraryComponents:{}}),methods:{updateVariable:_e},formulas:Me,componentVariablesConfiguration:he},get thisInstance(){var Lt,ot;return(ot=(Lt=c.value)==null?void 0:Lt.component)==null?void 0:ot.$el}},{triggerLibraryComponentEvent:st,executeLibraryComponentWorkflow:Ne}=D6({baseUid:n,componentIdentifier:{type:"libraryComponent",uid:e.uid}},Ge);Ge.component.methods.executeWorkflow=Ne;const{triggerEvent:Re}=KL({state:Z,componentIdentifier:{type:"libraryComponent",uid:e.uid}},k);Ge.component.methods.triggerEvent=Re;const ut=Br("_wwLibraryComponentCounts",Oi({})),Ke=fr(()=>({...ut.value,[n]:(ut.value[n]||0)+1}));An("_wwLibraryComponentCounts",Ke);const mt={...Br("_wwLibraryComponentLayers",{}),[n]:{componentIdentifier:{type:"libraryComponent",componentId:r,uid:e.uid,baseUid:n},savedContext:{bindingContext:p,libraryComponentContext:M,dropzoneContext:s,localContext:E},childrenData:fr(()=>(B==null?void 0:B.childrenData)||{})}};return An("_wwLibraryComponentLayers",mt),_6({uid:e.uid,componentId:r,repeatIndex:p==null?void 0:p.index},{context:k,executionContext:Ge}),An("bindingContext",null),An("_wwLibraryComponentContext",Ge),e.isPopup&&Tg(()=>{st("_wwClosePopup")}),{addInternalState:F,removeInternalState:C,isLoop:fr(()=>Ke.value[n]>10),triggerEvent:Re,triggerLibraryComponentEvent:st,componentData:Mi({state:Z,style:G,rawState:te,rawStyle:K}),modalsStore:h,elementComponent:c}},computed:{base(){const e=sm("libraryComponent",this.uid);return wwLib.$store.getters["libraries/getComponents"][e]},rootUid(){var e;return(e=this.base)==null?void 0:e.rootElementId}}};function V6(e,r,n,l,p,h){const c=ta("wwElementComponent");return l.isLoop?Hd("",!0):(fi(),_o(c,fl({key:h.rootUid,ref:"elementComponent",uid:h.rootUid,"is-library-component-root":"","library-component-data":l.componentData,"library-component-trigger-event":l.triggerEvent,"library-component-trigger-library-component-event":l.triggerLibraryComponentEvent},e.$attrs,{onAddState:r[0]||(r[0]=M=>l.addInternalState(...M)),onRemoveState:r[1]||(r[1]=M=>l.removeInternalState(...M))}),null,16,["uid","library-component-data","library-component-trigger-event","library-component-trigger-library-component-event"]))}const OR=$o($6,[["render",V6]]),U6={name:"wwFrontPopup",components:{wwLibraryComponent:OR},props:{modal:{type:Object,required:!0},stacked:{type:Boolean,default:!1}},setup(e){var p;const r=vh(),n={close:{description:"Close the popup",method(h){var c;r.close((c=e.modal)==null?void 0:c.uid,h)},editor:{label:"Close this popup instance",group:"Popup",icon:"popup",args:[{name:"data",type:"any",description:"Data to return to the caller",required:!1}],copilot:{description:"Close the popup",schema:{args:{type:"array",description:"Array of length 1, containing the data of any type to return to the caller. Only the content of the first element is bindable.",bindable:!1}},utilsFunctionMatch:"utilsFunctions.closePopup(context, args[0])"}}}},l=fr(()=>{const h=Object.values(r.instances).filter(c=>{var M;return c.libraryComponentBaseId===((M=e.modal)==null?void 0:M.libraryComponentBaseId)});return{instancesCount:h.length,index:h.findIndex(c=>{var M;return c.uid===((M=e.modal)==null?void 0:M.uid)}),totalCount:Object.keys(r.instances).length}});return An("dragZoneId",(p=e.modal)==null?void 0:p.uid),An("_wwPopupStacked",e.stacked),{localMethods:n,data:l}}};function N6(e,r,n,l,p,h){const c=ta("wwLibraryComponent"),M=ta("wwLocalContext");return fi(),_o(M,{methods:l.localMethods,data:l.data,"element-key":"popup"},{default:ac(()=>[go(c,{uid:n.modal.uid,"is-popup":""},null,8,["uid"])]),_:1},8,["methods","data"])}const H6=$o(U6,[["render",N6]]),q6={components:{wwPageLoadProgress:hj,wwFrontPopup:H6},setup(){const e=N5(),r=fr(()=>e.getters["websiteData/getPage"]||{id:null,meta:{}}),n=vh(),l=fr(()=>e.getters["websiteData/getDesignInfo"]||{}),p=fr(()=>e.getters["websiteData/getPageById"](l.value.homePageId)||{id:null,meta:{}});return HO({title:fr(()=>wwLib.wwLang.getText(r.value.title)||wwLib.wwLang.getText(p.value.title)),htmlAttrs:{lang:wwLib.wwLang.lang,amp:!1}}),{designInfo:l,page:r,mousePosition:{x:0,y:0},popupStore:n,sections:fr(()=>{const h=e.getters["websiteData/getSections"];return r.value.sections.map(({uid:c})=>h[c])}),brandingOptions:{href:"https://go.weweb.io/preview",target:"_blank",style:"position: fixed; bottom: 4px; right: 4px; background: rgb(38, 38, 38); color: white; padding: 10px 12px; font-size: 14px; border: 1px solid rgb(97, 97, 97); border-radius: 4px; cursor: pointer; font-weight: 500;"}}},computed:{...gR({designInfo:"websiteData/getDesignInfo",activeLinkPopup:"front/getActiveLinkPopup",screen:"front/getScreenSize",theme:"front/getTheme"}),background(){var e;return UL(((e=this.designInfo)==null?void 0:e.background)||{})}},watch:{activeLinkPopup(){this.activeLinkPopup?document.querySelector("html").classList.add("ww-link-popup-open"):document.querySelector("html").classList.remove("ww-link-popup-open")},theme(){this.setTheme()},background(){this.setBackground()}},mounted(){this.setTheme(),this.setBackground()},methods:{checkBranding(){const r=wwLib.getFrontDocument().querySelectorAll("a");for(const n of r)if(n.innerHTML==="Made with WeWeb"){const l=n.getAttribute("style")===this.brandingOptions.style,p=n.getAttribute("href")===this.brandingOptions.href,h=n.getAttribute("target")===this.brandingOptions.target;if(l&&p&&h)return}this.addBranding()},addBranding(){const e=wwLib.getFrontDocument(),r=e.createElement("a");r.innerHTML="Made with WeWeb",Object.keys(this.brandingOptions).forEach(n=>r.setAttribute(n,this.brandingOptions[n])),e.body.appendChild(r)},setTheme(){this.theme==="dark"?wwLib.getFrontDocument().documentElement.classList.add("ww-app-theme-dark"):wwLib.getFrontDocument().documentElement.classList.remove("ww-app-theme-dark")},setBackground(){wwLib.getFrontDocument().documentElement.style.background=this.background},getTarget(e){return`[data-placeholder-section-uid="${e.uid}"],[data-section-uid="${e.uid}"]`}}},G6=["ww-page-id"],W6={key:0,class:"sections-wrapper"},Z6=["data-placeholder-section-uid"];function X6(e,r,n,l,p,h){const c=ta("wwPageLoadProgress"),M=ta("wwSection"),s=ta("wwLinkPopup"),E=ta("wwFrontPopup"),k=ta("wwElement");return fi(),cl(ko,null,[go(c),Zc("div",{"ww-page-id":l.page.id,class:"website-wrapper"},[l.page&&l.page.pageLoaded?(fi(),cl("div",W6,[(fi(!0),cl(ko,null,J_(l.sections,(R,F)=>(fi(),cl(ko,{key:R.uid},[Zc("div",{class:"placeholder-section","data-placeholder-section-uid":R.uid},null,8,Z6),go(M,{uid:R.uid,"section-index":F,index:F,"ww-responsive":`ww-section-${F}`},null,8,["uid","section-index","index","ww-responsive"])],64))),128))])):Hd("",!0),go(m4,{name:"ww-front-popups",tag:"div"},{default:ac(()=>[e.activeLinkPopup?(fi(),_o(s,{key:0,content:e.activeLinkPopup.content,background:e.activeLinkPopup.background,"section-id":e.activeLinkPopup.sectionId},null,8,["content","background","section-id"])):Hd("",!0)]),_:1}),(fi(!0),cl(ko,null,J_(l.popupStore.stackedPopupUids,(R,F)=>(fi(),_o(k,{key:F,uid:F,"no-interaction":""},{default:ac(()=>[(fi(!0),cl(ko,null,J_(R,C=>(fi(),_o(E,{key:C,modal:l.popupStore.instances[C],stacked:""},null,8,["modal"]))),128))]),_:2},1032,["uid"]))),128)),(fi(!0),cl(ko,null,J_(l.popupStore.singlePopupUids,R=>(fi(),_o(E,{key:R,modal:l.popupStore.instances[R]},null,8,["modal"]))),128))],8,G6)],64)}const K6=$o(q6,[["render",X6],["__scopeId","data-v-ce0b4243"]]);async function J6(){await RR(Object.values(wwLib.$store.getters["data/getCollections"]))}async function RR(e){const r=e.filter(l=>{const p=wwLib.$store.getters["data/getCollections"][l.id];return p.mode!=="static"&&!p.isFetched&&p.config.isAutoFetch}),n=r.filter(l=>{const p=JSON.stringify(l);return!r.filter(h=>h.id!==l.id).find(h=>p.includes(h.id))});n.length&&(await Promise.all(n.map(async l=>wwLib.wwCollection.fetchCollection(l.id))),await RR(e))}function Q6(e){const r=Object.values(wwLib.$store.getters["data/getCollections"]);for(const n of r)n.mode!=="static"&&(wwLib.$store.dispatch("data/setCollectionFetching",{id:n.id,isFetching:!1,isFetched:n.isFetched}),!(!e&&n.config&&n.config.isPersistentOnNav&&(n.isFetched||n.isFetching))&&(wwLib.$store.dispatch("data/setCollection",{...n,data:n.type==="collection"?[]:{},total:0}),wwLib.$store.dispatch("data/setCollectionFetching",{id:n.id,isFetching:!1,isFetched:!1})))}async function Yl(e="onload",r={}){const n=typeof e=="string"?e:e.trigger,l=typeof e=="string"?{}:e.conditions||{},{workflows:p=[],id:h}=wwLib.$store.getters["websiteData/getPage"]||{},{workflows:c=[]}=wwLib.$store.getters["websiteData/getDesignInfo"]||{};await Promise.all([...p.filter(M=>M.trigger===n&&Object.keys((M==null?void 0:M.triggerConditions)||{}).every(s=>{const E=tn(M.triggerConditions[s]);return E==null||E===""||l[s]===E})).map(M=>Xc(M,{...r,executionContext:{type:"p",pageId:h}}).catch(s=>wwLib.wwLog.error(s))),...c.filter(M=>M.trigger===n&&Object.keys((M==null?void 0:M.triggerConditions)||{}).every(s=>{const E=tn(M.triggerConditions[s]);return E==null||E===""||l[s]===E})).map(M=>Xc(M,{...r,executionContext:{type:"a"}}).catch(s=>wwLib.wwLog.error(s)))])}function e$(){wwLib.$store.dispatch("data/resetWorkflowsResult")}let ak=!0;const sk=()=>{Yl("page-unload")};let lk=!1;async function t$(){lk||(lk=!0,wwLib.logStore.verbose("Initializing plugins..."),await wwLib.wwPluginHelper.initPlugins(),wwLib.logStore.verbose("Plugins loaded!"))}async function r$(e,r=!1){const n=gs(wwLib.$pinia);wwLib.logStore.verbose("Loading page data...");const l=ak||r;ak=!1,wwLib.$store.dispatch("front/showPageLoadProgress",!1),await wwLib.wwAuth.init(),Q6(l),e$(),wwLib.logStore.verbose("Reset variables..."),n.resetVariables(e,l),r&&wwLib.$emit("reset-library-variables"),l&&(wwLib.logStore.verbose("Executing before collection fetch app workflows..."),await Yl("before-collection-fetch-app"),wwLib.logStore.verbose("Before collection fetch app workflows done!")),wwLib.logStore.verbose("Executing before collection fetch workflows..."),await Yl("before-collection-fetch"),wwLib.logStore.verbose("Before collection fetch workflows done!"),wwLib.logStore.verbose("Fetching static collections data...",{type:"collections"}),await J6(),wwLib.logStore.verbose("Static collections fetched!",{type:"collections"}),l&&(wwLib.logStore.verbose("Executing app load workflows..."),await Yl("onload-app"),wwLib.logStore.verbose("App load workflows done!")),wwLib.logStore.verbose("Executing on load workflows..."),await Yl("onload"),wwLib.logStore.verbose("On load workflows done!"),wwLib.getFrontWindow().removeEventListener("beforeunload",sk),wwLib.getFrontWindow().addEventListener("beforeunload",sk)}async function n$(){wwLib.logStore.verbose("Executing page unload workflows..."),await Yl("page-unload"),wwLib.logStore.verbose("Page unload workflows done!")}const i$={"f5856798-485d-47be-b433-d43d771c64e1":{id:"c5d026de-9300-46ba-aea9-e9a3fa3cbbfc",name:"Xano Auth",designId:"923b8c4d-7726-453c-86c9-a246db27cba6",pluginId:"f5856798-485d-47be-b433-d43d771c64e1",publicData:{domain:"xxug-eoua-82rr.f2.xano.io",customDomain:"api.flexliving.com",getMeEndpoint:"https://xxug-eoua-82rr.f2.xano.io/api:7szkkFBw/auth/me",loginEndpoint:"https://xxug-eoua-82rr.f2.xano.io/api:7szkkFBw/auth/loginjacques",xBranchEditor:"pre-prod",signupEndpoint:"https://xxug-eoua-82rr.f2.xano.io/api:7szkkFBw/auth/signup",socialProviders:{},xDataSourceEditor:"live",afterNotSignInPageId:"f7244da2-151d-4d7d-95f6-9179e4e7d9c9"}},"fbf0feec-356b-461b-8738-3b1f44edaf02":{id:"95517394-925e-4d7c-8e28-d393613df431",name:"Google GTM",designId:"923b8c4d-7726-453c-86c9-a246db27cba6",pluginId:"fbf0feec-356b-461b-8738-3b1f44edaf02",publicData:{containerIdProd:"GTM-T2HD7XG"}},"2adce8d5-2056-479d-a21a-068f55a8077f":{id:"fcff4ffd-90ae-4da8-91ad-24dd28e528a4",name:"Mapbox",designId:"923b8c4d-7726-453c-86c9-a246db27cba6",pluginId:"2adce8d5-2056-479d-a21a-068f55a8077f",publicData:{}},"29809245-a5ea-4687-af79-952998abab22":{id:"25d7710e-405d-4dc7-9659-4cf303758ec6",name:"Airtable",designId:"923b8c4d-7726-453c-86c9-a246db27cba6",pluginId:"29809245-a5ea-4687-af79-952998abab22",publicData:{}},"2bd1c688-31c5-443e-ae25-59aa5b6431fb":{id:"6c923f12-9d1c-4ca8-8097-347a9887cc0e",name:"REST API",designId:"923b8c4d-7726-453c-86c9-a246db27cba6",pluginId:"2bd1c688-31c5-443e-ae25-59aa5b6431fb",publicData:{}},"00d22f72-1a03-44f8-ad68-c593dc80b543":{id:"a04e3b0a-31ac-4d41-81a9-7ccf38c78195",name:"Stripe",designId:"923b8c4d-7726-453c-86c9-a246db27cba6",pluginId:"00d22f72-1a03-44f8-ad68-c593dc80b543",publicData:{publicApiKey:"pk_live_51JeLyyL84EL7tBqpjy3D9KRDbeXxYqhr9lbwJLQejPW41ingdlzWQn88tWIxxzFqGaFki8u6Yr5WNKQcKyYyuQLM00mibu5YUe",publicTestApiKey:"pk_test_51JeLyyL84EL7tBqp7xfTqMnsLYUnCr4PNsKagiiFwBDb6NaeUeYPpfi125m9CeLk1dffN8mhen7PQ2cNyjG2SNGO00JK6FfZMx"}},"832d6f7a-42c3-43f1-a3ce-9a678272f811":{id:"6e65aca1-4c53-4c2c-a77c-3a0b4c659b51",name:"Date",designId:"923b8c4d-7726-453c-86c9-a246db27cba6",pluginId:"832d6f7a-42c3-43f1-a3ce-9a678272f811",publicData:{favoriteFormat:"D MMMM"}},"cd33cf33-e29f-4e8c-ac26-b997fe507ce7":{id:"6bf19195-ce82-4032-a623-5bd025f7b322",name:"Xano",designId:"923b8c4d-7726-453c-86c9-a246db27cba6",pluginId:"cd33cf33-e29f-4e8c-ac26-b997fe507ce7",publicData:{domain:"xxug-eoua-82rr.f2.xano.io",xBranchProd:"v1",customDomain:"api.flexliving.com",xBranchEditor:"v1",xBranchStaging:"v1",xDataSourceProd:"live",xDataSourceEditor:"live",xDataSourceStaging:"live"}}};var o$={};let m0;const Bx=[];function a$(e){return e.hash?{el:e.hash,behavior:"smooth"}:{top:0}}window.wwg_designInfo={id:"923b8c4d-7726-453c-86c9-a246db27cba6",homePageId:"f7244da2-151d-4d7d-95f6-9179e4e7d9c9",authPluginId:"f5856798-485d-47be-b433-d43d771c64e1",baseTag:{},defaultTheme:"dark",langs:[{lang:"fr",default:!0,isDefaultPath:!0}],background:{},workflows:[],pages:[{id:"f8aed943-1d81-47d7-ae90-7d67422b8d79",linkId:"f8aed943-1d81-47d7-ae90-7d67422b8d79",name:"logements",folder:null,paths:{fr:"{{aptNumber|}}/{{startDate|1635820800}}/{{endDate|1635820800}}",default:"{{aptNumber|}}/{{startDate|1635820800}}/{{endDate|1635820800}}"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"9d637139-90a5-49ca-86a1-18b3ce7beaeb",sectionTitle:"Header Caue",linkId:"86b1e777-9884-41bc-a0f2-cebb96da025e"},{uid:"32fef3d0-756b-4b05-aefc-d5a72c26d289",sectionTitle:"Main Page",linkId:"2ea5c9c9-1a0d-472f-95d4-6f3d7c06fc96"},{uid:"48f3f596-bde7-4f59-96b4-e1df996f14b4",sectionTitle:"Modal FAQ",linkId:"7287fc5d-d754-448b-94f8-4f7ca839ea90"},{uid:"b480ed2f-0dd4-46d2-9f2e-ee2542789dbc",sectionTitle:"moda deco",linkId:"cc2ae440-c535-4ecb-9a59-112d5258145e"}],pageUserGroups:[],title:{en:"Blank | Start from scratch",fr:"Flexliving : Location appartement meubl  Paris"},meta:{desc:{fr:"Dcouvrez ce Studio Flexliving et sjournez en plein cur de Paris. La location de cet appartement entirement meubl est possible  partir d'un mois !"},keywords:{fr:"appartement paris, logement paris, trouver appartement paris, sjour paris, location appartement paris, location appartement mensuelle"},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"e0bd2df6-b254-4d4a-88a5-7523408633d7",linkId:"e0bd2df6-b254-4d4a-88a5-7523408633d7",name:"Reset password",folder:null,paths:{fr:"reset-password",default:"reset-password"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"e1a4f2a5-ab8e-4538-8de7-87901e6fd8e6",sectionTitle:"Reset password",linkId:"3f495198-4aeb-45c6-b71c-1f75ecd48c08"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"4abfaa17-7da9-4f59-9b3a-c7da5b172db2",linkId:"4abfaa17-7da9-4f59-9b3a-c7da5b172db2",name:"login_from_lead",folder:null,paths:{fr:"login_from_lead",default:"login_from_lead"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"0e47331f-032b-4166-9942-57802464f6d6",sectionTitle:"Modal",linkId:"ce0c549d-442d-413c-af57-3fd90d0e2955"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"9dfb54ab-235e-4a9d-8280-8d18a5122941",linkId:"9dfb54ab-235e-4a9d-8280-8d18a5122941",name:"stripe-tests",folder:null,paths:{fr:"stripe-tests",default:"stripe-tests"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"8e75a99d-9067-49ef-ab12-b8a91e9c618b",sectionTitle:"Section",linkId:"9ac4fd00-2aea-41b7-b09f-fd8cc3ac1448"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"0f308549-bee7-4c48-82d7-cffb7bb3e76a",linkId:"0f308549-bee7-4c48-82d7-cffb7bb3e76a",name:"user-details-confirmation",folder:null,paths:{fr:"user-details-confirmation",default:"user-details-confirmation"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"7d497127-afad-4a01-88d3-0173322001e8",sectionTitle:"Section",linkId:"dcf96fa5-3728-4279-8a03-2e2fe417fce8"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"b8f38365-e71a-4487-9059-b697b9c9e707",linkId:"b8f38365-e71a-4487-9059-b697b9c9e707",name:"Payment",folder:null,paths:{fr:"payment",default:"payment"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"0791825e-7e4c-4ed1-8660-ecc46022d2c2",sectionTitle:"Header",linkId:"cbdb8ea3-7b8a-4348-8a53-a118efed61c5"},{uid:"fc8bde88-bfd6-4879-bb42-3601e99c6173",sectionTitle:"Body",linkId:"980c089b-39fe-4b65-b68f-14b9168d8cb1"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"6a01b109-4421-4be3-b250-7b34be1c1004",linkId:"6a01b109-4421-4be3-b250-7b34be1c1004",name:"Mes Rservations",folder:null,paths:{fr:"mesreservations",default:"mesreservations"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"9d637139-90a5-49ca-86a1-18b3ce7beaeb",sectionTitle:"Header Caue",linkId:"86b1e777-9884-41bc-a0f2-cebb96da025e"},{uid:"4e7d8909-857e-42d2-9413-6b7ad14723b0",sectionTitle:"Main Page",linkId:"ab565999-e7e7-42f5-a78f-3f733a9dbd09"},{uid:"e47278d7-172a-4954-b0d7-4a39d9f46fa1",sectionTitle:"Modal",linkId:"0bf55d8e-98b1-4cf2-bc28-99759e3533e8"}],pageUserGroups:[],title:{en:"Blank | Start from scratch",fr:"Flexliving | Mes rservations"},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"411f9c9e-5d28-4606-8779-4feccf35900c",linkId:"411f9c9e-5d28-4606-8779-4feccf35900c",name:"Checkout",folder:null,paths:{fr:"checkout",default:"checkout"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"9d637139-90a5-49ca-86a1-18b3ce7beaeb",sectionTitle:"Header Caue",linkId:"86b1e777-9884-41bc-a0f2-cebb96da025e"},{uid:"dd0a39c4-cbec-4516-8bc2-6869550040ab",sectionTitle:"Main Page",linkId:"c3a4be96-ecad-436a-8ad3-45eae661677a"},{uid:"db2106e7-0ab7-44be-b015-fb724c8ed516",sectionTitle:"moda deco",linkId:"d366be8c-012e-42b3-b118-b1f8813d0c06"},{uid:"ba8b1179-cb83-464c-874f-48d4c29abb9c",sectionTitle:"Modal",linkId:"4da1af8b-b578-479c-8a54-f8ac2f1c9172"}],pageUserGroups:[],title:{en:"Blank | Start from scratch",fr:"Flexliving | Check-out"},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"517edeb8-307a-4679-a87f-919f4d1350a8",linkId:"517edeb8-307a-4679-a87f-919f4d1350a8",name:"user-details-jacques",folder:null,paths:{fr:"user-details-jacques",default:"user-details-jacques"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"50635acf-5c76-48d8-bca7-b90664ae6c95",sectionTitle:"section-header",linkId:"50b7fe32-7854-4af1-b956-171b4f3a7439"},{uid:"1ab7a388-dc1c-4771-8787-b29f1944f828",sectionTitle:"section-content",linkId:"3d1e47d4-564c-4f5b-8392-0e599d09354c"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"f7244da2-151d-4d7d-95f6-9179e4e7d9c9",linkId:"8e106f57-c664-4b2a-90e5-97bfc461d9d2",name:"Appartment listing",folder:null,paths:{default:"home"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"9d637139-90a5-49ca-86a1-18b3ce7beaeb",sectionTitle:"Header Caue",linkId:"86b1e777-9884-41bc-a0f2-cebb96da025e"},{uid:"b13f08e7-bfc0-40fa-b79b-c8894b9be185",sectionTitle:"modal-truslead",linkId:"458fe782-5320-4023-888c-2330e0dc47fc"},{uid:"7f1e96ca-68db-41be-a219-da01cd557696",sectionTitle:"Main Page",linkId:"fec30977-a0ec-428d-b3e1-846da2818967"},{uid:"1bffb0e3-a275-482b-8b6e-b097de274dab",sectionTitle:"moda deco",linkId:"0509d6f8-6e3b-4ff8-83f5-b73402dbce19"},{uid:"f4a6b066-81aa-47fa-ba54-4a8c27d0f1e9",sectionTitle:"Modal",linkId:"4b65aaef-8244-414a-9545-63b9e1837dd5"},{uid:"1fab1d4d-ec20-42f9-aa87-bc91290e1308",sectionTitle:"Modal",linkId:"6b47d707-9beb-45da-a1c3-a3968351681e"},{uid:"a99171a5-6769-4126-9c1f-cefbb62a46f5",sectionTitle:"mapbox",linkId:"3455ad38-515d-4ba7-b255-aabc0d901b7d"}],pageUserGroups:[],title:{en:"Blank | Start from scratch",fr:"Flexliving : studios, T2 et T3. Trouvez un appartement meubl  Paris"},meta:{desc:{fr:"Accdez aux meilleurs appartements meubls dans les plus beaux quartiers de Paris et rservez votre sjour moyenne ou longue dure avec Flexliving."},keywords:{fr:"appartement paris, logement paris, trouver appartement paris, sjour paris, location appartement paris, location appartement mensuelle"},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"95dbb80f-41b0-4284-acbc-c657d0618c68",linkId:"95dbb80f-41b0-4284-acbc-c657d0618c68",name:"password-reset",folder:null,paths:{fr:"password-reset",default:"password-reset"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"9df652ce-0b28-4f4a-9974-15638fe0876d",sectionTitle:"password_reset",linkId:"c5e11344-9b3f-4838-a0cd-39a36251b11e"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"127b10ef-1d67-4977-afd8-219d44b7ecf7",linkId:"127b10ef-1d67-4977-afd8-219d44b7ecf7",name:"verify_email",folder:null,paths:{fr:"verify_email",default:"verify_email"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"e7b80f5e-a90f-46b9-be43-8c1ce1a4d039",sectionTitle:"verify_email",linkId:"7019e809-1d76-4112-8f39-1124f7941d6a"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"a1c2c39b-7341-4245-89a6-9f26ee33d6aa",linkId:"a1c2c39b-7341-4245-89a6-9f26ee33d6aa",name:"logements_hyperflex",folder:null,paths:{fr:"logements_hyperflex",default:"logements_hyperflex"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"71e52103-14c8-4673-9ae9-d96e8f303869",sectionTitle:"Header Caue",linkId:"9f2bd626-81e6-47c6-8631-1f70f799db45"},{uid:"6101a5ed-5b75-4dba-80ac-3c1494c6af7e",sectionTitle:"Main Page",linkId:"4b2113da-718b-45b5-b85b-7b0cf2271c49"},{uid:"c85490be-f5e7-483a-959b-2e29a1c13edf",sectionTitle:"Modal FAQ",linkId:"15310597-7be8-453e-9732-2fb31fdb00ca"}],pageUserGroups:[],title:{en:"Blank | Start from scratch",fr:"Flexliving : Location appartement meubl  Paris"},meta:{desc:{fr:"Dcouvrez ce Studio Flexliving et sjournez en plein cur de Paris. La location de cet appartement entirement meubl est possible  partir d'un mois !"},keywords:{fr:"appartement paris, logement paris, trouver appartement paris, sjour paris, location appartement paris, location appartement mensuelle"},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"c7c712fb-c49d-49ca-80a9-538888ada3f9",linkId:"c7c712fb-c49d-49ca-80a9-538888ada3f9",name:"user-details",folder:null,paths:{fr:"user-details",default:"user-details"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"953892aa-1983-45e8-8e4c-e05c9211fe61",sectionTitle:"Header",linkId:"8ff3994a-7ca9-4248-8072-6fdc10f0b62c"},{uid:"e69cffc9-37de-49ec-bffa-c7ecf33d3e93",sectionTitle:"Description",linkId:"ce92fce9-58ed-4174-a393-9075d7937445"},{uid:"50663728-cc3e-449a-9419-fd9ca853d1e2",sectionTitle:"Contracts details",linkId:"4064dea7-e5a5-4844-927e-0df9d0290169"},{uid:"1d9dda0e-f29f-4807-b232-38eea1ff92bb",sectionTitle:"User form",linkId:"9d2a6684-bcaf-45eb-9152-4a6fc28e1cb8"}],pageUserGroups:[],title:{},meta:{desc:{},keywords:{},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""},{id:"0e5e680a-f817-41a7-b58c-a8d74ce018bb",linkId:"0e5e680a-f817-41a7-b58c-a8d74ce018bb",name:"Hyperflex-map",folder:null,paths:{fr:"hyperflex-map",default:"hyperflex-map"},langs:["fr"],cmsDataSetPath:null,sections:[{uid:"6d7706c2-fa8b-41af-ae18-7911074b5a89",sectionTitle:"Header Caue",linkId:"a40f8326-a951-40bc-82b4-30c7ca82d14a"},{uid:"c929db32-d04c-4be7-af2e-c86a0891ccf5",sectionTitle:"Main Page",linkId:"bc09f081-6678-4b0b-bc5b-8cb08bea06c6"},{uid:"e9626924-e2a1-421f-9dff-0a24f771d83f",sectionTitle:"moda deco",linkId:"54680824-5046-4cb6-917d-5e778a53fe48"},{uid:"725346ef-c52d-40d0-af72-026341329444",sectionTitle:"Modal",linkId:"2a7f47e0-1c09-4c8c-a37d-cd8a9ad06a47"},{uid:"7c6fc8fe-099d-4a4e-97df-5f40e97d98bd",sectionTitle:"Modal",linkId:"96f92cc3-4e39-43a8-9c46-171e21da02f3"},{uid:"83ddb397-887b-4f8a-833c-c46404247097",sectionTitle:"mapbox",linkId:"9decb66d-3913-49d2-85d4-9b3872ac885d"}],pageUserGroups:[],title:{en:"Blank | Start from scratch",fr:"Flexliving : studios, T2 et T3. Trouvez un appartement meubl  Paris"},meta:{desc:{fr:"Accdez aux meilleurs appartements meubls dans les plus beaux quartiers de Paris et rservez votre sjour moyenne ou longue dure avec Flexliving."},keywords:{fr:"appartement paris, logement paris, trouver appartement paris, sjour paris, location appartement paris, location appartement mensuelle"},socialDesc:{},socialTitle:{},structuredData:{}},metaImage:""}],plugins:[{id:"00d22f72-1a03-44f8-ad68-c593dc80b543",name:"Stripe",namespace:"stripe"},{id:"29809245-a5ea-4687-af79-952998abab22",name:"Airtable",namespace:"airtable"},{id:"fbf0feec-356b-461b-8738-3b1f44edaf02",name:"Google GTM",namespace:"gtm"},{id:"2adce8d5-2056-479d-a21a-068f55a8077f",name:"Mapbox",namespace:"mapbox"},{id:"832d6f7a-42c3-43f1-a3ce-9a678272f811",name:"Date",namespace:"dayjs"},{id:"f5856798-485d-47be-b433-d43d771c64e1",name:"Xano Auth",namespace:"xanoAuth"},{id:"2bd1c688-31c5-443e-ae25-59aa5b6431fb",name:"REST API",namespace:"restApi"},{id:"cd33cf33-e29f-4e8c-ac26-b997fe507ce7",name:"Xano",namespace:"xano"}]};window.wwg_cacheVersion=278;window.wwg_pluginsSettings=i$;window.wwg_disableManifest=!1;const FR=window.wwg_designInfo.langs.find(({default:e})=>e)||{},hL=(e,r,n)=>{var h;const l=!r.default||r.isDefaultPath?`/${r.lang}`:"";let p=n||(e.id===window.wwg_designInfo.homePageId?"/":`/${e.paths[r.lang]||e.paths.default}`);p=p.replace(/{{([\w]+)\|([^/]+)?}}/g,":$1"),Bx.push({path:l+p,component:K6,name:`page-${e.id}-${r.lang}`,meta:{pageId:e.id,lang:r,isPrivate:!!((h=e.pageUserGroups)!=null&&h.length)},async beforeEnter(c,M){var s;if(c.name!==M.name){if(wwLib.wwLang.defaultLang=FR.lang,wwLib.$store.dispatch("front/setLang",r.lang),await t$(),(s=e.pageUserGroups)!=null&&s.length){if(!wwLib.wwAuth.plugin)return!1;if(await wwLib.wwAuth.init(),!wwLib.wwAuth.getIsAuthenticated())return window.location.href=`${wwLib.wwPageHelper.getPagePath(wwLib.wwAuth.getUnauthenticatedPageId())}?_source=${c.path}`,null;if(e.pageUserGroups.length>1&&!wwLib.wwAuth.matchUserGroups(e.pageUserGroups.map(({userGroup:E})=>E)))return window.location.href=`${wwLib.wwPageHelper.getPagePath(wwLib.wwAuth.getUnauthorizedPageId())}?_source=${c.path}`,null}try{if(await PB(Object.assign({"../pages/0e5e680a-f817-41a7-b58c-a8d74ce018bb.js":()=>Zn(()=>import("./0e5e680a-f817-41a7-b58c-a8d74ce018bb-Cvp1y2gD.js"),__vite__mapDeps([24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52])),"../pages/0f308549-bee7-4c48-82d7-cffb7bb3e76a.js":()=>Zn(()=>import("./0f308549-bee7-4c48-82d7-cffb7bb3e76a-DViwgqNq.js"),__vite__mapDeps([53,33,34,39,40,45,46,49,50])),"../pages/127b10ef-1d67-4977-afd8-219d44b7ecf7.js":()=>Zn(()=>import("./127b10ef-1d67-4977-afd8-219d44b7ecf7-BJqEIGU5.js"),__vite__mapDeps([54,35,36,37,38,43,44,45,46,47,48,49,50])),"../pages/411f9c9e-5d28-4606-8779-4feccf35900c.js":()=>Zn(()=>import("./411f9c9e-5d28-4606-8779-4feccf35900c-20C56rbs.js"),__vite__mapDeps([55,25,26,29,30,33,34,35,36,37,38,56,57,39,40,41,42,43,44,45,46,47,48,58,59,49,50,51,52,60])),"../pages/4abfaa17-7da9-4f59-9b3a-c7da5b172db2.js":()=>Zn(()=>import("./4abfaa17-7da9-4f59-9b3a-c7da5b172db2-Dmmc4Qe6.js"),__vite__mapDeps([61,25,26,35,36,37,38,39,40,43,44,45,46,47,48,51,52])),"../pages/517edeb8-307a-4679-a87f-919f4d1350a8.js":()=>Zn(()=>import("./517edeb8-307a-4679-a87f-919f4d1350a8-JeALT5AS.js"),__vite__mapDeps([62,25,26,33,34,37,38,39,40,63,64,43,44,45,46,47,48,58,59,49,50,65])),"../pages/6a01b109-4421-4be3-b250-7b34be1c1004.js":()=>Zn(()=>import("./6a01b109-4421-4be3-b250-7b34be1c1004-BUY9J9Il.js"),__vite__mapDeps([66,29,30,33,34,35,36,37,38,56,57,39,40,43,44,45,46,47,48,49,50,51,52])),"../pages/95dbb80f-41b0-4284-acbc-c657d0618c68.js":()=>Zn(()=>import("./95dbb80f-41b0-4284-acbc-c657d0618c68-BQakpE0T.js"),__vite__mapDeps([67,35,36,37,38,43,44,45,46,47,48,49,50])),"../pages/9dfb54ab-235e-4a9d-8280-8d18a5122941.js":()=>Zn(()=>import("./9dfb54ab-235e-4a9d-8280-8d18a5122941-0s6NagNp.js"),__vite__mapDeps([68,49,50])),"../pages/a1c2c39b-7341-4245-89a6-9f26ee33d6aa.js":()=>Zn(()=>import("./a1c2c39b-7341-4245-89a6-9f26ee33d6aa-BKmiTULi.js"),__vite__mapDeps([69,27,28,29,30,33,34,39,40,43,44,45,46,49,50,51,52])),"../pages/b8f38365-e71a-4487-9059-b697b9c9e707.js":()=>Zn(()=>import("./b8f38365-e71a-4487-9059-b697b9c9e707-BNT_P1Ii.js"),__vite__mapDeps([70,33,34,35,36,37,38,45,46,58,59,49,50])),"../pages/c7c712fb-c49d-49ca-80a9-538888ada3f9.js":()=>Zn(()=>import("./c7c712fb-c49d-49ca-80a9-538888ada3f9-C1ce_h_s.js"),__vite__mapDeps([71,25,26,29,30,33,34,37,38,39,40,63,64,43,44,45,46,47,48,49,50])),"../pages/e0bd2df6-b254-4d4a-88a5-7523408633d7.js":()=>Zn(()=>import("./e0bd2df6-b254-4d4a-88a5-7523408633d7-BryCj0Ih.js"),__vite__mapDeps([72,37,38,43,44,45,46,47,48,49,50])),"../pages/f7244da2-151d-4d7d-95f6-9179e4e7d9c9.js":()=>Zn(()=>import("./f7244da2-151d-4d7d-95f6-9179e4e7d9c9-DzjXojcs.js"),__vite__mapDeps([73,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,74])),"../pages/f8aed943-1d81-47d7-ae90-7d67422b8d79.js":()=>Zn(()=>import("./f8aed943-1d81-47d7-ae90-7d67422b8d79-Cdle3Br4.js"),__vite__mapDeps([75,27,28,29,30,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,76]))}),`../pages/${e.id.split("_")[0]}.js`,3),await wwLib.wwWebsiteData.fetchPage(e.id),c.hash){const E=document.getElementById(c.hash.replace("#",""));E&&E.scrollIntoView()}else document.body.scrollTop=document.documentElement.scrollTop=0;return}catch(E){if(wwLib.$store.dispatch("front/showPageLoadProgress",!1),E.redirectUrl)return{path:E.redirectUrl||"404"};window.location=c.fullPath}}}})};for(const e of window.wwg_designInfo.pages)for(const r of window.wwg_designInfo.langs)e.langs.includes(r.lang)&&hL(e,r);const gb=window.wwg_designInfo.pages.find(e=>e.paths.default==="404");if(gb){for(const e of window.wwg_designInfo.langs)gb.langs.includes(e.lang)&&hL(gb,{default:!1,lang:e.lang},"/:pathMatch(.*)*");hL(gb,{default:!0,isDefaultPath:!1,lang:FR.lang},"/:pathMatch(.*)*")}else Bx.push({path:"/:pathMatch(.*)*",async beforeEnter(){window.location.href="/404"}});let pL={};const s$=!window.location.host.includes("-staging."+(o$.WW_ENV==="staging"?"weweb-preview.io":""))&&!window.location.host.includes("weweb-preview.io");var EI;if(s$&&((EI=window.wwg_designInfo.baseTag)!=null&&EI.href)){let e=window.wwg_designInfo.baseTag.href;e.startsWith("/")||(e="/"+e),e.endsWith("/")||(e+="/"),pL={base:e,history:rL(e),routes:Bx}}else pL={history:rL(),routes:Bx};m0=iR({...pL,scrollBehavior:a$});let uk=!0;m0.beforeEach(async(e,r)=>{e.name!==r.name&&(uk||await n$(),uk=!1,wwLib.globalVariables._navigationId++)});m0.afterEach((e,r,n)=>{wwLib.$store.dispatch("front/showPageLoadProgress",!1);let l=r.path,p=e.path;l.endsWith("/")||(l=l+"/"),p.endsWith("/")||(p=p+"/"),!(n||r.name&&p===l)&&r$(e)});const DM=m0,l$=()=>({pageId:null,design:{info:null,pages:[]},sections:{},wwObjects:{},history:{undo:[],redo:[]},plugins:[]}),u$={setFullDesign(e,r){e.design.info={...r,pages:void 0,plugins:void 0};for(let n of r.pages)e.design.pages.push(n)},updateDesignInfo(e,r){e.design.info={...r,_isFromSocket:void 0}},setFonts(e,r){e.design.info.fonts=r},setPageData(e,r){for(const n in r.sections)e.sections[n]||(e.sections[n]=r.sections[n]);for(const n in r.wwObjects)e.wwObjects[n]||(e.wwObjects[n]=r.wwObjects[n]);this.commit("websiteData/setPageId",r.page.id);for(const n of e.design.pages)if(n.id===r.page.id){for(const l in r.page)n[l]=r.page[l];n.pageLoaded=!0}else n.pageLoaded=!1;for(const n in e.sections)r.sections[n]||delete e.sections[n];for(const n in e.wwObjects)e.wwObjects[n].parentSectionId&&!r.wwObjects[n]&&delete e.wwObjects[n]},setPageId(e,r){e.pageId=r},addPlugin(e,r){const n=e.plugins.findIndex(l=>l.name===r.name);if(n!==-1){const l=e.plugins[n],p=l.isDev?{...l,...r}:{...r,...l};e.plugins.splice(n,1,p)}else e.plugins.push({id:r.id,isDev:r.isDev,isLoaded:r.isLoaded,name:r.name,namespace:r.namespace,settings:r.settings})},updatePlugin(e,{pluginId:r,settings:n,isDev:l,isLoaded:p}){const h=e.plugins.find(c=>c.namespace===r||c.id===r);h&&(n&&(h.settings=n),typeof l=="boolean"&&(h.isDev=l),typeof p=="boolean"&&(h.isLoaded=p))}},c$={async setFullDesign(e,r){e.commit("setFullDesign",r),r.plugins.forEach(n=>e.commit("addPlugin",n))},async setAllData(e,r){const n=gs(wwLib.$pinia);r.collections&&e.dispatch("data/setNewCollections",r.collections,{root:!0});for(const p of r.variables)n.getConfiguration(p.id)||(n.add("website",p.id,p),n.values[p.id]=hn.cloneDeep(p.defaultValue));r.formulas&&e.dispatch("data/setFormulas",r.formulas,{root:!0}),r.workflows&&e.dispatch("data/setGlobalWorkflows",r.workflows,{root:!0}),r.libraryComponents&&e.dispatch("libraries/setComponents",r.libraryComponents,{root:!0}),e.commit("setPageData",r.page);const l=Object.keys(r.page.sections);n.cleanComponent(l)},setPageId(e,r){e.commit("setPageId",r||e.getters.getDesignInfo.homePageId)},setPageIdFromRoute(e,r){const n=e.state.design.info.langs.map(h=>h.lang);function l(h){h&&h[0]=="/"&&(h=h.substring(1)),h&&h[h.length-1]=="/"&&(h=h.substring(0,h.length-1));for(const c of n)h&&h.indexOf(c+"/")===0&&(h=h.substring(c.length+1)),h&&h==c&&(h="@home");return h}const p={};r=l(r)||"@home";for(const h of e.state.design.pages)if(h.id==e.state.design.info.homePageId)p["@home"]=h.id,p["/"]=h.id;else for(const c of h.langs)p[l(h.paths[c]||h.paths.default)]=h.id;p[r]?e.commit("setPageId",p[r]):p[404]?e.commit("setPageId",p[404]):e.commit("setPageId",p["@home"])},addPlugin({commit:e},r){return e("addPlugin",r),r},addDevPlugin({commit:e},{id:r,name:n,namespace:l}){const p={id:r,name:n,namespace:l||r,repository:{},icon:"code",isDev:!0,settings:{publicData:{},privateData:{}}};return e("addPlugin",p),p},updatePlugin({commit:e},{pluginId:r,settings:n,isDev:l,isLoaded:p}){e("updatePlugin",{pluginId:r,settings:n,isDev:l,isLoaded:p})},async updatePluginSettings({commit:e,getters:r},{pluginId:n,settings:l}){if(!l)return;r.getPluginById(n)&&await window.wwLib.wwPlugin.saveSettings(n,l.id,l.publicData,l.privateData),e("updatePlugin",{pluginId:n,settings:l})}},IM={getFullPage(e){let r=null;for(const n of e.design.pages)if(n.id==e.pageId){r=_.cloneDeep(n);for(const l in r.sections)r.sections[l]=_.cloneDeep(e.sections[r.sections[l].uid]);r=this.parseFullObject(e,r)}return r},parseFullObject(e,r,n=!1){if(!r||typeof r!="object")return r;if(Array.isArray(r)){const p=[];return r.forEach(h=>{p.push(this.parseFullObject(e,h,n))}),p}if(r.isWwObject&&r.uid){const p=e.wwObjects[r.uid];if(!p)return{};if(n){const h={...p,content:this.parseFullObject(e,p.content,n),_state:this.parseFullObject(e,p._state,n),isWwObject:!0};return delete h.uid,h}else return{...p,content:this.parseFullObject(e,p.content,n),_state:this.parseFullObject(e,p._state,n)}}const l={};return Object.keys(r).forEach(p=>{l[p]=this.parseFullObject(e,r[p],n)}),l}},d$={getDesign(e){return e.design?e.design:null},getDesignInfo(e){return!e.design||!e.design.info?{}:e.design.info},getPages(e){return e.design.pages},getPage:e=>e.design.pages.find(r=>r.id===e.pageId),getPageById:e=>r=>e.design.pages.find(n=>n.id===r),getPageByLinkId:e=>r=>e.design.pages.find(n=>n.linkId===r||n.id===r),getFullPage(e){return IM.getFullPage(e)},getPageId(e){return e.pageId},getComponentAvailableStates:e=>({type:r,uid:n})=>{let l;return r==="section"?l=e.sections[n]&&e.sections[n]._state||{}:l=e.wwObjects[n]&&e.wwObjects[n]._state||{},(l.states||[]).map(p=>p.id)},getComponentRawStates:e=>({type:r,uid:n})=>{let l;return r==="section"?l=e.sections[n]&&e.sections[n]._state||{}:l=e.wwObjects[n]&&e.wwObjects[n]._state||{},l.states||[]},getWwObjectStyle:e=>r=>{const{_state:n={}}=e.wwObjects[r]||{};return n.style||{}},getFullWwObject:e=>(r,n=!1)=>IM.parseFullObject(e,{uid:r,isWwObject:!0},n),getWwObjects(e){return e.wwObjects},getSectionTitle:e=>r=>{var n;return(n=e.design.pages.map(l=>l.sections||[]).flat().find(l=>l.uid===r))==null?void 0:n.sectionTitle},getSectionState:e=>r=>{const{_state:n}=e.sections[r]||{};return n||{}},getFullSection(e){return function(r){if(e.sections[r]){let n=_.cloneDeep(e.sections[r]);return IM.parseFullObject(e,n)}return null}},getSections:e=>e.sections,getIsSectionLinked:e=>r=>e.design.pages.map(n=>n.sections||[]).flat().filter(n=>n.uid===r).length>1,getPlugins:e=>e.plugins,getPluginByComponentId:e=>r=>e.plugins.find(n=>n.id&&`plugin-${n.id}`===r),getPluginByName:e=>r=>e.plugins.find(n=>n.namespace===r),getPluginById:e=>r=>e.plugins.find(n=>r&&n.id===r),getAuthPlugin:e=>e.plugins.find(r=>{var n,l;return r.id===((l=(n=e.design)==null?void 0:n.info)==null?void 0:l.authPluginId)}),getPluginSettings:(e,r)=>n=>{const l=r.getPluginById(n);return l&&l.settings},getPluginIsLoaded:(e,r)=>n=>{const l=r.getPluginById(n);return l&&l.isLoaded}},f$={namespaced:!0,state:l$,mutations:u$,actions:c$,getters:d$},h$=()=>({classes:{"043e9b41-6c6d-4145-a4b0-c8b7db9e0699":{id:"043e9b41-6c6d-4145-a4b0-c8b7db9e0699",_state:{style:{mobile:{width:"100%",border:"1px solid var(--1068cd25-2525-4750-b644-f5c9aef406c5,#282E1F)",height:"35px",aspectRatio:"unset",borderRadius:"5px"},default:{cursor:"pointer",padding:"12px"}}},content:{mobile:{"_ww-layout_justifyContent":"space-between"},default:{"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},subClasses:{}},"6e4f0d16-2ea1-4b84-9288-56e49b8454c0":{id:"6e4f0d16-2ea1-4b84-9288-56e49b8454c0",_state:{style:{}},content:{default:{"_ww-text_ellipsis":!1,"_ww-text_fontSize":"24px","_ww-text_fontWeight":700}},subClasses:{}},"51ebf578-caef-43ec-9cd0-919abf9074e1":{id:"51ebf578-caef-43ec-9cd0-919abf9074e1",_state:{style:{default:{margin:"0 0 0 0px"}}},content:{default:{"_ww-text_ellipsis":!1,"_ww-text_fontSize":"14px","_ww-text_fontWeight":500}},subClasses:{}},"8eba6d2d-2f81-4108-b1cc-beb4d2b8e498":{id:"8eba6d2d-2f81-4108-b1cc-beb4d2b8e498",_state:{style:{}},content:{default:{"_ww-text_ellipsis":!1,"_ww-text_fontSize":"16px","_ww-text_fontWeight":500}},subClasses:{}},"4c8a2fcb-9ff1-4830-9b78-9cfc473c6d48":{id:"4c8a2fcb-9ff1-4830-9b78-9cfc473c6d48",_state:{style:{}},content:{default:{"_ww-text_ellipsis":!1,"_ww-text_fontSize":"20px","_ww-text_fontWeight":700}},subClasses:{}},"3ecaa852-7ea0-41d1-9c7f-afd9a3d5136a":{id:"3ecaa852-7ea0-41d1-9c7f-afd9a3d5136a",_state:{style:{}},content:{default:{"_ww-text_color":"","_ww-text_ellipsis":!1,"_ww-text_fontSize":"15px"}},subClasses:{}},"042614a5-f512-47f1-bde3-d34ec3d5a538":{id:"042614a5-f512-47f1-bde3-d34ec3d5a538",_state:{style:{mobile:{},tablet:{},default:{width:"auto",border:"1px solid var(--1068cd25-2525-4750-b644-f5c9aef406c5,#282E1F)",cursor:"pointer",height:"auto",padding:"2px",borderRadius:"16px",backgroundColor:"#FFFFFF"}}},content:{mobile:{},tablet:{},default:{icon:"fas fa-circle",color:"#FFFFFF",fontSize:10}},subClasses:{}},"7d79971b-d194-4107-ad52-eb3f8b738007":{id:"7d79971b-d194-4107-ad52-eb3f8b738007",_state:{style:{default:{align:"flex-start",cursor:"pointer",height:"42px",padding:"8px 16px",aspectRatio:"unset",borderRadius:"0px",backgroundColor:"var(--1068cd25-2525-4750-b644-f5c9aef406c5,#282E1F)"}}},content:{default:{"_ww-text_color":"var(--8b8679df-39d5-4f5c-9040-857e0b04c522,#D4F872)","_ww-text_ellipsis":!1,"_ww-text_fontSize":"14px","_ww-text_fontWeight":500,"_ww-text_lineHeight":"20px"}},subClasses:{"4c7dff46-29fe-435b-a10b-36d37a7bc81c":{id:"4c7dff46-29fe-435b-a10b-36d37a7bc81c",name:"button-precedent",_state:{style:{default:{backgroundColor:"var(--e54df739-214a-4371-8c62-0ae9d52b352e,#93968B)"}}},content:{default:{"_ww-text_color":"var(--50d2262e-18d4-4a21-9bd7-891e0b3b8c91,#FBFAF9)"}},libraryId:"db7ac449-6cbd-4c1e-a9da-7fbf37a823f1"}}},"806020b1-13e0-4412-adc2-64c6da254a55":{id:"806020b1-13e0-4412-adc2-64c6da254a55",_state:{style:{mobile:{},tablet:{},default:{width:"100%",border:"1px solid #000000CC",height:"1px",aspectRatio:"unset"}}},content:{default:{"_ww-layout_alignItems":"flex-start","_ww-layout_flexDirection":"column"}},subClasses:{}},"4c5693ad-593f-473d-8e7e-1a0940c0d8dd":{id:"4c5693ad-593f-473d-8e7e-1a0940c0d8dd",_state:{style:{mobile:{},tablet:{},default:{border:"1px solid var(--52fd7d3f-f17d-486a-af7e-ee9c7bf2191d,#F5F3EF)",height:"36px",margin:"0px 0px",padding:"8px",borderRadius:"0px",backgroundColor:"#FFFFFF"}}},content:{mobile:{},tablet:{},default:{"_ww-text_ellipsis":!1,"_ww-text_fontSize":"15px"}},subClasses:{}}},components:{}}),p$={setClass(e,r){e.classes[r.id]=r},setComponent(e,r){e.components[r.id]=r}},m$={setClasses({commit:e},r){for(const n of r)e("setClass",n)},setComponents({commit:e},r){for(const n of r)e("setComponent",n)}},_$={getClasses:e=>e.classes,getComponents:e=>e.components},g$={namespaced:!0,state:h$,mutations:p$,actions:m$,getters:_$};function y$(){return{collections:{},pageParameterVariables:{},formulas:{},pluginFormulas:{},globalWorkflows:{},workflowsResults:{}}}const b$={setCollection(e,r){e.collections[r.id]||(e.collections[r.id]={});for(const n in r)n==="data"?r.data?hn.set(e.collections[r.id],"data",Gx(di(r.data))):hn.set(e.collections[r.id],"data",null):n==="fields"?(Object.keys(r.fields).length||!e.collections[r.id].fields)&&hn.set(e.collections[r.id],"fields",r.fields):n==="offset"||n==="total"?hn.set(e.collections[r.id],n,r[n]||0):hn.set(e.collections[r.id],n,r[n])},setCollectionOffset(e,{collectionId:r,offset:n}){e.collections[r]&&hn.set(e.collections[r],"offset",n)},deleteCollection(e,r){delete e.collections[r]},setCollectionFetching(e,{id:r,isFetching:n,isFetched:l}){hn.set(e.collections[r],"isFetching",n),l!==void 0?hn.set(e.collections[r],"isFetched",l):hn.set(e.collections[r],"isFetched",!n)},setPageParameterVariable(e,r){e.pageParameterVariables[r.id]?Object.assign(e.pageParameterVariables[r.id],r):e.pageParameterVariables[r.id]=r},removePageParameterVariables(e){e.pageParameterVariables={}},setFormula(e,r){hn.set(e.formulas,r.id,r)},setPluginFormula(e,r){hn.set(e.pluginFormulas,r.id,r)},setWorkflowActionResult(e,{workflowId:r,actionId:n,result:l,error:p}){hn.set(e.workflowsResults,`${r}.${n}.result`,l),hn.set(e.workflowsResults,`${r}.${n}.error`,p)},setWorkflowError(e,{workflowId:r,value:n}){hn.set(e.workflowsResults,`${r}.error`,n)},setWorkflowActionLoop(e,{workflowId:r,actionId:n,loop:l}){hn.set(e.workflowsResults,`${r}.${n}.loop`,l)},initGlobalWorkflow(e,r){hn.set(e.globalWorkflows,r.id,r)},setGlobalWorkflow(e,r){hn.set(e.globalWorkflows,r.id,r)},resetWorkflowsResult(e){e.workflowsResults={}}},v$={setCollections({commit:e},r){for(const n of r)n&&(e("setCollection",{...n,isFetching:n.mode!=="static"}),e("setCollectionFetching",{id:n.id,isFetching:!1,isFetched:n.mode==="static"}))},setNewCollections({commit:e,state:r},n){for(const l of Object.values(r.collections))l.mode!=="static"&&(l.config.isPersistentOnNav||e("deleteCollection",l.id));for(const l of n)l&&(r.collections[l.id]||(e("setCollection",{...l,isFetching:l.mode!=="static"}),e("setCollectionFetching",{id:l.id,isFetching:!1,isFetched:l.mode==="static"})))},setCollectionOffset({commit:e},{collectionId:r,offset:n}){e("setCollectionOffset",{collectionId:r,offset:n})},setCollection({commit:e},r){e("setCollection",r)},setCollectionFetching({commit:e},{id:r,isFetching:n,isFetched:l}){e("setCollectionFetching",{id:r,isFetching:n,isFetched:l})},setPageParameterVariables({commit:e,getters:r,rootGetters:n}){e("removePageParameterVariables");const l=n["websiteData/getPage"];if(!l)return;let p={};p=wwLib.getFrontRouter().currentRoute._value.params;const h=r.getPageParameterVariablesFromId(l.id);for(const c of h)e("setPageParameterVariable",{...c,value:p[c.id]})},removePageParameterVariables({commit:e}){e("removePageParameterVariables")},setFormulas({dispatch:e},r){for(const n of r)e("setFormula",n)},setFormula({commit:e},r){r&&e("setFormula",r)},setPluginFormula({commit:e},r){r&&e("setPluginFormula",r)},setWorkflowActionResult({commit:e},r){e("setWorkflowActionResult",r)},setWorkflowError({commit:e},r){e("setWorkflowError",r)},setWorkflowActionLoop({commit:e},r){e("setWorkflowActionLoop",r)},initGlobalWorkflows({dispatch:e},r){for(const n of r)e("initGlobalWorkflow",n)},initGlobalWorkflow({commit:e},r){r&&e("initGlobalWorkflow",r)},setGlobalWorkflows({dispatch:e},r){for(const n of r)e("setGlobalWorkflow",n)},setGlobalWorkflow({commit:e},r){r&&e("setGlobalWorkflow",r)},resetWorkflowsResult({commit:e}){e("resetWorkflowsResult")}},w$={getCollections(e){return e.collections},getPaginationOptions:e=>r=>{const n=e.collections[r];return!n||!n.limit?null:{total:n.total,limit:parseInt(wwLib.wwFormula.getValue(n.limit)),offset:n.offset||0}},getPageCollectionIndex(e,r,n,l){const p=l["websiteData/getPageId"],[,h]=p.split("_");return h||0},getPageCollectionData(e,r,n,l){return l["websiteData/getPage"].data},getPageParameterVariables(e){return e.pageParameterVariables},getPageParameterVariablesFromId:(e,r,n,l)=>p=>{const h=l["websiteData/getPageById"](p)||l["websiteData/getPageByLinkId"](p);return!h||!h.paths?[]:[...h.paths.default.matchAll(/{{([\w]+)\|([^/]+)?}}/g)].map(([,M,s])=>({type:"query",id:M,name:M,value:s,defaultValue:s,pageId:h.id,queryName:"wwParam-"+M}))},getFormulas(e){return e.formulas},getPluginFormulas(e){return e.pluginFormulas},getAllFormulas(e,r){return{...r.getFormulas,...r.getPluginFormulas}},getPluginActions:(e,r,n,l)=>{const p=f0(wwLib.$pinia);return Object.values(p.configurations).filter(h=>h.actions).map(h=>{const c=l["websiteData/getPluginByComponentId"](h.name)||l["websiteData/getPluginByName"](h.name);return!c||c.isDev&&!h.wwDev?[]:h.actions.map(M=>({...M,pluginId:c&&c.id}))}).flat().filter(h=>h.pluginId).reduce((h,c)=>{const M=`${c.pluginId}-${c.code}`;return{...h,[M]:{...c,id:M}}},{})},getWorkflowResults:e=>r=>e.workflowsResults[r],getGlobalWorkflows(e){return e.globalWorkflows}},x$={namespaced:!0,state:y$,mutations:b$,actions:v$,getters:w$};var kI;const M$={showPageLoadProgress:!1,lang:"en",screenSize:null,screenSizes:{default:{order:0,label:{en:"Desktop",fr:"Ordinateur"},breakPoint:null,icon:"16/desktop",query:null,defaultWidth:1100,defaultHeight:1100*9/16},tablet:{order:1,label:{en:"Tablet",fr:"Tablette"},breakPoint:991,icon:"16/tablet",query:"max-width: 991px",defaultWidth:770,defaultHeight:770*14/9},mobile:{order:2,label:{en:"Mobile",fr:"Mobile"},breakPoint:767,icon:"16/mobile",query:"max-width: 767px",defaultWidth:400,defaultHeight:400*13/9}},isScreenSizeActive:{},theme:((kI=window.localStorage)==null?void 0:kI.getItem("ww-app-theme"))||void 0,activeLinkPopup:null,elementStates:{}},S$={showPageLoadProgress(e,r){e.showPageLoadProgress=r},setTheme(e,r){e.theme=r},setLang(e,r){e.lang=r},setIsScreenSizeActive(e,{screenSize:r,isActive:n}){e.isScreenSizeActive[r]=!!n},setActiveLinkPopup(e,r){const{content:n,background:l,sectionId:p}=r||{};e.activeLinkPopup=r?{content:n,background:l,sectionId:p}:null}},L$={showPageLoadProgress({commit:e},r){e("showPageLoadProgress",r)},setTheme({commit:e},r){e("setTheme",r),window.localStorage&&window.localStorage.setItem("ww-app-theme",r)},setLang({commit:e},r){e("setLang",r)},setIsScreenSizeActive({commit:e},{screenSize:r,isActive:n}){e("setIsScreenSizeActive",{screenSize:r,isActive:n})},setActiveLinkPopup({commit:e},{content:r,background:n,sectionId:l}){e("setActiveLinkPopup",{content:r,background:n,sectionId:l})},closeActiveLinkPopup({commit:e}){e("setActiveLinkPopup",null)}},T$={showPageLoadProgress(e){return e.showPageLoadProgress},getTheme(e,r,n){var l,p;return e.theme===void 0?(p=(l=n.websiteData.design)==null?void 0:l.info)==null?void 0:p.defaultTheme:e.theme},getLang(e){return e.lang},getScreenSize:e=>{const r=Object.keys(e.isScreenSizeActive).filter(n=>e.isScreenSizeActive[n]).map(n=>({name:n,order:e.screenSizes[n].order}));return r.sort(({order:n},{order:l})=>l-n),r.length?r[0].name:"default"},getScreenSizes:e=>e.screenSizes,getActiveLinkPopup:e=>e.activeLinkPopup},E$={namespaced:!0,state:M$,mutations:S$,actions:L$,getters:T$},k$=aj({modules:{websiteData:f$,libraries:g$,data:x$,front:E$}});var yb={exports:{}},ck;function A$(){if(ck)return yb.exports;ck=1;function e(){}return e.prototype={on:function(r,n,l){var p=this.e||(this.e={});return(p[r]||(p[r]=[])).push({fn:n,ctx:l}),this},once:function(r,n,l){var p=this;function h(){p.off(r,h),n.apply(l,arguments)}return h._=n,this.on(r,h,l)},emit:function(r){var n=[].slice.call(arguments,1),l=((this.e||(this.e={}))[r]||[]).slice(),p=0,h=l.length;for(p;p<h;p++)l[p].fn.apply(l[p].ctx,n);return this},off:function(r,n){var l=this.e||(this.e={}),p=l[r],h=[];if(p&&n)for(var c=0,M=p.length;c<M;c++)p[c].fn!==n&&p[c].fn._!==n&&h.push(p[c]);return h.length?l[r]=h:delete l[r],this}},yb.exports=e,yb.exports.TinyEmitter=e,yb.exports}var PM,dk;function C$(){if(dk)return PM;dk=1;var e=A$();return PM=new e,PM}var D$=C$();const bb=Ct(D$),I$={scrollIntoView(e,r={}){r={left:0,offset:0,behavior:"smooth",...r};const n=e.getBoundingClientRect();wwLib.getFrontDocument().querySelector("html").scrollTo({top:n.top+wwLib.getFrontWindow().scrollY-r.offset,behavior:r.behavior})},addScriptToHead(e,r={},n={}){if(n={once:!0,editor:!1,...n},!!e)return new Promise(function(l,p){try{const h=wwLib.getFrontDocument().head.querySelector(`script[src="${e}"]`);let c;if(h&&n.once)return c=h.getAttribute("id"),l();{c=wwLib.wwUtils.getUid();let M=P$(wwLib.getFrontDocument(),{id:c,type:"text/javascript",src:e,...r});M.onload=function(){return wwLib.$emit("wwUtils:newStyle-"+c),l()},M.onerror=function(){return p()},wwLib.getFrontDocument().head.appendChild(M)}}catch(h){return p(h)}})},addStyleSheetToHead(e,r={},n={}){if(n={editor:!1,...n},!!e)return new Promise(function(l,p){try{const h=wwLib.getFrontDocument().querySelector(`link[href="${e}"]`);let c;if(h)return c=h.getAttribute("id"),l();{c=wwLib.wwUtils.getUid();let M=wwLib.getFrontDocument().createElement("link");M.onload=function(){return wwLib.$emit("wwUtils:newStyle-"+c),l()},M.onerror=function(){return p()},M.setAttribute("href",e),M.setAttribute("id",c),M.setAttribute("rel","stylesheet");for(const s in r)M.setAttribute(s,r[s]);wwLib.getFrontDocument().head.appendChild(M)}}catch{return p()}})},goTo(e,r={},n={}){if(e&&typeof e=="string"&&!e.startsWith("/")&&(e=`/${e}`),e&&typeof e=="string"&&!e.endsWith("/")&&(e=`${e}/`),e=wwLib.getFrontRouter().resolve({path:e,query:r,hash:n.hash}),n&&n.openInNewTab)window.open(e.href,"_blank").focus();else{if(e.href===wwLib.getFrontRouter().currentRoute.value.href&&!n.hash)return;if(wwLib.getFrontRouter().push(e),e.name===wwLib.getFrontRouter().currentRoute.value.name&&n.hash){const l=wwLib.getFrontDocument().getElementById(n.hash.replace("#",""));l?wwLib.wwApp.scrollIntoView(l):wwLib.getFrontWindow().scroll({top:0,left:0,behavior:"smooth"})}}}};function P$(e,r={}){const n=e.createElement("script");return Object.keys(r).forEach(l=>n.setAttribute(l,r[l])),n}const O$={isInitialized:Oi(!1),get plugin(){var e;return wwLib.$store.getters["websiteData/getAuthPlugin"]?wwLib.wwPlugins[(e=wwLib.$store.getters["websiteData/getAuthPlugin"])==null?void 0:e.namespace]:null},async init(){var e;if(!this.isInitialized.value){if((e=this.plugin)!=null&&e._initAuth)try{await this.plugin._initAuth()}catch(r){wwLib.wwLog.error("Error while initializing auth",r)}this.isInitialized.value=!0}},getUser(){var e,r;return(e=this.plugin)!=null&&e._getUser?this.plugin._getUser():(r=this.plugin)==null?void 0:r.user},getIsAuthenticated(){var e,r;return(e=this.plugin)!=null&&e._isAuthenticated?this.plugin._getIsAuthenticated():(r=this.plugin)==null?void 0:r.isAuthenticated},getUnauthenticatedPageId(){var e;return(e=this.plugin)!=null&&e._getUnauthenticatedPageId?this.plugin._getUnauthenticatedPageId():this.plugin.settings.publicData.afterNotSignInPageId},getUnauthorizedPageId(){var e;return(e=this.plugin)!=null&&e._getUnauthorizedPageId?this.plugin._getUnauthorizedPageId():this.plugin.settings.publicData.afterForbiddenPageId||this.plugin.settings.publicData.afterNotSignInPageId},getUserRoles(){var h;if((h=this.plugin)!=null&&h._getUserRoles)return this.plugin._getUserRoles();const e=_.get(this.getUser(),this.plugin.settings.publicData.roleKey),r=this.plugin.settings.publicData.roleType,n=this.plugin.settings.publicData.roleTypeKey,l=this.plugin.settings.publicData.roles;let p=[];if(e)r==="string"?p=[e]:r==="array-string"||!r?p=e:r==="array-object"&&(p=e.map(c=>c[n]));else return[];return Array.isArray(l)&&(p=p.map(c=>{var M;return((M=l.find(s=>s.name===c))==null?void 0:M.id)||c})),p},matchUserGroups(e){var r;return(r=this.plugin)!=null&&r._matchUserGroups?this.plugin._matchUserGroups(e):e.some(n=>n&&this.matchUserGroup(n))},matchUserGroup(e){var r,n;return(r=this.plugin)!=null&&r._matchUserGroup?(n=this.plugin)==null?void 0:n._matchUserGroup(e):this.matchRoles(e==null?void 0:e.roles.map(l=>l.value))},matchRoles(e){var r;return(r=this.plugin)!=null&&r._matchRoles?this.plugin._matchRoles(e):e.every(n=>this.getUserRoles().includes(n))}},R$={_getApiUrl(){return"https://api.weweb.io/v1"},_getPluginsUrl(){return"https://data.weweb.io"},_getPreviewUrl(){const e=wwLib.$store.getters["websiteData/getDesignInfo"];return e.wewebPreviewURL?e.wewebPreviewURL:"weweb-preview.io"},_getCdnUrl(){return"https://cdn.weweb.io/"}},F$={getCollection(e){const r=wwLib.$store.getters["data/getCollections"][e];return r||(wwLib.wwLog.error(`Collection ${e} not found`),null)},getCollectionPluginConfig(e){const r=wwLib.wwCollection.getCollection(e);if(!r)return null;const n=r.pluginId?wwLib.$store.getters["websiteData/getPluginById"](r.pluginId):null;return n?f0(wwLib.$pinia).configurations[`plugin-${n.id}`]:null},getCollectionQueryConfig(e){var n,l;const r=wwLib.wwCollection.getCollectionPluginConfig(e);return((l=(n=r==null?void 0:r.editor)==null?void 0:n.collection)==null?void 0:l.queryConfig)||null},async _fetchCollection(e,{limit:r,offset:n}={}){wwLib.$store.getters["websiteData/getDesignInfo"].id;const l=wwLib.$store.getters["data/getCollections"][e],p=wwLib.$store.getters["websiteData/getPluginById"](l.pluginId);r=r||parseInt(tn(l.limit));const h={...fg(l.config),...fg(l.filter),...fg(l.sort)};if(l.mode==="dynamic"){const M=tn(l.config),s=tn(l.filter),E=tn(l.sort),{data:k,error:R,total:F}=wwLib.wwPlugins[p.namespace]._fetchCollection&&await wwLib.wwPlugins[p.namespace]._fetchCollection({...l,config:M,offset:n,limit:r,filter:s,sort:E})||{};if(k||R)return Array.isArray(k)?{total:F||k.length,offset:n,data:k,type:"collection",error:R}:{data:k,error:R,type:"single"}}const{data:c}=await axios.post(`//${window.location.hostname}/ww/cms_data_sets/${e}/fetch?limit=${r}&offset=${n}`,{variables:h});return c},async fetchCollection(e,{limit:r,offset:n}={},l){const p=wwLib.globalVariables._navigationId;try{const h=wwLib.$store.getters["data/getCollections"][e];if(!h)return;wwLib.logStore.verbose(`Start fetching collection _wwCollection(${e})`,{workflowContext:l,type:l?"action":"collection"}),wwLib.$store.dispatch("data/setCollectionFetching",{id:e,isFetching:!0}),await wwLib.wwPluginHelper.waitPluginsLoaded(),n=n||0;const c=await this._fetchCollection(e,{limit:r,offset:n});if(p!==wwLib.globalVariables._navigationId){wwLib.logStore.verbose(`Cancelling collection _wwCollection(${e}) fetch (navigation)`,{workflowContext:l,type:l?"action":"collection"});return}if(!c||typeof c!="object")return;if(!c.error&&c.type==="collection"){let s=c.data;const E=wwLib.wwCollection.getCollectionQueryConfig(e)||{};h.mode==="dynamic"&&!E.hasNativePagination?(s=Yx(s,h.filter),s=zx(s,h.sort),c.offset=0,c.total=s.length):!h.data||!h.data.length||h.total!==c.total?(s=new Array(c.total).fill(null),s.splice(n,c.data.length,...c.data)):(s=[...h.data],s.splice(n,c.data.length,...c.data)),c.data=s}const M={...h,...c};typeof h.limit=="object"&&(M.limit=h.limit),M.error?(wwLib.logStore.error(`Error happened while fetching collection _wwCollection(${e})`,{error:M.error,workflowContext:l,type:l?"action":"collection"}),Yl("on-collection-fetch-error",{event:{error:M.error.message?M.error.message:M.error,collection:M.config.data,collectionId:M.id,collectionName:M.name}})):wwLib.logStore.verbose(`Data fetched for collection _wwCollection(${e})`,{workflowContext:l,type:l?"action":"collection"}),wwLib.$store.dispatch("data/setCollection",M),p===wwLib.globalVariables._navigationId&&wwLib.$store.dispatch("data/setCollectionFetching",{id:e,isFetching:!1})}catch{p===wwLib.globalVariables._navigationId&&wwLib.$store.dispatch("data/setCollectionFetching",{id:e,isFetching:!1})}},updateCollection(e,r,{updateType:n,updateIndex:l,updateBy:p="index",idKey:h,idValue:c,merge:M=!1,refreshFilter:s=!1,refreshSort:E=!1}={}){const k=wwLib.$store.getters["data/getCollections"][e];let R=n==="delete"?null:JSON.parse(JSON.stringify(r)),F=n&&Array.isArray(k.data)?[...k.data]:R,C=l;if(p==="id"&&(C=F.findIndex(B=>B[h]===c),C===-1))throw wwLib.logStore.error(`Item with id ${c} not found in collection ${e}`),new Error(`Item with id ${c} not found in collection ${e}`);n==="insert"?F.splice(C,0,R):n==="update"?M?F[C]=Array.isArray(R)?[...F[C],...R]:{...F[C],...R}:F[C]=R:n==="delete"&&F.splice(C,1),s&&(F=Yx(F,k.filter)),E&&(F=zx(F,k.sort)),wwLib.$store.dispatch("data/setCollection",{id:e,data:F,total:F.length})},async setOffset(e,r){const n=wwLib.$store.getters["data/getCollections"][e];wwLib.logStore.verbose(`Updating pagination offset of collection ${n.name} (${e})`,{type:"collection"});const l=wwLib.wwCollection.getCollectionQueryConfig(e)||{};n.mode!=="dynamic"||l.hasNativePagination?await this.fetchCollection(e,{offset:r}):await wwLib.$store.dispatch("data/setCollection",{...n,offset:r}),wwLib.logStore.verbose(`Pagination offset of collection ${n.name} (${e}) updated to ${r}`,{type:"collection"})},getPaginationOptions(e){return wwLib.$store.getters["data/getPaginationOptions"](e)},isCollection(e){return e&&!Array.isArray(e)&&typeof e=="object"&&e.type==="collection"},getCollectionData(...e){return wwLib.wwLog.warn("wwLib.wwCollection.getCollectionData is DEPRECATED, use wwLib.wwUtils.getDataFromCollection instead."),wwLib.wwUtils.getDataFromCollection(...e)}};function fg(e,r={}){return e&&(e.__wwtype?r[JSON.stringify(e,Object.keys(e).sort())]=tn(e):Array.isArray(e)?e.forEach(n=>{r={...r,...fg(n)}}):typeof e=="object"&&Object.keys(e).forEach(n=>{r={...r,...fg(e[n])}}),r)}const z$={};function zR(e,r,n,l){const p=p0(r.display,n,l),h={display:p};if(p===!0||p==="flex"||p==="inline-flex"){const c=e["_ww-layout_flexDirection"],M=e["_ww-layout_justifyContent"],s=e["_ww-layout_alignItems"],E=e["_ww-layout_alignContent"],k=e["_ww-layout_rowGap"],R=e["_ww-layout_columnGap"],F=e["_ww-layout_flexWrap"],C=e["_ww-layout_reverse"];c&&(h.flexDirection=c),M&&(h.justifyContent=M),s&&(h.alignItems=s),E&&F&&(h.alignContent=E),k&&(h.rowGap=k),R&&(h.columnGap=R),(c==="column"||F)&&(h.flexWrap=c==="column"||F===!1?"nowrap":"wrap"),c==="column"&&C&&(h.flexDirection="column-reverse"),c==="row"&&C&&(h.flexDirection="row-reverse")}else if(p==="grid"||p==="inline-grid"){const c=e["_ww-grid_flowDirection"],M=Array.isArray(e["_ww-grid_columns"])?e["_ww-grid_columns"].join(" "):"",s=Array.isArray(e["_ww-grid_rows"])?e["_ww-grid_rows"].join(" "):"",E=e["_ww-grid_columnGap"],k=e["_ww-grid_rowGap"];c&&(h.gridAutoFlow=c),M&&(h.gridTemplateColumns=M),s&&(h.gridTemplateRows=s),E&&(h.columnGap=E),k&&(h.rowGap=k)}else if(p==="table"){const c=e["_ww-table_layout"],M=e["_ww-table_borderCollapse"],s=e["_ww-table_borderSpacing"];c&&(h.tableLayout=c),M&&(h.borderCollapse=M),s&&(h.borderSpacing=s)}else(p==="block"||p==="inline-block")&&(h.height="100%",r.textAlign&&(h.textAlign=r.textAlign));return h}const Y$={useCreate(){return Br("componentData",Oi({})),{async createElement(e,{content:r,_state:n}={},{keepChildren:l}={}){wwLib.wwLog.warn('The function "createElement" should not be called on the production website.')},async createElementFromTemplate(e,{keepChildren:r}={}){wwLib.wwLog.warn('The function "createElementFromTemplate" should not be called on the production website.')},async cloneElement(e,{name:r}={}){wwLib.wwLog.warn('The function "cloneElement" should not be called on the production website.')}}},useLayoutStyle(){const e=Br("componentContent"),r=Br("componentStyle"),n=Br("componentConfiguration"),l=Br("componentWwProps"),p={content:e,wwProps:l};return fr(()=>zR(e,r,n,p))},useBackgroundVideo(){const e=Br("componentContent");return fr(()=>e["_ww-backgroundVideo"]?{url:e["_ww-backgroundVideo"],loop:e["_ww-backgroundVideoLoop"],poster:e["_ww-backgroundVideoPoster"],preload:e["_ww-backgroundVideoPreload"],size:e["_ww-backgroundVideoSize"]}:null)},useLink({isDisabled:e,forcedLinkRef:r}={}){const n=Br("componentState",{}),l=Br("componentWwProps",{}),p=Br("wwAddInternalState",()=>{}),h=Br("wwRemoveInternalState",()=>{}),c=Br("sectionId",null),M=Br("bindingContext",null),s=R5(),E=fr(()=>{var G;const C=r?r.value:l.value.wwLink?l.value.wwLink:n.link;if(!C||C.type==="none")return{type:"none"};if(C.type==="open-popup"||C.type==="close-popup")return{type:C.type,content:C.content,background:C.background};const B={type:C.type};switch((C.targetBlank||C.type==="file")&&(B.target="_blank"),C.type==="file"&&(!C.file||typeof C.file=="string"?B.download=!0:B.download=C.file.name),C.query&&(B.query=C.query),C.parameters&&(B.parameters=C.parameters),C.type){case"internal":case"collection":{const Z=Object.values(wwLib.$store.getters["data/getPageParameterVariablesFromId"](C.pageId));if(!C.pageId)B.href="";else{const K=`${C.pageId}${C.type==="collection"?`_${(M==null?void 0:M.repeatIndex)||0}`:""}`,te=wwLib.$store.getters["websiteData/getPageById"](K)||wwLib.$store.getters["websiteData/getPageByLinkId"](K);if(!te)return{type:"none"};B.href=wwLib.wwPageHelper.getPagePath(te.id),B.pageId=te.id;for(const se of Z)B.href=(B.href||"").replace(`{{${se.id}|${se.defaultValue||""}}}`,(G=C.parameters)==null?void 0:G[se.id])}break}case"file":!C.file||typeof C.file=="string"?B.href=C.file||"download":B.href=C.file.url;break;case"mail":B.href=`mailto:${C.href}`;break;case"tel":B.href=`tel:${C.href}`;break;default:B.href=C.href,typeof B.href!="string"&&(B.href=""),B.href&&B.href.startsWith("/")&&(B.type="internal");break}if(C.sectionId&&C.pageId){B.sectionId=C.sectionId;const Z=wwLib.$store.getters["websiteData/getPageById"](C.pageId)||wwLib.$store.getters["websiteData/getPageByLinkId"](C.pageId);if(Z&&Z.sections){const K=Z.sections.find(({uid:te,linkId:se})=>te===C.sectionId||se===C.sectionId);K&&(B.sectionId=K.uid,B.hash=`${wwLib.wwUtils.sanitize(K.sectionTitle)}`)}}return C.loadProgress&&(B.loadProgress=!0,B.loadProgressColor=C.loadProgressColor||"blue"),B}),k=fr(()=>E.value.type==="none"||E.value.type==="open-popup"||E.value.type==="close-popup"?"div":E.value.type==="internal"||E.value.type==="collection"?"router-link":"a"),R=fr(()=>{if(E.value.href){let C,B;return C=E.value.href,C.endsWith("/")&&(C=C.slice(0,-1)),C.startsWith("https://")&&(C=C.replace("https://","")),C.startsWith("http://")&&(C=C.replace("http://","")),B=decodeURI(s.path),B.endsWith("/")&&(B=B.slice(0,-1)),C===B}else return!1});Ao(R,C=>{C?p("_wwLinkActive"):h("_wwLinkActive")},{immediate:!0});function F(C,B){if(wwLib.$emit("wwLink:clicked"),C.stopPropagation(),R.value&&!B.target){if(E.value.sectionId){const G=wwLib.$store.getters["websiteData/getPage"].sections.find(({uid:Z,linkId:K})=>Z===E.value.sectionId||K===E.value.sectionId);if(G){const Z=wwLib.$store.getters["websiteData/getSections"][G.uid];wwLib.wwApp.scrollIntoView(wwLib.getFrontDocument().querySelector(`[data-section-uid="${Z.uid}"]`))}else wwLib.getFrontWindow().scroll({top:0,left:0,behavior:"smooth"})}return}B.target?window.open(B.href).focus():E.value.type==="internal"?wwLib.getFrontRouter().push(B.href):window.location=B.href}return{properties:fr(()=>{var B,G;let C={};switch(E.value.type){case"close-popup":C.onClick=Z=>{jo(e)||(Z.stopPropagation(),wwLib.$emit("wwLink:closePopup"),wwLib.$store.dispatch("front/closeActiveLinkPopup",null))};break;case"open-popup":C.onClick=Z=>{jo(e)||(Z.stopPropagation(),wwLib.$store.dispatch("front/setActiveLinkPopup",{content:E.value.content,background:E.value.background,sectionId:c}))};break;case"none":break;default:{if(C.href=E.value.href,(E.value.type==="internal"||E.value.type==="collection")&&!(C.href||"").endsWith("/")&&(C.href=`${C.href}/`),E.value.query&&E.value.query.length){const K=(B=E.value.query)==null?void 0:B.filter(te=>!!te).map(({name:te,value:se})=>`${encodeURIComponent(te)}=${encodeURIComponent(se)}`).join("&");C.href=`${C.href}${C.href.indexOf("?")!==-1?"&":"?"}${K}`}E.value.hash&&(C.href=`${C.href}#${E.value.hash}`),C.to=C.href,(G=C.href)!=null&&G.startsWith("/")&&(C.href=C.href.slice(1)),E.value.target&&(C.target=E.value.target),E.value.download&&(C.download=E.value.download);const Z=R.value&&E.value.hash&&E.value.target!=="_blank";if(k.value!=="router-link"&&k.value!=="a"||Z){if(jo(e))return;C.onClick=K=>{E.value.loadProgress&&!R.value&&wwLib.$store.dispatch("front/showPageLoadProgress",{color:E.value.loadProgressColor}),F(K,C)}}else C.onClick=K=>{wwLib.$emit("wwLink:clicked"),E.value.loadProgress&&!R.value&&wwLib.$store.dispatch("front/showPageLoadProgress",{color:E.value.loadProgressColor}),K.stopPropagation()};break}}return C}),tag:k,hasLink:fr(()=>E.value.type!=="none"),normalizedLink:E}},useRegisterElementLocalContext:z6,getComponentLabel:h0},B$={getValue:tn,useFormula(){const e=Br("bindingContext",null),r=Br("_wwLocalContext",null),n=Br("wwLayoutContext",null),l=Br("_wwLibraryComponentContext",null),p=Br("_wwDropzoneContext",null);return{resolveMappingFormula:(s,E=null,k=null)=>{if(!s||!s.code||!s.type)return k;const R=s.type==="f"?cL:uL;try{return R({code:s.code},{mapping:E,item:e||{},layout:n?{id:n.layoutId}:{},component:l==null?void 0:l.component,dropzone:p,local:(r==null?void 0:r.value)||{}}).value}catch{return k}},resolveFormula:(s,E=null)=>{try{return(s.type==="f"?cL:uL)({code:s.code},{item:e||{},layout:n?{id:n.layoutId}:{},component:l==null?void 0:l.component,dropzone:p,local:(r==null?void 0:r.value)||{}})}catch{return E}},resolveMapping:(s,E={},k={})=>!Array.isArray(s)||!E?[]:s.map((R,F)=>({rawData:R,...k,...Object.keys(E).reduce((C,B)=>({...C,[B]:this.resolveMappingFormula(E[B],{rawData:R,index:F},k[B])}),{})}))}}},j$={defaultLang:"en",init(e){var n,l,p,h;if(!wwLib.wwWebsiteData.getInfo())return;this.defaultLang=((n=wwLib.wwWebsiteData.getInfo().langs.find(c=>c.default))==null?void 0:n.lang)||"en";const r=wwLib.useBaseTag()?wwLib.getBaseTag():"/";wwLib.$store.dispatch("front/setLang",(h=(p=(l=e.resolve(window.location.pathname.replace(r,"/")))==null?void 0:l.meta)==null?void 0:p.lang)==null?void 0:h.lang)},get lang(){return wwLib.$store?wwLib.$store.getters["front/getLang"]:this.defaultLang},set lang(e){this.setLang(e)},setLang(e){if(!(wwLib.$store.getters["websiteData/getPage"].langs||[]).includes(e))return!1;var n=this.lang;return wwLib.$store.dispatch("front/setLang",e),wwLib.$emit("wwLang:changed",{old:n,new:this.lang}),!0},getText(e){return e===void 0?"":e===null||typeof e!="object"?String(e):e[this.lang]!==void 0?e[this.lang]:e[this.defaultLang]!==void 0?e[this.defaultLang]:Object.keys(e).length!=0&&e[Object.keys(e)[0]]||""},setText(e,r,n){return typeof e!="object"&&(e={}),n=n||this.lang,e[n]=r,e}},$$={isAllowed:!1,init(){this.isAllowed=FO.getCookie("debug")},log(...e){this.isAllowed&&console.log(...e)},debug(...e){this.isAllowed&&console.debug(...e)},group(...e){this.isAllowed&&console.group(...e)},groupEnd(...e){this.isAllowed&&console.groupEnd(...e)},warn(...e){console.warn(...e)},info(...e){console.info(...e)},error(...e){console.error(...e)}},V$=3;class fh{static get typeAliases(){return{"ww-text":"d7904e9d-fc9a-4d80-9e32-728e097879ad","ww-image":"3a7d6379-12d3-4387-98ff-b332bb492a63","ww-button":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","ww-icon":"1b1e2173-9b78-42cc-a8ee-a6167caea340","ww-checkbox":"af811adf-94d9-49dd-ab22-e2f29ae30299","ww-video":"1494761b-1d0c-4266-aba7-7f24f824978e","ww-iframe":"6d692ca2-6cdc-4805-aa0c-211102f335d0","ww-columns":"21881619-a984-4847-81a9-922c3dbb5853","ww-container":"086d46a0-9232-4df3-8119-7d3c8779cb1a","ww-flexbox":"b783dc65-d528-4f74-8c14-e27c934c39b1","ww-hover-dropdown":"0dc461bb-103e-4b2e-80e0-846ec3c30a6e","ww-map":"3265984a-eb92-4d73-b702-dbd0e4d1472e","ww-expand":"53401515-b694-4c79-a88d-abeecb1de562","ww-tabs":"fa33562c-495c-4d2e-bc8f-cf5ec449bf6e","navigation-menu":"fb3e0024-f017-4193-a6a1-bc2eed330d1d"}}static getDefault(r,n={},l={},p){return r=this.typeAliases[r]||r,n.default||(n={default:n}),{isWwObject:!0,version:V$,type:r,content:n,name:p,_state:l,wwObjectBaseId:r}}static async create(r,n,l,p,h,c){return await fh.createFromTemplate(fh.getDefault(r,n,l,l&&l.name),p,h,c)}static async createFromTemplate(r,n,l,p){const h=r.type;if(h&&!r.wwObjectBaseId&&(r.wwObjectBaseId=this.typeAliases[h]||h),h&&(h==="ww-button"||h==="ww-text")&&r.content.default.text){const c={...r.content.default};c["_ww-text_text"]=c.text,delete c.text,r.content.default=c}return r.parentSectionId=n,r.parentLibraryComponentId=p,await wwLib.$store.dispatch("websiteData/createWwObjectFromTemplate",{wwObjectTemplate:r,noHistory:!0,keepChildren:l})}static async createLibraryComponentInstance(r){return await wwLib.$store.dispatch("websiteData/createWwObjectFromTemplate",{wwObjectTemplate:{isWwObject:!0,libraryComponentBaseId:r,content:{},_state:{}},noHistory:!0})}static async cloneElement(r,n,l,p){const h=fh.convertToTemplate(r);return{isWwObject:!0,uid:await fh.createFromTemplate({...h,name:l},n,!1,p)}}static convertToTemplate(r){return wwLib.$store.getters["websiteData/getFullWwObject"](r,!0)}static getWwObject(r){return wwLib.$store.getters["websiteData/getWwObjects"][r]}static async removeWwObject(r){async function n(p,h){var c;if(JSON.stringify(h).includes(r)){const M=((c=h.content)==null?void 0:c.default)||{};for(const s in M)if(Array.isArray(M[s])){const E=M[s].findIndex(k=>k.uid===r);if(E!==-1){let k=JSON.parse(JSON.stringify(M[s]));return k.splice(E,1),await wwLib.$store.dispatch("websiteData/removeWwObject",{wwObjectId:r,originElement:{wwObjectId:p=="element"?h.uid:null,sectionId:p=="section"?h.uid:null,path:`content.${s}`,value:k}}),{parentId:h.uid,childPath:s,childIndex:E}}}}}let l;for(const p in wwLib.$store.getters["websiteData/getSections"]){const h=wwLib.$store.getters["websiteData/getSections"][p];if(h.uid===r)continue;const c=await n("section",h);c&&(l={...c,type:"section"})}for(const p in wwLib.$store.getters["websiteData/getWwObjects"]){const h=wwLib.$store.getters["websiteData/getWwObjects"][p];if(h.uid===r)continue;const c=await n("element",h);c&&(l={...c,type:"element"})}return l}static findParentWwObject(r){function n(p,h){var c,M,s,E,k;if(JSON.stringify(h).includes(r)){const R=((c=h.content)==null?void 0:c.default)||{};for(const F in R)if(Array.isArray(R[F])){const C=R[F].findIndex(B=>B.uid===r);if(C!==-1)return{parentId:h.uid,childType:"array",childPath:F,childIndex:C}}else{if(((M=R[F])==null?void 0:M.uid)===r)return{parentId:h.uid,childType:"single",childPath:F};if((E=(s=R[F])==null?void 0:s.repeatable)!=null&&E.length&&((k=R[F])==null?void 0:k.repeatable[0].uid)===r)return{parentId:h.uid,childType:"array",childPath:`${F}.repeatable`,childIndex:0}}}}let l;for(const p in wwLib.$store.getters["websiteData/getSections"]){const h=wwLib.$store.getters["websiteData/getSections"][p];if(h.uid===r)continue;const c=n("section",h);c&&(l={...c,parentSectionId:h.uid,parentLibraryComponentId:h.parentLibraryComponentId,type:"section"})}for(const p in wwLib.$store.getters["websiteData/getWwObjects"]){const h=wwLib.$store.getters["websiteData/getWwObjects"][p];if(h.uid===r)continue;const c=n("element",h);c&&(l={...c,parentSectionId:h.parentSectionId,parentLibraryComponentId:h.parentLibraryComponentId,type:"element"})}return l}static findWwObjectByName(r){for(const n in wwLib.$store.getters["websiteData/getWwObjects"]){const l=wwLib.$store.getters["websiteData/getWwObjects"][n];if(l.name===r)return l}for(const n in wwLib.$store.getters["websiteData/getSections"]){const l=wwLib.$store.getters["websiteData/getSections"][n];if(l.sectionTitle===r)return l}return null}}const U$={getPagePath(e,r=wwLib.wwLang.lang){const n=wwLib.wwWebsiteData.getInfo();if(!n)throw new Error("Project not found.");let l="/";const p=n.langs.find(s=>s.lang===r);if(!p)throw new Error("Lang not found.");const h=wwLib.wwWebsiteData.getPages().find(s=>s.id===e||s.linkId===e);if(!h)throw new Error("Page not found.");const c=h&&h.id===n.homePageId,M=`${l}${p.default&&!p.isDefaultPath?"":`${r}/`}${c?"":h.paths[r]||h.paths.default}`;return M.endsWith("/")?M:`${M}/`},guessPage(e){const n=N$().resolve(e);return n?{pageId:n.name.split("_")[1],params:n.params,collectionIndex:n.name.split("_")[3]}:null}};function N$(){const e=[];for(const r of wwLib.wwWebsiteData.getPages())Object.keys(r.paths).forEach(n=>{r.cmsDataSetPath?hn.getKeyValue(wwLib.$store.getters["data/getCollections"],r.cmsDataSetPath).forEach((p,h)=>{const c=r.paths[n].match(/{{__wwPage\.data\.(\w+)}}/)[1],M=hn.getKeyValue(p,c).toLowerCase().replace(/[^a-z0-9\\_\-\/]+/g,"_");e.push({name:`page_${r.id}_${n}_${h}`,path:(n==="default"?"":"/"+n)+"/"+M})}):e.push({name:`page_${r.id}_${n}`,path:(n==="default"?"":"/"+n)+"/"+r.paths[n].replace(/{{([\w]+)\|([^/]+)?}}/g,":$1")})});return iR({routes:e,history:rL()})}const H$={async registerPlugin(e,r,n=null){var M,s;const l=wwLib.$store.getters["websiteData/getPluginByComponentId"](e)||wwLib.$store.getters["websiteData/getPluginByName"](e)||await wwLib.$store.dispatch("websiteData/addDevPlugin",{...n||{}});wwLib.wwPlugins||(wwLib.wwPlugins=_g({}));let p;p=window.wwg_pluginsSettings[l.id]||{publicData:{},privateData:{}};const c=f0(wwLib.$pinia).configurations[e];wwLib.$store.dispatch("websiteData/updatePlugin",{pluginId:l.id,settings:p,isLoaded:l.isLoaded||!1}),this.mountPlugin(l,{content:((M=this._devPlugins[l.namespace])==null?void 0:M.content)||r,config:((s=this._devPlugins[l.namespace])==null?void 0:s.config)||c,settings:p})},mountPlugin(e,{content:r={},config:n={},settings:l={}}){wwLib.wwPlugins[e.namespace]={...r,name:e.name,namespace:e.namespace,isDev:e.isDev,get id(){return(wwLib.$store.getters["websiteData/getPluginByName"](e.namespace)||{}).id},get isLoaded(){const M=wwLib.$store.getters["websiteData/getPluginByName"](e.namespace)||{};return wwLib.$store.getters["websiteData/getPluginIsLoaded"](M.id)},get settings(){const M=wwLib.$store.getters["websiteData/getPluginByName"](e.namespace)||{};return hn.cloneDeep(wwLib.$store.getters["websiteData/getPluginSettings"](M.id)||{publicData:{},privateData:{}})}},e.id!==e.namespace&&(wwLib.wwPlugins[e.id]=wwLib.wwPlugins[e.namespace]);const p=gs(wwLib.$pinia);let h=n==null?void 0:n.variables;typeof h=="function"?h=h(l):typeof h=="object"&&!Array.isArray(h)&&(h=Object.values(h)),(h||[]).forEach(M=>{p.add("plugin",`${e.id}-${M.name}`,{...M,pluginId:e.id,id:`${e.id}-${M.name}`,value:M.defaultValue,defaultValue:M.defaultValue}),p.values[`${e.id}-${M.name}`]=hn.cloneDeep(M.defaultValue),Object.defineProperty(wwLib.wwPlugins[e.namespace],M.name,{get(){return p.values[`${e.id}-${M.name}`]},set(s){wwLib.wwVariable.updateValue(`${e.id}-${M.name}`,s)}})}),((n==null?void 0:n.formulas)||[]).forEach(M=>{wwLib.$store.dispatch("data/setPluginFormula",{...M,pluginId:e.id,id:`${e.id}-${M.name}`})});const c=new Promise(async M=>{try{wwLib.wwPlugins[e.namespace]._onLoad?await wwLib.wwPlugins[e.namespace]._onLoad(l):wwLib.wwPlugins[e.namespace].onLoad&&await wwLib.wwPlugins[e.namespace].onLoad(l)}catch(s){wwLib.wwLog.error(s)}wwLib.$store.dispatch("websiteData/updatePlugin",{pluginId:e.id,isLoaded:!0}),M()});this._pluginPromises.push(c)},async initPlugins(){await this.waitPluginsLoaded()},async waitPluginsLoaded(){return await Promise.all(this._pluginPromises)},_pluginPromises:[],_devPlugins:{}},q$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function G$(e){return typeof e=="string"&&q$.test(e)}const Ea=[];for(let e=0;e<256;++e)Ea.push((e+256).toString(16).slice(1));function W$(e,r=0){return(Ea[e[r+0]]+Ea[e[r+1]]+Ea[e[r+2]]+Ea[e[r+3]]+"-"+Ea[e[r+4]]+Ea[e[r+5]]+"-"+Ea[e[r+6]]+Ea[e[r+7]]+"-"+Ea[e[r+8]]+Ea[e[r+9]]+"-"+Ea[e[r+10]]+Ea[e[r+11]]+Ea[e[r+12]]+Ea[e[r+13]]+Ea[e[r+14]]+Ea[e[r+15]]).toLowerCase()}let OM;const Z$=new Uint8Array(16);function X$(){if(!OM){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");OM=crypto.getRandomValues.bind(crypto)}return OM(Z$)}const K$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fk={randomUUID:K$};function J$(e,r,n){var p;if(fk.randomUUID&&!e)return fk.randomUUID();e=e||{};const l=e.random??((p=e.rng)==null?void 0:p.call(e))??X$();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,W$(l)}const Q$={getUniqueId(){wwLib.wwLog.warn("wwLib.wwUtils.getUniqueId is deprecated, use wwLib.wwUtils.getUid instead");var e=new Date;return Math.floor((e.getTime()*Math.random()+Math.random()*1e4+Math.random()*100)/100)},getUid(){return J$()},isValidUuid(e){return G$(e)},getCdnPrefix(){return"https://cdn.weweb.io/"},getLengthUnit(e,{defaultLength:r,defaultUnit:n,round:l=!0}={}){if(typeof e!="string")return[0,"auto"];if(e=e||"",typeof e!="string")return[0,"auto"];if(e==="auto")return[0,"auto"];if(e==="unset")return[0,"unset"];if(e==="normal")return[0,"normal"];const p=new RegExp(/^(-?[\d.]+)(.*)$/);let[,h,c]=e.match(p)||[null,r||0,n||"auto"];return c=c||n||"auto",[l?Math.round(h):h,c]},getTextStyleFromContent(e){const r={...e["_ww-text_font"]?{fontSize:"unset",fontFamily:"unset",lineHeight:"unset",fontWeight:"unset",fontStyle:"unset",font:e["_ww-text_font"]||""}:{fontSize:e["_ww-text_fontSize"],fontFamily:e["_ww-text_fontFamily"]||"var(--ww-default-font-family)",lineHeight:e["_ww-text_lineHeight"],fontWeight:e["_ww-text_fontWeight"],fontStyle:e["_ww-text_fontStyle"]},textAlign:e["_ww-text_textAlign"],color:e["_ww-text_color"],textTransform:e["_ww-text_textTransform"],textShadow:e["_ww-text_textShadow"],letterSpacing:e["_ww-text_letterSpacing"],wordSpacing:e["_ww-text_wordSpacing"],textDecoration:e["_ww-text_textDecoration"],textDecorationStyle:e["_ww-text_textDecorationStyle"],textDecorationColor:e["_ww-text_textDecorationColor"],textOverflow:e["_ww-text_ellipsis"]?"ellipsis":"initial",whiteSpace:e["_ww-text_nowrap"]?"nowrap":"initial",whiteSpaceCollapse:"preserve"};return e["_ww-text_nowrap"]&&(r.overflow="hidden"),r},getStyleFromToken(e){if(!e||typeof e!="string")return null;const r=/^var\(--(.+)\s*,\s*(.+)\)$/;let[,n]=e.match(r)||[];return n?(n=n.split(",")[0],getComputedStyle(wwLib.getFrontDocument().getElementsByClassName("website-wrapper")[0]).getPropertyValue(`--${n}`)||null):null},getTypoFromToken(e){e||(e="400 12px/normal var(--ww-default-font-family, sans-serif)");let[r,n,l,...p]=e.split(" ");r!=="italic"&&([n,l,...p]=e.split(" "),r=null);const[h,c]=l.split("/");let M=p&&p.length?p.join(" "):void 0;return M&&M.startsWith("var(--")&&(M=void 0),n=parseInt(n||400),isNaN(n)&&(n=400),{fontWeight:n,fontSize:h,lineHeight:c||"normal",fontFamily:M,fontStyle:r}},getDataFromCollection(e){if(!wwLib.wwCollection.isCollection(e))return e;if(!e.limit||!e.total||!Array.isArray(e.data))return e.data;const n=parseInt(e.offset)||0;return e.data.slice(n,n+parseInt(tn(e.limit)))},isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||typeof e=="object"&&JSON.stringify(e)==="{}"},resolveObjectPropertyPath(e,r){return _.get(e,r)},addScriptToHead(e,r=!1){wwLib.wwLog.warn("wwUtils.addScriptToHead is deprecated, use wwLib.wwApp.addScriptToHead instead");const n={...e.async?{async:e.async}:{},...e.charset?{defer:e.charset}:{},...(e==null?void 0:e.attributes)||{}};wwLib.wwApp.addScriptToHead(e.link,n,{once:!r,editor:e.manager})},scrollIntoView(e,r=0){wwLib.wwLog.warn("wwUtils.scrollIntoView is deprecated, use wwLib.wwApp.scrollIntoView instead"),wwLib.wwApp.scrollIntoView(e,{offset:r,behavior:"smooth"})},convertColorToRGB(e){const r=/^#?([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})*$/i.exec(e);if(r){const n=r[4]?parseInt(r[4],16)/255:1;return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+","+n+")"}else return e},convertImgExtToType(e){switch(e=e||"jpg",e){case"jpg":return"image/jpeg";case"svg":return"image/svg+xml";default:return"image/"+e}},formatBgImgUrl(e){return e.startsWith("url(")?e:`url("${e.replace(/[()'"]/g,"\\$&")}")`},getImgCdnUrl(e){return e.includes("https://cdn.weweb.io/")||e.startsWith("https://")||e.startsWith("http://")?e:"https://cdn.weweb.io/"+e},getImgExtFromUrl(e){return e.split(".")[e.split(".").length-1].toLowerCase().split("?")[0]},removeUid(e){if(e&&typeof e=="object"){e.uid&&e.content&&(e.isWwObject=!0,delete e.uid);for(const r in e)e[r]&&typeof e[r]=="object"&&wwLib.wwUtils.removeUid(e[r])}},sanitize(e){return!e||typeof e!="string"?"":e.toLowerCase().replace(/\s/g,"_")},getComponentType(e){var r,n,l;return(r=wwLib.$store.getters["websiteData/getWwObjects"][e])!=null&&r.wwObjectBaseId?"element":(n=wwLib.$store.getters["websiteData/getWwObjects"][e])!=null&&n.libraryComponentBaseId?"libraryComponent":(l=wwLib.$store.getters["websiteData/getSections"][e])!=null&&l.sectionBaseId?"section":null}},e8={getValue(e){return gs(wwLib.$pinia).values[e]},updateValue(e,r,{path:n,index:l,arrayUpdateType:p,workflowContext:h,silent:c}={}){const M=gs(wwLib.$pinia),s=M.getConfiguration(e);try{if(!s)throw wwLib.logStore.error(`Try to set variable ${e} (not found)`,{type:h?"action":null}),new Error("variable not found");return r===void 0&&!["delete","shift","pop"].includes(p)?void 0:(r=PR(s,r,{path:n,arrayUpdateType:p}),M.setValue(e,r,{path:n,index:l,arrayUpdateType:p,workflowContext:h,silent:c}),r)}catch(E){wwLib.wwLog.error(`Unable to update variable ${s?`${s.name} of type ${s.type}`:""} (${e}) : ${E.message} - got : `),wwLib.wwLog.error(r)}},useComponentVariable({uid:e,name:r,defaultValue:n,componentType:l="element",type:p="any",readonly:h=!1,resettable:c=!1,onUpdate:M=()=>{},labelOnly:s=null,preserveReference:E=!1,isActive:k=Oi(!0)}){var Ne;if(!e){wwLib.wwLog.error(`Missing uid for creating component variable ${r}`);return}const R=Oi(null),F=Br("bindingContext",null),C=Br("_wwLibraryComponentContext",null),B=fr(()=>F!==null),G=fr(()=>C!==null),Z=Br("sectionId"),K=gs();Ao(k,Re=>{Re&&!R.value?B.value||(G.value?R.value=hk({uid:e,name:r,defaultValue:n,componentType:l,type:p,readonly:h,resettable:c,sectionId:Z,labelOnly:s,libraryContext:C}):R.value=wwLib.wwVariable.registerComponentVariable({uid:e,name:r,defaultValue:n,componentType:l,type:p,readonly:h,resettable:c,sectionId:Z,labelOnly:s,preserveReference:E})):!Re&&R.value&&(G.value?pk({variableId:R.value,libraryContext:C}):mk(R.value),R.value=null)},{immediate:!0});const te=Br("wwElementState"),se=fr(()=>te.props[r]),_e=fr(()=>Object.keys(te.props).includes(r)),Me=Oi(B.value?jo(n):G.value?(Ne=C==null?void 0:C.component)==null?void 0:Ne.variables[R.value]:K.values[R.value]),he=fr(()=>{var Re;return _e.value?se.value:B.value?Me.value:G.value?(Re=C==null?void 0:C.component)==null?void 0:Re.variables[R.value]:K.values[R.value]}),Ge=Br("triggerElementEvent");function st(Re){var Ke,gt;const ut=_.cloneDeep(he.value);if(_e.value){Ge({type:`update:${r}`,value:Re});return}if(!B.value){let mt;G.value?mt=(gt=(Ke=C==null?void 0:C.component)==null?void 0:Ke.methods)==null?void 0:gt.updateVariable(R.value,Re):mt=wwLib.wwVariable.updateValue(R.value,Re),mt!==ut&&M(mt,ut)}Me.value=Re}return{value:wx(he),internalValue:wx(Me),setValue:st}},registerComponentVariable({uid:e,name:r,id:n,defaultValue:l,componentType:p,type:h,readonly:c,resettable:M,sectionId:s,labelOnly:E,initialValue:k,useInitialValue:R=!1,preserveReference:F=!1}){n=n||`${e}-${r}`;const C=gs(wwLib.$pinia);return C.add("component",n,{componentUid:e,id:n,name:r,defaultValue:l,componentType:p,type:h,readonly:c,resettable:M,sectionId:s,labelOnly:E,preserveReference:F}),C.values[n]=R?k:hn.cloneDeep(jo(l)),n},registerLibraryComponentVariable:hk,registerPluginVariable({uid:e,name:r,defaultValue:n,type:l}){const p=gs(wwLib.$pinia),h=`${e}-${r}`;return p.add("plugin",h,{pluginId:e,id:h,name:r,type:l}),p.values[h]=hn.cloneDeep(jo(n)),h},unregisterPluginVariable(e){gs(wwLib.$pinia).remove(e)},unregisterComponentVariable:mk,unregisterLibraryComponentVariable:pk};function hk({uid:e,id:r,name:n,defaultValue:l,componentType:p,type:h,readonly:c,resettable:M,sectionId:s,labelOnly:E,libraryContext:k,initialValue:R,useInitialValue:F=!1}){return r=r||`${e}-${n}`,k.component.componentVariablesConfiguration[r]={componentUid:e,id:r,name:n,defaultValue:l,componentType:p,type:h,readonly:c,resettable:M,sectionId:s,labelOnly:E},k.component.variables[r]=F?R:hn.cloneDeep(jo(l)),r}function pk({id:e,libraryContext:r}){delete r.component.componentVariablesConfiguration[e],delete r.component.variables[e]}function mk(e){gs(wwLib.$pinia).remove(e)}const t8={async init(){const e=wwLib.getFrontWindow().wwg_designInfo;await wwLib.$store.dispatch("websiteData/setFullDesign",e)},async fetchPage(e){wwLib.logStore.verbose(`Loading page: _wwPage(${e})...`),await r8(e),wwLib.logStore.verbose("Page loaded")},getPageRoute(e,r){const n=this.getPages(),l=this.getInfo();for(const p of n)if(p.linkId==e||p.id==e)return r&&p.id==l.homePageId?"":p.paths[wwLib.wwLang.lang];return""},getWebsiteName(){return wwLib.wwLog.warn("wwUtils.wwWebsiteData.getWebsiteName is deprecated"),wwLib.$store.getters["websiteData/getDesignInfo"].name},getDesign(){return wwLib.$store.getters["websiteData/getDesign"]||null},getInfo(){return this.getDesign().info},getPages(){return this.getDesign().pages},getCurrentPage(){return wwLib.$store.getters["websiteData/getPage"]},getCurrentPageId(){return wwLib.$store.getters["websiteData/getPageId"]}};async function r8(e){if(!e)return;let r;try{const n=wwLib.useBaseTag()?wwLib.getBaseTag():"/",l=window.location.pathname.replace(n,"/").startsWith(`/${wwLib.wwLang.lang}/`)?wwLib.wwLang.lang:"";let p=`${n}data/${e.split("_")[0]}.json?wwlang=${l}&_wwcv=${window.wwg_cacheVersion}`;const{data:{cacheVersion:h,page:c,sections:M,wwObjects:s,collections:E,variables:k,formulas:R,workflows:F,libraryComponents:C}}=await axios.get(p);if(h!=window.wwg_cacheVersion)throw{reloadUrl:!0};if(c.cmsDataSetPath){p=`${n}data/${e}.json?wwlang=${l}&_wwcv=${window.wwg_cacheVersion}`;const{data:{page:B}}=await axios.get(p);for(const G in B)c[G]=B[G]}if(E){const B=[];for(const G of Object.values(E).filter(Z=>Z.mode==="static"))wwLib.$store.getters["data/getCollections"][G.id]||B.push(axios.get(`/collections/${G.id}.json?_wwcv=${window.wwg_cacheVersion}`).then(({data:Z})=>G.data=Z).catch(Z=>wwLib.wwLog.error(Z)));await Promise.all(B)}r={page:c,sections:M,wwObjects:s},await wwLib.$store.dispatch("websiteData/setAllData",{page:r,collections:E,variables:k,formulas:R,workflows:F,libraryComponents:C})}catch(n){throw{redirectUrl:n.response.data.redirectUrl}}wwLib.$emit("wwStore:dataLoaded")}const n8={executeTrigger(e,{event:r,conditions:n={}}){Yl({trigger:e,conditions:n},{event:r})},async executeGlobal(e,r){if(!e)throw new Error("No workflow provided.");const n=wwLib.$store.getters["data/getGlobalWorkflows"][e];if(!n)throw new Error("Workflow not found.");const l=await Xc(n,{context:{parameters:r,workflow:wwLib.$store.getters["data/getWorkflowResults"](e)}});if(l.error)throw l.error;return l.result}},i8={_navigationId:0,customCodeVariables:Mi({}),globalComponentActionsFn:Mi({sections:{},elements:{},libraryComponents:{}})};function o8(){const e=Oi({});function r(){for(const F in e.value)try{const C=wwLib.getFrontDocument().querySelector(`[data-ww-element][id='${F}']`)||wwLib.getFrontDocument().querySelector(`.ww-section-element[id='${F}']`);if(!C){Object.keys(e.value[F]).length&&a8(e.value[F]);continue}const B=C.getBoundingClientRect();E(F,"x",Math.floor(B.left)),E(F,"y",Math.floor(B.top)),E(F,"width",Math.floor(B.width)),E(F,"height",Math.floor(B.height));const G=n.value.screenSize.width,Z=n.value.screenSize.height,K=k((G-B.left)*100/(G+B.width)),te=k((Z-B.top)*100/(Z+B.height));E(F,"xPercent",K),E(F,"yPercent",te)}catch(C){wwLib.wwLog.error(C)}requestAnimationFrame(r)}const n=Oi({scroll:{x:0,y:0,xPercent:0,yPercent:0},screenSize:{width:0,height:0},pageSize:{width:0,height:0}});function l(){n.value.scroll.x=Math.floor(wwLib.getFrontWindow().scrollX),n.value.scroll.y=Math.floor(wwLib.getFrontWindow().scrollY)}function p(){n.value.scroll.xPercent=k(100*n.value.scroll.x/(n.value.pageSize.width-n.value.screenSize.width||1)),n.value.scroll.yPercent=k(100*n.value.scroll.y/(n.value.pageSize.height-n.value.screenSize.height||1))}function h(){n.value.screenSize.width=Math.floor(wwLib.getFrontWindow().innerWidth),n.value.screenSize.height=Math.floor(wwLib.getFrontWindow().innerHeight)}function c(){n.value.pageSize.width=Math.floor(wwLib.getFrontWindow().document.documentElement.scrollWidth),n.value.pageSize.height=Math.floor(wwLib.getFrontWindow().document.documentElement.scrollHeight)}async function M(){await Yl("page-scroll",{event:JSON.parse(JSON.stringify(n.value))})}async function s(){await Yl("page-resize",{event:JSON.parse(JSON.stringify(n.value))})}function E(F,C,B){var G;((G=e.value[F])==null?void 0:G[C])!==B&&(e.value[F][C]=B)}function k(F){return parseFloat(Math.floor(F*100)/100)}function R(){l(),h(),c(),p()}return{screen:n,componentPositionInfo:e,setValues:R,start:()=>{R(),wwLib.getFrontWindow().addEventListener("scroll",()=>{l(),p(),M()}),wwLib.getFrontWindow().addEventListener("resize",()=>{h(),p(),s()}),new ResizeObserver(()=>{c(),p()}).observe(wwLib.getFrontWindow().document.documentElement),r()}}}function a8(e){for(const r in e)delete e[r]}function s8(){const e=Oi({keydown:{key:"",keyCode:0,shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1},keyup:{key:"",keyCode:0,shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1}});function r(p){e.value.keydown={key:p.key,keyCode:p.keyCode,shiftKey:p.shiftKey,ctrlKey:p.ctrlKey,altKey:p.altKey,metaKey:p.metaKey},Yl("keydown",{event:e.value.keydown})}function n(p){e.value.keyup={key:p.key,keyCode:p.keyCode,shiftKey:p.shiftKey,ctrlKey:p.ctrlKey,altKey:p.altKey,metaKey:p.metaKey},Yl("keyup",{event:e.value.keyup})}function l(){wwLib.getFrontWindow().addEventListener("keydown",r),wwLib.getFrontWindow().addEventListener("keyup",n)}return{keyboardEventInfo:e,start:l}}const P_={ERROR:"error",WARNING:"warning",INFO:"info",VERBOSE:"verbose"};function l8(){const e=Oi([]);let r=[];function n(l,p,h){}return{logs:e,log:n,error(l,p){P_.ERROR},warning(l,p){P_.WARNING},info(l,p){P_.INFO},verbose(l,p){P_.VERBOSE},registerListener(l){r.push(l)},unregisterListener(l){r=r.filter(p=>p!==l)},clear(){e.value=[]},TYPES:P_}}const O_={wwApp:I$,wwAuth:O$,wwApiRequests:R$,wwCollection:F$,wwEditor:z$,wwElement:Y$,wwElementHelper:fh,wwFormula:B$,wwLang:j$,wwLog:$$,wwObjectHelper:fh,wwPageHelper:U$,wwPluginHelper:H$,wwUtils:Q$,wwVariable:e8,wwWebsiteData:t8,wwWorkflow:n8,globalVariables:i8,scrollStore:o8(),keyboardEventStore:s8(),logStore:l8()},u8=d0("icons",()=>{let e={};return{async getIcon(r){var h;if(e[r])return await e[r];const n=(h=window.wwg_designInfo)==null?void 0:h.baseTag;let l=(n==null?void 0:n.href)||null;l&&(l.startsWith("/")||(l=`/${l}`),l.endsWith("/")||(l=`${l}/`));const p=`${l??"/"}icons/${r}.svg`;return e[r]=fetch(p).then(c=>c.ok?c.text():null),await e[r]}}}),c8={async createRecord({collectionId:e,data:r},n){wwLib.wwWebsiteData.getInfo().id;let l=null;n==null||n.log("info",`Creating a record for _wwCollection(${e})`,{preview:r,type:"request"}),l=await axios.post(`//${window.location.hostname}/ww/cms_data_sets/${e}/airtable/record`,{data:r});const p=l.data.data,h=wwLib.$store.getters["data/getCollections"][e];if(!h)return null;const c=Array.isArray(h.data)?h.data:[];return wwLib.$store.dispatch("data/setCollection",{...h,total:h.total+1,data:[...c,p]}),p},async updateRecord({collectionId:e,recordId:r,data:n},l){wwLib.wwWebsiteData.getInfo().id;let p=null;l==null||l.log("info",`Updating record ${r} for _wwCollection(${e})`,{preview:n,type:"request"}),p=await axios.patch(`//${window.location.hostname}/ww/cms_data_sets/${e}/airtable/record/${r}`,{data:n});const h=p.data.data,c=_.cloneDeep(wwLib.$store.getters["data/getCollections"][e]);if(!c)return null;const M=Array.isArray(c.data)?c.data:[],s=M.findIndex(E=>E&&E.id===r);return M.splice(s,1,h),wwLib.$store.dispatch("data/setCollection",{...c,data:M}),h},async deleteRecord({collectionId:e,recordId:r},n){wwLib.wwWebsiteData.getInfo().id;let l=null;n==null||n.log("info",`Deleting record ${r} for _wwCollection(${e})`,{type:"request"}),l=await axios.delete(`//${window.location.hostname}/ww/cms_data_sets/${e}/airtable/record/${r}`);const p=l.data.data,h=_.cloneDeep(wwLib.$store.getters["data/getCollections"][e]);if(!h)return null;const c=Array.isArray(h.data)?h.data:[],M=c.findIndex(s=>s&&s.id===r);return c.splice(M,1),wwLib.$store.dispatch("data/setCollection",{...h,total:h.total-1,data:c}),p},async syncRecord({collectionId:e,recordId:r},n){const l=wwLib.wwWebsiteData.getInfo().id;n==null||n.log("info",`Syncing record ${r} for _wwCollection(${e})`,{type:"request"});const h=(await axios.get(`${wwLib.wwApiRequests._getPluginsUrl()}/hook/designs/${l}/cms_data_sets/${e}/sync/${r}/update`)).data.data,c=_.cloneDeep(wwLib.$store.getters["data/getCollections"][e]);if(!c)return null;const M=Array.isArray(c.data)?c.data:[],s=M.findIndex(E=>E&&E.id===r);return s===-1?(M.push(h),wwLib.$store.dispatch("data/setCollection",{...c,total:c.total+1,data:M})):(M.splice(s,1,h),wwLib.$store.dispatch("data/setCollection",{...c,data:M})),h}};var Ib={exports:{}},d8=Ib.exports,_k;function Bt(){return _k||(_k=1,(function(e,r){(function(n,l){e.exports=l()})(d8,(function(){var n=1e3,l=6e4,p=36e5,h="millisecond",c="second",M="minute",s="hour",E="day",k="week",R="month",F="quarter",C="year",B="date",G="Invalid Date",Z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,K=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,te={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},se=function(gt,mt,Lt){var ot=String(gt);return!ot||ot.length>=mt?gt:""+Array(mt+1-ot.length).join(Lt)+gt},_e={s:se,z:function(gt){var mt=-gt.utcOffset(),Lt=Math.abs(mt),ot=Math.floor(Lt/60),dt=Lt%60;return(mt<=0?"+":"-")+se(ot,2,"0")+":"+se(dt,2,"0")},m:function gt(mt,Lt){if(mt.date()<Lt.date())return-gt(Lt,mt);var ot=12*(Lt.year()-mt.year())+(Lt.month()-mt.month()),dt=mt.clone().add(ot,R),vt=Lt-dt<0,nr=mt.clone().add(ot+(vt?-1:1),R);return+(-(ot+(Lt-dt)/(vt?dt-nr:nr-dt))||0)},a:function(gt){return gt<0?Math.ceil(gt)||0:Math.floor(gt)},p:function(gt){return{M:R,y:C,w:k,d:E,D:B,h:s,m:M,s:c,ms:h,Q:F}[gt]||String(gt||"").toLowerCase().replace(/s$/,"")},u:function(gt){return gt===void 0}},Me="en",he={};he[Me]=te;var Ge=function(gt){return gt instanceof ut},st=function gt(mt,Lt,ot){var dt;if(!mt)return Me;if(typeof mt=="string"){var vt=mt.toLowerCase();he[vt]&&(dt=vt),Lt&&(he[vt]=Lt,dt=vt);var nr=mt.split("-");if(!dt&&nr.length>1)return gt(nr[0])}else{var Sr=mt.name;he[Sr]=mt,dt=Sr}return!ot&&dt&&(Me=dt),dt||!ot&&Me},Ne=function(gt,mt){if(Ge(gt))return gt.clone();var Lt=typeof mt=="object"?mt:{};return Lt.date=gt,Lt.args=arguments,new ut(Lt)},Re=_e;Re.l=st,Re.i=Ge,Re.w=function(gt,mt){return Ne(gt,{locale:mt.$L,utc:mt.$u,x:mt.$x,$offset:mt.$offset})};var ut=(function(){function gt(Lt){this.$L=st(Lt.locale,null,!0),this.parse(Lt)}var mt=gt.prototype;return mt.parse=function(Lt){this.$d=(function(ot){var dt=ot.date,vt=ot.utc;if(dt===null)return new Date(NaN);if(Re.u(dt))return new Date;if(dt instanceof Date)return new Date(dt);if(typeof dt=="string"&&!/Z$/i.test(dt)){var nr=dt.match(Z);if(nr){var Sr=nr[2]-1||0,pr=(nr[7]||"0").substring(0,3);return vt?new Date(Date.UTC(nr[1],Sr,nr[3]||1,nr[4]||0,nr[5]||0,nr[6]||0,pr)):new Date(nr[1],Sr,nr[3]||1,nr[4]||0,nr[5]||0,nr[6]||0,pr)}}return new Date(dt)})(Lt),this.$x=Lt.x||{},this.init()},mt.init=function(){var Lt=this.$d;this.$y=Lt.getFullYear(),this.$M=Lt.getMonth(),this.$D=Lt.getDate(),this.$W=Lt.getDay(),this.$H=Lt.getHours(),this.$m=Lt.getMinutes(),this.$s=Lt.getSeconds(),this.$ms=Lt.getMilliseconds()},mt.$utils=function(){return Re},mt.isValid=function(){return this.$d.toString()!==G},mt.isSame=function(Lt,ot){var dt=Ne(Lt);return this.startOf(ot)<=dt&&dt<=this.endOf(ot)},mt.isAfter=function(Lt,ot){return Ne(Lt)<this.startOf(ot)},mt.isBefore=function(Lt,ot){return this.endOf(ot)<Ne(Lt)},mt.$g=function(Lt,ot,dt){return Re.u(Lt)?this[ot]:this.set(dt,Lt)},mt.unix=function(){return Math.floor(this.valueOf()/1e3)},mt.valueOf=function(){return this.$d.getTime()},mt.startOf=function(Lt,ot){var dt=this,vt=!!Re.u(ot)||ot,nr=Re.p(Lt),Sr=function(qt,It){var Nt=Re.w(dt.$u?Date.UTC(dt.$y,It,qt):new Date(dt.$y,It,qt),dt);return vt?Nt:Nt.endOf(E)},pr=function(qt,It){return Re.w(dt.toDate()[qt].apply(dt.toDate("s"),(vt?[0,0,0,0]:[23,59,59,999]).slice(It)),dt)},Er=this.$W,pn=this.$M,qr=this.$D,Gr="set"+(this.$u?"UTC":"");switch(nr){case C:return vt?Sr(1,0):Sr(31,11);case R:return vt?Sr(1,pn):Sr(0,pn+1);case k:var Nr=this.$locale().weekStart||0,xt=(Er<Nr?Er+7:Er)-Nr;return Sr(vt?qr-xt:qr+(6-xt),pn);case E:case B:return pr(Gr+"Hours",0);case s:return pr(Gr+"Minutes",1);case M:return pr(Gr+"Seconds",2);case c:return pr(Gr+"Milliseconds",3);default:return this.clone()}},mt.endOf=function(Lt){return this.startOf(Lt,!1)},mt.$set=function(Lt,ot){var dt,vt=Re.p(Lt),nr="set"+(this.$u?"UTC":""),Sr=(dt={},dt[E]=nr+"Date",dt[B]=nr+"Date",dt[R]=nr+"Month",dt[C]=nr+"FullYear",dt[s]=nr+"Hours",dt[M]=nr+"Minutes",dt[c]=nr+"Seconds",dt[h]=nr+"Milliseconds",dt)[vt],pr=vt===E?this.$D+(ot-this.$W):ot;if(vt===R||vt===C){var Er=this.clone().set(B,1);Er.$d[Sr](pr),Er.init(),this.$d=Er.set(B,Math.min(this.$D,Er.daysInMonth())).$d}else Sr&&this.$d[Sr](pr);return this.init(),this},mt.set=function(Lt,ot){return this.clone().$set(Lt,ot)},mt.get=function(Lt){return this[Re.p(Lt)]()},mt.add=function(Lt,ot){var dt,vt=this;Lt=Number(Lt);var nr=Re.p(ot),Sr=function(pn){var qr=Ne(vt);return Re.w(qr.date(qr.date()+Math.round(pn*Lt)),vt)};if(nr===R)return this.set(R,this.$M+Lt);if(nr===C)return this.set(C,this.$y+Lt);if(nr===E)return Sr(1);if(nr===k)return Sr(7);var pr=(dt={},dt[M]=l,dt[s]=p,dt[c]=n,dt)[nr]||1,Er=this.$d.getTime()+Lt*pr;return Re.w(Er,this)},mt.subtract=function(Lt,ot){return this.add(-1*Lt,ot)},mt.format=function(Lt){var ot=this,dt=this.$locale();if(!this.isValid())return dt.invalidDate||G;var vt=Lt||"YYYY-MM-DDTHH:mm:ssZ",nr=Re.z(this),Sr=this.$H,pr=this.$m,Er=this.$M,pn=dt.weekdays,qr=dt.months,Gr=function(It,Nt,_r,Se){return It&&(It[Nt]||It(ot,vt))||_r[Nt].substr(0,Se)},Nr=function(It){return Re.s(Sr%12||12,It,"0")},xt=dt.meridiem||function(It,Nt,_r){var Se=It<12?"AM":"PM";return _r?Se.toLowerCase():Se},qt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Er+1,MM:Re.s(Er+1,2,"0"),MMM:Gr(dt.monthsShort,Er,qr,3),MMMM:Gr(qr,Er),D:this.$D,DD:Re.s(this.$D,2,"0"),d:String(this.$W),dd:Gr(dt.weekdaysMin,this.$W,pn,2),ddd:Gr(dt.weekdaysShort,this.$W,pn,3),dddd:pn[this.$W],H:String(Sr),HH:Re.s(Sr,2,"0"),h:Nr(1),hh:Nr(2),a:xt(Sr,pr,!0),A:xt(Sr,pr,!1),m:String(pr),mm:Re.s(pr,2,"0"),s:String(this.$s),ss:Re.s(this.$s,2,"0"),SSS:Re.s(this.$ms,3,"0"),Z:nr};return vt.replace(K,(function(It,Nt){return Nt||qt[It]||nr.replace(":","")}))},mt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},mt.diff=function(Lt,ot,dt){var vt,nr=Re.p(ot),Sr=Ne(Lt),pr=(Sr.utcOffset()-this.utcOffset())*l,Er=this-Sr,pn=Re.m(this,Sr);return pn=(vt={},vt[C]=pn/12,vt[R]=pn,vt[F]=pn/3,vt[k]=(Er-pr)/6048e5,vt[E]=(Er-pr)/864e5,vt[s]=Er/p,vt[M]=Er/l,vt[c]=Er/n,vt)[nr]||Er,dt?pn:Re.a(pn)},mt.daysInMonth=function(){return this.endOf(R).$D},mt.$locale=function(){return he[this.$L]},mt.locale=function(Lt,ot){if(!Lt)return this.$L;var dt=this.clone(),vt=st(Lt,ot,!0);return vt&&(dt.$L=vt),dt},mt.clone=function(){return Re.w(this.$d,this)},mt.toDate=function(){return new Date(this.valueOf())},mt.toJSON=function(){return this.isValid()?this.toISOString():null},mt.toISOString=function(){return this.$d.toISOString()},mt.toString=function(){return this.$d.toUTCString()},gt})(),Ke=ut.prototype;return Ne.prototype=Ke,[["$ms",h],["$s",c],["$m",M],["$H",s],["$W",E],["$M",R],["$y",C],["$D",B]].forEach((function(gt){Ke[gt[1]]=function(mt){return this.$g(mt,gt[0],gt[1])}})),Ne.extend=function(gt,mt){return gt.$i||(gt(mt,ut,Ne),gt.$i=!0),Ne},Ne.locale=st,Ne.isDayjs=Ge,Ne.unix=function(gt){return Ne(1e3*gt)},Ne.en=he[Me],Ne.Ls=he,Ne.p={},Ne}))})(Ib)),Ib.exports}var f8=Bt();const Hn=Ct(f8);var Pb={exports:{}},h8=Pb.exports,gk;function p8(){return gk||(gk=1,(function(e,r){(function(n,l){e.exports=l()})(h8,(function(){return function(n,l,p){n=n||{};var h=l.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function M(E,k,R,F){return h.fromToBase(E,k,R,F)}p.en.relativeTime=c,h.fromToBase=function(E,k,R,F,C){for(var B,G,Z,K=R.$locale().relativeTime||c,te=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],se=te.length,_e=0;_e<se;_e+=1){var Me=te[_e];Me.d&&(B=F?p(E).diff(R,Me.d,!0):R.diff(E,Me.d,!0));var he=(n.rounding||Math.round)(Math.abs(B));if(Z=B>0,he<=Me.r||!Me.r){he<=1&&_e>0&&(Me=te[_e-1]);var Ge=K[Me.l];C&&(he=C(""+he)),G=typeof Ge=="string"?Ge.replace("%d",he):Ge(he,k,Me.l,Z);break}}if(k)return G;var st=Z?K.future:K.past;return typeof st=="function"?st(G):st.replace("%s",G)},h.to=function(E,k){return M(E,k,this,!0)},h.from=function(E,k){return M(E,k,this)};var s=function(E){return E.$u?p.utc():p()};h.toNow=function(E){return this.to(s(this),E)},h.fromNow=function(E){return this.from(s(this),E)}}}))})(Pb)),Pb.exports}var m8=p8();const _8=Ct(m8);var Ob={exports:{}},g8=Ob.exports,yk;function y8(){return yk||(yk=1,(function(e,r){(function(n,l){e.exports=l()})(g8,(function(){return function(n,l,p){l.prototype.dayOfYear=function(h){var c=Math.round((p(this).startOf("day")-p(this).startOf("year"))/864e5)+1;return h==null?c:this.add(h-c,"day")}}}))})(Ob)),Ob.exports}var b8=y8();const v8=Ct(b8);var Rb={exports:{}},w8=Rb.exports,bk;function x8(){return bk||(bk=1,(function(e,r){(function(n,l){e.exports=l()})(w8,(function(){var n="week",l="year";return function(p,h,c){var M=h.prototype;M.week=function(s){if(s===void 0&&(s=null),s!==null)return this.add(7*(s-this.week()),"day");var E=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var k=c(this).startOf(l).add(1,l).date(E),R=c(this).endOf(n);if(k.isBefore(R))return 1}var F=c(this).startOf(l).date(E).startOf(n).subtract(1,"millisecond"),C=this.diff(F,n,!0);return C<0?c(this).startOf("week").week():Math.ceil(C)},M.weeks=function(s){return s===void 0&&(s=null),this.week(s)}}}))})(Rb)),Rb.exports}var M8=x8();const S8=Ct(M8);var Fb={exports:{}},L8=Fb.exports,vk;function T8(){return vk||(vk=1,(function(e,r){(function(n,l){e.exports=l()})(L8,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},l=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,p=/\d\d/,h=/\d\d?/,c=/\d*[^\s\d-_:/()]+/,M={},s=function(G){return(G=+G)+(G>68?1900:2e3)},E=function(G){return function(Z){this[G]=+Z}},k=[/[+-]\d\d:?(\d\d)?|Z/,function(G){(this.zone||(this.zone={})).offset=(function(Z){if(!Z||Z==="Z")return 0;var K=Z.match(/([+-]|\d\d)/g),te=60*K[1]+(+K[2]||0);return te===0?0:K[0]==="+"?-te:te})(G)}],R=function(G){var Z=M[G];return Z&&(Z.indexOf?Z:Z.s.concat(Z.f))},F=function(G,Z){var K,te=M.meridiem;if(te){for(var se=1;se<=24;se+=1)if(G.indexOf(te(se,0,Z))>-1){K=se>12;break}}else K=G===(Z?"pm":"PM");return K},C={A:[c,function(G){this.afternoon=F(G,!1)}],a:[c,function(G){this.afternoon=F(G,!0)}],S:[/\d/,function(G){this.milliseconds=100*+G}],SS:[p,function(G){this.milliseconds=10*+G}],SSS:[/\d{3}/,function(G){this.milliseconds=+G}],s:[h,E("seconds")],ss:[h,E("seconds")],m:[h,E("minutes")],mm:[h,E("minutes")],H:[h,E("hours")],h:[h,E("hours")],HH:[h,E("hours")],hh:[h,E("hours")],D:[h,E("day")],DD:[p,E("day")],Do:[c,function(G){var Z=M.ordinal,K=G.match(/\d+/);if(this.day=K[0],Z)for(var te=1;te<=31;te+=1)Z(te).replace(/\[|\]/g,"")===G&&(this.day=te)}],M:[h,E("month")],MM:[p,E("month")],MMM:[c,function(G){var Z=R("months"),K=(R("monthsShort")||Z.map((function(te){return te.substr(0,3)}))).indexOf(G)+1;if(K<1)throw new Error;this.month=K%12||K}],MMMM:[c,function(G){var Z=R("months").indexOf(G)+1;if(Z<1)throw new Error;this.month=Z%12||Z}],Y:[/[+-]?\d+/,E("year")],YY:[p,function(G){this.year=s(G)}],YYYY:[/\d{4}/,E("year")],Z:k,ZZ:k};function B(G){var Z,K;Z=G,K=M&&M.formats;for(var te=(G=Z.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(Ne,Re,ut){var Ke=ut&&ut.toUpperCase();return Re||K[ut]||n[ut]||K[Ke].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(gt,mt,Lt){return mt||Lt.slice(1)}))}))).match(l),se=te.length,_e=0;_e<se;_e+=1){var Me=te[_e],he=C[Me],Ge=he&&he[0],st=he&&he[1];te[_e]=st?{regex:Ge,parser:st}:Me.replace(/^\[|\]$/g,"")}return function(Ne){for(var Re={},ut=0,Ke=0;ut<se;ut+=1){var gt=te[ut];if(typeof gt=="string")Ke+=gt.length;else{var mt=gt.regex,Lt=gt.parser,ot=Ne.substr(Ke),dt=mt.exec(ot)[0];Lt.call(Re,dt),Ne=Ne.replace(dt,"")}}return(function(vt){var nr=vt.afternoon;if(nr!==void 0){var Sr=vt.hours;nr?Sr<12&&(vt.hours+=12):Sr===12&&(vt.hours=0),delete vt.afternoon}})(Re),Re}}return function(G,Z,K){K.p.customParseFormat=!0,G&&G.parseTwoDigitYear&&(s=G.parseTwoDigitYear);var te=Z.prototype,se=te.parse;te.parse=function(_e){var Me=_e.date,he=_e.utc,Ge=_e.args;this.$u=he;var st=Ge[1];if(typeof st=="string"){var Ne=Ge[2]===!0,Re=Ge[3]===!0,ut=Ne||Re,Ke=Ge[2];Re&&(Ke=Ge[2]),M=this.$locale(),!Ne&&Ke&&(M=K.Ls[Ke]),this.$d=(function(ot,dt,vt){try{if(["x","X"].indexOf(dt)>-1)return new Date((dt==="X"?1e3:1)*ot);var nr=B(dt)(ot),Sr=nr.year,pr=nr.month,Er=nr.day,pn=nr.hours,qr=nr.minutes,Gr=nr.seconds,Nr=nr.milliseconds,xt=nr.zone,qt=new Date,It=Er||(Sr||pr?1:qt.getDate()),Nt=Sr||qt.getFullYear(),_r=0;Sr&&!pr||(_r=pr>0?pr-1:qt.getMonth());var Se=pn||0,Ce=qr||0,He=Gr||0,at=Nr||0;return xt?new Date(Date.UTC(Nt,_r,It,Se,Ce,He,at+60*xt.offset*1e3)):vt?new Date(Date.UTC(Nt,_r,It,Se,Ce,He,at)):new Date(Nt,_r,It,Se,Ce,He,at)}catch{return new Date("")}})(Me,st,he),this.init(),Ke&&Ke!==!0&&(this.$L=this.locale(Ke).$L),ut&&Me!=this.format(st)&&(this.$d=new Date("")),M={}}else if(st instanceof Array)for(var gt=st.length,mt=1;mt<=gt;mt+=1){Ge[1]=st[mt-1];var Lt=K.apply(this,Ge);if(Lt.isValid()){this.$d=Lt.$d,this.$L=Lt.$L,this.init();break}mt===gt&&(this.$d=new Date(""))}else se.call(this,_e)}}}))})(Fb)),Fb.exports}var E8=T8();const k8=Ct(E8);var zb={exports:{}},A8=zb.exports,wk;function C8(){return wk||(wk=1,(function(e,r){(function(n,l){e.exports=l()})(A8,(function(){var n="minute",l=/[+-]\d\d(?::?\d\d)?/g,p=/([+-]|\d\d)/g;return function(h,c,M){var s=c.prototype;M.utc=function(G){var Z={date:G,utc:!0,args:arguments};return new c(Z)},s.utc=function(G){var Z=M(this.toDate(),{locale:this.$L,utc:!0});return G?Z.add(this.utcOffset(),n):Z},s.local=function(){return M(this.toDate(),{locale:this.$L,utc:!1})};var E=s.parse;s.parse=function(G){G.utc&&(this.$u=!0),this.$utils().u(G.$offset)||(this.$offset=G.$offset),E.call(this,G)};var k=s.init;s.init=function(){if(this.$u){var G=this.$d;this.$y=G.getUTCFullYear(),this.$M=G.getUTCMonth(),this.$D=G.getUTCDate(),this.$W=G.getUTCDay(),this.$H=G.getUTCHours(),this.$m=G.getUTCMinutes(),this.$s=G.getUTCSeconds(),this.$ms=G.getUTCMilliseconds()}else k.call(this)};var R=s.utcOffset;s.utcOffset=function(G,Z){var K=this.$utils().u;if(K(G))return this.$u?0:K(this.$offset)?R.call(this):this.$offset;if(typeof G=="string"&&(G=(function(Me){Me===void 0&&(Me="");var he=Me.match(l);if(!he)return null;var Ge=(""+he[0]).match(p)||["-",0,0],st=Ge[0],Ne=60*+Ge[1]+ +Ge[2];return Ne===0?0:st==="+"?Ne:-Ne})(G),G===null))return this;var te=Math.abs(G)<=16?60*G:G,se=this;if(Z)return se.$offset=te,se.$u=G===0,se;if(G!==0){var _e=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(se=this.local().add(te+_e,n)).$offset=te,se.$x.$localOffset=_e}else se=this.utc();return se};var F=s.format;s.format=function(G){var Z=G||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return F.call(this,Z)},s.valueOf=function(){var G=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*G},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var C=s.toDate;s.toDate=function(G){return G==="s"&&this.$offset?M(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():C.call(this)};var B=s.diff;s.diff=function(G,Z,K){if(G&&this.$u===G.$u)return B.call(this,G,Z,K);var te=this.local(),se=M(G).local();return B.call(te,se,Z,K)}}}))})(zb)),zb.exports}var D8=C8();const I8=Ct(D8);var Yb={exports:{}},P8=Yb.exports,xk;function O8(){return xk||(xk=1,(function(e,r){(function(n,l){e.exports=l()})(P8,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},l={};return function(p,h,c){var M,s=function(F,C,B){B===void 0&&(B={});var G=new Date(F),Z=(function(K,te){te===void 0&&(te={});var se=te.timeZoneName||"short",_e=K+"|"+se,Me=l[_e];return Me||(Me=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:K,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:se}),l[_e]=Me),Me})(C,B);return Z.formatToParts(G)},E=function(F,C){for(var B=s(F,C),G=[],Z=0;Z<B.length;Z+=1){var K=B[Z],te=K.type,se=K.value,_e=n[te];_e>=0&&(G[_e]=parseInt(se,10))}var Me=G[3],he=Me===24?0:Me,Ge=G[0]+"-"+G[1]+"-"+G[2]+" "+he+":"+G[4]+":"+G[5]+":000",st=+F;return(c.utc(Ge).valueOf()-(st-=st%1e3))/6e4},k=h.prototype;k.tz=function(F,C){F===void 0&&(F=M);var B=this.utcOffset(),G=this.toDate(),Z=G.toLocaleString("en-US",{timeZone:F}),K=Math.round((G-new Date(Z))/1e3/60),te=c(Z).$set("millisecond",this.$ms).utcOffset(15*-Math.round(G.getTimezoneOffset()/15)-K,!0);if(C){var se=te.utcOffset();te=te.add(B-se,"minute")}return te.$x.$timezone=F,te},k.offsetName=function(F){var C=this.$x.$timezone||c.tz.guess(),B=s(this.valueOf(),C,{timeZoneName:F}).find((function(G){return G.type.toLowerCase()==="timezonename"}));return B&&B.value};var R=k.startOf;k.startOf=function(F,C){if(!this.$x||!this.$x.$timezone)return R.call(this,F,C);var B=c(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return R.call(B,F,C).tz(this.$x.$timezone,!0)},c.tz=function(F,C,B){var G=B&&C,Z=B||C||M,K=E(+c(),Z);if(typeof F!="string")return c(F).tz(Z);var te=(function(he,Ge,st){var Ne=he-60*Ge*1e3,Re=E(Ne,st);if(Ge===Re)return[Ne,Ge];var ut=E(Ne-=60*(Re-Ge)*1e3,st);return Re===ut?[Ne,Re]:[he-60*Math.min(Re,ut)*1e3,Math.max(Re,ut)]})(c.utc(F,G).valueOf(),K,Z),se=te[0],_e=te[1],Me=c(se).utcOffset(_e);return Me.$x.$timezone=Z,Me},c.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},c.tz.setDefault=function(F){M=F}}}))})(Yb)),Yb.exports}var R8=O8();const F8=Ct(R8);var Bb={exports:{}},z8=Bb.exports,Mk;function Y8(){return Mk||(Mk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(z8,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"af",weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),weekStart:1,weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"}};return p.default.locale(h,null,!0),h}))})(Bb)),Bb.exports}var B8=Y8();const j8=Ct(B8);var jb={exports:{}},$8=jb.exports,Sk;function V8(){return Sk||(Sk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})($8,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"am",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM D  YYYY",LLL:"MMMM D  YYYY HH:mm",LLLL:"dddd  MMMM D  YYYY HH:mm"},ordinal:function(c){return c+""}};return p.default.locale(h,null,!0),h}))})(jb)),jb.exports}var U8=V8();const N8=Ct(U8);var $b={exports:{}},H8=$b.exports,Lk;function q8(){return Lk||(Lk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(H8,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ar-dz",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiem:function(c){return c>12?"":""},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})($b)),$b.exports}var G8=q8();const W8=Ct(G8);var Vb={exports:{}},Z8=Vb.exports,Tk;function X8(){return Tk||(Tk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(Z8,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ar-iq",weekdays:"______".split("_"),months:" _________ _  _ ".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:" _________ _  _ ".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiem:function(c){return c>12?"":""},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Vb)),Vb.exports}var K8=X8();const J8=Ct(K8);var Ub={exports:{}},Q8=Ub.exports,Ek;function eV(){return Ek||(Ek=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(Q8,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ar-kw",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiem:function(c){return c>12?"":""},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Ub)),Ub.exports}var tV=eV();const rV=Ct(tV);var Nb={exports:{}},nV=Nb.exports,kk;function iV(){return kk||(kk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(nV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ar-ly",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:6,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},meridiem:function(c){return c>12?"":""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return p.default.locale(h,null,!0),h}))})(Nb)),Nb.exports}var oV=iV();const aV=Ct(oV);var Hb={exports:{}},sV=Hb.exports,Ak;function lV(){return Ak||(Ak=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(sV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ar-ma",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:6,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiem:function(c){return c>12?"":""},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Hb)),Hb.exports}var uV=lV();const cV=Ct(uV);var qb={exports:{}},dV=qb.exports,Ck;function fV(){return Ck||(Ck=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(dV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ar-sa",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiem:function(c){return c>12?"":""},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(qb)),qb.exports}var hV=fV();const pV=Ct(hV);var Gb={exports:{}},mV=Gb.exports,Dk;function _V(){return Dk||(Dk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(mV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ar-tn",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiem:function(c){return c>12?"":""},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Gb)),Gb.exports}var gV=_V();const yV=Ct(gV);var Wb={exports:{}},bV=Wb.exports,Ik;function vV(){return Ik||(Ik=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(bV,(function(n){function l(E){return E&&typeof E=="object"&&"default"in E?E:{default:E}}var p=l(n),h="___________".split("_"),c={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},M={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},s={name:"ar",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:h,monthsShort:h,weekStart:6,relativeTime:{future:" %s",past:" %s",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(E){return E.replace(/[]/g,(function(k){return M[k]})).replace(//g,",")},postformat:function(E){return E.replace(/\d/g,(function(k){return c[k]})).replace(/,/g,"")},ordinal:function(E){return E},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return p.default.locale(s,null,!0),s}))})(Wb)),Wb.exports}var wV=vV();const xV=Ct(wV);var Zb={exports:{}},MV=Zb.exports,Pk;function SV(){return Pk||(Pk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(MV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"az",weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},ordinal:function(c){return c}};return p.default.locale(h,null,!0),h}))})(Zb)),Zb.exports}var LV=SV();const TV=Ct(LV);var Xb={exports:{}},EV=Xb.exports,Ok;function kV(){return Ok||(Ok=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(EV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"be",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"}};return p.default.locale(h,null,!0),h}))})(Xb)),Xb.exports}var AV=kV();const CV=Ct(AV);var Kb={exports:{}},DV=Kb.exports,Rk;function IV(){return Rk||(Rk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(DV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"bg",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),weekStart:1,ordinal:function(c){var M=c%100;if(M>10&&M<20)return c+"-";var s=c%10;return s===1?c+"-":s===2?c+"-":s===7||s===8?c+"-":c+"-"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Kb)),Kb.exports}var PV=IV();const OV=Ct(PV);var Jb={exports:{}},RV=Jb.exports,Fk;function FV(){return Fk||(Fk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(RV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"bi",weekdays:"Sande_Mande_Tusde_Wenesde_Tosde_Fraede_Sarade".split("_"),months:"Januari_Februari_Maj_Eprel_Mei_Jun_Julae_Okis_Septemba_Oktoba_Novemba_Disemba".split("_"),weekStart:1,weekdaysShort:"San_Man_Tus_Wen_Tos_Frae_Sar".split("_"),monthsShort:"Jan_Feb_Maj_Epr_Mai_Jun_Jul_Oki_Sep_Okt_Nov_Dis".split("_"),weekdaysMin:"San_Ma_Tu_We_To_Fr_Sar".split("_"),ordinal:function(c){return c},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"lo %s",past:"%s bifo",s:"sam seken",m:"wan minit",mm:"%d minit",h:"wan haoa",hh:"%d haoa",d:"wan dei",dd:"%d dei",M:"wan manis",MM:"%d manis",y:"wan yia",yy:"%d yia"}};return p.default.locale(h,null,!0),h}))})(Jb)),Jb.exports}var zV=FV();const YV=Ct(zV);var Qb={exports:{}},BV=Qb.exports,zk;function jV(){return zk||(zk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(BV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"bm",weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),weekStart:1,weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"}};return p.default.locale(h,null,!0),h}))})(Qb)),Qb.exports}var $V=jV();const VV=Ct($V);var ev={exports:{}},UV=ev.exports,Yk;function NV(){return Yk||(Yk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(UV,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n),h={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},c={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},M={name:"bn",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),preparse:function(s){return s.replace(/[]/g,(function(E){return c[E]}))},postformat:function(s){return s.replace(/\d/g,(function(E){return h[E]}))},ordinal:function(s){return s},formats:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(M,null,!0),M}))})(ev)),ev.exports}var HV=NV();const qV=Ct(HV);var tv={exports:{}},GV=tv.exports,Bk;function WV(){return Bk||(Bk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(GV,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"bo",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(tv)),tv.exports}var ZV=WV();const XV=Ct(ZV);var rv={exports:{}},KV=rv.exports,jk;function JV(){return jk||(jk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(KV,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n);function h(s){return s>9?h(s%10):s}function c(s,E,k){return s+" "+(function(R,F){return F===2?(function(C){return{m:"v",b:"v",d:"z"}[C.charAt(0)]+C.substring(1)})(R):R})({mm:"munutenn",MM:"miz",dd:"devezh"}[k],s)}var M={name:"br",weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),weekStart:1,weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),ordinal:function(s){return s},formats:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:c,h:"un eur",hh:"%d eur",d:"un devezh",dd:c,M:"ur miz",MM:c,y:"ur bloaz",yy:function(s){switch(h(s)){case 1:case 3:case 4:case 5:case 9:return s+" bloaz";default:return s+" vloaz"}}},meridiem:function(s){return s<12?"a.m.":"g.m."}};return p.default.locale(M,null,!0),M}))})(rv)),rv.exports}var QV=JV();const eU=Ct(QV);var nv={exports:{}},tU=nv.exports,$k;function rU(){return $k||($k=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(tU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"bs",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),weekStart:1,weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),ordinal:function(c){return c},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"}};return p.default.locale(h,null,!0),h}))})(nv)),nv.exports}var nU=rU();const iU=Ct(nU);var iv={exports:{}},oU=iv.exports,Vk;function aU(){return Vk||(Vk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(oU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ca",weekdays:"Diumenge_Dilluns_Dimarts_Dimecres_Dijous_Divendres_Dissabte".split("_"),weekdaysShort:"Dg._Dl._Dt._Dc._Dj._Dv._Ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),months:"Gener_Febrer_Mar_Abril_Maig_Juny_Juliol_Agost_Setembre_Octubre_Novembre_Desembre".split("_"),monthsShort:"Gen._Febr._Mar_Abr._Maig_Juny_Jul._Ag._Set._Oct._Nov._Des.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",ll:"D MMM YYYY",lll:"D MMM YYYY, H:mm",llll:"ddd D MMM YYYY, H:mm"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:function(c){return""+c+(c===1||c===3?"r":c===2?"n":c===4?"t":"")}};return p.default.locale(h,null,!0),h}))})(iv)),iv.exports}var sU=aU();const lU=Ct(sU);var ov={exports:{}},uU=ov.exports,Uk;function cU(){return Uk||(Uk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(uU,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n);function h(s){return s>1&&s<5&&~~(s/10)!=1}function c(s,E,k,R){var F=s+" ";switch(k){case"s":return E||R?"pr sekund":"pr sekundami";case"m":return E?"minuta":R?"minutu":"minutou";case"mm":return E||R?F+(h(s)?"minuty":"minut"):F+"minutami";case"h":return E?"hodina":R?"hodinu":"hodinou";case"hh":return E||R?F+(h(s)?"hodiny":"hodin"):F+"hodinami";case"d":return E||R?"den":"dnem";case"dd":return E||R?F+(h(s)?"dny":"dn"):F+"dny";case"M":return E||R?"msc":"mscem";case"MM":return E||R?F+(h(s)?"msce":"msc"):F+"msci";case"y":return E||R?"rok":"rokem";case"yy":return E||R?F+(h(s)?"roky":"let"):F+"lety"}}var M={name:"cs",weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),months:"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),monthsShort:"led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(s){return s+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"ped %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c}};return p.default.locale(M,null,!0),M}))})(ov)),ov.exports}var dU=cU();const fU=Ct(dU);var av={exports:{}},hU=av.exports,Nk;function pU(){return Nk||(Nk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(hU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"cv",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"}};return p.default.locale(h,null,!0),h}))})(av)),av.exports}var mU=pU();const _U=Ct(mU);var sv={exports:{}},gU=sv.exports,Hk;function yU(){return Hk||(Hk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(gU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"cy",weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),weekStart:1,weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"}};return p.default.locale(h,null,!0),h}))})(sv)),sv.exports}var bU=yU();const vU=Ct(bU);var lv={exports:{}},wU=lv.exports,qk;function xU(){return qk||(qk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(wU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"da",weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn._man._tirs._ons._tors._fre._lr.".split("_"),weekdaysMin:"s._ma._ti._on._to._fr._l.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,ordinal:function(c){return c+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"}};return p.default.locale(h,null,!0),h}))})(lv)),lv.exports}var MU=xU();const SU=Ct(MU);var uv={exports:{}},LU=uv.exports,Gk;function TU(){return Gk||(Gk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(LU,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n),h={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function c(s,E,k){var R=h[k];return Array.isArray(R)&&(R=R[E?0:1]),R.replace("%d",s)}var M={name:"de-at",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(s){return s+"."},weekStart:1,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c}};return p.default.locale(M,null,!0),M}))})(uv)),uv.exports}var EU=TU();const kU=Ct(EU);var cv={exports:{}},AU=cv.exports,Wk;function CU(){return Wk||(Wk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(AU,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n),h={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function c(s,E,k){var R=h[k];return Array.isArray(R)&&(R=R[E?0:1]),R.replace("%d",s)}var M={name:"de-ch",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(s){return s+"."},weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c}};return p.default.locale(M,null,!0),M}))})(cv)),cv.exports}var DU=CU();const IU=Ct(DU);var dv={exports:{}},PU=dv.exports,Zk;function OU(){return Zk||(Zk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(PU,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n),h={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function c(s,E,k){var R=h[k];return Array.isArray(R)&&(R=R[E?0:1]),R.replace("%d",s)}var M={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(s){return s+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c}};return p.default.locale(M,null,!0),M}))})(dv)),dv.exports}var RU=OU();const FU=Ct(RU);var fv={exports:{}},zU=fv.exports,Xk;function YU(){return Xk||(Xk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(zU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"dv",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:7,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"}};return p.default.locale(h,null,!0),h}))})(fv)),fv.exports}var BU=YU();const jU=Ct(BU);var hv={exports:{}},$U=hv.exports,Kk;function VU(){return Kk||(Kk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})($U,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"el",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),ordinal:function(c){return c},weekStart:1,relativeTime:{future:" %s",past:" %s",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"}};return p.default.locale(h,null,!0),h}))})(hv)),hv.exports}var UU=VU();const NU=Ct(UU);var pv={exports:{}},HU=pv.exports,Jk;function qU(){return Jk||(Jk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(HU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-au",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(h,null,!0),h}))})(pv)),pv.exports}var GU=qU();const WU=Ct(GU);var mv={exports:{}},ZU=mv.exports,Qk;function XU(){return Qk||(Qk=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(ZU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-ca",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(h,null,!0),h}))})(mv)),mv.exports}var KU=XU();const JU=Ct(KU);var _v={exports:{}},QU=_v.exports,eA;function eN(){return eA||(eA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(QU,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(c){var M=["th","st","nd","rd"],s=c%100;return"["+c+(M[(s-20)%10]||M[s]||M[0])+"]"}};return p.default.locale(h,null,!0),h}))})(_v)),_v.exports}var tN=eN();const rN=Ct(tN);var gv={exports:{}},nN=gv.exports,tA;function iN(){return tA||(tA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(nN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-ie",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(h,null,!0),h}))})(gv)),gv.exports}var oN=iN();const aN=Ct(oN);var yv={exports:{}},sN=yv.exports,rA;function lN(){return rA||(rA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(sN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-il",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(h,null,!0),h}))})(yv)),yv.exports}var uN=lN();const cN=Ct(uN);var bv={exports:{}},dN=bv.exports,nA;function fN(){return nA||(nA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(dN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-in",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(c){var M=["th","st","nd","rd"],s=c%100;return"["+c+(M[(s-20)%10]||M[s]||M[0])+"]"}};return p.default.locale(h,null,!0),h}))})(bv)),bv.exports}var hN=fN();const pN=Ct(hN);var vv={exports:{}},mN=vv.exports,iA;function _N(){return iA||(iA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(mN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-nz",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(c){var M=["th","st","nd","rd"],s=c%100;return"["+c+(M[(s-20)%10]||M[s]||M[0])+"]"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(h,null,!0),h}))})(vv)),vv.exports}var gN=_N();const yN=Ct(gN);var wv={exports:{}},bN=wv.exports,oA;function vN(){return oA||(oA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(bN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-sg",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(h,null,!0),h}))})(wv)),wv.exports}var wN=vN();const xN=Ct(wN);var xv={exports:{}},MN=xv.exports,aA;function SN(){return aA||(aA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(MN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"en-tt",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(c){var M=["th","st","nd","rd"],s=c%100;return"["+c+(M[(s-20)%10]||M[s]||M[0])+"]"}};return p.default.locale(h,null,!0),h}))})(xv)),xv.exports}var LN=SN();const TN=Ct(LN);var Mv={exports:{}},EN=Mv.exports,sA;function kN(){return sA||(sA=1,(function(e,r){(function(n,l){e.exports=l()})(EN,(function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}}))})(Mv)),Mv.exports}var AN=kN();const CN=Ct(AN);var Sv={exports:{}},DN=Sv.exports,lA;function IN(){return lA||(lA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(DN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"eo",weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),weekStart:1,weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"}};return p.default.locale(h,null,!0),h}))})(Sv)),Sv.exports}var PN=IN();const ON=Ct(PN);var Lv={exports:{}},RN=Lv.exports,uA;function FN(){return uA||(uA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(RN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"es-do",weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekStart:1,relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(c){return c+""},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"}};return p.default.locale(h,null,!0),h}))})(Lv)),Lv.exports}var zN=FN();const YN=Ct(zN);var Tv={exports:{}},BN=Tv.exports,cA;function jN(){return cA||(cA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(BN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"es-mx",weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(c){return c+""},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return p.default.locale(h,null,!0),h}))})(Tv)),Tv.exports}var $N=jN();const VN=Ct($N);var Ev={exports:{}},UN=Ev.exports,dA;function NN(){return dA||(dA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(UN,(function(n){function l(M){return M&&typeof M=="object"&&"default"in M?M:{default:M}}var p=l(n);function h(M,s,E,k){var R={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:["%d minuti","%d minutit"],h:["he tunni","tund aega","ks tund"],hh:["%d tunni","%d tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:["%d kuu","%d kuud"],y:["he aasta","aasta","ks aasta"],yy:["%d aasta","%d aastat"]};return s?(R[E][2]?R[E][2]:R[E][1]).replace("%d",M):(k?R[E][0]:R[E][1]).replace("%d",M)}var c={name:"et",weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),ordinal:function(M){return M+"."},weekStart:1,relativeTime:{future:"%s prast",past:"%s tagasi",s:h,m:h,mm:h,h,hh:h,d:h,dd:"%d peva",M:h,MM:h,y:h,yy:h},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"}};return p.default.locale(c,null,!0),c}))})(Ev)),Ev.exports}var HN=NN();const qN=Ct(HN);var kv={exports:{}},GN=kv.exports,fA;function WN(){return fA||(fA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(GN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"eu",weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),weekStart:1,weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"}};return p.default.locale(h,null,!0),h}))})(kv)),kv.exports}var ZN=WN();const XN=Ct(ZN);var Av={exports:{}},KN=Av.exports,hA;function JN(){return hA||(hA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(KN,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"fa",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekStart:6,months:"___________".split("_"),monthsShort:"___________".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Av)),Av.exports}var QN=JN();const eH=Ct(QN);var Cv={exports:{}},tH=Cv.exports,pA;function rH(){return pA||(pA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(tH,(function(n){function l(M){return M&&typeof M=="object"&&"default"in M?M:{default:M}}var p=l(n);function h(M,s,E,k){var R={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"piv",dd:"%d piv",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_nelj_viisi_kuusi_seitsemn_kahdeksan_yhdeksn".split("_")},F={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"pivn",dd:"%d pivn",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_neljn_viiden_kuuden_seitsemn_kahdeksan_yhdeksn".split("_")},C=k&&!s?F:R,B=C[E];return M<10?B.replace("%d",C.numbers[M]):B.replace("%d",M)}var c={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),ordinal:function(M){return M+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s pst",past:"%s sitten",s:h,m:h,mm:h,h,hh:h,d:h,dd:h,M:h,MM:h,y:h,yy:h},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return p.default.locale(c,null,!0),c}))})(Cv)),Cv.exports}var nH=rH();const iH=Ct(nH);var Dv={exports:{}},oH=Dv.exports,mA;function aH(){return mA||(mA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(oH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"fo",weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),weekStart:1,weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"}};return p.default.locale(h,null,!0),h}))})(Dv)),Dv.exports}var sH=aH();const lH=Ct(sH);var Iv={exports:{}},uH=Iv.exports,_A;function cH(){return _A||(_A=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(uH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"fr-ca",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return p.default.locale(h,null,!0),h}))})(Iv)),Iv.exports}var dH=cH();const fH=Ct(dH);var Pv={exports:{}},hH=Pv.exports,gA;function pH(){return gA||(gA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(hH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"fr-ch",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),weekStart:1,weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return p.default.locale(h,null,!0),h}))})(Pv)),Pv.exports}var mH=pH();const _H=Ct(mH);var Ov={exports:{}},gH=Ov.exports,yA;function yH(){return yA||(yA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(gH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(c){return""+c+(c===1?"er":"")}};return p.default.locale(h,null,!0),h}))})(Ov)),Ov.exports}var bH=yH();const vH=Ct(bH);var Rv={exports:{}},wH=Rv.exports,bA;function xH(){return bA||(bA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(wH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"fy",weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),weekStart:1,weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"}};return p.default.locale(h,null,!0),h}))})(Rv)),Rv.exports}var MH=xH();const SH=Ct(MH);var Fv={exports:{}},LH=Fv.exports,vA;function TH(){return vA||(vA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(LH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ga",weekdays:"D Domhnaigh_D Luain_D Mirt_D Cadaoin_Dardaoin_D hAoine_D Satharn".split("_"),months:"Eanir_Feabhra_Mrta_Aibren_Bealtaine_Mitheamh_Iil_Lnasa_Men Fmhair_Deaireadh Fmhair_Samhain_Nollaig".split("_"),weekStart:1,weekdaysShort:"Dom_Lua_Mi_Ca_Da_hAo_Sat".split("_"),monthsShort:"Ean_Feab_Mrt_Aibr_Beal_Mit_Iil_Lna_Men_Deai_Samh_Noll".split("_"),weekdaysMin:"Do_Lu_M_Ce_D_hA_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"}};return p.default.locale(h,null,!0),h}))})(Fv)),Fv.exports}var EH=TH();const kH=Ct(EH);var zv={exports:{}},AH=zv.exports,wA;function CH(){return wA||(wA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(AH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"gd",weekdays:"Didmhnaich_Diluain_Dimirt_Diciadain_Diardaoin_Dihaoine_Disathairne".split("_"),months:"Am Faoilleach_An Gearran_Am Mrt_An Giblean_An Citean_An t-gmhios_An t-Iuchar_An Lnastal_An t-Sultain_An Dmhair_An t-Samhain_An Dbhlachd".split("_"),weekStart:1,weekdaysShort:"Did_Dil_Dim_Dic_Dia_Dih_Dis".split("_"),monthsShort:"Faoi_Gear_Mrt_Gibl_Cit_gmh_Iuch_Ln_Sult_Dmh_Samh_Dbh".split("_"),weekdaysMin:"D_Lu_M_Ci_Ar_Ha_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"}};return p.default.locale(h,null,!0),h}))})(zv)),zv.exports}var DH=CH();const IH=Ct(DH);var Yv={exports:{}},PH=Yv.exports,xA;function OH(){return xA||(xA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(PH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"gl",weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),weekStart:1,weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),ordinal:function(c){return c+""},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"fai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"}};return p.default.locale(h,null,!0),h}))})(Yv)),Yv.exports}var RH=OH();const FH=Ct(RH);var Bv={exports:{}},zH=Bv.exports,MA;function YH(){return MA||(MA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(zH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"gom-latn",weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),weekStart:1,weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"}};return p.default.locale(h,null,!0),h}))})(Bv)),Bv.exports}var BH=YH();const jH=Ct(BH);var jv={exports:{}},$H=jv.exports,SA;function VH(){return SA||(SA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})($H,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"gu",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(jv)),jv.exports}var UH=VH();const NH=Ct(UH);var $v={exports:{}},HH=$v.exports,LA;function qH(){return LA||(LA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(HH,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n),h={s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",hh2:"",d:"",dd:"%d ",dd2:"",M:"",MM:"%d ",MM2:"",y:"",yy:"%d ",yy2:""};function c(s,E,k){return(h[k+(s===2?"2":"")]||h[k]).replace("%d",s)}var M={name:"he",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),relativeTime:{future:" %s",past:" %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:function(s){return s},format:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"}};return p.default.locale(M,null,!0),M}))})($v)),$v.exports}var GH=qH();const WH=Ct(GH);var Vv={exports:{}},ZH=Vv.exports,TA;function XH(){return TA||(TA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(ZH,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"hi",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Vv)),Vv.exports}var KH=XH();const JH=Ct(KH);var Uv={exports:{}},QH=Uv.exports,EA;function e9(){return EA||(EA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(QH,(function(n){function l(k){return k&&typeof k=="object"&&"default"in k?k:{default:k}}var p=l(n),h="sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),c="sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),M=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,s=function(k,R){return M.test(R)?h[k.month()]:c[k.month()]};s.s=c,s.f=h;var E={name:"hr",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),months:s,monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"za %s",past:"prije %s",s:"sekunda",m:"minuta",mm:"%d minuta",h:"sat",hh:"%d sati",d:"dan",dd:"%d dana",M:"mjesec",MM:"%d mjeseci",y:"godina",yy:"%d godine"},ordinal:function(k){return k+"."}};return p.default.locale(E,null,!0),E}))})(Uv)),Uv.exports}var t9=e9();const r9=Ct(t9);var Nv={exports:{}},n9=Nv.exports,kA;function i9(){return kA||(kA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(n9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ht",weekdays:"dimanch_lendi_madi_mkredi_jedi_vandredi_samdi".split("_"),months:"janvye_fevriye_mas_avril_me_jen_jiy_out_septanm_oktb_novanm_desanm".split("_"),weekdaysShort:"dim._len._mad._mk._jed._van._sam.".split("_"),monthsShort:"jan._fev._mas_avr._me_jen_jiy._out_sept._okt._nov._des.".split("_"),weekdaysMin:"di_le_ma_m_je_va_sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"nan %s",past:"sa gen %s",s:"kk segond",m:"yon minit",mm:"%d minit",h:"indtan",hh:"%d z",d:"yon jou",dd:"%d jou",M:"yon mwa",MM:"%d mwa",y:"yon ane",yy:"%d ane"}};return p.default.locale(h,null,!0),h}))})(Nv)),Nv.exports}var o9=i9();const a9=Ct(o9);var Hv={exports:{}},s9=Hv.exports,AA;function l9(){return AA||(AA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(s9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"hu",weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),ordinal:function(c){return c+"."},weekStart:1,relativeTime:{future:"%s mlva",past:"%s",s:function(c,M,s,E){return"nhny msodperc"+(E||M?"":"e")},m:function(c,M,s,E){return"egy perc"+(E||M?"":"e")},mm:function(c,M,s,E){return c+" perc"+(E||M?"":"e")},h:function(c,M,s,E){return"egy "+(E||M?"ra":"rja")},hh:function(c,M,s,E){return c+" "+(E||M?"ra":"rja")},d:function(c,M,s,E){return"egy "+(E||M?"nap":"napja")},dd:function(c,M,s,E){return c+" "+(E||M?"nap":"napja")},M:function(c,M,s,E){return"egy "+(E||M?"hnap":"hnapja")},MM:function(c,M,s,E){return c+" "+(E||M?"hnap":"hnapja")},y:function(c,M,s,E){return"egy "+(E||M?"v":"ve")},yy:function(c,M,s,E){return c+" "+(E||M?"v":"ve")}},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"}};return p.default.locale(h,null,!0),h}))})(Hv)),Hv.exports}var u9=l9();const c9=Ct(u9);var qv={exports:{}},d9=qv.exports,CA;function f9(){return CA||(CA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(d9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"hy-am",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(qv)),qv.exports}var h9=f9();const p9=Ct(h9);var Gv={exports:{}},m9=Gv.exports,DA;function _9(){return DA||(DA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(m9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(c){return c+"."}};return p.default.locale(h,null,!0),h}))})(Gv)),Gv.exports}var g9=_9();const y9=Ct(g9);var Wv={exports:{}},b9=Wv.exports,IA;function v9(){return IA||(IA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(b9,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n),h={s:["nokkrar sekndur","nokkrar sekndur","nokkrum sekndum"],m:["mnta","mntu","mntu"],mm:["mntur","mntur","mntum"],h:["klukkustund","klukkustund","klukkustund"],hh:["klukkustundir","klukkustundir","klukkustundum"],d:["dagur","dag","degi"],dd:["dagar","daga","dgum"],M:["mnuur","mnu","mnui"],MM:["mnuir","mnui","mnuum"],y:["r","r","ri"],yy:["r","r","rum"]};function c(s,E,k,R){var F=(function(C,B,G,Z){var K=Z?0:G?1:2,te=C.length===2&&B%10==1?C[0]:C,se=h[te][K];return C.length===1?se:"%d "+se})(k,s,R,E);return F.replace("%d",s)}var M={name:"is",weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),weekStart:1,weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),ordinal:function(s){return s},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c}};return p.default.locale(M,null,!0),M}))})(Wv)),Wv.exports}var w9=v9();const x9=Ct(w9);var Zv={exports:{}},M9=Zv.exports,PA;function S9(){return PA||(PA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(M9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"it-ch",weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return p.default.locale(h,null,!0),h}))})(Zv)),Zv.exports}var L9=S9();const T9=Ct(L9);var Xv={exports:{}},E9=Xv.exports,OA;function k9(){return OA||(OA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(E9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"it",weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(c){return c+""}};return p.default.locale(h,null,!0),h}))})(Xv)),Xv.exports}var A9=k9();const C9=Ct(A9);var Kv={exports:{}},D9=Kv.exports,RA;function I9(){return RA||(RA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(D9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ja",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(c){return c+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiem:function(c){return c<12?"":""},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}};return p.default.locale(h,null,!0),h}))})(Kv)),Kv.exports}var P9=I9();const O9=Ct(P9);var Jv={exports:{}},R9=Jv.exports,FA;function F9(){return FA||(FA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(R9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"jv",weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),weekStart:1,weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),ordinal:function(c){return c},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"}};return p.default.locale(h,null,!0),h}))})(Jv)),Jv.exports}var z9=F9();const Y9=Ct(z9);var Qv={exports:{}},B9=Qv.exports,zA;function j9(){return zA||(zA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(B9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ka",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),weekStart:1,formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d  ",M:"",MM:"%d ",y:"",yy:"%d "},ordinal:function(c){return c}};return p.default.locale(h,null,!0),h}))})(Qv)),Qv.exports}var $9=j9();const V9=Ct($9);var ew={exports:{}},U9=ew.exports,YA;function N9(){return YA||(YA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(U9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"kk",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),weekStart:1,relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return p.default.locale(h,null,!0),h}))})(ew)),ew.exports}var H9=N9();const q9=Ct(H9);var tw={exports:{}},G9=tw.exports,BA;function W9(){return BA||(BA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(G9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"km",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(tw)),tw.exports}var Z9=W9();const X9=Ct(Z9);var rw={exports:{}},K9=rw.exports,jA;function J9(){return jA||(jA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(K9,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"kn",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(rw)),rw.exports}var Q9=J9();const eq=Ct(Q9);var nw={exports:{}},tq=nw.exports,$A;function rq(){return $A||($A=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(tq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ko",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},meridiem:function(c){return c<12?"":""},relativeTime:{future:"%s ",past:"%s ",s:" ",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"}};return p.default.locale(h,null,!0),h}))})(nw)),nw.exports}var nq=rq();const iq=Ct(nq);var iw={exports:{}},oq=iw.exports,VA;function aq(){return VA||(VA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(oq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ku",weekdays:"______".split("_"),months:" _________ _ _ ".split("_"),weekStart:6,weekdaysShort:"______".split("_"),monthsShort:" _________ _ _ ".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiem:function(c){return c<12?".":"."},relativeTime:{future:" %s",past:"%s",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(iw)),iw.exports}var sq=aq();const lq=Ct(sq);var ow={exports:{}},uq=ow.exports,UA;function cq(){return UA||(UA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(uq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ky",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(ow)),ow.exports}var dq=cq();const fq=Ct(dq);var aw={exports:{}},hq=aw.exports,NA;function pq(){return NA||(NA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(hq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"lb",weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),weekStart:1,weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"}};return p.default.locale(h,null,!0),h}))})(aw)),aw.exports}var mq=pq();const _q=Ct(mq);var sw={exports:{}},gq=sw.exports,HA;function yq(){return HA||(HA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(gq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"lo",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(sw)),sw.exports}var bq=yq();const vq=Ct(bq);var lw={exports:{}},wq=lw.exports,qA;function xq(){return qA||(qA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(wq,(function(n){function l(k){return k&&typeof k=="object"&&"default"in k?k:{default:k}}var p=l(n),h="sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),c="sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),M=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/,s=function(k,R){return M.test(R)?h[k.month()]:c[k.month()]};s.s=c,s.f=h;var E={name:"lt",weekdays:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),weekdaysShort:"sek_pir_ant_tre_ket_pen_e".split("_"),weekdaysMin:"s_p_a_t_k_pn_".split("_"),months:s,monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),ordinal:function(k){return k+"."},weekStart:1,relativeTime:{future:"u %s",past:"prie %s",s:"kelias sekundes",m:"minut",mm:"%d minutes",h:"valand",hh:"%d valandas",d:"dien",dd:"%d dienas",M:"mnes",MM:"%d mnesius",y:"metus",yy:"%d metus"},format:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"}};return p.default.locale(E,null,!0),E}))})(lw)),lw.exports}var Mq=xq();const Sq=Ct(Mq);var uw={exports:{}},Lq=uw.exports,GA;function Tq(){return GA||(GA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(Lq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"lv",weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),weekStart:1,weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},relativeTime:{future:"pc %s",past:"pirms %s",s:"dam sekundm",m:"mintes",mm:"%d mintm",h:"stundas",hh:"%d stundm",d:"dienas",dd:"%d dienm",M:"mnea",MM:"%d mneiem",y:"gada",yy:"%d gadiem"}};return p.default.locale(h,null,!0),h}))})(uw)),uw.exports}var Eq=Tq();const kq=Ct(Eq);var cw={exports:{}},Aq=cw.exports,WA;function Cq(){return WA||(WA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(Aq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"me",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),weekStart:1,weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),ordinal:function(c){return c},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"}};return p.default.locale(h,null,!0),h}))})(cw)),cw.exports}var Dq=Cq();const Iq=Ct(Dq);var dw={exports:{}},Pq=dw.exports,ZA;function Oq(){return ZA||(ZA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(Pq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"mi",weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),weekStart:1,weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"}};return p.default.locale(h,null,!0),h}))})(dw)),dw.exports}var Rq=Oq();const Fq=Ct(Rq);var fw={exports:{}},zq=fw.exports,XA;function Yq(){return XA||(XA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(zq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"mk",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"e_o_____a".split("_"),ordinal:function(c){return c},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(fw)),fw.exports}var Bq=Yq();const jq=Ct(Bq);var hw={exports:{}},$q=hw.exports,KA;function Vq(){return KA||(KA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})($q,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ml",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(hw)),hw.exports}var Uq=Vq();const Nq=Ct(Uq);var pw={exports:{}},Hq=pw.exports,JA;function qq(){return JA||(JA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(Hq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"mn",weekdays:"______".split("_"),months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),weekdaysShort:"______".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}};return p.default.locale(h,null,!0),h}))})(pw)),pw.exports}var Gq=qq();const Wq=Ct(Gq);var mw={exports:{}},Zq=mw.exports,QA;function Xq(){return QA||(QA=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(Zq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"mr",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "}};return p.default.locale(h,null,!0),h}))})(mw)),mw.exports}var Kq=Xq();const Jq=Ct(Kq);var _w={exports:{}},Qq=_w.exports,eC;function e7(){return eC||(eC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(Qq,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ms-my",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),weekStart:1,weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),ordinal:function(c){return c},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"}};return p.default.locale(h,null,!0),h}))})(_w)),_w.exports}var t7=e7();const r7=Ct(t7);var gw={exports:{}},n7=gw.exports,tC;function i7(){return tC||(tC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(n7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ms",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH.mm",LLLL:"dddd, D MMMM YYYY HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(c){return c+"."}};return p.default.locale(h,null,!0),h}))})(gw)),gw.exports}var o7=i7();const a7=Ct(o7);var yw={exports:{}},s7=yw.exports,rC;function l7(){return rC||(rC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(s7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"mt",weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),weekStart:1,weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"}};return p.default.locale(h,null,!0),h}))})(yw)),yw.exports}var u7=l7();const c7=Ct(u7);var bw={exports:{}},d7=bw.exports,nC;function f7(){return nC||(nC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(d7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"my",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(bw)),bw.exports}var h7=f7();const p7=Ct(h7);var vw={exports:{}},m7=vw.exports,iC;function _7(){return iC||(iC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(m7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"nb",weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),ordinal:function(c){return c+"."},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"}};return p.default.locale(h,null,!0),h}))})(vw)),vw.exports}var g7=_7();const y7=Ct(g7);var ww={exports:{}},b7=ww.exports,oC;function v7(){return oC||(oC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(b7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ne",weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:"",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinal:function(c){return(""+c).replace(/\d/g,(function(M){return""[M]}))},formats:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "}};return p.default.locale(h,null,!0),h}))})(ww)),ww.exports}var w7=v7();const x7=Ct(w7);var xw={exports:{}},M7=xw.exports,aC;function S7(){return aC||(aC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(M7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"nl-be",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),weekStart:1,weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"}};return p.default.locale(h,null,!0),h}))})(xw)),xw.exports}var L7=S7();const T7=Ct(L7);var Mw={exports:{}},E7=Mw.exports,sC;function k7(){return sC||(sC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(E7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(c){return c+"."},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return p.default.locale(h,null,!0),h}))})(Mw)),Mw.exports}var A7=k7();const C7=Ct(A7);var Sw={exports:{}},D7=Sw.exports,lC;function I7(){return lC||(lC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(D7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"nn",weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),ordinal:function(c){return c+"."},weekStart:1,relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eitt minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnadar",y:"eitt r",yy:"%d r"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"}};return p.default.locale(h,null,!0),h}))})(Sw)),Sw.exports}var P7=I7();const O7=Ct(P7);var Lw={exports:{}},R7=Lw.exports,uC;function F7(){return uC||(uC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(R7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"oc-lnc",weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"Dg_Dl_Dm_Dc_Dj_Dv_Ds".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),months:"genir_febrir_mar_abrial_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),monthsShort:"gen_feb_mar_abr_mai_junh_julh_ago_set_oct_nov_dec".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},ordinal:function(c){return c+""}};return p.default.locale(h,null,!0),h}))})(Lw)),Lw.exports}var z7=F7();const Y7=Ct(z7);var Tw={exports:{}},B7=Tw.exports,cC;function j7(){return cC||(cC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(B7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"pa-in",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Tw)),Tw.exports}var $7=j7();const V7=Ct($7);var Ew={exports:{}},U7=Ew.exports,dC;function N7(){return dC||(dC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(U7,(function(n){function l(F){return F&&typeof F=="object"&&"default"in F?F:{default:F}}var p=l(n);function h(F){return F%10<5&&F%10>1&&~~(F/10)%10!=1}function c(F,C,B){var G=F+" ";switch(B){case"m":return C?"minuta":"minut";case"mm":return G+(h(F)?"minuty":"minut");case"h":return C?"godzina":"godzin";case"hh":return G+(h(F)?"godziny":"godzin");case"MM":return G+(h(F)?"miesice":"miesicy");case"yy":return G+(h(F)?"lata":"lat")}}var M="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),s="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),E=/D MMMM/,k=function(F,C){return E.test(C)?M[F.month()]:s[F.month()]};k.s=s,k.f=M;var R={name:"pl",weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),months:k,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),ordinal:function(F){return F+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:c,mm:c,h:c,hh:c,d:"1 dzie",dd:"%d dni",M:"miesic",MM:c,y:"rok",yy:c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return p.default.locale(R,null,!0),R}))})(Ew)),Ew.exports}var H7=N7();const q7=Ct(H7);var kw={exports:{}},G7=kw.exports,fC;function W7(){return fC||(fC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(G7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"pt-br",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(c){return c+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return p.default.locale(h,null,!0),h}))})(kw)),kw.exports}var Z7=W7();const X7=Ct(Z7);var Aw={exports:{}},K7=Aw.exports,hC;function J7(){return hC||(hC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(K7,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"pt",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2_3_4_5_6_Sa".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(c){return c+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return p.default.locale(h,null,!0),h}))})(Aw)),Aw.exports}var Q7=J7();const eG=Ct(Q7);var Cw={exports:{}},tG=Cw.exports,pC;function rG(){return pC||(pC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(tG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"rn",weekdays:"Ku wa Mungu_Ku wa Mbere_Ku wa Kabiri_Ku wa Gatatu_Ku wa Kane_Ku wa Gatanu_Ku wa Gatandatu".split("_"),weekdaysShort:"Kngu_Kmbr_Kbri_Ktat_Kkan_Ktan_Kdat".split("_"),weekdaysMin:"K7_K1_K2_K3_K4_K5_K6".split("_"),months:"Nzero_Ruhuhuma_Ntwarante_Ndamukiza_Rusama_Ruhenshi_Mukakaro_Myandagaro_Nyakanga_Gitugutu_Munyonyo_Kigarama".split("_"),monthsShort:"Nzer_Ruhuh_Ntwar_Ndam_Rus_Ruhen_Muk_Myand_Nyak_Git_Muny_Kig".split("_"),weekStart:1,ordinal:function(c){return c},relativeTime:{future:"mu %s",past:"%s",s:"amasegonda",m:"Umunota",mm:"%d iminota",h:"isaha",hh:"%d amasaha",d:"Umunsi",dd:"%d iminsi",M:"ukwezi",MM:"%d amezi",y:"umwaka",yy:"%d imyaka"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return p.default.locale(h,null,!0),h}))})(Cw)),Cw.exports}var nG=rG();const iG=Ct(nG);var Dw={exports:{}},oG=Dw.exports,mC;function aG(){return mC||(mC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(oG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ro",weekdays:"Duminic_Luni_Mari_Miercuri_Joi_Vineri_Smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian._Febr._Mart._Apr._Mai_Iun._Iul._Aug._Sept._Oct._Nov._Dec.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"peste %s",past:"acum %s",s:"cteva secunde",m:"un minut",mm:"%d minute",h:"o or",hh:"%d ore",d:"o zi",dd:"%d zile",M:"o lun",MM:"%d luni",y:"un an",yy:"%d ani"},ordinal:function(c){return c}};return p.default.locale(h,null,!0),h}))})(Dw)),Dw.exports}var sG=aG();const lG=Ct(sG);var Iw={exports:{}},uG=Iw.exports,_C;function cG(){return _C||(_C=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(uG,(function(n){function l(B){return B&&typeof B=="object"&&"default"in B?B:{default:B}}var p=l(n),h="___________".split("_"),c="___________".split("_"),M="._._._.____._._._._.".split("_"),s="._.__.____._._._._.".split("_"),E=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function k(B,G,Z){var K,te;return Z==="m"?G?"":"":B+" "+(K=+B,te={mm:G?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[Z].split("_"),K%10==1&&K%100!=11?te[0]:K%10>=2&&K%10<=4&&(K%100<10||K%100>=20)?te[1]:te[2])}var R=function(B,G){return E.test(G)?h[B.month()]:c[B.month()]};R.s=c,R.f=h;var F=function(B,G){return E.test(G)?M[B.month()]:s[B.month()]};F.s=s,F.f=M;var C={name:"ru",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:R,monthsShort:F,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:k,mm:k,h:"",hh:k,d:"",dd:k,M:"",MM:k,y:"",yy:k},ordinal:function(B){return B},meridiem:function(B){return B<4?"":B<12?"":B<17?"":""}};return p.default.locale(C,null,!0),C}))})(Iw)),Iw.exports}var dG=cG();const fG=Ct(dG);var Pw={exports:{}},hG=Pw.exports,gC;function pG(){return gC||(gC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(hG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"rw",weekdays:"Ku Cyumweru_Kuwa Mbere_Kuwa Kabiri_Kuwa Gatatu_Kuwa Kane_Kuwa Gatanu_Kuwa Gatandatu".split("_"),months:"Mutarama_Gashyantare_Werurwe_Mata_Gicurasi_Kamena_Nyakanga_Kanama_Nzeri_Ukwakira_Ugushyingo_Ukuboza".split("_"),relativeTime:{future:"mu %s",past:"%s",s:"amasegonda",m:"Umunota",mm:"%d iminota",h:"isaha",hh:"%d amasaha",d:"Umunsi",dd:"%d iminsi",M:"ukwezi",MM:"%d amezi",y:"umwaka",yy:"%d imyaka"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(c){return c}};return p.default.locale(h,null,!0),h}))})(Pw)),Pw.exports}var mG=pG();const _G=Ct(mG);var Ow={exports:{}},gG=Ow.exports,yC;function yG(){return yC||(yC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(gG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"sd",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Ow)),Ow.exports}var bG=yG();const vG=Ct(bG);var Rw={exports:{}},wG=Rw.exports,bC;function xG(){return bC||(bC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(wG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"se",weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),weekStart:1,weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"}};return p.default.locale(h,null,!0),h}))})(Rw)),Rw.exports}var MG=xG();const SG=Ct(MG);var Fw={exports:{}},LG=Fw.exports,vC;function TG(){return vC||(vC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(LG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"si",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"}};return p.default.locale(h,null,!0),h}))})(Fw)),Fw.exports}var EG=TG();const kG=Ct(EG);var zw={exports:{}},AG=zw.exports,wC;function CG(){return wC||(wC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(AG,(function(n){function l(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var p=l(n);function h(s){return s>1&&s<5&&~~(s/10)!=1}function c(s,E,k,R){var F=s+" ";switch(k){case"s":return E||R?"pr seknd":"pr sekundami";case"m":return E?"minta":R?"mintu":"mintou";case"mm":return E||R?F+(h(s)?"minty":"mint"):F+"mintami";case"h":return E?"hodina":R?"hodinu":"hodinou";case"hh":return E||R?F+(h(s)?"hodiny":"hodn"):F+"hodinami";case"d":return E||R?"de":"dom";case"dd":return E||R?F+(h(s)?"dni":"dn"):F+"dami";case"M":return E||R?"mesiac":"mesiacom";case"MM":return E||R?F+(h(s)?"mesiace":"mesiacov"):F+"mesiacmi";case"y":return E||R?"rok":"rokom";case"yy":return E||R?F+(h(s)?"roky":"rokov"):F+"rokmi"}}var M={name:"sk",weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),months:"janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),monthsShort:"jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(s){return s+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"pred %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c}};return p.default.locale(M,null,!0),M}))})(zw)),zw.exports}var DG=CG();const IG=Ct(DG);var Yw={exports:{}},PG=Yw.exports,xC;function OG(){return xC||(xC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(PG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"sl",weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),weekStart:1,weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),ordinal:function(c){return c+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"ez %s",past:"pred %s",s:"nekaj sekund",m:"minuta",mm:"%d minut",h:"ura",hh:"%d ur",d:"dan",dd:"%d dni",M:"mesec",MM:"%d mesecev",y:"leto",yy:"%d let"}};return p.default.locale(h,null,!0),h}))})(Yw)),Yw.exports}var RG=OG();const FG=Ct(RG);var Bw={exports:{}},zG=Bw.exports,MC;function YG(){return MC||(MC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(zG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"sq",weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),weekStart:1,weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"}};return p.default.locale(h,null,!0),h}))})(Bw)),Bw.exports}var BG=YG();const jG=Ct(BG);var jw={exports:{}},$G=jw.exports,SC;function VG(){return SC||(SC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})($G,(function(n){function l(M){return M&&typeof M=="object"&&"default"in M?M:{default:M}}var p=l(n),h={words:{m:[" "," "],mm:["%d ","%d ","%d "],h:[" "," "],hh:["%d ","%d ","%d "],d:[" "," "],dd:["%d ","%d ","%d "],M:[" "," "],MM:["%d ","%d ","%d "],y:[" "," "],yy:["%d ","%d ","%d "]},correctGrammarCase:function(M,s){return M%10>=1&&M%10<=4&&(M%100<10||M%100>=20)?M%10==1?s[0]:s[1]:s[2]},relativeTimeFormatter:function(M,s,E,k){var R=h.words[E];if(E.length===1)return E==="y"&&s?" ":k||s?R[0]:R[1];var F=h.correctGrammarCase(M,R);return E==="yy"&&s&&F==="%d "?M+" ":F.replace("%d",M)}},c={name:"sr-cyrl",weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),weekStart:1,relativeTime:{future:" %s",past:" %s",s:" ",m:h.relativeTimeFormatter,mm:h.relativeTimeFormatter,h:h.relativeTimeFormatter,hh:h.relativeTimeFormatter,d:h.relativeTimeFormatter,dd:h.relativeTimeFormatter,M:h.relativeTimeFormatter,MM:h.relativeTimeFormatter,y:h.relativeTimeFormatter,yy:h.relativeTimeFormatter},ordinal:function(M){return M+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"}};return p.default.locale(c,null,!0),c}))})(jw)),jw.exports}var UG=VG();const NG=Ct(UG);var $w={exports:{}},HG=$w.exports,LC;function qG(){return LC||(LC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(HG,(function(n){function l(M){return M&&typeof M=="object"&&"default"in M?M:{default:M}}var p=l(n),h={words:{m:["jedan minut","jednog minuta"],mm:["%d minut","%d minuta","%d minuta"],h:["jedan sat","jednog sata"],hh:["%d sat","%d sata","%d sati"],d:["jedan dan","jednog dana"],dd:["%d dan","%d dana","%d dana"],M:["jedan mesec","jednog meseca"],MM:["%d mesec","%d meseca","%d meseci"],y:["jednu godinu","jedne godine"],yy:["%d godinu","%d godine","%d godina"]},correctGrammarCase:function(M,s){return M%10>=1&&M%10<=4&&(M%100<10||M%100>=20)?M%10==1?s[0]:s[1]:s[2]},relativeTimeFormatter:function(M,s,E,k){var R=h.words[E];if(E.length===1)return E==="y"&&s?"jedna godina":k||s?R[0]:R[1];var F=h.correctGrammarCase(M,R);return E==="yy"&&s&&F==="%d godinu"?M+" godina":F.replace("%d",M)}},c={name:"sr",weekdays:"Nedelja_Ponedeljak_Utorak_Sreda_etvrtak_Petak_Subota".split("_"),weekdaysShort:"Ned._Pon._Uto._Sre._et._Pet._Sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),months:"Januar_Februar_Mart_April_Maj_Jun_Jul_Avgust_Septembar_Oktobar_Novembar_Decembar".split("_"),monthsShort:"Jan._Feb._Mar._Apr._Maj_Jun_Jul_Avg._Sep._Okt._Nov._Dec.".split("_"),weekStart:1,relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:h.relativeTimeFormatter,mm:h.relativeTimeFormatter,h:h.relativeTimeFormatter,hh:h.relativeTimeFormatter,d:h.relativeTimeFormatter,dd:h.relativeTimeFormatter,M:h.relativeTimeFormatter,MM:h.relativeTimeFormatter,y:h.relativeTimeFormatter,yy:h.relativeTimeFormatter},ordinal:function(M){return M+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"}};return p.default.locale(c,null,!0),c}))})($w)),$w.exports}var GG=qG();const WG=Ct(GG);var Vw={exports:{}},ZG=Vw.exports,TC;function XG(){return TC||(TC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(ZG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ss",weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),weekStart:1,weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),ordinal:function(c){return c},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"}};return p.default.locale(h,null,!0),h}))})(Vw)),Vw.exports}var KG=XG();const JG=Ct(KG);var Uw={exports:{}},QG=Uw.exports,EC;function eW(){return EC||(EC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(QG,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"sv-fi",weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(c){var M=c%10;return"["+c+(M===1||M===2?"a":"e")+"]"},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY, [kl.] HH.mm",LLLL:"dddd, D. MMMM YYYY, [kl.] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [kl.] HH.mm",llll:"ddd, D. MMM YYYY, [kl.] HH.mm"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"}};return p.default.locale(h,null,!0),h}))})(Uw)),Uw.exports}var tW=eW();const rW=Ct(tW);var Nw={exports:{}},nW=Nw.exports,kC;function iW(){return kC||(kC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(nW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"sv",weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(c){var M=c%10;return"["+c+(M===1||M===2?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"}};return p.default.locale(h,null,!0),h}))})(Nw)),Nw.exports}var oW=iW();const aW=Ct(oW);var Hw={exports:{}},sW=Hw.exports,AC;function lW(){return AC||(AC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(sW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"sw",weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekStart:1,ordinal:function(c){return c},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return p.default.locale(h,null,!0),h}))})(Hw)),Hw.exports}var uW=lW();const cW=Ct(uW);var qw={exports:{}},dW=qw.exports,CC;function fW(){return CC||(CC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(dW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ta",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(qw)),qw.exports}var hW=fW();const pW=Ct(hW);var Gw={exports:{}},mW=Gw.exports,DC;function _W(){return DC||(DC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(mW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"te",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"._.__.____._._._._.".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Gw)),Gw.exports}var gW=_W();const yW=Ct(gW);var Ww={exports:{}},bW=Ww.exports,IC;function vW(){return IC||(IC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(bW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tet",weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),weekStart:1,weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"}};return p.default.locale(h,null,!0),h}))})(Ww)),Ww.exports}var wW=vW();const xW=Ct(wW);var Zw={exports:{}},MW=Zw.exports,PC;function SW(){return PC||(PC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(MW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tg",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(Zw)),Zw.exports}var LW=SW();const TW=Ct(LW);var Xw={exports:{}},EW=Xw.exports,OC;function kW(){return OC||(OC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(EW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"th",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},ordinal:function(c){return c+"."}};return p.default.locale(h,null,!0),h}))})(Xw)),Xw.exports}var AW=kW();const CW=Ct(AW);var Kw={exports:{}},DW=Kw.exports,RC;function IW(){return RC||(RC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(DW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tk",weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(c){return c+"."}};return p.default.locale(h,null,!0),h}))})(Kw)),Kw.exports}var PW=IW();const OW=Ct(PW);var Jw={exports:{}},RW=Jw.exports,FC;function FW(){return FC||(FC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(RW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tl-ph",weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),weekStart:1,weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"}};return p.default.locale(h,null,!0),h}))})(Jw)),Jw.exports}var zW=FW();const YW=Ct(zW);var Qw={exports:{}},BW=Qw.exports,zC;function jW(){return zC||(zC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(BW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tlh",weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),weekStart:1,weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return p.default.locale(h,null,!0),h}))})(Qw)),Qw.exports}var $W=jW();const VW=Ct($W);var ex={exports:{}},UW=ex.exports,YC;function NW(){return YC||(YC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(UW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tr",weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(c){return c+"."}};return p.default.locale(h,null,!0),h}))})(ex)),ex.exports}var HW=NW();const qW=Ct(HW);var tx={exports:{}},GW=tx.exports,BC;function WW(){return BC||(BC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(GW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tzl",weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),weekStart:1,weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),ordinal:function(c){return c},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"}};return p.default.locale(h,null,!0),h}))})(tx)),tx.exports}var ZW=WW();const XW=Ct(ZW);var rx={exports:{}},KW=rx.exports,jC;function JW(){return jC||(jC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(KW,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tzm-latn",weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekStart:6,weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"}};return p.default.locale(h,null,!0),h}))})(rx)),rx.exports}var QW=JW();const eZ=Ct(QW);var nx={exports:{}},tZ=nx.exports,$C;function rZ(){return $C||($C=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(tZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"tzm",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:6,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(nx)),nx.exports}var nZ=rZ();const iZ=Ct(nZ);var ix={exports:{}},oZ=ix.exports,VC;function aZ(){return VC||(VC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(oZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ug-cn",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(ix)),ix.exports}var sZ=aZ();const lZ=Ct(sZ);var ox={exports:{}},uZ=ox.exports,UC;function cZ(){return UC||(UC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(uZ,(function(n){function l(R){return R&&typeof R=="object"&&"default"in R?R:{default:R}}var p=l(n),h="___________".split("_"),c="___________".split("_"),M=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function s(R,F,C){var B,G;return C==="m"?F?"":"":C==="h"?F?"":"":R+" "+(B=+R,G={ss:F?"__":"__",mm:F?"__":"__",hh:F?"__":"__",dd:"__",MM:"__",yy:"__"}[C].split("_"),B%10==1&&B%100!=11?G[0]:B%10>=2&&B%10<=4&&(B%100<10||B%100>=20)?G[1]:G[2])}var E=function(R,F){return M.test(F)?h[R.month()]:c[R.month()]};E.s=c,E.f=h;var k={name:"uk",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:E,monthsShort:"___________".split("_"),weekStart:1,relativeTime:{future:" %s",past:"%s ",s:" ",m:s,mm:s,h:s,hh:s,d:"",dd:s,M:"",MM:s,y:"",yy:s},ordinal:function(R){return R},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"}};return p.default.locale(k,null,!0),k}))})(ox)),ox.exports}var dZ=cZ();const fZ=Ct(dZ);var ax={exports:{}},hZ=ax.exports,NC;function pZ(){return NC||(NC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(hZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"ur",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(ax)),ax.exports}var mZ=pZ();const _Z=Ct(mZ);var sx={exports:{}},gZ=sx.exports,HC;function yZ(){return HC||(HC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(gZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"uz-latn",weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),weekStart:1,weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"}};return p.default.locale(h,null,!0),h}))})(sx)),sx.exports}var bZ=yZ();const vZ=Ct(bZ);var lx={exports:{}},wZ=lx.exports,qC;function xZ(){return qC||(qC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(wZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"uz",weekdays:"______".split("_"),months:"___________".split("_"),weekStart:1,weekdaysShort:"______".split("_"),monthsShort:"___________".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(lx)),lx.exports}var MZ=xZ();const SZ=Ct(MZ);var ux={exports:{}},LZ=ux.exports,GC;function TZ(){return GC||(GC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(LZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"vi",weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"}};return p.default.locale(h,null,!0),h}))})(ux)),ux.exports}var EZ=TZ();const kZ=Ct(EZ);var cx={exports:{}},AZ=cx.exports,WC;function CZ(){return WC||(WC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(AZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"x-pseudo",weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),weekStart:1,weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),ordinal:function(c){return c},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"}};return p.default.locale(h,null,!0),h}))})(cx)),cx.exports}var DZ=CZ();const IZ=Ct(DZ);var dx={exports:{}},PZ=dx.exports,ZC;function OZ(){return ZC||(ZC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(PZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"yo",weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),weekStart:1,weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),ordinal:function(c){return c},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"}};return p.default.locale(h,null,!0),h}))})(dx)),dx.exports}var RZ=OZ();const FZ=Ct(RZ);var fx={exports:{}},zZ=fx.exports,XC;function YZ(){return XC||(XC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(zZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(c,M){return M==="W"?c+"":c+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(c,M){var s=100*c+M;return s<600?"":s<900?"":s<1100?"":s<1300?"":s<1800?"":""}};return p.default.locale(h,null,!0),h}))})(fx)),fx.exports}var BZ=YZ();const jZ=Ct(BZ);var hx={exports:{}},$Z=hx.exports,KC;function VZ(){return KC||(KC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})($Z,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"zh-hk",months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),ordinal:function(c){return c+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(hx)),hx.exports}var UZ=VZ();const NZ=Ct(UZ);var px={exports:{}},HZ=px.exports,JC;function qZ(){return JC||(JC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(HZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"zh-tw",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(c){return c+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}};return p.default.locale(h,null,!0),h}))})(px)),px.exports}var GZ=qZ();const WZ=Ct(GZ);var mx={exports:{}},ZZ=mx.exports,QC;function XZ(){return QC||(QC=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(ZZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"zh",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(c,M){return M==="W"?c+"":c+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(c,M){var s=100*c+M;return s<600?"":s<900?"":s<1100?"":s<1300?"":s<1800?"":""}};return p.default.locale(h,null,!0),h}))})(mx)),mx.exports}var KZ=XZ();const JZ=Ct(KZ);var _x={exports:{}},QZ=_x.exports,eD;function eX(){return eD||(eD=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(QZ,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"es-pr",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(c){return c+""}};return p.default.locale(h,null,!0),h}))})(_x)),_x.exports}var tX=eX();const rX=Ct(tX);var gx={exports:{}},nX=gx.exports,tD;function iX(){return tD||(tD=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(nX,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"es-us",weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(c){return c+""},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"}};return p.default.locale(h,null,!0),h}))})(gx)),gx.exports}var oX=iX();const aX=Ct(oX);var yx={exports:{}},sX=yx.exports,rD;function lX(){return rD||(rD=1,(function(e,r){(function(n,l){e.exports=l(Bt())})(sX,(function(n){function l(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var p=l(n),h={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(c){return c+""}};return p.default.locale(h,null,!0),h}))})(yx)),yx.exports}var uX=lX();const cX=Ct(uX),dX={af:j8,am:N8,"ar-dz":W8,"ar-iq":J8,"ar-kw":rV,"ar-ly":aV,"ar-ma":cV,"ar-sa":pV,"ar-tn":yV,ar:xV,az:TV,be:CV,bg:OV,bi:YV,bm:VV,bn:qV,bo:XV,br:eU,bs:iU,ca:lU,cs:fU,cv:_U,cy:vU,da:SU,"de-at":kU,"de-ch":IU,de:FU,dv:jU,el:NU,"en-au":WU,"en-ca":JU,"en-gb":rN,"en-ie":aN,"en-il":cN,"en-in":pN,"en-nz":yN,"en-sg":xN,"en-tt":TN,en:CN,eo:ON,"es-do":YN,"es-mx":VN,et:qN,eu:XN,fa:eH,fi:iH,fo:lH,"fr-ca":fH,"fr-ch":_H,fr:vH,fy:SH,ga:kH,gd:IH,gl:FH,"gom-latn":jH,gu:NH,he:WH,hi:JH,hr:r9,ht:a9,hu:c9,"hy-am":p9,id:y9,is:x9,"it-ch":T9,it:C9,ja:O9,jv:Y9,ka:V9,kk:q9,km:X9,kn:eq,ko:iq,ku:lq,ky:fq,lb:_q,lo:vq,lt:Sq,lv:kq,me:Iq,mi:Fq,mk:jq,ml:Nq,mn:Wq,mr:Jq,"ms-my":r7,ms:a7,mt:c7,my:p7,nb:y7,ne:x7,"nl-be":T7,nl:C7,nn:O7,"oc-lnc":Y7,"pa-in":V7,pl:q7,"pt-br":X7,pt:eG,rn:iG,ro:lG,ru:fG,rw:_G,sd:vG,se:SG,si:kG,sk:IG,sl:FG,sq:jG,"sr-cyrl":NG,sr:WG,ss:JG,"sv-fi":rW,sv:aW,sw:cW,ta:pW,te:yW,tet:xW,tg:TW,th:CW,tk:OW,"tl-ph":YW,tlh:VW,tr:qW,tzl:XW,"tzm-latn":eZ,tzm:iZ,"ug-cn":lZ,uk:fZ,ur:_Z,"uz-latn":vZ,uz:SZ,vi:kZ,"x-pseudo":IZ,yo:FZ,"zh-cn":jZ,"zh-hk":NZ,"zh-tw":WZ,zh:JZ,"es-pr":rX,"es-us":aX,es:cX};Hn.extend(_8);Hn.extend(v8);Hn.extend(S8);Hn.extend(k8);Hn.extend(I8);Hn.extend(F8);const YR=()=>{const e=new Date().getTimezoneOffset()*6e4;return new Date(Date.now()-e).toISOString()},BR=()=>new Date().toISOString(),jR=Oi(YR()),$R=Oi(BR());setInterval(()=>{jR.value=YR(),$R.value=BR()},1e3);const fX={locales:dX,lang:"en",backupLang:"en",async onLoad(){const e=fr(()=>wwLib.$store.getters["front/getLang"]);Ao(e,r=>{this.lang=r},{immediate:!0})},dateISO(){return jR.value},date(...e){return new Date(...e).toISOString()},dateRealtime(){return $R.value},toDateISO(e,r=this.settings.publicData.favoriteFormat){if(!e)throw"First parameter must be a string date";return r=r&&r.length?r:"YYYY-MM-DDTHH:mm:ss.sssZ",Hn(e,r,!1).toISOString()},formatDate(e,r=this.settings.publicData.favoriteFormat,n=this.lang){if(!e)throw"First parameter must be a string date";return Hn(e).locale(this.locales[n]||this.backupLang).format(r)},fromTime(e,r=!1,n=this.lang){if(!e)throw"First parameter must be a date as string";return Hn().locale(this.locales[n]||this.backupLang).from(Hn(e),r)},toTime(e,r=!1,n=this.lang){if(!e)throw"First parameter must be a date as string";return Hn().locale(this.locales[n]||this.backupLang).to(Hn(e),r)},compareDate(e,r,n,l=!1){if(!e)throw"First parameter must be a date";if(!r)throw"Second parameter must be a date";if(!n)throw"Third parameter must be a string";return Hn(r).diff(Hn(e),n,l)},getSecond(e=new Date().toISOString()){return Hn(e).get("second")},getMinute(e=new Date().toISOString()){return Hn(e).get("minute")},getHour(e=new Date().toISOString()){return Hn(e).get("hour")},getDay(e=new Date().toISOString()){return Hn(e).date()},getDayOfWeek(e=new Date().toISOString()){return Hn(e).get("day")},getMonth(e=new Date().toISOString()){return Hn(e).get("month")+1},getYear(e=new Date().toISOString()){return Hn(e).get("year")},getDayOfYear(e=new Date().toISOString()){return Hn(e).dayOfYear()},getWeekOfYear(e=new Date().toISOString()){return Hn(e).week()},addSeconds(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).add(r,"second").toISOString()},addMinutes(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).add(r,"minute").toISOString()},addHours(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).add(r,"hour").toISOString()},addDays(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).add(r,"day").toISOString()},addMonths(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).add(r,"month").toISOString()},addYears(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).add(r,"year").toISOString()},setSecond(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).set("second",r).toISOString()},setMinute(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).set("minute",r).toISOString()},setHour(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).set("hour",r).toISOString()},setDay(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return r===0?Hn(e).toISOString():Hn(e).date(r).toISOString()},setDayOfWeek(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return r===0?Hn(e).toISOString():Hn(e).set("day",r).toISOString()},setMonth(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return r===0?Hn(e).toISOString():(r-=1,Hn(e).set("month",r).toISOString())},setYear(e,r){if(!e)throw"First parameter must be a date";if(!r&&r!==0)throw"Second parameter must be a number";return Hn(e).set("year",r).toISOString()},toTimestamp(e){if(!e)throw"First parameter must be a date";return Hn(e).valueOf()},getBrowserTimezone(){return Hn.tz.guess()},convertDateTimezone(e,r,n=!1){if(!e)throw"First parameter must be a date";if(typeof r!="string")throw"Second parameter must be a string";return Hn(e).tz(r,n).format()},formatDateTimezone(e,r=this.settings.publicData.favoriteFormat,n=Hn.tz.guess(),l=this.lang){if(!e)throw"First parameter must be a date";if(typeof r!="string")throw"Second parameter must be a string";if(typeof n!="string")throw"Third parameter must be a string";return Hn(e).tz(n).locale(this.locales[l]||this.backupLang).format(r)}};var VR="https://js.stripe.com/v3",hX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var pX=function(){for(var r=document.querySelectorAll('script[src^="'.concat(VR,'"]')),n=0;n<r.length;n++){var l=r[n];if(hX.test(l.src))return l}return null},mX=function(r){var n="",l=document.createElement("script");l.src="".concat(VR).concat(n);var p=document.head||document.body;if(!p)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return p.appendChild(l),l},_X=function(r,n){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:n})},vb=null,gX=function(r){return vb!==null||(vb=new Promise(function(n,l){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var p=pX();p&&r||p||(p=mX(r)),p.addEventListener("load",function(){window.Stripe?n(window.Stripe):l(new Error("Stripe.js not available"))}),p.addEventListener("error",function(){l(new Error("Failed to load Stripe.js"))})}catch(h){l(h);return}})),vb},yX=function(r,n,l){if(r===null)return null;var p=r.apply(void 0,n);return _X(p,l),p},UR=Promise.resolve().then(function(){return gX(null)}),NR=!1;UR.catch(function(e){NR||console.warn(e)});var bX=function(){for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];NR=!0;var p=Date.now();return UR.then(function(h){return yX(h,n,p)})};const vX={bg:"Bulgarian",cs:"Czech",da:"Danish",de:"German",el:"Greek",en:"English","en-GB":"English (United Kingdom)",es:"Spanish","es-419":"Spanish (Latin America)",et:"Estonian",fi:"Finnish",fil:"Filipino",fr:"French","fr-CA":"French (Canada)",hr:"Croatian",hu:"Hungarian",id:"Indonesian",it:"Italian",ja:"Japanese",ko:"Korean",lt:"Lithuanian",lv:"Latvian",ms:"Malay",mt:"Maltese",nb:"Norwegian bokml",nl:"Dutch",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",ro:"Romanian",ru:"Russian",sk:"Slovak",sl:"Slovenian",sv:"Swedish",th:"Thai",tr:"Turkish",vi:"Vietnamese",zh:"Chinese (simplified)","zh-HK":"Chinese (Hong Kong)","zh-TW":"Chinese (Taiwan)"},wX={instance:null,isInstanceLoaded:Oi(!1),async _onLoad(e){await this.load(e.publicData.publicApiKey)},async load(e){if(e)try{if(this.instance=await bX(e),this.isInstanceLoaded.value=!0,!this.instance)throw new Error("Invalid Stripe configuration.")}catch(r){wwLib.wwLog.error(r)}},async checkout({prices:e,successPage:r,successPageQueryParams:n=[],cancelPage:l,cancelPageQueryParams:p=[],customerId:h,customerEmail:c,paymentMethods:M,isQuantityAdjustable:s,minQuantity:E,maxQuantity:k,isPromoCode:R,mode:F,shippings:C,isPhoneCollection:B,isAutoTax:G,locale:Z,metadata:K}){var te;if(!F)throw new Error("No mode defined.");if(!e||!e.length)throw new Error("No product defined.");if(!M||!M.length)throw new Error("No payment method defined.");if(!r)throw new Error("No success page defined.");if(!l)throw new Error("No cancel page defined.");try{const se=wwLib.wwWebsiteData.getInfo().id,_e=wwLib.manager?`${window.location.origin}/${se}/${r}`:`${window.location.origin}${wwLib.wwPageHelper.getPagePath(r)}`,Me=wwLib.manager?`${window.location.origin}/${se}/${l}`:`${window.location.origin}${wwLib.wwPageHelper.getPagePath(l)}`,he=new URLSearchParams(n.reduce((Ne,Re)=>(Re.value&&(Ne[Re.name]=Re.value),Ne),{})).toString(),Ge=new URLSearchParams(p.reduce((Ne,Re)=>(Re.value&&(Ne[Re.name]=Re.value),Ne),{})).toString(),{data:st}=await axios.post(`${wwLib.wwApiRequests._getPluginsUrl()}/designs/${se}/stripe/create-checkout-session`,{prices:e,successUrl:`${_e}${he?"?"+he:""}`,cancelUrl:`${Me}${Ge?"?"+Ge:""}`,customerId:h,customerEmail:c,paymentMethods:M,isQuantityAdjustable:s,minQuantity:E,maxQuantity:k,isPromoCode:R,mode:F,shippings:C,isPhoneCollection:B,isAutoTax:G,metadata:K,locale:vX[Z||wwLib.wwLang.lang]?Z||wwLib.wwLang.lang:"auto"});window.location.href=st.url}catch(se){throw new Error((te=se==null?void 0:se.response)==null?void 0:te.data)}},async customerPortal({customerId:e,cancelPage:r}){if(!e)throw new Error("No currency defined.");if(!r)throw new Error("No cancel page defined.");try{const n=wwLib.wwWebsiteData.getInfo().id,l=wwLib.manager?`${window.location.origin}/${n}/${r}`:`${window.location.origin}${wwLib.wwPageHelper.getPagePath(r)}`,{data:p}=await axios.post(`${wwLib.wwApiRequests._getPluginsUrl()}/designs/${n}/stripe/create-customer-portal-session`,{customerId:e,cancelUrl:l});window.location.href=p.url}catch(n){throw n.response}},async createPaymentIntent({prices:e,customerId:r,paymentMethods:n}){if(!e||!e.length)throw new Error("No product defined.");if(!n||!n.length)throw new Error("No payment method defined.");try{const l=wwLib.wwWebsiteData.getInfo().id,{data:p}=await axios.post(`${wwLib.wwApiRequests._getPluginsUrl()}/designs/${l}/stripe/create-payment-intent`,{prices:e,customerId:r,paymentMethods:n});return p}catch(l){throw new Error(l.response.data)}},async retrievePaymentIntent({clientSecret:e}){if(!e)throw new Error("No client secret defined.");const{paymentIntent:r}=await this.instance.retrievePaymentIntent(e);return r},async confirmPayment({elementId:e,redirectPage:r}){if(!e)throw new Error("No element defined.");if(!r)throw new Error("No redirect page defined.");const n=wwLib.wwVariable.getValue(e);if(!n)throw new Error("Invalid Stripe element.");const l=wwLib.wwWebsiteData.getInfo().id,p=wwLib.manager?`${window.location.origin}/${l}/${r}`:`${window.location.origin}${wwLib.wwPageHelper.getPagePath(r)}`,{error:h}=await this.instance.confirmPayment({elements:n,confirmParams:{return_url:p}});throw new Error(h.message,{cause:h})},async confirmCardPayment({clientSecret:e,elementId:r}){if(!e)throw new Error("No client secret defined.");if(!r)throw new Error("No element defined.");const n=wwLib.wwVariable.getValue(r);if(!n)throw new Error("Invalid Stripe element.");const l=await this.instance.confirmCardPayment(e,{payment_method:{card:n}});if(l.error)throw new Error(l.error.message,{cause:l.error});return l.paymentIntent}},RM="ww-auth-access-token",R_="ww-auth-xano-provider-login",xX={xanoManager:null,async _onLoad(e){},async _initAuth(){var n,l,p,h,c,M;const e=window.vm.config.globalProperties.$cookie.getCookie(R_),r=window.vm.config.globalProperties.$cookie.getCookie(RM);wwLib.wwVariable.updateValue(`${this.id}-accessToken`,r),r&&(await this.fetchUser(),(l=(n=wwLib.wwPlugins.xano)==null?void 0:n.xanoClient)==null||l.setAuthToken(r),(h=(p=wwLib.wwPlugins.xano)==null?void 0:p.xanoClient)==null||h.setRealtimeAuthToken(r),(M=(c=wwLib.wwPlugins.xano)==null?void 0:c.xanoClient)==null||M.realtimeReconnect()),e&&await this.continueLoginProvider(e)},storeToken(e){var r,n,l,p,h,c;window.vm.config.globalProperties.$cookie.setCookie(RM,e,{expire:"1y",secure:!0}),wwLib.wwVariable.updateValue(`${this.id}-accessToken`,e),(n=(r=wwLib.wwPlugins.xano)==null?void 0:r.xanoClient)==null||n.setAuthToken(e),(p=(l=wwLib.wwPlugins.xano)==null?void 0:l.xanoClient)==null||p.setRealtimeAuthToken(e),(c=(h=wwLib.wwPlugins.xano)==null?void 0:h.xanoClient)==null||c.realtimeReconnect()},removeToken(){var e,r,n,l,p,h;window.vm.config.globalProperties.$cookie.removeCookie(RM),wwLib.wwVariable.updateValue(`${this.id}-accessToken`,null),(r=(e=wwLib.wwPlugins.xano)==null?void 0:e.xanoClient)==null||r.setAuthToken(null),(l=(n=wwLib.wwPlugins.xano)==null?void 0:n.xanoClient)==null||l.setRealtimeAuthToken(null),(h=(p=wwLib.wwPlugins.xano)==null?void 0:p.xanoClient)==null||h.realtimeReconnect()},async fetchUser({headers:e,withCredentials:r=!1}={}){const{getMeEndpoint:n}=this.settings.publicData,l=wwLib.wwVariable.getValue(`${this.id}-accessToken`);if(!n)throw new Error("No API Group Base URL defined.");try{const{data:p}=await this.request(n,{headers:F_({authToken:l},e),withCredentials:r});return wwLib.wwVariable.updateValue(`${this.id}-user`,p),wwLib.wwVariable.updateValue(`${this.id}-isAuthenticated`,!0),p}catch(p){throw this.logout(),p}},async login({headers:e,withCredentials:r=!1,parameters:n=null,body:l=null,email:p=null,password:h=null}){const{loginEndpoint:c}=this.settings.publicData;if(!c)throw new Error("No API Group Base URL defined.");const M=l||{email:p,password:h};try{const{data:{authToken:s}}=await await this.request(c,{method:"post",data:M,params:n,headers:F_({},e),withCredentials:r});return this.storeToken(s),await this.fetchUser()}catch(s){throw this.logout(),s}},async loginProvider({headers:e,withCredentials:r=!1,provider:n,type:l,redirectPage:p}){try{const h=this.settings.publicData.socialProviders[n];if(!h)return;const c=wwLib.wwWebsiteData.getInfo().id,M=wwLib.manager?`${window.location.origin}/${c}/${p}`:`${window.location.origin}${wwLib.wwPageHelper.getPagePath(p)}`,s=MX(h.name),E=await this.request(`${h.api}/oauth/${h.name.split("-")[0]}/${s}`,{params:{redirect_uri:M},headers:F_({},e)});window.vm.config.globalProperties.$cookie.setCookie(R_,{provider:h,type:l,redirectUrl:M,headers:F_({},e),withCredentials:r}),window.open(TX(h.name,E.data),"_self")}catch(h){throw window.vm.config.globalProperties.$cookie.removeCookie(R_),this.logout(),h}},async continueLoginProvider({headers:e,withCredentials:r=!1,provider:n,type:l,redirectUrl:p}){try{const h=SX(wwLib.globalContext.browser.query);if(!h)throw new Error("No code provided for social login");const c=await this.request(`${n.api}/oauth/${n.name.split("-")[0]}/${l}`,{params:{...h,redirect_uri:p},headers:e,withCredentials:r});return window.vm.config.globalProperties.$cookie.removeCookie(R_),this.storeToken(LX(n.name,c.data)),await this.fetchUser()}catch(h){throw window.vm.config.globalProperties.$cookie.removeCookie(R_),h}},async signUp({headers:e,withCredentials:r=!1,body:n,parameters:l,email:p,password:h,name:c}){const{signupEndpoint:M}=this.settings.publicData;if(!M)throw new Error("No API Group Base URL defined.");const s=n||{email:p,password:h,name:c};try{const{data:{authToken:E}}=await this.request(M,{method:"post",data:s,params:l,headers:F_({},e),withCredentials:r});return this.storeToken(E),await this.fetchUser()}catch(E){throw this.logout(),E}},logout(){this.removeToken(),wwLib.wwVariable.updateValue(`${this.id}-user`,null),wwLib.wwVariable.updateValue(`${this.id}-isAuthenticated`,!1)},storeAuthToken({authToken:e}){this.storeToken(e)},async request(e,r){return r.url=this.resolveUrl(e),r.withCredentials=this.settings.publicData.withCredentials||r.withCredentials,axios(r)},resolveUrl(e){if(!e)return null;const r=new URL(e);return r.hostname=this.settings.publicData.customDomain||this.settings.publicData.domain||r.hostname,r.href}};function MX(e){switch(e){case"twitter-oauth":return"request_token";default:return"init"}}function SX(e){return e.code?{code:e.code}:e.oauth_token?{oauth_token:e.oauth_token}:e.oauth_verifier?{oauth_verifier:e.oauth_verifier}:null}function LX(e,r){switch(e){case"twitter-oauth":return r.authToken;default:return r.token}}function TX(e,r){switch(e){case"github-oauth":return r.github_authurl;case"facebook-oauth":return r.facebook_authurl;case"linkedin-oauth":return r;default:return r.authUrl}}function EX(){const e=wwLib.wwPlugins.xanoAuth.settings;switch(wwLib.globalContext.browser.environment){case"editor":return e.publicData.xDataSourceEditor;case"preview":return e.publicData.xDataSourceProd;case"staging":return e.publicData.xDataSourceStaging;case"production":return e.publicData.xDataSourceProd;default:return null}}function kX(){const e=wwLib.wwPlugins.xanoAuth.settings;switch(wwLib.globalContext.browser.environment){case"editor":return e.publicData.xBranchEditor;case"preview":return e.publicData.xBranchProd;case"staging":return e.publicData.xBranchStaging;case"production":return e.publicData.xBranchProd;default:return null}}function AX(){return wwLib.wwFormula.getValue(wwLib.wwPlugins.xanoAuth.settings.publicData.globalHeaders)}function F_({xDataSource:e=EX(),xBranch:r=kX(),authToken:n,dataType:l,globalHeaders:p=AX()},h=[]){return{...e?{"X-Data-Source":e}:{},...r?{"X-Branch":r}:{},...n?{Authorization:`Bearer ${n}`}:{},...l?{"Content-Type":l}:{},...(Array.isArray(p)?p:[]).filter(c=>!!c&&!!c.key).reduce((c,M)=>({...c,[M.key]:M.value}),{}),...(Array.isArray(h)?h:[]).filter(c=>!!c&&!!c.key).reduce((c,M)=>({...c,[M.key]:M.value}),{})}}var FM,nD;function fm(){return nD||(nD=1,FM=TypeError),FM}const CX={},DX=Object.freeze(Object.defineProperty({__proto__:null,default:CX},Symbol.toStringTag,{value:"Module"})),IX=PY(DX);var zM,iD;function _0(){if(iD)return zM;iD=1;var e=typeof Map=="function"&&Map.prototype,r=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=e&&r&&typeof r.get=="function"?r.get:null,l=e&&Map.prototype.forEach,p=typeof Set=="function"&&Set.prototype,h=Object.getOwnPropertyDescriptor&&p?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=p&&h&&typeof h.get=="function"?h.get:null,M=p&&Set.prototype.forEach,s=typeof WeakMap=="function"&&WeakMap.prototype,E=s?WeakMap.prototype.has:null,k=typeof WeakSet=="function"&&WeakSet.prototype,R=k?WeakSet.prototype.has:null,F=typeof WeakRef=="function"&&WeakRef.prototype,C=F?WeakRef.prototype.deref:null,B=Boolean.prototype.valueOf,G=Object.prototype.toString,Z=Function.prototype.toString,K=String.prototype.match,te=String.prototype.slice,se=String.prototype.replace,_e=String.prototype.toUpperCase,Me=String.prototype.toLowerCase,he=RegExp.prototype.test,Ge=Array.prototype.concat,st=Array.prototype.join,Ne=Array.prototype.slice,Re=Math.floor,ut=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ke=Object.getOwnPropertySymbols,gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,mt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===mt||!0)?Symbol.toStringTag:null,ot=Object.prototype.propertyIsEnumerable,dt=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ke){return ke.__proto__}:null);function vt(ke,Qe){if(ke===1/0||ke===-1/0||ke!==ke||ke&&ke>-1e3&&ke<1e3||he.call(/e/,Qe))return Qe;var Wr=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ke=="number"){var Xr=ke<0?-Re(-ke):Re(ke);if(Xr!==ke){var nn=String(Xr),Ar=te.call(Qe,nn.length+1);return se.call(nn,Wr,"$&_")+"."+se.call(se.call(Ar,/([0-9]{3})/g,"$&_"),/_$/,"")}}return se.call(Qe,Wr,"$&_")}var nr=IX,Sr=nr.custom,pr=He(Sr)?Sr:null,Er={__proto__:null,double:'"',single:"'"},pn={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};zM=function ke(Qe,Wr,Xr,nn){var Ar=Wr||{};if(At(Ar,"quoteStyle")&&!At(Er,Ar.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(At(Ar,"maxStringLength")&&(typeof Ar.maxStringLength=="number"?Ar.maxStringLength<0&&Ar.maxStringLength!==1/0:Ar.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ki=At(Ar,"customInspect")?Ar.customInspect:!0;if(typeof ki!="boolean"&&ki!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(At(Ar,"indent")&&Ar.indent!==null&&Ar.indent!=="	"&&!(parseInt(Ar.indent,10)===Ar.indent&&Ar.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(At(Ar,"numericSeparator")&&typeof Ar.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ro=Ar.numericSeparator;if(typeof Qe>"u")return"undefined";if(Qe===null)return"null";if(typeof Qe=="boolean")return Qe?"true":"false";if(typeof Qe=="string")return vr(Qe,Ar);if(typeof Qe=="number"){if(Qe===0)return 1/0/Qe>0?"0":"-0";var Yi=String(Qe);return ro?vt(Qe,Yi):Yi}if(typeof Qe=="bigint"){var jt=String(Qe)+"n";return ro?vt(Qe,jt):jt}var ur=typeof Ar.depth>"u"?5:Ar.depth;if(typeof Xr>"u"&&(Xr=0),Xr>=ur&&ur>0&&typeof Qe=="object")return xt(Qe)?"[Array]":"[Object]";var Lr=Te(Ar,Xr);if(typeof nn>"u")nn=[];else if(ar(nn,Qe)>=0)return"[Circular]";function wr(Or,Cr,Kr){if(Cr&&(nn=Ne.call(nn),nn.push(Cr)),Kr){var bn={depth:Ar.depth};return At(Ar,"quoteStyle")&&(bn.quoteStyle=Ar.quoteStyle),ke(Or,bn,Xr+1,nn)}return ke(Or,Ar,Xr+1,nn)}if(typeof Qe=="function"&&!It(Qe)){var Jr=mr(Qe),yn=ht(Qe,wr);return"[Function"+(Jr?": "+Jr:" (anonymous)")+"]"+(yn.length>0?" { "+st.call(yn,", ")+" }":"")}if(He(Qe)){var fe=mt?se.call(String(Qe),/^(Symbol\(.*\))_[^)]*$/,"$1"):gt.call(Qe);return typeof Qe=="object"&&!mt?Qn(fe):fe}if(tt(Qe)){for(var X="<"+Me.call(String(Qe.nodeName)),re=Qe.attributes||[],ge=0;ge<re.length;ge++)X+=" "+re[ge].name+"="+qr(Gr(re[ge].value),"double",Ar);return X+=">",Qe.childNodes&&Qe.childNodes.length&&(X+="..."),X+="</"+Me.call(String(Qe.nodeName))+">",X}if(xt(Qe)){if(Qe.length===0)return"[]";var Le=ht(Qe,wr);return Lr&&!q(Le)?"["+Ze(Le,Lr)+"]":"[ "+st.call(Le,", ")+" ]"}if(Nt(Qe)){var je=ht(Qe,wr);return!("cause"in Error.prototype)&&"cause"in Qe&&!ot.call(Qe,"cause")?"{ ["+String(Qe)+"] "+st.call(Ge.call("[cause]: "+wr(Qe.cause),je),", ")+" }":je.length===0?"["+String(Qe)+"]":"{ ["+String(Qe)+"] "+st.call(je,", ")+" }"}if(typeof Qe=="object"&&ki){if(pr&&typeof Qe[pr]=="function"&&nr)return nr(Qe,{depth:ur-Xr});if(ki!=="symbol"&&typeof Qe.inspect=="function")return Qe.inspect()}if(Ut(Qe)){var rt=[];return l&&l.call(Qe,function(Or,Cr){rt.push(wr(Cr,Qe,!0)+" => "+wr(Or,Qe))}),$("Map",n.call(Qe),rt,Lr)}if(Ir(Qe)){var Je=[];return M&&M.call(Qe,function(Or){Je.push(wr(Or,Qe))}),$("Set",c.call(Qe),Je,Lr)}if(jr(Qe))return ae("WeakMap");if(zr(Qe))return ae("WeakSet");if(lr(Qe))return ae("WeakRef");if(Se(Qe))return Qn(wr(Number(Qe)));if(at(Qe))return Qn(wr(ut.call(Qe)));if(Ce(Qe))return Qn(B.call(Qe));if(_r(Qe))return Qn(wr(String(Qe)));if(typeof window<"u"&&Qe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Qe===globalThis||typeof dh<"u"&&Qe===dh)return"{ [object globalThis] }";if(!qt(Qe)&&!It(Qe)){var Ue=ht(Qe,wr),et=dt?dt(Qe)===Object.prototype:Qe instanceof Object||Qe.constructor===Object,Rt=Qe instanceof Object?"":"null prototype",hr=!et&&Lt&&Object(Qe)===Qe&&Lt in Qe?te.call(sr(Qe),8,-1):Rt?"Object":"",Gt=et||typeof Qe.constructor!="function"?"":Qe.constructor.name?Qe.constructor.name+" ":"",Yr=Gt+(hr||Rt?"["+st.call(Ge.call([],hr||[],Rt||[]),": ")+"] ":"");return Ue.length===0?Yr+"{}":Lr?Yr+"{"+Ze(Ue,Lr)+"}":Yr+"{ "+st.call(Ue,", ")+" }"}return String(Qe)};function qr(ke,Qe,Wr){var Xr=Wr.quoteStyle||Qe,nn=Er[Xr];return nn+ke+nn}function Gr(ke){return se.call(String(ke),/"/g,"&quot;")}function Nr(ke){return!Lt||!(typeof ke=="object"&&(Lt in ke||typeof ke[Lt]<"u"))}function xt(ke){return sr(ke)==="[object Array]"&&Nr(ke)}function qt(ke){return sr(ke)==="[object Date]"&&Nr(ke)}function It(ke){return sr(ke)==="[object RegExp]"&&Nr(ke)}function Nt(ke){return sr(ke)==="[object Error]"&&Nr(ke)}function _r(ke){return sr(ke)==="[object String]"&&Nr(ke)}function Se(ke){return sr(ke)==="[object Number]"&&Nr(ke)}function Ce(ke){return sr(ke)==="[object Boolean]"&&Nr(ke)}function He(ke){if(mt)return ke&&typeof ke=="object"&&ke instanceof Symbol;if(typeof ke=="symbol")return!0;if(!ke||typeof ke!="object"||!gt)return!1;try{return gt.call(ke),!0}catch{}return!1}function at(ke){if(!ke||typeof ke!="object"||!ut)return!1;try{return ut.call(ke),!0}catch{}return!1}var Dt=Object.prototype.hasOwnProperty||function(ke){return ke in this};function At(ke,Qe){return Dt.call(ke,Qe)}function sr(ke){return G.call(ke)}function mr(ke){if(ke.name)return ke.name;var Qe=K.call(Z.call(ke),/^function\s*([\w$]+)/);return Qe?Qe[1]:null}function ar(ke,Qe){if(ke.indexOf)return ke.indexOf(Qe);for(var Wr=0,Xr=ke.length;Wr<Xr;Wr++)if(ke[Wr]===Qe)return Wr;return-1}function Ut(ke){if(!n||!ke||typeof ke!="object")return!1;try{n.call(ke);try{c.call(ke)}catch{return!0}return ke instanceof Map}catch{}return!1}function jr(ke){if(!E||!ke||typeof ke!="object")return!1;try{E.call(ke,E);try{R.call(ke,R)}catch{return!0}return ke instanceof WeakMap}catch{}return!1}function lr(ke){if(!C||!ke||typeof ke!="object")return!1;try{return C.call(ke),!0}catch{}return!1}function Ir(ke){if(!c||!ke||typeof ke!="object")return!1;try{c.call(ke);try{n.call(ke)}catch{return!0}return ke instanceof Set}catch{}return!1}function zr(ke){if(!R||!ke||typeof ke!="object")return!1;try{R.call(ke,R);try{E.call(ke,E)}catch{return!0}return ke instanceof WeakSet}catch{}return!1}function tt(ke){return!ke||typeof ke!="object"?!1:typeof HTMLElement<"u"&&ke instanceof HTMLElement?!0:typeof ke.nodeName=="string"&&typeof ke.getAttribute=="function"}function vr(ke,Qe){if(ke.length>Qe.maxStringLength){var Wr=ke.length-Qe.maxStringLength,Xr="... "+Wr+" more character"+(Wr>1?"s":"");return vr(te.call(ke,0,Qe.maxStringLength),Qe)+Xr}var nn=pn[Qe.quoteStyle||"single"];nn.lastIndex=0;var Ar=se.call(se.call(ke,nn,"\\$1"),/[\x00-\x1f]/g,rn);return qr(Ar,"single",Qe)}function rn(ke){var Qe=ke.charCodeAt(0),Wr={8:"b",9:"t",10:"n",12:"f",13:"r"}[Qe];return Wr?"\\"+Wr:"\\x"+(Qe<16?"0":"")+_e.call(Qe.toString(16))}function Qn(ke){return"Object("+ke+")"}function ae(ke){return ke+" { ? }"}function $(ke,Qe,Wr,Xr){var nn=Xr?Ze(Wr,Xr):st.call(Wr,", ");return ke+" ("+Qe+") {"+nn+"}"}function q(ke){for(var Qe=0;Qe<ke.length;Qe++)if(ar(ke[Qe],`
`)>=0)return!1;return!0}function Te(ke,Qe){var Wr;if(ke.indent==="	")Wr="	";else if(typeof ke.indent=="number"&&ke.indent>0)Wr=st.call(Array(ke.indent+1)," ");else return null;return{base:Wr,prev:st.call(Array(Qe+1),Wr)}}function Ze(ke,Qe){if(ke.length===0)return"";var Wr=`
`+Qe.prev+Qe.base;return Wr+st.call(ke,","+Wr)+`
`+Qe.prev}function ht(ke,Qe){var Wr=xt(ke),Xr=[];if(Wr){Xr.length=ke.length;for(var nn=0;nn<ke.length;nn++)Xr[nn]=At(ke,nn)?Qe(ke[nn],ke):""}var Ar=typeof Ke=="function"?Ke(ke):[],ki;if(mt){ki={};for(var ro=0;ro<Ar.length;ro++)ki["$"+Ar[ro]]=Ar[ro]}for(var Yi in ke)At(ke,Yi)&&(Wr&&String(Number(Yi))===Yi&&Yi<ke.length||mt&&ki["$"+Yi]instanceof Symbol||(he.call(/[^\w$]/,Yi)?Xr.push(Qe(Yi,ke)+": "+Qe(ke[Yi],ke)):Xr.push(Yi+": "+Qe(ke[Yi],ke))));if(typeof Ke=="function")for(var jt=0;jt<Ar.length;jt++)ot.call(ke,Ar[jt])&&Xr.push("["+Qe(Ar[jt])+"]: "+Qe(ke[Ar[jt]],ke));return Xr}return zM}var YM,oD;function PX(){if(oD)return YM;oD=1;var e=_0(),r=fm(),n=function(M,s,E){for(var k=M,R;(R=k.next)!=null;k=R)if(R.key===s)return k.next=R.next,E||(R.next=M.next,M.next=R),R},l=function(M,s){if(M){var E=n(M,s);return E&&E.value}},p=function(M,s,E){var k=n(M,s);k?k.value=E:M.next={key:s,next:M.next,value:E}},h=function(M,s){return M?!!n(M,s):!1},c=function(M,s){if(M)return n(M,s,!0)};return YM=function(){var s,E={assert:function(k){if(!E.has(k))throw new r("Side channel does not contain "+e(k))},delete:function(k){var R=s&&s.next,F=c(s,k);return F&&R&&R===F&&(s=void 0),!!F},get:function(k){return l(s,k)},has:function(k){return h(s,k)},set:function(k,R){s||(s={next:void 0}),p(s,k,R)}};return E},YM}var BM,aD;function HR(){return aD||(aD=1,BM=Object),BM}var jM,sD;function OX(){return sD||(sD=1,jM=Error),jM}var $M,lD;function RX(){return lD||(lD=1,$M=EvalError),$M}var VM,uD;function FX(){return uD||(uD=1,VM=RangeError),VM}var UM,cD;function zX(){return cD||(cD=1,UM=ReferenceError),UM}var NM,dD;function YX(){return dD||(dD=1,NM=SyntaxError),NM}var HM,fD;function BX(){return fD||(fD=1,HM=URIError),HM}var qM,hD;function jX(){return hD||(hD=1,qM=Math.abs),qM}var GM,pD;function $X(){return pD||(pD=1,GM=Math.floor),GM}var WM,mD;function VX(){return mD||(mD=1,WM=Math.max),WM}var ZM,_D;function UX(){return _D||(_D=1,ZM=Math.min),ZM}var XM,gD;function NX(){return gD||(gD=1,XM=Math.pow),XM}var KM,yD;function HX(){return yD||(yD=1,KM=Math.round),KM}var JM,bD;function qX(){return bD||(bD=1,JM=Number.isNaN||function(r){return r!==r}),JM}var QM,vD;function GX(){if(vD)return QM;vD=1;var e=qX();return QM=function(n){return e(n)||n===0?n:n<0?-1:1},QM}var eS,wD;function WX(){return wD||(wD=1,eS=Object.getOwnPropertyDescriptor),eS}var tS,xD;function qR(){if(xD)return tS;xD=1;var e=WX();if(e)try{e([],"length")}catch{e=null}return tS=e,tS}var rS,MD;function ZX(){if(MD)return rS;MD=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return rS=e,rS}var nS,SD;function XX(){return SD||(SD=1,nS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},n=Symbol("test"),l=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;var p=42;r[n]=p;for(var h in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var c=Object.getOwnPropertySymbols(r);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(r,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var M=Object.getOwnPropertyDescriptor(r,n);if(M.value!==p||M.enumerable!==!0)return!1}return!0}),nS}var iS,LD;function KX(){if(LD)return iS;LD=1;var e=typeof Symbol<"u"&&Symbol,r=XX();return iS=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},iS}var oS,TD;function GR(){return TD||(TD=1,oS=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),oS}var aS,ED;function WR(){if(ED)return aS;ED=1;var e=HR();return aS=e.getPrototypeOf||null,aS}var sS,kD;function JX(){if(kD)return sS;kD=1;var e="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,n=Math.max,l="[object Function]",p=function(s,E){for(var k=[],R=0;R<s.length;R+=1)k[R]=s[R];for(var F=0;F<E.length;F+=1)k[F+s.length]=E[F];return k},h=function(s,E){for(var k=[],R=E,F=0;R<s.length;R+=1,F+=1)k[F]=s[R];return k},c=function(M,s){for(var E="",k=0;k<M.length;k+=1)E+=M[k],k+1<M.length&&(E+=s);return E};return sS=function(s){var E=this;if(typeof E!="function"||r.apply(E)!==l)throw new TypeError(e+E);for(var k=h(arguments,1),R,F=function(){if(this instanceof R){var K=E.apply(this,p(k,arguments));return Object(K)===K?K:this}return E.apply(s,p(k,arguments))},C=n(0,E.length-k.length),B=[],G=0;G<C;G++)B[G]="$"+G;if(R=Function("binder","return function ("+c(B,",")+"){ return binder.apply(this,arguments); }")(F),E.prototype){var Z=function(){};Z.prototype=E.prototype,R.prototype=new Z,Z.prototype=null}return R},sS}var lS,AD;function g0(){if(AD)return lS;AD=1;var e=JX();return lS=Function.prototype.bind||e,lS}var uS,CD;function QL(){return CD||(CD=1,uS=Function.prototype.call),uS}var cS,DD;function ZR(){return DD||(DD=1,cS=Function.prototype.apply),cS}var dS,ID;function QX(){return ID||(ID=1,dS=typeof Reflect<"u"&&Reflect&&Reflect.apply),dS}var fS,PD;function eK(){if(PD)return fS;PD=1;var e=g0(),r=ZR(),n=QL(),l=QX();return fS=l||e.call(n,r),fS}var hS,OD;function XR(){if(OD)return hS;OD=1;var e=g0(),r=fm(),n=QL(),l=eK();return hS=function(h){if(h.length<1||typeof h[0]!="function")throw new r("a function is required");return l(e,n,h)},hS}var pS,RD;function tK(){if(RD)return pS;RD=1;var e=XR(),r=qR(),n;try{n=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var l=!!n&&r&&r(Object.prototype,"__proto__"),p=Object,h=p.getPrototypeOf;return pS=l&&typeof l.get=="function"?e([l.get]):typeof h=="function"?function(M){return h(M==null?M:p(M))}:!1,pS}var mS,FD;function rK(){if(FD)return mS;FD=1;var e=GR(),r=WR(),n=tK();return mS=e?function(p){return e(p)}:r?function(p){if(!p||typeof p!="object"&&typeof p!="function")throw new TypeError("getProto: not an object");return r(p)}:n?function(p){return n(p)}:null,mS}var _S,zD;function nK(){if(zD)return _S;zD=1;var e=Function.prototype.call,r=Object.prototype.hasOwnProperty,n=g0();return _S=n.call(e,r),_S}var gS,YD;function eT(){if(YD)return gS;YD=1;var e,r=HR(),n=OX(),l=RX(),p=FX(),h=zX(),c=YX(),M=fm(),s=BX(),E=jX(),k=$X(),R=VX(),F=UX(),C=NX(),B=HX(),G=GX(),Z=Function,K=function(It){try{return Z('"use strict"; return ('+It+").constructor;")()}catch{}},te=qR(),se=ZX(),_e=function(){throw new M},Me=te?(function(){try{return arguments.callee,_e}catch{try{return te(arguments,"callee").get}catch{return _e}}})():_e,he=KX()(),Ge=rK(),st=WR(),Ne=GR(),Re=ZR(),ut=QL(),Ke={},gt=typeof Uint8Array>"u"||!Ge?e:Ge(Uint8Array),mt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":he&&Ge?Ge([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":Ke,"%AsyncGenerator%":Ke,"%AsyncGeneratorFunction%":Ke,"%AsyncIteratorPrototype%":Ke,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":l,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":Z,"%GeneratorFunction%":Ke,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":he&&Ge?Ge(Ge([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!he||!Ge?e:Ge(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":te,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":p,"%ReferenceError%":h,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!he||!Ge?e:Ge(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":he&&Ge?Ge(""[Symbol.iterator]()):e,"%Symbol%":he?Symbol:e,"%SyntaxError%":c,"%ThrowTypeError%":Me,"%TypedArray%":gt,"%TypeError%":M,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":s,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":ut,"%Function.prototype.apply%":Re,"%Object.defineProperty%":se,"%Object.getPrototypeOf%":st,"%Math.abs%":E,"%Math.floor%":k,"%Math.max%":R,"%Math.min%":F,"%Math.pow%":C,"%Math.round%":B,"%Math.sign%":G,"%Reflect.getPrototypeOf%":Ne};if(Ge)try{null.error}catch(It){var Lt=Ge(Ge(It));mt["%Error.prototype%"]=Lt}var ot=function It(Nt){var _r;if(Nt==="%AsyncFunction%")_r=K("async function () {}");else if(Nt==="%GeneratorFunction%")_r=K("function* () {}");else if(Nt==="%AsyncGeneratorFunction%")_r=K("async function* () {}");else if(Nt==="%AsyncGenerator%"){var Se=It("%AsyncGeneratorFunction%");Se&&(_r=Se.prototype)}else if(Nt==="%AsyncIteratorPrototype%"){var Ce=It("%AsyncGenerator%");Ce&&Ge&&(_r=Ge(Ce.prototype))}return mt[Nt]=_r,_r},dt={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},vt=g0(),nr=nK(),Sr=vt.call(ut,Array.prototype.concat),pr=vt.call(Re,Array.prototype.splice),Er=vt.call(ut,String.prototype.replace),pn=vt.call(ut,String.prototype.slice),qr=vt.call(ut,RegExp.prototype.exec),Gr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Nr=/\\(\\)?/g,xt=function(Nt){var _r=pn(Nt,0,1),Se=pn(Nt,-1);if(_r==="%"&&Se!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Se==="%"&&_r!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var Ce=[];return Er(Nt,Gr,function(He,at,Dt,At){Ce[Ce.length]=Dt?Er(At,Nr,"$1"):at||He}),Ce},qt=function(Nt,_r){var Se=Nt,Ce;if(nr(dt,Se)&&(Ce=dt[Se],Se="%"+Ce[0]+"%"),nr(mt,Se)){var He=mt[Se];if(He===Ke&&(He=ot(Se)),typeof He>"u"&&!_r)throw new M("intrinsic "+Nt+" exists, but is not available. Please file an issue!");return{alias:Ce,name:Se,value:He}}throw new c("intrinsic "+Nt+" does not exist!")};return gS=function(Nt,_r){if(typeof Nt!="string"||Nt.length===0)throw new M("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _r!="boolean")throw new M('"allowMissing" argument must be a boolean');if(qr(/^%?[^%]*%?$/,Nt)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Se=xt(Nt),Ce=Se.length>0?Se[0]:"",He=qt("%"+Ce+"%",_r),at=He.name,Dt=He.value,At=!1,sr=He.alias;sr&&(Ce=sr[0],pr(Se,Sr([0,1],sr)));for(var mr=1,ar=!0;mr<Se.length;mr+=1){var Ut=Se[mr],jr=pn(Ut,0,1),lr=pn(Ut,-1);if((jr==='"'||jr==="'"||jr==="`"||lr==='"'||lr==="'"||lr==="`")&&jr!==lr)throw new c("property names with quotes must have matching quotes");if((Ut==="constructor"||!ar)&&(At=!0),Ce+="."+Ut,at="%"+Ce+"%",nr(mt,at))Dt=mt[at];else if(Dt!=null){if(!(Ut in Dt)){if(!_r)throw new M("base intrinsic for "+Nt+" exists, but the property is not available.");return}if(te&&mr+1>=Se.length){var Ir=te(Dt,Ut);ar=!!Ir,ar&&"get"in Ir&&!("originalValue"in Ir.get)?Dt=Ir.get:Dt=Dt[Ut]}else ar=nr(Dt,Ut),Dt=Dt[Ut];ar&&!At&&(mt[at]=Dt)}}return Dt},gS}var yS,BD;function KR(){if(BD)return yS;BD=1;var e=eT(),r=XR(),n=r([e("%String.prototype.indexOf%")]);return yS=function(p,h){var c=e(p,!!h);return typeof c=="function"&&n(p,".prototype.")>-1?r([c]):c},yS}var bS,jD;function JR(){if(jD)return bS;jD=1;var e=eT(),r=KR(),n=_0(),l=fm(),p=e("%Map%",!0),h=r("Map.prototype.get",!0),c=r("Map.prototype.set",!0),M=r("Map.prototype.has",!0),s=r("Map.prototype.delete",!0),E=r("Map.prototype.size",!0);return bS=!!p&&function(){var R,F={assert:function(C){if(!F.has(C))throw new l("Side channel does not contain "+n(C))},delete:function(C){if(R){var B=s(R,C);return E(R)===0&&(R=void 0),B}return!1},get:function(C){if(R)return h(R,C)},has:function(C){return R?M(R,C):!1},set:function(C,B){R||(R=new p),c(R,C,B)}};return F},bS}var vS,$D;function iK(){if($D)return vS;$D=1;var e=eT(),r=KR(),n=_0(),l=JR(),p=fm(),h=e("%WeakMap%",!0),c=r("WeakMap.prototype.get",!0),M=r("WeakMap.prototype.set",!0),s=r("WeakMap.prototype.has",!0),E=r("WeakMap.prototype.delete",!0);return vS=h?function(){var R,F,C={assert:function(B){if(!C.has(B))throw new p("Side channel does not contain "+n(B))},delete:function(B){if(h&&B&&(typeof B=="object"||typeof B=="function")){if(R)return E(R,B)}else if(l&&F)return F.delete(B);return!1},get:function(B){return h&&B&&(typeof B=="object"||typeof B=="function")&&R?c(R,B):F&&F.get(B)},has:function(B){return h&&B&&(typeof B=="object"||typeof B=="function")&&R?s(R,B):!!F&&F.has(B)},set:function(B,G){h&&B&&(typeof B=="object"||typeof B=="function")?(R||(R=new h),M(R,B,G)):l&&(F||(F=l()),F.set(B,G))}};return C}:l,vS}var wS,VD;function oK(){if(VD)return wS;VD=1;var e=fm(),r=_0(),n=PX(),l=JR(),p=iK(),h=p||l||n;return wS=function(){var M,s={assert:function(E){if(!s.has(E))throw new e("Side channel does not contain "+r(E))},delete:function(E){return!!M&&M.delete(E)},get:function(E){return M&&M.get(E)},has:function(E){return!!M&&M.has(E)},set:function(E,k){M||(M=h()),M.set(E,k)}};return s},wS}var xS,UD;function tT(){if(UD)return xS;UD=1;var e=String.prototype.replace,r=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return xS={default:n.RFC3986,formatters:{RFC1738:function(l){return e.call(l,r,"+")},RFC3986:function(l){return String(l)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},xS}var MS,ND;function QR(){if(ND)return MS;ND=1;var e=tT(),r=Object.prototype.hasOwnProperty,n=Array.isArray,l=(function(){for(var Z=[],K=0;K<256;++K)Z.push("%"+((K<16?"0":"")+K.toString(16)).toUpperCase());return Z})(),p=function(K){for(;K.length>1;){var te=K.pop(),se=te.obj[te.prop];if(n(se)){for(var _e=[],Me=0;Me<se.length;++Me)typeof se[Me]<"u"&&_e.push(se[Me]);te.obj[te.prop]=_e}}},h=function(K,te){for(var se=te&&te.plainObjects?{__proto__:null}:{},_e=0;_e<K.length;++_e)typeof K[_e]<"u"&&(se[_e]=K[_e]);return se},c=function Z(K,te,se){if(!te)return K;if(typeof te!="object"&&typeof te!="function"){if(n(K))K.push(te);else if(K&&typeof K=="object")(se&&(se.plainObjects||se.allowPrototypes)||!r.call(Object.prototype,te))&&(K[te]=!0);else return[K,te];return K}if(!K||typeof K!="object")return[K].concat(te);var _e=K;return n(K)&&!n(te)&&(_e=h(K,se)),n(K)&&n(te)?(te.forEach(function(Me,he){if(r.call(K,he)){var Ge=K[he];Ge&&typeof Ge=="object"&&Me&&typeof Me=="object"?K[he]=Z(Ge,Me,se):K.push(Me)}else K[he]=Me}),K):Object.keys(te).reduce(function(Me,he){var Ge=te[he];return r.call(Me,he)?Me[he]=Z(Me[he],Ge,se):Me[he]=Ge,Me},_e)},M=function(K,te){return Object.keys(te).reduce(function(se,_e){return se[_e]=te[_e],se},K)},s=function(Z,K,te){var se=Z.replace(/\+/g," ");if(te==="iso-8859-1")return se.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(se)}catch{return se}},E=1024,k=function(K,te,se,_e,Me){if(K.length===0)return K;var he=K;if(typeof K=="symbol"?he=Symbol.prototype.toString.call(K):typeof K!="string"&&(he=String(K)),se==="iso-8859-1")return escape(he).replace(/%u[0-9a-f]{4}/gi,function(gt){return"%26%23"+parseInt(gt.slice(2),16)+"%3B"});for(var Ge="",st=0;st<he.length;st+=E){for(var Ne=he.length>=E?he.slice(st,st+E):he,Re=[],ut=0;ut<Ne.length;++ut){var Ke=Ne.charCodeAt(ut);if(Ke===45||Ke===46||Ke===95||Ke===126||Ke>=48&&Ke<=57||Ke>=65&&Ke<=90||Ke>=97&&Ke<=122||Me===e.RFC1738&&(Ke===40||Ke===41)){Re[Re.length]=Ne.charAt(ut);continue}if(Ke<128){Re[Re.length]=l[Ke];continue}if(Ke<2048){Re[Re.length]=l[192|Ke>>6]+l[128|Ke&63];continue}if(Ke<55296||Ke>=57344){Re[Re.length]=l[224|Ke>>12]+l[128|Ke>>6&63]+l[128|Ke&63];continue}ut+=1,Ke=65536+((Ke&1023)<<10|Ne.charCodeAt(ut)&1023),Re[Re.length]=l[240|Ke>>18]+l[128|Ke>>12&63]+l[128|Ke>>6&63]+l[128|Ke&63]}Ge+=Re.join("")}return Ge},R=function(K){for(var te=[{obj:{o:K},prop:"o"}],se=[],_e=0;_e<te.length;++_e)for(var Me=te[_e],he=Me.obj[Me.prop],Ge=Object.keys(he),st=0;st<Ge.length;++st){var Ne=Ge[st],Re=he[Ne];typeof Re=="object"&&Re!==null&&se.indexOf(Re)===-1&&(te.push({obj:he,prop:Ne}),se.push(Re))}return p(te),K},F=function(K){return Object.prototype.toString.call(K)==="[object RegExp]"},C=function(K){return!K||typeof K!="object"?!1:!!(K.constructor&&K.constructor.isBuffer&&K.constructor.isBuffer(K))},B=function(K,te){return[].concat(K,te)},G=function(K,te){if(n(K)){for(var se=[],_e=0;_e<K.length;_e+=1)se.push(te(K[_e]));return se}return te(K)};return MS={arrayToObject:h,assign:M,combine:B,compact:R,decode:s,encode:k,isBuffer:C,isRegExp:F,maybeMap:G,merge:c},MS}var SS,HD;function aK(){if(HD)return SS;HD=1;var e=oK(),r=QR(),n=tT(),l=Object.prototype.hasOwnProperty,p={brackets:function(Z){return Z+"[]"},comma:"comma",indices:function(Z,K){return Z+"["+K+"]"},repeat:function(Z){return Z}},h=Array.isArray,c=Array.prototype.push,M=function(G,Z){c.apply(G,h(Z)?Z:[Z])},s=Date.prototype.toISOString,E=n.default,k={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:r.encode,encodeValuesOnly:!1,filter:void 0,format:E,formatter:n.formatters[E],indices:!1,serializeDate:function(Z){return s.call(Z)},skipNulls:!1,strictNullHandling:!1},R=function(Z){return typeof Z=="string"||typeof Z=="number"||typeof Z=="boolean"||typeof Z=="symbol"||typeof Z=="bigint"},F={},C=function G(Z,K,te,se,_e,Me,he,Ge,st,Ne,Re,ut,Ke,gt,mt,Lt,ot,dt){for(var vt=Z,nr=dt,Sr=0,pr=!1;(nr=nr.get(F))!==void 0&&!pr;){var Er=nr.get(Z);if(Sr+=1,typeof Er<"u"){if(Er===Sr)throw new RangeError("Cyclic object value");pr=!0}typeof nr.get(F)>"u"&&(Sr=0)}if(typeof Ne=="function"?vt=Ne(K,vt):vt instanceof Date?vt=Ke(vt):te==="comma"&&h(vt)&&(vt=r.maybeMap(vt,function(at){return at instanceof Date?Ke(at):at})),vt===null){if(Me)return st&&!Lt?st(K,k.encoder,ot,"key",gt):K;vt=""}if(R(vt)||r.isBuffer(vt)){if(st){var pn=Lt?K:st(K,k.encoder,ot,"key",gt);return[mt(pn)+"="+mt(st(vt,k.encoder,ot,"value",gt))]}return[mt(K)+"="+mt(String(vt))]}var qr=[];if(typeof vt>"u")return qr;var Gr;if(te==="comma"&&h(vt))Lt&&st&&(vt=r.maybeMap(vt,st)),Gr=[{value:vt.length>0?vt.join(",")||null:void 0}];else if(h(Ne))Gr=Ne;else{var Nr=Object.keys(vt);Gr=Re?Nr.sort(Re):Nr}var xt=Ge?String(K).replace(/\./g,"%2E"):String(K),qt=se&&h(vt)&&vt.length===1?xt+"[]":xt;if(_e&&h(vt)&&vt.length===0)return qt+"[]";for(var It=0;It<Gr.length;++It){var Nt=Gr[It],_r=typeof Nt=="object"&&Nt&&typeof Nt.value<"u"?Nt.value:vt[Nt];if(!(he&&_r===null)){var Se=ut&&Ge?String(Nt).replace(/\./g,"%2E"):String(Nt),Ce=h(vt)?typeof te=="function"?te(qt,Se):qt:qt+(ut?"."+Se:"["+Se+"]");dt.set(Z,Sr);var He=e();He.set(F,dt),M(qr,G(_r,Ce,te,se,_e,Me,he,Ge,te==="comma"&&Lt&&h(vt)?null:st,Ne,Re,ut,Ke,gt,mt,Lt,ot,He))}}return qr},B=function(Z){if(!Z)return k;if(typeof Z.allowEmptyArrays<"u"&&typeof Z.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof Z.encodeDotInKeys<"u"&&typeof Z.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(Z.encoder!==null&&typeof Z.encoder<"u"&&typeof Z.encoder!="function")throw new TypeError("Encoder has to be a function.");var K=Z.charset||k.charset;if(typeof Z.charset<"u"&&Z.charset!=="utf-8"&&Z.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var te=n.default;if(typeof Z.format<"u"){if(!l.call(n.formatters,Z.format))throw new TypeError("Unknown format option provided.");te=Z.format}var se=n.formatters[te],_e=k.filter;(typeof Z.filter=="function"||h(Z.filter))&&(_e=Z.filter);var Me;if(Z.arrayFormat in p?Me=Z.arrayFormat:"indices"in Z?Me=Z.indices?"indices":"repeat":Me=k.arrayFormat,"commaRoundTrip"in Z&&typeof Z.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var he=typeof Z.allowDots>"u"?Z.encodeDotInKeys===!0?!0:k.allowDots:!!Z.allowDots;return{addQueryPrefix:typeof Z.addQueryPrefix=="boolean"?Z.addQueryPrefix:k.addQueryPrefix,allowDots:he,allowEmptyArrays:typeof Z.allowEmptyArrays=="boolean"?!!Z.allowEmptyArrays:k.allowEmptyArrays,arrayFormat:Me,charset:K,charsetSentinel:typeof Z.charsetSentinel=="boolean"?Z.charsetSentinel:k.charsetSentinel,commaRoundTrip:!!Z.commaRoundTrip,delimiter:typeof Z.delimiter>"u"?k.delimiter:Z.delimiter,encode:typeof Z.encode=="boolean"?Z.encode:k.encode,encodeDotInKeys:typeof Z.encodeDotInKeys=="boolean"?Z.encodeDotInKeys:k.encodeDotInKeys,encoder:typeof Z.encoder=="function"?Z.encoder:k.encoder,encodeValuesOnly:typeof Z.encodeValuesOnly=="boolean"?Z.encodeValuesOnly:k.encodeValuesOnly,filter:_e,format:te,formatter:se,serializeDate:typeof Z.serializeDate=="function"?Z.serializeDate:k.serializeDate,skipNulls:typeof Z.skipNulls=="boolean"?Z.skipNulls:k.skipNulls,sort:typeof Z.sort=="function"?Z.sort:null,strictNullHandling:typeof Z.strictNullHandling=="boolean"?Z.strictNullHandling:k.strictNullHandling}};return SS=function(G,Z){var K=G,te=B(Z),se,_e;typeof te.filter=="function"?(_e=te.filter,K=_e("",K)):h(te.filter)&&(_e=te.filter,se=_e);var Me=[];if(typeof K!="object"||K===null)return"";var he=p[te.arrayFormat],Ge=he==="comma"&&te.commaRoundTrip;se||(se=Object.keys(K)),te.sort&&se.sort(te.sort);for(var st=e(),Ne=0;Ne<se.length;++Ne){var Re=se[Ne],ut=K[Re];te.skipNulls&&ut===null||M(Me,C(ut,Re,he,Ge,te.allowEmptyArrays,te.strictNullHandling,te.skipNulls,te.encodeDotInKeys,te.encode?te.encoder:null,te.filter,te.sort,te.allowDots,te.serializeDate,te.format,te.formatter,te.encodeValuesOnly,te.charset,st))}var Ke=Me.join(te.delimiter),gt=te.addQueryPrefix===!0?"?":"";return te.charsetSentinel&&(te.charset==="iso-8859-1"?gt+="utf8=%26%2310003%3B&":gt+="utf8=%E2%9C%93&"),Ke.length>0?gt+Ke:""},SS}var LS,qD;function sK(){if(qD)return LS;qD=1;var e=QR(),r=Object.prototype.hasOwnProperty,n=Array.isArray,l={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},p=function(F){return F.replace(/&#(\d+);/g,function(C,B){return String.fromCharCode(parseInt(B,10))})},h=function(F,C,B){if(F&&typeof F=="string"&&C.comma&&F.indexOf(",")>-1)return F.split(",");if(C.throwOnLimitExceeded&&B>=C.arrayLimit)throw new RangeError("Array limit exceeded. Only "+C.arrayLimit+" element"+(C.arrayLimit===1?"":"s")+" allowed in an array.");return F},c="utf8=%26%2310003%3B",M="utf8=%E2%9C%93",s=function(C,B){var G={__proto__:null},Z=B.ignoreQueryPrefix?C.replace(/^\?/,""):C;Z=Z.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var K=B.parameterLimit===1/0?void 0:B.parameterLimit,te=Z.split(B.delimiter,B.throwOnLimitExceeded?K+1:K);if(B.throwOnLimitExceeded&&te.length>K)throw new RangeError("Parameter limit exceeded. Only "+K+" parameter"+(K===1?"":"s")+" allowed.");var se=-1,_e,Me=B.charset;if(B.charsetSentinel)for(_e=0;_e<te.length;++_e)te[_e].indexOf("utf8=")===0&&(te[_e]===M?Me="utf-8":te[_e]===c&&(Me="iso-8859-1"),se=_e,_e=te.length);for(_e=0;_e<te.length;++_e)if(_e!==se){var he=te[_e],Ge=he.indexOf("]="),st=Ge===-1?he.indexOf("="):Ge+1,Ne,Re;st===-1?(Ne=B.decoder(he,l.decoder,Me,"key"),Re=B.strictNullHandling?null:""):(Ne=B.decoder(he.slice(0,st),l.decoder,Me,"key"),Re=e.maybeMap(h(he.slice(st+1),B,n(G[Ne])?G[Ne].length:0),function(Ke){return B.decoder(Ke,l.decoder,Me,"value")})),Re&&B.interpretNumericEntities&&Me==="iso-8859-1"&&(Re=p(String(Re))),he.indexOf("[]=")>-1&&(Re=n(Re)?[Re]:Re);var ut=r.call(G,Ne);ut&&B.duplicates==="combine"?G[Ne]=e.combine(G[Ne],Re):(!ut||B.duplicates==="last")&&(G[Ne]=Re)}return G},E=function(F,C,B,G){var Z=0;if(F.length>0&&F[F.length-1]==="[]"){var K=F.slice(0,-1).join("");Z=Array.isArray(C)&&C[K]?C[K].length:0}for(var te=G?C:h(C,B,Z),se=F.length-1;se>=0;--se){var _e,Me=F[se];if(Me==="[]"&&B.parseArrays)_e=B.allowEmptyArrays&&(te===""||B.strictNullHandling&&te===null)?[]:e.combine([],te);else{_e=B.plainObjects?{__proto__:null}:{};var he=Me.charAt(0)==="["&&Me.charAt(Me.length-1)==="]"?Me.slice(1,-1):Me,Ge=B.decodeDotInKeys?he.replace(/%2E/g,"."):he,st=parseInt(Ge,10);!B.parseArrays&&Ge===""?_e={0:te}:!isNaN(st)&&Me!==Ge&&String(st)===Ge&&st>=0&&B.parseArrays&&st<=B.arrayLimit?(_e=[],_e[st]=te):Ge!=="__proto__"&&(_e[Ge]=te)}te=_e}return te},k=function(C,B,G,Z){if(C){var K=G.allowDots?C.replace(/\.([^.[]+)/g,"[$1]"):C,te=/(\[[^[\]]*])/,se=/(\[[^[\]]*])/g,_e=G.depth>0&&te.exec(K),Me=_e?K.slice(0,_e.index):K,he=[];if(Me){if(!G.plainObjects&&r.call(Object.prototype,Me)&&!G.allowPrototypes)return;he.push(Me)}for(var Ge=0;G.depth>0&&(_e=se.exec(K))!==null&&Ge<G.depth;){if(Ge+=1,!G.plainObjects&&r.call(Object.prototype,_e[1].slice(1,-1))&&!G.allowPrototypes)return;he.push(_e[1])}if(_e){if(G.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+G.depth+" and strictDepth is true");he.push("["+K.slice(_e.index)+"]")}return E(he,B,G,Z)}},R=function(C){if(!C)return l;if(typeof C.allowEmptyArrays<"u"&&typeof C.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof C.decodeDotInKeys<"u"&&typeof C.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(C.decoder!==null&&typeof C.decoder<"u"&&typeof C.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof C.charset<"u"&&C.charset!=="utf-8"&&C.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof C.throwOnLimitExceeded<"u"&&typeof C.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var B=typeof C.charset>"u"?l.charset:C.charset,G=typeof C.duplicates>"u"?l.duplicates:C.duplicates;if(G!=="combine"&&G!=="first"&&G!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var Z=typeof C.allowDots>"u"?C.decodeDotInKeys===!0?!0:l.allowDots:!!C.allowDots;return{allowDots:Z,allowEmptyArrays:typeof C.allowEmptyArrays=="boolean"?!!C.allowEmptyArrays:l.allowEmptyArrays,allowPrototypes:typeof C.allowPrototypes=="boolean"?C.allowPrototypes:l.allowPrototypes,allowSparse:typeof C.allowSparse=="boolean"?C.allowSparse:l.allowSparse,arrayLimit:typeof C.arrayLimit=="number"?C.arrayLimit:l.arrayLimit,charset:B,charsetSentinel:typeof C.charsetSentinel=="boolean"?C.charsetSentinel:l.charsetSentinel,comma:typeof C.comma=="boolean"?C.comma:l.comma,decodeDotInKeys:typeof C.decodeDotInKeys=="boolean"?C.decodeDotInKeys:l.decodeDotInKeys,decoder:typeof C.decoder=="function"?C.decoder:l.decoder,delimiter:typeof C.delimiter=="string"||e.isRegExp(C.delimiter)?C.delimiter:l.delimiter,depth:typeof C.depth=="number"||C.depth===!1?+C.depth:l.depth,duplicates:G,ignoreQueryPrefix:C.ignoreQueryPrefix===!0,interpretNumericEntities:typeof C.interpretNumericEntities=="boolean"?C.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:typeof C.parameterLimit=="number"?C.parameterLimit:l.parameterLimit,parseArrays:C.parseArrays!==!1,plainObjects:typeof C.plainObjects=="boolean"?C.plainObjects:l.plainObjects,strictDepth:typeof C.strictDepth=="boolean"?!!C.strictDepth:l.strictDepth,strictNullHandling:typeof C.strictNullHandling=="boolean"?C.strictNullHandling:l.strictNullHandling,throwOnLimitExceeded:typeof C.throwOnLimitExceeded=="boolean"?C.throwOnLimitExceeded:!1}};return LS=function(F,C){var B=R(C);if(F===""||F===null||typeof F>"u")return B.plainObjects?{__proto__:null}:{};for(var G=typeof F=="string"?s(F,B):F,Z=B.plainObjects?{__proto__:null}:{},K=Object.keys(G),te=0;te<K.length;++te){var se=K[te],_e=k(se,G[se],B,typeof F=="string");Z=e.merge(Z,_e,B)}return B.allowSparse===!0?Z:e.compact(Z)},LS}var TS,GD;function lK(){if(GD)return TS;GD=1;var e=aK(),r=sK(),n=tT();return TS={formats:n,parse:r,stringify:e},TS}var uK=lK();const cK=Ct(uK);async function dK(e,r,n){if(!e.body)throw new Error("ReadableStream not supported in this browser.");const l=e.body.getReader(),p=new TextDecoder;let h="",c=!0;for(;c;){const{done:s,value:E}=await l.read();if(s){c=!1;break}const k=p.decode(E,{stream:!0});h+=k;let R;for(;(R=h.indexOf(`
`))>=0;){let F=h.slice(0,R).trim();if(h=h.slice(R+1),!!F)if(F.startsWith("data:")){const C=F.substring(5).trim();if(C==="[DONE]"){c=!1,n==null||n.log("info","[REST API Stream] Received [DONE] in data: line.");break}if(C)try{const B=JSON.parse(C),G=wwLib.wwVariable.getValue(r)||[];wwLib.wwVariable.updateValue(r,[...G,B])}catch(B){n==null||n.log("warn",`[REST API Stream] Non-JSON data in data: line: ${C}`,{parseError:B});const G=wwLib.wwVariable.getValue(r)||[];wwLib.wwVariable.updateValue(r,[...G,C])}}else if(F==="[DONE]"){c=!1,n==null||n.log("info","[REST API Stream] Received [DONE] on its own line.");break}else if(F.startsWith("id:")||F.startsWith("event:")||F.startsWith("retry:")||F.startsWith(":"))n==null||n.log("debug",`[REST API Stream] Ignoring SSE metadata line: ${F}`);else try{const C=JSON.parse(F),B=wwLib.wwVariable.getValue(r)||[];wwLib.wwVariable.updateValue(r,[...B,C])}catch(C){n==null||n.log("debug",`[REST API Stream] Adding raw line as non-JSON: ${F}`,{parseError:C});const B=wwLib.wwVariable.getValue(r)||[];wwLib.wwVariable.updateValue(r,[...B,F])}}if(!c)break}const M=h.trim();if(M)if(M.startsWith("data:")){const s=M.substring(5).trim();if(s&&s!=="[DONE]")try{const E=JSON.parse(s),k=wwLib.wwVariable.getValue(r)||[];wwLib.wwVariable.updateValue(r,[...k,E])}catch(E){n==null||n.log("warn",`[REST API Stream] Failed to parse JSON from final buffer data: line: ${s}`,{e:E});const k=wwLib.wwVariable.getValue(r)||[];wwLib.wwVariable.updateValue(r,[...k,s])}else s==="[DONE]"&&(n==null||n.log("info","[REST API Stream] Received [DONE] in final buffer data: line."))}else if(M==="[DONE]")n==null||n.log("info","[REST API Stream] Received [DONE] as final buffer content.");else if(M.startsWith("id:")||M.startsWith("event:")||M.startsWith("retry:")||M.startsWith(":"))n==null||n.log("debug",`[REST API Stream] Ignoring SSE metadata in final buffer: ${M}`);else try{const s=JSON.parse(M),E=wwLib.wwVariable.getValue(r)||[];wwLib.wwVariable.updateValue(r,[...E,s])}catch(s){n==null||n.log("debug",`[REST API Stream] Adding raw final buffer as non-JSON: ${M}`,{e:s});const E=wwLib.wwVariable.getValue(r)||[];wwLib.wwVariable.updateValue(r,[...E,M])}return wwLib.wwVariable.getValue(r)}const fK={async _fetchCollection(e){if(e.mode==="dynamic"&&!e.config.isThroughServer)try{const{url:r,method:n,data:l,headers:p,queries:h,resultKey:c,dataType:M,useRawBody:s,isWithCredentials:E}=e.config,k=await this._apiRequest(r,n,l,p,h,M,s,E);return{data:_.get(k,c,k),error:null}}catch(r){return{error:Object.getOwnPropertyNames(r).reduce((n,l)=>({...n,[l]:r[l]}),{})}}else return{data:null,error:null}},async apiRequest({url:e,method:r,data:n,headers:l,queries:p,dataType:h,isThroughServer:c,useRawBody:M=!1,isWithCredentials:s=!1,useStreaming:E=!1,streamVariableId:k=null},R){if(E){if(c)throw new Error("Streaming is not supported with server-side requests.");return await this._streamApiRequest(e,r,n,l,p,h,M,s,k,R)}else if(c){const F=wwLib.wwWebsiteData.getInfo().id,C=wwLib.wwApiRequests._getPluginsUrl();return await axios.post(`${C}/designs/${F}/rest-api/request`,{url:e,method:r,data:n,queries:p,headers:l,dataType:h,useRawBody:M})}else return await this._apiRequest(e,r,n,l,p,h,M,s)},async _apiRequest(e,r,n,l,p,h,c,M){const s=WD(r,n,l,p,h,c);return(await axios({url:e,method:r,data:s.data,params:s.params,headers:s.headers,withCredentials:M})).data},async _streamApiRequest(e,r,n,l,p,h,c,M,s,E){try{wwLib.wwVariable.updateValue(s,[]);const k=WD(r,n,l,p,h,c,E),R={...k.headers,Accept:"text/event-stream"},F=await fetch(e,{method:r,headers:R,body:["GET","HEAD"].includes(r)?void 0:k.data,credentials:M?"include":"same-origin"});if(!F.ok){const C=await F.text();throw new Error(`HTTP error ${F.status}: ${C}`)}return await dK(F,s,E)}catch(k){throw E==null||E.log("error","[REST API Stream] Error",{type:"error",preview:{message:k.message,stack:k.stack}}),k}}};function WD(e,r,n,l,p,h,c){try{let M=r;if(!h)switch(M=ES(r,"data",c),p){case"application/x-www-form-urlencoded":{M=cK.stringify(M);break}case"multipart/form-data":{const k=new FormData;for(const R in M)k.append(R,M[R]);M=k;break}default:break}switch(e){case"OPTIONS":case"GET":case"DELETE":default:break}const s=ES(l,"params",c),E={"content-type":p||"application/json",...ES(n,"headers",c)};return{data:M,params:s,headers:E}}catch(M){throw c==null||c.log("error","[REST API] Error in computePayload",{type:"error",preview:{error:M.message,stack:M.stack}}),M}}function ES(e,r,n){try{return e?Array.isArray(e)?(e||[]).reduce((p,h)=>!h||typeof h!="object"||!("key"in h)?(n==null||n.log("warn","[REST API] computeList skipping invalid item",{type:"warn",preview:h}),p):{...p,[h.key]:h.value},{}):(n==null||n.log("warn",`[REST API] computeList expected array but got ${typeof e}`,{type:"warn",preview:e}),{}):{}}catch(l){throw n==null||n.log("error",`[REST API] Error in computeList for ${r}`,{type:"error",preview:{error:l.message,stack:l.stack,list:typeof e>"u"?"undefined":e===null?"null":e}}),new Error(`Failed to process ${r}: ${l.message}`)}}var kS={},rh={},hu={},Wp={},wb={},ZD;function hK(){if(ZD)return wb;ZD=1,Object.defineProperty(wb,"__esModule",{value:!0});class e{constructor(n){this.streamBuffer="",this.lastEventId="",this.onEvent=n}_processChunk(){const n=this.streamBuffer.split(/\r\n\r\n|\r\r|\n\n/g);if(n.length!==0){this.streamBuffer=n.pop();for(const l of n){let p="";const h=l.split(/\n|\r|\r\n/g);let c="";for(const M of h){const s=/([^:]+)(?:: ?(.*))?/.exec(M);if(s){const E=s[1],k=s[2]||"";switch(E){case"event":p=k;break;case"data":c+=k,c+=`
`;break;case"id":k.includes("\0")||(this.lastEventId=k);break}}}c!==""&&(c[c.length-1]===`
`&&(c=c.slice(0,-1)),this.onEvent(c,p||"message",this.lastEventId))}}}push(n){this.streamBuffer+=n,this._processChunk()}end(){}}return wb.default=e,wb}var XD;function pK(){if(XD)return Wp;XD=1;var e=Wp&&Wp.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Wp,"__esModule",{value:!0});const r=e(hK());class n{constructor(){const p=new TextDecoderStream("utf-8");let h;const c=new TransformStream({start(M){h=new r.default((s,E,k)=>{M.enqueue(new MessageEvent(E,{data:s,lastEventId:k}))})},transform(M){h.push(M)}});p.readable.pipeThrough(c),this.readable=c.readable,this.writable=p.writable}}return Wp.default=n,Wp}var AS,KD;function mK(){if(KD)return AS;KD=1;function e(Q,ie){return function(){return Q.apply(ie,arguments)}}const{toString:r}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:l,toStringTag:p}=Symbol,h=(Q=>ie=>{const ve=r.call(ie);return Q[ve]||(Q[ve]=ve.slice(8,-1).toLowerCase())})(Object.create(null)),c=Q=>(Q=Q.toLowerCase(),ie=>h(ie)===Q),M=Q=>ie=>typeof ie===Q,{isArray:s}=Array,E=M("undefined");function k(Q){return Q!==null&&!E(Q)&&Q.constructor!==null&&!E(Q.constructor)&&B(Q.constructor.isBuffer)&&Q.constructor.isBuffer(Q)}const R=c("ArrayBuffer");function F(Q){let ie;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ie=ArrayBuffer.isView(Q):ie=Q&&Q.buffer&&R(Q.buffer),ie}const C=M("string"),B=M("function"),G=M("number"),Z=Q=>Q!==null&&typeof Q=="object",K=Q=>Q===!0||Q===!1,te=Q=>{if(h(Q)!=="object")return!1;const ie=n(Q);return(ie===null||ie===Object.prototype||Object.getPrototypeOf(ie)===null)&&!(p in Q)&&!(l in Q)},se=Q=>{if(!Z(Q)||k(Q))return!1;try{return Object.keys(Q).length===0&&Object.getPrototypeOf(Q)===Object.prototype}catch{return!1}},_e=c("Date"),Me=c("File"),he=c("Blob"),Ge=c("FileList"),st=Q=>Z(Q)&&B(Q.pipe),Ne=Q=>{let ie;return Q&&(typeof FormData=="function"&&Q instanceof FormData||B(Q.append)&&((ie=h(Q))==="formdata"||ie==="object"&&B(Q.toString)&&Q.toString()==="[object FormData]"))},Re=c("URLSearchParams"),[ut,Ke,gt,mt]=["ReadableStream","Request","Response","Headers"].map(c),Lt=Q=>Q.trim?Q.trim():Q.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ot(Q,ie,{allOwnKeys:ve=!1}={}){if(Q===null||typeof Q>"u")return;let Ee,$e;if(typeof Q!="object"&&(Q=[Q]),s(Q))for(Ee=0,$e=Q.length;Ee<$e;Ee++)ie.call(null,Q[Ee],Ee,Q);else{if(k(Q))return;const yt=ve?Object.getOwnPropertyNames(Q):Object.keys(Q),ft=yt.length;let er;for(Ee=0;Ee<ft;Ee++)er=yt[Ee],ie.call(null,Q[er],er,Q)}}function dt(Q,ie){if(k(Q))return null;ie=ie.toLowerCase();const ve=Object.keys(Q);let Ee=ve.length,$e;for(;Ee-- >0;)if($e=ve[Ee],ie===$e.toLowerCase())return $e;return null}const vt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:dh,nr=Q=>!E(Q)&&Q!==vt;function Sr(){const{caseless:Q,skipUndefined:ie}=nr(this)&&this||{},ve={},Ee=($e,yt)=>{const ft=Q&&dt(ve,yt)||yt;te(ve[ft])&&te($e)?ve[ft]=Sr(ve[ft],$e):te($e)?ve[ft]=Sr({},$e):s($e)?ve[ft]=$e.slice():(!ie||!E($e))&&(ve[ft]=$e)};for(let $e=0,yt=arguments.length;$e<yt;$e++)arguments[$e]&&ot(arguments[$e],Ee);return ve}const pr=(Q,ie,ve,{allOwnKeys:Ee}={})=>(ot(ie,($e,yt)=>{ve&&B($e)?Q[yt]=e($e,ve):Q[yt]=$e},{allOwnKeys:Ee}),Q),Er=Q=>(Q.charCodeAt(0)===65279&&(Q=Q.slice(1)),Q),pn=(Q,ie,ve,Ee)=>{Q.prototype=Object.create(ie.prototype,Ee),Q.prototype.constructor=Q,Object.defineProperty(Q,"super",{value:ie.prototype}),ve&&Object.assign(Q.prototype,ve)},qr=(Q,ie,ve,Ee)=>{let $e,yt,ft;const er={};if(ie=ie||{},Q==null)return ie;do{for($e=Object.getOwnPropertyNames(Q),yt=$e.length;yt-- >0;)ft=$e[yt],(!Ee||Ee(ft,Q,ie))&&!er[ft]&&(ie[ft]=Q[ft],er[ft]=!0);Q=ve!==!1&&n(Q)}while(Q&&(!ve||ve(Q,ie))&&Q!==Object.prototype);return ie},Gr=(Q,ie,ve)=>{Q=String(Q),(ve===void 0||ve>Q.length)&&(ve=Q.length),ve-=ie.length;const Ee=Q.indexOf(ie,ve);return Ee!==-1&&Ee===ve},Nr=Q=>{if(!Q)return null;if(s(Q))return Q;let ie=Q.length;if(!G(ie))return null;const ve=new Array(ie);for(;ie-- >0;)ve[ie]=Q[ie];return ve},xt=(Q=>ie=>Q&&ie instanceof Q)(typeof Uint8Array<"u"&&n(Uint8Array)),qt=(Q,ie)=>{const Ee=(Q&&Q[l]).call(Q);let $e;for(;($e=Ee.next())&&!$e.done;){const yt=$e.value;ie.call(Q,yt[0],yt[1])}},It=(Q,ie)=>{let ve;const Ee=[];for(;(ve=Q.exec(ie))!==null;)Ee.push(ve);return Ee},Nt=c("HTMLFormElement"),_r=Q=>Q.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ve,Ee,$e){return Ee.toUpperCase()+$e}),Se=(({hasOwnProperty:Q})=>(ie,ve)=>Q.call(ie,ve))(Object.prototype),Ce=c("RegExp"),He=(Q,ie)=>{const ve=Object.getOwnPropertyDescriptors(Q),Ee={};ot(ve,($e,yt)=>{let ft;(ft=ie($e,yt,Q))!==!1&&(Ee[yt]=ft||$e)}),Object.defineProperties(Q,Ee)},at=Q=>{He(Q,(ie,ve)=>{if(B(Q)&&["arguments","caller","callee"].indexOf(ve)!==-1)return!1;const Ee=Q[ve];if(B(Ee)){if(ie.enumerable=!1,"writable"in ie){ie.writable=!1;return}ie.set||(ie.set=()=>{throw Error("Can not rewrite read-only method '"+ve+"'")})}})},Dt=(Q,ie)=>{const ve={},Ee=$e=>{$e.forEach(yt=>{ve[yt]=!0})};return s(Q)?Ee(Q):Ee(String(Q).split(ie)),ve},At=()=>{},sr=(Q,ie)=>Q!=null&&Number.isFinite(Q=+Q)?Q:ie;function mr(Q){return!!(Q&&B(Q.append)&&Q[p]==="FormData"&&Q[l])}const ar=Q=>{const ie=new Array(10),ve=(Ee,$e)=>{if(Z(Ee)){if(ie.indexOf(Ee)>=0)return;if(k(Ee))return Ee;if(!("toJSON"in Ee)){ie[$e]=Ee;const yt=s(Ee)?[]:{};return ot(Ee,(ft,er)=>{const Ur=ve(ft,$e+1);!E(Ur)&&(yt[er]=Ur)}),ie[$e]=void 0,yt}}return Ee};return ve(Q,0)},Ut=c("AsyncFunction"),jr=Q=>Q&&(Z(Q)||B(Q))&&B(Q.then)&&B(Q.catch),lr=((Q,ie)=>Q?setImmediate:ie?((ve,Ee)=>(vt.addEventListener("message",({source:$e,data:yt})=>{$e===vt&&yt===ve&&Ee.length&&Ee.shift()()},!1),$e=>{Ee.push($e),vt.postMessage(ve,"*")}))(`axios@${Math.random()}`,[]):ve=>setTimeout(ve))(typeof setImmediate=="function",B(vt.postMessage)),Ir=typeof queueMicrotask<"u"?queueMicrotask.bind(vt):typeof Dx<"u"&&Dx.nextTick||lr;var tt={isArray:s,isArrayBuffer:R,isBuffer:k,isFormData:Ne,isArrayBufferView:F,isString:C,isNumber:G,isBoolean:K,isObject:Z,isPlainObject:te,isEmptyObject:se,isReadableStream:ut,isRequest:Ke,isResponse:gt,isHeaders:mt,isUndefined:E,isDate:_e,isFile:Me,isBlob:he,isRegExp:Ce,isFunction:B,isStream:st,isURLSearchParams:Re,isTypedArray:xt,isFileList:Ge,forEach:ot,merge:Sr,extend:pr,trim:Lt,stripBOM:Er,inherits:pn,toFlatObject:qr,kindOf:h,kindOfTest:c,endsWith:Gr,toArray:Nr,forEachEntry:qt,matchAll:It,isHTMLForm:Nt,hasOwnProperty:Se,hasOwnProp:Se,reduceDescriptors:He,freezeMethods:at,toObjectSet:Dt,toCamelCase:_r,noop:At,toFiniteNumber:sr,findKey:dt,global:vt,isContextDefined:nr,isSpecCompliantForm:mr,toJSONObject:ar,isAsyncFn:Ut,isThenable:jr,setImmediate:lr,asap:Ir,isIterable:Q=>Q!=null&&B(Q[l])};function vr(Q,ie,ve,Ee,$e){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=Q,this.name="AxiosError",ie&&(this.code=ie),ve&&(this.config=ve),Ee&&(this.request=Ee),$e&&(this.response=$e,this.status=$e.status?$e.status:null)}tt.inherits(vr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.status}}});const rn=vr.prototype,Qn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(Q=>{Qn[Q]={value:Q}}),Object.defineProperties(vr,Qn),Object.defineProperty(rn,"isAxiosError",{value:!0}),vr.from=(Q,ie,ve,Ee,$e,yt)=>{const ft=Object.create(rn);tt.toFlatObject(Q,ft,function(dr){return dr!==Error.prototype},xr=>xr!=="isAxiosError");const er=Q&&Q.message?Q.message:"Error",Ur=ie==null&&Q?Q.code:ie;return vr.call(ft,er,Ur,ve,Ee,$e),Q&&ft.cause==null&&Object.defineProperty(ft,"cause",{value:Q,configurable:!0}),ft.name=Q&&Q.name||"Error",yt&&Object.assign(ft,yt),ft};var ae=null;function $(Q){return tt.isPlainObject(Q)||tt.isArray(Q)}function q(Q){return tt.endsWith(Q,"[]")?Q.slice(0,-2):Q}function Te(Q,ie,ve){return Q?Q.concat(ie).map(function($e,yt){return $e=q($e),!ve&&yt?"["+$e+"]":$e}).join(ve?".":""):ie}function Ze(Q){return tt.isArray(Q)&&!Q.some($)}const ht=tt.toFlatObject(tt,{},null,function(ie){return/^is[A-Z]/.test(ie)});function ke(Q,ie,ve){if(!tt.isObject(Q))throw new TypeError("target must be an object");ie=ie||new FormData,ve=tt.toFlatObject(ve,{metaTokens:!0,dots:!1,indexes:!1},!1,function(cn,Zr){return!tt.isUndefined(Zr[cn])});const Ee=ve.metaTokens,$e=ve.visitor||dr,yt=ve.dots,ft=ve.indexes,Ur=(ve.Blob||typeof Blob<"u"&&Blob)&&tt.isSpecCompliantForm(ie);if(!tt.isFunction($e))throw new TypeError("visitor must be a function");function xr(Xt){if(Xt===null)return"";if(tt.isDate(Xt))return Xt.toISOString();if(tt.isBoolean(Xt))return Xt.toString();if(!Ur&&tt.isBlob(Xt))throw new vr("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(Xt)||tt.isTypedArray(Xt)?Ur&&typeof Blob=="function"?new Blob([Xt]):bO.from(Xt):Xt}function dr(Xt,cn,Zr){let Fi=Xt;if(Xt&&!Zr&&typeof Xt=="object"){if(tt.endsWith(cn,"{}"))cn=Ee?cn:cn.slice(0,-2),Xt=JSON.stringify(Xt);else if(tt.isArray(Xt)&&Ze(Xt)||(tt.isFileList(Xt)||tt.endsWith(cn,"[]"))&&(Fi=tt.toArray(Xt)))return cn=q(cn),Fi.forEach(function(pi,Gi){!(tt.isUndefined(pi)||pi===null)&&ie.append(ft===!0?Te([cn],Gi,yt):ft===null?cn:cn+"[]",xr(pi))}),!1}return $(Xt)?!0:(ie.append(Te(Zr,cn,yt),xr(Xt)),!1)}const an=[],On=Object.assign(ht,{defaultVisitor:dr,convertValue:xr,isVisitable:$});function Bi(Xt,cn){if(!tt.isUndefined(Xt)){if(an.indexOf(Xt)!==-1)throw Error("Circular reference detected in "+cn.join("."));an.push(Xt),tt.forEach(Xt,function(Fi,Dn){(!(tt.isUndefined(Fi)||Fi===null)&&$e.call(ie,Fi,tt.isString(Dn)?Dn.trim():Dn,cn,On))===!0&&Bi(Fi,cn?cn.concat(Dn):[Dn])}),an.pop()}}if(!tt.isObject(Q))throw new TypeError("data must be an object");return Bi(Q),ie}function Qe(Q){const ie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(Q).replace(/[!'()~]|%20|%00/g,function(Ee){return ie[Ee]})}function Wr(Q,ie){this._pairs=[],Q&&ke(Q,this,ie)}const Xr=Wr.prototype;Xr.append=function(ie,ve){this._pairs.push([ie,ve])},Xr.toString=function(ie){const ve=ie?function(Ee){return ie.call(this,Ee,Qe)}:Qe;return this._pairs.map(function($e){return ve($e[0])+"="+ve($e[1])},"").join("&")};function nn(Q){return encodeURIComponent(Q).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ar(Q,ie,ve){if(!ie)return Q;const Ee=ve&&ve.encode||nn;tt.isFunction(ve)&&(ve={serialize:ve});const $e=ve&&ve.serialize;let yt;if($e?yt=$e(ie,ve):yt=tt.isURLSearchParams(ie)?ie.toString():new Wr(ie,ve).toString(Ee),yt){const ft=Q.indexOf("#");ft!==-1&&(Q=Q.slice(0,ft)),Q+=(Q.indexOf("?")===-1?"?":"&")+yt}return Q}class ki{constructor(){this.handlers=[]}use(ie,ve,Ee){return this.handlers.push({fulfilled:ie,rejected:ve,synchronous:Ee?Ee.synchronous:!1,runWhen:Ee?Ee.runWhen:null}),this.handlers.length-1}eject(ie){this.handlers[ie]&&(this.handlers[ie]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(ie){tt.forEach(this.handlers,function(Ee){Ee!==null&&ie(Ee)})}}var ro=ki,Yi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jt=typeof URLSearchParams<"u"?URLSearchParams:Wr,ur=typeof FormData<"u"?FormData:null,Lr=typeof Blob<"u"?Blob:null,wr={isBrowser:!0,classes:{URLSearchParams:jt,FormData:ur,Blob:Lr},protocols:["http","https","file","blob","url","data"]};const Jr=typeof window<"u"&&typeof document<"u",yn=typeof navigator=="object"&&navigator||void 0,fe=Jr&&(!yn||["ReactNative","NativeScript","NS"].indexOf(yn.product)<0),X=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",re=Jr&&window.location.href||"http://localhost";var ge=Object.freeze({__proto__:null,hasBrowserEnv:Jr,hasStandardBrowserWebWorkerEnv:X,hasStandardBrowserEnv:fe,navigator:yn,origin:re}),Le={...ge,...wr};function je(Q,ie){return ke(Q,new Le.classes.URLSearchParams,{visitor:function(ve,Ee,$e,yt){return Le.isNode&&tt.isBuffer(ve)?(this.append(Ee,ve.toString("base64")),!1):yt.defaultVisitor.apply(this,arguments)},...ie})}function rt(Q){return tt.matchAll(/\w+|\[(\w*)]/g,Q).map(ie=>ie[0]==="[]"?"":ie[1]||ie[0])}function Je(Q){const ie={},ve=Object.keys(Q);let Ee;const $e=ve.length;let yt;for(Ee=0;Ee<$e;Ee++)yt=ve[Ee],ie[yt]=Q[yt];return ie}function Ue(Q){function ie(ve,Ee,$e,yt){let ft=ve[yt++];if(ft==="__proto__")return!0;const er=Number.isFinite(+ft),Ur=yt>=ve.length;return ft=!ft&&tt.isArray($e)?$e.length:ft,Ur?(tt.hasOwnProp($e,ft)?$e[ft]=[$e[ft],Ee]:$e[ft]=Ee,!er):((!$e[ft]||!tt.isObject($e[ft]))&&($e[ft]=[]),ie(ve,Ee,$e[ft],yt)&&tt.isArray($e[ft])&&($e[ft]=Je($e[ft])),!er)}if(tt.isFormData(Q)&&tt.isFunction(Q.entries)){const ve={};return tt.forEachEntry(Q,(Ee,$e)=>{ie(rt(Ee),$e,ve,0)}),ve}return null}function et(Q,ie,ve){if(tt.isString(Q))try{return(ie||JSON.parse)(Q),tt.trim(Q)}catch(Ee){if(Ee.name!=="SyntaxError")throw Ee}return(ve||JSON.stringify)(Q)}const Rt={transitional:Yi,adapter:["xhr","http","fetch"],transformRequest:[function(ie,ve){const Ee=ve.getContentType()||"",$e=Ee.indexOf("application/json")>-1,yt=tt.isObject(ie);if(yt&&tt.isHTMLForm(ie)&&(ie=new FormData(ie)),tt.isFormData(ie))return $e?JSON.stringify(Ue(ie)):ie;if(tt.isArrayBuffer(ie)||tt.isBuffer(ie)||tt.isStream(ie)||tt.isFile(ie)||tt.isBlob(ie)||tt.isReadableStream(ie))return ie;if(tt.isArrayBufferView(ie))return ie.buffer;if(tt.isURLSearchParams(ie))return ve.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),ie.toString();let er;if(yt){if(Ee.indexOf("application/x-www-form-urlencoded")>-1)return je(ie,this.formSerializer).toString();if((er=tt.isFileList(ie))||Ee.indexOf("multipart/form-data")>-1){const Ur=this.env&&this.env.FormData;return ke(er?{"files[]":ie}:ie,Ur&&new Ur,this.formSerializer)}}return yt||$e?(ve.setContentType("application/json",!1),et(ie)):ie}],transformResponse:[function(ie){const ve=this.transitional||Rt.transitional,Ee=ve&&ve.forcedJSONParsing,$e=this.responseType==="json";if(tt.isResponse(ie)||tt.isReadableStream(ie))return ie;if(ie&&tt.isString(ie)&&(Ee&&!this.responseType||$e)){const ft=!(ve&&ve.silentJSONParsing)&&$e;try{return JSON.parse(ie,this.parseReviver)}catch(er){if(ft)throw er.name==="SyntaxError"?vr.from(er,vr.ERR_BAD_RESPONSE,this,null,this.response):er}}return ie}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Le.classes.FormData,Blob:Le.classes.Blob},validateStatus:function(ie){return ie>=200&&ie<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],Q=>{Rt.headers[Q]={}});var hr=Rt;const Gt=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Yr=Q=>{const ie={};let ve,Ee,$e;return Q&&Q.split(`
`).forEach(function(ft){$e=ft.indexOf(":"),ve=ft.substring(0,$e).trim().toLowerCase(),Ee=ft.substring($e+1).trim(),!(!ve||ie[ve]&&Gt[ve])&&(ve==="set-cookie"?ie[ve]?ie[ve].push(Ee):ie[ve]=[Ee]:ie[ve]=ie[ve]?ie[ve]+", "+Ee:Ee)}),ie};const Or=Symbol("internals");function Cr(Q){return Q&&String(Q).trim().toLowerCase()}function Kr(Q){return Q===!1||Q==null?Q:tt.isArray(Q)?Q.map(Kr):String(Q)}function bn(Q){const ie=Object.create(null),ve=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Ee;for(;Ee=ve.exec(Q);)ie[Ee[1]]=Ee[2];return ie}const Bn=Q=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Q.trim());function $r(Q,ie,ve,Ee,$e){if(tt.isFunction(Ee))return Ee.call(this,ie,ve);if($e&&(ie=ve),!!tt.isString(ie)){if(tt.isString(Ee))return ie.indexOf(Ee)!==-1;if(tt.isRegExp(Ee))return Ee.test(ie)}}function ei(Q){return Q.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(ie,ve,Ee)=>ve.toUpperCase()+Ee)}function hi(Q,ie){const ve=tt.toCamelCase(" "+ie);["get","set","has"].forEach(Ee=>{Object.defineProperty(Q,Ee+ve,{value:function($e,yt,ft){return this[Ee].call(this,ie,$e,yt,ft)},configurable:!0})})}class Vo{constructor(ie){ie&&this.set(ie)}set(ie,ve,Ee){const $e=this;function yt(er,Ur,xr){const dr=Cr(Ur);if(!dr)throw new Error("header name must be a non-empty string");const an=tt.findKey($e,dr);(!an||$e[an]===void 0||xr===!0||xr===void 0&&$e[an]!==!1)&&($e[an||Ur]=Kr(er))}const ft=(er,Ur)=>tt.forEach(er,(xr,dr)=>yt(xr,dr,Ur));if(tt.isPlainObject(ie)||ie instanceof this.constructor)ft(ie,ve);else if(tt.isString(ie)&&(ie=ie.trim())&&!Bn(ie))ft(Yr(ie),ve);else if(tt.isObject(ie)&&tt.isIterable(ie)){let er={},Ur,xr;for(const dr of ie){if(!tt.isArray(dr))throw TypeError("Object iterator must return a key-value pair");er[xr=dr[0]]=(Ur=er[xr])?tt.isArray(Ur)?[...Ur,dr[1]]:[Ur,dr[1]]:dr[1]}ft(er,ve)}else ie!=null&&yt(ve,ie,Ee);return this}get(ie,ve){if(ie=Cr(ie),ie){const Ee=tt.findKey(this,ie);if(Ee){const $e=this[Ee];if(!ve)return $e;if(ve===!0)return bn($e);if(tt.isFunction(ve))return ve.call(this,$e,Ee);if(tt.isRegExp(ve))return ve.exec($e);throw new TypeError("parser must be boolean|regexp|function")}}}has(ie,ve){if(ie=Cr(ie),ie){const Ee=tt.findKey(this,ie);return!!(Ee&&this[Ee]!==void 0&&(!ve||$r(this,this[Ee],Ee,ve)))}return!1}delete(ie,ve){const Ee=this;let $e=!1;function yt(ft){if(ft=Cr(ft),ft){const er=tt.findKey(Ee,ft);er&&(!ve||$r(Ee,Ee[er],er,ve))&&(delete Ee[er],$e=!0)}}return tt.isArray(ie)?ie.forEach(yt):yt(ie),$e}clear(ie){const ve=Object.keys(this);let Ee=ve.length,$e=!1;for(;Ee--;){const yt=ve[Ee];(!ie||$r(this,this[yt],yt,ie,!0))&&(delete this[yt],$e=!0)}return $e}normalize(ie){const ve=this,Ee={};return tt.forEach(this,($e,yt)=>{const ft=tt.findKey(Ee,yt);if(ft){ve[ft]=Kr($e),delete ve[yt];return}const er=ie?ei(yt):String(yt).trim();er!==yt&&delete ve[yt],ve[er]=Kr($e),Ee[er]=!0}),this}concat(...ie){return this.constructor.concat(this,...ie)}toJSON(ie){const ve=Object.create(null);return tt.forEach(this,(Ee,$e)=>{Ee!=null&&Ee!==!1&&(ve[$e]=ie&&tt.isArray(Ee)?Ee.join(", "):Ee)}),ve}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([ie,ve])=>ie+": "+ve).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(ie){return ie instanceof this?ie:new this(ie)}static concat(ie,...ve){const Ee=new this(ie);return ve.forEach($e=>Ee.set($e)),Ee}static accessor(ie){const Ee=(this[Or]=this[Or]={accessors:{}}).accessors,$e=this.prototype;function yt(ft){const er=Cr(ft);Ee[er]||(hi($e,ft),Ee[er]=!0)}return tt.isArray(ie)?ie.forEach(yt):yt(ie),this}}Vo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),tt.reduceDescriptors(Vo.prototype,({value:Q},ie)=>{let ve=ie[0].toUpperCase()+ie.slice(1);return{get:()=>Q,set(Ee){this[ve]=Ee}}}),tt.freezeMethods(Vo);var no=Vo;function bo(Q,ie){const ve=this||hr,Ee=ie||ve,$e=no.from(Ee.headers);let yt=Ee.data;return tt.forEach(Q,function(er){yt=er.call(ve,yt,$e.normalize(),ie?ie.status:void 0)}),$e.normalize(),yt}function Pt(Q){return!!(Q&&Q.__CANCEL__)}function vo(Q,ie,ve){vr.call(this,Q??"canceled",vr.ERR_CANCELED,ie,ve),this.name="CanceledError"}tt.inherits(vo,vr,{__CANCEL__:!0});function $i(Q,ie,ve){const Ee=ve.config.validateStatus;!ve.status||!Ee||Ee(ve.status)?Q(ve):ie(new vr("Request failed with status code "+ve.status,[vr.ERR_BAD_REQUEST,vr.ERR_BAD_RESPONSE][Math.floor(ve.status/100)-4],ve.config,ve.request,ve))}function Ja(Q){const ie=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Q);return ie&&ie[1]||""}function Zd(Q,ie){Q=Q||10;const ve=new Array(Q),Ee=new Array(Q);let $e=0,yt=0,ft;return ie=ie!==void 0?ie:1e3,function(Ur){const xr=Date.now(),dr=Ee[yt];ft||(ft=xr),ve[$e]=Ur,Ee[$e]=xr;let an=yt,On=0;for(;an!==$e;)On+=ve[an++],an=an%Q;if($e=($e+1)%Q,$e===yt&&(yt=(yt+1)%Q),xr-ft<ie)return;const Bi=dr&&xr-dr;return Bi?Math.round(On*1e3/Bi):void 0}}function Uo(Q,ie){let ve=0,Ee=1e3/ie,$e,yt;const ft=(xr,dr=Date.now())=>{ve=dr,$e=null,yt&&(clearTimeout(yt),yt=null),Q(...xr)};return[(...xr)=>{const dr=Date.now(),an=dr-ve;an>=Ee?ft(xr,dr):($e=xr,yt||(yt=setTimeout(()=>{yt=null,ft($e)},Ee-an)))},()=>$e&&ft($e)]}const bs=(Q,ie,ve=3)=>{let Ee=0;const $e=Zd(50,250);return Uo(yt=>{const ft=yt.loaded,er=yt.lengthComputable?yt.total:void 0,Ur=ft-Ee,xr=$e(Ur),dr=ft<=er;Ee=ft;const an={loaded:ft,total:er,progress:er?ft/er:void 0,bytes:Ur,rate:xr||void 0,estimated:xr&&er&&dr?(er-ft)/xr:void 0,event:yt,lengthComputable:er!=null,[ie?"download":"upload"]:!0};Q(an)},ve)},bu=(Q,ie)=>{const ve=Q!=null;return[Ee=>ie[0]({lengthComputable:ve,total:Q,loaded:Ee}),ie[1]]},lo=Q=>(...ie)=>tt.asap(()=>Q(...ie));var br=Le.hasStandardBrowserEnv?((Q,ie)=>ve=>(ve=new URL(ve,Le.origin),Q.protocol===ve.protocol&&Q.host===ve.host&&(ie||Q.port===ve.port)))(new URL(Le.origin),Le.navigator&&/(msie|trident)/i.test(Le.navigator.userAgent)):()=>!0,Cn=Le.hasStandardBrowserEnv?{write(Q,ie,ve,Ee,$e,yt){const ft=[Q+"="+encodeURIComponent(ie)];tt.isNumber(ve)&&ft.push("expires="+new Date(ve).toGMTString()),tt.isString(Ee)&&ft.push("path="+Ee),tt.isString($e)&&ft.push("domain="+$e),yt===!0&&ft.push("secure"),document.cookie=ft.join("; ")},read(Q){const ie=document.cookie.match(new RegExp("(^|;\\s*)("+Q+")=([^;]*)"));return ie?decodeURIComponent(ie[3]):null},remove(Q){this.write(Q,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ln(Q){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Q)}function Io(Q,ie){return ie?Q.replace(/\/?\/$/,"")+"/"+ie.replace(/^\/+/,""):Q}function Qa(Q,ie,ve){let Ee=!Ln(ie);return Q&&(Ee||ve==!1)?Io(Q,ie):ie}const Sn=Q=>Q instanceof no?{...Q}:Q;function ia(Q,ie){ie=ie||{};const ve={};function Ee(xr,dr,an,On){return tt.isPlainObject(xr)&&tt.isPlainObject(dr)?tt.merge.call({caseless:On},xr,dr):tt.isPlainObject(dr)?tt.merge({},dr):tt.isArray(dr)?dr.slice():dr}function $e(xr,dr,an,On){if(tt.isUndefined(dr)){if(!tt.isUndefined(xr))return Ee(void 0,xr,an,On)}else return Ee(xr,dr,an,On)}function yt(xr,dr){if(!tt.isUndefined(dr))return Ee(void 0,dr)}function ft(xr,dr){if(tt.isUndefined(dr)){if(!tt.isUndefined(xr))return Ee(void 0,xr)}else return Ee(void 0,dr)}function er(xr,dr,an){if(an in ie)return Ee(xr,dr);if(an in Q)return Ee(void 0,xr)}const Ur={url:yt,method:yt,data:yt,baseURL:ft,transformRequest:ft,transformResponse:ft,paramsSerializer:ft,timeout:ft,timeoutMessage:ft,withCredentials:ft,withXSRFToken:ft,adapter:ft,responseType:ft,xsrfCookieName:ft,xsrfHeaderName:ft,onUploadProgress:ft,onDownloadProgress:ft,decompress:ft,maxContentLength:ft,maxBodyLength:ft,beforeRedirect:ft,transport:ft,httpAgent:ft,httpsAgent:ft,cancelToken:ft,socketPath:ft,responseEncoding:ft,validateStatus:er,headers:(xr,dr,an)=>$e(Sn(xr),Sn(dr),an,!0)};return tt.forEach(Object.keys({...Q,...ie}),function(dr){const an=Ur[dr]||$e,On=an(Q[dr],ie[dr],dr);tt.isUndefined(On)&&an!==er||(ve[dr]=On)}),ve}var vs=Q=>{const ie=ia({},Q);let{data:ve,withXSRFToken:Ee,xsrfHeaderName:$e,xsrfCookieName:yt,headers:ft,auth:er}=ie;if(ie.headers=ft=no.from(ft),ie.url=Ar(Qa(ie.baseURL,ie.url,ie.allowAbsoluteUrls),Q.params,Q.paramsSerializer),er&&ft.set("Authorization","Basic "+btoa((er.username||"")+":"+(er.password?unescape(encodeURIComponent(er.password)):""))),tt.isFormData(ve)){if(Le.hasStandardBrowserEnv||Le.hasStandardBrowserWebWorkerEnv)ft.setContentType(void 0);else if(tt.isFunction(ve.getHeaders)){const Ur=ve.getHeaders(),xr=["content-type","content-length"];Object.entries(Ur).forEach(([dr,an])=>{xr.includes(dr.toLowerCase())&&ft.set(dr,an)})}}if(Le.hasStandardBrowserEnv&&(Ee&&tt.isFunction(Ee)&&(Ee=Ee(ie)),Ee||Ee!==!1&&br(ie.url))){const Ur=$e&&yt&&Cn.read(yt);Ur&&ft.set($e,Ur)}return ie},uo=typeof XMLHttpRequest<"u"&&function(Q){return new Promise(function(ve,Ee){const $e=vs(Q);let yt=$e.data;const ft=no.from($e.headers).normalize();let{responseType:er,onUploadProgress:Ur,onDownloadProgress:xr}=$e,dr,an,On,Bi,Xt;function cn(){Bi&&Bi(),Xt&&Xt(),$e.cancelToken&&$e.cancelToken.unsubscribe(dr),$e.signal&&$e.signal.removeEventListener("abort",dr)}let Zr=new XMLHttpRequest;Zr.open($e.method.toUpperCase(),$e.url,!0),Zr.timeout=$e.timeout;function Fi(){if(!Zr)return;const pi=no.from("getAllResponseHeaders"in Zr&&Zr.getAllResponseHeaders()),Po={data:!er||er==="text"||er==="json"?Zr.responseText:Zr.response,status:Zr.status,statusText:Zr.statusText,headers:pi,config:Q,request:Zr};$i(function(xo){ve(xo),cn()},function(xo){Ee(xo),cn()},Po),Zr=null}"onloadend"in Zr?Zr.onloadend=Fi:Zr.onreadystatechange=function(){!Zr||Zr.readyState!==4||Zr.status===0&&!(Zr.responseURL&&Zr.responseURL.indexOf("file:")===0)||setTimeout(Fi)},Zr.onabort=function(){Zr&&(Ee(new vr("Request aborted",vr.ECONNABORTED,Q,Zr)),Zr=null)},Zr.onerror=function(Gi){const Po=Gi&&Gi.message?Gi.message:"Network Error",va=new vr(Po,vr.ERR_NETWORK,Q,Zr);va.event=Gi||null,Ee(va),Zr=null},Zr.ontimeout=function(){let Gi=$e.timeout?"timeout of "+$e.timeout+"ms exceeded":"timeout exceeded";const Po=$e.transitional||Yi;$e.timeoutErrorMessage&&(Gi=$e.timeoutErrorMessage),Ee(new vr(Gi,Po.clarifyTimeoutError?vr.ETIMEDOUT:vr.ECONNABORTED,Q,Zr)),Zr=null},yt===void 0&&ft.setContentType(null),"setRequestHeader"in Zr&&tt.forEach(ft.toJSON(),function(Gi,Po){Zr.setRequestHeader(Po,Gi)}),tt.isUndefined($e.withCredentials)||(Zr.withCredentials=!!$e.withCredentials),er&&er!=="json"&&(Zr.responseType=$e.responseType),xr&&([On,Xt]=bs(xr,!0),Zr.addEventListener("progress",On)),Ur&&Zr.upload&&([an,Bi]=bs(Ur),Zr.upload.addEventListener("progress",an),Zr.upload.addEventListener("loadend",Bi)),($e.cancelToken||$e.signal)&&(dr=pi=>{Zr&&(Ee(!pi||pi.type?new vo(null,Q,Zr):pi),Zr.abort(),Zr=null)},$e.cancelToken&&$e.cancelToken.subscribe(dr),$e.signal&&($e.signal.aborted?dr():$e.signal.addEventListener("abort",dr)));const Dn=Ja($e.url);if(Dn&&Le.protocols.indexOf(Dn)===-1){Ee(new vr("Unsupported protocol "+Dn+":",vr.ERR_BAD_REQUEST,Q));return}Zr.send(yt||null)})},oa=(Q,ie)=>{const{length:ve}=Q=Q?Q.filter(Boolean):[];if(ie||ve){let Ee=new AbortController,$e;const yt=function(xr){if(!$e){$e=!0,er();const dr=xr instanceof Error?xr:this.reason;Ee.abort(dr instanceof vr?dr:new vo(dr instanceof Error?dr.message:dr))}};let ft=ie&&setTimeout(()=>{ft=null,yt(new vr(`timeout ${ie} of ms exceeded`,vr.ETIMEDOUT))},ie);const er=()=>{Q&&(ft&&clearTimeout(ft),ft=null,Q.forEach(xr=>{xr.unsubscribe?xr.unsubscribe(yt):xr.removeEventListener("abort",yt)}),Q=null)};Q.forEach(xr=>xr.addEventListener("abort",yt));const{signal:Ur}=Ee;return Ur.unsubscribe=()=>tt.asap(er),Ur}};const Ns=function*(Q,ie){let ve=Q.byteLength;if(ve<ie){yield Q;return}let Ee=0,$e;for(;Ee<ve;)$e=Ee+ie,yield Q.slice(Ee,$e),Ee=$e},ka=async function*(Q,ie){for await(const ve of hl(Q))yield*Ns(ve,ie)},hl=async function*(Q){if(Q[Symbol.asyncIterator]){yield*Q;return}const ie=Q.getReader();try{for(;;){const{done:ve,value:Ee}=await ie.read();if(ve)break;yield Ee}}finally{await ie.cancel()}},Hs=(Q,ie,ve,Ee)=>{const $e=ka(Q,ie);let yt=0,ft,er=Ur=>{ft||(ft=!0,Ee&&Ee(Ur))};return new ReadableStream({async pull(Ur){try{const{done:xr,value:dr}=await $e.next();if(xr){er(),Ur.close();return}let an=dr.byteLength;if(ve){let On=yt+=an;ve(On)}Ur.enqueue(new Uint8Array(dr))}catch(xr){throw er(xr),xr}},cancel(Ur){return er(Ur),$e.return()}},{highWaterMark:2})},vu=64*1024,{isFunction:aa}=tt,pl=(({Request:Q,Response:ie})=>({Request:Q,Response:ie}))(tt.global),{ReadableStream:ml,TextEncoder:$l}=tt.global,wo=(Q,...ie)=>{try{return!!Q(...ie)}catch{return!1}},Ri=Q=>{Q=tt.merge.call({skipUndefined:!0},pl,Q);const{fetch:ie,Request:ve,Response:Ee}=Q,$e=ie?aa(ie):typeof fetch=="function",yt=aa(ve),ft=aa(Ee);if(!$e)return!1;const er=$e&&aa(ml),Ur=$e&&(typeof $l=="function"?(Xt=>cn=>Xt.encode(cn))(new $l):async Xt=>new Uint8Array(await new ve(Xt).arrayBuffer())),xr=yt&&er&&wo(()=>{let Xt=!1;const cn=new ve(Le.origin,{body:new ml,method:"POST",get duplex(){return Xt=!0,"half"}}).headers.has("Content-Type");return Xt&&!cn}),dr=ft&&er&&wo(()=>tt.isReadableStream(new Ee("").body)),an={stream:dr&&(Xt=>Xt.body)};$e&&["text","arrayBuffer","blob","formData","stream"].forEach(Xt=>{!an[Xt]&&(an[Xt]=(cn,Zr)=>{let Fi=cn&&cn[Xt];if(Fi)return Fi.call(cn);throw new vr(`Response type '${Xt}' is not supported`,vr.ERR_NOT_SUPPORT,Zr)})});const On=async Xt=>{if(Xt==null)return 0;if(tt.isBlob(Xt))return Xt.size;if(tt.isSpecCompliantForm(Xt))return(await new ve(Le.origin,{method:"POST",body:Xt}).arrayBuffer()).byteLength;if(tt.isArrayBufferView(Xt)||tt.isArrayBuffer(Xt))return Xt.byteLength;if(tt.isURLSearchParams(Xt)&&(Xt=Xt+""),tt.isString(Xt))return(await Ur(Xt)).byteLength},Bi=async(Xt,cn)=>{const Zr=tt.toFiniteNumber(Xt.getContentLength());return Zr??On(cn)};return async Xt=>{let{url:cn,method:Zr,data:Fi,signal:Dn,cancelToken:pi,timeout:Gi,onDownloadProgress:Po,onUploadProgress:va,responseType:xo,headers:ts,withCredentials:rs="same-origin",fetchOptions:bl}=vs(Xt),ns=ie||fetch;xo=xo?(xo+"").toLowerCase():"text";let sa=oa([Dn,pi&&pi.toAbortSignal()],Gi),In=null;const wa=sa&&sa.unsubscribe&&(()=>{sa.unsubscribe()});let ql;try{if(va&&xr&&Zr!=="get"&&Zr!=="head"&&(ql=await Bi(ts,Fi))!==0){let Aa=new ve(cn,{method:"POST",body:Fi,duplex:"half"}),is;if(tt.isFormData(Fi)&&(is=Aa.headers.get("content-type"))&&ts.setContentType(is),Aa.body){const[Ws,io]=bu(ql,bs(lo(va)));Fi=Hs(Aa.body,vu,Ws,io)}}tt.isString(rs)||(rs=rs?"include":"omit");const Ho=yt&&"credentials"in ve.prototype,vl={...bl,signal:sa,method:Zr.toUpperCase(),headers:ts.normalize().toJSON(),body:Fi,duplex:"half",credentials:Ho?rs:void 0};In=yt&&new ve(cn,vl);let la=await(yt?ns(In,bl):ns(cn,vl));const uc=dr&&(xo==="stream"||xo==="response");if(dr&&(Po||uc&&wa)){const Aa={};["status","statusText","headers"].forEach(wl=>{Aa[wl]=la[wl]});const is=tt.toFiniteNumber(la.headers.get("content-length")),[Ws,io]=Po&&bu(is,bs(lo(Po),!0))||[];la=new Ee(Hs(la.body,vu,Ws,()=>{io&&io(),wa&&wa()}),Aa)}xo=xo||"text";let Mu=await an[tt.findKey(an,xo)||"text"](la,Xt);return!uc&&wa&&wa(),await new Promise((Aa,is)=>{$i(Aa,is,{data:Mu,headers:no.from(la.headers),status:la.status,statusText:la.statusText,config:Xt,request:In})})}catch(Ho){throw wa&&wa(),Ho&&Ho.name==="TypeError"&&/Load failed|fetch/i.test(Ho.message)?Object.assign(new vr("Network Error",vr.ERR_NETWORK,Xt,In),{cause:Ho.cause||Ho}):vr.from(Ho,Ho&&Ho.code,Xt,In)}}},Vl=new Map,Ul=Q=>{let ie=Q?Q.env:{};const{fetch:ve,Request:Ee,Response:$e}=ie,yt=[Ee,$e,ve];let ft=yt.length,er=ft,Ur,xr,dr=Vl;for(;er--;)Ur=yt[er],xr=dr.get(Ur),xr===void 0&&dr.set(Ur,xr=er?new Map:Ri(ie)),dr=xr;return xr};Ul();const Qi={http:ae,xhr:uo,fetch:{get:Ul}};tt.forEach(Qi,(Q,ie)=>{if(Q){try{Object.defineProperty(Q,"name",{value:ie})}catch{}Object.defineProperty(Q,"adapterName",{value:ie})}});const No=Q=>`- ${Q}`,td=Q=>tt.isFunction(Q)||Q===null||Q===!1;var Nl={getAdapter:(Q,ie)=>{Q=tt.isArray(Q)?Q:[Q];const{length:ve}=Q;let Ee,$e;const yt={};for(let ft=0;ft<ve;ft++){Ee=Q[ft];let er;if($e=Ee,!td(Ee)&&($e=Qi[(er=String(Ee)).toLowerCase()],$e===void 0))throw new vr(`Unknown adapter '${er}'`);if($e&&(tt.isFunction($e)||($e=$e.get(ie))))break;yt[er||"#"+ft]=$e}if(!$e){const ft=Object.entries(yt).map(([Ur,xr])=>`adapter ${Ur} `+(xr===!1?"is not supported by the environment":"is not available in the build"));let er=ve?ft.length>1?`since :
`+ft.map(No).join(`
`):" "+No(ft[0]):"as no adapter specified";throw new vr("There is no suitable adapter to dispatch the request "+er,"ERR_NOT_SUPPORT")}return $e},adapters:Qi};function Ai(Q){if(Q.cancelToken&&Q.cancelToken.throwIfRequested(),Q.signal&&Q.signal.aborted)throw new vo(null,Q)}function _l(Q){return Ai(Q),Q.headers=no.from(Q.headers),Q.data=bo.call(Q,Q.transformRequest),["post","put","patch"].indexOf(Q.method)!==-1&&Q.headers.setContentType("application/x-www-form-urlencoded",!1),Nl.getAdapter(Q.adapter||hr.adapter,Q)(Q).then(function(Ee){return Ai(Q),Ee.data=bo.call(Q,Q.transformResponse,Ee),Ee.headers=no.from(Ee.headers),Ee},function(Ee){return Pt(Ee)||(Ai(Q),Ee&&Ee.response&&(Ee.response.data=bo.call(Q,Q.transformResponse,Ee.response),Ee.response.headers=no.from(Ee.response.headers))),Promise.reject(Ee)})}const wu="1.12.2",ws={};["object","boolean","number","function","string","symbol"].forEach((Q,ie)=>{ws[Q]=function(Ee){return typeof Ee===Q||"a"+(ie<1?"n ":" ")+Q}});const eo={};ws.transitional=function(ie,ve,Ee){function $e(yt,ft){return"[Axios v"+wu+"] Transitional option '"+yt+"'"+ft+(Ee?". "+Ee:"")}return(yt,ft,er)=>{if(ie===!1)throw new vr($e(ft," has been removed"+(ve?" in "+ve:"")),vr.ERR_DEPRECATED);return ve&&!eo[ft]&&(eo[ft]=!0,console.warn($e(ft," has been deprecated since v"+ve+" and will be removed in the near future"))),ie?ie(yt,ft,er):!0}},ws.spelling=function(ie){return(ve,Ee)=>(console.warn(`${Ee} is likely a misspelling of ${ie}`),!0)};function gl(Q,ie,ve){if(typeof Q!="object")throw new vr("options must be an object",vr.ERR_BAD_OPTION_VALUE);const Ee=Object.keys(Q);let $e=Ee.length;for(;$e-- >0;){const yt=Ee[$e],ft=ie[yt];if(ft){const er=Q[yt],Ur=er===void 0||ft(er,yt,Q);if(Ur!==!0)throw new vr("option "+yt+" must be "+Ur,vr.ERR_BAD_OPTION_VALUE);continue}if(ve!==!0)throw new vr("Unknown option "+yt,vr.ERR_BAD_OPTION)}}var ii={assertOptions:gl,validators:ws};const Tn=ii.validators;class xs{constructor(ie){this.defaults=ie||{},this.interceptors={request:new ro,response:new ro}}async request(ie,ve){try{return await this._request(ie,ve)}catch(Ee){if(Ee instanceof Error){let $e={};Error.captureStackTrace?Error.captureStackTrace($e):$e=new Error;const yt=$e.stack?$e.stack.replace(/^.+\n/,""):"";try{Ee.stack?yt&&!String(Ee.stack).endsWith(yt.replace(/^.+\n.+\n/,""))&&(Ee.stack+=`
`+yt):Ee.stack=yt}catch{}}throw Ee}}_request(ie,ve){typeof ie=="string"?(ve=ve||{},ve.url=ie):ve=ie||{},ve=ia(this.defaults,ve);const{transitional:Ee,paramsSerializer:$e,headers:yt}=ve;Ee!==void 0&&ii.assertOptions(Ee,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),$e!=null&&(tt.isFunction($e)?ve.paramsSerializer={serialize:$e}:ii.assertOptions($e,{encode:Tn.function,serialize:Tn.function},!0)),ve.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?ve.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:ve.allowAbsoluteUrls=!0),ii.assertOptions(ve,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),ve.method=(ve.method||this.defaults.method||"get").toLowerCase();let ft=yt&&tt.merge(yt.common,yt[ve.method]);yt&&tt.forEach(["delete","get","head","post","put","patch","common"],Xt=>{delete yt[Xt]}),ve.headers=no.concat(ft,yt);const er=[];let Ur=!0;this.interceptors.request.forEach(function(cn){typeof cn.runWhen=="function"&&cn.runWhen(ve)===!1||(Ur=Ur&&cn.synchronous,er.unshift(cn.fulfilled,cn.rejected))});const xr=[];this.interceptors.response.forEach(function(cn){xr.push(cn.fulfilled,cn.rejected)});let dr,an=0,On;if(!Ur){const Xt=[_l.bind(this),void 0];for(Xt.unshift(...er),Xt.push(...xr),On=Xt.length,dr=Promise.resolve(ve);an<On;)dr=dr.then(Xt[an++],Xt[an++]);return dr}On=er.length;let Bi=ve;for(;an<On;){const Xt=er[an++],cn=er[an++];try{Bi=Xt(Bi)}catch(Zr){cn.call(this,Zr);break}}try{dr=_l.call(this,Bi)}catch(Xt){return Promise.reject(Xt)}for(an=0,On=xr.length;an<On;)dr=dr.then(xr[an++],xr[an++]);return dr}getUri(ie){ie=ia(this.defaults,ie);const ve=Qa(ie.baseURL,ie.url,ie.allowAbsoluteUrls);return Ar(ve,ie.params,ie.paramsSerializer)}}tt.forEach(["delete","get","head","options"],function(ie){xs.prototype[ie]=function(ve,Ee){return this.request(ia(Ee||{},{method:ie,url:ve,data:(Ee||{}).data}))}}),tt.forEach(["post","put","patch"],function(ie){function ve(Ee){return function(yt,ft,er){return this.request(ia(er||{},{method:ie,headers:Ee?{"Content-Type":"multipart/form-data"}:{},url:yt,data:ft}))}}xs.prototype[ie]=ve(),xs.prototype[ie+"Form"]=ve(!0)});var qs=xs;class sc{constructor(ie){if(typeof ie!="function")throw new TypeError("executor must be a function.");let ve;this.promise=new Promise(function(yt){ve=yt});const Ee=this;this.promise.then($e=>{if(!Ee._listeners)return;let yt=Ee._listeners.length;for(;yt-- >0;)Ee._listeners[yt]($e);Ee._listeners=null}),this.promise.then=$e=>{let yt;const ft=new Promise(er=>{Ee.subscribe(er),yt=er}).then($e);return ft.cancel=function(){Ee.unsubscribe(yt)},ft},ie(function(yt,ft,er){Ee.reason||(Ee.reason=new vo(yt,ft,er),ve(Ee.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(ie){if(this.reason){ie(this.reason);return}this._listeners?this._listeners.push(ie):this._listeners=[ie]}unsubscribe(ie){if(!this._listeners)return;const ve=this._listeners.indexOf(ie);ve!==-1&&this._listeners.splice(ve,1)}toAbortSignal(){const ie=new AbortController,ve=Ee=>{ie.abort(Ee)};return this.subscribe(ve),ie.signal.unsubscribe=()=>this.unsubscribe(ve),ie.signal}static source(){let ie;return{token:new sc(function($e){ie=$e}),cancel:ie}}}var lc=sc;function Gs(Q){return function(ve){return Q.apply(null,ve)}}function xu(Q){return tt.isObject(Q)&&Q.isAxiosError===!0}const Hl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hl).forEach(([Q,ie])=>{Hl[ie]=Q});var yl=Hl;function Li(Q){const ie=new qs(Q),ve=e(qs.prototype.request,ie);return tt.extend(ve,qs.prototype,ie,{allOwnKeys:!0}),tt.extend(ve,ie,null,{allOwnKeys:!0}),ve.create=function($e){return Li(ia(Q,$e))},ve}const Ti=Li(hr);return Ti.Axios=qs,Ti.CanceledError=vo,Ti.CancelToken=lc,Ti.isCancel=Pt,Ti.VERSION=wu,Ti.toFormData=ke,Ti.AxiosError=vr,Ti.Cancel=Ti.CanceledError,Ti.all=function(ie){return Promise.all(ie)},Ti.spread=Gs,Ti.isAxiosError=xu,Ti.mergeConfig=ia,Ti.AxiosHeaders=no,Ti.formToJSON=Q=>Ue(tt.isHTMLForm(Q)?new FormData(Q):Q),Ti.getAdapter=Nl.getAdapter,Ti.HttpStatusCode=yl,Ti.default=Ti,AS=Ti,AS}var z_={},JD;function e3(){if(JD)return z_;JD=1,Object.defineProperty(z_,"__esModule",{value:!0}),z_.XanoContentType=void 0;var e;return(function(r){r.JSON="application/json",r.Multipart="multipart/form-data",r.Text="text/plain"})(e||(z_.XanoContentType=e={})),z_}var Y_={},QD;function _K(){if(QD)return Y_;QD=1,Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.XanoEventStream=void 0;var e=(function(){function r(n){Object.assign(this,n)}return r.prototype.dataAsJSON=function(){try{return JSON.parse(this.data)}catch{return null}},r})();return Y_.XanoEventStream=e,Y_}var B_={},eI;function t3(){if(eI)return B_;eI=1,Object.defineProperty(B_,"__esModule",{value:!0}),B_.XanoFile=void 0;var e=(function(){function r(n,l){this.name=n,this.buffer=l}return r.prototype.getBuffer=function(){return this.buffer},r.prototype.getName=function(){return this.name},r})();return B_.XanoFile=e,B_}var nh={},j_={},tI;function Pg(){if(tI)return j_;tI=1,Object.defineProperty(j_,"__esModule",{value:!0}),j_.XanoBaseStorage=void 0;var e=(function(){function r(){}return r})();return j_.XanoBaseStorage=e,j_}var rI;function r3(){if(rI)return nh;rI=1;var e=nh&&nh.__extends||(function(){var l=function(p,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,M){c.__proto__=M}||function(c,M){for(var s in M)Object.prototype.hasOwnProperty.call(M,s)&&(c[s]=M[s])},l(p,h)};return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(p,h);function c(){this.constructor=p}p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}})();Object.defineProperty(nh,"__esModule",{value:!0}),nh.XanoObjectStorage=void 0;var r=Pg(),n=(function(l){e(p,l);function p(){var h=l!==null&&l.apply(this,arguments)||this;return h.storage={},h}return p.prototype.clear=function(){this.storage={}},p.prototype.getAll=function(){return this.storage},p.prototype.getItem=function(h){var c;return(c=this.storage[h])!==null&&c!==void 0?c:null},p.prototype.removeItem=function(h){delete this.storage[h]},p.prototype.setItem=function(h,c){this.storage[h]=c},p})(r.XanoBaseStorage);return nh.XanoObjectStorage=n,nh}var $c={},$_={},nI;function rT(){if(nI)return $_;nI=1,Object.defineProperty($_,"__esModule",{value:!0}),$_.ERealtimeAction=void 0;var e;return(function(r){r.ConnectionStatus="connection_status",r.Error="error",r.Event="event",r.History="history",r.Join="join",r.Leave="leave",r.Message="message",r.PresenceFull="presence_full",r.PresenceUpdate="presence_update"})(e||($_.ERealtimeAction=e={})),$_}var V_={},iI;function n3(){if(iI)return V_;iI=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.ERealtimeConnectionStatus=void 0;var e;return(function(r){r.Connected="connected",r.Disconnected="disconnected"})(e||(V_.ERealtimeConnectionStatus=e={})),V_}var U_={},oI;function gK(){if(oI)return U_;oI=1,Object.defineProperty(U_,"__esModule",{value:!0}),U_.ERealtimePresenceAction=void 0;var e;return(function(r){r.Join="join",r.Leave="leave"})(e||(U_.ERealtimePresenceAction=e={})),U_}var N_={},aI;function yK(){if(aI)return N_;aI=1,Object.defineProperty(N_,"__esModule",{value:!0}),N_.Observer=void 0;var e=(function(){function r(){}return r})();return N_.Observer=e,N_}var H_={},q_={},G_={},sI;function bK(){if(sI)return G_;sI=1,Object.defineProperty(G_,"__esModule",{value:!0}),G_.Observable=void 0;var e=(function(){function r(n){this.onObserverCountChange=n,this.observers=[]}return r.prototype.notifyCountChange=function(){typeof this.onObserverCountChange=="function"&&this.onObserverCountChange(this.observers.length)},r.prototype.addObserver=function(n,l){l===void 0&&(l=!1),this.observers.push(n),l&&this.lastState&&n.update(this.lastState),this.notifyCountChange()},r.prototype.removeObserver=function(n){var l=this.observers.findIndex(function(p){return n===p});l!==-1&&this.observers.splice(l,1),this.notifyCountChange()},r.prototype.notify=function(n){this.lastState=n;for(var l=0,p=this.observers;l<p.length;l++){var h=p[l];h.update(n)}},r})();return G_.Observable=e,G_}var lI;function nT(){if(lI)return q_;lI=1,Object.defineProperty(q_,"__esModule",{value:!0}),q_.XanoRealtimeState=void 0;var e=rT(),r=n3(),n=bK(),l=(function(){function p(){var h=this;if(this.socket=null,this.reconnectSettings={defaultReconnectInterval:1e3,reconnectInterval:1e3,reconnecting:!1},this.socketObserver=new n.Observable(function(c){c?h.connect():h.disconnect()}),p._instance)throw new Error("Instantiation failed: Use XanoRealtimeState.getInstance() instead of new.");p._instance=this}return p.getInstance=function(){return p._instance},p.prototype.triggerReconnect=function(){var h=this;setTimeout(function(){h.connect()},this.reconnectSettings.reconnectInterval),this.reconnectSettings.reconnectInterval=Math.min(2*this.reconnectSettings.reconnectInterval,6e4)},p.prototype.connect=function(){var h=this;if(this.socket)return this.socket;if(!this.config.instanceBaseUrl&&!this.config.apiGroupBaseUrl)throw new Error("Please configure instanceBaseUrl or apiGroupBaseUrl setting before connecting to realtime");if(!this.config.realtimeConnectionHash)throw new Error("Please configure realtimeConnectionHash setting before connecting to realtime");var c=new URL("".concat(this.config.instanceBaseUrl||this.config.apiGroupBaseUrl)),M;return this.config.realtimeAuthToken?M=[this.config.realtimeAuthToken]:this.config.authToken&&(M=[this.config.authToken],console.warn("[XanoClient] The use of authToken to authenticate with realtime will be sunset July 1st, 2024. Please use realtimeAuthToken instead. More info: https://docs.xano.com/building-features/realtime#xano-auth--realtime")),this.socket=new WebSocket("wss://".concat(c.hostname,"/rt/").concat(this.config.realtimeConnectionHash),M),this.socket.addEventListener("message",function(s){try{var E=JSON.parse(s.data);E!=null&&E.action&&h.socketObserver.notify({action:E.action,client:(E==null?void 0:E.client)||void 0,options:(E==null?void 0:E.options)||void 0,payload:E.payload})}catch{}}),this.socket.addEventListener("close",function(s){if(!h.socket){h.reconnectSettings.reconnecting&&h.triggerReconnect();return}h.socket=null,h.socketObserver.notify({action:e.ERealtimeAction.ConnectionStatus,options:{},payload:{status:r.ERealtimeConnectionStatus.Disconnected}});var E=[1006,1011,1012,1013,1014,4e3];E.includes(s.code)&&(h.reconnectSettings.reconnecting=!0,h.triggerReconnect())}),this.socket.addEventListener("open",function(){h.reconnectSettings.reconnecting=!1,h.reconnectSettings.reconnectInterval=h.reconnectSettings.defaultReconnectInterval,h.socketObserver.notify({action:e.ERealtimeAction.ConnectionStatus,options:{},payload:{status:r.ERealtimeConnectionStatus.Connected}})}),this.socket},p.prototype.disconnect=function(){this.socket&&(this.socket.close(1e3),this.socket=null)},p.prototype.reconnect=function(){var h;(h=this.socket)===null||h===void 0||h.close(4e3)},p.prototype.getSocket=function(){return this.socket},p.prototype.setConfig=function(h){return this.config=h,this},p.prototype.getSocketObserver=function(){return this.socketObserver},p._instance=new p,p})();return q_.XanoRealtimeState=l,q_}var W_={},uI;function i3(){if(uI)return W_;uI=1,Object.defineProperty(W_,"__esModule",{value:!0}),W_.realtimeBuildActionUtil=void 0;var e=function(r,n,l){return l===void 0&&(l=null),JSON.stringify({action:r,options:n,payload:l})};return W_.realtimeBuildActionUtil=e,W_}var cI;function vK(){if(cI)return H_;cI=1,Object.defineProperty(H_,"__esModule",{value:!0}),H_.XanoRealtimeClient=void 0;var e=rT(),r=nT(),n=i3(),l=(function(){function p(h,c){Object.assign(this,h),this.channel=c}return p.prototype.message=function(h){var c=r.XanoRealtimeState.getInstance().getSocket();if(c!==null){var M=(0,n.realtimeBuildActionUtil)(e.ERealtimeAction.Message,{channel:this.channel.channel,socketId:this.socketId},h);c.send(M)}},p.prototype.history=function(){var h=r.XanoRealtimeState.getInstance().getSocket();if(h!==null){var c=(0,n.realtimeBuildActionUtil)(e.ERealtimeAction.History,{channel:this.channel.channel,socketId:this.socketId});h.send(c)}},p})();return H_.XanoRealtimeClient=l,H_}var dI;function wK(){if(dI)return $c;dI=1;var e=$c&&$c.__extends||(function(){var k=function(R,F){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,B){C.__proto__=B}||function(C,B){for(var G in B)Object.prototype.hasOwnProperty.call(B,G)&&(C[G]=B[G])},k(R,F)};return function(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");k(R,F);function C(){this.constructor=R}R.prototype=F===null?Object.create(F):(C.prototype=F.prototype,new C)}})(),r=$c&&$c.__assign||function(){return r=Object.assign||function(k){for(var R,F=1,C=arguments.length;F<C;F++){R=arguments[F];for(var B in R)Object.prototype.hasOwnProperty.call(R,B)&&(k[B]=R[B])}return k},r.apply(this,arguments)};Object.defineProperty($c,"__esModule",{value:!0}),$c.XanoRealtimeChannel=void 0;var n=rT(),l=n3(),p=gK(),h=yK(),c=vK(),M=nT(),s=i3(),E=(function(){function k(R,F,C){this.channel=R,this.options=F,this.config=C,this.observed=!1,this.offlineMessageQueue=[],this.presenceCache=[],this.socketObserver=M.XanoRealtimeState.getInstance().setConfig(this.config).getSocketObserver(),this.onFuncs=[],this.realtimeObserver=new((function(se){e(_e,se);function _e(Me){var he=se.call(this)||this;return he.realtimeChannel=Me,he}return _e.prototype.update=function(Me){var he,Ge=(he=Me==null?void 0:Me.options)===null||he===void 0?void 0:he.channel;if(!(Ge&&Ge!==this.realtimeChannel.channel)){switch(Me.action){case n.ERealtimeAction.ConnectionStatus:this.realtimeChannel.handleConnectionUpdate(Me),this.realtimeChannel.processOfflineMessageQueue();break;case n.ERealtimeAction.PresenceFull:case n.ERealtimeAction.PresenceUpdate:this.realtimeChannel.handlePresenceUpdate(Me);break}for(var st=0,Ne=this.realtimeChannel.onFuncs;st<Ne.length;st++){var Re=Ne[st];Re.action&&Re.action!==Me.action||(Me.action===n.ERealtimeAction.Error?Re.onError&&Re.onError(Me):Re.onFunc(Me))}}},_e})(h.Observer))(this);var B=M.XanoRealtimeState.getInstance().getSocket();if(B!==null){for(var G={action:n.ERealtimeAction.ConnectionStatus,options:{},payload:{status:l.ERealtimeConnectionStatus.Connected}},Z=0,K=this.onFuncs;Z<K.length;Z++){var te=K[Z];te.action&&te.action!==G.action||te.onFunc(G)}this.handleConnectionUpdate(G)}}return k.prototype.handleConnectionUpdate=function(R){if(R.payload.status===l.ERealtimeConnectionStatus.Connected){var F=M.XanoRealtimeState.getInstance().getSocket();if(F!==null){var C=(0,s.realtimeBuildActionUtil)(n.ERealtimeAction.Join,{channel:this.channel},{history:this.options.history||!1,presence:this.options.presence||!1});F.send(C)}}},k.prototype.handlePresenceUpdate=function(R){var F=this;R.action===n.ERealtimeAction.PresenceFull?this.presenceCache=R.payload.presence.map(function(C){return new c.XanoRealtimeClient(C,F)}):R.action===n.ERealtimeAction.PresenceUpdate&&(R.payload.action===p.ERealtimePresenceAction.Join?this.presenceCache.push(new c.XanoRealtimeClient(R.payload.presence,this)):R.payload.action===p.ERealtimePresenceAction.Leave&&(this.presenceCache=this.presenceCache.filter(function(C){return C.socketId!==R.payload.presence.socketId})))},k.prototype.on=function(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];return this.observed||(this.socketObserver.addObserver(this.realtimeObserver,!0),this.observed=!0),typeof R[0]=="string"?this.onFuncs.push({action:R[0],onError:R[2],onFunc:R[1]}):this.onFuncs.push({onFunc:R[0],onError:R[1]}),this},k.prototype.destroy=function(){var R=M.XanoRealtimeState.getInstance().getSocket();if(R!==null){var F=(0,s.realtimeBuildActionUtil)(n.ERealtimeAction.Leave,{channel:this.channel});R.send(F)}this.socketObserver.removeObserver(this.realtimeObserver)},k.prototype.message=function(R,F){F===void 0&&(F={});var C=M.XanoRealtimeState.getInstance().getSocket();if(C!==null){var B=(0,s.realtimeBuildActionUtil)(n.ERealtimeAction.Message,r(r({},F),{channel:this.channel}),R);C.readyState===WebSocket.OPEN?C.send(B):this.options.queueOfflineActions&&this.offlineMessageQueue.push(B)}},k.prototype.processOfflineMessageQueue=function(){if(this.options.queueOfflineActions){var R=M.XanoRealtimeState.getInstance().getSocket();if(R!==null)for(;this.offlineMessageQueue.length;){var F=this.offlineMessageQueue.shift();F&&R.send(F)}}},k.prototype.getPresence=function(){return this.presenceCache},k.prototype.history=function(){var R=M.XanoRealtimeState.getInstance().getSocket();if(R!==null){var F=(0,s.realtimeBuildActionUtil)(n.ERealtimeAction.History,{channel:this.channel});R.send(F)}},k})();return $c.XanoRealtimeChannel=E,$c}var ih={},fI;function o3(){if(fI)return ih;fI=1;var e=ih&&ih.__extends||(function(){var n=function(l,p){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var M in c)Object.prototype.hasOwnProperty.call(c,M)&&(h[M]=c[M])},n(l,p)};return function(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");n(l,p);function h(){this.constructor=l}l.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}})();Object.defineProperty(ih,"__esModule",{value:!0}),ih.XanoRequestError=void 0;var r=(function(n){e(l,n);function l(p,h){var c=n.call(this,p)||this;return c.getResponse=function(){return h},c}return l})(Error);return ih.XanoRequestError=r,ih}var Z_={},hI;function a3(){if(hI)return Z_;hI=1,Object.defineProperty(Z_,"__esModule",{value:!0}),Z_.XanoRequestType=void 0;var e;return(function(r){r.DELETE="DELETE",r.GET="GET",r.HEAD="HEAD",r.PATCH="PATCH",r.POST="POST",r.PUT="PUT"})(e||(Z_.XanoRequestType=e={})),Z_}var X_={},pI;function s3(){if(pI)return X_;pI=1,Object.defineProperty(X_,"__esModule",{value:!0}),X_.XanoResponse=void 0;var e=(function(){function r(n,l){l===void 0&&(l="");var p,h;if(this.body=n.data,this.headers=(p=n.headers)!==null&&p!==void 0?p:{},this.objectPrefix=l,this.status=n.status,typeof this.body=="string"&&this.body.length>0){var c=(h=this.headers["content-type"])!==null&&h!==void 0?h:"";if(c.indexOf("application/json")===0)try{this.body=JSON.parse(this.body)}catch{}}}return r.prototype.prefixArray=function(n,l){var p=this,h=[];return n.forEach(function(c){var M=p.typeOf(c);M==="array"?h.push(p.prefixArray(c,l)):M==="object"?h.push(p.prefixObject(c,l)):h.push(c)}),h},r.prototype.prefixObject=function(n,l){var p=this,h={};return Object.keys(n).forEach(function(c){var M="".concat(l).concat(c),s=p.typeOf(n[c]);s==="array"?h[M]=p.prefixArray(n[c],l):s==="object"?h[M]=p.prefixObject(n[c],l):h[M]=n[c]}),h},r.prototype.typeOf=function(n){if(n===null)return"null";var l=typeof n;return l==="object"&&Array.isArray(n)?"array":l},r.prototype.getBody=function(n){if(n===void 0&&(n=""),n=n||this.objectPrefix,n){var l=this.typeOf(this.body);if(l==="array")return this.prefixArray(this.body,n);if(l==="object")return this.prefixObject(this.body,n)}return this.body},r.prototype.getHeaders=function(){return this.headers},r.prototype.getStatusCode=function(){return this.status},r})();return X_.XanoResponse=e,X_}var K_={},mI;function l3(){if(mI)return K_;mI=1,Object.defineProperty(K_,"__esModule",{value:!0}),K_.XanoStorageKeys=void 0;var e;return(function(r){r.AuthToken="AuthToken",r.RealtimeAuthToken="RealtimeAuthToken"})(e||(K_.XanoStorageKeys=e={})),K_}var _I;function u3(){if(_I)return hu;_I=1;var e=hu&&hu.__assign||function(){return e=Object.assign||function(Z){for(var K,te=1,se=arguments.length;te<se;te++){K=arguments[te];for(var _e in K)Object.prototype.hasOwnProperty.call(K,_e)&&(Z[_e]=K[_e])}return Z},e.apply(this,arguments)},r=hu&&hu.__awaiter||function(Z,K,te,se){function _e(Me){return Me instanceof te?Me:new te(function(he){he(Me)})}return new(te||(te=Promise))(function(Me,he){function Ge(Re){try{Ne(se.next(Re))}catch(ut){he(ut)}}function st(Re){try{Ne(se.throw(Re))}catch(ut){he(ut)}}function Ne(Re){Re.done?Me(Re.value):_e(Re.value).then(Ge,st)}Ne((se=se.apply(Z,K||[])).next())})},n=hu&&hu.__generator||function(Z,K){var te={label:0,sent:function(){if(Me[0]&1)throw Me[1];return Me[1]},trys:[],ops:[]},se,_e,Me,he;return he={next:Ge(0),throw:Ge(1),return:Ge(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Ge(Ne){return function(Re){return st([Ne,Re])}}function st(Ne){if(se)throw new TypeError("Generator is already executing.");for(;he&&(he=0,Ne[0]&&(te=0)),te;)try{if(se=1,_e&&(Me=Ne[0]&2?_e.return:Ne[0]?_e.throw||((Me=_e.return)&&Me.call(_e),0):_e.next)&&!(Me=Me.call(_e,Ne[1])).done)return Me;switch(_e=0,Me&&(Ne=[Ne[0]&2,Me.value]),Ne[0]){case 0:case 1:Me=Ne;break;case 4:return te.label++,{value:Ne[1],done:!1};case 5:te.label++,_e=Ne[1],Ne=[0];continue;case 7:Ne=te.ops.pop(),te.trys.pop();continue;default:if(Me=te.trys,!(Me=Me.length>0&&Me[Me.length-1])&&(Ne[0]===6||Ne[0]===2)){te=0;continue}if(Ne[0]===3&&(!Me||Ne[1]>Me[0]&&Ne[1]<Me[3])){te.label=Ne[1];break}if(Ne[0]===6&&te.label<Me[1]){te.label=Me[1],Me=Ne;break}if(Me&&te.label<Me[2]){te.label=Me[2],te.ops.push(Ne);break}Me[2]&&te.ops.pop(),te.trys.pop();continue}Ne=K.call(Z,te)}catch(Re){Ne=[6,Re],_e=0}finally{se=Me=0}if(Ne[0]&5)throw Ne[1];return{value:Ne[0]?Ne[1]:void 0,done:!0}}};Object.defineProperty(hu,"__esModule",{value:!0}),hu.XanoBaseClient=void 0;var l=pK(),p=mK(),h=e3(),c=_K(),M=t3(),s=r3(),E=wK(),k=nT(),R=o3(),F=a3(),C=s3(),B=l3(),G=(function(){function Z(K){this.config={apiGroupBaseUrl:null,authToken:null,customAxiosRequestConfig:{},dataSource:null,instanceBaseUrl:null,realtimeConnectionHash:null,responseObjectPrefix:"",storage:new s.XanoObjectStorage},this.config=e(e({},this.config),K),(K==null?void 0:K.authToken)!==void 0&&(typeof this.config.authToken=="string"&&this.config.authToken.length>0?this.config.storage.setItem(B.XanoStorageKeys.AuthToken,this.config.authToken):this.config.storage.removeItem(B.XanoStorageKeys.AuthToken)),(K==null?void 0:K.realtimeAuthToken)!==void 0&&(typeof this.config.realtimeAuthToken=="string"&&this.config.realtimeAuthToken.length>0?this.config.storage.setItem(B.XanoStorageKeys.RealtimeAuthToken,this.config.realtimeAuthToken):this.config.storage.removeItem(B.XanoStorageKeys.RealtimeAuthToken))}return Z.prototype.buildFormData=function(K){var te=this,se=this.getFormDataInstance(),_e=!1,Me={};return Object.entries(K).forEach(function(he){var Ge=te.isFileType(he[1]);Ge&&(_e=!0),Me[he[0]]=he[1],he[1]instanceof M.XanoFile?se.append(he[0],he[1].getBuffer(),he[1].getName()):te.appendFormData(se,he[0],he[1])}),{formData:se,hasFile:_e,rawFormData:Me}},Z.prototype.hasToken=function(K){var te=this.config.storage.getItem(K);return typeof te=="string"&&te.length>0},Z.prototype.isFileType=function(K){return typeof File<"u"&&K instanceof File?!0:K instanceof M.XanoFile},Z.prototype.request=function(K){var te=this;if(!this.config.apiGroupBaseUrl&&!this.config.instanceBaseUrl)throw new Error("Please configure apiGroupBaseUrl or instanceBaseUrl setting before making an API request");var se=e(e({},this.config.customAxiosRequestConfig),{baseURL:this.config.apiGroupBaseUrl||this.config.instanceBaseUrl,method:K.method,params:K.urlParams,url:K.endpoint,validateStatus:function(){return!0}});if(K.streamingCallback&&(se.responseType="stream",se.adapter="fetch"),se.headers||(se.headers={}),K.headerParams&&(se.headers=e(e({},se.headers),K.headerParams)),this.hasAuthToken()){var _e=this.config.storage.getItem(B.XanoStorageKeys.AuthToken);se.headers.Authorization="Bearer ".concat(_e)}if(this.hasDataSource()&&(se.headers["X-Data-Source"]=this.config.dataSource),K.bodyParams){var Me=this.buildFormData(K.bodyParams);Me.hasFile?(se.headers["Content-Type"]=h.XanoContentType.Multipart,se.data=Me.formData):(se.headers["Content-Type"]=h.XanoContentType.JSON,se.data=JSON.stringify(Me.rawFormData))}return p.default.request(se).then(function(he){return r(te,void 0,void 0,function(){var Ge,st,Ne,Re,ut,Ke,gt;return n(this,function(mt){switch(mt.label){case 0:if(!K.streamingCallback)return[3,3];Ge=he.data,st=Ge.pipeThrough(new l.default).getReader(),mt.label=1;case 1:return[4,st.read()];case 2:return Ne=mt.sent(),Re=Ne.value,ut=Ne.done,ut?[3,3]:(K.streamingCallback(new c.XanoEventStream({data:Re.data,id:Re.lastEventId,type:Re.type})),[3,1]);case 3:if(Ke=new C.XanoResponse(he,(gt=this.config.responseObjectPrefix)!==null&&gt!==void 0?gt:""),he.status<200||he.status>=300)throw new R.XanoRequestError("There was an error with your request",Ke);return[2,Ke]}})})})},Z.prototype.storeToken=function(K,te){K===null?this.config.storage.removeItem(te):this.config.storage.setItem(te,K)},Z.prototype.hasAuthToken=function(){return this.hasToken(B.XanoStorageKeys.AuthToken)},Z.prototype.setAuthToken=function(K){return this.storeToken(K,B.XanoStorageKeys.AuthToken),this.config.authToken=K,this},Z.prototype.hasRealtimeAuthToken=function(){return this.hasToken(B.XanoStorageKeys.RealtimeAuthToken)},Z.prototype.setRealtimeAuthToken=function(K){return this.storeToken(K,B.XanoStorageKeys.RealtimeAuthToken),this.config.realtimeAuthToken=K,this},Z.prototype.hasDataSource=function(){return typeof this.config.dataSource=="string"&&this.config.dataSource.length>0},Z.prototype.setDataSource=function(K){return this.config.dataSource=K,this},Z.prototype.delete=function(K,te,se){return this.request({bodyParams:te,endpoint:K,headerParams:se,method:F.XanoRequestType.DELETE})},Z.prototype.get=function(K,te,se,_e){return this.request({endpoint:K,headerParams:se,method:F.XanoRequestType.GET,streamingCallback:_e,urlParams:te})},Z.prototype.head=function(K,te,se){return this.request({endpoint:K,headerParams:se,method:F.XanoRequestType.HEAD,urlParams:te})},Z.prototype.patch=function(K,te,se,_e){return this.request({bodyParams:te,endpoint:K,headerParams:se,method:F.XanoRequestType.PATCH,streamingCallback:_e})},Z.prototype.post=function(K,te,se,_e){return this.request({bodyParams:te,endpoint:K,headerParams:se,method:F.XanoRequestType.POST,streamingCallback:_e})},Z.prototype.put=function(K,te,se,_e){return this.request({bodyParams:te,endpoint:K,headerParams:se,method:F.XanoRequestType.PUT,streamingCallback:_e})},Z.prototype.channel=function(K,te){if(te===void 0&&(te={}),!this.config.instanceBaseUrl&&!this.config.apiGroupBaseUrl)throw new Error("Please configure instanceBaseUrl or apiGroupBaseUrl setting before connecting to realtime");if(!this.config.realtimeConnectionHash)throw new Error("Please configure realtimeConnectionHash setting before connecting to realtime");return new E.XanoRealtimeChannel(K,te,this.config)},Z.prototype.realtimeReconnect=function(){return k.XanoRealtimeState.getInstance().reconnect(),this},Z})();return hu.XanoBaseClient=G,hu}var Vc={},gI;function c3(){if(gI)return Vc;gI=1;var e=Vc&&Vc.__extends||(function(){var p=function(h,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,s){M.__proto__=s}||function(M,s){for(var E in s)Object.prototype.hasOwnProperty.call(s,E)&&(M[E]=s[E])},p(h,c)};return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(h,c);function M(){this.constructor=h}h.prototype=c===null?Object.create(c):(M.prototype=c.prototype,new M)}})(),r=Vc&&Vc.__assign||function(){return r=Object.assign||function(p){for(var h,c=1,M=arguments.length;c<M;c++){h=arguments[c];for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&(p[s]=h[s])}return p},r.apply(this,arguments)};Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.XanoLocalStorage=void 0;var n=Pg(),l=(function(p){e(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.clear=function(){localStorage.clear()},h.prototype.getAll=function(){return r({},localStorage)},h.prototype.getItem=function(c){return localStorage.getItem(c)},h.prototype.removeItem=function(c){localStorage.removeItem(c)},h.prototype.setItem=function(c,M){localStorage.setItem(c,M)},h})(n.XanoBaseStorage);return Vc.XanoLocalStorage=l,Vc}var yI;function xK(){if(yI)return rh;yI=1;var e=rh&&rh.__extends||(function(){var p=function(h,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,s){M.__proto__=s}||function(M,s){for(var E in s)Object.prototype.hasOwnProperty.call(s,E)&&(M[E]=s[E])},p(h,c)};return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(h,c);function M(){this.constructor=h}h.prototype=c===null?Object.create(c):(M.prototype=c.prototype,new M)}})();Object.defineProperty(rh,"__esModule",{value:!0}),rh.XanoClient=void 0;var r=u3(),n=c3(),l=(function(p){e(h,p);function h(c){return c.storage===void 0&&(c.storage=new n.XanoLocalStorage),p.call(this,c)||this}return h.prototype.getFormDataInstance=function(){return new FormData},h.prototype.appendFormData=function(c,M,s){c.append(M,s)},h})(r.XanoBaseClient);return rh.XanoClient=l,rh}var oh={},CS,bI;function MK(){return bI||(bI=1,CS=typeof self=="object"?self.FormData:window.FormData),CS}var vI;function SK(){if(vI)return oh;vI=1;var e=oh&&oh.__extends||(function(){var l=function(p,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,M){c.__proto__=M}||function(c,M){for(var s in M)Object.prototype.hasOwnProperty.call(M,s)&&(c[s]=M[s])},l(p,h)};return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(p,h);function c(){this.constructor=p}p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}})();Object.defineProperty(oh,"__esModule",{value:!0}),oh.XanoNodeClient=void 0;var r=u3(),n=(function(l){e(p,l);function p(){return l!==null&&l.apply(this,arguments)||this}return p.prototype.getFormDataInstance=function(){return new(MK())},p.prototype.appendFormData=function(h,c,M){typeof M=="object"&&(M=JSON.stringify(M)),h.append(c,M)},p})(r.XanoBaseClient);return oh.XanoNodeClient=n,oh}var ah={},wI;function LK(){if(wI)return ah;wI=1;var e=ah&&ah.__extends||(function(){var l=function(p,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,M){c.__proto__=M}||function(c,M){for(var s in M)Object.prototype.hasOwnProperty.call(M,s)&&(c[s]=M[s])},l(p,h)};return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(p,h);function c(){this.constructor=p}p.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}})();Object.defineProperty(ah,"__esModule",{value:!0}),ah.XanoCookieStorage=void 0;var r=Pg(),n=(function(l){e(p,l);function p(h,c){h===void 0&&(h="/"),c===void 0&&(c=30);var M=l.call(this)||this;return M.cookiePath=h,M.expirationDays=c,M}return p.prototype.getExpirationUTC=function(h){var c=new Date;return c.setTime(c.getTime()+h*24*60*60*1e3),c.toUTCString()},p.prototype.clear=function(){var h=this;Object.keys(this.getAll()).forEach(function(c){h.removeItem(c)})},p.prototype.getAll=function(){return Object.fromEntries(document.cookie.split("; ").map(function(h){return h.split("=")}))},p.prototype.getItem=function(h){var c,M,s,E="; ".concat(document.cookie),k=E.split("; ".concat(h,"=")),R=(s=(M=(c=k.pop())===null||c===void 0?void 0:c.split(";"))===null||M===void 0?void 0:M.shift())!==null&&s!==void 0?s:null;return R===void 0?null:R},p.prototype.removeItem=function(h){document.cookie="".concat(h,"=; expires=").concat(this.getExpirationUTC(-1),"; path=").concat(this.cookiePath)},p.prototype.setItem=function(h,c){document.cookie="".concat(h,"=").concat(c,"; expires=").concat(this.getExpirationUTC(this.expirationDays),"; path=").concat(this.cookiePath)},p})(r.XanoBaseStorage);return ah.XanoCookieStorage=n,ah}var Uc={},xI;function TK(){if(xI)return Uc;xI=1;var e=Uc&&Uc.__extends||(function(){var p=function(h,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,s){M.__proto__=s}||function(M,s){for(var E in s)Object.prototype.hasOwnProperty.call(s,E)&&(M[E]=s[E])},p(h,c)};return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(h,c);function M(){this.constructor=h}h.prototype=c===null?Object.create(c):(M.prototype=c.prototype,new M)}})(),r=Uc&&Uc.__assign||function(){return r=Object.assign||function(p){for(var h,c=1,M=arguments.length;c<M;c++){h=arguments[c];for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&(p[s]=h[s])}return p},r.apply(this,arguments)};Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.XanoSessionStorage=void 0;var n=Pg(),l=(function(p){e(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.prototype.clear=function(){sessionStorage.clear()},h.prototype.getAll=function(){return r({},sessionStorage)},h.prototype.getItem=function(c){return sessionStorage.getItem(c)},h.prototype.removeItem=function(c){sessionStorage.removeItem(c)},h.prototype.setItem=function(c,M){sessionStorage.setItem(c,M)},h})(n.XanoBaseStorage);return Uc.XanoSessionStorage=l,Uc}var MI;function EK(){return MI||(MI=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.XanoSessionStorage=e.XanoObjectStorage=e.XanoLocalStorage=e.XanoCookieStorage=e.XanoBaseStorage=e.XanoResponse=e.XanoFile=e.XanoRequestError=e.XanoStorageKeys=e.XanoRequestType=e.XanoContentType=e.XanoNodeClient=e.XanoClient=void 0;var r=xK();Object.defineProperty(e,"XanoClient",{enumerable:!0,get:function(){return r.XanoClient}});var n=SK();Object.defineProperty(e,"XanoNodeClient",{enumerable:!0,get:function(){return n.XanoNodeClient}});var l=e3();Object.defineProperty(e,"XanoContentType",{enumerable:!0,get:function(){return l.XanoContentType}});var p=a3();Object.defineProperty(e,"XanoRequestType",{enumerable:!0,get:function(){return p.XanoRequestType}});var h=l3();Object.defineProperty(e,"XanoStorageKeys",{enumerable:!0,get:function(){return h.XanoStorageKeys}});var c=o3();Object.defineProperty(e,"XanoRequestError",{enumerable:!0,get:function(){return c.XanoRequestError}});var M=t3();Object.defineProperty(e,"XanoFile",{enumerable:!0,get:function(){return M.XanoFile}});var s=s3();Object.defineProperty(e,"XanoResponse",{enumerable:!0,get:function(){return s.XanoResponse}});var E=Pg();Object.defineProperty(e,"XanoBaseStorage",{enumerable:!0,get:function(){return E.XanoBaseStorage}});var k=LK();Object.defineProperty(e,"XanoCookieStorage",{enumerable:!0,get:function(){return k.XanoCookieStorage}});var R=c3();Object.defineProperty(e,"XanoLocalStorage",{enumerable:!0,get:function(){return R.XanoLocalStorage}});var F=r3();Object.defineProperty(e,"XanoObjectStorage",{enumerable:!0,get:function(){return F.XanoObjectStorage}});var C=TK();Object.defineProperty(e,"XanoSessionStorage",{enumerable:!0,get:function(){return C.XanoSessionStorage}})})(kS)),kS}var kK=EK();const AK={xanoManager:null,xanoClient:null,channels:{},async _onLoad(e){this.init(e)},async init(e){var r;this.xanoClient=new kK.XanoClient({instanceBaseUrl:"https://"+(e.publicData.customDomain||e.publicData.domain),realtimeConnectionHash:e.publicData.realtimeConnectionHash,customAxiosRequestConfig:{withCredentials:e.publicData.withCredentials}}),(r=wwLib.wwPlugins.xanoAuth)!=null&&r.accessToken&&(this.xanoClient.setAuthToken(wwLib.wwPlugins.xanoAuth.accessToken),this.xanoClient.setRealtimeAuthToken(wwLib.wwPlugins.xanoAuth.accessToken),this.xanoClient.realtimeReconnect())},async _fetchCollection(e){if(e.mode==="dynamic")try{const{data:r}=await this.request(e.config);return{data:r,error:null}}catch(r){return{error:Object.getOwnPropertyNames(r).reduce((n,l)=>({...n,[l]:r[l]}),{})}}else return{data:null,error:null}},async request({apiGroupUrl:e,endpoint:r,headers:n,withCredentials:l,parameters:p,body:h,dataType:c,useStreaming:M,streamVariableId:s},E){var F;const k=wwLib.wwPlugins.xanoAuth&&wwLib.wwPlugins.xanoAuth.accessToken;let R=r.path;for(const C in p)R=R.replace(`{${C}}`,p[C]);if(M||c==="text/event-stream")try{return await this.xanoClient.request({endpoint:this.resolveUrl(e)+R,method:r.method,urlParams:p,bodyParams:r.method==="get"?null:h,headerParams:SI({dataType:c},n),streamingCallback:C=>{let B=C==null?void 0:C.data;if(typeof(C==null?void 0:C.data)=="string")try{B=JSON.parse(C.data)}catch{}const Z=[...wwLib.wwVariable.getValue(s)||[],B];wwLib.wwVariable.updateValue(s,Z)}}),wwLib.wwVariable.getValue(s)}catch(C){throw C.getResponse?{name:C.name,stack:C.stack,message:C.message,response:{status:(F=C==null?void 0:C.getResponse())==null?void 0:F.status}}:C}return await axios({method:r.method,baseURL:this.resolveUrl(e),url:R,params:p,data:h,headers:SI({authToken:k,dataType:c},n),withCredentials:this.settings.publicData.withCredentials||l})},openRealtimeChannel({channel:e,presence:r=!1,history:n=!1,queueOfflineActions:l=!0}){this.channels[e]&&this.closeRealtimeChannel({channel:e}),this.channels[e]=this.xanoClient.channel(e,{presence:r,history:n,queueOfflineActions:l}),this.channels[e].on(p=>{wwLib.wwWorkflow.executeTrigger(this.id+"-realtime",{event:{channel:e,type:p.action,data:p},conditions:{type:p.action,channel:e}}),wwLib.wwWorkflow.executeTrigger(this.id+"-realtime:"+p.action,{event:{channel:e,data:p},conditions:{channel:e}})},p=>{wwLib.wwWorkflow.executeTrigger(this.id+"-realtime",{event:{channel:e,type:p.action,data:p},conditions:{type:p.action,channel:e}}),wwLib.wwWorkflow.executeTrigger(this.id+"-realtime:error",{event:{channel:e,data:p},conditions:{channel:e}})})},closeRealtimeChannel({channel:e}){this.channels[e]&&(this.channels[e].destroy(),this.channels[e]=null)},getRealtimePresence({channel:e}){if(!this.channels[e])throw new Error(`Channel ${e} is not registered. Please open the channel first.`);return this.channels[e].getPresence()},requestRealtimeHistory({channel:e}){if(!this.channels[e])throw new Error(`Channel ${e} is not registered. Please open the channel first.`);return this.channels[e].history()},sendRealtimeMessage({channel:e,message:r,audience:n="public",socketId:l=null}){if(!this.channels[e])throw new Error(`Channel ${e} is not registered. Please open the channel first.`);this.channels[e].message(r,{authenticated:n==="authenticated",socketId:l})},resolveUrl(e){if(!e)return null;const r=new URL(e);return r.hostname=this.settings.publicData.customDomain||this.settings.publicData.domain||r.hostname,r.href}};function CK(){const e=wwLib.wwPlugins.xano.settings;switch(wwLib.globalContext.browser.environment){case"editor":return e.publicData.xDataSourceEditor;case"preview":return e.publicData.xDataSourceProd;case"staging":return e.publicData.xDataSourceStaging;case"production":return e.publicData.xDataSourceProd;default:return null}}function DK(){const e=wwLib.wwPlugins.xano.settings;switch(wwLib.globalContext.browser.environment){case"editor":return e.publicData.xBranchEditor;case"preview":return e.publicData.xBranchProd;case"staging":return e.publicData.xBranchStaging;case"production":return e.publicData.xBranchProd;default:return null}}function IK(){return wwLib.wwFormula.getValue(wwLib.wwPlugins.xano.settings.publicData.globalHeaders)}function SI({xDataSource:e=CK(),xBranch:r=DK(),authToken:n,dataType:l,globalHeaders:p=IK()},h=[]){return{...e?{"X-Data-Source":e}:{},...r?{"X-Branch":r}:{},...n?{Authorization:`Bearer ${n}`}:{},...l?{"Content-Type":l}:{},...(Array.isArray(p)?p:[]).filter(c=>!!c&&!!c.key).reduce((c,M)=>({...c,[M.key]:M.value}),{}),...(Array.isArray(h)?h:[]).filter(c=>!!c&&!!c.key).reduce((c,M)=>({...c,[M.key]:M.value}),{})}}const PK={containerId:null,async onLoad(e){this.containerId=this.getCurrentContainer(),this.containerId&&(wwLib.getFrontWindow().dataLayer=wwLib.getFrontWindow().dataLayer||[],(function(r,n,l,p,h){r[p]=r[p]||[],r[p].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var c=n.getElementsByTagName(l)[0],M=n.createElement(l),s="";M.async=!0,M.src="https://www.googletagmanager.com/gtm.js?id="+h+s,c.parentNode.insertBefore(M,c)})(wwLib.getFrontWindow(),wwLib.getFrontDocument(),"script","dataLayer",this.containerId))},pushEvent({event:e}){!this.containerId||!Array.isArray(e)||wwLib.getFrontWindow().dataLayer.push(e.reduce((r,n)=>({...r,[n.key]:n.value}),{}))},getCurrentContainer(){switch(wwLib.globalContext.browser.environment){case"editor":return this.settings.publicData.containerIdEditor||this.settings.publicData.containerIdProd;case"preview":return this.settings.publicData.containerIdProd;case"staging":return this.settings.publicData.containerIdStaging||this.settings.publicData.containerIdProd;case"production":return this.settings.publicData.containerIdProd;default:return null}}};var bx={exports:{}},OK=bx.exports,LI;function RK(){return LI||(LI=1,(function(e,r){var n={};(function(l,p){e.exports=p()})(OK,(function(){var l,p,h;function c(s,E){if(!l)l=E;else if(!p)p=E;else{var k="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+l+")(sharedChunk); ("+p+")(sharedChunk); self.onerror = null;",R={};l(R),h=E(R),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(h.workerUrl=window.URL.createObjectURL(new Blob([k],{type:"text/javascript"})))}}c(["exports"],(function(s){var E=typeof self<"u"?self:{},k="2.12.0";let R;const F={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(R==null){const i=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{R=n.API_URL_REGEX!=null?new RegExp(n.API_URL_REGEX):i}catch{R=i}}return R},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},C={supported:!1,testSupport:function(i){!Z&&G&&(K?te(i):B=i)}};let B,G,Z=!1,K=!1;function te(i){const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t);try{if(i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,G),i.isContextLost())return;C.supported=!0}catch{}i.deleteTexture(t),Z=!0}E.document&&(G=E.document.createElement("img"),G.onload=function(){B&&te(B),B=null,K=!0},G.onerror=function(){Z=!0,B=null},G.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const se="01";var _e=Me;function Me(i,t,o,u){this.cx=3*i,this.bx=3*(o-i)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(u-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=i,this.p1y=t,this.p2x=o,this.p2y=u}Me.prototype={sampleCurveX:function(i){return((this.ax*i+this.bx)*i+this.cx)*i},sampleCurveY:function(i){return((this.ay*i+this.by)*i+this.cy)*i},sampleCurveDerivativeX:function(i){return(3*this.ax*i+2*this.bx)*i+this.cx},solveCurveX:function(i,t){if(t===void 0&&(t=1e-6),i<0)return 0;if(i>1)return 1;for(var o=i,u=0;u<8;u++){var f=this.sampleCurveX(o)-i;if(Math.abs(f)<t)return o;var y=this.sampleCurveDerivativeX(o);if(Math.abs(y)<1e-6)break;o-=f/y}var v=0,S=1;for(o=i,u=0;u<20&&(f=this.sampleCurveX(o),!(Math.abs(f-i)<t));u++)i>f?v=o:S=o,o=.5*(S-v)+v;return o},solve:function(i,t){return this.sampleCurveY(this.solveCurveX(i,t))}};var he=Ge;function Ge(i,t){this.x=i,this.y=t}Ge.prototype={clone:function(){return new Ge(this.x,this.y)},add:function(i){return this.clone()._add(i)},sub:function(i){return this.clone()._sub(i)},multByPoint:function(i){return this.clone()._multByPoint(i)},divByPoint:function(i){return this.clone()._divByPoint(i)},mult:function(i){return this.clone()._mult(i)},div:function(i){return this.clone()._div(i)},rotate:function(i){return this.clone()._rotate(i)},rotateAround:function(i,t){return this.clone()._rotateAround(i,t)},matMult:function(i){return this.clone()._matMult(i)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(i){return this.x===i.x&&this.y===i.y},dist:function(i){return Math.sqrt(this.distSqr(i))},distSqr:function(i){var t=i.x-this.x,o=i.y-this.y;return t*t+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(i){return Math.atan2(this.y-i.y,this.x-i.x)},angleWith:function(i){return this.angleWithSep(i.x,i.y)},angleWithSep:function(i,t){return Math.atan2(this.x*t-this.y*i,this.x*i+this.y*t)},_matMult:function(i){var t=i[2]*this.x+i[3]*this.y;return this.x=i[0]*this.x+i[1]*this.y,this.y=t,this},_add:function(i){return this.x+=i.x,this.y+=i.y,this},_sub:function(i){return this.x-=i.x,this.y-=i.y,this},_mult:function(i){return this.x*=i,this.y*=i,this},_div:function(i){return this.x/=i,this.y/=i,this},_multByPoint:function(i){return this.x*=i.x,this.y*=i.y,this},_divByPoint:function(i){return this.x/=i.x,this.y/=i.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var i=this.y;return this.y=this.x,this.x=-i,this},_rotate:function(i){var t=Math.cos(i),o=Math.sin(i),u=o*this.x+t*this.y;return this.x=t*this.x-o*this.y,this.y=u,this},_rotateAround:function(i,t){var o=Math.cos(i),u=Math.sin(i),f=t.y+u*(this.x-t.x)+o*(this.y-t.y);return this.x=t.x+o*(this.x-t.x)-u*(this.y-t.y),this.y=f,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ge.convert=function(i){return i instanceof Ge?i:Array.isArray(i)?new Ge(i[0],i[1]):i};const st=Math.PI/180,Ne=180/Math.PI;function Re(i){return i*st}function ut(i){return i*Ne}const Ke=[[0,0],[1,0],[1,1],[0,1]];function gt(i){if(i<=0)return 0;if(i>=1)return 1;const t=i*i,o=t*i;return 4*(i<.5?o:3*(i-t)+o-.75)}function mt(i,t,o,u){const f=new _e(i,t,o,u);return function(y){return f.solve(y)}}const Lt=mt(.25,.1,.25,1);function ot(i,t,o){return Math.min(o,Math.max(t,i))}function dt(i,t,o){return(o=ot((o-i)/(t-i),0,1))*o*(3-2*o)}function vt(i,t,o){const u=o-t,f=((i-t)%u+u)%u+t;return f===t?o:f}function nr(i,t,o){if(!i.length)return o(null,[]);let u=i.length;const f=new Array(i.length);let y=null;i.forEach(((v,S)=>{t(v,((T,A)=>{T&&(y=T),f[S]=A,--u==0&&o(y,f)}))}))}function Sr(i){const t=[];for(const o in i)t.push(i[o]);return t}function pr(i,...t){for(const o of t)for(const u in o)i[u]=o[u];return i}let Er=1;function pn(){return Er++}function qr(){return(function i(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,i)})()}function Gr(i){return i<=1?1:Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Nr(i){return!!i&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(i)}function xt(i,t){i.forEach((o=>{t[o]&&(t[o]=t[o].bind(t))}))}function qt(i,t){return i.indexOf(t,i.length-t.length)!==-1}function It(i,t,o){const u={};for(const f in i)u[f]=t.call(this,i[f],f,i);return u}function Nt(i,t,o){const u={};for(const f in i)t.call(o||this,i[f],f,i)&&(u[f]=i[f]);return u}function _r(i){return Array.isArray(i)?i.map(_r):typeof i=="object"&&i?It(i,_r):i}const Se={};function Ce(i){Se[i]||(typeof console<"u"&&console.warn(i),Se[i]=!0)}function He(i,t,o){return(o.y-i.y)*(t.x-i.x)>(t.y-i.y)*(o.x-i.x)}function at(i){let t=0;for(let o,u,f=0,y=i.length,v=y-1;f<y;v=f++)o=i[f],u=i[v],t+=(u.x-o.x)*(o.y+u.y);return t}function Dt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function At(i){const t={};if(i.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((o,u,f,y)=>{const v=f||y;return t[u]=!v||v.toLowerCase(),""})),t["max-age"]){const o=parseInt(t["max-age"],10);isNaN(o)?delete t["max-age"]:t["max-age"]=o}return t}let sr=null;function mr(i){if(sr==null){const t=i.navigator?i.navigator.userAgent:null;sr=!!i.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return sr}function ar(i){try{const t=E[i];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch{return!1}}function Ut(i,t){return[i[4*t],i[4*t+1],i[4*t+2],i[4*t+3]]}const jr="mapbox-tiles";let lr,Ir,zr=500,tt=50;function vr(){try{return E.caches}catch{}}function rn(){vr()&&!lr&&(lr=E.caches.open(jr))}function Qn(i){const t=i.indexOf("?");if(t<0)return i;const o=(function(f){const y=f.indexOf("?");return y>0?f.slice(y+1).split("&"):[]})(i),u=o.filter((f=>{const y=f.split("=");return y[0]==="language"||y[0]==="worldview"}));return u.length?`${i.slice(0,t)}?${u.join("&")}`:i.slice(0,t)}let ae=1/0;const $={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze($);class q extends Error{constructor(t,o,u){o===401&&ro(u)&&(t+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(t),this.status=o,this.url=u}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Te=Dt()?()=>self.worker&&self.worker.referrer:()=>(E.location.protocol==="blob:"?E.parent:E).location.href,Ze=function(i,t){if(!(/^file:/.test(o=i.url)||/^file:/.test(Te())&&!/^\w+:/.test(o))){if(E.fetch&&E.Request&&E.AbortController&&E.Request.prototype.hasOwnProperty("signal"))return(function(u,f){const y=new E.AbortController,v=new E.Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:Te(),signal:y.signal});let S=!1,T=!1;const A=(O=v.url).indexOf("sku=")>0&&ro(O);var O;u.type==="json"&&v.headers.set("Accept","application/json");const Y=(H,W,ee)=>{if(T)return;if(H&&H.message!=="SecurityError"&&Ce(H),W&&ee)return j(W);const le=Date.now();E.fetch(v).then((De=>{if(De.ok){const ze=A?De.clone():null;return j(De,ze,le)}return f(new q(De.statusText,De.status,u.url))})).catch((De=>{De.code!==20&&f(new Error(De.message))}))},j=(H,W,ee)=>{(u.type==="arrayBuffer"?H.arrayBuffer():u.type==="json"?H.json():H.text()).then((le=>{T||(W&&ee&&(function(De,ze,Ae){if(rn(),!lr)return;const Pe={status:ze.status,statusText:ze.statusText,headers:new E.Headers};ze.headers.forEach(((wt,_t)=>Pe.headers.set(_t,wt)));const Ve=At(ze.headers.get("Cache-Control")||"");if(Ve["no-store"])return;Ve["max-age"]&&Pe.headers.set("Expires",new Date(Ae+1e3*Ve["max-age"]).toUTCString());const Ye=Pe.headers.get("Expires");Ye&&(new Date(Ye).getTime()-Ae<42e4||(function(wt,_t){if(Ir===void 0)try{new Response(new ReadableStream),Ir=!0}catch{Ir=!1}Ir?_t(wt.body):wt.blob().then(_t)})(ze,(wt=>{const _t=new E.Response(wt,Pe);rn(),lr&&lr.then((zt=>zt.put(Qn(De.url),_t))).catch((zt=>Ce(zt.message)))})))})(v,W,ee),S=!0,f(null,le,H.headers.get("Cache-Control"),H.headers.get("Expires")))})).catch((le=>{T||f(new Error(le.message))}))};return A?(function(H,W){if(rn(),!lr)return W(null);const ee=Qn(H.url);lr.then((le=>{le.match(ee).then((De=>{const ze=(function(Ae){if(!Ae)return!1;const Pe=new Date(Ae.headers.get("Expires")||0),Ve=At(Ae.headers.get("Cache-Control")||"");return Pe>Date.now()&&!Ve["no-cache"]})(De);le.delete(ee),ze&&le.put(ee,De.clone()),W(null,De,ze)})).catch(W)})).catch(W)})(v,Y):Y(null,null),{cancel:()=>{T=!0,S||y.abort()}}})(i,t);if(Dt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",i,t,void 0,!0)}var o;return(function(u,f){const y=new E.XMLHttpRequest;y.open(u.method||"GET",u.url,!0),u.type==="arrayBuffer"&&(y.responseType="arraybuffer");for(const v in u.headers)y.setRequestHeader(v,u.headers[v]);return u.type==="json"&&(y.responseType="text",y.setRequestHeader("Accept","application/json")),y.withCredentials=u.credentials==="include",y.onerror=()=>{f(new Error(y.statusText))},y.onload=()=>{if((y.status>=200&&y.status<300||y.status===0)&&y.response!==null){let v=y.response;if(u.type==="json")try{v=JSON.parse(y.response)}catch(S){return f(S)}f(null,v,y.getResponseHeader("Cache-Control"),y.getResponseHeader("Expires"))}else f(new q(y.statusText,y.status,u.url))},y.send(u.body),{cancel:()=>y.abort()}})(i,t)},ht=function(i,t){return Ze(pr(i,{type:"arrayBuffer"}),t)};function ke(i){const t=E.document.createElement("a");return t.href=i,t.protocol===E.document.location.protocol&&t.host===E.document.location.host}const Qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Wr,Xr;Wr=[],Xr=0;const nn=function(i,t){if(C.supported&&(i.headers||(i.headers={}),i.headers.accept="image/webp,*/*"),Xr>=F.MAX_PARALLEL_IMAGE_REQUESTS){const y={requestParameters:i,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return Wr.push(y),y}Xr++;let o=!1;const u=()=>{if(!o)for(o=!0,Xr--;Wr.length&&Xr<F.MAX_PARALLEL_IMAGE_REQUESTS;){const y=Wr.shift(),{requestParameters:v,callback:S,cancelled:T}=y;T||(y.cancel=nn(v,S).cancel)}},f=ht(i,((y,v,S,T)=>{u(),y?t(y):v&&(E.createImageBitmap?(function(A,O){const Y=new E.Blob([new Uint8Array(A)],{type:"image/png"});E.createImageBitmap(Y).then((j=>{O(null,j)})).catch((j=>{O(new Error(`Could not load image because of ${j.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))})(v,((A,O)=>t(A,O,S,T))):(function(A,O){const Y=new E.Image,j=E.URL;Y.onload=()=>{O(null,Y),j.revokeObjectURL(Y.src),Y.onload=null,E.requestAnimationFrame((()=>{Y.src=Qe}))},Y.onerror=()=>O(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const H=new E.Blob([new Uint8Array(A)],{type:"image/png"});Y.src=A.byteLength?j.createObjectURL(H):Qe})(v,((A,O)=>t(A,O,S,T))))}));return{cancel:()=>{f.cancel(),u()}}},Ar="NO_ACCESS_TOKEN";function ki(i){return i.indexOf("mapbox:")===0}function ro(i){return F.API_URL_REGEX.test(i)}function Yi(i){return F.API_CDN_URL_REGEX.test(i)}function jt(i){return F.API_STYLE_REGEX.test(i)&&!ur(i)}function ur(i){return F.API_SPRITE_REGEX.test(i)}const Lr=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function wr(i){const t=i.match(Lr);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Jr(i){const t=i.params.length?`?${i.params.join("&")}`:"";return`${i.protocol}://${i.authority}${i.path}${t}`}function yn(i){if(!i)return null;const t=i.split(".");if(!t||t.length!==3)return null;try{return JSON.parse(decodeURIComponent(E.atob(t[1]).split("").map((o=>"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2))).join("")))}catch{return null}}class fe{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(t){const o=yn(F.ACCESS_TOKEN);let u="";return u=o&&o.u?E.btoa(encodeURIComponent(o.u).replace(/%([0-9A-F]{2})/g,((f,y)=>String.fromCharCode(+("0x"+y))))):F.ACCESS_TOKEN||"",t?`mapbox.eventData.${t}:${u}`:`mapbox.eventData:${u}`}fetchEventData(){const t=ar("localStorage"),o=this.getStorageKey(),u=this.getStorageKey("uuid");if(t)try{const f=E.localStorage.getItem(o);f&&(this.eventData=JSON.parse(f));const y=E.localStorage.getItem(u);y&&(this.anonId=y)}catch{Ce("Unable to read from LocalStorage")}}saveEventData(){const t=ar("localStorage"),o=this.getStorageKey(),u=this.getStorageKey("uuid");if(t)try{E.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&E.localStorage.setItem(o,JSON.stringify(this.eventData))}catch{Ce("Unable to write to LocalStorage")}}processRequests(t){}postEvent(t,o,u,f){if(!F.EVENTS_URL)return;const y=wr(F.EVENTS_URL);y.params.push(`access_token=${f||F.ACCESS_TOKEN||""}`);const v={event:this.type,created:new Date(t).toISOString()},S=o?pr(v,o):v,T={url:Jr(y),headers:{"Content-Type":"text/plain"},body:JSON.stringify([S])};this.pendingRequest=(function(A,O){return Ze(pr(A,{method:"POST"}),O)})(T,(A=>{this.pendingRequest=null,u(A),this.saveEventData(),this.processRequests(f)}))}queueRequest(t,o){this.queue.push(t),this.processRequests(o)}}const X=new class extends fe{constructor(i){super("appUserTurnstile"),this._customAccessToken=i}postTurnstileEvent(i,t){F.EVENTS_URL&&F.ACCESS_TOKEN&&Array.isArray(i)&&i.some((o=>ki(o)||ro(o)))&&this.queueRequest(Date.now(),t)}processRequests(i){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=yn(F.ACCESS_TOKEN),o=t?t.u:F.ACCESS_TOKEN;let u=o!==this.eventData.tokenU;Nr(this.anonId)||(this.anonId=qr(),u=!0);const f=this.queue.shift();if(this.eventData.lastSuccess){const y=new Date(this.eventData.lastSuccess),v=new Date(f),S=(f-this.eventData.lastSuccess)/864e5;u=u||S>=1||S<-1||y.getDate()!==v.getDate()}else u=!0;u?this.postEvent(f,{sdkIdentifier:"mapbox-gl-js",sdkVersion:k,skuId:se,"enabled.telemetry":!1,userId:this.anonId},(y=>{y||(this.eventData.lastSuccess=f,this.eventData.tokenU=o)}),i):this.processRequests()}},re=X.postTurnstileEvent.bind(X),ge=new class extends fe{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(i,t,o,u){this.skuToken=t,this.errorCb=u,F.EVENTS_URL&&(o||F.ACCESS_TOKEN?this.queueRequest({id:i,timestamp:Date.now()},o):this.errorCb(new Error(Ar)))}processRequests(i){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:o}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),Nr(this.anonId)||(this.anonId=qr()),this.postEvent(o,{sdkIdentifier:"mapbox-gl-js",sdkVersion:k,skuId:se,skuToken:this.skuToken,userId:this.anonId},(u=>{u?this.errorCb(u):t&&(this.success[t]=!0)}),i))}},Le=ge.postMapLoadEvent.bind(ge),je=new class extends fe{constructor(){super("gljs.performance")}postPerformanceEvent(i,t){F.EVENTS_URL&&(i||F.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},i)}processRequests(i){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:t,performanceData:o}=this.queue.shift(),u=(function(f){const y=E.performance.getEntriesByType("resource"),v=E.performance.getEntriesByType("mark"),S=(function(j){const H={};if(j){for(const W in j)if(W!=="other")for(const ee of j[W]){const le=`${W}ResolveRangeMin`,De=`${W}ResolveRangeMax`,ze=`${W}RequestCount`,Ae=`${W}RequestCachedCount`;H[le]=Math.min(H[le]||1/0,ee.startTime),H[De]=Math.max(H[De]||-1/0,ee.responseEnd);const Pe=Ve=>{H[Ve]===void 0&&(H[Ve]=0),++H[Ve]};ee.transferSize!==void 0&&ee.transferSize===0&&Pe(Ae),Pe(ze)}}return H})((function(j,H){const W={};if(j)for(const ee of j){const le=H(ee);W[le]===void 0&&(W[le]=[]),W[le].push(ee)}return W})(y,Gt)),T=E.devicePixelRatio,A=E.navigator.connection||E.navigator.mozConnection||E.navigator.webkitConnection,O={counters:[],metadata:[],attributes:[]},Y=(j,H,W)=>{W!=null&&j.push({name:H,value:W.toString()})};for(const j in S)Y(O.counters,j,S[j]);if(f.interactionRange[0]!==1/0&&f.interactionRange[1]!==-1/0&&(Y(O.counters,"interactionRangeMin",f.interactionRange[0]),Y(O.counters,"interactionRangeMax",f.interactionRange[1])),v)for(const j of Object.keys(Rt)){const H=Rt[j],W=v.find((ee=>ee.name===H));W&&Y(O.counters,H,W.startTime)}return Y(O.counters,"visibilityHidden",f.visibilityHidden),Y(O.attributes,"style",(function(j){if(j)for(const H of j){const W=H.name.split("?")[0];if(jt(W)){const ee=W.split("/").slice(-2);if(ee.length===2)return`mapbox://styles/${ee[0]}/${ee[1]}`}}})(y)),Y(O.attributes,"terrainEnabled",f.terrainEnabled?"true":"false"),Y(O.attributes,"fogEnabled",f.fogEnabled?"true":"false"),Y(O.attributes,"projection",f.projection),Y(O.attributes,"zoom",f.zoom),Y(O.metadata,"devicePixelRatio",T),Y(O.metadata,"connectionEffectiveType",A?A.effectiveType:void 0),Y(O.metadata,"navigatorUserAgent",E.navigator.userAgent),Y(O.metadata,"screenWidth",E.screen.width),Y(O.metadata,"screenHeight",E.screen.height),Y(O.metadata,"windowWidth",E.innerWidth),Y(O.metadata,"windowHeight",E.innerHeight),Y(O.metadata,"mapWidth",f.width/T),Y(O.metadata,"mapHeight",f.height/T),Y(O.metadata,"webglRenderer",f.renderer),Y(O.metadata,"webglVendor",f.vendor),Y(O.metadata,"sdkVersion",k),Y(O.metadata,"sdkIdentifier","mapbox-gl-js"),O})(o);for(const f of u.metadata);for(const f of u.counters);for(const f of u.attributes);this.postEvent(t,u,(()=>{}),i)}},rt=je.postPerformanceEvent.bind(je),Je=new class extends fe{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(i,t,o,u){if(!F.API_URL||!F.SESSION_PATH)return;const f=wr(F.API_URL+F.SESSION_PATH);f.params.push(`sku=${t||""}`),f.params.push(`access_token=${u||F.ACCESS_TOKEN||""}`);const y={url:Jr(f),headers:{"Content-Type":"text/plain"}};this.pendingRequest=(function(v,S){return Ze(pr(v,{method:"GET"}),S)})(y,(v=>{this.pendingRequest=null,o(v),this.saveEventData(),this.processRequests(u)}))}getSessionAPI(i,t,o,u){this.skuToken=t,this.errorCb=u,F.SESSION_PATH&&F.API_URL&&(o||F.ACCESS_TOKEN?this.queueRequest({id:i,timestamp:Date.now()},o):this.errorCb(new Error(Ar)))}processRequests(i){if(this.pendingRequest||this.queue.length===0)return;const{id:t,timestamp:o}=this.queue.shift();t&&this.success[t]||this.getSession(o,this.skuToken,(u=>{u?this.errorCb(u):t&&(this.success[t]=!0)}),i)}},Ue=Je.getSessionAPI.bind(Je),et=new Set,Rt={create:"create",load:"load",fullLoad:"fullLoad"},hr={mark(i){E.performance.mark(i)},measure(i,t,o){E.performance.measure(i,t,o)}};function Gt(i){const t=i.name.split("?")[0];return Yi(t)&&t.includes("mapbox-gl.js")?"javascript":Yi(t)&&t.includes("mapbox-gl.css")?"css":(function(o){return F.API_FONTS_REGEX.test(o)})(t)?"fontRange":ur(t)?"sprite":jt(t)?"style":(function(o){return F.API_TILEJSON_REGEX.test(o)})(t)?"tilejson":"other"}const Yr=E.performance;function Or(i){const t=i?i.url.toString():void 0;return Yr.getEntriesByName(t)}let Cr,Kr,bn,Bn;const $r={now:()=>bn!==void 0?bn:E.performance.now(),setNow(i){bn=i},restoreNow(){bn=void 0},frame(i){const t=E.requestAnimationFrame(i);return{cancel:()=>E.cancelAnimationFrame(t)}},getImageData(i,t=0){const{width:o,height:u}=i;Bn||(Bn=E.document.createElement("canvas"));const f=Bn.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return(o>Bn.width||u>Bn.height)&&(Bn.width=o,Bn.height=u),f.clearRect(-t,-t,o+2*t,u+2*t),f.drawImage(i,0,0,o,u),f.getImageData(-t,-t,o+2*t,u+2*t)},resolveURL:i=>(Cr||(Cr=E.document.createElement("a")),Cr.href=i,Cr.href),get devicePixelRatio(){return E.devicePixelRatio},get prefersReducedMotion(){return!!E.matchMedia&&(Kr==null&&(Kr=E.matchMedia("(prefers-reduced-motion: reduce)")),Kr.matches)}};function ei(i,t,o){o[i]&&o[i].indexOf(t)!==-1||(o[i]=o[i]||[],o[i].push(t))}function hi(i,t,o){if(o&&o[i]){const u=o[i].indexOf(t);u!==-1&&o[i].splice(u,1)}}class Vo{constructor(t,o={}){pr(this,o),this.type=t}}class no extends Vo{constructor(t,o={}){super("error",pr({error:t},o))}}class bo{on(t,o){return this._listeners=this._listeners||{},ei(t,o,this._listeners),this}off(t,o){return hi(t,o,this._listeners),hi(t,o,this._oneTimeListeners),this}once(t,o){return o?(this._oneTimeListeners=this._oneTimeListeners||{},ei(t,o,this._oneTimeListeners),this):new Promise((u=>this.once(t,u)))}fire(t,o){typeof t=="string"&&(t=new Vo(t,o||{}));const u=t.type;if(this.listens(u)){t.target=this;const f=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const S of f)S.call(this,t);const y=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const S of y)hi(u,S,this._oneTimeListeners),S.call(this,t);const v=this._eventedParent;v&&(pr(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),v.fire(t))}else t instanceof no&&console.error(t.error);return this}listens(t){return!!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,o){return this._eventedParent=t,this._eventedParentData=o,this}}var Pt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function vo(i,...t){for(const o of t)for(const u in o)i[u]=o[u];return i}function $i(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function Ja(i){if(Array.isArray(i))return i.map(Ja);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const t={};for(const o in i)t[o]=Ja(i[o]);return t}return $i(i)}class Zd extends Error{constructor(t,o){super(o),this.message=o,this.key=t}}var Uo=Zd;class bs{constructor(t,o=[]){this.parent=t,this.bindings={};for(const[u,f]of o)this.bindings[u]=f}concat(t){return new bs(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var bu=bs;const lo={kind:"null"},br={kind:"number"},Cn={kind:"string"},Ln={kind:"boolean"},Io={kind:"color"},Qa={kind:"object"},Sn={kind:"value"},ia={kind:"collator"},vs={kind:"formatted"},es={kind:"resolvedImage"};function uo(i,t){return{kind:"array",itemType:i,N:t}}function Si(i){if(i.kind==="array"){const t=Si(i.itemType);return typeof i.N=="number"?`array<${t}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${t}>`}return i.kind}const oa=[lo,br,Cn,Ln,Io,vs,Qa,uo(Sn),es];function Ns(i,t){if(t.kind==="error")return null;if(i.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!Ns(i.itemType,t.itemType))&&(typeof i.N!="number"||i.N===t.N))return null}else{if(i.kind===t.kind)return null;if(i.kind==="value"){for(const o of oa)if(!Ns(o,t))return null}}return`Expected ${Si(i)} but found ${Si(t)} instead.`}function ka(i,t){return t.some((o=>o.kind===i.kind))}function hl(i,t){return t.some((o=>o==="null"?i===null:o==="array"?Array.isArray(i):o==="object"?i&&!Array.isArray(i)&&typeof i=="object":o===typeof i))}var Hs,vu={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function aa(i){return(i=Math.round(i))<0?0:i>255?255:i}function pl(i){return aa(i[i.length-1]==="%"?parseFloat(i)/100*255:parseInt(i))}function ml(i){return(t=i[i.length-1]==="%"?parseFloat(i)/100:parseFloat(i))<0?0:t>1?1:t;var t}function $l(i,t,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?i+(t-i)*o*6:2*o<1?t:3*o<2?i+(t-i)*(2/3-o)*6:i}try{Hs={}.parseCSSColor=function(i){var t,o=i.replace(/ /g,"").toLowerCase();if(o in vu)return vu[o].slice();if(o[0]==="#")return o.length===4?(t=parseInt(o.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:o.length===7&&(t=parseInt(o.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=o.indexOf("("),f=o.indexOf(")");if(u!==-1&&f+1===o.length){var y=o.substr(0,u),v=o.substr(u+1,f-(u+1)).split(","),S=1;switch(y){case"rgba":if(v.length!==4)return null;S=ml(v.pop());case"rgb":return v.length!==3?null:[pl(v[0]),pl(v[1]),pl(v[2]),S];case"hsla":if(v.length!==4)return null;S=ml(v.pop());case"hsl":if(v.length!==3)return null;var T=(parseFloat(v[0])%360+360)%360/360,A=ml(v[1]),O=ml(v[2]),Y=O<=.5?O*(A+1):O+A-O*A,j=2*O-Y;return[aa(255*$l(j,Y,T+1/3)),aa(255*$l(j,Y,T)),aa(255*$l(j,Y,T-1/3)),S];default:return null}}return null}}catch{}class wo{constructor(t,o,u,f=1){this.r=t,this.g=o,this.b=u,this.a=f}static parse(t){if(!t)return;if(t instanceof wo)return t;if(typeof t!="string")return;const o=Hs(t);return o?new wo(o[0]/255*o[3],o[1]/255*o[3],o[2]/255*o[3],o[3]):void 0}toString(){const[t,o,u,f]=this.toArray();return`rgba(${Math.round(t)},${Math.round(o)},${Math.round(u)},${f})`}toArray(){const{r:t,g:o,b:u,a:f}=this;return f===0?[0,0,0,0]:[255*t/f,255*o/f,255*u/f,f]}toArray01(){const{r:t,g:o,b:u,a:f}=this;return f===0?[0,0,0,0]:[t/f,o/f,u/f,f]}toArray01PremultipliedAlpha(){const{r:t,g:o,b:u,a:f}=this;return[t,o,u,f]}}wo.black=new wo(0,0,0,1),wo.white=new wo(1,1,1,1),wo.transparent=new wo(0,0,0,0),wo.red=new wo(1,0,0,1),wo.blue=new wo(0,0,1,1);var Ri=wo;class Vl{constructor(t,o,u){this.sensitivity=t?o?"variant":"case":o?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,o){return this.collator.compare(t,o)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ul{constructor(t,o,u,f,y){this.text=t.normalize?t.normalize():t,this.image=o,this.scale=u,this.fontStack=f,this.textColor=y}}class Qi{constructor(t){this.sections=t}static fromString(t){return new Qi([new Ul(t,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((t=>t.text.length!==0||t.image&&t.image.name.length!==0))}static factory(t){return t instanceof Qi?t:Qi.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map((t=>t.text)).join("")}serialize(){const t=["format"];for(const o of this.sections){if(o.image){t.push(["image",o.image.name]);continue}t.push(o.text);const u={};o.fontStack&&(u["text-font"]=["literal",o.fontStack.split(",")]),o.scale&&(u["font-scale"]=o.scale),o.textColor&&(u["text-color"]=["rgba"].concat(o.textColor.toArray())),t.push(u)}return t}}class No{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new No({name:t,available:!1}):null}serialize(){return["image",this.name]}}function td(i,t,o,u){return typeof i=="number"&&i>=0&&i<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof o=="number"&&o>=0&&o<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:`Invalid rgba value [${[i,t,o,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof u=="number"?[i,t,o,u]:[i,t,o]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Nl(i){if(i===null||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||i instanceof Ri||i instanceof Vl||i instanceof Qi||i instanceof No)return!0;if(Array.isArray(i)){for(const t of i)if(!Nl(t))return!1;return!0}if(typeof i=="object"){for(const t in i)if(!Nl(i[t]))return!1;return!0}return!1}function Ai(i){if(i===null)return lo;if(typeof i=="string")return Cn;if(typeof i=="boolean")return Ln;if(typeof i=="number")return br;if(i instanceof Ri)return Io;if(i instanceof Vl)return ia;if(i instanceof Qi)return vs;if(i instanceof No)return es;if(Array.isArray(i)){const t=i.length;let o;for(const u of i){const f=Ai(u);if(o){if(o===f)continue;o=Sn;break}o=f}return uo(o||Sn,t)}return Qa}function _l(i){const t=typeof i;return i===null?"":t==="string"||t==="number"||t==="boolean"?String(i):i instanceof Ri||i instanceof Qi||i instanceof No?i.toString():JSON.stringify(i)}class wu{constructor(t,o){this.type=t,this.value=o}static parse(t,o){if(t.length!==2)return o.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Nl(t[1]))return o.error("invalid value");const u=t[1];let f=Ai(u);const y=o.expectedType;return f.kind!=="array"||f.N!==0||!y||y.kind!=="array"||typeof y.N=="number"&&y.N!==0||(f=y),new wu(f,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ri?["rgba"].concat(this.value.toArray()):this.value instanceof Qi?this.value.serialize():this.value}}var ws=wu,eo=class{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}};const gl={string:Cn,number:br,boolean:Ln,object:Qa};class ii{constructor(t,o){this.type=t,this.args=o}static parse(t,o){if(t.length<2)return o.error("Expected at least one argument.");let u,f=1;const y=t[0];if(y==="array"){let S,T;if(t.length>2){const A=t[1];if(typeof A!="string"||!(A in gl)||A==="object")return o.error('The item type argument of "array" must be one of string, number, boolean',1);S=gl[A],f++}else S=Sn;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return o.error('The length argument to "array" must be a positive integer literal',2);T=t[2],f++}u=uo(S,T)}else u=gl[y];const v=[];for(;f<t.length;f++){const S=o.parse(t[f],f,Sn);if(!S)return null;v.push(S)}return new ii(u,v)}evaluate(t){for(let o=0;o<this.args.length;o++){const u=this.args[o].evaluate(t);if(!Ns(this.type,Ai(u)))return u;if(o===this.args.length-1)throw new eo(`Expected value to be of type ${Si(this.type)}, but found ${Si(Ai(u))} instead.`)}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=this.type,o=[t.kind];if(t.kind==="array"){const u=t.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){o.push(u.kind);const f=t.N;(typeof f=="number"||this.args.length>1)&&o.push(f)}}return o.concat(this.args.map((u=>u.serialize())))}}var Tn=ii;class xs{constructor(t){this.type=vs,this.sections=t}static parse(t,o){if(t.length<2)return o.error("Expected at least one argument.");const u=t[1];if(!Array.isArray(u)&&typeof u=="object")return o.error("First argument must be an image or text section.");const f=[];let y=!1;for(let v=1;v<=t.length-1;++v){const S=t[v];if(y&&typeof S=="object"&&!Array.isArray(S)){y=!1;let T=null;if(S["font-scale"]&&(T=o.parse(S["font-scale"],1,br),!T))return null;let A=null;if(S["text-font"]&&(A=o.parse(S["text-font"],1,uo(Cn)),!A))return null;let O=null;if(S["text-color"]&&(O=o.parse(S["text-color"],1,Io),!O))return null;const Y=f[f.length-1];Y.scale=T,Y.font=A,Y.textColor=O}else{const T=o.parse(t[v],1,Sn);if(!T)return null;const A=T.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return o.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");y=!0,f.push({content:T,scale:null,font:null,textColor:null})}}return new xs(f)}evaluate(t){return new Qi(this.sections.map((o=>{const u=o.content.evaluate(t);return Ai(u)===es?new Ul("",u,null,null,null):new Ul(_l(u),null,o.scale?o.scale.evaluate(t):null,o.font?o.font.evaluate(t).join(","):null,o.textColor?o.textColor.evaluate(t):null)})))}eachChild(t){for(const o of this.sections)t(o.content),o.scale&&t(o.scale),o.font&&t(o.font),o.textColor&&t(o.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const o of this.sections){t.push(o.content.serialize());const u={};o.scale&&(u["font-scale"]=o.scale.serialize()),o.font&&(u["text-font"]=o.font.serialize()),o.textColor&&(u["text-color"]=o.textColor.serialize()),t.push(u)}return t}}class qs{constructor(t){this.type=es,this.input=t}static parse(t,o){if(t.length!==2)return o.error("Expected two arguments.");const u=o.parse(t[1],1,Cn);return u?new qs(u):o.error("No image name provided.")}evaluate(t){const o=this.input.evaluate(t),u=No.fromString(o);return u&&t.availableImages&&(u.available=t.availableImages.indexOf(o)>-1),u}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const sc={"to-boolean":Ln,"to-color":Io,"to-number":br,"to-string":Cn};class lc{constructor(t,o){this.type=t,this.args=o}static parse(t,o){if(t.length<2)return o.error("Expected at least one argument.");const u=t[0];if((u==="to-boolean"||u==="to-string")&&t.length!==2)return o.error("Expected one argument.");const f=sc[u],y=[];for(let v=1;v<t.length;v++){const S=o.parse(t[v],v,Sn);if(!S)return null;y.push(S)}return new lc(f,y)}evaluate(t){if(this.type.kind==="boolean")return!!this.args[0].evaluate(t);if(this.type.kind==="color"){let o,u;for(const f of this.args){if(o=f.evaluate(t),u=null,o instanceof Ri)return o;if(typeof o=="string"){const y=t.parseColor(o);if(y)return y}else if(Array.isArray(o)&&(u=o.length<3||o.length>4?`Invalid rbga value ${JSON.stringify(o)}: expected an array containing either three or four numeric values.`:td(o[0],o[1],o[2],o[3]),!u))return new Ri(o[0]/255,o[1]/255,o[2]/255,o[3])}throw new eo(u||`Could not parse color from value '${typeof o=="string"?o:String(JSON.stringify(o))}'`)}if(this.type.kind==="number"){let o=null;for(const u of this.args){if(o=u.evaluate(t),o===null)return 0;const f=Number(o);if(!isNaN(f))return f}throw new eo(`Could not convert ${JSON.stringify(o)} to number.`)}return this.type.kind==="formatted"?Qi.fromString(_l(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?No.fromString(_l(this.args[0].evaluate(t))):_l(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){if(this.type.kind==="formatted")return new xs([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new qs(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild((o=>{t.push(o.serialize())})),t}}var Gs=lc;const xu=["Unknown","Point","LineString","Polygon"];var Hl=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?xu[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const i=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:o,y:u}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(o*t-i[0])+this.featureDistanceData.bearing[1]*(u*t-i[1])}return 0}parseColor(i){let t=this._parseColorCache[i];return t||(t=this._parseColorCache[i]=Ri.parse(i)),t}};class yl{constructor(t,o,u,f){this.name=t,this.type=o,this._evaluate=u,this.args=f}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((t=>t.serialize())))}static parse(t,o){const u=t[0],f=yl.definitions[u];if(!f)return o.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const y=Array.isArray(f)?f[0]:f.type,v=Array.isArray(f)?[[f[1],f[2]]]:f.overloads,S=v.filter((([A])=>!Array.isArray(A)||A.length===t.length-1));let T=null;for(const[A,O]of S){T=new ts(o.registry,o.path,null,o.scope);const Y=[];let j=!1;for(let H=1;H<t.length;H++){const W=t[H],ee=Array.isArray(A)?A[H-1]:A.type,le=T.parse(W,1+Y.length,ee);if(!le){j=!0;break}Y.push(le)}if(!j)if(Array.isArray(A)&&A.length!==Y.length)T.error(`Expected ${A.length} arguments, but found ${Y.length} instead.`);else{for(let H=0;H<Y.length;H++){const W=Array.isArray(A)?A[H]:A.type,ee=Y[H];T.concat(H+1).checkSubtype(W,ee.type)}if(T.errors.length===0)return new yl(u,y,O,Y)}}if(S.length===1)o.errors.push(...T.errors);else{const A=(S.length?S:v).map((([Y])=>{return j=Y,Array.isArray(j)?`(${j.map(Si).join(", ")})`:`(${Si(j.type)}...)`;var j})).join(" | "),O=[];for(let Y=1;Y<t.length;Y++){const j=o.parse(t[Y],1+O.length);if(!j)return null;O.push(Si(j.type))}o.error(`Expected arguments of type ${A}, but found (${O.join(", ")}) instead.`)}return null}static register(t,o){yl.definitions=o;for(const u in o)t[u]=yl}}var Li=yl;class Ti{constructor(t,o,u){this.type=ia,this.locale=u,this.caseSensitive=t,this.diacriticSensitive=o}static parse(t,o){if(t.length!==2)return o.error("Expected one argument.");const u=t[1];if(typeof u!="object"||Array.isArray(u))return o.error("Collator options argument must be an object.");const f=o.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,Ln);if(!f)return null;const y=o.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,Ln);if(!y)return null;let v=null;return u.locale&&(v=o.parse(u.locale,1,Cn),!v)?null:new Ti(f,y,v)}evaluate(t){return new Vl(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const Q=8192;function ie(i,t){i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.max(i[2],t[0]),i[3]=Math.max(i[3],t[1])}function ve(i,t){return!(i[0]<=t[0]||i[2]>=t[2]||i[1]<=t[1]||i[3]>=t[3])}function Ee(i,t){const o=(180+i[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i[1]*Math.PI/360)))/360,f=Math.pow(2,t.z);return[Math.round(o*f*Q),Math.round(u*f*Q)]}function $e(i,t,o){const u=i[0]-t[0],f=i[1]-t[1],y=i[0]-o[0],v=i[1]-o[1];return u*v-y*f==0&&u*y<=0&&f*v<=0}function yt(i,t){let o=!1;for(let v=0,S=t.length;v<S;v++){const T=t[v];for(let A=0,O=T.length;A<O-1;A++){if($e(i,T[A],T[A+1]))return!1;(f=T[A])[1]>(u=i)[1]!=(y=T[A+1])[1]>u[1]&&u[0]<(y[0]-f[0])*(u[1]-f[1])/(y[1]-f[1])+f[0]&&(o=!o)}}var u,f,y;return o}function ft(i,t){for(let o=0;o<t.length;o++)if(yt(i,t[o]))return!0;return!1}function er(i,t,o,u){const f=u[0]-o[0],y=u[1]-o[1],v=(i[0]-o[0])*y-f*(i[1]-o[1]),S=(t[0]-o[0])*y-f*(t[1]-o[1]);return v>0&&S<0||v<0&&S>0}function Ur(i,t,o){for(const A of o)for(let O=0;O<A.length-1;++O)if((S=[(v=A[O+1])[0]-(y=A[O])[0],v[1]-y[1]])[0]*(T=[(f=t)[0]-(u=i)[0],f[1]-u[1]])[1]-S[1]*T[0]!=0&&er(u,f,y,v)&&er(y,v,u,f))return!0;var u,f,y,v,S,T;return!1}function xr(i,t){for(let o=0;o<i.length;++o)if(!yt(i[o],t))return!1;for(let o=0;o<i.length-1;++o)if(Ur(i[o],i[o+1],t))return!1;return!0}function dr(i,t){for(let o=0;o<t.length;o++)if(xr(i,t[o]))return!0;return!1}function an(i,t,o){const u=[];for(let f=0;f<i.length;f++){const y=[];for(let v=0;v<i[f].length;v++){const S=Ee(i[f][v],o);ie(t,S),y.push(S)}u.push(y)}return u}function On(i,t,o){const u=[];for(let f=0;f<i.length;f++){const y=an(i[f],t,o);u.push(y)}return u}function Bi(i,t,o,u){if(i[0]<o[0]||i[0]>o[2]){const f=.5*u;let y=i[0]-o[0]>f?-u:o[0]-i[0]>f?u:0;y===0&&(y=i[0]-o[2]>f?-u:o[2]-i[0]>f?u:0),i[0]+=y}ie(t,i)}function Xt(i,t,o,u){const f=Math.pow(2,u.z)*Q,y=[u.x*Q,u.y*Q],v=[];if(!i)return v;for(const S of i)for(const T of S){const A=[T.x+y[0],T.y+y[1]];Bi(A,t,o,f),v.push(A)}return v}function cn(i,t,o,u){const f=Math.pow(2,u.z)*Q,y=[u.x*Q,u.y*Q],v=[];if(!i)return v;for(const T of i){const A=[];for(const O of T){const Y=[O.x+y[0],O.y+y[1]];ie(t,Y),A.push(Y)}v.push(A)}if(t[2]-t[0]<=f/2){(S=t)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const T of v)for(const A of T)Bi(A,t,o,f)}var S;return v}class Zr{constructor(t,o){this.type=Ln,this.geojson=t,this.geometries=o}static parse(t,o){if(t.length!==2)return o.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Nl(t[1])){const u=t[1];if(u.type==="FeatureCollection")for(let f=0;f<u.features.length;++f){const y=u.features[f].geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Zr(u,u.features[f].geometry)}else if(u.type==="Feature"){const f=u.geometry.type;if(f==="Polygon"||f==="MultiPolygon")return new Zr(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new Zr(u,u)}return o.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return(function(o,u){const f=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],v=o.canonicalID();if(!v)return!1;if(u.type==="Polygon"){const S=an(u.coordinates,y,v),T=Xt(o.geometry(),f,y,v);if(!ve(f,y))return!1;for(const A of T)if(!yt(A,S))return!1}if(u.type==="MultiPolygon"){const S=On(u.coordinates,y,v),T=Xt(o.geometry(),f,y,v);if(!ve(f,y))return!1;for(const A of T)if(!ft(A,S))return!1}return!0})(t,this.geometries);if(t.geometryType()==="LineString")return(function(o,u){const f=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],v=o.canonicalID();if(!v)return!1;if(u.type==="Polygon"){const S=an(u.coordinates,y,v),T=cn(o.geometry(),f,y,v);if(!ve(f,y))return!1;for(const A of T)if(!xr(A,S))return!1}if(u.type==="MultiPolygon"){const S=On(u.coordinates,y,v),T=cn(o.geometry(),f,y,v);if(!ve(f,y))return!1;for(const A of T)if(!dr(A,S))return!1}return!0})(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Fi=Zr;function Dn(i){if(i instanceof Li&&(i.name==="get"&&i.args.length===1||i.name==="feature-state"||i.name==="has"&&i.args.length===1||i.name==="properties"||i.name==="geometry-type"||i.name==="id"||/^filter-/.test(i.name))||i instanceof Fi)return!1;let t=!0;return i.eachChild((o=>{t&&!Dn(o)&&(t=!1)})),t}function pi(i){if(i instanceof Li&&i.name==="feature-state")return!1;let t=!0;return i.eachChild((o=>{t&&!pi(o)&&(t=!1)})),t}function Gi(i,t){if(i instanceof Li&&t.indexOf(i.name)>=0)return!1;let o=!0;return i.eachChild((u=>{o&&!Gi(u,t)&&(o=!1)})),o}class Po{constructor(t,o){this.type=o.type,this.name=t,this.boundExpression=o}static parse(t,o){if(t.length!==2||typeof t[1]!="string")return o.error("'var' expression requires exactly one string literal argument.");const u=t[1];return o.scope.has(u)?new Po(u,o.scope.get(u)):o.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var va=Po;class xo{constructor(t,o=[],u,f=new bu,y=[]){this.registry=t,this.path=o,this.key=o.map((v=>`[${v}]`)).join(""),this.scope=f,this.errors=y,this.expectedType=u}parse(t,o,u,f,y={}){return o?this.concat(o,u,f)._parse(t,y):this._parse(t,y)}_parse(t,o){function u(f,y,v){return v==="assert"?new Tn(y,[f]):v==="coerce"?new Gs(y,[f]):f}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const f=t[0];if(typeof f!="string")return this.error(`Expression name must be a string, but found ${typeof f} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const y=this.registry[f];if(y){let v=y.parse(t,this);if(!v)return null;if(this.expectedType){const S=this.expectedType,T=v.type;if(S.kind!=="string"&&S.kind!=="number"&&S.kind!=="boolean"&&S.kind!=="object"&&S.kind!=="array"||T.kind!=="value")if(S.kind!=="color"&&S.kind!=="formatted"&&S.kind!=="resolvedImage"||T.kind!=="value"&&T.kind!=="string"){if(this.checkSubtype(S,T))return null}else v=u(v,S,o.typeAnnotation||"coerce");else v=u(v,S,o.typeAnnotation||"assert")}if(!(v instanceof ws)&&v.type.kind!=="resolvedImage"&&rs(v)){const S=new Hl;try{v=new ws(v.type,v.evaluate(S))}catch(T){return this.error(T.message),null}}return v}return this.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,o,u){const f=typeof t=="number"?this.path.concat(t):this.path,y=u?this.scope.concat(u):this.scope;return new xo(this.registry,f,o||null,y,this.errors)}error(t,...o){const u=`${this.key}${o.map((f=>`[${f}]`)).join("")}`;this.errors.push(new Uo(u,t))}checkSubtype(t,o){const u=Ns(t,o);return u&&this.error(u),u}}var ts=xo;function rs(i){if(i instanceof va)return rs(i.boundExpression);if(i instanceof Li&&i.name==="error"||i instanceof Ti||i instanceof Fi)return!1;const t=i instanceof Gs||i instanceof Tn;let o=!0;return i.eachChild((u=>{o=t?o&&rs(u):o&&u instanceof ws})),!!o&&Dn(i)&&Gi(i,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function bl(i,t){const o=i.length-1;let u,f,y=0,v=o,S=0;for(;y<=v;)if(S=Math.floor((y+v)/2),u=i[S],f=i[S+1],u<=t){if(S===o||t<f)return S;y=S+1}else{if(!(u>t))throw new eo("Input is not a number.");v=S-1}return 0}class ns{constructor(t,o,u){this.type=t,this.input=o,this.labels=[],this.outputs=[];for(const[f,y]of u)this.labels.push(f),this.outputs.push(y)}static parse(t,o){if(t.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return o.error("Expected an even number of arguments.");const u=o.parse(t[1],1,br);if(!u)return null;const f=[];let y=null;o.expectedType&&o.expectedType.kind!=="value"&&(y=o.expectedType);for(let v=1;v<t.length;v+=2){const S=v===1?-1/0:t[v],T=t[v+1],A=v,O=v+1;if(typeof S!="number")return o.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(f.length&&f[f.length-1][0]>=S)return o.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const Y=o.parse(T,O,y);if(!Y)return null;y=y||Y.type,f.push([S,Y])}return new ns(y,u,f)}evaluate(t){const o=this.labels,u=this.outputs;if(o.length===1)return u[0].evaluate(t);const f=this.input.evaluate(t);if(f<=o[0])return u[0].evaluate(t);const y=o.length;return f>=o[y-1]?u[y-1].evaluate(t):u[bl(o,f)].evaluate(t)}eachChild(t){t(this.input);for(const o of this.outputs)t(o)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){const t=["step",this.input.serialize()];for(let o=0;o<this.labels.length;o++)o>0&&t.push(this.labels[o]),t.push(this.outputs[o].serialize());return t}}var sa=ns;function In(i,t,o){return i*(1-o)+t*o}var wa=Object.freeze({__proto__:null,number:In,color:function(i,t,o){return new Ri(In(i.r,t.r,o),In(i.g,t.g,o),In(i.b,t.b,o),In(i.a,t.a,o))},array:function(i,t,o){return i.map(((u,f)=>In(u,t[f],o)))}});const ql=.95047,Ho=1.08883,vl=4/29,la=6/29,uc=3*la*la,Mu=Math.PI/180,Aa=180/Math.PI;function is(i){return i>.008856451679035631?Math.pow(i,1/3):i/uc+vl}function Ws(i){return i>la?i*i*i:uc*(i-vl)}function io(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function wl(i){return(i/=255)<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function Su(i){const t=wl(i.r),o=wl(i.g),u=wl(i.b),f=is((.4124564*t+.3575761*o+.1804375*u)/ql),y=is((.2126729*t+.7151522*o+.072175*u)/1);return{l:116*y-16,a:500*(f-y),b:200*(y-is((.0193339*t+.119192*o+.9503041*u)/Ho)),alpha:i.a}}function Xd(i){let t=(i.l+16)/116,o=isNaN(i.a)?t:t+i.a/500,u=isNaN(i.b)?t:t-i.b/200;return t=1*Ws(t),o=ql*Ws(o),u=Ho*Ws(u),new Ri(io(3.2404542*o-1.5371385*t-.4985314*u),io(-.969266*o+1.8760108*t+.041556*u),io(.0556434*o-.2040259*t+1.0572252*u),i.alpha)}function Mh(i,t,o){const u=t-i;return i+o*(u>180||u<-180?u-360*Math.round(u/360):u)}const cc={forward:Su,reverse:Xd,interpolate:function(i,t,o){return{l:In(i.l,t.l,o),a:In(i.a,t.a,o),b:In(i.b,t.b,o),alpha:In(i.alpha,t.alpha,o)}}},Lu={forward:function(i){const{l:t,a:o,b:u}=Su(i),f=Math.atan2(u,o)*Aa;return{h:f<0?f+360:f,c:Math.sqrt(o*o+u*u),l:t,alpha:i.a}},reverse:function(i){const t=i.h*Mu,o=i.c;return Xd({l:i.l,a:Math.cos(t)*o,b:Math.sin(t)*o,alpha:i.alpha})},interpolate:function(i,t,o){return{h:Mh(i.h,t.h,o),c:In(i.c,t.c,o),l:In(i.l,t.l,o),alpha:In(i.alpha,t.alpha,o)}}};var Sh=Object.freeze({__proto__:null,lab:cc,hcl:Lu});class rd{constructor(t,o,u,f,y){this.type=t,this.operator=o,this.interpolation=u,this.input=f,this.labels=[],this.outputs=[];for(const[v,S]of y)this.labels.push(v),this.outputs.push(S)}static interpolationFactor(t,o,u,f){let y=0;if(t.name==="exponential")y=Kd(o,t.base,u,f);else if(t.name==="linear")y=Kd(o,1,u,f);else if(t.name==="cubic-bezier"){const v=t.controlPoints;y=new _e(v[0],v[1],v[2],v[3]).solve(Kd(o,1,u,f))}return y}static parse(t,o){let[u,f,y,...v]=t;if(!Array.isArray(f)||f.length===0)return o.error("Expected an interpolation type expression.",1);if(f[0]==="linear")f={name:"linear"};else if(f[0]==="exponential"){const A=f[1];if(typeof A!="number")return o.error("Exponential interpolation requires a numeric base.",1,1);f={name:"exponential",base:A}}else{if(f[0]!=="cubic-bezier")return o.error(`Unknown interpolation type ${String(f[0])}`,1,0);{const A=f.slice(1);if(A.length!==4||A.some((O=>typeof O!="number"||O<0||O>1)))return o.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);f={name:"cubic-bezier",controlPoints:A}}}if(t.length-1<4)return o.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return o.error("Expected an even number of arguments.");if(y=o.parse(y,2,br),!y)return null;const S=[];let T=null;u==="interpolate-hcl"||u==="interpolate-lab"?T=Io:o.expectedType&&o.expectedType.kind!=="value"&&(T=o.expectedType);for(let A=0;A<v.length;A+=2){const O=v[A],Y=v[A+1],j=A+3,H=A+4;if(typeof O!="number")return o.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(S.length&&S[S.length-1][0]>=O)return o.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',j);const W=o.parse(Y,H,T);if(!W)return null;T=T||W.type,S.push([O,W])}return T.kind==="number"||T.kind==="color"||T.kind==="array"&&T.itemType.kind==="number"&&typeof T.N=="number"?new rd(T,u,f,y,S):o.error(`Type ${Si(T)} is not interpolatable.`)}evaluate(t){const o=this.labels,u=this.outputs;if(o.length===1)return u[0].evaluate(t);const f=this.input.evaluate(t);if(f<=o[0])return u[0].evaluate(t);const y=o.length;if(f>=o[y-1])return u[y-1].evaluate(t);const v=bl(o,f),S=rd.interpolationFactor(this.interpolation,f,o[v],o[v+1]),T=u[v].evaluate(t),A=u[v+1].evaluate(t);return this.operator==="interpolate"?wa[this.type.kind.toLowerCase()](T,A,S):this.operator==="interpolate-hcl"?Lu.reverse(Lu.interpolate(Lu.forward(T),Lu.forward(A),S)):cc.reverse(cc.interpolate(cc.forward(T),cc.forward(A),S))}eachChild(t){t(this.input);for(const o of this.outputs)t(o)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){let t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const o=[this.operator,t,this.input.serialize()];for(let u=0;u<this.labels.length;u++)o.push(this.labels[u],this.outputs[u].serialize());return o}}function Kd(i,t,o,u){const f=u-o,y=i-o;return f===0?0:t===1?y/f:(Math.pow(t,y)-1)/(Math.pow(t,f)-1)}var qo=rd;class nd{constructor(t,o){this.type=t,this.args=o}static parse(t,o){if(t.length<2)return o.error("Expectected at least one argument.");let u=null;const f=o.expectedType;f&&f.kind!=="value"&&(u=f);const y=[];for(const S of t.slice(1)){const T=o.parse(S,1+y.length,u,void 0,{typeAnnotation:"omit"});if(!T)return null;u=u||T.type,y.push(T)}const v=f&&y.some((S=>Ns(f,S.type)));return new nd(v?Sn:u,y)}evaluate(t){let o,u=null,f=0;for(const y of this.args){if(f++,u=y.evaluate(t),u&&u instanceof No&&!u.available&&(o||(o=u),u=null,f===this.args.length))return o;if(u!==null)break}return u}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=["coalesce"];return this.eachChild((o=>{t.push(o.serialize())})),t}}var Jd=nd;class Tu{constructor(t,o){this.type=o.type,this.bindings=[].concat(t),this.result=o}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const o of this.bindings)t(o[1]);t(this.result)}static parse(t,o){if(t.length<4)return o.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const u=[];for(let y=1;y<t.length-1;y+=2){const v=t[y];if(typeof v!="string")return o.error(`Expected string, but found ${typeof v} instead.`,y);if(/[^a-zA-Z0-9_]/.test(v))return o.error("Variable names must contain only alphanumeric characters or '_'.",y);const S=o.parse(t[y+1],y+1);if(!S)return null;u.push([v,S])}const f=o.parse(t[t.length-1],t.length-1,o.expectedType,u);return f?new Tu(u,f):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[o,u]of this.bindings)t.push(o,u.serialize());return t.push(this.result.serialize()),t}}var Qd=Tu;class Ms{constructor(t,o,u){this.type=t,this.index=o,this.input=u}static parse(t,o){if(t.length!==3)return o.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const u=o.parse(t[1],1,br),f=o.parse(t[2],2,uo(o.expectedType||Sn));return u&&f?new Ms(f.type.itemType,u,f):null}evaluate(t){const o=this.index.evaluate(t),u=this.input.evaluate(t);if(o<0)throw new eo(`Array index out of bounds: ${o} < 0.`);if(o>=u.length)throw new eo(`Array index out of bounds: ${o} > ${u.length-1}.`);if(o!==Math.floor(o))throw new eo(`Array index must be an integer, but found ${o} instead.`);return u[o]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var dc=Ms;class id{constructor(t,o){this.type=Ln,this.needle=t,this.haystack=o}static parse(t,o){if(t.length!==3)return o.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const u=o.parse(t[1],1,Sn),f=o.parse(t[2],2,Sn);return u&&f?ka(u.type,[Ln,Cn,br,lo,Sn])?new id(u,f):o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Si(u.type)} instead`):null}evaluate(t){const o=this.needle.evaluate(t),u=this.haystack.evaluate(t);if(u==null)return!1;if(!hl(o,["boolean","string","number","null"]))throw new eo(`Expected first argument to be of type boolean, string, number or null, but found ${Si(Ai(o))} instead.`);if(!hl(u,["string","array"]))throw new eo(`Expected second argument to be of type array or string, but found ${Si(Ai(u))} instead.`);return u.indexOf(o)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Lh=id;class od{constructor(t,o,u){this.type=br,this.needle=t,this.haystack=o,this.fromIndex=u}static parse(t,o){if(t.length<=2||t.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const u=o.parse(t[1],1,Sn),f=o.parse(t[2],2,Sn);if(!u||!f)return null;if(!ka(u.type,[Ln,Cn,br,lo,Sn]))return o.error(`Expected first argument to be of type boolean, string, number or null, but found ${Si(u.type)} instead`);if(t.length===4){const y=o.parse(t[3],3,br);return y?new od(u,f,y):null}return new od(u,f)}evaluate(t){const o=this.needle.evaluate(t),u=this.haystack.evaluate(t);if(!hl(o,["boolean","string","number","null"]))throw new eo(`Expected first argument to be of type boolean, string, number or null, but found ${Si(Ai(o))} instead.`);if(!hl(u,["string","array"]))throw new eo(`Expected second argument to be of type array or string, but found ${Si(Ai(u))} instead.`);if(this.fromIndex){const f=this.fromIndex.evaluate(t);return u.indexOf(o,f)}return u.indexOf(o)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Eu=od;class xa{constructor(t,o,u,f,y,v){this.inputType=t,this.type=o,this.input=u,this.cases=f,this.outputs=y,this.otherwise=v}static parse(t,o){if(t.length<5)return o.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return o.error("Expected an even number of arguments.");let u,f;o.expectedType&&o.expectedType.kind!=="value"&&(f=o.expectedType);const y={},v=[];for(let A=2;A<t.length-1;A+=2){let O=t[A];const Y=t[A+1];Array.isArray(O)||(O=[O]);const j=o.concat(A);if(O.length===0)return j.error("Expected at least one branch label.");for(const W of O){if(typeof W!="number"&&typeof W!="string")return j.error("Branch labels must be numbers or strings.");if(typeof W=="number"&&Math.abs(W)>Number.MAX_SAFE_INTEGER)return j.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof W=="number"&&Math.floor(W)!==W)return j.error("Numeric branch labels must be integer values.");if(u){if(j.checkSubtype(u,Ai(W)))return null}else u=Ai(W);if(y[String(W)]!==void 0)return j.error("Branch labels must be unique.");y[String(W)]=v.length}const H=o.parse(Y,A,f);if(!H)return null;f=f||H.type,v.push(H)}const S=o.parse(t[1],1,Sn);if(!S)return null;const T=o.parse(t[t.length-1],t.length-1,f);return T?S.type.kind!=="value"&&o.concat(1).checkSubtype(u,S.type)?null:new xa(u,f,S,y,v,T):null}evaluate(t){const o=this.input.evaluate(t);return(Ai(o)===this.inputType&&this.outputs[this.cases[o]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],o=Object.keys(this.cases).sort(),u=[],f={};for(const v of o){const S=f[this.cases[v]];S===void 0?(f[this.cases[v]]=u.length,u.push([this.cases[v],[v]])):u[S][1].push(v)}const y=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,S]of u)t.push(S.length===1?y(S[0]):S.map(y)),t.push(this.outputs[v].serialize());return t.push(this.otherwise.serialize()),t}}var Th=xa;class ku{constructor(t,o,u){this.type=t,this.branches=o,this.otherwise=u}static parse(t,o){if(t.length<4)return o.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return o.error("Expected an odd number of arguments.");let u;o.expectedType&&o.expectedType.kind!=="value"&&(u=o.expectedType);const f=[];for(let v=1;v<t.length-1;v+=2){const S=o.parse(t[v],v,Ln);if(!S)return null;const T=o.parse(t[v+1],v+1,u);if(!T)return null;f.push([S,T]),u=u||T.type}const y=o.parse(t[t.length-1],t.length-1,u);return y?new ku(u,f,y):null}evaluate(t){for(const[o,u]of this.branches)if(o.evaluate(t))return u.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[o,u]of this.branches)t(o),t(u);t(this.otherwise)}outputDefined(){return this.branches.every((([t,o])=>o.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild((o=>{t.push(o.serialize())})),t}}var Eh=ku;class fc{constructor(t,o,u,f){this.type=t,this.input=o,this.beginIndex=u,this.endIndex=f}static parse(t,o){if(t.length<=2||t.length>=5)return o.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const u=o.parse(t[1],1,Sn),f=o.parse(t[2],2,br);if(!u||!f)return null;if(!ka(u.type,[uo(Sn),Cn,Sn]))return o.error(`Expected first argument to be of type array or string, but found ${Si(u.type)} instead`);if(t.length===4){const y=o.parse(t[3],3,br);return y?new fc(u.type,u,f,y):null}return new fc(u.type,u,f)}evaluate(t){const o=this.input.evaluate(t),u=this.beginIndex.evaluate(t);if(!hl(o,["string","array"]))throw new eo(`Expected first argument to be of type array or string, but found ${Si(Ai(o))} instead.`);if(this.endIndex){const f=this.endIndex.evaluate(t);return o.slice(u,f)}return o.slice(u)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var hm=fc;function kh(i,t){return i==="=="||i==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Gl(i,t,o,u){return u.compare(t,o)===0}function nt(i,t,o){const u=i!=="=="&&i!=="!=";return class d3{constructor(y,v,S){this.type=Ln,this.lhs=y,this.rhs=v,this.collator=S,this.hasUntypedArgument=y.type.kind==="value"||v.type.kind==="value"}static parse(y,v){if(y.length!==3&&y.length!==4)return v.error("Expected two or three arguments.");const S=y[0];let T=v.parse(y[1],1,Sn);if(!T)return null;if(!kh(S,T.type))return v.concat(1).error(`"${S}" comparisons are not supported for type '${Si(T.type)}'.`);let A=v.parse(y[2],2,Sn);if(!A)return null;if(!kh(S,A.type))return v.concat(2).error(`"${S}" comparisons are not supported for type '${Si(A.type)}'.`);if(T.type.kind!==A.type.kind&&T.type.kind!=="value"&&A.type.kind!=="value")return v.error(`Cannot compare types '${Si(T.type)}' and '${Si(A.type)}'.`);u&&(T.type.kind==="value"&&A.type.kind!=="value"?T=new Tn(A.type,[T]):T.type.kind!=="value"&&A.type.kind==="value"&&(A=new Tn(T.type,[A])));let O=null;if(y.length===4){if(T.type.kind!=="string"&&A.type.kind!=="string"&&T.type.kind!=="value"&&A.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(O=v.parse(y[3],3,ia),!O)return null}return new d3(T,A,O)}evaluate(y){const v=this.lhs.evaluate(y),S=this.rhs.evaluate(y);if(u&&this.hasUntypedArgument){const T=Ai(v),A=Ai(S);if(T.kind!==A.kind||T.kind!=="string"&&T.kind!=="number")throw new eo(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${T.kind}, ${A.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const T=Ai(v),A=Ai(S);if(T.kind!=="string"||A.kind!=="string")return t(y,v,S)}return this.collator?o(y,v,S,this.collator.evaluate(y)):t(y,v,S)}eachChild(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)}outputDefined(){return!0}serialize(){const y=[i];return this.eachChild((v=>{y.push(v.serialize())})),y}}}const Wt=nt("==",(function(i,t,o){return t===o}),Gl),Ot=nt("!=",(function(i,t,o){return t!==o}),(function(i,t,o,u){return!Gl(0,t,o,u)})),Hr=nt("<",(function(i,t,o){return t<o}),(function(i,t,o,u){return u.compare(t,o)<0})),kn=nt(">",(function(i,t,o){return t>o}),(function(i,t,o,u){return u.compare(t,o)>0})),si=nt("<=",(function(i,t,o){return t<=o}),(function(i,t,o,u){return u.compare(t,o)<=0})),co=nt(">=",(function(i,t,o){return t>=o}),(function(i,t,o,u){return u.compare(t,o)>=0}));class vi{constructor(t,o,u,f,y,v){this.type=Cn,this.number=t,this.locale=o,this.currency=u,this.unit=f,this.minFractionDigits=y,this.maxFractionDigits=v}static parse(t,o){if(t.length!==3)return o.error("Expected two arguments.");const u=o.parse(t[1],1,br);if(!u)return null;const f=t[2];if(typeof f!="object"||Array.isArray(f))return o.error("NumberFormat options argument must be an object.");let y=null;if(f.locale&&(y=o.parse(f.locale,1,Cn),!y))return null;let v=null;if(f.currency&&(v=o.parse(f.currency,1,Cn),!v))return null;let S=null;if(f.unit&&(S=o.parse(f.unit,1,Cn),!S))return null;let T=null;if(f["min-fraction-digits"]&&(T=o.parse(f["min-fraction-digits"],1,br),!T))return null;let A=null;return f["max-fraction-digits"]&&(A=o.parse(f["max-fraction-digits"],1,br),!A)?null:new vi(u,y,v,S,T,A)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class hc{constructor(t){this.type=br,this.input=t}static parse(t,o){if(t.length!==2)return o.error(`Expected 1 argument, but found ${t.length-1} instead.`);const u=o.parse(t[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?o.error(`Expected argument of type string or array, but found ${Si(u.type)} instead.`):new hc(u):null}evaluate(t){const o=this.input.evaluate(t);if(typeof o=="string"||Array.isArray(o))return o.length;throw new eo(`Expected value to be of type string or array, but found ${Si(Ai(o))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild((o=>{t.push(o.serialize())})),t}}const Ah={"==":Wt,"!=":Ot,">":kn,"<":Hr,">=":co,"<=":si,array:Tn,at:dc,boolean:Tn,case:Eh,coalesce:Jd,collator:Ti,format:xs,image:qs,in:Lh,"index-of":Eu,interpolate:qo,"interpolate-hcl":qo,"interpolate-lab":qo,length:hc,let:Qd,literal:ws,match:Th,number:Tn,"number-format":vi,object:Tn,slice:hm,step:sa,string:Tn,"to-boolean":Gs,"to-color":Gs,"to-number":Gs,"to-string":Gs,var:va,within:Fi};function Ma(i,[t,o,u,f]){t=t.evaluate(i),o=o.evaluate(i),u=u.evaluate(i);const y=f?f.evaluate(i):1,v=td(t,o,u,y);if(v)throw new eo(v);return new Ri(t/255*y,o/255*y,u/255*y,y)}function Au(i,t){return i in t}function ad(i,t){const o=t[i];return o===void 0?null:o}function Go(i){return{type:i}}Li.register(Ah,{error:[{kind:"error"},[Cn],(i,[t])=>{throw new eo(t.evaluate(i))}],typeof:[Cn,[Sn],(i,[t])=>Si(Ai(t.evaluate(i)))],"to-rgba":[uo(br,4),[Io],(i,[t])=>t.evaluate(i).toArray()],rgb:[Io,[br,br,br],Ma],rgba:[Io,[br,br,br,br],Ma],has:{type:Ln,overloads:[[[Cn],(i,[t])=>Au(t.evaluate(i),i.properties())],[[Cn,Qa],(i,[t,o])=>Au(t.evaluate(i),o.evaluate(i))]]},get:{type:Sn,overloads:[[[Cn],(i,[t])=>ad(t.evaluate(i),i.properties())],[[Cn,Qa],(i,[t,o])=>ad(t.evaluate(i),o.evaluate(i))]]},"feature-state":[Sn,[Cn],(i,[t])=>ad(t.evaluate(i),i.featureState||{})],properties:[Qa,[],i=>i.properties()],"geometry-type":[Cn,[],i=>i.geometryType()],id:[Sn,[],i=>i.id()],zoom:[br,[],i=>i.globals.zoom],pitch:[br,[],i=>i.globals.pitch||0],"distance-from-center":[br,[],i=>i.distanceFromCenter()],"heatmap-density":[br,[],i=>i.globals.heatmapDensity||0],"line-progress":[br,[],i=>i.globals.lineProgress||0],"sky-radial-progress":[br,[],i=>i.globals.skyRadialProgress||0],accumulated:[Sn,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[br,Go(br),(i,t)=>{let o=0;for(const u of t)o+=u.evaluate(i);return o}],"*":[br,Go(br),(i,t)=>{let o=1;for(const u of t)o*=u.evaluate(i);return o}],"-":{type:br,overloads:[[[br,br],(i,[t,o])=>t.evaluate(i)-o.evaluate(i)],[[br],(i,[t])=>-t.evaluate(i)]]},"/":[br,[br,br],(i,[t,o])=>t.evaluate(i)/o.evaluate(i)],"%":[br,[br,br],(i,[t,o])=>t.evaluate(i)%o.evaluate(i)],ln2:[br,[],()=>Math.LN2],pi:[br,[],()=>Math.PI],e:[br,[],()=>Math.E],"^":[br,[br,br],(i,[t,o])=>Math.pow(t.evaluate(i),o.evaluate(i))],sqrt:[br,[br],(i,[t])=>Math.sqrt(t.evaluate(i))],log10:[br,[br],(i,[t])=>Math.log(t.evaluate(i))/Math.LN10],ln:[br,[br],(i,[t])=>Math.log(t.evaluate(i))],log2:[br,[br],(i,[t])=>Math.log(t.evaluate(i))/Math.LN2],sin:[br,[br],(i,[t])=>Math.sin(t.evaluate(i))],cos:[br,[br],(i,[t])=>Math.cos(t.evaluate(i))],tan:[br,[br],(i,[t])=>Math.tan(t.evaluate(i))],asin:[br,[br],(i,[t])=>Math.asin(t.evaluate(i))],acos:[br,[br],(i,[t])=>Math.acos(t.evaluate(i))],atan:[br,[br],(i,[t])=>Math.atan(t.evaluate(i))],min:[br,Go(br),(i,t)=>Math.min(...t.map((o=>o.evaluate(i))))],max:[br,Go(br),(i,t)=>Math.max(...t.map((o=>o.evaluate(i))))],abs:[br,[br],(i,[t])=>Math.abs(t.evaluate(i))],round:[br,[br],(i,[t])=>{const o=t.evaluate(i);return o<0?-Math.round(-o):Math.round(o)}],floor:[br,[br],(i,[t])=>Math.floor(t.evaluate(i))],ceil:[br,[br],(i,[t])=>Math.ceil(t.evaluate(i))],"filter-==":[Ln,[Cn,Sn],(i,[t,o])=>i.properties()[t.value]===o.value],"filter-id-==":[Ln,[Sn],(i,[t])=>i.id()===t.value],"filter-type-==":[Ln,[Cn],(i,[t])=>i.geometryType()===t.value],"filter-<":[Ln,[Cn,Sn],(i,[t,o])=>{const u=i.properties()[t.value],f=o.value;return typeof u==typeof f&&u<f}],"filter-id-<":[Ln,[Sn],(i,[t])=>{const o=i.id(),u=t.value;return typeof o==typeof u&&o<u}],"filter->":[Ln,[Cn,Sn],(i,[t,o])=>{const u=i.properties()[t.value],f=o.value;return typeof u==typeof f&&u>f}],"filter-id->":[Ln,[Sn],(i,[t])=>{const o=i.id(),u=t.value;return typeof o==typeof u&&o>u}],"filter-<=":[Ln,[Cn,Sn],(i,[t,o])=>{const u=i.properties()[t.value],f=o.value;return typeof u==typeof f&&u<=f}],"filter-id-<=":[Ln,[Sn],(i,[t])=>{const o=i.id(),u=t.value;return typeof o==typeof u&&o<=u}],"filter->=":[Ln,[Cn,Sn],(i,[t,o])=>{const u=i.properties()[t.value],f=o.value;return typeof u==typeof f&&u>=f}],"filter-id->=":[Ln,[Sn],(i,[t])=>{const o=i.id(),u=t.value;return typeof o==typeof u&&o>=u}],"filter-has":[Ln,[Sn],(i,[t])=>t.value in i.properties()],"filter-has-id":[Ln,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[Ln,[uo(Cn)],(i,[t])=>t.value.indexOf(i.geometryType())>=0],"filter-id-in":[Ln,[uo(Sn)],(i,[t])=>t.value.indexOf(i.id())>=0],"filter-in-small":[Ln,[Cn,uo(Sn)],(i,[t,o])=>o.value.indexOf(i.properties()[t.value])>=0],"filter-in-large":[Ln,[Cn,uo(Sn)],(i,[t,o])=>(function(u,f,y,v){for(;y<=v;){const S=y+v>>1;if(f[S]===u)return!0;f[S]>u?v=S-1:y=S+1}return!1})(i.properties()[t.value],o.value,0,o.value.length-1)],all:{type:Ln,overloads:[[[Ln,Ln],(i,[t,o])=>t.evaluate(i)&&o.evaluate(i)],[Go(Ln),(i,t)=>{for(const o of t)if(!o.evaluate(i))return!1;return!0}]]},any:{type:Ln,overloads:[[[Ln,Ln],(i,[t,o])=>t.evaluate(i)||o.evaluate(i)],[Go(Ln),(i,t)=>{for(const o of t)if(o.evaluate(i))return!0;return!1}]]},"!":[Ln,[Ln],(i,[t])=>!t.evaluate(i)],"is-supported-script":[Ln,[Cn],(i,[t])=>{const o=i.globals&&i.globals.isSupportedScript;return!o||o(t.evaluate(i))}],upcase:[Cn,[Cn],(i,[t])=>t.evaluate(i).toUpperCase()],downcase:[Cn,[Cn],(i,[t])=>t.evaluate(i).toLowerCase()],concat:[Cn,Go(Sn),(i,t)=>t.map((o=>_l(o.evaluate(i)))).join("")],"resolved-locale":[Cn,[ia],(i,[t])=>t.evaluate(i).resolvedLocale()]});var xl=Ah;function pc(i){return{result:"success",value:i}}function Rn(i){return{result:"error",value:i}}function Wl(i){return i["property-type"]==="data-driven"}function Ml(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function Cu(i){return!!i.expression&&i.expression.interpolated}function ti(i){return i instanceof Number?"number":i instanceof String?"string":i instanceof Boolean?"boolean":Array.isArray(i)?"array":i===null?"null":typeof i}function mc(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}function pm(i){return i}function Zl(i,t){const o=t.type==="color",u=i.stops&&typeof i.stops[0][0]=="object",f=u||!(u||i.property!==void 0),y=i.type||(Cu(t)?"exponential":"interval");if(o&&((i=vo({},i)).stops&&(i.stops=i.stops.map((A=>[A[0],Ri.parse(A[1])]))),i.default=Ri.parse(i.default?i.default:t.default)),i.colorSpace&&i.colorSpace!=="rgb"&&!Sh[i.colorSpace])throw new Error(`Unknown color space: ${i.colorSpace}`);let v,S,T;if(y==="exponential")v=Iu;else if(y==="interval")v=ef;else if(y==="categorical"){v=Du,S=Object.create(null);for(const A of i.stops)S[A[0]]=A[1];T=typeof i.stops[0][0]}else{if(y!=="identity")throw new Error(`Unknown function type "${y}"`);v=sd}if(u){const A={},O=[];for(let H=0;H<i.stops.length;H++){const W=i.stops[H],ee=W[0].zoom;A[ee]===void 0&&(A[ee]={zoom:ee,type:i.type,property:i.property,default:i.default,stops:[]},O.push(ee)),A[ee].stops.push([W[0].value,W[1]])}const Y=[];for(const H of O)Y.push([A[H].zoom,Zl(A[H],t)]);const j={name:"linear"};return{kind:"composite",interpolationType:j,interpolationFactor:qo.interpolationFactor.bind(void 0,j),zoomStops:Y.map((H=>H[0])),evaluate:({zoom:H},W)=>Iu({stops:Y,base:i.base},t,H).evaluate(H,W)}}if(f){const A=y==="exponential"?{name:"exponential",base:i.base!==void 0?i.base:1}:null;return{kind:"camera",interpolationType:A,interpolationFactor:qo.interpolationFactor.bind(void 0,A),zoomStops:i.stops.map((O=>O[0])),evaluate:({zoom:O})=>v(i,t,O,S,T)}}return{kind:"source",evaluate(A,O){const Y=O&&O.properties?O.properties[i.property]:void 0;return Y===void 0?Sa(i.default,t.default):v(i,t,Y,S,T)}}}function Sa(i,t,o){return i!==void 0?i:t!==void 0?t:o!==void 0?o:void 0}function Du(i,t,o,u,f){return Sa(typeof o===f?u[o]:void 0,i.default,t.default)}function ef(i,t,o){if(ti(o)!=="number")return Sa(i.default,t.default);const u=i.stops.length;if(u===1||o<=i.stops[0][0])return i.stops[0][1];if(o>=i.stops[u-1][0])return i.stops[u-1][1];const f=bl(i.stops.map((y=>y[0])),o);return i.stops[f][1]}function Iu(i,t,o){const u=i.base!==void 0?i.base:1;if(ti(o)!=="number")return Sa(i.default,t.default);const f=i.stops.length;if(f===1||o<=i.stops[0][0])return i.stops[0][1];if(o>=i.stops[f-1][0])return i.stops[f-1][1];const y=bl(i.stops.map((O=>O[0])),o),v=(function(O,Y,j,H){const W=H-j,ee=O-j;return W===0?0:Y===1?ee/W:(Math.pow(Y,ee)-1)/(Math.pow(Y,W)-1)})(o,u,i.stops[y][0],i.stops[y+1][0]),S=i.stops[y][1],T=i.stops[y+1][1];let A=wa[t.type]||pm;if(i.colorSpace&&i.colorSpace!=="rgb"){const O=Sh[i.colorSpace];A=(Y,j)=>O.reverse(O.interpolate(O.forward(Y),O.forward(j),v))}return typeof S.evaluate=="function"?{evaluate(...O){const Y=S.evaluate.apply(void 0,O),j=T.evaluate.apply(void 0,O);if(Y!==void 0&&j!==void 0)return A(Y,j,v)}}:A(S,T,v)}function sd(i,t,o){return t.type==="color"?o=Ri.parse(o):t.type==="formatted"?o=Qi.fromString(o.toString()):t.type==="resolvedImage"?o=No.fromString(o.toString()):ti(o)===t.type||t.type==="enum"&&t.values[o]||(o=void 0),Sa(o,i.default,t.default)}class _c{constructor(t,o){this.expression=t,this._warningHistory={},this._evaluator=new Hl,this._defaultValue=o?(function(u){return u.type==="color"&&(mc(u.default)||Array.isArray(u.default))?new Ri(0,0,0,0):u.type==="color"?Ri.parse(u.default)||null:u.default===void 0?null:u.default})(o):null,this._enumValues=o&&o.type==="enum"?o.values:null}evaluateWithoutErrorHandling(t,o,u,f,y,v,S,T){return this._evaluator.globals=t,this._evaluator.feature=o,this._evaluator.featureState=u,this._evaluator.canonical=f||null,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=T||null,this.expression.evaluate(this._evaluator)}evaluate(t,o,u,f,y,v,S,T){this._evaluator.globals=t,this._evaluator.feature=o||null,this._evaluator.featureState=u||null,this._evaluator.canonical=f||null,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=T||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new eo(`Expected value to be one of ${Object.keys(this._enumValues).map((O=>JSON.stringify(O))).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function Sl(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in xl}function Zs(i,t){const o=new ts(xl,[],t?(function(f){const y={color:Io,string:Cn,number:br,enum:Cn,boolean:Ln,formatted:vs,resolvedImage:es};return f.type==="array"?uo(y[f.value]||Sn,f.length):y[f.type]})(t):void 0),u=o.parse(i,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return u?pc(new _c(u,t)):Rn(o.errors)}class Ca{constructor(t,o){this.kind=t,this._styleExpression=o,this.isStateDependent=t!=="constant"&&!pi(o.expression)}evaluateWithoutErrorHandling(t,o,u,f,y,v){return this._styleExpression.evaluateWithoutErrorHandling(t,o,u,f,y,v)}evaluate(t,o,u,f,y,v){return this._styleExpression.evaluate(t,o,u,f,y,v)}}class Ss{constructor(t,o,u,f){this.kind=t,this.zoomStops=u,this._styleExpression=o,this.isStateDependent=t!=="camera"&&!pi(o.expression),this.interpolationType=f}evaluateWithoutErrorHandling(t,o,u,f,y,v){return this._styleExpression.evaluateWithoutErrorHandling(t,o,u,f,y,v)}evaluate(t,o,u,f,y,v){return this._styleExpression.evaluate(t,o,u,f,y,v)}interpolationFactor(t,o,u){return this.interpolationType?qo.interpolationFactor(this.interpolationType,t,o,u):0}}function Pu(i,t){if((i=Zs(i,t)).result==="error")return i;const o=i.value.expression,u=Dn(o);if(!u&&!Wl(t))return Rn([new Uo("","data expressions not supported")]);const f=Gi(o,["zoom","pitch","distance-from-center"]);if(!f&&!Ml(t))return Rn([new Uo("","zoom expressions not supported")]);const y=gc(o);return y||f?y instanceof Uo?Rn([y]):y instanceof qo&&!Cu(t)?Rn([new Uo("",'"interpolate" expressions cannot be used with this property')]):pc(y?new Ss(u?"camera":"composite",i.value,y.labels,y instanceof qo?y.interpolation:void 0):new Ca(u?"constant":"source",i.value)):Rn([new Uo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ou{constructor(t,o){this._parameters=t,this._specification=o,vo(this,Zl(this._parameters,this._specification))}static deserialize(t){return new Ou(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function gc(i){let t=null;if(i instanceof Qd)t=gc(i.result);else if(i instanceof Jd){for(const o of i.args)if(t=gc(o),t)break}else(i instanceof sa||i instanceof qo)&&i.input instanceof Li&&i.input.name==="zoom"&&(t=i);return t instanceof Uo||i.eachChild((o=>{const u=gc(o);u instanceof Uo?t=u:!t&&u?t=new Uo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&u&&t!==u&&(t=new Uo("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}class Tr{constructor(t,o,u,f){this.message=(t?`${t}: `:"")+u,f&&(this.identifier=f),o!=null&&o.__line__&&(this.line=o.__line__)}}function Wo(i){const t=i.key,o=i.value,u=i.valueSpec||{},f=i.objectElementValidators||{},y=i.style,v=i.styleSpec;let S=[];const T=ti(o);if(T!=="object")return[new Tr(t,o,`object expected, ${T} found`)];for(const A in o){const O=A.split(".")[0],Y=u[O]||u["*"];let j;f[O]?j=f[O]:u[O]?j=Oo:f["*"]?j=f["*"]:u["*"]&&(j=Oo),j?S=S.concat(j({key:(t&&`${t}.`)+A,value:o[A],valueSpec:Y,style:y,styleSpec:v,object:o,objectKey:A},o)):S.push(new Tr(t,o[A],`unknown property "${A}"`))}for(const A in u)f[A]||u[A].required&&u[A].default===void 0&&o[A]===void 0&&S.push(new Tr(t,o,`missing required property "${A}"`));return S}function Ll(i){const t=i.value,o=i.valueSpec,u=i.style,f=i.styleSpec,y=i.key,v=i.arrayElementValidator||Oo;if(ti(t)!=="array")return[new Tr(y,t,`array expected, ${ti(t)} found`)];if(o.length&&t.length!==o.length)return[new Tr(y,t,`array length ${o.length} expected, length ${t.length} found`)];if(o["min-length"]&&t.length<o["min-length"])return[new Tr(y,t,`array length at least ${o["min-length"]} expected, length ${t.length} found`)];let S={type:o.value,values:o.values,minimum:o.minimum,maximum:o.maximum,function:void 0};f.$version<7&&(S.function=o.function),ti(o.value)==="object"&&(S=o.value);let T=[];for(let A=0;A<t.length;A++)T=T.concat(v({array:t,arrayIndex:A,value:t[A],valueSpec:S,style:u,styleSpec:f,key:`${y}[${A}]`}));return T}function ld(i){const t=i.key,o=i.value,u=i.valueSpec;let f=ti(o);if(f==="number"&&o!=o&&(f="NaN"),f!=="number")return[new Tr(t,o,`number expected, ${f} found`)];if("minimum"in u){let y=u.minimum;if(ti(u.minimum)==="array"&&(y=u.minimum[i.arrayIndex]),o<y)return[new Tr(t,o,`${o} is less than the minimum value ${y}`)]}if("maximum"in u){let y=u.maximum;if(ti(u.maximum)==="array"&&(y=u.maximum[i.arrayIndex]),o>y)return[new Tr(t,o,`${o} is greater than the maximum value ${y}`)]}return[]}function Ch(i){const t=i.valueSpec,o=$i(i.value.type);let u,f,y,v={};const S=o!=="categorical"&&i.value.property===void 0,T=!S,A=ti(i.value.stops)==="array"&&ti(i.value.stops[0])==="array"&&ti(i.value.stops[0][0])==="object",O=Wo({key:i.key,value:i.value,valueSpec:i.styleSpec.function,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{stops:function(H){if(o==="identity")return[new Tr(H.key,H.value,'identity function may not have a "stops" property')];let W=[];const ee=H.value;return W=W.concat(Ll({key:H.key,value:ee,valueSpec:H.valueSpec,style:H.style,styleSpec:H.styleSpec,arrayElementValidator:Y})),ti(ee)==="array"&&ee.length===0&&W.push(new Tr(H.key,ee,"array must have at least one stop")),W},default:function(H){return Oo({key:H.key,value:H.value,valueSpec:t,style:H.style,styleSpec:H.styleSpec})}}});return o==="identity"&&S&&O.push(new Tr(i.key,i.value,'missing required property "property"')),o==="identity"||i.value.stops||O.push(new Tr(i.key,i.value,'missing required property "stops"')),o==="exponential"&&i.valueSpec.expression&&!Cu(i.valueSpec)&&O.push(new Tr(i.key,i.value,"exponential functions not supported")),i.styleSpec.$version>=8&&(T&&!Wl(i.valueSpec)?O.push(new Tr(i.key,i.value,"property functions not supported")):S&&!Ml(i.valueSpec)&&O.push(new Tr(i.key,i.value,"zoom functions not supported"))),o!=="categorical"&&!A||i.value.property!==void 0||O.push(new Tr(i.key,i.value,'"property" property is required')),O;function Y(H){let W=[];const ee=H.value,le=H.key;if(ti(ee)!=="array")return[new Tr(le,ee,`array expected, ${ti(ee)} found`)];if(ee.length!==2)return[new Tr(le,ee,`array length 2 expected, length ${ee.length} found`)];if(A){if(ti(ee[0])!=="object")return[new Tr(le,ee,`object expected, ${ti(ee[0])} found`)];if(ee[0].zoom===void 0)return[new Tr(le,ee,"object stop key must have zoom")];if(ee[0].value===void 0)return[new Tr(le,ee,"object stop key must have value")];const De=$i(ee[0].zoom);if(typeof De!="number")return[new Tr(le,ee[0].zoom,"stop zoom values must be numbers")];if(y&&y>De)return[new Tr(le,ee[0].zoom,"stop zoom values must appear in ascending order")];De!==y&&(y=De,f=void 0,v={}),W=W.concat(Wo({key:`${le}[0]`,value:ee[0],valueSpec:{zoom:{}},style:H.style,styleSpec:H.styleSpec,objectElementValidators:{zoom:ld,value:j}}))}else W=W.concat(j({key:`${le}[0]`,value:ee[0],style:H.style,styleSpec:H.styleSpec},ee));return Sl(Ja(ee[1]))?W.concat([new Tr(`${le}[1]`,ee[1],"expressions are not allowed in function stops.")]):W.concat(Oo({key:`${le}[1]`,value:ee[1],valueSpec:t,style:H.style,styleSpec:H.styleSpec}))}function j(H,W){const ee=ti(H.value),le=$i(H.value),De=H.value!==null?H.value:W;if(u){if(ee!==u)return[new Tr(H.key,De,`${ee} stop domain type must match previous stop domain type ${u}`)]}else u=ee;if(ee!=="number"&&ee!=="string"&&ee!=="boolean"&&typeof le!="number"&&typeof le!="string"&&typeof le!="boolean")return[new Tr(H.key,De,"stop domain value must be a number, string, or boolean")];if(ee!=="number"&&o!=="categorical"){let ze=`number expected, ${ee} found`;return Wl(t)&&o===void 0&&(ze+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Tr(H.key,De,ze)]}return o!=="categorical"||ee!=="number"||typeof le=="number"&&isFinite(le)&&Math.floor(le)===le?o!=="categorical"&&ee==="number"&&typeof le=="number"&&typeof f=="number"&&f!==void 0&&le<f?[new Tr(H.key,De,"stop domain values must appear in ascending order")]:(f=le,o==="categorical"&&le in v?[new Tr(H.key,De,"stop domain values must be unique")]:(v[le]=!0,[])):[new Tr(H.key,De,`integer expected, found ${String(le)}`)]}}function Xl(i){const t=(i.expressionContext==="property"?Pu:Zs)(Ja(i.value),i.valueSpec);if(t.result==="error")return t.value.map((u=>new Tr(`${i.key}${u.key}`,i.value,u.message)));const o=t.value.expression||t.value._styleExpression.expression;if(i.expressionContext==="property"&&i.propertyKey==="text-font"&&!o.outputDefined())return[new Tr(i.key,i.value,`Invalid data expression for "${i.propertyKey}". Output values must be contained as literals within the expression.`)];if(i.expressionContext==="property"&&i.propertyType==="layout"&&!pi(o))return[new Tr(i.key,i.value,'"feature-state" data expressions are not supported with layout properties.')];if(i.expressionContext==="filter")return Dh(o,i);if(i.expressionContext&&i.expressionContext.indexOf("cluster")===0){if(!Gi(o,["zoom","feature-state"]))return[new Tr(i.key,i.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(i.expressionContext==="cluster-initial"&&!Dn(o))return[new Tr(i.key,i.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Dh(i,t){const o=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression)for(const f of t.valueSpec.expression.parameters)o.delete(f);if(o.size===0)return[];const u=[];return i instanceof Li&&o.has(i.name)?[new Tr(t.key,t.value,`["${i.name}"] expression is not supported in a filter for a ${t.object.type} layer with id: ${t.object.id}`)]:(i.eachChild((f=>{u.push(...Dh(f,t))})),u)}function ud(i){const t=i.key,o=i.value,u=i.valueSpec,f=[];return Array.isArray(u.values)?u.values.indexOf($i(o))===-1&&f.push(new Tr(t,o,`expected one of [${u.values.join(", ")}], ${JSON.stringify(o)} found`)):Object.keys(u.values).indexOf($i(o))===-1&&f.push(new Tr(t,o,`expected one of [${Object.keys(u.values).join(", ")}], ${JSON.stringify(o)} found`)),f}function ji(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const t of i.slice(1))if(!ji(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function Wi(i,t="fill"){if(i==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};ji(i)||(i=Tl(i));const o=i;let u=!0;try{u=(function(A){if(!Kl(A))return A;let O=Ja(A);return yc(O),O=ua(O),O})(o)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(o,null,2)}
        `)}const f=Pt[`filter_${t}`],y=Zs(u,f);let v=null;if(y.result==="error")throw new Error(y.value.map((A=>`${A.key}: ${A.message}`)).join(", "));v=(A,O,Y)=>y.value.evaluate(A,O,{},Y);let S=null,T=null;if(u!==o){const A=Zs(o,f);if(A.result==="error")throw new Error(A.value.map((O=>`${O.key}: ${O.message}`)).join(", "));S=(O,Y,j,H,W)=>A.value.evaluate(O,Y,{},j,void 0,void 0,H,W),T=!Dn(A.value.expression)}return{filter:v,dynamicFilter:S||void 0,needGeometry:Ru(u),needFeature:!!T}}function ua(i){if(!Array.isArray(i))return i;const t=(function(o){if(mm.has(o[0])){for(let u=1;u<o.length;u++)if(Kl(o[u]))return!0}return o})(i);return t===!0?t:t.map((o=>ua(o)))}function yc(i){let t=!1;const o=[];if(i[0]==="case"){for(let u=1;u<i.length-1;u+=2)t=t||Kl(i[u]),o.push(i[u+1]);o.push(i[i.length-1])}else if(i[0]==="match"){t=t||Kl(i[1]);for(let u=2;u<i.length-1;u+=2)o.push(i[u+1]);o.push(i[i.length-1])}else if(i[0]==="step"){t=t||Kl(i[1]);for(let u=1;u<i.length-1;u+=2)o.push(i[u+1])}t&&(i.length=0,i.push("any",...o));for(let u=1;u<i.length;u++)yc(i[u])}function Kl(i){if(!Array.isArray(i))return!1;if((t=i[0])==="pitch"||t==="distance-from-center")return!0;var t;for(let o=1;o<i.length;o++)if(Kl(i[o]))return!0;return!1}const mm=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function tf(i,t){return i<t?-1:i>t?1:0}function Ru(i){if(!Array.isArray(i))return!1;if(i[0]==="within")return!0;for(let t=1;t<i.length;t++)if(Ru(i[t]))return!0;return!1}function Tl(i){if(!i)return!0;const t=i[0];return i.length<=1?t!=="any":t==="=="?El(i[1],i[2],"=="):t==="!="?Jl(El(i[1],i[2],"==")):t==="<"||t===">"||t==="<="||t===">="?El(i[1],i[2],t):t==="any"?(o=i.slice(1),["any"].concat(o.map(Tl))):t==="all"?["all"].concat(i.slice(1).map(Tl)):t==="none"?["all"].concat(i.slice(1).map(Tl).map(Jl)):t==="in"?kl(i[1],i.slice(2)):t==="!in"?Jl(kl(i[1],i.slice(2))):t==="has"?Fu(i[1]):t==="!has"?Jl(Fu(i[1])):t!=="within"||i;var o}function El(i,t,o){switch(i){case"$type":return[`filter-type-${o}`,t];case"$id":return[`filter-id-${o}`,t];default:return[`filter-${o}`,i,t]}}function kl(i,t){if(t.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((o=>typeof o!=typeof t[0]))?["filter-in-large",i,["literal",t.sort(tf)]]:["filter-in-small",i,["literal",t]]}}function Fu(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function Jl(i){return["!",i]}function Ls(i){return ji(Ja(i.value))?Xl(vo({},i,{expressionContext:"filter",valueSpec:i.styleSpec[`filter_${i.layerType||"fill"}`]})):Ih(i)}function Ih(i){const t=i.value,o=i.key;if(ti(t)!=="array")return[new Tr(o,t,`array expected, ${ti(t)} found`)];const u=i.styleSpec;let f,y=[];if(t.length<1)return[new Tr(o,t,"filter array must have at least 1 element")];switch(y=y.concat(ud({key:`${o}[0]`,value:t[0],valueSpec:u.filter_operator,style:i.style,styleSpec:i.styleSpec})),$i(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&$i(t[1])==="$type"&&y.push(new Tr(o,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&y.push(new Tr(o,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(f=ti(t[1]),f!=="string"&&y.push(new Tr(`${o}[1]`,t[1],`string expected, ${f} found`)));for(let v=2;v<t.length;v++)f=ti(t[v]),$i(t[1])==="$type"?y=y.concat(ud({key:`${o}[${v}]`,value:t[v],valueSpec:u.geometry_type,style:i.style,styleSpec:i.styleSpec})):f!=="string"&&f!=="number"&&f!=="boolean"&&y.push(new Tr(`${o}[${v}]`,t[v],`string, number, or boolean expected, ${f} found`));break;case"any":case"all":case"none":for(let v=1;v<t.length;v++)y=y.concat(Ih({key:`${o}[${v}]`,value:t[v],style:i.style,styleSpec:i.styleSpec}));break;case"has":case"!has":f=ti(t[1]),t.length!==2?y.push(new Tr(o,t,`filter array for "${t[0]}" operator must have 2 elements`)):f!=="string"&&y.push(new Tr(`${o}[1]`,t[1],`string expected, ${f} found`));break;case"within":f=ti(t[1]),t.length!==2?y.push(new Tr(o,t,`filter array for "${t[0]}" operator must have 2 elements`)):f!=="object"&&y.push(new Tr(`${o}[1]`,t[1],`object expected, ${f} found`))}return y}function rf(i,t){const o=i.key,u=i.style,f=i.styleSpec,y=i.value,v=i.objectKey,S=f[`${t}_${i.layerType}`];if(!S)return[];const T=v.match(/^(.*)-transition$/);if(t==="paint"&&T&&S[T[1]]&&S[T[1]].transition)return Oo({key:o,value:y,valueSpec:f.transition,style:u,styleSpec:f});const A=i.valueSpec||S[v];if(!A)return[new Tr(o,y,`unknown property "${v}"`)];let O;if(ti(y)==="string"&&Wl(A)&&!A.tokens&&(O=/^{([^}]+)}$/.exec(y)))return[new Tr(o,y,`"${v}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(O[1])} }\`.`)];const Y=[];return i.layerType==="symbol"&&(v==="text-field"&&u&&!u.glyphs&&Y.push(new Tr(o,y,'use of "text-field" requires a style "glyphs" property')),v==="text-font"&&mc(Ja(y))&&$i(y.type)==="identity"&&Y.push(new Tr(o,y,'"text-font" does not support identity functions'))),Y.concat(Oo({key:i.key,value:y,valueSpec:A,style:u,styleSpec:f,expressionContext:"property",propertyType:t,propertyKey:v}))}function nf(i){return rf(i,"paint")}function Ph(i){return rf(i,"layout")}function cd(i){let t=[];const o=i.value,u=i.key,f=i.style,y=i.styleSpec;o.type||o.ref||t.push(new Tr(u,o,'either "type" or "ref" is required'));let v=$i(o.type);const S=$i(o.ref);if(o.id){const T=$i(o.id);for(let A=0;A<i.arrayIndex;A++){const O=f.layers[A];$i(O.id)===T&&t.push(new Tr(u,o.id,`duplicate layer id "${o.id}", previously used at line ${O.id.__line__}`))}}if("ref"in o){let T;["type","source","source-layer","filter","layout"].forEach((A=>{A in o&&t.push(new Tr(u,o[A],`"${A}" is prohibited for ref layers`))})),f.layers.forEach((A=>{$i(A.id)===S&&(T=A)})),T?T.ref?t.push(new Tr(u,o.ref,"ref cannot reference another ref layer")):v=$i(T.type):typeof S=="string"&&t.push(new Tr(u,o.ref,`ref layer "${S}" not found`))}else if(v!=="background"&&v!=="sky")if(o.source){const T=f.sources&&f.sources[o.source],A=T&&$i(T.type);T?A==="vector"&&v==="raster"?t.push(new Tr(u,o.source,`layer "${o.id}" requires a raster source`)):A==="raster"&&v!=="raster"?t.push(new Tr(u,o.source,`layer "${o.id}" requires a vector source`)):A!=="vector"||o["source-layer"]?A==="raster-dem"&&v!=="hillshade"?t.push(new Tr(u,o.source,"raster-dem source can only be used with layer type 'hillshade'.")):v!=="line"||!o.paint||!o.paint["line-gradient"]&&!o.paint["line-trim-offset"]||A==="geojson"&&T.lineMetrics||t.push(new Tr(u,o,`layer "${o.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Tr(u,o,`layer "${o.id}" must specify a "source-layer"`)):t.push(new Tr(u,o.source,`source "${o.source}" not found`))}else t.push(new Tr(u,o,'missing required property "source"'));return t=t.concat(Wo({key:u,value:o,valueSpec:y.layer,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Oo({key:`${u}.type`,value:o.type,valueSpec:y.layer.type,style:i.style,styleSpec:i.styleSpec,object:o,objectKey:"type"}),filter:T=>Ls(vo({layerType:v},T)),layout:T=>Wo({layer:o,key:T.key,value:T.value,valueSpec:{},style:T.style,styleSpec:T.styleSpec,objectElementValidators:{"*":A=>Ph(vo({layerType:v},A))}}),paint:T=>Wo({layer:o,key:T.key,value:T.value,valueSpec:{},style:T.style,styleSpec:T.styleSpec,objectElementValidators:{"*":A=>nf(vo({layerType:v},A))}})}})),t}function Da(i){const t=i.value,o=i.key,u=ti(t);return u!=="string"?[new Tr(o,t,`string expected, ${u} found`)]:[]}const Ql={promoteId:function({key:i,value:t}){if(ti(t)==="string")return Da({key:i,value:t});{const o=[];for(const u in t)o.push(...Da({key:`${i}.${u}`,value:t[u]}));return o}}};function of(i){const t=i.value,o=i.key,u=i.styleSpec,f=i.style;if(!t.type)return[new Tr(o,t,'"type" is required')];const y=$i(t.type);let v;switch(y){case"vector":case"raster":case"raster-dem":return v=Wo({key:o,value:t,valueSpec:u[`source_${y.replace("-","_")}`],style:i.style,styleSpec:u,objectElementValidators:Ql}),v;case"geojson":if(v=Wo({key:o,value:t,valueSpec:u.source_geojson,style:f,styleSpec:u,objectElementValidators:Ql}),t.cluster)for(const S in t.clusterProperties){const[T,A]=t.clusterProperties[S],O=typeof T=="string"?[T,["accumulated"],["get",S]]:T;v.push(...Xl({key:`${o}.${S}.map`,value:A,expressionContext:"cluster-map"})),v.push(...Xl({key:`${o}.${S}.reduce`,value:O,expressionContext:"cluster-reduce"}))}return v;case"video":return Wo({key:o,value:t,valueSpec:u.source_video,style:f,styleSpec:u});case"image":return Wo({key:o,value:t,valueSpec:u.source_image,style:f,styleSpec:u});case"canvas":return[new Tr(o,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ud({key:`${o}.type`,value:t.type,valueSpec:{values:ce(u)}})}}function ce(i){return i.source.reduce(((t,o)=>{const u=i[o];return u.type.type==="enum"&&(t=t.concat(Object.keys(u.type.values))),t}),[])}function eu(i){const t=i.value,o=i.styleSpec,u=o.light,f=i.style;let y=[];const v=ti(t);if(t===void 0)return y;if(v!=="object")return y=y.concat([new Tr("light",t,`object expected, ${v} found`)]),y;for(const S in t){const T=S.match(/^(.*)-transition$/);y=y.concat(T&&u[T[1]]&&u[T[1]].transition?Oo({key:S,value:t[S],valueSpec:o.transition,style:f,styleSpec:o}):u[S]?Oo({key:S,value:t[S],valueSpec:u[S],style:f,styleSpec:o}):[new Tr(S,t[S],`unknown property "${S}"`)])}return y}function tu(i){const t=i.value,o=i.key,u=i.style,f=i.styleSpec,y=f.terrain;let v=[];const S=ti(t);if(t===void 0)return v;if(S!=="object")return v=v.concat([new Tr("terrain",t,`object expected, ${S} found`)]),v;for(const T in t){const A=T.match(/^(.*)-transition$/);v=v.concat(A&&y[A[1]]&&y[A[1]].transition?Oo({key:T,value:t[T],valueSpec:f.transition,style:u,styleSpec:f}):y[T]?Oo({key:T,value:t[T],valueSpec:y[T],style:u,styleSpec:f}):[new Tr(T,t[T],`unknown property "${T}"`)])}if(t.source){const T=u.sources&&u.sources[t.source],A=T&&$i(T.type);T?A!=="raster-dem"&&v.push(new Tr(o,t.source,`terrain cannot be used with a source of type ${String(A)}, it only be used with a "raster-dem" source type`)):v.push(new Tr(o,t.source,`source "${t.source}" not found`))}else v.push(new Tr(o,t,'terrain is missing required property "source"'));return v}function La(i){const t=i.value,o=i.style,u=i.styleSpec,f=u.fog;let y=[];const v=ti(t);if(t===void 0)return y;if(v!=="object")return y=y.concat([new Tr("fog",t,`object expected, ${v} found`)]),y;for(const S in t){const T=S.match(/^(.*)-transition$/);y=y.concat(T&&f[T[1]]&&f[T[1]].transition?Oo({key:S,value:t[S],valueSpec:u.transition,style:o,styleSpec:u}):f[S]?Oo({key:S,value:t[S],valueSpec:f[S],style:o,styleSpec:u}):[new Tr(S,t[S],`unknown property "${S}"`)])}return y}const Gn={"*":()=>[],array:Ll,boolean:function(i){const t=i.value,o=i.key,u=ti(t);return u!=="boolean"?[new Tr(o,t,`boolean expected, ${u} found`)]:[]},number:ld,color:function(i){const t=i.key,o=i.value,u=ti(o);return u!=="string"?[new Tr(t,o,`color expected, ${u} found`)]:Hs(o)===null?[new Tr(t,o,`color expected, "${o}" found`)]:[]},enum:ud,filter:Ls,function:Ch,layer:cd,object:Wo,source:of,light:eu,terrain:tu,fog:La,string:Da,formatted:function(i){return Da(i).length===0?[]:Xl(i)},resolvedImage:function(i){return Da(i).length===0?[]:Xl(i)},projection:function(i){const t=i.value,o=i.styleSpec,u=o.projection,f=i.style;let y=[];const v=ti(t);if(v==="object")for(const S in t)y=y.concat(Oo({key:S,value:t[S],valueSpec:u[S],style:f,styleSpec:o}));else v!=="string"&&(y=y.concat([new Tr("projection",t,`object or string expected, ${v} found`)]));return y}};function Oo(i){const t=i.value,o=i.valueSpec,u=i.styleSpec;return o.expression&&mc($i(t))?Ch(i):o.expression&&Sl(Ja(t))?Xl(i):o.type&&Gn[o.type]?Gn[o.type](i):Wo(vo({},i,{valueSpec:o.type?u[o.type]:o}))}function _m(i){const t=i.value,o=i.key,u=Da(i);return u.length||(t.indexOf("{fontstack}")===-1&&u.push(new Tr(o,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&u.push(new Tr(o,t,'"glyphs" url must include a "{range}" token'))),u}function af(i,t=Pt){return Xs(Oo({key:"",value:i,valueSpec:t.$root,styleSpec:t,style:i,objectElementValidators:{glyphs:_m,"*":()=>[]}}))}const ru=i=>Xs(nf(i)),gm=i=>Xs(Ph(i));function Xs(i){return i.slice().sort(((t,o)=>t.line&&o.line?t.line-o.line:0))}function Oh(i,t){let o=!1;if(t&&t.length)for(const u of t)i.fire(new no(new Error(u.message))),o=!0;return o}var zu=Ts;function Ts(i,t,o){var u=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;var f=new Int32Array(this.arrayBuffer);i=f[0],this.d=(t=f[1])+2*(o=f[2]);for(var y=0;y<this.d*this.d;y++){var v=f[3+y],S=f[3+y+1];u.push(v===S?null:f.subarray(v,S))}var T=f[3+u.length+1];this.keys=f.subarray(f[3+u.length],T),this.bboxes=f.subarray(T),this.insert=this._insertReadonly}else{this.d=t+2*o;for(var A=0;A<this.d*this.d;A++)u.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=i,this.padding=o,this.scale=t/i,this.uid=0;var O=o/t*i;this.min=-O,this.max=i+O}Ts.prototype.insert=function(i,t,o,u,f){this._forEachCell(t,o,u,f,this._insertCell,this.uid++),this.keys.push(i),this.bboxes.push(t),this.bboxes.push(o),this.bboxes.push(u),this.bboxes.push(f)},Ts.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ts.prototype._insertCell=function(i,t,o,u,f,y){this.cells[f].push(y)},Ts.prototype.query=function(i,t,o,u,f){var y=this.min,v=this.max;if(i<=y&&t<=y&&v<=o&&v<=u&&!f)return Array.prototype.slice.call(this.keys);var S=[];return this._forEachCell(i,t,o,u,this._queryCell,S,{},f),S},Ts.prototype._queryCell=function(i,t,o,u,f,y,v,S){var T=this.cells[f];if(T!==null)for(var A=this.keys,O=this.bboxes,Y=0;Y<T.length;Y++){var j=T[Y];if(v[j]===void 0){var H=4*j;(S?S(O[H+0],O[H+1],O[H+2],O[H+3]):i<=O[H+2]&&t<=O[H+3]&&o>=O[H+0]&&u>=O[H+1])?(v[j]=!0,y.push(A[j])):v[j]=!1}}},Ts.prototype._forEachCell=function(i,t,o,u,f,y,v,S){for(var T=this._convertToCellCoord(i),A=this._convertToCellCoord(t),O=this._convertToCellCoord(o),Y=this._convertToCellCoord(u),j=T;j<=O;j++)for(var H=A;H<=Y;H++){var W=this.d*H+j;if((!S||S(this._convertFromCellCoord(j),this._convertFromCellCoord(H),this._convertFromCellCoord(j+1),this._convertFromCellCoord(H+1)))&&f.call(this,i,t,o,u,W,y,v,S))return}},Ts.prototype._convertFromCellCoord=function(i){return(i-this.padding)/this.scale},Ts.prototype._convertToCellCoord=function(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))},Ts.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var i=this.cells,t=3+this.cells.length+1+1,o=0,u=0;u<this.cells.length;u++)o+=this.cells[u].length;var f=new Int32Array(t+o+this.keys.length+this.bboxes.length);f[0]=this.extent,f[1]=this.n,f[2]=this.padding;for(var y=t,v=0;v<i.length;v++){var S=i[v];f[3+v]=y,f.set(S,y),y+=S.length}return f[3+i.length]=y,f.set(this.keys,y),f[3+i.length+1]=y+=this.keys.length,f.set(this.bboxes,y),y+=this.bboxes.length,f.buffer};const Ia={};function Dr(i,t,o={}){Object.defineProperty(i,"_classRegistryKey",{value:t,writeable:!1}),Ia[t]={klass:i,omit:o.omit||[]}}Dr(Object,"Object"),zu.serialize=function(i,t){const o=i.toArrayBuffer();return t&&t.push(o),{buffer:o}},zu.deserialize=function(i){return new zu(i.buffer)},Object.defineProperty(zu,"name",{value:"Grid"}),Dr(zu,"Grid"),Dr(Ri,"Color"),Dr(Error,"Error"),Dr(q,"AJAXError"),Dr(No,"ResolvedImage"),Dr(Ou,"StylePropertyFunction"),Dr(_c,"StyleExpression",{omit:["_evaluator"]}),Dr(Ss,"ZoomDependentExpression"),Dr(Ca,"ZoomConstantExpression"),Dr(Li,"CompoundExpression",{omit:["_evaluate"]});for(const i in xl)Ia[xl[i]._classRegistryKey]||Dr(xl[i],`Expression${i}`);function Rh(i){return i&&typeof ArrayBuffer<"u"&&(i instanceof ArrayBuffer||i.constructor&&i.constructor.name==="ArrayBuffer")}function Fh(i){return E.ImageBitmap&&i instanceof E.ImageBitmap}function Al(i,t){if(i==null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp)return i;if(Rh(i)||Fh(i))return t&&t.push(i),i;if(ArrayBuffer.isView(i)){const o=i;return t&&t.push(o.buffer),o}if(i instanceof E.ImageData)return t&&t.push(i.data.buffer),i;if(Array.isArray(i)){const o=[];for(const u of i)o.push(Al(u,t));return o}if(typeof i=="object"){const o=i.constructor,u=o._classRegistryKey;if(!u)throw new Error(`can't serialize object of unregistered class ${u}`);const f=o.serialize?o.serialize(i,t):{};if(!o.serialize){for(const y in i)i.hasOwnProperty(y)&&(Ia[u].omit.indexOf(y)>=0||(f[y]=Al(i[y],t)));i instanceof Error&&(f.message=i.message)}if(f.$name)throw new Error("$name property is reserved for worker serialization logic.");return u!=="Object"&&(f.$name=u),f}throw new Error("can't serialize object of type "+typeof i)}function bc(i){if(i==null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp||Rh(i)||Fh(i)||ArrayBuffer.isView(i)||i instanceof E.ImageData)return i;if(Array.isArray(i))return i.map(bc);if(typeof i=="object"){const t=i.$name||"Object",{klass:o}=Ia[t];if(!o)throw new Error(`can't deserialize unregistered class ${t}`);if(o.deserialize)return o.deserialize(i);const u=Object.create(o.prototype);for(const f of Object.keys(i))f!=="$name"&&(u[f]=bc(i[f]));return u}throw new Error("can't deserialize object of type "+typeof i)}const os=i=>i>=1536&&i<=1791,zh=i=>i>=1872&&i<=1919,sf=i=>i>=2208&&i<=2303,lf=i=>i>=11904&&i<=12031,uf=i=>i>=12032&&i<=12255,cf=i=>i>=12272&&i<=12287,Pa=i=>i>=12288&&i<=12351,vc=i=>i>=12352&&i<=12447,dd=i=>i>=12448&&i<=12543,Oa=i=>i>=12544&&i<=12591,df=i=>i>=12704&&i<=12735,Yh=i=>i>=12736&&i<=12783,Bh=i=>i>=12784&&i<=12799,jh=i=>i>=12800&&i<=13055,$h=i=>i>=13056&&i<=13311,ff=i=>i>=13312&&i<=19903,fd=i=>i>=19968&&i<=40959,Vh=i=>i>=40960&&i<=42127,Uh=i=>i>=42128&&i<=42191,wc=i=>i>=44032&&i<=55215,Ks=i=>i>=63744&&i<=64255,g=i=>i>=64336&&i<=65023,a=i=>i>=65040&&i<=65055,d=i=>i>=65072&&i<=65103,b=i=>i>=65104&&i<=65135,x=i=>i>=65136&&i<=65279,L=i=>i>=65280&&i<=65519;function D(i){for(const t of i)if(N(t.charCodeAt(0)))return!0;return!1}function P(i){for(const t of i)if(!z(t.charCodeAt(0)))return!1;return!0}function z(i){return!(os(i)||zh(i)||sf(i)||g(i)||x(i))}function N(i){return!(i!==746&&i!==747&&(i<4352||!(df(i)||Oa(i)||d(i)&&!(i>=65097&&i<=65103)||Ks(i)||$h(i)||lf(i)||Yh(i)||!(!Pa(i)||i>=12296&&i<=12305||i>=12308&&i<=12319||i===12336)||ff(i)||fd(i)||jh(i)||(t=>t>=12592&&t<=12687)(i)||(t=>t>=43360&&t<=43391)(i)||(t=>t>=55216&&t<=55295)(i)||(t=>t>=4352&&t<=4607)(i)||wc(i)||vc(i)||cf(i)||(t=>t>=12688&&t<=12703)(i)||uf(i)||Bh(i)||dd(i)&&i!==12540||!(!L(i)||i===65288||i===65289||i===65293||i>=65306&&i<=65310||i===65339||i===65341||i===65343||i>=65371&&i<=65503||i===65507||i>=65512&&i<=65519)||!(!b(i)||i>=65112&&i<=65118||i>=65123&&i<=65126)||(t=>t>=5120&&t<=5759)(i)||(t=>t>=6320&&t<=6399)(i)||a(i)||(t=>t>=19904&&t<=19967)(i)||Vh(i)||Uh(i))))}function V(i){return!(N(i)||(function(t){return!!((o=>o>=128&&o<=255)(t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||(o=>o>=8192&&o<=8303)(t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||(o=>o>=8448&&o<=8527)(t)||(o=>o>=8528&&o<=8591)(t)||(o=>o>=8960&&o<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||(o=>o>=9216&&o<=9279)(t)&&t!==9251||(o=>o>=9280&&o<=9311)(t)||(o=>o>=9312&&o<=9471)(t)||(o=>o>=9632&&o<=9727)(t)||(o=>o>=9728&&o<=9983)(t)&&!(t>=9754&&t<=9759)||(o=>o>=11008&&o<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Pa(t)||dd(t)||(o=>o>=57344&&o<=63743)(t)||d(t)||b(t)||L(t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)})(i))}function J(i){return i>=1424&&i<=2303||g(i)||x(i)}function oe(i,t){return!(!t&&J(i)||i>=2304&&i<=3583||i>=3840&&i<=4255||(o=>o>=6016&&o<=6143)(i))}function me(i){for(const t of i)if(J(t.charCodeAt(0)))return!0;return!1}const pe="deferred",be="loading",ue="loaded";let de=null,we="unavailable",xe=null;const Ie=function(i){i&&typeof i=="string"&&i.indexOf("NetworkError")>-1&&(we="error"),de&&de(i)};function Fe(){Be.fire(new Vo("pluginStateChange",{pluginStatus:we,pluginURL:xe}))}const Be=new bo,We=function(){return we},bt=function(){if(we!==pe||!xe)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");we=be,Fe(),xe&&ht({url:xe},(i=>{i?Ie(i):(we=ue,Fe())}))},pt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>we===ue||pt.applyArabicShaping!=null,isLoading:()=>we===be,setState(i){we=i.pluginStatus,xe=i.pluginURL},isParsed:()=>pt.applyArabicShaping!=null&&pt.processBidirectionalText!=null&&pt.processStyledBidirectionalText!=null,getPluginURL:()=>xe};class Xe{constructor(t,o){this.zoom=t,o?(this.now=o.now,this.fadeDuration=o.fadeDuration,this.transition=o.transition,this.pitch=o.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(t){return(function(o,u){for(const f of o)if(!oe(f.charCodeAt(0),u))return!1;return!0})(t,pt.isLoaded())}}class tr{constructor(t,o){this.property=t,this.value=o,this.expression=(function(u,f){if(mc(u))return new Ou(u,f);if(Sl(u)){const y=Pu(u,f);if(y.result==="error")throw new Error(y.value.map((v=>`${v.key}: ${v.message}`)).join(", "));return y.value}{let y=u;return typeof u=="string"&&f.type==="color"&&(y=Ri.parse(u)),{kind:"constant",evaluate:()=>y}}})(o===void 0?t.specification.default:o,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(t,o,u){return this.property.possiblyEvaluate(this,t,o,u)}}class ct{constructor(t){this.property=t,this.value=new tr(t,void 0)}transitioned(t,o){return new St(this.property,this.value,o,pr({},t.transition,this.transition),t.now)}untransitioned(){return new St(this.property,this.value,null,{},0)}}class Ft{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return _r(this._values[t].value.value)}setValue(t,o){this._values.hasOwnProperty(t)||(this._values[t]=new ct(this._values[t].property)),this._values[t].value=new tr(this._values[t].property,o===null?void 0:_r(o))}getTransition(t){return _r(this._values[t].transition)}setTransition(t,o){this._values.hasOwnProperty(t)||(this._values[t]=new ct(this._values[t].property)),this._values[t].transition=_r(o)||void 0}serialize(){const t={};for(const o of Object.keys(this._values)){const u=this.getValue(o);u!==void 0&&(t[o]=u);const f=this.getTransition(o);f!==void 0&&(t[`${o}-transition`]=f)}return t}transitioned(t,o){const u=new Jt(this._properties);for(const f of Object.keys(this._values))u._values[f]=this._values[f].transitioned(t,o._values[f]);return u}untransitioned(){const t=new Jt(this._properties);for(const o of Object.keys(this._values))t._values[o]=this._values[o].untransitioned();return t}}class St{constructor(t,o,u,f,y){const v=f.delay||0,S=f.duration||0;y=y||0,this.property=t,this.value=o,this.begin=y+v,this.end=this.begin+S,t.specification.transition&&(f.delay||f.duration)&&(this.prior=u)}possiblyEvaluate(t,o,u){const f=t.now||0,y=this.value.possiblyEvaluate(t,o,u),v=this.prior;if(v){if(f>this.end)return this.prior=null,y;if(this.value.isDataDriven())return this.prior=null,y;if(f<this.begin)return v.possiblyEvaluate(t,o,u);{const S=(f-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(t,o,u),y,gt(S))}}return y}}class Jt{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,o,u){const f=new or(this._properties);for(const y of Object.keys(this._values))f._values[y]=this._values[y].possiblyEvaluate(t,o,u);return f}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class Et{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return _r(this._values[t].value)}setValue(t,o){this._values[t]=new tr(this._values[t].property,o===null?void 0:_r(o))}serialize(){const t={};for(const o of Object.keys(this._values)){const u=this.getValue(o);u!==void 0&&(t[o]=u)}return t}possiblyEvaluate(t,o,u){const f=new or(this._properties);for(const y of Object.keys(this._values))f._values[y]=this._values[y].possiblyEvaluate(t,o,u);return f}}class $t{constructor(t,o,u){this.property=t,this.value=o,this.parameters=u}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,o,u,f){return this.property.evaluate(this.value,this.parameters,t,o,u,f)}}class or{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class it{constructor(t){this.specification=t}possiblyEvaluate(t,o){return t.expression.evaluate(o)}interpolate(t,o,u){const f=wa[this.specification.type];return f?f(t,o,u):t}}class Mt{constructor(t,o){this.specification=t,this.overrides=o}possiblyEvaluate(t,o,u,f){return new $t(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(o,null,{},u,f)}:t.expression,o)}interpolate(t,o,u){if(t.value.kind!=="constant"||o.value.kind!=="constant")return t;if(t.value.value===void 0||o.value.value===void 0)return new $t(this,{kind:"constant",value:void 0},t.parameters);const f=wa[this.specification.type];return f?new $t(this,{kind:"constant",value:f(t.value.value,o.value.value,u)},t.parameters):t}evaluate(t,o,u,f,y,v){return t.kind==="constant"?t.value:t.evaluate(o,u,f,y,v)}}class Pr{constructor(t){this.specification=t}possiblyEvaluate(t,o,u,f){return!!t.expression.evaluate(o,null,{},u,f)}interpolate(){return!1}}class Qr{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const o=new Xe(0,{});for(const u in t){const f=t[u];f.specification.overridable&&this.overridableProperties.push(u);const y=this.defaultPropertyValues[u]=new tr(f,void 0),v=this.defaultTransitionablePropertyValues[u]=new ct(f);this.defaultTransitioningPropertyValues[u]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=y.possiblyEvaluate(o)}}}function Rr(i,t){return 256*(i=ot(Math.floor(i),0,255))+ot(Math.floor(t),0,255)}Dr(Mt,"DataDrivenProperty"),Dr(it,"DataConstantProperty"),Dr(Pr,"ColorRampProperty");const on={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Mn{constructor(t,o){this._structArray=t,this._pos1=o*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class en{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,o){return t._trim(),o&&(t.isTransferred=!0,o.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const o=Object.create(this.prototype);return o.arrayBuffer=t.arrayBuffer,o.length=t.length,o.capacity=t.arrayBuffer.byteLength/o.bytesPerElement,o._refreshViews(),o}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const o=this.uint8;this._refreshViews(),o&&this.uint8.set(o)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function kr(i,t=1){let o=0,u=0;return{members:i.map((f=>{const y=on[f.type].BYTES_PER_ELEMENT,v=o=oi(o,Math.max(t,y)),S=f.components||1;return u=Math.max(u,y),o+=y*S,{name:f.name,type:f.type,components:S,offset:v}})),size:oi(o,Math.max(u,t)),alignment:t}}function oi(i,t){return Math.ceil(i/t)*t}class Xn extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o){const u=this.length;return this.resize(u+1),this.emplace(u,t,o)}emplace(t,o,u){const f=2*t;return this.int16[f+0]=o,this.int16[f+1]=u,t}}Xn.prototype.bytesPerElement=4,Dr(Xn,"StructArrayLayout2i4");class ai extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,u){const f=this.length;return this.resize(f+1),this.emplace(f,t,o,u)}emplace(t,o,u,f){const y=3*t;return this.int16[y+0]=o,this.int16[y+1]=u,this.int16[y+2]=f,t}}ai.prototype.bytesPerElement=6,Dr(ai,"StructArrayLayout3i6");class li extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,u,f){const y=this.length;return this.resize(y+1),this.emplace(y,t,o,u,f)}emplace(t,o,u,f,y){const v=4*t;return this.int16[v+0]=o,this.int16[v+1]=u,this.int16[v+2]=f,this.int16[v+3]=y,t}}li.prototype.bytesPerElement=8,Dr(li,"StructArrayLayout4i8");class Ro extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y,v,S){const T=this.length;return this.resize(T+1),this.emplace(T,t,o,u,f,y,v,S)}emplace(t,o,u,f,y,v,S,T){const A=6*t,O=12*t,Y=3*t;return this.int16[A+0]=o,this.int16[A+1]=u,this.uint8[O+4]=f,this.uint8[O+5]=y,this.uint8[O+6]=v,this.uint8[O+7]=S,this.float32[Y+2]=T,t}}Ro.prototype.bytesPerElement=12,Dr(Ro,"StructArrayLayout2i4ub1f12");class ca extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,u,f){const y=this.length;return this.resize(y+1),this.emplace(y,t,o,u,f)}emplace(t,o,u,f,y){const v=4*t;return this.float32[v+0]=o,this.float32[v+1]=u,this.float32[v+2]=f,this.float32[v+3]=y,t}}ca.prototype.bytesPerElement=16,Dr(ca,"StructArrayLayout4f16");class Fo extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y){const v=this.length;return this.resize(v+1),this.emplace(v,t,o,u,f,y)}emplace(t,o,u,f,y,v){const S=6*t,T=3*t;return this.uint16[S+0]=o,this.uint16[S+1]=u,this.uint16[S+2]=f,this.uint16[S+3]=y,this.float32[T+2]=v,t}}Fo.prototype.bytesPerElement=12,Dr(Fo,"StructArrayLayout4ui1f12");class as extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,u,f){const y=this.length;return this.resize(y+1),this.emplace(y,t,o,u,f)}emplace(t,o,u,f,y){const v=4*t;return this.uint16[v+0]=o,this.uint16[v+1]=u,this.uint16[v+2]=f,this.uint16[v+3]=y,t}}as.prototype.bytesPerElement=8,Dr(as,"StructArrayLayout4ui8");class ui extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y,v){const S=this.length;return this.resize(S+1),this.emplace(S,t,o,u,f,y,v)}emplace(t,o,u,f,y,v,S){const T=6*t;return this.int16[T+0]=o,this.int16[T+1]=u,this.int16[T+2]=f,this.int16[T+3]=y,this.int16[T+4]=v,this.int16[T+5]=S,t}}ui.prototype.bytesPerElement=12,Dr(ui,"StructArrayLayout6i12");class mi extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y,v,S,T,A,O,Y,j){const H=this.length;return this.resize(H+1),this.emplace(H,t,o,u,f,y,v,S,T,A,O,Y,j)}emplace(t,o,u,f,y,v,S,T,A,O,Y,j,H){const W=12*t;return this.int16[W+0]=o,this.int16[W+1]=u,this.int16[W+2]=f,this.int16[W+3]=y,this.uint16[W+4]=v,this.uint16[W+5]=S,this.uint16[W+6]=T,this.uint16[W+7]=A,this.int16[W+8]=O,this.int16[W+9]=Y,this.int16[W+10]=j,this.int16[W+11]=H,t}}mi.prototype.bytesPerElement=24,Dr(mi,"StructArrayLayout4i4ui4i24");class Wn extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y,v){const S=this.length;return this.resize(S+1),this.emplace(S,t,o,u,f,y,v)}emplace(t,o,u,f,y,v,S){const T=10*t,A=5*t;return this.int16[T+0]=o,this.int16[T+1]=u,this.int16[T+2]=f,this.float32[A+2]=y,this.float32[A+3]=v,this.float32[A+4]=S,t}}Wn.prototype.bytesPerElement=20,Dr(Wn,"StructArrayLayout3i3f20");class Vi extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const o=this.length;return this.resize(o+1),this.emplace(o,t)}emplace(t,o){return this.uint32[1*t+0]=o,t}}Vi.prototype.bytesPerElement=4,Dr(Vi,"StructArrayLayout1ul4");class zo extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y,v,S,T,A,O,Y,j,H){const W=this.length;return this.resize(W+1),this.emplace(W,t,o,u,f,y,v,S,T,A,O,Y,j,H)}emplace(t,o,u,f,y,v,S,T,A,O,Y,j,H,W){const ee=20*t,le=10*t;return this.int16[ee+0]=o,this.int16[ee+1]=u,this.int16[ee+2]=f,this.int16[ee+3]=y,this.int16[ee+4]=v,this.float32[le+3]=S,this.float32[le+4]=T,this.float32[le+5]=A,this.float32[le+6]=O,this.int16[ee+14]=Y,this.uint32[le+8]=j,this.uint16[ee+18]=H,this.uint16[ee+19]=W,t}}zo.prototype.bytesPerElement=40,Dr(zo,"StructArrayLayout5i4f1i1ul2ui40");class _i extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y,v,S){const T=this.length;return this.resize(T+1),this.emplace(T,t,o,u,f,y,v,S)}emplace(t,o,u,f,y,v,S,T){const A=8*t;return this.int16[A+0]=o,this.int16[A+1]=u,this.int16[A+2]=f,this.int16[A+4]=y,this.int16[A+5]=v,this.int16[A+6]=S,this.int16[A+7]=T,t}}_i.prototype.bytesPerElement=16,Dr(_i,"StructArrayLayout3i2i2i16");class Zo extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y){const v=this.length;return this.resize(v+1),this.emplace(v,t,o,u,f,y)}emplace(t,o,u,f,y,v){const S=4*t,T=8*t;return this.float32[S+0]=o,this.float32[S+1]=u,this.float32[S+2]=f,this.int16[T+6]=y,this.int16[T+7]=v,t}}Zo.prototype.bytesPerElement=16,Dr(Zo,"StructArrayLayout2f1f2i16");class nu extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,u,f){const y=this.length;return this.resize(y+1),this.emplace(y,t,o,u,f)}emplace(t,o,u,f,y){const v=12*t,S=3*t;return this.uint8[v+0]=o,this.uint8[v+1]=u,this.float32[S+1]=f,this.float32[S+2]=y,t}}nu.prototype.bytesPerElement=12,Dr(nu,"StructArrayLayout2ub2f12");class Es extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,u){const f=this.length;return this.resize(f+1),this.emplace(f,t,o,u)}emplace(t,o,u,f){const y=3*t;return this.float32[y+0]=o,this.float32[y+1]=u,this.float32[y+2]=f,t}}Es.prototype.bytesPerElement=12,Dr(Es,"StructArrayLayout3f12");class ho extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,u){const f=this.length;return this.resize(f+1),this.emplace(f,t,o,u)}emplace(t,o,u,f){const y=3*t;return this.uint16[y+0]=o,this.uint16[y+1]=u,this.uint16[y+2]=f,t}}ho.prototype.bytesPerElement=6,Dr(ho,"StructArrayLayout3ui6");class Ra extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y,v,S,T,A,O,Y,j,H,W,ee,le,De,ze,Ae,Pe,Ve){const Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,t,o,u,f,y,v,S,T,A,O,Y,j,H,W,ee,le,De,ze,Ae,Pe,Ve)}emplace(t,o,u,f,y,v,S,T,A,O,Y,j,H,W,ee,le,De,ze,Ae,Pe,Ve,Ye){const wt=30*t,_t=15*t,zt=60*t;return this.int16[wt+0]=o,this.int16[wt+1]=u,this.int16[wt+2]=f,this.float32[_t+2]=y,this.float32[_t+3]=v,this.uint16[wt+8]=S,this.uint16[wt+9]=T,this.uint32[_t+5]=A,this.uint32[_t+6]=O,this.uint32[_t+7]=Y,this.uint16[wt+16]=j,this.uint16[wt+17]=H,this.uint16[wt+18]=W,this.float32[_t+10]=ee,this.float32[_t+11]=le,this.uint8[zt+48]=De,this.uint8[zt+49]=ze,this.uint8[zt+50]=Ae,this.uint32[_t+13]=Pe,this.int16[wt+28]=Ve,this.uint8[zt+58]=Ye,t}}Ra.prototype.bytesPerElement=60,Dr(Ra,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Fa extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y,v,S,T,A,O,Y,j,H,W,ee,le,De,ze,Ae,Pe,Ve,Ye,wt,_t,zt,rr,Tt,Vt,Ht,Qt){const ir=this.length;return this.resize(ir+1),this.emplace(ir,t,o,u,f,y,v,S,T,A,O,Y,j,H,W,ee,le,De,ze,Ae,Pe,Ve,Ye,wt,_t,zt,rr,Tt,Vt,Ht,Qt)}emplace(t,o,u,f,y,v,S,T,A,O,Y,j,H,W,ee,le,De,ze,Ae,Pe,Ve,Ye,wt,_t,zt,rr,Tt,Vt,Ht,Qt,ir){const kt=38*t,gr=19*t;return this.int16[kt+0]=o,this.int16[kt+1]=u,this.int16[kt+2]=f,this.float32[gr+2]=y,this.float32[gr+3]=v,this.int16[kt+8]=S,this.int16[kt+9]=T,this.int16[kt+10]=A,this.int16[kt+11]=O,this.int16[kt+12]=Y,this.int16[kt+13]=j,this.uint16[kt+14]=H,this.uint16[kt+15]=W,this.uint16[kt+16]=ee,this.uint16[kt+17]=le,this.uint16[kt+18]=De,this.uint16[kt+19]=ze,this.uint16[kt+20]=Ae,this.uint16[kt+21]=Pe,this.uint16[kt+22]=Ve,this.uint16[kt+23]=Ye,this.uint16[kt+24]=wt,this.uint16[kt+25]=_t,this.uint16[kt+26]=zt,this.uint16[kt+27]=rr,this.uint16[kt+28]=Tt,this.uint32[gr+15]=Vt,this.float32[gr+16]=Ht,this.float32[gr+17]=Qt,this.float32[gr+18]=ir,t}}Fa.prototype.bytesPerElement=76,Dr(Fa,"StructArrayLayout3i2f6i15ui1ul3f76");class wn extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const o=this.length;return this.resize(o+1),this.emplace(o,t)}emplace(t,o){return this.float32[1*t+0]=o,t}}wn.prototype.bytesPerElement=4,Dr(wn,"StructArrayLayout1f4");class xc extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o,u,f,y){const v=this.length;return this.resize(v+1),this.emplace(v,t,o,u,f,y)}emplace(t,o,u,f,y,v){const S=5*t;return this.float32[S+0]=o,this.float32[S+1]=u,this.float32[S+2]=f,this.float32[S+3]=y,this.float32[S+4]=v,t}}xc.prototype.bytesPerElement=20,Dr(xc,"StructArrayLayout5f20");class Yu extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o,u,f){const y=this.length;return this.resize(y+1),this.emplace(y,t,o,u,f)}emplace(t,o,u,f,y){const v=6*t;return this.uint32[3*t+0]=o,this.uint16[v+2]=u,this.uint16[v+3]=f,this.uint16[v+4]=y,t}}Yu.prototype.bytesPerElement=12,Dr(Yu,"StructArrayLayout1ul3ui12");class da extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,o){const u=this.length;return this.resize(u+1),this.emplace(u,t,o)}emplace(t,o,u){const f=2*t;return this.uint16[f+0]=o,this.uint16[f+1]=u,t}}da.prototype.bytesPerElement=4,Dr(da,"StructArrayLayout2ui4");class hd extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const o=this.length;return this.resize(o+1),this.emplace(o,t)}emplace(t,o){return this.uint16[1*t+0]=o,t}}hd.prototype.bytesPerElement=2,Dr(hd,"StructArrayLayout1ui2");class Nh extends en{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,o){const u=this.length;return this.resize(u+1),this.emplace(u,t,o)}emplace(t,o,u){const f=2*t;return this.float32[f+0]=o,this.float32[f+1]=u,t}}Nh.prototype.bytesPerElement=8,Dr(Nh,"StructArrayLayout2f8");class Og extends Mn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Og.prototype.size=40;class za extends zo{get(t){return new Og(this,t)}}Dr(za,"CollisionBoxArray");class Rg extends Mn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t}}Rg.prototype.size=60;class hf extends Ra{get(t){return new Rg(this,t)}}Dr(hf,"PlacedSymbolArray");class Hh extends Mn{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(t){this._structArray.uint32[this._pos4+15]=t}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Hh.prototype.size=76;class ym extends Fa{get(t){return new Hh(this,t)}}Dr(ym,"SymbolInstanceArray");class bm extends wn{getoffsetX(t){return this.float32[1*t+0]}}Dr(bm,"GlyphOffsetArray");class Ya extends Xn{getx(t){return this.int16[2*t+0]}gety(t){return this.int16[2*t+1]}}Dr(Ya,"SymbolLineVertexArray");class iu extends Mn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}iu.prototype.size=12;class qh extends Yu{get(t){return new iu(this,t)}}Dr(qh,"FeatureIndexArray");class vm extends da{geta_centroid_pos0(t){return this.uint16[2*t+0]}geta_centroid_pos1(t){return this.uint16[2*t+1]}}Dr(vm,"FillExtrusionCentroidArray");const Gh=kr([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Fg=kr([{name:"a_dash",components:4,type:"Uint16"}]);var Bu={exports:{}},wm={exports:{}};wm.exports=function(i,t){var o,u,f,y,v,S,T,A;for(u=i.length-(o=3&i.length),f=t,v=3432918353,S=461845907,A=0;A<u;)T=255&i.charCodeAt(A)|(255&i.charCodeAt(++A))<<8|(255&i.charCodeAt(++A))<<16|(255&i.charCodeAt(++A))<<24,++A,f=27492+(65535&(y=5*(65535&(f=(f^=T=(65535&(T=(T=(65535&T)*v+(((T>>>16)*v&65535)<<16)&4294967295)<<15|T>>>17))*S+(((T>>>16)*S&65535)<<16)&4294967295)<<13|f>>>19))+((5*(f>>>16)&65535)<<16)&4294967295))+((58964+(y>>>16)&65535)<<16);switch(T=0,o){case 3:T^=(255&i.charCodeAt(A+2))<<16;case 2:T^=(255&i.charCodeAt(A+1))<<8;case 1:f^=T=(65535&(T=(T=(65535&(T^=255&i.charCodeAt(A)))*v+(((T>>>16)*v&65535)<<16)&4294967295)<<15|T>>>17))*S+(((T>>>16)*S&65535)<<16)&4294967295}return f^=i.length,f=2246822507*(65535&(f^=f>>>16))+((2246822507*(f>>>16)&65535)<<16)&4294967295,f=3266489909*(65535&(f^=f>>>13))+((3266489909*(f>>>16)&65535)<<16)&4294967295,(f^=f>>>16)>>>0};var Wh={exports:{}};Wh.exports=function(i,t){for(var o,u=i.length,f=t^u,y=0;u>=4;)o=1540483477*(65535&(o=255&i.charCodeAt(y)|(255&i.charCodeAt(++y))<<8|(255&i.charCodeAt(++y))<<16|(255&i.charCodeAt(++y))<<24))+((1540483477*(o>>>16)&65535)<<16),f=1540483477*(65535&f)+((1540483477*(f>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),u-=4,++y;switch(u){case 3:f^=(255&i.charCodeAt(y+2))<<16;case 2:f^=(255&i.charCodeAt(y+1))<<8;case 1:f=1540483477*(65535&(f^=255&i.charCodeAt(y)))+((1540483477*(f>>>16)&65535)<<16)}return f=1540483477*(65535&(f^=f>>>13))+((1540483477*(f>>>16)&65535)<<16),(f^=f>>>15)>>>0};var Zh=wm.exports,ju=Wh.exports;Bu.exports=Zh,Bu.exports.murmur3=Zh,Bu.exports.murmur2=ju;class Xh{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,o,u,f){this.ids.push(ou(t)),this.positions.push(o,u,f)}getPositions(t){const o=ou(t);let u=0,f=this.ids.length-1;for(;u<f;){const v=u+f>>1;this.ids[v]>=o?f=v:u=v+1}const y=[];for(;this.ids[u]===o;)y.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return y}static serialize(t,o){const u=new Float64Array(t.ids),f=new Uint32Array(t.positions);return Kh(u,f,0,u.length-1),o&&o.push(u.buffer,f.buffer),{ids:u,positions:f}}static deserialize(t){const o=new Xh;return o.ids=t.ids,o.positions=t.positions,o.indexed=!0,o}}function ou(i){const t=+i;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:Bu.exports(String(i))}function Kh(i,t,o,u){for(;o<u;){const f=i[o+u>>1];let y=o-1,v=u+1;for(;;){do y++;while(i[y]<f);do v--;while(i[v]>f);if(y>=v)break;pf(i,y,v),pf(t,3*y,3*v),pf(t,3*y+1,3*v+1),pf(t,3*y+2,3*v+2)}v-o<u-v?(Kh(i,t,o,v),o=v+1):(Kh(i,t,v+1,u),u=v)}}function pf(i,t,o){const u=i[t];i[t]=i[o],i[o]=u}Dr(Xh,"FeaturePositionMap");class Js{constructor(t){this.gl=t.gl,this.initialized=!1}fetchUniformLocation(t,o){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(t,o),this.initialized=!0),!!this.location}}class Jh extends Js{constructor(t){super(t),this.current=0}set(t,o,u){this.fetchUniformLocation(t,o)&&this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class zg extends Js{constructor(t){super(t),this.current=[0,0,0,0]}set(t,o,u){this.fetchUniformLocation(t,o)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3])))}}class Yg extends Js{constructor(t){super(t),this.current=Ri.transparent}set(t,o,u){this.fetchUniformLocation(t,o)&&(u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a)))}}const Bg=new Float32Array(16),jg=new Float32Array(9),y0=new Float32Array(4);function Qh(i){return[Rr(255*i.r,255*i.g),Rr(255*i.b,255*i.a)]}class pd{constructor(t,o,u){this.value=t,this.uniformNames=o.map((f=>`u_${f}`)),this.type=u}setUniform(t,o,u,f,y){o.set(t,y,f.constantOr(this.value))}getBinding(t,o){return this.type==="color"?new Yg(t):new Jh(t)}}class Mo{constructor(t,o){this.uniformNames=o.map((u=>`u_${u}`)),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(t){this.pixelRatio=t.pixelRatio||1,this.pattern=t.tl.concat(t.br)}setUniform(t,o,u,f,y){const v=y==="u_pattern"||y==="u_dash"?this.pattern:y==="u_pixel_ratio"?this.pixelRatio:null;v&&o.set(t,y,v)}getBinding(t,o){return o==="u_pattern"||o==="u_dash"?new zg(t):new Jh(t)}}class Yo{constructor(t,o,u,f){this.expression=t,this.type=u,this.maxValue=0,this.paintVertexAttributes=o.map((y=>({name:`a_${y}`,type:"Float32",components:u==="color"?2:1,offset:0}))),this.paintVertexArray=new f}populatePaintArray(t,o,u,f,y,v){const S=this.paintVertexArray.length,T=this.expression.evaluate(new Xe(0),o,{},y,f,v);this.paintVertexArray.resize(t),this._setPaintValue(S,t,T)}updatePaintArray(t,o,u,f,y){const v=this.expression.evaluate({zoom:0},u,f,void 0,y);this._setPaintValue(t,o,v)}_setPaintValue(t,o,u){if(this.type==="color"){const f=Qh(u);for(let y=t;y<o;y++)this.paintVertexArray.emplace(y,f[0],f[1])}else{for(let f=t;f<o;f++)this.paintVertexArray.emplace(f,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Qs{constructor(t,o,u,f,y,v){this.expression=t,this.uniformNames=o.map((S=>`u_${S}_t`)),this.type=u,this.useIntegerZoom=f,this.zoom=y,this.maxValue=0,this.paintVertexAttributes=o.map((S=>({name:`a_${S}`,type:"Float32",components:u==="color"?4:2,offset:0}))),this.paintVertexArray=new v}populatePaintArray(t,o,u,f,y,v){const S=this.expression.evaluate(new Xe(this.zoom),o,{},y,f,v),T=this.expression.evaluate(new Xe(this.zoom+1),o,{},y,f,v),A=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(A,t,S,T)}updatePaintArray(t,o,u,f,y){const v=this.expression.evaluate({zoom:this.zoom},u,f,void 0,y),S=this.expression.evaluate({zoom:this.zoom+1},u,f,void 0,y);this._setPaintValue(t,o,v,S)}_setPaintValue(t,o,u,f){if(this.type==="color"){const y=Qh(u),v=Qh(f);for(let S=t;S<o;S++)this.paintVertexArray.emplace(S,y[0],y[1],v[0],v[1])}else{for(let y=t;y<o;y++)this.paintVertexArray.emplace(y,u,f);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(f))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,o,u,f,y){const v=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,S=ot(this.expression.interpolationFactor(v,this.zoom,this.zoom+1),0,1);o.set(t,y,S)}getBinding(t,o){return new Jh(t)}}class $u{constructor(t,o,u,f,y){this.expression=t,this.layerId=y,this.paintVertexAttributes=(u==="array"?Fg:Gh).members;for(let v=0;v<o.length;++v);this.paintVertexArray=new f}populatePaintArray(t,o,u){const f=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValues(f,t,o.patterns&&o.patterns[this.layerId],u)}updatePaintArray(t,o,u,f,y,v){this._setPaintValues(t,o,u.patterns&&u.patterns[this.layerId],v)}_setPaintValues(t,o,u,f){if(!f||!u)return;const y=f[u];if(!y)return;const{tl:v,br:S,pixelRatio:T}=y;for(let A=t;A<o;A++)this.paintVertexArray.emplace(A,v[0],v[1],S[0],S[1],T)}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class el{constructor(t,o,u=(()=>!0)){this.binders={},this._buffers=[];const f=[];for(const y in t.paint._values){if(!u(y))continue;const v=t.paint.get(y);if(!(v instanceof $t&&Wl(v.property.specification)))continue;const S=Vg(y,t.type),T=v.value,A=v.property.specification.type,O=v.property.useIntegerZoom,Y=y==="line-dasharray"||y.endsWith("pattern"),j=y==="line-dasharray"&&t.layout.get("line-cap").value.kind!=="constant";if(T.kind!=="constant"||j)if(T.kind==="source"||j||Y){const H=Mc(y,A,"source");this.binders[y]=Y?new $u(T,S,A,H,t.id):new Yo(T,S,A,H),f.push(`/a_${y}`)}else{const H=Mc(y,A,"composite");this.binders[y]=new Qs(T,S,A,O,o,H),f.push(`/z_${y}`)}else this.binders[y]=Y?new Mo(T.value,S):new pd(T.value,S,A),f.push(`/u_${y}`)}this.cacheKey=f.sort().join("")}getMaxValue(t){const o=this.binders[t];return o instanceof Yo||o instanceof Qs?o.maxValue:0}populatePaintArrays(t,o,u,f,y,v){for(const S in this.binders){const T=this.binders[S];(T instanceof Yo||T instanceof Qs||T instanceof $u)&&T.populatePaintArray(t,o,u,f,y,v)}}setConstantPatternPositions(t){for(const o in this.binders){const u=this.binders[o];u instanceof Mo&&u.setConstantPatternPositions(t)}}updatePaintArrays(t,o,u,f,y,v){let S=!1;for(const T in t){const A=o.getPositions(T);for(const O of A){const Y=u.feature(O.index);for(const j in this.binders){const H=this.binders[j];if((H instanceof Yo||H instanceof Qs||H instanceof $u)&&H.expression.isStateDependent===!0){const W=f.paint.get(j);H.expression=W.value,H.updatePaintArray(O.start,O.end,Y,t[T],y,v),S=!0}}}}return S}defines(){const t=[];for(const o in this.binders){const u=this.binders[o];(u instanceof pd||u instanceof Mo)&&t.push(...u.uniformNames.map((f=>`#define HAS_UNIFORM_${f}`)))}return t}getBinderAttributes(){const t=[];for(const o in this.binders){const u=this.binders[o];if(u instanceof Yo||u instanceof Qs||u instanceof $u)for(let f=0;f<u.paintVertexAttributes.length;f++)t.push(u.paintVertexAttributes[f].name)}return t}getBinderUniforms(){const t=[];for(const o in this.binders){const u=this.binders[o];if(u instanceof pd||u instanceof Mo||u instanceof Qs)for(const f of u.uniformNames)t.push(f)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t){const o=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof pd||f instanceof Mo||f instanceof Qs)for(const y of f.uniformNames)o.push({name:y,property:u,binding:f.getBinding(t,y)})}return o}setUniforms(t,o,u,f,y){for(const{name:v,property:S,binding:T}of u)this.binders[S].setUniform(t,T,y,f.get(S),v)}updatePaintBuffers(){this._buffers=[];for(const t in this.binders){const o=this.binders[t];(o instanceof Yo||o instanceof Qs||o instanceof $u)&&o.paintVertexBuffer&&this._buffers.push(o.paintVertexBuffer)}}upload(t){for(const o in this.binders){const u=this.binders[o];(u instanceof Yo||u instanceof Qs||u instanceof $u)&&u.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const o=this.binders[t];(o instanceof Yo||o instanceof Qs||o instanceof $u)&&o.destroy()}}}class ks{constructor(t,o,u=(()=>!0)){this.programConfigurations={};for(const f of t)this.programConfigurations[f.id]=new el(f,o,u);this.needsUpload=!1,this._featureMap=new Xh,this._bufferOffset=0}populatePaintArrays(t,o,u,f,y,v,S){for(const T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(t,o,f,y,v,S);o.id!==void 0&&this._featureMap.add(o.id,u,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,o,u,f,y){for(const v of u)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(t,this._featureMap,o,v,f,y)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const o in this.programConfigurations)this.programConfigurations[o].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}const $g={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Vg(i,t){return $g[i]||[i.replace(`${t}-`,"").replace(/-/g,"_")]}const b0={"line-pattern":{source:Fo,composite:Fo},"fill-pattern":{source:Fo,composite:Fo},"fill-extrusion-pattern":{source:Fo,composite:Fo},"line-dasharray":{source:as,composite:as}},Ug={color:{source:Nh,composite:ca},number:{source:wn,composite:Nh}};function Mc(i,t,o){const u=b0[i];return u&&u[o]||Ug[t][o]}Dr(pd,"ConstantBinder"),Dr(Mo,"PatternConstantBinder"),Dr(Yo,"SourceExpressionBinder"),Dr($u,"PatternCompositeBinder"),Dr(Qs,"CompositeExpressionBinder"),Dr(el,"ProgramConfiguration",{omit:["_buffers"]}),Dr(ks,"ProgramConfigurationSet");const Vu="-transition";class tl extends bo{constructor(t,o){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&t.type!=="sky"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),o.layout&&(this._unevaluatedLayout=new Et(o.layout)),o.paint)){this._transitionablePaint=new Ft(o.paint);for(const u in t.paint)this.setPaintProperty(u,t.paint[u],{validate:!1});for(const u in t.layout)this.setLayoutProperty(u,t.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new or(o.paint)}}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,o,u={}){o!=null&&this._validate(gm,`layers.${this.id}.layout.${t}`,t,o,u)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,o):this.visibility=o)}getPaintProperty(t){return qt(t,Vu)?this._transitionablePaint.getTransition(t.slice(0,-Vu.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,o,u={}){if(o!=null&&this._validate(ru,`layers.${this.id}.paint.${t}`,t,o,u))return!1;if(qt(t,Vu))return this._transitionablePaint.setTransition(t.slice(0,-Vu.length),o||void 0),!1;{const f=this._transitionablePaint._values[t],y=f.value.isDataDriven(),v=f.value;this._transitionablePaint.setValue(t,o),this._handleSpecialPaintPropertyUpdate(t);const S=this._transitionablePaint._values[t].value,T=S.isDataDriven(),A=qt(t,"pattern")||t==="line-dasharray";return T||y||A||this._handleOverridablePaintPropertyUpdate(t,v,S)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,o,u){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,o){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,o)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,o)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),Nt(t,((o,u)=>!(o===void 0||u==="layout"&&!Object.keys(o).length||u==="paint"&&!Object.keys(o).length)))}_validate(t,o,u,f,y={}){return(!y||y.validate!==!1)&&Oh(this,t.call(af,{key:o,layerType:this.type,objectKey:u,value:f,styleSpec:Pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const o=this.paint.get(t);if(o instanceof $t&&Wl(o.property.specification)&&(o.value.kind==="source"||o.value.kind==="composite")&&o.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Wi(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Ng=kr([{name:"a_pos",components:2,type:"Int16"}],4),Hg=kr([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Ui{constructor(t=[]){this.segments=t}prepareSegment(t,o,u,f){let y=this.segments[this.segments.length-1];return t>Ui.MAX_VERTEX_ARRAY_LENGTH&&Ce(`Max vertices per segment is ${Ui.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!y||y.vertexLength+t>Ui.MAX_VERTEX_ARRAY_LENGTH||y.sortKey!==f)&&(y={vertexOffset:o.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},f!==void 0&&(y.sortKey=f),this.segments.push(y)),y}get(){return this.segments}destroy(){for(const t of this.segments)for(const o in t.vaos)t.vaos[o].destroy()}static simpleSegment(t,o,u,f){return new Ui([{vertexOffset:t,primitiveOffset:o,vertexLength:u,primitiveLength:f,vaos:{},sortKey:0}])}}Ui.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Dr(Ui,"SegmentVector");var un=8192;class rl{constructor(t,o){t&&(o?this.setSouthWest(t).setNorthEast(o):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}setNorthEast(t){return this._ne=t instanceof jn?new jn(t.lng,t.lat):jn.convert(t),this}setSouthWest(t){return this._sw=t instanceof jn?new jn(t.lng,t.lat):jn.convert(t),this}extend(t){const o=this._sw,u=this._ne;let f,y;if(t instanceof jn)f=t,y=t;else{if(!(t instanceof rl))return Array.isArray(t)?t.length===4||t.every(Array.isArray)?this.extend(rl.convert(t)):this.extend(jn.convert(t)):typeof t=="object"&&t!==null&&t.hasOwnProperty("lat")&&t.hasOwnProperty("lon")?this.extend(jn.convert(t)):this;if(f=t._sw,y=t._ne,!f||!y)return this}return o||u?(o.lng=Math.min(f.lng,o.lng),o.lat=Math.min(f.lat,o.lat),u.lng=Math.max(y.lng,u.lng),u.lat=Math.max(y.lat,u.lat)):(this._sw=new jn(f.lng,f.lat),this._ne=new jn(y.lng,y.lat)),this}getCenter(){return new jn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new jn(this.getWest(),this.getNorth())}getSouthEast(){return new jn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:o,lat:u}=jn.convert(t);let f=this._sw.lng<=o&&o<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=o&&o>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&f}static convert(t){return!t||t instanceof rl?t:new rl(t)}}const md=63710088e-1;class jn{constructor(t,o){if(isNaN(t)||isNaN(o))throw new Error(`Invalid LngLat object: (${t}, ${o})`);if(this.lng=+t,this.lat=+o,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new jn(vt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const o=Math.PI/180,u=this.lat*o,f=t.lat*o,y=Math.sin(u)*Math.sin(f)+Math.cos(u)*Math.cos(f)*Math.cos((t.lng-this.lng)*o);return md*Math.acos(Math.min(y,1))}toBounds(t=0){const o=360*t/40075017,u=o/Math.cos(Math.PI/180*this.lat);return new rl(new jn(this.lng-u,this.lat-o),new jn(this.lng+u,this.lat+o))}static convert(t){if(t instanceof jn)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new jn(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new jn(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const qg=2*Math.PI*md;function ep(i){return qg*Math.cos(i*Math.PI/180)}function ss(i){return(180+i)/360}function nl(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function Ba(i,t){return i/ep(t)}function ls(i){return 360*i-180}function So(i){return 360/Math.PI*Math.atan(Math.exp((180-360*i)*Math.PI/180))-90}function Cl(i,t){return i*ep(So(t))}const il=85.051129;function xm(i){return 1/Math.cos(i*Math.PI/180)}class _d{constructor(t,o,u=0){this.x=+t,this.y=+o,this.z=+u}static fromLngLat(t,o=0){const u=jn.convert(t);return new _d(ss(u.lng),nl(u.lat),Ba(o,u.lat))}toLngLat(){return new jn(ls(this.x),So(this.y))}toAltitude(){return Cl(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/qg*xm(So(this.y))}}function tp(i,t,o,u,f,y,v,S,T){const A=(t+u)/2,O=(o+f)/2,Y=new he(A,O);S(Y),(function(j,H,W,ee,le,De){const ze=W-le,Ae=ee-De;return Math.abs((ee-H)*ze-(W-j)*Ae)/Math.hypot(ze,Ae)})(Y.x,Y.y,y.x,y.y,v.x,v.y)>=T?(tp(i,t,o,A,O,y,Y,S,T),tp(i,A,O,u,f,Y,v,S,T)):i.push(v)}function Gg(i,t,o){let u=i[0],f=u.x,y=u.y;t(u);const v=[u];for(let S=1;S<i.length;S++){const T=i[S],{x:A,y:O}=T;t(T),tp(v,f,y,A,O,u,T,t,o),f=A,y=O,u=T}return v}function Mm(i,t,o,u){if(u(t,o)){const f=t.add(o)._mult(.5);Mm(i,t,f,u),Mm(i,f,o,u)}else i.push(o)}function au(i,t){let o=i[0];const u=[o];for(let f=1;f<i.length;f++){const y=i[f];Mm(u,o,y,t),o=y}return u}const mf=Math.pow(2,14)-1,rp=-mf-1;function Sm(i,t){const o=Math.round(i.x*t),u=Math.round(i.y*t);return i.x=ot(o,rp,mf),i.y=ot(u,rp,mf),(o<i.x||o>i.x+1||u<i.y||u>i.y+1)&&Ce("Geometry exceeds allowed extent, reduce your vector tile buffer size"),i}function As(i,t,o){const u=i.loadGeometry(),f=i.extent,y=un/f;if(t&&o&&o.projection.isReprojectedInTileSpace){const v=1<<t.z,{scale:S,x:T,y:A,projection:O}=o,Y=j=>{const H=ls((t.x+j.x/f)/v),W=So((t.y+j.y/f)/v),ee=O.project(H,W);j.x=(ee.x*S-T)*f,j.y=(ee.y*S-A)*f};for(let j=0;j<u.length;j++)if(i.type!==1)u[j]=Gg(u[j],Y,1);else{const H=[];for(const W of u[j])W.x<0||W.x>=f||W.y<0||W.y>=f||(Y(W),H.push(W));u[j]=H}}for(const v of u)for(const S of v)Sm(S,y);return u}function Cs(i,t){return{type:i.type,id:i.id,properties:i.properties,geometry:t?As(i):[]}}function mn(i,t,o,u,f){i.emplaceBack(2*t+(u+1)/2,2*o+(f+1)/2)}function Sc(i,t,o){i.emplaceBack(t.x,t.y,t.z,o[0]*16384,o[1]*16384,o[2]*16384)}class _f{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((o=>o.id)),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new Xn,this.indexArray=new ho,this.segments=new Ui,this.programConfigurations=new ks(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((o=>o.isStateDependent())).map((o=>o.id))}populate(t,o,u,f){const y=this.layers[0],v=[];let S=null;y.type==="circle"&&(S=y.layout.get("circle-sort-key"));for(const{feature:A,id:O,index:Y,sourceLayerIndex:j}of t){const H=this.layers[0]._featureFilter.needGeometry,W=Cs(A,H);if(!this.layers[0]._featureFilter.filter(new Xe(this.zoom),W,u))continue;const ee=S?S.evaluate(W,{},u):void 0,le={id:O,properties:A.properties,type:A.type,sourceLayerIndex:j,index:Y,geometry:H?W.geometry:As(A,u,f),patterns:{},sortKey:ee};v.push(le)}S&&v.sort(((A,O)=>A.sortKey-O.sortKey));let T=null;f.projection.name==="globe"&&(this.globeExtVertexArray=new ui,T=f.projection);for(const A of v){const{geometry:O,index:Y,sourceLayerIndex:j}=A,H=t[Y].feature;this.addFeature(A,O,Y,o.availableImages,u,T),o.featureIndex.insert(H,O,Y,j,this.index)}}update(t,o,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,o,this.stateDependentLayers,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ng.members),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,Hg.members))),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(t,o,u,f,y,v){for(const S of o)for(const T of S){const A=T.x,O=T.y;if(A<0||A>=un||O<0||O>=un)continue;if(v){const H=v.projectTilePoint(A,O,y),W=v.upVector(y,A,O),ee=this.globeExtVertexArray;Sc(ee,H,W),Sc(ee,H,W),Sc(ee,H,W),Sc(ee,H,W)}const Y=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),j=Y.vertexLength;mn(this.layoutVertexArray,A,O,-1,-1),mn(this.layoutVertexArray,A,O,1,-1),mn(this.layoutVertexArray,A,O,1,1),mn(this.layoutVertexArray,A,O,-1,1),this.indexArray.emplaceBack(j,j+1,j+2),this.indexArray.emplaceBack(j,j+2,j+3),Y.vertexLength+=4,Y.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,{},f,y)}}function Uu(i,t){for(let o=0;o<i.length;o++)if(Nu(t,i[o]))return!0;for(let o=0;o<t.length;o++)if(Nu(i,t[o]))return!0;return!!Bo(i,t)}function v0(i,t,o){return!!Nu(i,t)||!!Lm(t,i,o)}function np(i,t){if(i.length===1)return Zg(t,i[0]);for(let o=0;o<t.length;o++){const u=t[o];for(let f=0;f<u.length;f++)if(Nu(i,u[f]))return!0}for(let o=0;o<i.length;o++)if(Zg(t,i[o]))return!0;for(let o=0;o<t.length;o++)if(Bo(i,t[o]))return!0;return!1}function Wg(i,t,o){if(i.length>1){if(Bo(i,t))return!0;for(let u=0;u<t.length;u++)if(Lm(t[u],i,o))return!0}for(let u=0;u<i.length;u++)if(Lm(i[u],t,o))return!0;return!1}function Bo(i,t){if(i.length===0||t.length===0)return!1;for(let o=0;o<i.length-1;o++){const u=i[o],f=i[o+1];for(let y=0;y<t.length-1;y++)if(w0(u,f,t[y],t[y+1]))return!0}return!1}function w0(i,t,o,u){return He(i,o,u)!==He(t,o,u)&&He(i,t,o)!==He(i,t,u)}function Lm(i,t,o){const u=o*o;if(t.length===1)return i.distSqr(t[0])<u;for(let f=1;f<t.length;f++)if(Tm(i,t[f-1],t[f])<u)return!0;return!1}function Tm(i,t,o){const u=t.distSqr(o);if(u===0)return i.distSqr(t);const f=((i.x-t.x)*(o.x-t.x)+(i.y-t.y)*(o.y-t.y))/u;return i.distSqr(f<0?t:f>1?o:o.sub(t)._mult(f)._add(t))}function Zg(i,t){let o,u,f,y=!1;for(let v=0;v<i.length;v++){o=i[v];for(let S=0,T=o.length-1;S<o.length;T=S++)u=o[S],f=o[T],u.y>t.y!=f.y>t.y&&t.x<(f.x-u.x)*(t.y-u.y)/(f.y-u.y)+u.x&&(y=!y)}return y}function Nu(i,t){let o=!1;for(let u=0,f=i.length-1;u<i.length;f=u++){const y=i[u],v=i[f];y.y>t.y!=v.y>t.y&&t.x<(v.x-y.x)*(t.y-y.y)/(v.y-y.y)+y.x&&(o=!o)}return o}function Xg(i,t,o,u,f){for(const v of i)if(t<=v.x&&o<=v.y&&u>=v.x&&f>=v.y)return!0;const y=[new he(t,o),new he(t,f),new he(u,f),new he(u,o)];if(i.length>2){for(const v of y)if(Nu(i,v))return!0}for(let v=0;v<i.length-1;v++)if(x0(i[v],i[v+1],y))return!0;return!1}function x0(i,t,o){const u=o[0],f=o[2];if(i.x<u.x&&t.x<u.x||i.x>f.x&&t.x>f.x||i.y<u.y&&t.y<u.y||i.y>f.y&&t.y>f.y)return!1;const y=He(i,t,o[0]);return y!==He(i,t,o[1])||y!==He(i,t,o[2])||y!==He(i,t,o[3])}function gd(i,t,o){const u=t.paint.get(i).value;return u.kind==="constant"?u.value:o.programConfigurations.get(t.id).getMaxValue(i)}function Ds(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function fa(i,t,o,u,f){if(!t[0]&&!t[1])return i;const y=he.convert(t)._mult(f);o==="viewport"&&y._rotate(-u);const v=[];for(let S=0;S<i.length;S++)v.push(i[S].sub(y));return v}function ip(i,t,o,u){const f=he.convert(i)._mult(u);return t==="viewport"&&f._rotate(-o),f}Dr(_f,"CircleBucket",{omit:["layers"]});const M0=new Qr({"circle-sort-key":new Mt(Pt.layout_circle["circle-sort-key"])});var Em={paint:new Qr({"circle-radius":new Mt(Pt.paint_circle["circle-radius"]),"circle-color":new Mt(Pt.paint_circle["circle-color"]),"circle-blur":new Mt(Pt.paint_circle["circle-blur"]),"circle-opacity":new Mt(Pt.paint_circle["circle-opacity"]),"circle-translate":new it(Pt.paint_circle["circle-translate"]),"circle-translate-anchor":new it(Pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new it(Pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new it(Pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Mt(Pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Mt(Pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Mt(Pt.paint_circle["circle-stroke-opacity"])}),layout:M0},op=1e-6,ja=typeof Float32Array<"u"?Float32Array:Array;function yd(){var i=new ja(9);return ja!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function km(i,t,o){var u=t[0],f=t[1],y=t[2],v=t[3],S=t[4],T=t[5],A=t[6],O=t[7],Y=t[8],j=o[0],H=o[1],W=o[2],ee=o[3],le=o[4],De=o[5],ze=o[6],Ae=o[7],Pe=o[8];return i[0]=j*u+H*v+W*A,i[1]=j*f+H*S+W*O,i[2]=j*y+H*T+W*Y,i[3]=ee*u+le*v+De*A,i[4]=ee*f+le*S+De*O,i[5]=ee*y+le*T+De*Y,i[6]=ze*u+Ae*v+Pe*A,i[7]=ze*f+Ae*S+Pe*O,i[8]=ze*y+Ae*T+Pe*Y,i}function Is(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Am(i,t){var o=t[0],u=t[1],f=t[2],y=t[3],v=t[4],S=t[5],T=t[6],A=t[7],O=t[8],Y=t[9],j=t[10],H=t[11],W=t[12],ee=t[13],le=t[14],De=t[15],ze=o*S-u*v,Ae=o*T-f*v,Pe=o*A-y*v,Ve=u*T-f*S,Ye=u*A-y*S,wt=f*A-y*T,_t=O*ee-Y*W,zt=O*le-j*W,rr=O*De-H*W,Tt=Y*le-j*ee,Vt=Y*De-H*ee,Ht=j*De-H*le,Qt=ze*Ht-Ae*Vt+Pe*Tt+Ve*rr-Ye*zt+wt*_t;return Qt?(i[0]=(S*Ht-T*Vt+A*Tt)*(Qt=1/Qt),i[1]=(f*Vt-u*Ht-y*Tt)*Qt,i[2]=(ee*wt-le*Ye+De*Ve)*Qt,i[3]=(j*Ye-Y*wt-H*Ve)*Qt,i[4]=(T*rr-v*Ht-A*zt)*Qt,i[5]=(o*Ht-f*rr+y*zt)*Qt,i[6]=(le*Pe-W*wt-De*Ae)*Qt,i[7]=(O*wt-j*Pe+H*Ae)*Qt,i[8]=(v*Vt-S*rr+A*_t)*Qt,i[9]=(u*rr-o*Vt-y*_t)*Qt,i[10]=(W*Ye-ee*Pe+De*ze)*Qt,i[11]=(Y*Pe-O*Ye-H*ze)*Qt,i[12]=(S*zt-v*Tt-T*_t)*Qt,i[13]=(o*Tt-u*zt+f*_t)*Qt,i[14]=(ee*Ae-W*Ve-le*ze)*Qt,i[15]=(O*Ve-Y*Ae+j*ze)*Qt,i):null}function Lc(i,t,o){var u=t[0],f=t[1],y=t[2],v=t[3],S=t[4],T=t[5],A=t[6],O=t[7],Y=t[8],j=t[9],H=t[10],W=t[11],ee=t[12],le=t[13],De=t[14],ze=t[15],Ae=o[0],Pe=o[1],Ve=o[2],Ye=o[3];return i[0]=Ae*u+Pe*S+Ve*Y+Ye*ee,i[1]=Ae*f+Pe*T+Ve*j+Ye*le,i[2]=Ae*y+Pe*A+Ve*H+Ye*De,i[3]=Ae*v+Pe*O+Ve*W+Ye*ze,i[4]=(Ae=o[4])*u+(Pe=o[5])*S+(Ve=o[6])*Y+(Ye=o[7])*ee,i[5]=Ae*f+Pe*T+Ve*j+Ye*le,i[6]=Ae*y+Pe*A+Ve*H+Ye*De,i[7]=Ae*v+Pe*O+Ve*W+Ye*ze,i[8]=(Ae=o[8])*u+(Pe=o[9])*S+(Ve=o[10])*Y+(Ye=o[11])*ee,i[9]=Ae*f+Pe*T+Ve*j+Ye*le,i[10]=Ae*y+Pe*A+Ve*H+Ye*De,i[11]=Ae*v+Pe*O+Ve*W+Ye*ze,i[12]=(Ae=o[12])*u+(Pe=o[13])*S+(Ve=o[14])*Y+(Ye=o[15])*ee,i[13]=Ae*f+Pe*T+Ve*j+Ye*le,i[14]=Ae*y+Pe*A+Ve*H+Ye*De,i[15]=Ae*v+Pe*O+Ve*W+Ye*ze,i}function gf(i,t,o){var u,f,y,v,S,T,A,O,Y,j,H,W,ee=o[0],le=o[1],De=o[2];return t===i?(i[12]=t[0]*ee+t[4]*le+t[8]*De+t[12],i[13]=t[1]*ee+t[5]*le+t[9]*De+t[13],i[14]=t[2]*ee+t[6]*le+t[10]*De+t[14],i[15]=t[3]*ee+t[7]*le+t[11]*De+t[15]):(f=t[1],y=t[2],v=t[3],S=t[4],T=t[5],A=t[6],O=t[7],Y=t[8],j=t[9],H=t[10],W=t[11],i[0]=u=t[0],i[1]=f,i[2]=y,i[3]=v,i[4]=S,i[5]=T,i[6]=A,i[7]=O,i[8]=Y,i[9]=j,i[10]=H,i[11]=W,i[12]=u*ee+S*le+Y*De+t[12],i[13]=f*ee+T*le+j*De+t[13],i[14]=y*ee+A*le+H*De+t[14],i[15]=v*ee+O*le+W*De+t[15]),i}function Tc(i,t,o){var u=o[0],f=o[1],y=o[2];return i[0]=t[0]*u,i[1]=t[1]*u,i[2]=t[2]*u,i[3]=t[3]*u,i[4]=t[4]*f,i[5]=t[5]*f,i[6]=t[6]*f,i[7]=t[7]*f,i[8]=t[8]*y,i[9]=t[9]*y,i[10]=t[10]*y,i[11]=t[11]*y,i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}function ap(i,t,o){var u=Math.sin(o),f=Math.cos(o),y=t[4],v=t[5],S=t[6],T=t[7],A=t[8],O=t[9],Y=t[10],j=t[11];return t!==i&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[4]=y*f+A*u,i[5]=v*f+O*u,i[6]=S*f+Y*u,i[7]=T*f+j*u,i[8]=A*f-y*u,i[9]=O*f-v*u,i[10]=Y*f-S*u,i[11]=j*f-T*u,i}function yf(i,t,o){var u=Math.sin(o),f=Math.cos(o),y=t[0],v=t[1],S=t[2],T=t[3],A=t[8],O=t[9],Y=t[10],j=t[11];return t!==i&&(i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[0]=y*f-A*u,i[1]=v*f-O*u,i[2]=S*f-Y*u,i[3]=T*f-j*u,i[8]=y*u+A*f,i[9]=v*u+O*f,i[10]=S*u+Y*f,i[11]=T*u+j*f,i}function Kg(i,t){return i[0]=t[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=t[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=t[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function sp(i,t,o){var u,f,y,v=o[0],S=o[1],T=o[2],A=Math.hypot(v,S,T);return A<op?null:(v*=A=1/A,S*=A,T*=A,u=Math.sin(t),f=Math.cos(t),i[0]=v*v*(y=1-f)+f,i[1]=S*v*y+T*u,i[2]=T*v*y-S*u,i[3]=0,i[4]=v*S*y-T*u,i[5]=S*S*y+f,i[6]=T*S*y+v*u,i[7]=0,i[8]=v*T*y+S*u,i[9]=S*T*y-v*u,i[10]=T*T*y+f,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}Math.hypot||(Math.hypot=function(){for(var i=0,t=arguments.length;t--;)i+=arguments[t]*arguments[t];return Math.sqrt(i)});var Jg=Lc;function Ec(){var i=new ja(3);return ja!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function lp(i){var t=new ja(3);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t}function bd(i){return Math.hypot(i[0],i[1],i[2])}function kc(i,t,o){var u=new ja(3);return u[0]=i,u[1]=t,u[2]=o,u}function Ps(i,t,o){return i[0]=t[0]+o[0],i[1]=t[1]+o[1],i[2]=t[2]+o[2],i}function up(i,t,o){return i[0]=t[0]-o[0],i[1]=t[1]-o[1],i[2]=t[2]-o[2],i}function ol(i,t,o){return i[0]=t[0]*o[0],i[1]=t[1]*o[1],i[2]=t[2]*o[2],i}function al(i,t,o){return i[0]=Math.min(t[0],o[0]),i[1]=Math.min(t[1],o[1]),i[2]=Math.min(t[2],o[2]),i}function bf(i,t,o){return i[0]=Math.max(t[0],o[0]),i[1]=Math.max(t[1],o[1]),i[2]=Math.max(t[2],o[2]),i}function $a(i,t,o){return i[0]=t[0]*o,i[1]=t[1]*o,i[2]=t[2]*o,i}function vf(i,t,o,u){return i[0]=t[0]+o[0]*u,i[1]=t[1]+o[1]*u,i[2]=t[2]+o[2]*u,i}function ha(i,t){var o=t[0],u=t[1],f=t[2],y=o*o+u*u+f*f;return y>0&&(y=1/Math.sqrt(y)),i[0]=t[0]*y,i[1]=t[1]*y,i[2]=t[2]*y,i}function Os(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]}function Cm(i,t,o){var u=t[0],f=t[1],y=t[2],v=o[0],S=o[1],T=o[2];return i[0]=f*T-y*S,i[1]=y*v-u*T,i[2]=u*S-f*v,i}function Zi(i,t,o){var u=t[0],f=t[1],y=t[2],v=o[3]*u+o[7]*f+o[11]*y+o[15];return i[0]=(o[0]*u+o[4]*f+o[8]*y+o[12])/(v=v||1),i[1]=(o[1]*u+o[5]*f+o[9]*y+o[13])/v,i[2]=(o[2]*u+o[6]*f+o[10]*y+o[14])/v,i}function Qg(i,t,o){var u=o[0],f=o[1],y=o[2],v=t[0],S=t[1],T=t[2],A=f*T-y*S,O=y*v-u*T,Y=u*S-f*v,j=f*Y-y*O,H=y*A-u*Y,W=u*O-f*A,ee=2*o[3];return O*=ee,Y*=ee,H*=2,W*=2,i[0]=v+(A*=ee)+(j*=2),i[1]=S+O+H,i[2]=T+Y+W,i}var wf,sl=up,S0=ol,L0=bd;function ey(i,t,o){return i[0]=t[0]*o,i[1]=t[1]*o,i[2]=t[2]*o,i[3]=t[3]*o,i}function Dm(i,t){var o=t[0],u=t[1],f=t[2],y=t[3],v=o*o+u*u+f*f+y*y;return v>0&&(v=1/Math.sqrt(v)),i[0]=o*v,i[1]=u*v,i[2]=f*v,i[3]=y*v,i}function Hu(i,t,o){var u=t[0],f=t[1],y=t[2],v=t[3];return i[0]=o[0]*u+o[4]*f+o[8]*y+o[12]*v,i[1]=o[1]*u+o[5]*f+o[9]*y+o[13]*v,i[2]=o[2]*u+o[6]*f+o[10]*y+o[14]*v,i[3]=o[3]*u+o[7]*f+o[11]*y+o[15]*v,i}function Im(){var i=new ja(4);return ja!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function ty(i){return i[0]=0,i[1]=0,i[2]=0,i[3]=1,i}function ry(i,t,o){o*=.5;var u=t[0],f=t[1],y=t[2],v=t[3],S=Math.sin(o),T=Math.cos(o);return i[0]=u*T+v*S,i[1]=f*T+y*S,i[2]=y*T-f*S,i[3]=v*T-u*S,i}function ny(i,t,o){o*=.5;var u=t[0],f=t[1],y=t[2],v=t[3],S=Math.sin(o),T=Math.cos(o);return i[0]=u*T-y*S,i[1]=f*T+v*S,i[2]=y*T+u*S,i[3]=v*T-f*S,i}Ec(),wf=new ja(4),ja!=Float32Array&&(wf[0]=0,wf[1]=0,wf[2]=0,wf[3]=0);var iy=Dm;Ec(),kc(1,0,0),kc(0,1,0),Im(),Im(),yd();class Pm{constructor(t,o){this.pos=t,this.dir=o}intersectsPlane(t,o,u){const f=Os(o,this.dir);if(Math.abs(f)<1e-6)return!1;const y=((t[0]-this.pos[0])*o[0]+(t[1]-this.pos[1])*o[1]+(t[2]-this.pos[2])*o[2])/f;return u[0]=this.pos[0]+this.dir[0]*y,u[1]=this.pos[1]+this.dir[1]*y,u[2]=this.pos[2]+this.dir[2]*y,!0}closestPointOnSphere(t,o,u){if((function(H,W){var ee=H[0],le=H[1],De=H[2],ze=W[0],Ae=W[1],Pe=W[2];return Math.abs(ee-ze)<=op*Math.max(1,Math.abs(ee),Math.abs(ze))&&Math.abs(le-Ae)<=op*Math.max(1,Math.abs(le),Math.abs(Ae))&&Math.abs(De-Pe)<=op*Math.max(1,Math.abs(De),Math.abs(Pe))})(this.pos,t)||o===0)return u[0]=u[1]=u[2]=0,!1;const[f,y,v]=this.dir,S=this.pos[0]-t[0],T=this.pos[1]-t[1],A=this.pos[2]-t[2],O=f*f+y*y+v*v,Y=2*(S*f+T*y+A*v),j=Y*Y-4*O*(S*S+T*T+A*A-o*o);if(j<0){const H=Math.max(-Y/2,0),W=S+f*H,ee=T+y*H,le=A+v*H,De=Math.hypot(W,ee,le);return u[0]=W*o/De,u[1]=ee*o/De,u[2]=le*o/De,!1}{const H=(-Y-Math.sqrt(j))/(2*O);if(H<0){const W=Math.hypot(S,T,A);return u[0]=S*o/W,u[1]=T*o/W,u[2]=A*o/W,!1}return u[0]=S+f*H,u[1]=T+y*H,u[2]=A+v*H,!0}}}class Om{constructor(t,o,u,f,y){this.TL=t,this.TR=o,this.BR=u,this.BL=f,this.horizon=y}static fromInvProjectionMatrix(t,o,u){const f=[-1,1,1],y=[1,1,1],v=[1,-1,1],S=[-1,-1,1],T=Zi(f,f,t),A=Zi(y,y,t),O=Zi(v,v,t),Y=Zi(S,S,t);return new Om(T,A,O,Y,o/u)}}class Rm{constructor(t,o){this.points=t,this.planes=o}static fromInvProjectionMatrix(t,o,u,f){const y=Math.pow(2,u),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((T=>{const A=Hu([],T,t),O=1/A[3]/o*y;return(function(Y,j,H){return Y[0]=j[0]*H[0],Y[1]=j[1]*H[1],Y[2]=j[2]*H[2],Y[3]=j[3]*H[3],Y})(A,A,[O,O,f?1/A[3]:O,O])})),S=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((T=>{const A=ha([],Cm([],sl([],v[T[0]],v[T[1]]),sl([],v[T[2]],v[T[1]]))),O=-Os(A,v[T[1]]);return A.concat(O)}));return new Rm(v,S)}}class pa{static fromPoints(t){const o=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0];for(const f of t)al(o,o,f),bf(u,u,f);return new pa(o,u)}static applyTransform(t,o){const u=t.getCorners();for(let f=0;f<u.length;++f)Zi(u[f],u[f],o);return pa.fromPoints(u)}constructor(t,o){this.min=t,this.max=o,this.center=$a([],Ps([],this.min,this.max),.5)}quadrant(t){const o=[t%2==0,t<2],u=lp(this.min),f=lp(this.max);for(let y=0;y<o.length;y++)u[y]=o[y]?this.min[y]:this.center[y],f[y]=o[y]?this.center[y]:this.max[y];return f[2]=this.max[2],new pa(u,f)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,o=this.max;return[[t[0],t[1],t[2]],[o[0],t[1],t[2]],[o[0],o[1],t[2]],[t[0],o[1],t[2]],[t[0],t[1],o[2]],[o[0],t[1],o[2]],[o[0],o[1],o[2]],[t[0],o[1],o[2]]]}intersects(t){const o=this.getCorners();let u=!0;for(let f=0;f<t.planes.length;f++){const y=t.planes[f];let v=0;for(let S=0;S<o.length;S++)v+=Os(y,o[S])+y[3]>=0;if(v===0)return 0;v!==o.length&&(u=!1)}if(u)return 2;for(let f=0;f<3;f++){let y=Number.MAX_VALUE,v=-Number.MAX_VALUE;for(let S=0;S<t.points.length;S++){const T=t.points[S][f]-this.min[f];y=Math.min(y,T),v=Math.max(v,T)}if(v<0||y>this.max[f]-this.min[f])return 0}return 1}}function oy(i,t,o,u,f,y,v,S,T){if(y&&i.queryGeometry.isAboveHorizon)return!1;y&&(T*=i.pixelToTileUnitsFactor);const A=i.tileID.canonical,O=o.projection.upVectorScale(A,o.center.lat,o.worldSize).metersToTile;for(const Y of t)for(const j of Y){const H=j.add(S),W=f&&o.elevation?o.elevation.exaggeration()*f.getElevationAt(H.x,H.y,!0):0,ee=o.projection.projectTilePoint(H.x,H.y,A);if(W>0){const Ae=o.projection.upVector(A,H.x,H.y);ee.x+=Ae[0]*O*W,ee.y+=Ae[1]*O*W,ee.z+=Ae[2]*O*W}const le=y?H:T0(ee.x,ee.y,ee.z,u),De=y?i.tilespaceRays.map((Ae=>k0(Ae,W))):i.queryGeometry.screenGeometry,ze=Hu([],[ee.x,ee.y,ee.z,1],u);if(!v&&y?T*=ze[3]/o.cameraToCenterDistance:v&&!y&&(T*=o.cameraToCenterDistance/ze[3]),y){const Ae=So((j.y/un+A.y)/(1<<A.z));T/=o.projection.pixelsPerMeter(Ae,1)/Ba(1,Ae)}if(v0(De,le,T))return!0}return!1}function T0(i,t,o,u){const f=Hu([],[i,t,o,1],u);return new he(f[0]/f[3],f[1]/f[3])}const us=kc(0,0,0),E0=kc(0,0,1);function k0(i,t){const o=Ec();return us[2]=t,i.intersectsPlane(us,E0,o),new he(o[0],o[1])}class ay extends _f{}function Fm(i,{width:t,height:o},u,f){if(f){if(f instanceof Uint8ClampedArray)f=new Uint8Array(f.buffer);else if(f.length!==t*o*u)throw new RangeError("mismatched image size")}else f=new Uint8Array(t*o*u);return i.width=t,i.height=o,i.data=f,i}function sy(i,t,o){const{width:u,height:f}=t;u===i.width&&f===i.height||(zm(i,t,{x:0,y:0},{x:0,y:0},{width:Math.min(i.width,u),height:Math.min(i.height,f)},o),i.width=u,i.height=f,i.data=t.data)}function zm(i,t,o,u,f,y){if(f.width===0||f.height===0)return t;if(f.width>i.width||f.height>i.height||o.x>i.width-f.width||o.y>i.height-f.height)throw new RangeError("out of range source coordinates for image copy");if(f.width>t.width||f.height>t.height||u.x>t.width-f.width||u.y>t.height-f.height)throw new RangeError("out of range destination coordinates for image copy");const v=i.data,S=t.data;for(let T=0;T<f.height;T++){const A=((o.y+T)*i.width+o.x)*y,O=((u.y+T)*t.width+u.x)*y;for(let Y=0;Y<f.width*y;Y++)S[O+Y]=v[A+Y]}return t}Dr(ay,"HeatmapBucket",{omit:["layers"]});class su{constructor(t,o){Fm(this,t,1,o)}resize(t){sy(this,new su(t),1)}clone(){return new su({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,o,u,f,y){zm(t,o,u,f,y,1)}}class Va{constructor(t,o){Fm(this,t,4,o)}resize(t){sy(this,new Va(t),4)}replace(t,o){o?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Va({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,o,u,f,y){zm(t,o,u,f,y,4)}}Dr(su,"AlphaImage"),Dr(Va,"RGBAImage");var Ym={paint:new Qr({"heatmap-radius":new Mt(Pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Mt(Pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new it(Pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Pr(Pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new it(Pt.paint_heatmap["heatmap-opacity"])})};function Bm(i){const t={},o=i.resolution||256,u=i.clips?i.clips.length:1,f=i.image||new Va({width:o,height:u}),y=(v,S,T)=>{t[i.evaluationKey]=T;const A=i.expression.evaluate(t);f.data[v+S+0]=Math.floor(255*A.r/A.a),f.data[v+S+1]=Math.floor(255*A.g/A.a),f.data[v+S+2]=Math.floor(255*A.b/A.a),f.data[v+S+3]=Math.floor(255*A.a)};if(i.clips)for(let v=0,S=0;v<u;++v,S+=4*o)for(let T=0,A=0;T<o;T++,A+=4){const O=T/(o-1),{start:Y,end:j}=i.clips[v];y(S,A,Y*(1-O)+j*O)}else for(let v=0,S=0;v<o;v++,S+=4)y(0,S,v/(o-1));return f}var A0={paint:new Qr({"hillshade-illumination-direction":new it(Pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new it(Pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new it(Pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new it(Pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new it(Pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new it(Pt.paint_hillshade["hillshade-accent-color"])})};const C0=kr([{name:"a_pos",components:2,type:"Int16"}],4),{members:D0}=C0;var xf={exports:{}};function cp(i,t,o){o=o||2;var u,f,y,v,S,T,A,O=t&&t.length,Y=O?t[0]*o:i.length,j=ly(i,0,Y,o,!0),H=[];if(!j||j.next===j.prev)return H;if(O&&(j=(function(ee,le,De,ze){var Ae,Pe,Ve,Ye=[];for(Ae=0,Pe=le.length;Ae<Pe;Ae++)(Ve=ly(ee,le[Ae]*ze,Ae<Pe-1?le[Ae+1]*ze:ee.length,ze,!1))===Ve.next&&(Ve.steiner=!0),Ye.push(B0(Ve));for(Ye.sort(F0),Ae=0;Ae<Ye.length;Ae++)De=z0(Ye[Ae],De);return De})(i,t,j,o)),i.length>80*o){u=y=i[0],f=v=i[1];for(var W=o;W<Y;W+=o)(S=i[W])<u&&(u=S),(T=i[W+1])<f&&(f=T),S>y&&(y=S),T>v&&(v=T);A=(A=Math.max(y-u,v-f))!==0?32767/A:0}return Mf(j,H,o,u,f,A,0),H}function ly(i,t,o,u,f){var y,v;if(f===hp(i,t,o,u)>0)for(y=t;y<o;y+=u)v=dy(y,i[y],i[y+1],v);else for(y=o-u;y>=t;y-=u)v=dy(y,i[y],i[y+1],v);return v&&Sf(v,v.next)&&(Tf(v),v=v.next),v}function Ac(i,t){if(!i)return i;t||(t=i);var o,u=i;do if(o=!1,u.steiner||!Sf(u,u.next)&&Ni(u.prev,u,u.next)!==0)u=u.next;else{if(Tf(u),(u=t=u.prev)===u.next)break;o=!0}while(o||u!==t);return t}function Mf(i,t,o,u,f,y,v){if(i){!v&&y&&(function(O,Y,j,H){var W=O;do W.z===0&&(W.z=jm(W.x,W.y,Y,j,H)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==O);W.prevZ.nextZ=null,W.prevZ=null,(function(ee){var le,De,ze,Ae,Pe,Ve,Ye,wt,_t=1;do{for(De=ee,ee=null,Pe=null,Ve=0;De;){for(Ve++,ze=De,Ye=0,le=0;le<_t&&(Ye++,ze=ze.nextZ);le++);for(wt=_t;Ye>0||wt>0&&ze;)Ye!==0&&(wt===0||!ze||De.z<=ze.z)?(Ae=De,De=De.nextZ,Ye--):(Ae=ze,ze=ze.nextZ,wt--),Pe?Pe.nextZ=Ae:ee=Ae,Ae.prevZ=Pe,Pe=Ae;De=ze}Pe.nextZ=null,_t*=2}while(Ve>1)})(W)})(i,u,f,y);for(var S,T,A=i;i.prev!==i.next;)if(S=i.prev,T=i.next,y?P0(i,u,f,y):I0(i))t.push(S.i/o|0),t.push(i.i/o|0),t.push(T.i/o|0),Tf(i),i=T.next,A=T.next;else if((i=T)===A){v?v===1?Mf(i=O0(Ac(i),t,o),t,o,u,f,y,2):v===2&&R0(i,t,o,u,f,y):Mf(Ac(i),t,o,u,f,y,1);break}}}function I0(i){var t=i.prev,o=i,u=i.next;if(Ni(t,o,u)>=0)return!1;for(var f=t.x,y=o.x,v=u.x,S=t.y,T=o.y,A=u.y,O=f<y?f<v?f:v:y<v?y:v,Y=S<T?S<A?S:A:T<A?T:A,j=f>y?f>v?f:v:y>v?y:v,H=S>T?S>A?S:A:T>A?T:A,W=u.next;W!==t;){if(W.x>=O&&W.x<=j&&W.y>=Y&&W.y<=H&&vd(f,S,y,T,v,A,W.x,W.y)&&Ni(W.prev,W,W.next)>=0)return!1;W=W.next}return!0}function P0(i,t,o,u){var f=i.prev,y=i,v=i.next;if(Ni(f,y,v)>=0)return!1;for(var S=f.x,T=y.x,A=v.x,O=f.y,Y=y.y,j=v.y,H=S<T?S<A?S:A:T<A?T:A,W=O<Y?O<j?O:j:Y<j?Y:j,ee=S>T?S>A?S:A:T>A?T:A,le=O>Y?O>j?O:j:Y>j?Y:j,De=jm(H,W,t,o,u),ze=jm(ee,le,t,o,u),Ae=i.prevZ,Pe=i.nextZ;Ae&&Ae.z>=De&&Pe&&Pe.z<=ze;){if(Ae.x>=H&&Ae.x<=ee&&Ae.y>=W&&Ae.y<=le&&Ae!==f&&Ae!==v&&vd(S,O,T,Y,A,j,Ae.x,Ae.y)&&Ni(Ae.prev,Ae,Ae.next)>=0||(Ae=Ae.prevZ,Pe.x>=H&&Pe.x<=ee&&Pe.y>=W&&Pe.y<=le&&Pe!==f&&Pe!==v&&vd(S,O,T,Y,A,j,Pe.x,Pe.y)&&Ni(Pe.prev,Pe,Pe.next)>=0))return!1;Pe=Pe.nextZ}for(;Ae&&Ae.z>=De;){if(Ae.x>=H&&Ae.x<=ee&&Ae.y>=W&&Ae.y<=le&&Ae!==f&&Ae!==v&&vd(S,O,T,Y,A,j,Ae.x,Ae.y)&&Ni(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.prevZ}for(;Pe&&Pe.z<=ze;){if(Pe.x>=H&&Pe.x<=ee&&Pe.y>=W&&Pe.y<=le&&Pe!==f&&Pe!==v&&vd(S,O,T,Y,A,j,Pe.x,Pe.y)&&Ni(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.nextZ}return!0}function O0(i,t,o){var u=i;do{var f=u.prev,y=u.next.next;!Sf(f,y)&&uy(f,u,u.next,y)&&Lf(f,y)&&Lf(y,f)&&(t.push(f.i/o|0),t.push(u.i/o|0),t.push(y.i/o|0),Tf(u),Tf(u.next),u=i=y),u=u.next}while(u!==i);return Ac(u)}function R0(i,t,o,u,f,y){var v=i;do{for(var S=v.next.next;S!==v.prev;){if(v.i!==S.i&&j0(v,S)){var T=cy(v,S);return v=Ac(v,v.next),T=Ac(T,T.next),Mf(v,t,o,u,f,y,0),void Mf(T,t,o,u,f,y,0)}S=S.next}v=v.next}while(v!==i)}function F0(i,t){return i.x-t.x}function z0(i,t){var o=(function(f,y){var v,S=y,T=f.x,A=f.y,O=-1/0;do{if(A<=S.y&&A>=S.next.y&&S.next.y!==S.y){var Y=S.x+(A-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(Y<=T&&Y>O&&(O=Y,v=S.x<S.next.x?S:S.next,Y===T))return v}S=S.next}while(S!==y);if(!v)return null;var j,H=v,W=v.x,ee=v.y,le=1/0;S=v;do T>=S.x&&S.x>=W&&T!==S.x&&vd(A<ee?T:O,A,W,ee,A<ee?O:T,A,S.x,S.y)&&(j=Math.abs(A-S.y)/(T-S.x),Lf(S,f)&&(j<le||j===le&&(S.x>v.x||S.x===v.x&&Y0(v,S)))&&(v=S,le=j)),S=S.next;while(S!==H);return v})(i,t);if(!o)return t;var u=cy(o,i);return Ac(u,u.next),Ac(o,o.next)}function Y0(i,t){return Ni(i.prev,i,t.prev)<0&&Ni(t.next,i,i.next)<0}function jm(i,t,o,u,f){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-o)*f|0)|i<<8))|i<<4))|i<<2))|i<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-u)*f|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function B0(i){var t=i,o=i;do(t.x<o.x||t.x===o.x&&t.y<o.y)&&(o=t),t=t.next;while(t!==i);return o}function vd(i,t,o,u,f,y,v,S){return(f-v)*(t-S)>=(i-v)*(y-S)&&(i-v)*(u-S)>=(o-v)*(t-S)&&(o-v)*(y-S)>=(f-v)*(u-S)}function j0(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!(function(o,u){var f=o;do{if(f.i!==o.i&&f.next.i!==o.i&&f.i!==u.i&&f.next.i!==u.i&&uy(f,f.next,o,u))return!0;f=f.next}while(f!==o);return!1})(i,t)&&(Lf(i,t)&&Lf(t,i)&&(function(o,u){var f=o,y=!1,v=(o.x+u.x)/2,S=(o.y+u.y)/2;do f.y>S!=f.next.y>S&&f.next.y!==f.y&&v<(f.next.x-f.x)*(S-f.y)/(f.next.y-f.y)+f.x&&(y=!y),f=f.next;while(f!==o);return y})(i,t)&&(Ni(i.prev,i,t.prev)||Ni(i,t.prev,t))||Sf(i,t)&&Ni(i.prev,i,i.next)>0&&Ni(t.prev,t,t.next)>0)}function Ni(i,t,o){return(t.y-i.y)*(o.x-t.x)-(t.x-i.x)*(o.y-t.y)}function Sf(i,t){return i.x===t.x&&i.y===t.y}function uy(i,t,o,u){var f=fp(Ni(i,t,o)),y=fp(Ni(i,t,u)),v=fp(Ni(o,u,i)),S=fp(Ni(o,u,t));return f!==y&&v!==S||!(f!==0||!dp(i,o,t))||!(y!==0||!dp(i,u,t))||!(v!==0||!dp(o,i,u))||!(S!==0||!dp(o,t,u))}function dp(i,t,o){return t.x<=Math.max(i.x,o.x)&&t.x>=Math.min(i.x,o.x)&&t.y<=Math.max(i.y,o.y)&&t.y>=Math.min(i.y,o.y)}function fp(i){return i>0?1:i<0?-1:0}function Lf(i,t){return Ni(i.prev,i,i.next)<0?Ni(i,t,i.next)>=0&&Ni(i,i.prev,t)>=0:Ni(i,t,i.prev)<0||Ni(i,i.next,t)<0}function cy(i,t){var o=new $m(i.i,i.x,i.y),u=new $m(t.i,t.x,t.y),f=i.next,y=t.prev;return i.next=t,t.prev=i,o.next=f,f.prev=o,u.next=o,o.prev=u,y.next=u,u.prev=y,u}function dy(i,t,o,u){var f=new $m(i,t,o);return u?(f.next=u.next,f.prev=u,u.next.prev=f,u.next=f):(f.prev=f,f.next=f),f}function Tf(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function $m(i,t,o){this.i=i,this.x=t,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function hp(i,t,o,u){for(var f=0,y=t,v=o-u;y<o;y+=u)f+=(i[v]-i[y])*(i[y+1]+i[v+1]),v=y;return f}function $0(i,t,o,u,f){Ef(i,t,o,u||i.length-1,f||V0)}function Ef(i,t,o,u,f){for(;u>o;){if(u-o>600){var y=u-o+1,v=t-o+1,S=Math.log(y),T=.5*Math.exp(2*S/3),A=.5*Math.sqrt(S*T*(y-T)/y)*(v-y/2<0?-1:1);Ef(i,t,Math.max(o,Math.floor(t-v*T/y+A)),Math.min(u,Math.floor(t+(y-v)*T/y+A)),f)}var O=i[t],Y=o,j=u;for(kf(i,o,t),f(i[u],O)>0&&kf(i,o,u);Y<j;){for(kf(i,Y,j),Y++,j--;f(i[Y],O)<0;)Y++;for(;f(i[j],O)>0;)j--}f(i[o],O)===0?kf(i,o,j):kf(i,++j,u),j<=t&&(o=j+1),t<=j&&(u=j-1)}}function kf(i,t,o){var u=i[t];i[t]=i[o],i[o]=u}function V0(i,t){return i<t?-1:i>t?1:0}function Vm(i,t){const o=i.length;if(o<=1)return[i];const u=[];let f,y;for(let v=0;v<o;v++){const S=at(i[v]);S!==0&&(i[v].area=Math.abs(S),y===void 0&&(y=S<0),y===S<0?(f&&u.push(f),f=[i[v]]):f.push(i[v]))}if(f&&u.push(f),t>1)for(let v=0;v<u.length;v++)u[v].length<=t||($0(u[v],t,1,u[v].length-1,U0),u[v]=u[v].slice(0,t));return u}function U0(i,t){return t.area-i.area}function Um(i,t,o){const u=o.patternDependencies;let f=!1;for(const y of t){const v=y.paint.get(`${i}-pattern`);v.isConstant()||(f=!0);const S=v.constantOr(null);S&&(f=!0,u[S]=!0)}return f}function Nm(i,t,o,u,f){const y=f.patternDependencies;for(const v of t){const S=v.paint.get(`${i}-pattern`).value;if(S.kind!=="constant"){let T=S.evaluate({zoom:u},o,{},f.availableImages);T=T&&T.name?T.name:T,y[T]=!0,o.patterns[v.id]=T}}return o}xf.exports=cp,xf.exports.default=cp,cp.deviation=function(i,t,o,u){var f=t&&t.length,y=Math.abs(hp(i,0,f?t[0]*o:i.length,o));if(f)for(var v=0,S=t.length;v<S;v++)y-=Math.abs(hp(i,t[v]*o,v<S-1?t[v+1]*o:i.length,o));var T=0;for(v=0;v<u.length;v+=3){var A=u[v]*o,O=u[v+1]*o,Y=u[v+2]*o;T+=Math.abs((i[A]-i[Y])*(i[O+1]-i[A+1])-(i[A]-i[O])*(i[Y+1]-i[A+1]))}return y===0&&T===0?0:Math.abs((T-y)/y)},cp.flatten=function(i){for(var t=i[0][0].length,o={vertices:[],holes:[],dimensions:t},u=0,f=0;f<i.length;f++){for(var y=0;y<i[f].length;y++)for(var v=0;v<t;v++)o.vertices.push(i[f][y][v]);f>0&&o.holes.push(u+=i[f-1].length)}return o};class pp{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((o=>o.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Xn,this.indexArray=new ho,this.indexArray2=new da,this.programConfigurations=new ks(t.layers,t.zoom),this.segments=new Ui,this.segments2=new Ui,this.stateDependentLayerIds=this.layers.filter((o=>o.isStateDependent())).map((o=>o.id)),this.projection=t.projection}populate(t,o,u,f){this.hasPattern=Um("fill",this.layers,o);const y=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:S,id:T,index:A,sourceLayerIndex:O}of t){const Y=this.layers[0]._featureFilter.needGeometry,j=Cs(S,Y);if(!this.layers[0]._featureFilter.filter(new Xe(this.zoom),j,u))continue;const H=y?y.evaluate(j,{},u,o.availableImages):void 0,W={id:T,properties:S.properties,type:S.type,sourceLayerIndex:O,index:A,geometry:Y?j.geometry:As(S,u,f),patterns:{},sortKey:H};v.push(W)}y&&v.sort(((S,T)=>S.sortKey-T.sortKey));for(const S of v){const{geometry:T,index:A,sourceLayerIndex:O}=S;if(this.hasPattern){const Y=Nm("fill",this.layers,S,this.zoom,o);this.patternFeatures.push(Y)}else this.addFeature(S,T,A,u,{},o.availableImages);o.featureIndex.insert(t[A].feature,T,A,O,this.index)}}update(t,o,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,o,this.stateDependentLayers,u,f)}addFeatures(t,o,u,f,y){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,o,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,D0),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,o,u,f,y,v=[]){for(const S of Vm(o,500)){let T=0;for(const W of S)T+=W.length;const A=this.segments.prepareSegment(T,this.layoutVertexArray,this.indexArray),O=A.vertexLength,Y=[],j=[];for(const W of S){if(W.length===0)continue;W!==S[0]&&j.push(Y.length/2);const ee=this.segments2.prepareSegment(W.length,this.layoutVertexArray,this.indexArray2),le=ee.vertexLength;this.layoutVertexArray.emplaceBack(W[0].x,W[0].y),this.indexArray2.emplaceBack(le+W.length-1,le),Y.push(W[0].x),Y.push(W[0].y);for(let De=1;De<W.length;De++)this.layoutVertexArray.emplaceBack(W[De].x,W[De].y),this.indexArray2.emplaceBack(le+De-1,le+De),Y.push(W[De].x),Y.push(W[De].y);ee.vertexLength+=W.length,ee.primitiveLength+=W.length}const H=xf.exports(Y,j);for(let W=0;W<H.length;W+=3)this.indexArray.emplaceBack(O+H[W],O+H[W+1],O+H[W+2]);A.vertexLength+=T,A.primitiveLength+=H.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,y,v,f)}}Dr(pp,"FillBucket",{omit:["layers","patternFeatures"]});const N0=new Qr({"fill-sort-key":new Mt(Pt.layout_fill["fill-sort-key"])});var H0={paint:new Qr({"fill-antialias":new it(Pt.paint_fill["fill-antialias"]),"fill-opacity":new Mt(Pt.paint_fill["fill-opacity"]),"fill-color":new Mt(Pt.paint_fill["fill-color"]),"fill-outline-color":new Mt(Pt.paint_fill["fill-outline-color"]),"fill-translate":new it(Pt.paint_fill["fill-translate"]),"fill-translate-anchor":new it(Pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Mt(Pt.paint_fill["fill-pattern"])}),layout:N0};const q0=kr([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),G0=kr([{name:"a_centroid_pos",components:2,type:"Uint16"}]),W0=kr([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Z0}=q0;var mp={},X0=he,fy=Cc;function Cc(i,t,o,u,f){this.properties={},this.extent=o,this.type=0,this._pbf=i,this._geometry=-1,this._keys=u,this._values=f,i.readFields(hy,this,t)}function hy(i,t,o){i==1?t.id=o.readVarint():i==2?(function(u,f){for(var y=u.readVarint()+u.pos;u.pos<y;){var v=f._keys[u.readVarint()],S=f._values[u.readVarint()];f.properties[v]=S}})(o,t):i==3?t.type=o.readVarint():i==4&&(t._geometry=o.pos)}function K0(i){for(var t,o,u=0,f=0,y=i.length,v=y-1;f<y;v=f++)u+=((o=i[v]).x-(t=i[f]).x)*(t.y+o.y);return u}Cc.types=["Unknown","Point","LineString","Polygon"],Cc.prototype.loadGeometry=function(){var i=this._pbf;i.pos=this._geometry;for(var t,o=i.readVarint()+i.pos,u=1,f=0,y=0,v=0,S=[];i.pos<o;){if(f<=0){var T=i.readVarint();u=7&T,f=T>>3}if(f--,u===1||u===2)y+=i.readSVarint(),v+=i.readSVarint(),u===1&&(t&&S.push(t),t=[]),t.push(new X0(y,v));else{if(u!==7)throw new Error("unknown command "+u);t&&t.push(t[0].clone())}}return t&&S.push(t),S},Cc.prototype.bbox=function(){var i=this._pbf;i.pos=this._geometry;for(var t=i.readVarint()+i.pos,o=1,u=0,f=0,y=0,v=1/0,S=-1/0,T=1/0,A=-1/0;i.pos<t;){if(u<=0){var O=i.readVarint();o=7&O,u=O>>3}if(u--,o===1||o===2)(f+=i.readSVarint())<v&&(v=f),f>S&&(S=f),(y+=i.readSVarint())<T&&(T=y),y>A&&(A=y);else if(o!==7)throw new Error("unknown command "+o)}return[v,T,S,A]},Cc.prototype.toGeoJSON=function(i,t,o){var u,f,y=this.extent*Math.pow(2,o),v=this.extent*i,S=this.extent*t,T=this.loadGeometry(),A=Cc.types[this.type];function O(H){for(var W=0;W<H.length;W++){var ee=H[W];H[W]=[360*(ee.x+v)/y-180,360/Math.PI*Math.atan(Math.exp((180-360*(ee.y+S)/y)*Math.PI/180))-90]}}switch(this.type){case 1:var Y=[];for(u=0;u<T.length;u++)Y[u]=T[u][0];O(T=Y);break;case 2:for(u=0;u<T.length;u++)O(T[u]);break;case 3:for(T=(function(H){var W=H.length;if(W<=1)return[H];for(var ee,le,De=[],ze=0;ze<W;ze++){var Ae=K0(H[ze]);Ae!==0&&(le===void 0&&(le=Ae<0),le===Ae<0?(ee&&De.push(ee),ee=[H[ze]]):ee.push(H[ze]))}return ee&&De.push(ee),De})(T),u=0;u<T.length;u++)for(f=0;f<T[u].length;f++)O(T[u][f])}T.length===1?T=T[0]:A="Multi"+A;var j={type:"Feature",geometry:{type:A,coordinates:T},properties:this.properties};return"id"in this&&(j.id=this.id),j};var J0=fy,py=my;function my(i,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=i,this._keys=[],this._values=[],this._features=[],i.readFields(_p,this,t),this.length=this._features.length}function _p(i,t,o){i===15?t.version=o.readVarint():i===1?t.name=o.readString():i===5?t.extent=o.readVarint():i===2?t._features.push(o.pos):i===3?t._keys.push(o.readString()):i===4&&t._values.push((function(u){for(var f=null,y=u.readVarint()+u.pos;u.pos<y;){var v=u.readVarint()>>3;f=v===1?u.readString():v===2?u.readFloat():v===3?u.readDouble():v===4?u.readVarint64():v===5?u.readVarint():v===6?u.readSVarint():v===7?u.readBoolean():null}return f})(o))}my.prototype.feature=function(i){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];var t=this._pbf.readVarint()+this._pbf.pos;return new J0(this._pbf,t,this.extent,this._keys,this._values)};var Q0=py;function e1(i,t,o){if(i===3){var u=new Q0(o,o.readVarint()+o.pos);u.length&&(t[u.name]=u)}}var Hm=mp.VectorTile=function(i,t){this.layers=i.readFields(e1,{},t)},gp=mp.VectorTileFeature=fy;function yp(i,t,o,u){const f=[],y=u===0?(v,S,T,A,O,Y)=>{v.push(new he(Y,T+(Y-S)/(A-S)*(O-T)))}:(v,S,T,A,O,Y)=>{v.push(new he(S+(Y-T)/(O-T)*(A-S),Y))};for(const v of i){const S=[];for(const T of v){if(T.length<=2)continue;const A=[];for(let j=0;j<T.length-1;j++){const H=T[j].x,W=T[j].y,ee=T[j+1].x,le=T[j+1].y,De=u===0?H:W,ze=u===0?ee:le;De<t?ze>t&&y(A,H,W,ee,le,t):De>o?ze<o&&y(A,H,W,ee,le,o):A.push(T[j]),ze<t&&De>=t&&y(A,H,W,ee,le,t),ze>o&&De<=o&&y(A,H,W,ee,le,o)}let O=T[T.length-1];const Y=u===0?O.x:O.y;Y>=t&&Y<=o&&A.push(O),A.length&&(O=A[A.length-1],A[0].x===O.x&&A[0].y===O.y||A.push(A[0]),S.push(A))}S.length&&f.push(S)}return f}mp.VectorTileLayer=py;const t1=gp.types,r1=Math.pow(2,13);function Af(i,t,o,u,f,y,v,S){i.emplaceBack((t<<1)+v,(o<<1)+y,(Math.floor(u*r1)<<1)+f,Math.round(S))}function Cf(i,t,o){i.emplaceBack(t.x,t.y,t.z,o[0]*16384,o[1]*16384,o[2]*16384)}class _y{constructor(){this.acc=new he(0,0),this.polyCount=[]}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new he(t.x,t.y),this.max=new he(t.x,t.y))}append(t,o){this.currentPolyCount.edges++,this.acc._add(t);const u=this.min,f=this.max;t.x<u.x?u.x=t.x:t.x>f.x&&(f.x=t.x),t.y<u.y?u.y=t.y:t.y>f.y&&(f.y=t.y),((t.x===0||t.x===un)&&t.x===o.x)!=((t.y===0||t.y===un)&&t.y===o.y)&&this.processBorderOverlap(t,o),o.x<0!=t.x<0&&this.addBorderIntersection(0,In(o.y,t.y,(0-o.x)/(t.x-o.x))),o.x>un!=t.x>un&&this.addBorderIntersection(1,In(o.y,t.y,(un-o.x)/(t.x-o.x))),o.y<0!=t.y<0&&this.addBorderIntersection(2,In(o.x,t.x,(0-o.y)/(t.y-o.y))),o.y>un!=t.y>un&&this.addBorderIntersection(3,In(o.x,t.x,(un-o.y)/(t.y-o.y)))}addBorderIntersection(t,o){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const u=this.borders[t];o<u[0]&&(u[0]=o),o>u[1]&&(u[1]=o)}processBorderOverlap(t,o){if(t.x===o.x){if(t.y===o.y)return;const u=t.x===0?0:1;this.addBorderIntersection(u,o.y),this.addBorderIntersection(u,t.y)}else{const u=t.y===0?2:3;this.addBorderIntersection(u,o.x),this.addBorderIntersection(u,t.x)}}centroid(){const t=this.polyCount.reduce(((o,u)=>o+u.edges),0);return t!==0?this.acc.div(t)._round():new he(0,0)}span(){return new he(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce(((t,o)=>t+ +(o[0]!==Number.MAX_VALUE)),0)}}class Df{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((o=>o.id)),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new li,this.centroidVertexArray=new vm,this.indexArray=new ho,this.programConfigurations=new ks(t.layers,t.zoom),this.segments=new Ui,this.stateDependentLayerIds=this.layers.filter((o=>o.isStateDependent())).map((o=>o.id)),this.enableTerrain=t.enableTerrain}populate(t,o,u,f){this.features=[],this.hasPattern=Um("fill-extrusion",this.layers,o),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=(function(y){const v=Math.exp(Math.PI*(1-y.y/(1<<y.z)*2));return 80150034*v/(v*v+1)/un/(1<<y.z)})(u),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:y,id:v,index:S,sourceLayerIndex:T}of t){const A=this.layers[0]._featureFilter.needGeometry,O=Cs(y,A);if(!this.layers[0]._featureFilter.filter(new Xe(this.zoom),O,u))continue;const Y={id:v,sourceLayerIndex:T,index:S,geometry:A?O.geometry:As(y,u,f),properties:y.properties,type:y.type,patterns:{}},j=this.layoutVertexArray.length;this.hasPattern?this.features.push(Nm("fill-extrusion",this.layers,Y,this.zoom,o)):this.addFeature(Y,Y.geometry,S,u,{},o.availableImages,f),o.featureIndex.insert(y,Y.geometry,S,T,this.index,j)}this.sortBorders()}addFeatures(t,o,u,f,y){for(const v of this.features){const{geometry:S}=v;this.addFeature(v,S,v.index,o,u,f,y)}this.sortBorders()}update(t,o,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,o,this.stateDependentLayers,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Z0),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=t.createVertexBuffer(this.layoutVertexExtArray,W0.members,!0))),this.programConfigurations.upload(t),this.uploaded=!0}uploadCentroid(t){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,G0.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,o,u,f,y,v,S){const T=[new he(0,0),new he(un,un)],A=S.projection,O=A.name==="globe",Y=this.enableTerrain&&!O?new _y:null,j=t1[t.type]==="Polygon";O&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new ui);const H=Vm(o,500);for(let De=H.length-1;De>=0;De--){const ze=H[De];(ze.length===0||(W=ze[0]).every((Ae=>Ae.x<=0))||W.every((Ae=>Ae.x>=un))||W.every((Ae=>Ae.y<=0))||W.every((Ae=>Ae.y>=un)))&&H.splice(De,1)}var W;let ee;if(O)ee=Xm(H,T,f);else{ee=[];for(const De of H)ee.push({polygon:De,bounds:T})}const le=j?this.edgeRadius:0;for(const{polygon:De,bounds:ze}of ee){let Ae=0,Pe=0;for(const Ye of De)j&&!Ye[0].equals(Ye[Ye.length-1])&&Ye.push(Ye[0]),Pe+=j?Ye.length-1:Ye.length;const Ve=this.segments.prepareSegment((j?5:4)*Pe,this.layoutVertexArray,this.indexArray);if(j){const Ye=[],wt=[];Ae=Ve.vertexLength;for(const zt of De){let rr,Tt;zt.length&&zt!==De[0]&&wt.push(Ye.length/2),rr=zt[1].sub(zt[0])._perp()._unit();for(let Vt=1;Vt<zt.length;Vt++){const Ht=zt[Vt],Qt=zt[Vt===zt.length-1?1:Vt+1];let{x:ir,y:kt}=Ht;if(le){Tt=Qt.sub(Ht)._perp()._unit();const gr=rr.add(Tt)._unit(),ln=le*Math.min(4,1/(rr.x*gr.x+rr.y*gr.y));ir+=ln*gr.x,kt+=ln*gr.y,rr=Tt}Af(this.layoutVertexArray,ir,kt,0,0,1,1,0),Ve.vertexLength++,Ye.push(Ht.x,Ht.y),O&&Cf(this.layoutVertexExtArray,A.projectTilePoint(ir,kt,f),A.upVector(f,ir,kt))}}const _t=xf.exports(Ye,wt);for(let zt=0;zt<_t.length;zt+=3)this.indexArray.emplaceBack(Ae+_t[zt],Ae+_t[zt+2],Ae+_t[zt+1]),Ve.primitiveLength++}for(const Ye of De){Y&&Ye.length&&Y.startRing(Ye[0]);let wt,_t,zt,rr=Ye.length>4&&bp(Ye[Ye.length-2],Ye[0],Ye[1]),Tt=le?n1(Ye[Ye.length-2],Ye[0],Ye[1],le):0;_t=Ye[1].sub(Ye[0])._perp()._unit();let Vt=!0;for(let Ht=1,Qt=0;Ht<Ye.length;Ht++){let ir=Ye[Ht-1],kt=Ye[Ht];const gr=Ye[Ht===Ye.length-1?1:Ht+1];if(Y&&j&&Y.currentPolyCount.top++,Gm(kt,ir,ze)){le&&(_t=gr.sub(kt)._perp()._unit(),Vt=!Vt);continue}Y&&Y.append(kt,ir);const ln=kt.sub(ir)._perp(),Mr=ln.x/(Math.abs(ln.x)+Math.abs(ln.y)),Vr=ln.y>0?1:0,yr=ir.dist(kt);if(Qt+yr>32768&&(Qt=0),le){zt=gr.sub(kt)._perp()._unit();let Pn=qm(ir,kt,gr,If(_t,zt),le);isNaN(Pn)&&(Pn=0);const fn=kt.sub(ir)._unit();ir=ir.add(fn.mult(Tt))._round(),kt=kt.add(fn.mult(-Pn))._round(),Tt=Pn,_t=zt}const dn=Ve.vertexLength,Un=Ye.length>4&&bp(ir,kt,gr);let zn=Wm(Qt,rr,Vt);if(Af(this.layoutVertexArray,ir.x,ir.y,Mr,Vr,0,0,zn),Af(this.layoutVertexArray,ir.x,ir.y,Mr,Vr,0,1,zn),Qt+=yr,zn=Wm(Qt,Un,!Vt),rr=Un,Af(this.layoutVertexArray,kt.x,kt.y,Mr,Vr,0,0,zn),Af(this.layoutVertexArray,kt.x,kt.y,Mr,Vr,0,1,zn),Ve.vertexLength+=4,this.indexArray.emplaceBack(dn+0,dn+1,dn+2),this.indexArray.emplaceBack(dn+1,dn+3,dn+2),Ve.primitiveLength+=2,le){const Pn=Ae+(Ht===1?Ye.length-2:Ht-2),fn=Ht===1?Ae:Pn+1;if(this.indexArray.emplaceBack(dn+1,Pn,dn+3),this.indexArray.emplaceBack(Pn,fn,dn+3),Ve.primitiveLength+=2,wt===void 0&&(wt=dn),!Gm(gr,Ye[Ht],ze)){const gi=Ht===Ye.length-1?wt:Ve.vertexLength;this.indexArray.emplaceBack(dn+2,dn+3,gi),this.indexArray.emplaceBack(dn+3,gi+1,gi),this.indexArray.emplaceBack(dn+3,fn,gi+1),Ve.primitiveLength+=3}Vt=!Vt}if(O){const Pn=this.layoutVertexExtArray,fn=A.projectTilePoint(ir.x,ir.y,f),gi=A.projectTilePoint(kt.x,kt.y,f),gn=A.upVector(f,ir.x,ir.y),Nn=A.upVector(f,kt.x,kt.y);Cf(Pn,fn,gn),Cf(Pn,fn,gn),Cf(Pn,gi,Nn),Cf(Pn,gi,Nn)}}j&&(Ae+=Ye.length-1)}}if(Y&&Y.polyCount.length>0){if(Y.borders){Y.vertexArrayOffset=this.centroidVertexArray.length;const De=Y.borders,ze=this.featuresOnBorder.push(Y)-1;for(let Ae=0;Ae<4;Ae++)De[Ae][0]!==Number.MAX_VALUE&&this.borders[Ae].push(ze)}this.encodeCentroid(Y.borders?void 0:Y.centroid(),Y)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,y,v,f)}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort(((o,u)=>this.featuresOnBorder[o].borders[t][0]-this.featuresOnBorder[u].borders[t][0]))}encodeCentroid(t,o,u=!0){let f,y;if(t)if(t.y!==0){const S=o.span()._mult(this.tileToMeter);f=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(S.x/10)),y=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(S.y/10))}else f=Math.ceil(7*(t.x+450)),y=0;else f=0,y=+u;let v=u?this.centroidVertexArray.length:o.vertexArrayOffset;for(const S of o.polyCount){u&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*S.edges+S.top);for(let T=0;T<S.top;T++)this.centroidVertexArray.emplace(v++,f,y);for(let T=0;T<2*S.edges;T++)this.centroidVertexArray.emplace(v++,0,y),this.centroidVertexArray.emplace(v++,f,y)}}}function If(i,t){const o=i.add(t)._unit();return i.x*o.x+i.y*o.y}function n1(i,t,o,u){const f=t.sub(i)._perp()._unit(),y=o.sub(t)._perp()._unit();return qm(i,t,o,If(f,y),u)}function qm(i,t,o,u,f){const y=Math.sqrt(1-u*u);return Math.min(i.dist(t)/3,t.dist(o)/3,f*y/u)}function Gm(i,t,o){return i.x<o[0].x&&t.x<o[0].x||i.x>o[1].x&&t.x>o[1].x||i.y<o[0].y&&t.y<o[0].y||i.y>o[1].y&&t.y>o[1].y}function bp(i,t,o){if(i.x<0||i.x>=un||t.x<0||t.x>=un||o.x<0||o.x>=un)return!1;const u=o.sub(t),f=u.perp(),y=i.sub(t);return(u.x*y.x+u.y*y.y)/Math.sqrt((u.x*u.x+u.y*u.y)*(y.x*y.x+y.y*y.y))>-.866&&f.x*y.x+f.y*y.y<0}function Wm(i,t,o){const u=t?2|i:-3&i;return o?1|u:-2&u}function Zm(){const i=Math.PI/32,t=Math.tan(i),o=md;return o*Math.sqrt(1+2*t*t)-o}function Xm(i,t,o){const u=1<<o.z,f=ls(o.x/u),y=ls((o.x+1)/u),v=So(o.y/u),S=So((o.y+1)/u);return(function(T,A,O,Y,j=0,H){const W=[];if(!T.length||!O||!Y)return W;const ee=(Ye,wt)=>{for(const _t of Ye)W.push({polygon:_t,bounds:wt})},le=Math.ceil(Math.log2(O)),De=Math.ceil(Math.log2(Y)),ze=le-De,Ae=[];for(let Ye=0;Ye<Math.abs(ze);Ye++)Ae.push(ze>0?0:1);for(let Ye=0;Ye<Math.min(le,De);Ye++)Ae.push(0),Ae.push(1);let Pe=T;if(Pe=yp(Pe,A[0].y-j,A[1].y+j,1),Pe=yp(Pe,A[0].x-j,A[1].x+j,0),!Pe.length)return W;const Ve=[];for(Ae.length?Ve.push({polygons:Pe,bounds:A,depth:0}):ee(Pe,A);Ve.length;){const Ye=Ve.pop(),wt=Ye.depth,_t=Ae[wt],zt=Ye.bounds[0],rr=Ye.bounds[1],Tt=_t===0?zt.x:zt.y,Vt=_t===0?rr.x:rr.y,Ht=H?H(_t,Tt,Vt):.5*(Tt+Vt),Qt=yp(Ye.polygons,Tt-j,Ht+j,_t),ir=yp(Ye.polygons,Ht-j,Vt+j,_t);if(Qt.length){const kt=[zt,new he(_t===0?Ht:rr.x,_t===1?Ht:rr.y)];Ae.length>wt+1?Ve.push({polygons:Qt,bounds:kt,depth:wt+1}):ee(Qt,kt)}if(ir.length){const kt=[new he(_t===0?Ht:zt.x,_t===1?Ht:zt.y),rr];Ae.length>wt+1?Ve.push({polygons:ir,bounds:kt,depth:wt+1}):ee(ir,kt)}}return W})(i,t,Math.ceil((y-f)/11.25),Math.ceil((v-S)/11.25),1,((T,A,O)=>{if(T===0)return .5*(A+O);{const Y=So((o.y+A/un)/u);return(nl(.5*(So((o.y+O/un)/u)+Y))*u-o.y)*un}}))}Dr(Df,"FillExtrusionBucket",{omit:["layers","features"]}),Dr(_y,"PartMetadata");const gy=new Qr({"fill-extrusion-edge-radius":new it(Pt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var i1={paint:new Qr({"fill-extrusion-opacity":new it(Pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Mt(Pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new it(Pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new it(Pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Mt(Pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Mt(Pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Mt(Pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new it(Pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new it(Pt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new it(Pt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:gy};function yy(i,t,o){var u=2*Math.PI*6378137/256/Math.pow(2,o);return[i*u-2*Math.PI*6378137/2,t*u-2*Math.PI*6378137/2]}class vp{constructor(t,o,u){this.z=t,this.x=o,this.y=u,this.key=Of(0,t,t,o,u)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,o){const u=(function(y,v,S){var T=yy(256*y,256*(v=Math.pow(2,S)-v-1),S),A=yy(256*(y+1),256*(v+1),S);return T[0]+","+T[1]+","+A[0]+","+A[1]})(this.x,this.y,this.z),f=(function(y,v,S){let T,A="";for(let O=y;O>0;O--)T=1<<O-1,A+=(v&T?1:0)+(S&T?2:0);return A})(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(o==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",f).replace("{bbox-epsg-3857}",u)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Pf{constructor(t,o){this.wrap=t,this.canonical=o,this.key=Of(t,o.z,o.z,o.x,o.y)}}class Lo{constructor(t,o,u,f,y){this.overscaledZ=t,this.wrap=o,this.canonical=new vp(u,+f,+y),this.key=o===0&&t===u?this.canonical.key:Of(o,t,u,f,y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const o=this.canonical.z-t;return t>this.canonical.z?new Lo(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Lo(t,this.wrap,t,this.canonical.x>>o,this.canonical.y>>o)}calculateScaledKey(t,o=!0){if(this.overscaledZ===t&&o)return this.key;if(t>this.canonical.z)return Of(this.wrap*+o,t,this.canonical.z,this.canonical.x,this.canonical.y);{const u=this.canonical.z-t;return Of(this.wrap*+o,t,t,this.canonical.x>>u,this.canonical.y>>u)}}isChildOf(t){if(t.wrap!==this.wrap)return!1;const o=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>o&&t.canonical.y===this.canonical.y>>o}children(t){if(this.overscaledZ>=t)return[new Lo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const o=this.canonical.z+1,u=2*this.canonical.x,f=2*this.canonical.y;return[new Lo(o,this.wrap,o,u,f),new Lo(o,this.wrap,o,u+1,f),new Lo(o,this.wrap,o,u,f+1),new Lo(o,this.wrap,o,u+1,f+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new Lo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new Lo(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Pf(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Of(i,t,o,u,f){const y=1<<Math.min(o,22);let v=y*(f%y)+u%y;return i&&o<22&&(v+=y*y*((i<0?-2*i-1:2*i)%(1<<2*(22-o)))),16*(32*v+o)+(t-o)}Dr(vp,"CanonicalTileID"),Dr(Lo,"OverscaledTileID",{omit:["projMatrix"]});class wd extends he{constructor(t,o,u){super(t,o),this.z=u}}function Dc(i,t){return i.x*t.x+i.y*t.y}function Km(i,t){if(i.length===1){let o=0;const u=t[o++];let f;for(;!f||u.equals(f);)if(f=t[o++],!f)return 1/0;for(;o<t.length;o++){const y=t[o],v=i[0],S=f.sub(u),T=y.sub(u),A=v.sub(u),O=Dc(S,S),Y=Dc(S,T),j=Dc(T,T),H=Dc(A,S),W=Dc(A,T),ee=O*j-Y*Y,le=(j*H-Y*W)/ee,De=(O*W-Y*H)/ee,ze=u.z*(1-le-De)+f.z*le+y.z*De;if(isFinite(ze))return ze}return 1/0}{let o=1/0;for(const u of t)o=Math.min(o,u.z);return o}}function by(i,t,o,u,f,y,v,S){const T=v*f.getElevationAt(i,t,!0,!0),A=y[0]!==0,O=A?y[1]===0?v*(y[0]/7-450):v*(function(Y,j,H){const W=Math.floor(j[0]/8),ee=Math.floor(j[1]/8),le=10*(j[0]-8*W),De=10*(j[1]-8*ee),ze=Y.getElevationAt(W,ee,!0,!0),Ae=Y.getMeterToDEM(H),Pe=Math.floor(.5*(le*Ae-1)),Ve=Math.floor(.5*(De*Ae-1)),Ye=Y.tileCoordToPixel(W,ee),wt=2*Pe+1,_t=2*Ve+1,zt=(function(ir,kt,gr,ln,Mr){return[ir.getElevationAtPixel(kt,gr,!0),ir.getElevationAtPixel(kt+Mr,gr,!0),ir.getElevationAtPixel(kt,gr+Mr,!0),ir.getElevationAtPixel(kt+ln,gr+Mr,!0)]})(Y,Ye.x-Pe,Ye.y-Ve,wt,_t),rr=Math.abs(zt[0]-zt[1]),Tt=Math.abs(zt[2]-zt[3]),Vt=Math.abs(zt[0]-zt[2])+Math.abs(zt[1]-zt[3]),Ht=Math.min(.25,.5*Ae*(rr+Tt)/wt),Qt=Math.min(.25,.5*Ae*Vt/_t);return ze+Math.max(Ht*le,Qt*De)})(f,y,S):T;return{base:T+(o===0)?-1:o,top:A?Math.max(O+u,T+o+2):T+u}}const o1=kr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:a1}=o1,s1=kr([{name:"a_packed",components:4,type:"Float32"}]),{members:l1}=s1,u1=gp.types,c1=Math.cos(Math.PI/180*37.5);class wp{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((o=>o.id)),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((o=>{this.gradients[o.id]={}})),this.layoutVertexArray=new Ro,this.layoutVertexArray2=new ca,this.indexArray=new ho,this.programConfigurations=new ks(t.layers,t.zoom),this.segments=new Ui,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((o=>o.isStateDependent())).map((o=>o.id))}populate(t,o,u,f){this.hasPattern=Um("line",this.layers,o);const y=this.layers[0].layout.get("line-sort-key"),v=[];for(const{feature:O,id:Y,index:j,sourceLayerIndex:H}of t){const W=this.layers[0]._featureFilter.needGeometry,ee=Cs(O,W);if(!this.layers[0]._featureFilter.filter(new Xe(this.zoom),ee,u))continue;const le=y?y.evaluate(ee,{},u):void 0,De={id:Y,properties:O.properties,type:O.type,sourceLayerIndex:H,index:j,geometry:W?ee.geometry:As(O,u,f),patterns:{},sortKey:le};v.push(De)}y&&v.sort(((O,Y)=>O.sortKey-Y.sortKey));const{lineAtlas:S,featureIndex:T}=o,A=this.addConstantDashes(S);for(const O of v){const{geometry:Y,index:j,sourceLayerIndex:H}=O;if(A&&this.addFeatureDashes(O,S),this.hasPattern){const W=Nm("line",this.layers,O,this.zoom,o);this.patternFeatures.push(W)}else this.addFeature(O,Y,j,u,S.positions,o.availableImages);T.insert(t[j].feature,Y,j,H,this.index)}}addConstantDashes(t){let o=!1;for(const u of this.layers){const f=u.paint.get("line-dasharray").value,y=u.layout.get("line-cap").value;if(f.kind!=="constant"||y.kind!=="constant")o=!0;else{const v=y.value,S=f.value;if(!S)continue;t.addDash(S,v)}}return o}addFeatureDashes(t,o){const u=this.zoom;for(const f of this.layers){const y=f.paint.get("line-dasharray").value,v=f.layout.get("line-cap").value;if(y.kind==="constant"&&v.kind==="constant")continue;let S,T;if(y.kind==="constant"){if(S=y.value,!S)continue}else S=y.evaluate({zoom:u},t);T=v.kind==="constant"?v.value:v.evaluate({zoom:u},t),o.addDash(S,T),t.patterns[f.id]=o.getKey(S,T)}}update(t,o,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,o,this.stateDependentLayers,u,f)}addFeatures(t,o,u,f,y){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,o,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,l1)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a1),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,o,u,f,y,v){const S=this.layers[0].layout,T=S.get("line-join").evaluate(t,{}),A=S.get("line-cap").evaluate(t,{}),O=S.get("line-miter-limit"),Y=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const j of o)this.addLine(j,t,T,A,O,Y);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,y,v,f)}addLine(t,o,u,f,y,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let De=0;De<t.length-1;De++)this.totalDistance+=t[De].dist(t[De+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const S=u1[o.type]==="Polygon";let T=t.length;for(;T>=2&&t[T-1].equals(t[T-2]);)T--;let A=0;for(;A<T-1&&t[A].equals(t[A+1]);)A++;if(T<(S?3:2))return;u==="bevel"&&(y=1.05);const O=this.overscaling<=16?122880/(512*this.overscaling):0,Y=this.segments.prepareSegment(10*T,this.layoutVertexArray,this.indexArray);let j,H,W,ee,le;this.e1=this.e2=-1,S&&(j=t[T-2],le=t[A].sub(j)._unit()._perp());for(let De=A;De<T;De++){if(W=De===T-1?S?t[A+1]:void 0:t[De+1],W&&t[De].equals(W))continue;le&&(ee=le),j&&(H=j),j=t[De],le=W?W.sub(j)._unit()._perp():ee,ee=ee||le;let ze=ee.add(le);ze.x===0&&ze.y===0||ze._unit();const Ae=ee.x*le.x+ee.y*le.y,Pe=ze.x*le.x+ze.y*le.y,Ve=Pe!==0?1/Pe:1/0,Ye=2*Math.sqrt(2-2*Pe),wt=Pe<c1&&H&&W,_t=ee.x*le.y-ee.y*le.x>0;if(wt&&De>A){const Tt=j.dist(H);if(Tt>2*O){const Vt=j.sub(j.sub(H)._mult(O/Tt)._round());this.updateDistance(H,Vt),this.addCurrentVertex(Vt,ee,0,0,Y),H=Vt}}const zt=H&&W;let rr=zt?u:S?"butt":f;if(zt&&rr==="round"&&(Ve<v?rr="miter":Ve<=2&&(rr="fakeround")),rr==="miter"&&Ve>y&&(rr="bevel"),rr==="bevel"&&(Ve>2&&(rr="flipbevel"),Ve<y&&(rr="miter")),H&&this.updateDistance(H,j),rr==="miter")ze._mult(Ve),this.addCurrentVertex(j,ze,0,0,Y);else if(rr==="flipbevel"){if(Ve>100)ze=le.mult(-1);else{const Tt=Ve*ee.add(le).mag()/ee.sub(le).mag();ze._perp()._mult(Tt*(_t?-1:1))}this.addCurrentVertex(j,ze,0,0,Y),this.addCurrentVertex(j,ze.mult(-1),0,0,Y)}else if(rr==="bevel"||rr==="fakeround"){const Tt=-Math.sqrt(Ve*Ve-1),Vt=_t?Tt:0,Ht=_t?0:Tt;if(H&&this.addCurrentVertex(j,ee,Vt,Ht,Y),rr==="fakeround"){const Qt=Math.round(180*Ye/Math.PI/20);for(let ir=1;ir<Qt;ir++){let kt=ir/Qt;if(kt!==.5){const ln=kt-.5;kt+=kt*ln*(kt-1)*((1.0904+Ae*(Ae*(3.55645-1.43519*Ae)-3.2452))*ln*ln+(.848013+Ae*(.215638*Ae-1.06021)))}const gr=le.sub(ee)._mult(kt)._add(ee)._unit()._mult(_t?-1:1);this.addHalfVertex(j,gr.x,gr.y,!1,_t,0,Y)}}W&&this.addCurrentVertex(j,le,-Vt,-Ht,Y)}else if(rr==="butt")this.addCurrentVertex(j,ze,0,0,Y);else if(rr==="square"){const Tt=H?1:-1;H||this.addCurrentVertex(j,ze,Tt,Tt,Y),this.addCurrentVertex(j,ze,0,0,Y),H&&this.addCurrentVertex(j,ze,Tt,Tt,Y)}else rr==="round"&&(H&&(this.addCurrentVertex(j,ee,0,0,Y),this.addCurrentVertex(j,ee,1,1,Y,!0)),W&&(this.addCurrentVertex(j,le,-1,-1,Y,!0),this.addCurrentVertex(j,le,0,0,Y)));if(wt&&De<T-1){const Tt=j.dist(W);if(Tt>2*O){const Vt=j.add(W.sub(j)._mult(O/Tt)._round());this.updateDistance(j,Vt),this.addCurrentVertex(Vt,le,0,0,Y),j=Vt}}}}addCurrentVertex(t,o,u,f,y,v=!1){const S=o.y*f-o.x,T=-o.y-o.x*f;this.addHalfVertex(t,o.x+o.y*u,o.y-o.x*u,v,!1,u,y),this.addHalfVertex(t,S,T,v,!0,-f,y)}addHalfVertex({x:t,y:o},u,f,y,v,S,T){this.layoutVertexArray.emplaceBack((t<<1)+(y?1:0),(o<<1)+(v?1:0),Math.round(63*u)+128,Math.round(63*f)+128,1+(S===0?0:S<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const A=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,A),T.primitiveLength++),v?this.e2=A:this.e1=A}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(t,o){this.distance+=t.dist(o),this.updateScaledDistance()}}Dr(wp,"LineBucket",{omit:["layers","patternFeatures"]});const d1=new Qr({"line-cap":new Mt(Pt.layout_line["line-cap"]),"line-join":new Mt(Pt.layout_line["line-join"]),"line-miter-limit":new it(Pt.layout_line["line-miter-limit"]),"line-round-limit":new it(Pt.layout_line["line-round-limit"]),"line-sort-key":new Mt(Pt.layout_line["line-sort-key"])});var vy={paint:new Qr({"line-opacity":new Mt(Pt.paint_line["line-opacity"]),"line-color":new Mt(Pt.paint_line["line-color"]),"line-translate":new it(Pt.paint_line["line-translate"]),"line-translate-anchor":new it(Pt.paint_line["line-translate-anchor"]),"line-width":new Mt(Pt.paint_line["line-width"]),"line-gap-width":new Mt(Pt.paint_line["line-gap-width"]),"line-offset":new Mt(Pt.paint_line["line-offset"]),"line-blur":new Mt(Pt.paint_line["line-blur"]),"line-dasharray":new Mt(Pt.paint_line["line-dasharray"]),"line-pattern":new Mt(Pt.paint_line["line-pattern"]),"line-gradient":new Pr(Pt.paint_line["line-gradient"]),"line-trim-offset":new it(Pt.paint_line["line-trim-offset"])}),layout:d1};const wy=new class extends Mt{possiblyEvaluate(i,t){return t=new Xe(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(i,t)}evaluate(i,t,o,u){return t=pr({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(i,t,o,u)}}(vy.paint.properties["line-width"].specification);function xy(i,t){return t>0?t+2*i:i}wy.useIntegerZoom=!0;const ll=kr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),f1=kr([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),h1=kr([{name:"a_projected_pos",components:4,type:"Float32"}],4);kr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Ic=kr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Fn=kr([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);kr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const My=kr([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Ua=kr([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);kr([{name:"triangle",components:3,type:"Uint16"}]),kr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),kr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),kr([{type:"Float32",name:"offsetX"}]),kr([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Kn=24;const Dl=128;function Il(i,t){const{expression:o}=t;if(o.kind==="constant")return{kind:"constant",layoutSize:o.evaluate(new Xe(i+1))};if(o.kind==="source")return{kind:"source"};{const{zoomStops:u,interpolationType:f}=o;let y=0;for(;y<u.length&&u[y]<=i;)y++;y=Math.max(0,y-1);let v=y;for(;v<u.length&&u[v]<i+1;)v++;v=Math.min(u.length-1,v);const S=u[y],T=u[v];return o.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:T,interpolationType:f}:{kind:"camera",minZoom:S,maxZoom:T,minSize:o.evaluate(new Xe(S)),maxSize:o.evaluate(new Xe(T)),interpolationType:f}}}function xp(i,{uSize:t,uSizeT:o},{lowerSize:u,upperSize:f}){return i.kind==="source"?u/Dl:i.kind==="composite"?In(u/Dl,f/Dl,o):t}function xd(i,t){let o=0,u=0;if(i.kind==="constant")u=i.layoutSize;else if(i.kind!=="source"){const{interpolationType:f,minZoom:y,maxZoom:v}=i,S=f?ot(qo.interpolationFactor(f,t,y,v),0,1):0;i.kind==="camera"?u=In(i.minSize,i.maxSize,S):o=S}return{uSizeT:o,uSize:u}}var p1=Object.freeze({__proto__:null,getSizeData:Il,evaluateSizeForFeature:xp,evaluateSizeForZoom:xd,SIZE_PACK_FACTOR:Dl});function m1(i,t,o){return i.sections.forEach((u=>{u.text=(function(f,y,v){const S=y.layout.get("text-transform").evaluate(v,{});return S==="uppercase"?f=f.toLocaleUpperCase():S==="lowercase"&&(f=f.toLocaleLowerCase()),pt.applyArabicShaping&&(f=pt.applyArabicShaping(f)),f})(u.text,t,o)})),i}const Rf={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function Jm(i){return i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""}function _1(i){return i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""||i===""}var cs=_n,Qm=function(i,t,o,u,f){var y,v,S=8*f-u-1,T=(1<<S)-1,A=T>>1,O=-7,Y=f-1,j=-1,H=i[t+Y];for(Y+=j,y=H&(1<<-O)-1,H>>=-O,O+=S;O>0;y=256*y+i[t+Y],Y+=j,O-=8);for(v=y&(1<<-O)-1,y>>=-O,O+=u;O>0;v=256*v+i[t+Y],Y+=j,O-=8);if(y===0)y=1-A;else{if(y===T)return v?NaN:1/0*(H?-1:1);v+=Math.pow(2,u),y-=A}return(H?-1:1)*v*Math.pow(2,y-u)},Ff=function(i,t,o,u,f,y){var v,S,T,A=8*y-f-1,O=(1<<A)-1,Y=O>>1,j=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,H=0,W=1,ee=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(S=isNaN(t)?1:0,v=O):(v=Math.floor(Math.log(t)/Math.LN2),t*(T=Math.pow(2,-v))<1&&(v--,T*=2),(t+=v+Y>=1?j/T:j*Math.pow(2,1-Y))*T>=2&&(v++,T/=2),v+Y>=O?(S=0,v=O):v+Y>=1?(S=(t*T-1)*Math.pow(2,f),v+=Y):(S=t*Math.pow(2,Y-1)*Math.pow(2,f),v=0));f>=8;i[o+H]=255&S,H+=W,S/=256,f-=8);for(v=v<<f|S,A+=f;A>0;i[o+H]=255&v,H+=W,v/=256,A-=8);i[o+H-W]|=128*ee};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function _n(i){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(i)?i:new Uint8Array(i||0),this.pos=0,this.type=0,this.length=this.buf.length}_n.Varint=0,_n.Fixed64=1,_n.Bytes=2,_n.Fixed32=5;var Xi=4294967296,e_=1/Xi,Sy=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function lu(i){return i.type===_n.Bytes?i.readVarint()+i.pos:i.pos+1}function Md(i,t,o){return o?4294967296*t+(i>>>0):4294967296*(t>>>0)+(i>>>0)}function Ly(i,t,o){var u=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));o.realloc(u);for(var f=o.pos-1;f>=i;f--)o.buf[f+u]=o.buf[f]}function g1(i,t){for(var o=0;o<i.length;o++)t.writeVarint(i[o])}function y1(i,t){for(var o=0;o<i.length;o++)t.writeSVarint(i[o])}function Ty(i,t){for(var o=0;o<i.length;o++)t.writeFloat(i[o])}function zf(i,t){for(var o=0;o<i.length;o++)t.writeDouble(i[o])}function t_(i,t){for(var o=0;o<i.length;o++)t.writeBoolean(i[o])}function b1(i,t){for(var o=0;o<i.length;o++)t.writeFixed32(i[o])}function Ey(i,t){for(var o=0;o<i.length;o++)t.writeSFixed32(i[o])}function Mp(i,t){for(var o=0;o<i.length;o++)t.writeFixed64(i[o])}function ds(i,t){for(var o=0;o<i.length;o++)t.writeSFixed64(i[o])}function uu(i,t){return(i[t]|i[t+1]<<8|i[t+2]<<16)+16777216*i[t+3]}function Sd(i,t,o){i[o]=t,i[o+1]=t>>>8,i[o+2]=t>>>16,i[o+3]=t>>>24}function ky(i,t){return(i[t]|i[t+1]<<8|i[t+2]<<16)+(i[t+3]<<24)}function v1(i,t,o){t.glyphs=[],i===1&&o.readMessage(w1,t)}function w1(i,t,o){if(i===3){const{id:u,bitmap:f,width:y,height:v,left:S,top:T,advance:A}=o.readMessage(x1,{});t.glyphs.push({id:u,bitmap:new su({width:y+6,height:v+6},f),metrics:{width:y,height:v,left:S,top:T,advance:A}})}else i===4?t.ascender=o.readSVarint():i===5&&(t.descender=o.readSVarint())}function x1(i,t,o){i===1?t.id=o.readVarint():i===2?t.bitmap=o.readBytes():i===3?t.width=o.readVarint():i===4?t.height=o.readVarint():i===5?t.left=o.readSVarint():i===6?t.top=o.readSVarint():i===7&&(t.advance=o.readVarint())}function Sp(i){let t=0,o=0;for(const v of i)t+=v.w*v.h,o=Math.max(o,v.w);i.sort(((v,S)=>S.h-v.h));const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),o),h:1/0}];let f=0,y=0;for(const v of i)for(let S=u.length-1;S>=0;S--){const T=u[S];if(!(v.w>T.w||v.h>T.h)){if(v.x=T.x,v.y=T.y,y=Math.max(y,v.y+v.h),f=Math.max(f,v.x+v.w),v.w===T.w&&v.h===T.h){const A=u.pop();S<u.length&&(u[S]=A)}else v.h===T.h?(T.x+=v.w,T.w-=v.w):v.w===T.w?(T.y+=v.h,T.h-=v.h):(u.push({x:T.x+v.w,y:T.y,w:T.w-v.w,h:v.h}),T.y+=v.h,T.h-=v.h);break}}return{w:f,h:y,fill:t/(f*y)||0}}_n.prototype={destroy:function(){this.buf=null},readFields:function(i,t,o){for(o=o||this.length;this.pos<o;){var u=this.readVarint(),f=u>>3,y=this.pos;this.type=7&u,i(f,t,this),this.pos===y&&this.skip(u)}return t},readMessage:function(i,t){return this.readFields(i,t,this.readVarint()+this.pos)},readFixed32:function(){var i=uu(this.buf,this.pos);return this.pos+=4,i},readSFixed32:function(){var i=ky(this.buf,this.pos);return this.pos+=4,i},readFixed64:function(){var i=uu(this.buf,this.pos)+uu(this.buf,this.pos+4)*Xi;return this.pos+=8,i},readSFixed64:function(){var i=uu(this.buf,this.pos)+ky(this.buf,this.pos+4)*Xi;return this.pos+=8,i},readFloat:function(){var i=Qm(this.buf,this.pos,!0,23,4);return this.pos+=4,i},readDouble:function(){var i=Qm(this.buf,this.pos,!0,52,8);return this.pos+=8,i},readVarint:function(i){var t,o,u=this.buf;return t=127&(o=u[this.pos++]),o<128?t:(t|=(127&(o=u[this.pos++]))<<7,o<128?t:(t|=(127&(o=u[this.pos++]))<<14,o<128?t:(t|=(127&(o=u[this.pos++]))<<21,o<128?t:(function(f,y,v){var S,T,A=v.buf;if(S=(112&(T=A[v.pos++]))>>4,T<128||(S|=(127&(T=A[v.pos++]))<<3,T<128)||(S|=(127&(T=A[v.pos++]))<<10,T<128)||(S|=(127&(T=A[v.pos++]))<<17,T<128)||(S|=(127&(T=A[v.pos++]))<<24,T<128)||(S|=(1&(T=A[v.pos++]))<<31,T<128))return Md(f,S,y);throw new Error("Expected varint not more than 10 bytes")})(t|=(15&(o=u[this.pos]))<<28,i,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var i=this.readVarint();return i%2==1?(i+1)/-2:i/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var i=this.readVarint()+this.pos,t=this.pos;return this.pos=i,i-t>=12&&Sy?(function(o,u,f){return Sy.decode(o.subarray(u,f))})(this.buf,t,i):(function(o,u,f){for(var y="",v=u;v<f;){var S,T,A,O=o[v],Y=null,j=O>239?4:O>223?3:O>191?2:1;if(v+j>f)break;j===1?O<128&&(Y=O):j===2?(192&(S=o[v+1]))==128&&(Y=(31&O)<<6|63&S)<=127&&(Y=null):j===3?(T=o[v+2],(192&(S=o[v+1]))==128&&(192&T)==128&&((Y=(15&O)<<12|(63&S)<<6|63&T)<=2047||Y>=55296&&Y<=57343)&&(Y=null)):j===4&&(T=o[v+2],A=o[v+3],(192&(S=o[v+1]))==128&&(192&T)==128&&(192&A)==128&&((Y=(15&O)<<18|(63&S)<<12|(63&T)<<6|63&A)<=65535||Y>=1114112)&&(Y=null)),Y===null?(Y=65533,j=1):Y>65535&&(Y-=65536,y+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),y+=String.fromCharCode(Y),v+=j}return y})(this.buf,t,i)},readBytes:function(){var i=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,i);return this.pos=i,t},readPackedVarint:function(i,t){if(this.type!==_n.Bytes)return i.push(this.readVarint(t));var o=lu(this);for(i=i||[];this.pos<o;)i.push(this.readVarint(t));return i},readPackedSVarint:function(i){if(this.type!==_n.Bytes)return i.push(this.readSVarint());var t=lu(this);for(i=i||[];this.pos<t;)i.push(this.readSVarint());return i},readPackedBoolean:function(i){if(this.type!==_n.Bytes)return i.push(this.readBoolean());var t=lu(this);for(i=i||[];this.pos<t;)i.push(this.readBoolean());return i},readPackedFloat:function(i){if(this.type!==_n.Bytes)return i.push(this.readFloat());var t=lu(this);for(i=i||[];this.pos<t;)i.push(this.readFloat());return i},readPackedDouble:function(i){if(this.type!==_n.Bytes)return i.push(this.readDouble());var t=lu(this);for(i=i||[];this.pos<t;)i.push(this.readDouble());return i},readPackedFixed32:function(i){if(this.type!==_n.Bytes)return i.push(this.readFixed32());var t=lu(this);for(i=i||[];this.pos<t;)i.push(this.readFixed32());return i},readPackedSFixed32:function(i){if(this.type!==_n.Bytes)return i.push(this.readSFixed32());var t=lu(this);for(i=i||[];this.pos<t;)i.push(this.readSFixed32());return i},readPackedFixed64:function(i){if(this.type!==_n.Bytes)return i.push(this.readFixed64());var t=lu(this);for(i=i||[];this.pos<t;)i.push(this.readFixed64());return i},readPackedSFixed64:function(i){if(this.type!==_n.Bytes)return i.push(this.readSFixed64());var t=lu(this);for(i=i||[];this.pos<t;)i.push(this.readSFixed64());return i},skip:function(i){var t=7&i;if(t===_n.Varint)for(;this.buf[this.pos++]>127;);else if(t===_n.Bytes)this.pos=this.readVarint()+this.pos;else if(t===_n.Fixed32)this.pos+=4;else{if(t!==_n.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(i,t){this.writeVarint(i<<3|t)},realloc:function(i){for(var t=this.length||16;t<this.pos+i;)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf),this.buf=o,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(i){this.realloc(4),Sd(this.buf,i,this.pos),this.pos+=4},writeSFixed32:function(i){this.realloc(4),Sd(this.buf,i,this.pos),this.pos+=4},writeFixed64:function(i){this.realloc(8),Sd(this.buf,-1&i,this.pos),Sd(this.buf,Math.floor(i*e_),this.pos+4),this.pos+=8},writeSFixed64:function(i){this.realloc(8),Sd(this.buf,-1&i,this.pos),Sd(this.buf,Math.floor(i*e_),this.pos+4),this.pos+=8},writeVarint:function(i){(i=+i||0)>268435455||i<0?(function(t,o){var u,f;if(t>=0?(u=t%4294967296|0,f=t/4294967296|0):(f=~(-t/4294967296),4294967295^(u=~(-t%4294967296))?u=u+1|0:(u=0,f=f+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");o.realloc(10),(function(y,v,S){S.buf[S.pos++]=127&y|128,y>>>=7,S.buf[S.pos++]=127&y|128,y>>>=7,S.buf[S.pos++]=127&y|128,y>>>=7,S.buf[S.pos++]=127&y|128,S.buf[S.pos]=127&(y>>>=7)})(u,0,o),(function(y,v){var S=(7&y)<<4;v.buf[v.pos++]|=S|((y>>>=3)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y|((y>>>=7)?128:0),y&&(v.buf[v.pos++]=127&y)))))})(f,o)})(i,this):(this.realloc(4),this.buf[this.pos++]=127&i|(i>127?128:0),i<=127||(this.buf[this.pos++]=127&(i>>>=7)|(i>127?128:0),i<=127||(this.buf[this.pos++]=127&(i>>>=7)|(i>127?128:0),i<=127||(this.buf[this.pos++]=i>>>7&127))))},writeSVarint:function(i){this.writeVarint(i<0?2*-i-1:2*i)},writeBoolean:function(i){this.writeVarint(!!i)},writeString:function(i){i=String(i),this.realloc(4*i.length),this.pos++;var t=this.pos;this.pos=(function(u,f,y){for(var v,S,T=0;T<f.length;T++){if((v=f.charCodeAt(T))>55295&&v<57344){if(!S){v>56319||T+1===f.length?(u[y++]=239,u[y++]=191,u[y++]=189):S=v;continue}if(v<56320){u[y++]=239,u[y++]=191,u[y++]=189,S=v;continue}v=S-55296<<10|v-56320|65536,S=null}else S&&(u[y++]=239,u[y++]=191,u[y++]=189,S=null);v<128?u[y++]=v:(v<2048?u[y++]=v>>6|192:(v<65536?u[y++]=v>>12|224:(u[y++]=v>>18|240,u[y++]=v>>12&63|128),u[y++]=v>>6&63|128),u[y++]=63&v|128)}return y})(this.buf,i,this.pos);var o=this.pos-t;o>=128&&Ly(t,o,this),this.pos=t-1,this.writeVarint(o),this.pos+=o},writeFloat:function(i){this.realloc(4),Ff(this.buf,i,this.pos,!0,23,4),this.pos+=4},writeDouble:function(i){this.realloc(8),Ff(this.buf,i,this.pos,!0,52,8),this.pos+=8},writeBytes:function(i){var t=i.length;this.writeVarint(t),this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=i[o]},writeRawMessage:function(i,t){this.pos++;var o=this.pos;i(t,this);var u=this.pos-o;u>=128&&Ly(o,u,this),this.pos=o-1,this.writeVarint(u),this.pos+=u},writeMessage:function(i,t,o){this.writeTag(i,_n.Bytes),this.writeRawMessage(t,o)},writePackedVarint:function(i,t){t.length&&this.writeMessage(i,g1,t)},writePackedSVarint:function(i,t){t.length&&this.writeMessage(i,y1,t)},writePackedBoolean:function(i,t){t.length&&this.writeMessage(i,t_,t)},writePackedFloat:function(i,t){t.length&&this.writeMessage(i,Ty,t)},writePackedDouble:function(i,t){t.length&&this.writeMessage(i,zf,t)},writePackedFixed32:function(i,t){t.length&&this.writeMessage(i,b1,t)},writePackedSFixed32:function(i,t){t.length&&this.writeMessage(i,Ey,t)},writePackedFixed64:function(i,t){t.length&&this.writeMessage(i,Mp,t)},writePackedSFixed64:function(i,t){t.length&&this.writeMessage(i,ds,t)},writeBytesField:function(i,t){this.writeTag(i,_n.Bytes),this.writeBytes(t)},writeFixed32Field:function(i,t){this.writeTag(i,_n.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(i,t){this.writeTag(i,_n.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(i,t){this.writeTag(i,_n.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(i,t){this.writeTag(i,_n.Fixed64),this.writeSFixed64(t)},writeVarintField:function(i,t){this.writeTag(i,_n.Varint),this.writeVarint(t)},writeSVarintField:function(i,t){this.writeTag(i,_n.Varint),this.writeSVarint(t)},writeStringField:function(i,t){this.writeTag(i,_n.Bytes),this.writeString(t)},writeFloatField:function(i,t){this.writeTag(i,_n.Fixed32),this.writeFloat(t)},writeDoubleField:function(i,t){this.writeTag(i,_n.Fixed64),this.writeDouble(t)},writeBooleanField:function(i,t){this.writeVarintField(i,!!t)}};class ul{constructor(t,{pixelRatio:o,version:u,stretchX:f,stretchY:y,content:v}){this.paddedRect=t,this.pixelRatio=o,this.stretchX=f,this.stretchY=y,this.content=v,this.version=u}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class $n{constructor(t,o){const u={},f={};this.haveRenderCallbacks=[];const y=[];this.addImages(t,u,y),this.addImages(o,f,y);const{w:v,h:S}=Sp(y),T=new Va({width:v||1,height:S||1});for(const A in t){const O=t[A],Y=u[A].paddedRect;Va.copy(O.data,T,{x:0,y:0},{x:Y.x+1,y:Y.y+1},O.data)}for(const A in o){const O=o[A],Y=f[A].paddedRect,j=Y.x+1,H=Y.y+1,W=O.data.width,ee=O.data.height;Va.copy(O.data,T,{x:0,y:0},{x:j,y:H},O.data),Va.copy(O.data,T,{x:0,y:ee-1},{x:j,y:H-1},{width:W,height:1}),Va.copy(O.data,T,{x:0,y:0},{x:j,y:H+ee},{width:W,height:1}),Va.copy(O.data,T,{x:W-1,y:0},{x:j-1,y:H},{width:1,height:ee}),Va.copy(O.data,T,{x:0,y:0},{x:j+W,y:H},{width:1,height:ee})}this.image=T,this.iconPositions=u,this.patternPositions=f}addImages(t,o,u){for(const f in t){const y=t[f],v={x:0,y:0,w:y.data.width+2,h:y.data.height+2};u.push(v),o[f]=new ul(v,y),y.hasRenderCallback&&this.haveRenderCallbacks.push(f)}}patchUpdatedImages(t,o){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((u=>t.hasImage(u))),t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const u in t.updatedImages)this.patchUpdatedImage(this.iconPositions[u],t.getImage(u),o),this.patchUpdatedImage(this.patternPositions[u],t.getImage(u),o)}patchUpdatedImage(t,o,u){if(!t||!o||t.version===o.version)return;t.version=o.version;const[f,y]=t.tl;u.update(o.data,void 0,{x:f,y})}}Dr(ul,"ImagePosition"),Dr($n,"ImageAtlas");const Na={horizontal:1,vertical:2,horizontalOnly:3};class ma{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,o){const u=new ma;return u.scale=t||1,u.fontStack=o,u}static forImage(t){const o=new ma;return o.imageName=t,o}}class Pc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,o){const u=new Pc;for(let f=0;f<t.sections.length;f++){const y=t.sections[f];y.image?u.addImageSection(y):u.addTextSection(y,o)}return u}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=(function(o,u){let f="";for(let y=0;y<o.length;y++){const v=o.charCodeAt(y+1)||null,S=o.charCodeAt(y-1)||null;f+=!u&&(v&&V(v)&&!Rf[o[y+1]]||S&&V(S)&&!Rf[o[y-1]])||!Rf[o[y]]?o[y]:Rf[o[y]]}return f})(this.text,t)}trim(){let t=0;for(let u=0;u<this.text.length&&ci[this.text.charCodeAt(u)];u++)t++;let o=this.text.length;for(let u=this.text.length-1;u>=0&&u>=t&&ci[this.text.charCodeAt(u)];u--)o--;this.text=this.text.substring(t,o),this.sectionIndex=this.sectionIndex.slice(t,o)}substring(t,o){const u=new Pc;return u.text=this.text.substring(t,o),u.sectionIndex=this.sectionIndex.slice(t,o),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((t,o)=>Math.max(t,this.sections[o].scale)),0)}addTextSection(t,o){this.text+=t.text,this.sections.push(ma.forText(t.scale,t.fontStack||o));const u=this.sections.length-1;for(let f=0;f<t.text.length;++f)this.sectionIndex.push(u)}addImageSection(t){const o=t.image?t.image.name:"";if(o.length===0)return void Ce("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(ma.forImage(o)),this.sectionIndex.push(this.sections.length-1)):Ce("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function r_(i,t,o,u,f,y,v,S,T,A,O,Y,j,H,W){const ee=Pc.fromFeature(i,f);Y===Na.vertical&&ee.verticalizePunctuation(j);let le=[];const De=(function(Ye,wt,_t,zt,rr,Tt){if(!Ye)return[];const Vt=[],Ht=(function(gr,ln,Mr,Vr,yr,dn){let Un=0;for(let zn=0;zn<gr.length();zn++){const Pn=gr.getSection(zn);Un+=n_(gr.getCharCode(zn),Pn,Vr,yr,ln,dn)}return Un/Math.max(1,Math.ceil(Un/Mr))})(Ye,wt,_t,zt,rr,Tt),Qt=Ye.text.indexOf("")>=0;let ir=0;for(let gr=0;gr<Ye.length();gr++){const ln=Ye.getSection(gr),Mr=Ye.getCharCode(gr);if(ci[Mr]||(ir+=n_(Mr,ln,zt,rr,wt,Tt)),gr<Ye.length()-1){const Vr=!((kt=Mr)<11904||!(df(kt)||Oa(kt)||d(kt)||Ks(kt)||$h(kt)||lf(kt)||Yh(kt)||Pa(kt)||ff(kt)||fd(kt)||jh(kt)||L(kt)||vc(kt)||cf(kt)||uf(kt)||Bh(kt)||dd(kt)||a(kt)||Uh(kt)||Vh(kt)));(M1[Mr]||Vr||ln.imageName)&&Vt.push(Ay(gr+1,ir,Ht,Vt,S1(Mr,Ye.getCharCode(gr+1),Vr&&Qt),!1))}}var kt;return Cy(Ay(Ye.length(),ir,Ht,Vt,0,!0))})(ee,A,y,t,u,H),{processBidirectionalText:ze,processStyledBidirectionalText:Ae}=pt;if(ze&&ee.sections.length===1){const Ye=ze(ee.toString(),De);for(const wt of Ye){const _t=new Pc;_t.text=wt,_t.sections=ee.sections;for(let zt=0;zt<wt.length;zt++)_t.sectionIndex.push(0);le.push(_t)}}else if(Ae){const Ye=Ae(ee.text,ee.sectionIndex,De);for(const wt of Ye){const _t=new Pc;_t.text=wt[0],_t.sectionIndex=wt[1],_t.sections=ee.sections,le.push(_t)}}else le=(function(Ye,wt){const _t=[],zt=Ye.text;let rr=0;for(const Tt of wt)_t.push(Ye.substring(rr,Tt)),rr=Tt;return rr<zt.length&&_t.push(Ye.substring(rr,zt.length)),_t})(ee,De);const Pe=[],Ve={positionedLines:Pe,text:ee.toString(),top:O[1],bottom:O[1],left:O[0],right:O[0],writingMode:Y,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return(function(Ye,wt,_t,zt,rr,Tt,Vt,Ht,Qt,ir,kt,gr){let ln=0,Mr=0,Vr=0;const yr=Ht==="right"?1:Ht==="left"?0:.5;let dn=!1;for(const gn of rr){const Nn=gn.getSections();for(const wi of Nn){if(wi.imageName)continue;const Ci=wt[wi.fontStack];if(Ci&&(dn=Ci.ascender!==void 0&&Ci.descender!==void 0,!dn))break}if(!dn)break}let Un=0;for(const gn of rr){gn.trim();const Nn=gn.getMaxScale(),wi=(Nn-1)*Kn,Ci={positionedGlyphs:[],lineOffset:0};Ye.positionedLines[Un]=Ci;const Ei=Ci.positionedGlyphs;let Di=0;if(!gn.length()){Mr+=Tt,++Un;continue}let zi=0,to=0;for(let yi=0;yi<gn.length();yi++){const mo=gn.getSection(yi),fo=gn.getSectionIndex(yi),ni=gn.getCharCode(yi);let Hi=mo.scale,Eo=null,xi=null,ao=null,Ta=Kn,Ko=0;const Jo=!(Qt===Na.horizontal||!kt&&!N(ni)||kt&&(ci[ni]||(zn=ni,os(zn)||zh(zn)||sf(zn)||g(zn)||x(zn))));if(mo.imageName){const Wa=zt[mo.imageName];if(!Wa)continue;ao=mo.imageName,Ye.iconsInText=Ye.iconsInText||!0,xi=Wa.paddedRect;const Qo=Wa.displaySize;Hi=Hi*Kn/gr,Eo={width:Qo[0],height:Qo[1],left:1,top:-3,advance:Jo?Qo[1]:Qo[0],localGlyph:!1},Ko=dn?-Eo.height*Hi:Nn*Kn-17-Qo[1]*Hi,Ta=Eo.advance;const Yc=(Jo?Qo[0]:Qo[1])*Hi-Kn*Nn;Yc>0&&Yc>Di&&(Di=Yc)}else{const Wa=_t[mo.fontStack];if(!Wa)continue;Wa[ni]&&(xi=Wa[ni]);const Qo=wt[mo.fontStack];if(!Qo)continue;const Yc=Qo.glyphs[ni];if(!Yc)continue;if(Eo=Yc.metrics,Ta=ni!==8203?Kn:0,dn){const jp=Qo.ascender!==void 0?Math.abs(Qo.ascender):0,S_=Qo.descender!==void 0?Math.abs(Qo.descender):0,L_=(jp+S_)*Hi;zi<L_&&(zi=L_,to=(jp-S_)/2*Hi),Ko=-jp*Hi}else Ko=(Nn-Hi)*Kn-17}Jo?(Ye.verticalizable=!0,Ei.push({glyph:ni,imageName:ao,x:ln,y:Mr+Ko,vertical:Jo,scale:Hi,localGlyph:Eo.localGlyph,fontStack:mo.fontStack,sectionIndex:fo,metrics:Eo,rect:xi}),ln+=Ta*Hi+ir):(Ei.push({glyph:ni,imageName:ao,x:ln,y:Mr+Ko,vertical:Jo,scale:Hi,localGlyph:Eo.localGlyph,fontStack:mo.fontStack,sectionIndex:fo,metrics:Eo,rect:xi}),ln+=Eo.advance*Hi+ir)}Ei.length!==0&&(Vr=Math.max(ln-ir,Vr),dn?Dy(Ei,yr,Di,to,Tt*Nn/2):Dy(Ei,yr,Di,0,Tt/2)),ln=0;const Xo=Tt*Nn+Di;Ci.lineOffset=Math.max(Di,wi),Mr+=Xo,++Un}var zn;const Pn=Mr,{horizontalAlign:fn,verticalAlign:gi}=i_(Vt);(function(gn,Nn,wi,Ci,Ei,Di){const zi=(Nn-wi)*Ei,to=-Di*Ci;for(const Xo of gn)for(const yi of Xo.positionedGlyphs)yi.x+=zi,yi.y+=to})(Ye.positionedLines,yr,fn,gi,Vr,Pn),Ye.top+=-gi*Pn,Ye.bottom=Ye.top+Pn,Ye.left+=-fn*Vr,Ye.right=Ye.left+Vr,Ye.hasBaseline=dn})(Ve,t,o,u,le,v,S,T,Y,A,j,W),!(function(Ye){for(const wt of Ye)if(wt.positionedGlyphs.length!==0)return!1;return!0})(Pe)&&Ve}const ci={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},M1={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function n_(i,t,o,u,f,y){if(t.imageName){const v=u[t.imageName];return v?v.displaySize[0]*t.scale*Kn/y+f:0}{const v=o[t.fontStack],S=v&&v.glyphs[i];return S?S.metrics.advance*t.scale+f:0}}function Yf(i,t,o,u){const f=Math.pow(i-t,2);return u?i<t?f/2:2*f:f+Math.abs(o)*o}function S1(i,t,o){let u=0;return i===10&&(u-=1e4),o&&(u+=150),i!==40&&i!==65288||(u+=50),t!==41&&t!==65289||(u+=50),u}function Ay(i,t,o,u,f,y){let v=null,S=Yf(t,o,f,y);for(const T of u){const A=Yf(t-T.x,o,f,y)+T.badness;A<=S&&(v=T,S=A)}return{index:i,x:t,priorBreak:v,badness:S}}function Cy(i){return i?Cy(i.priorBreak).concat(i.index):[]}function i_(i){let t=.5,o=.5;switch(i){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(i){case"bottom":case"bottom-right":case"bottom-left":o=1;break;case"top":case"top-right":case"top-left":o=0}return{horizontalAlign:t,verticalAlign:o}}function Dy(i,t,o,u,f){if(!(t||o||u||f))return;const y=i.length-1,v=i[y],S=(v.x+v.metrics.advance*v.scale)*t;for(let T=0;T<=y;T++)i[T].x-=S,i[T].y+=o+u+f}function L1(i,t,o){const{horizontalAlign:u,verticalAlign:f}=i_(o),y=t[0]-i.displaySize[0]*u,v=t[1]-i.displaySize[1]*f;return{image:i,top:v,bottom:v+i.displaySize[1],left:y,right:y+i.displaySize[0]}}function Iy(i,t,o,u,f,y){const v=i.image;let S;if(v.content){const le=v.content,De=v.pixelRatio||1;S=[le[0]/De,le[1]/De,v.displaySize[0]-le[2]/De,v.displaySize[1]-le[3]/De]}const T=t.left*y,A=t.right*y;let O,Y,j,H;o==="width"||o==="both"?(H=f[0]+T-u[3],Y=f[0]+A+u[1]):(H=f[0]+(T+A-v.displaySize[0])/2,Y=H+v.displaySize[0]);const W=t.top*y,ee=t.bottom*y;return o==="height"||o==="both"?(O=f[1]+W-u[0],j=f[1]+ee+u[2]):(O=f[1]+(W+ee-v.displaySize[1])/2,j=O+v.displaySize[1]),{image:v,top:O,right:Y,bottom:j,left:H,collisionPadding:S}}class cu extends he{constructor(t,o,u,f,y){super(t,o),this.angle=f,this.z=u,y!==void 0&&(this.segment=y)}clone(){return new cu(this.x,this.y,this.z,this.angle,this.segment)}}function Py(i,t,o,u,f){if(t.segment===void 0)return!0;let y=t,v=t.segment+1,S=0;for(;S>-o/2;){if(v--,v<0)return!1;S-=i[v].dist(y),y=i[v]}S+=i[v].dist(i[v+1]),v++;const T=[];let A=0;for(;S<o/2;){const O=i[v],Y=i[v+1];if(!Y)return!1;let j=i[v-1].angleTo(O)-O.angleTo(Y);for(j=Math.abs((j+3*Math.PI)%(2*Math.PI)-Math.PI),T.push({distance:S,angleDelta:j}),A+=j;S-T[0].distance>u;)A-=T.shift().angleDelta;if(A>f)return!1;v++,S+=O.dist(Y)}return!0}function Oy(i){let t=0;for(let o=0;o<i.length-1;o++)t+=i[o].dist(i[o+1]);return t}function Ry(i,t,o){return i?.6*t*o:0}function Fy(i,t){return Math.max(i?i.right-i.left:0,t?t.right-t.left:0)}function T1(i,t,o,u,f,y){const v=Ry(o,f,y),S=Fy(o,u)*y;let T=0;const A=Oy(i)/2;for(let O=0;O<i.length-1;O++){const Y=i[O],j=i[O+1],H=Y.dist(j);if(T+H>A){const W=(A-T)/H,ee=In(Y.x,j.x,W),le=In(Y.y,j.y,W),De=new cu(ee,le,0,j.angleTo(Y),O);return!v||Py(i,De,S,v,t)?De:void 0}T+=H}}function o_(i,t,o,u,f,y,v,S,T){const A=Ry(u,y,v),O=Fy(u,f),Y=O*v,j=i[0].x===0||i[0].x===T||i[0].y===0||i[0].y===T;return t-Y<t/4&&(t=Y+t/4),zy(i,j?t/2*S%t:(O/2+2*y)*v*S%t,t,A,o,Y,j,!1,T)}function zy(i,t,o,u,f,y,v,S,T){const A=y/2,O=Oy(i);let Y=0,j=t-o,H=[];for(let W=0;W<i.length-1;W++){const ee=i[W],le=i[W+1],De=ee.dist(le),ze=le.angleTo(ee);for(;j+o<Y+De;){j+=o;const Ae=(j-Y)/De,Pe=In(ee.x,le.x,Ae),Ve=In(ee.y,le.y,Ae);if(Pe>=0&&Pe<T&&Ve>=0&&Ve<T&&j-A>=0&&j+A<=O){const Ye=new cu(Pe,Ve,0,ze,W);Ye._round(),u&&!Py(i,Ye,y,u,f)||H.push(Ye)}}Y+=De}return S||H.length||v||(H=zy(i,Y/2,o,u,f,y,v,!0,T)),H}function Lp(i,t,o,u,f){const y=[];for(let v=0;v<i.length;v++){const S=i[v];let T;for(let A=0;A<S.length-1;A++){let O=S[A],Y=S[A+1];O.x<t&&Y.x<t||(O.x<t?O=new he(t,O.y+(t-O.x)/(Y.x-O.x)*(Y.y-O.y))._round():Y.x<t&&(Y=new he(t,O.y+(t-O.x)/(Y.x-O.x)*(Y.y-O.y))._round()),O.y<o&&Y.y<o||(O.y<o?O=new he(O.x+(o-O.y)/(Y.y-O.y)*(Y.x-O.x),o)._round():Y.y<o&&(Y=new he(O.x+(o-O.y)/(Y.y-O.y)*(Y.x-O.x),o)._round()),O.x>=u&&Y.x>=u||(O.x>=u?O=new he(u,O.y+(u-O.x)/(Y.x-O.x)*(Y.y-O.y))._round():Y.x>=u&&(Y=new he(u,O.y+(u-O.x)/(Y.x-O.x)*(Y.y-O.y))._round()),O.y>=f&&Y.y>=f||(O.y>=f?O=new he(O.x+(f-O.y)/(Y.y-O.y)*(Y.x-O.x),f)._round():Y.y>=f&&(Y=new he(O.x+(f-O.y)/(Y.y-O.y)*(Y.x-O.x),f)._round()),T&&O.equals(T[T.length-1])||(T=[O],y.push(T)),T.push(Y)))))}}return y}Dr(cu,"Anchor");const Bf=1e20;function Yy(i,t,o,u,f,y,v,S,T){for(let A=t;A<t+u;A++)By(i,o*y+A,y,f,v,S,T);for(let A=o;A<o+f;A++)By(i,A*y+t,1,u,v,S,T)}function By(i,t,o,u,f,y,v){y[0]=0,v[0]=-Bf,v[1]=Bf,f[0]=i[t];for(let S=1,T=0,A=0;S<u;S++){f[S]=i[t+S*o];const O=S*S;do{const Y=y[T];A=(f[S]-f[Y]+O-Y*Y)/(S-Y)/2}while(A<=v[T]&&--T>-1);T++,y[T]=S,v[T]=A,v[T+1]=Bf}for(let S=0,T=0;S<u;S++){for(;v[T+1]<S;)T++;const A=y[T],O=S-A;i[t+S*o]=f[A]+O*O}}const po={none:0,ideographs:1,all:2};class To{constructor(t,o,u){this.requestManager=t,this.localGlyphMode=o,this.localFontFamily=u,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(t){this.url=t}getGlyphs(t,o){const u=[];for(const f in t)for(const y of t[f])u.push({stack:f,id:y});nr(u,(({stack:f,id:y},v)=>{let S=this.entries[f];S||(S=this.entries[f]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let T=S.glyphs[y];if(T!==void 0)return void v(null,{stack:f,id:y,glyph:T});if(T=this._tinySDF(S,f,y),T)return S.glyphs[y]=T,void v(null,{stack:f,id:y,glyph:T});const A=Math.floor(y/256);if(256*A>65535)return void v(new Error("glyphs > 65535 not supported"));if(S.ranges[A])return void v(null,{stack:f,id:y,glyph:T});let O=S.requests[A];O||(O=S.requests[A]=[],To.loadGlyphRange(f,A,this.url,this.requestManager,((Y,j)=>{if(j){S.ascender=j.ascender,S.descender=j.descender;for(const H in j.glyphs)this._doesCharSupportLocalGlyph(+H)||(S.glyphs[+H]=j.glyphs[+H]);S.ranges[A]=!0}for(const H of O)H(Y,j);delete S.requests[A]}))),O.push(((Y,j)=>{Y?v(Y):j&&v(null,{stack:f,id:y,glyph:j.glyphs[y]||null})}))}),((f,y)=>{if(f)o(f);else if(y){const v={};for(const{stack:S,id:T,glyph:A}of y)v[S]===void 0&&(v[S]={}),v[S].glyphs===void 0&&(v[S].glyphs={}),v[S].glyphs[T]=A&&{id:A.id,bitmap:A.bitmap.clone(),metrics:A.metrics},v[S].ascender=this.entries[S].ascender,v[S].descender=this.entries[S].descender;o(null,v)}}))}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==po.none&&(this.localGlyphMode===po.all?!!this.localFontFamily:!!this.localFontFamily&&(fd(t)||wc(t)||vc(t)||dd(t)||Pa(t)))}_tinySDF(t,o,u){const f=this.localFontFamily;if(!f||!this._doesCharSupportLocalGlyph(u))return;let y=t.tinySDF;if(!y){let ee="400";/bold/i.test(o)?ee="900":/medium/i.test(o)?ee="500":/light/i.test(o)&&(ee="200"),y=t.tinySDF=new To.TinySDF({fontFamily:f,fontWeight:ee,fontSize:48,buffer:6,radius:16}),y.fontWeight=ee}if(this.localGlyphs[y.fontWeight][u])return this.localGlyphs[y.fontWeight][u];const v=String.fromCharCode(u),{data:S,width:T,height:A,glyphWidth:O,glyphHeight:Y,glyphLeft:j,glyphTop:H,glyphAdvance:W}=y.draw(v);return this.localGlyphs[y.fontWeight][u]={id:u,bitmap:new su({width:T,height:A},S),metrics:{width:O/2,height:Y/2,left:j/2,top:H/2-27,advance:W/2,localGlyph:!0}}}}function jy(i,t,o,u){const f=[],y=i.image,v=y.pixelRatio,S=y.paddedRect.w-2,T=y.paddedRect.h-2,A=i.right-i.left,O=i.bottom-i.top,Y=y.stretchX||[[0,S]],j=y.stretchY||[[0,T]],H=(Tt,Vt)=>Tt+Vt[1]-Vt[0],W=Y.reduce(H,0),ee=j.reduce(H,0),le=S-W,De=T-ee;let ze=0,Ae=W,Pe=0,Ve=ee,Ye=0,wt=le,_t=0,zt=De;if(y.content&&u){const Tt=y.content;ze=Tp(Y,0,Tt[0]),Pe=Tp(j,0,Tt[1]),Ae=Tp(Y,Tt[0],Tt[2]),Ve=Tp(j,Tt[1],Tt[3]),Ye=Tt[0]-ze,_t=Tt[1]-Pe,wt=Tt[2]-Tt[0]-Ae,zt=Tt[3]-Tt[1]-Ve}const rr=(Tt,Vt,Ht,Qt)=>{const ir=jf(Tt.stretch-ze,Ae,A,i.left),kt=Ep(Tt.fixed-Ye,wt,Tt.stretch,W),gr=jf(Vt.stretch-Pe,Ve,O,i.top),ln=Ep(Vt.fixed-_t,zt,Vt.stretch,ee),Mr=jf(Ht.stretch-ze,Ae,A,i.left),Vr=Ep(Ht.fixed-Ye,wt,Ht.stretch,W),yr=jf(Qt.stretch-Pe,Ve,O,i.top),dn=Ep(Qt.fixed-_t,zt,Qt.stretch,ee),Un=new he(ir,gr),zn=new he(Mr,gr),Pn=new he(Mr,yr),fn=new he(ir,yr),gi=new he(kt/v,ln/v),gn=new he(Vr/v,dn/v),Nn=t*Math.PI/180;if(Nn){const Ei=Math.sin(Nn),Di=Math.cos(Nn),zi=[Di,-Ei,Ei,Di];Un._matMult(zi),zn._matMult(zi),fn._matMult(zi),Pn._matMult(zi)}const wi=Tt.stretch+Tt.fixed,Ci=Vt.stretch+Vt.fixed;return{tl:Un,tr:zn,bl:fn,br:Pn,tex:{x:y.paddedRect.x+1+wi,y:y.paddedRect.y+1+Ci,w:Ht.stretch+Ht.fixed-wi,h:Qt.stretch+Qt.fixed-Ci},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:gi,pixelOffsetBR:gn,minFontScaleX:wt/v/A,minFontScaleY:zt/v/O,isSDF:o}};if(u&&(y.stretchX||y.stretchY)){const Tt=$y(Y,le,W),Vt=$y(j,De,ee);for(let Ht=0;Ht<Tt.length-1;Ht++){const Qt=Tt[Ht],ir=Tt[Ht+1];for(let kt=0;kt<Vt.length-1;kt++)f.push(rr(Qt,Vt[kt],ir,Vt[kt+1]))}}else f.push(rr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:T+1}));return f}function Tp(i,t,o){let u=0;for(const f of i)u+=Math.max(t,Math.min(o,f[1]))-Math.max(t,Math.min(o,f[0]));return u}function $y(i,t,o){const u=[{fixed:-1,stretch:0}];for(const[f,y]of i){const v=u[u.length-1];u.push({fixed:f-v.stretch,stretch:v.stretch}),u.push({fixed:f-v.stretch,stretch:v.stretch+(y-f)})}return u.push({fixed:t+1,stretch:o}),u}function jf(i,t,o,u){return i/t*o+u}function Ep(i,t,o,u){return i-t*o/u}function E1(i,t,o,u){const f=t+i.positionedLines[u].lineOffset;return u===0?o+f/2:o+(f+(t+i.positionedLines[u-1].lineOffset))/2}To.loadGlyphRange=function(i,t,o,u,f){const y=256*t,v=y+255,S=u.transformRequest(u.normalizeGlyphsURL(o).replace("{fontstack}",i).replace("{range}",`${y}-${v}`),$.Glyphs);ht(S,((T,A)=>{if(T)f(T);else if(A){const O={},Y=(function(j){return new cs(j).readFields(v1,{})})(A);for(const j of Y.glyphs)O[j.id]=j;f(null,{glyphs:O,ascender:Y.ascender,descender:Y.descender})}}))},To.TinySDF=class{constructor({fontSize:i=24,buffer:t=3,radius:o=8,cutoff:u=.25,fontFamily:f="sans-serif",fontWeight:y="normal",fontStyle:v="normal"}={}){this.buffer=t,this.cutoff=u,this.radius=o;const S=this.size=i+4*t,T=this._createCanvas(S),A=this.ctx=T.getContext("2d",{willReadFrequently:!0});A.font=`${v} ${y} ${i}px ${f}`,A.textBaseline="alphabetic",A.textAlign="left",A.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S)}_createCanvas(i){const t=document.createElement("canvas");return t.width=t.height=i,t}draw(i){const{width:t,actualBoundingBoxAscent:o,actualBoundingBoxDescent:u,actualBoundingBoxLeft:f,actualBoundingBoxRight:y}=this.ctx.measureText(i),v=Math.ceil(o),S=Math.min(this.size-this.buffer,Math.ceil(y-f)),T=Math.min(this.size-this.buffer,v+Math.ceil(u)),A=S+2*this.buffer,O=T+2*this.buffer,Y=Math.max(A*O,0),j=new Uint8ClampedArray(Y),H={data:j,width:A,height:O,glyphWidth:S,glyphHeight:T,glyphTop:v,glyphLeft:0,glyphAdvance:t};if(S===0||T===0)return H;const{ctx:W,buffer:ee,gridInner:le,gridOuter:De}=this;W.clearRect(ee,ee,S,T),W.fillText(i,ee,ee+v);const ze=W.getImageData(ee,ee,S,T);De.fill(Bf,0,Y),le.fill(0,0,Y);for(let Ae=0;Ae<T;Ae++)for(let Pe=0;Pe<S;Pe++){const Ve=ze.data[4*(Ae*S+Pe)+3]/255;if(Ve===0)continue;const Ye=(Ae+ee)*A+Pe+ee;if(Ve===1)De[Ye]=0,le[Ye]=Bf;else{const wt=.5-Ve;De[Ye]=wt>0?wt*wt:0,le[Ye]=wt<0?wt*wt:0}}Yy(De,0,0,A,O,A,this.f,this.v,this.z),Yy(le,ee,ee,S,T,A,this.f,this.v,this.z);for(let Ae=0;Ae<Y;Ae++){const Pe=Math.sqrt(De[Ae])-Math.sqrt(le[Ae]);j[Ae]=Math.round(255-255*(Pe/this.radius+this.cutoff))}return H}};class k1{constructor(t=[],o=Vy){if(this.data=t,this.length=this.data.length,this.compare=o,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:o,compare:u}=this,f=o[t];for(;t>0;){const y=t-1>>1,v=o[y];if(u(f,v)>=0)break;o[t]=v,t=y}o[t]=f}_down(t){const{data:o,compare:u}=this,f=this.length>>1,y=o[t];for(;t<f;){let v=1+(t<<1),S=o[v];const T=v+1;if(T<this.length&&u(o[T],S)<0&&(v=T,S=o[T]),u(S,y)>=0)break;o[t]=S,t=v}o[t]=y}}function Vy(i,t){return i<t?-1:i>t?1:0}function A1(i,t=1,o=!1){let u=1/0,f=1/0,y=-1/0,v=-1/0;const S=i[0];for(let H=0;H<S.length;H++){const W=S[H];(!H||W.x<u)&&(u=W.x),(!H||W.y<f)&&(f=W.y),(!H||W.x>y)&&(y=W.x),(!H||W.y>v)&&(v=W.y)}const T=Math.min(y-u,v-f);let A=T/2;const O=new k1([],C1);if(T===0)return new he(u,f);for(let H=u;H<y;H+=T)for(let W=f;W<v;W+=T)O.push(new Ld(H+A,W+A,A,i));let Y=(function(H){let W=0,ee=0,le=0;const De=H[0];for(let ze=0,Ae=De.length,Pe=Ae-1;ze<Ae;Pe=ze++){const Ve=De[ze],Ye=De[Pe],wt=Ve.x*Ye.y-Ye.x*Ve.y;ee+=(Ve.x+Ye.x)*wt,le+=(Ve.y+Ye.y)*wt,W+=3*wt}return new Ld(ee/W,le/W,0,H)})(i),j=O.length;for(;O.length;){const H=O.pop();(H.d>Y.d||!Y.d)&&(Y=H,o&&console.log("found best %d after %d probes",Math.round(1e4*H.d)/1e4,j)),H.max-Y.d<=t||(A=H.h/2,O.push(new Ld(H.p.x-A,H.p.y-A,A,i)),O.push(new Ld(H.p.x+A,H.p.y-A,A,i)),O.push(new Ld(H.p.x-A,H.p.y+A,A,i)),O.push(new Ld(H.p.x+A,H.p.y+A,A,i)),j+=4)}return o&&(console.log(`num probes: ${j}`),console.log(`best distance: ${Y.d}`)),Y.p}function C1(i,t){return t.max-i.max}function Ld(i,t,o,u){this.p=new he(i,t),this.h=o,this.d=(function(f,y){let v=!1,S=1/0;for(let T=0;T<y.length;T++){const A=y[T];for(let O=0,Y=A.length,j=Y-1;O<Y;j=O++){const H=A[O],W=A[j];H.y>f.y!=W.y>f.y&&f.x<(W.x-H.x)*(f.y-H.y)/(W.y-H.y)+H.x&&(v=!v),S=Math.min(S,Tm(f,H,W))}}return(v?1:-1)*Math.sqrt(S)})(this.p,u),this.max=this.d+this.h*Math.SQRT2}const kp=Number.POSITIVE_INFINITY,Uy=Math.sqrt(2);function Ny(i,[t,o]){let u=0,f=0;if(o===kp){t<0&&(t=0);const y=t/Uy;switch(i){case"top-right":case"top-left":f=y-7;break;case"bottom-right":case"bottom-left":f=7-y;break;case"bottom":f=7-t;break;case"top":f=t-7}switch(i){case"top-right":case"bottom-right":u=-y;break;case"top-left":case"bottom-left":u=y;break;case"left":u=t;break;case"right":u=-t}}else{switch(t=Math.abs(t),o=Math.abs(o),i){case"top-right":case"top-left":case"top":f=o-7;break;case"bottom-right":case"bottom-left":case"bottom":f=7-o}switch(i){case"top-right":case"bottom-right":case"right":u=-t;break;case"top-left":case"bottom-left":case"left":u=t}}return[u,f]}function D1(i,t,o,u,f,y,v,S,T,A){i.createArrays(),i.tilePixelRatio=un/(512*i.overscaling),i.compareText={},i.iconsNeedLinear=!1;const O=i.layers[0].layout,Y=i.layers[0]._unevaluatedLayout._values,j={};if(i.textSizeData.kind==="composite"){const{minZoom:ee,maxZoom:le}=i.textSizeData;j.compositeTextSizes=[Y["text-size"].possiblyEvaluate(new Xe(ee),S),Y["text-size"].possiblyEvaluate(new Xe(le),S)]}if(i.iconSizeData.kind==="composite"){const{minZoom:ee,maxZoom:le}=i.iconSizeData;j.compositeIconSizes=[Y["icon-size"].possiblyEvaluate(new Xe(ee),S),Y["icon-size"].possiblyEvaluate(new Xe(le),S)]}j.layoutTextSize=Y["text-size"].possiblyEvaluate(new Xe(T+1),S),j.layoutIconSize=Y["icon-size"].possiblyEvaluate(new Xe(T+1),S),j.textMaxSize=Y["text-size"].possiblyEvaluate(new Xe(18),S);const H=O.get("text-rotation-alignment")==="map"&&O.get("symbol-placement")!=="point",W=O.get("text-size");for(const ee of i.features){const le=O.get("text-font").evaluate(ee,{},S).join(","),De=W.evaluate(ee,{},S),ze=j.layoutTextSize.evaluate(ee,{},S),Ae=(j.layoutIconSize.evaluate(ee,{},S),{horizontal:{},vertical:void 0}),Pe=ee.text;let Ve,Ye=[0,0];if(Pe){const zt=Pe.toString(),rr=O.get("text-letter-spacing").evaluate(ee,{},S)*Kn,Tt=O.get("text-line-height").evaluate(ee,{},S)*Kn,Vt=P(zt)?rr:0,Ht=O.get("text-anchor").evaluate(ee,{},S),Qt=O.get("text-variable-anchor");if(!Qt){const Mr=O.get("text-radial-offset").evaluate(ee,{},S);Ye=Mr?Ny(Ht,[Mr*Kn,kp]):O.get("text-offset").evaluate(ee,{},S).map((Vr=>Vr*Kn))}let ir=H?"center":O.get("text-justify").evaluate(ee,{},S);const kt=O.get("symbol-placement")==="point",gr=kt?O.get("text-max-width").evaluate(ee,{},S)*Kn:1/0,ln=Mr=>{i.allowVerticalPlacement&&D(zt)&&(Ae.vertical=r_(Pe,t,o,f,le,gr,Tt,Ht,Mr,Vt,Ye,Na.vertical,!0,ze,De))};if(!H&&Qt){const Mr=ir==="auto"?Qt.map((yr=>a_(yr))):[ir];let Vr=!1;for(let yr=0;yr<Mr.length;yr++){const dn=Mr[yr];if(!Ae.horizontal[dn])if(Vr)Ae.horizontal[dn]=Ae.horizontal[0];else{const Un=r_(Pe,t,o,f,le,gr,Tt,"center",dn,Vt,Ye,Na.horizontal,!1,ze,De);Un&&(Ae.horizontal[dn]=Un,Vr=Un.positionedLines.length===1)}}ln("left")}else{if(ir==="auto"&&(ir=a_(Ht)),kt||O.get("text-writing-mode").indexOf("horizontal")>=0||!D(zt)){const Mr=r_(Pe,t,o,f,le,gr,Tt,Ht,ir,Vt,Ye,Na.horizontal,!1,ze,De);Mr&&(Ae.horizontal[ir]=Mr)}ln(kt?"left":ir)}}let wt=!1;if(ee.icon&&ee.icon.name){const zt=u[ee.icon.name];zt&&(Ve=L1(f[ee.icon.name],O.get("icon-offset").evaluate(ee,{},S),O.get("icon-anchor").evaluate(ee,{},S)),wt=zt.sdf,i.sdfIcons===void 0?i.sdfIcons=zt.sdf:i.sdfIcons!==zt.sdf&&Ce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(zt.pixelRatio!==i.pixelRatio||O.get("icon-rotate").constantOr(1)!==0)&&(i.iconsNeedLinear=!0))}const _t=qy(Ae.horizontal)||Ae.vertical;i.iconsInText||(i.iconsInText=!!_t&&_t.iconsInText),(_t||Ve)&&I1(i,ee,Ae,Ve,u,j,ze,0,Ye,wt,v,S,A)}y&&i.generateCollisionDebugBuffers(T,i.collisionBoxArray)}function a_(i){switch(i){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function I1(i,t,o,u,f,y,v,S,T,A,O,Y,j){let H=y.textMaxSize.evaluate(t,{},Y);H===void 0&&(H=v);const W=i.layers[0].layout,ee=W.get("icon-offset").evaluate(t,{},Y),le=qy(o.horizontal)||o.vertical,De=j.name==="globe",ze=v/24,Ae=i.tilePixelRatio*H/24,Pe=(Vt=i.overscaling,i.zoom>18&&Vt>2&&(Vt>>=1),Math.max(un/(512*Vt),1)*W.get("symbol-spacing")),Ve=W.get("text-padding")*i.tilePixelRatio,Ye=W.get("icon-padding")*i.tilePixelRatio,wt=Re(W.get("text-max-angle")),_t=W.get("text-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",zt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",rr=W.get("symbol-placement"),Tt=Pe/2;var Vt;const Ht=W.get("icon-text-fit");let Qt;u&&Ht!=="none"&&(i.allowVerticalPlacement&&o.vertical&&(Qt=Iy(u,o.vertical,Ht,W.get("icon-text-fit-padding"),ee,ze)),le&&(u=Iy(u,le,Ht,W.get("icon-text-fit-padding"),ee,ze)));const ir=(kt,gr,ln)=>{if(gr.x<0||gr.x>=un||gr.y<0||gr.y>=un)return;let Mr=null;if(De){const{x:Vr,y:yr,z:dn}=j.projectTilePoint(gr.x,gr.y,ln);Mr={anchor:new cu(Vr,yr,dn,0,void 0),up:j.upVector(ln,gr.x,gr.y)}}(function(Vr,yr,dn,Un,zn,Pn,fn,gi,gn,Nn,wi,Ci,Ei,Di,zi,to,Xo,yi,mo,fo,ni,Hi,Eo,xi,ao){const Ta=Vr.addToLineVertexArray(yr,Un);let Ko,Jo,Wa,Qo,Yc,jp,S_,L_=0,fT=0,hT=0,pT=0,nM=-1,iM=-1;const Wu={};let mT=Bu.exports("");const Xf=dn?dn.anchor:yr;let oM=0,aM=0;if(gn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[oM,aM]=gn.layout.get("text-offset").evaluate(ni,{},ao).map((Ys=>Ys*Kn)):(oM=gn.layout.get("text-radial-offset").evaluate(ni,{},ao)*Kn,aM=kp),Vr.allowVerticalPlacement&&zn.vertical){const Ys=zn.vertical;if(zi)jp=s_(Ys),gi&&(S_=s_(gi));else{const Bs=gn.layout.get("text-rotate").evaluate(ni,{},ao)+90;Wa=Ap(Nn,Xf,yr,wi,Ci,Ei,Ys,Di,Bs,to),gi&&(Qo=Ap(Nn,Xf,yr,wi,Ci,Ei,gi,yi,Bs))}}if(Pn){const Ys=gn.layout.get("icon-rotate").evaluate(ni,{},ao),Bs=gn.layout.get("icon-text-fit")!=="none",T_=jy(Pn,Ys,Eo,Bs),lM=gi?jy(gi,Ys,Eo,Bs):void 0;Jo=Ap(Nn,Xf,yr,wi,Ci,Ei,Pn,yi,Ys),L_=4*T_.length;const _T=Vr.iconSizeData;let Kf=null;_T.kind==="source"?(Kf=[Dl*gn.layout.get("icon-size").evaluate(ni,{},ao)],Kf[0]>fs&&Ce(`${Vr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):_T.kind==="composite"&&(Kf=[Dl*Hi.compositeIconSizes[0].evaluate(ni,{},ao),Dl*Hi.compositeIconSizes[1].evaluate(ni,{},ao)],(Kf[0]>fs||Kf[1]>fs)&&Ce(`${Vr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Vr.addSymbols(Vr.icon,T_,Kf,fo,mo,ni,!1,dn,yr,Ta.lineStartIndex,Ta.lineLength,-1,xi,ao),nM=Vr.icon.placedSymbolArray.length-1,lM&&(fT=4*lM.length,Vr.addSymbols(Vr.icon,lM,Kf,fo,mo,ni,Na.vertical,dn,yr,Ta.lineStartIndex,Ta.lineLength,-1,xi,ao),iM=Vr.icon.placedSymbolArray.length-1)}for(const Ys in zn.horizontal){const Bs=zn.horizontal[Ys];Ko||(mT=Bu.exports(Bs.text),zi?Yc=s_(Bs):Ko=Ap(Nn,Xf,yr,wi,Ci,Ei,Bs,Di,gn.layout.get("text-rotate").evaluate(ni,{},ao),to));const T_=Bs.positionedLines.length===1;if(hT+=Hy(Vr,dn,yr,Bs,fn,gn,zi,ni,to,Ta,zn.vertical?Na.horizontal:Na.horizontalOnly,T_?Object.keys(zn.horizontal):[Ys],Wu,nM,Hi,xi,ao),T_)break}zn.vertical&&(pT+=Hy(Vr,dn,yr,zn.vertical,fn,gn,zi,ni,to,Ta,Na.vertical,["vertical"],Wu,iM,Hi,xi,ao));let Cd=-1;const sM=(Ys,Bs)=>Ys?Math.max(Ys,Bs):Bs;Cd=sM(Yc,Cd),Cd=sM(jp,Cd),Cd=sM(S_,Cd);const b3=Cd>-1?1:0;Vr.glyphOffsetArray.length>=qu.MAX_GLYPHS&&Ce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ni.sortKey!==void 0&&Vr.addToSortKeyRanges(Vr.symbolInstances.length,ni.sortKey),Vr.symbolInstances.emplaceBack(Xf.x,Xf.y,Xf.z,yr.x,yr.y,Wu.right>=0?Wu.right:-1,Wu.center>=0?Wu.center:-1,Wu.left>=0?Wu.left:-1,Wu.vertical>=0?Wu.vertical:-1,nM,iM,mT,Ko!==void 0?Ko:Vr.collisionBoxArray.length,Ko!==void 0?Ko+1:Vr.collisionBoxArray.length,Wa!==void 0?Wa:Vr.collisionBoxArray.length,Wa!==void 0?Wa+1:Vr.collisionBoxArray.length,Jo!==void 0?Jo:Vr.collisionBoxArray.length,Jo!==void 0?Jo+1:Vr.collisionBoxArray.length,Qo||Vr.collisionBoxArray.length,Qo?Qo+1:Vr.collisionBoxArray.length,wi,hT,pT,L_,fT,b3,0,oM,aM,Cd)})(i,gr,Mr,kt,o,u,f,Qt,i.layers[0],i.collisionBoxArray,t.index,t.sourceLayerIndex,i.index,Ve,_t,T,0,Ye,zt,ee,t,y,A,O,Y)};if(rr==="line")for(const kt of Lp(t.geometry,0,0,un,un)){const gr=o_(kt,Pe,wt,o.vertical||le,u,24,Ae,i.overscaling,un);for(const ln of gr){const Mr=le;Mr&&P1(i,Mr.text,Tt,ln)||ir(kt,ln,Y)}}else if(rr==="line-center"){for(const kt of t.geometry)if(kt.length>1){const gr=T1(kt,wt,o.vertical||le,u,24,Ae);gr&&ir(kt,gr,Y)}}else if(t.type==="Polygon")for(const kt of Vm(t.geometry,0)){const gr=A1(kt,16);ir(kt[0],new cu(gr.x,gr.y,0,0,void 0),Y)}else if(t.type==="LineString")for(const kt of t.geometry)ir(kt,new cu(kt[0].x,kt[0].y,0,0,void 0),Y);else if(t.type==="Point")for(const kt of t.geometry)for(const gr of kt)ir([gr],new cu(gr.x,gr.y,0,0,void 0),Y)}const fs=32640;function Hy(i,t,o,u,f,y,v,S,T,A,O,Y,j,H,W,ee,le){const De=(function(Pe,Ve,Ye,wt,_t,zt,rr,Tt){const Vt=[];if(Ve.positionedLines.length===0)return Vt;const Ht=wt.layout.get("text-rotate").evaluate(zt,{})*Math.PI/180,Qt=(function(Mr){const Vr=Mr[0],yr=Mr[1],dn=Vr*yr;return dn>0?[Vr,-yr]:dn<0?[-Vr,yr]:Vr===0?[yr,Vr]:[yr,-Vr]})(Ye);let ir=Math.abs(Ve.top-Ve.bottom);for(const Mr of Ve.positionedLines)ir-=Mr.lineOffset;const kt=Ve.positionedLines.length,gr=ir/kt;let ln=Ve.top-Ye[1];for(let Mr=0;Mr<kt;++Mr){const Vr=Ve.positionedLines[Mr];ln=E1(Ve,gr,ln,Mr);for(const yr of Vr.positionedGlyphs){if(!yr.rect)continue;const dn=yr.rect||{};let Un=4,zn=!0,Pn=1,fn=0;if(yr.imageName){const xi=rr[yr.imageName];if(!xi)continue;if(xi.sdf){Ce("SDF images are not supported in formatted text and will be ignored.");continue}zn=!1,Pn=xi.pixelRatio,Un=1/Pn}const gi=(_t||Tt)&&yr.vertical,gn=yr.metrics.advance*yr.scale/2,Nn=yr.metrics,wi=yr.rect;if(wi===null)continue;Tt&&Ve.verticalizable&&(fn=yr.imageName?gn-yr.metrics.width*yr.scale/2:0);const Ci=_t?[yr.x+gn,yr.y]:[0,0];let Ei=[0,0],Di=[0,0],zi=!1;_t||(gi?(Di=[yr.x+gn+Qt[0],yr.y+Qt[1]-fn],zi=!0):Ei=[yr.x+gn+Ye[0],yr.y+Ye[1]-fn]);const to=wi.w*yr.scale/(Pn*(yr.localGlyph?2:1)),Xo=wi.h*yr.scale/(Pn*(yr.localGlyph?2:1));let yi,mo,fo,ni;if(gi){const xi=yr.y-ln,ao=new he(-gn,gn-xi),Ta=-Math.PI/2,Ko=new he(...Di);yi=new he(-gn+Ei[0],Ei[1]),yi._rotateAround(Ta,ao)._add(Ko),yi.x+=-xi+gn,yi.y-=(Nn.left-Un)*yr.scale;const Jo=yr.imageName?Nn.advance*yr.scale:Kn*yr.scale,Wa=String.fromCharCode(yr.glyph);Jm(Wa)?yi.x+=(1-Un)*yr.scale:_1(Wa)?yi.x+=Jo-Nn.height*yr.scale+(-Un-1)*yr.scale:yi.x+=yr.imageName||Nn.width+2*Un===wi.w&&Nn.height+2*Un===wi.h?(Jo-Xo)/2:(Jo-(Nn.height+2*Un)*yr.scale)/2,mo=new he(yi.x,yi.y-to),fo=new he(yi.x+Xo,yi.y),ni=new he(yi.x+Xo,yi.y-to)}else{const xi=(Nn.left-Un)*yr.scale-gn+Ei[0],ao=(-Nn.top-Un)*yr.scale+Ei[1],Ta=xi+to,Ko=ao+Xo;yi=new he(xi,ao),mo=new he(Ta,ao),fo=new he(xi,Ko),ni=new he(Ta,Ko)}if(Ht){let xi;xi=_t?new he(0,0):zi?new he(Qt[0],Qt[1]):new he(Ye[0],Ye[1]),yi._rotateAround(Ht,xi),mo._rotateAround(Ht,xi),fo._rotateAround(Ht,xi),ni._rotateAround(Ht,xi)}const Hi=new he(0,0),Eo=new he(0,0);Vt.push({tl:yi,tr:mo,bl:fo,br:ni,tex:dn,writingMode:Ve.writingMode,glyphOffset:Ci,sectionIndex:yr.sectionIndex,isSDF:zn,pixelOffsetTL:Hi,pixelOffsetBR:Eo,minFontScaleX:0,minFontScaleY:0})}}return Vt})(0,u,T,y,v,S,f,i.allowVerticalPlacement),ze=i.textSizeData;let Ae=null;ze.kind==="source"?(Ae=[Dl*y.layout.get("text-size").evaluate(S,{},le)],Ae[0]>fs&&Ce(`${i.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ze.kind==="composite"&&(Ae=[Dl*W.compositeTextSizes[0].evaluate(S,{},le),Dl*W.compositeTextSizes[1].evaluate(S,{},le)],(Ae[0]>fs||Ae[1]>fs)&&Ce(`${i.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),i.addSymbols(i.text,De,Ae,T,v,S,O,t,o,A.lineStartIndex,A.lineLength,H,ee,le);for(const Pe of Y)j[Pe]=i.text.placedSymbolArray.length-1;return 4*De.length}function qy(i){for(const t in i)return i[t];return null}function Ap(i,t,o,u,f,y,v,S,T,A){let O=v.top,Y=v.bottom,j=v.left,H=v.right;const W=v.collisionPadding;if(W&&(j-=W[0],O-=W[1],H+=W[2],Y+=W[3]),T){const ee=new he(j,O),le=new he(H,O),De=new he(j,Y),ze=new he(H,Y),Ae=Re(T);let Pe=new he(0,0);A&&(Pe=new he(A[0],A[1])),ee._rotateAround(Ae,Pe),le._rotateAround(Ae,Pe),De._rotateAround(Ae,Pe),ze._rotateAround(Ae,Pe),j=Math.min(ee.x,le.x,De.x,ze.x),H=Math.max(ee.x,le.x,De.x,ze.x),O=Math.min(ee.y,le.y,De.y,ze.y),Y=Math.max(ee.y,le.y,De.y,ze.y)}return i.emplaceBack(t.x,t.y,t.z,o.x,o.y,j,O,H,Y,S,u,f,y),i.length-1}function s_(i){i.collisionPadding&&(i.top-=i.collisionPadding[1],i.bottom+=i.collisionPadding[3]);const t=i.bottom-i.top;return t>0?Math.max(10,t):null}function P1(i,t,o,u){const f=i.compareText;if(t in f){const y=f[t];for(let v=y.length-1;v>=0;v--)if(u.dist(y[v])<o)return!0}else f[t]=[];return f[t].push(u),!1}const Gy=kr([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:l_}=Gy,Wy=kr([{name:"a_pos_3",components:3,type:"Int16"}]);var $f=kr([{name:"a_pos",type:"Int16",components:2}]);const du=un/Math.PI/2,u_=2*Ba(1,0)*du*Math.PI,Td=64,Ed=[Td,32,16],Rs=-du,Fs=du,O1=[new pa([Rs,Rs,Rs],[Fs,Fs,Fs]),new pa([Rs,Rs,Rs],[0,0,Fs]),new pa([0,Rs,Rs],[Fs,0,Fs]),new pa([Rs,0,Rs],[0,Fs,Fs]),new pa([0,0,Rs],[Fs,Fs,Fs])];function Zy(i,t,o,u=!0){const f=$a([],i._camera.position,i.worldSize),y=[t,o,1,1];Hu(y,y,i.pixelMatrixInverse),ey(y,y,1/y[3]);const v=ha([],sl([],y,f)),S=i.globeMatrix,T=[S[12],S[13],S[14]],A=sl([],T,f),O=bd(A),Y=ha([],A),j=i.worldSize/(2*Math.PI),H=Os(Y,v),W=Math.asin(j/O);if(W<Math.acos(H)){if(!u)return null;const rr=[],Tt=[];$a(rr,v,O/H),ha(Tt,sl(Tt,rr,A)),ha(v,Ps(v,A,$a(v,Tt,Math.tan(W)*O)))}const ee=[];new Pm(f,v).closestPointOnSphere(T,j,ee);const le=ha([],Ut(S,0)),De=ha([],Ut(S,1)),ze=ha([],Ut(S,2)),Ae=Os(le,ee),Pe=Os(De,ee),Ve=Os(ze,ee),Ye=ut(Math.asin(-Pe/j));let wt=ut(Math.atan2(Ae,Ve));wt=i.center.lng+(function(rr,Tt){const Vt=(Tt-rr+180)%360-180;return Vt<-180?Vt+360:Vt})(i.center.lng,wt);const _t=ss(wt),zt=ot(nl(Ye),0,1);return new _d(_t,zt)}class R1{constructor(t,o,u){this.a=sl([],t,u),this.b=sl([],o,u),this.center=u;const f=ha([],this.a),y=ha([],this.b);this.angle=Math.acos(Os(f,y))}}function c_(i,t){if(i.angle===0)return null;let o;return o=i.a[t]===0?1/i.angle*.5*Math.PI:1/i.angle*Math.atan(i.b[t]/i.a[t]/Math.sin(i.angle)-1/Math.tan(i.angle)),o<0||o>1?null:(function(u,f,y,v){const S=Math.sin(y);return u*(Math.sin((1-v)*y)/S)+f*(Math.sin(v*y)/S)})(i.a[t],i.b[t],i.angle,ot(o,0,1))+i.center[t]}function Pl(i){if(i.z<=1)return O1[i.z+2*i.y+i.x];const t=d_(Cp(i));return pa.fromPoints(t)}function Oc(i,t,o){return $a(i,i,1-o),vf(i,i,t,o)}function Xy(i,t){const o=Rc(t.zoom);if(o===0)return Pl(i);const u=Cp(i),f=d_(u),y=ss(u.getWest())*t.worldSize,v=ss(u.getEast())*t.worldSize,S=nl(u.getNorth())*t.worldSize,T=nl(u.getSouth())*t.worldSize,A=[y,S,0],O=[v,S,0],Y=[y,T,0],j=[v,T,0],H=Am([],t.globeMatrix);return Zi(A,A,H),Zi(O,O,H),Zi(Y,Y,H),Zi(j,j,H),f[0]=Oc(f[0],Y,o),f[1]=Oc(f[1],j,o),f[2]=Oc(f[2],O,o),f[3]=Oc(f[3],A,o),pa.fromPoints(f)}function Ky(i,t,o){for(const u of i)Zi(u,u,t),$a(u,u,o)}function F1(i,t,o){const u=t/i.worldSize,f=i.globeMatrix;if(o.z<=1){const _t=Pl(o).getCorners();return Ky(_t,f,u),pa.fromPoints(_t)}const y=Cp(o),v=d_(y);Ky(v,f,u);const S=Number.MAX_VALUE,T=[-S,-S,-S],A=[S,S,S];if(y.contains(i.center)){for(const rr of v)al(A,A,rr),bf(T,T,rr);T[2]=0;const _t=i.point,zt=[_t.x*u,_t.y*u,0];return al(A,A,zt),bf(T,T,zt),new pa(A,T)}const O=[f[12]*u,f[13]*u,f[14]*u],Y=y.getCenter(),j=ot(i.center.lat,-85.051129,il),H=ot(Y.lat,-85.051129,il),W=ss(i.center.lng),ee=nl(j);let le=W-ss(Y.lng);const De=ee-nl(H);le>.5?le-=1:le<-.5&&(le+=1);let ze=0;Math.abs(le)>Math.abs(De)?ze=le>=0?1:3:(ze=De>=0?0:2,vf(O,O,[f[4]*u,f[5]*u,f[6]*u],-Math.sin(Re(De>=0?y.getSouth():y.getNorth()))*du));const Ae=v[ze],Pe=v[(ze+1)%4],Ve=new R1(Ae,Pe,O),Ye=[c_(Ve,0)||Ae[0],c_(Ve,1)||Ae[1],c_(Ve,2)||Ae[2]],wt=Rc(i.zoom);if(wt>0){const _t=(function({x:rr,y:Tt,z:Vt},Ht,Qt,ir,kt){const gr=1/(1<<Vt);let ln=rr*gr,Mr=ln+gr,Vr=Tt*gr,yr=Vr+gr,dn=0;const Un=(ln+Mr)/2-ir;return Un>.5?dn=-1:Un<-.5&&(dn=1),ln=((ln+dn)*Ht-(ir*=Ht))*Qt+ir,Mr=((Mr+dn)*Ht-ir)*Qt+ir,Vr=(Vr*Ht-(kt*=Ht))*Qt+kt,yr=(yr*Ht-kt)*Qt+kt,[[ln,yr,0],[Mr,yr,0],[Mr,Vr,0],[ln,Vr,0]]})(o,t,i._pixelsPerMercatorPixel,W,ee);for(let rr=0;rr<v.length;rr++)Oc(v[rr],_t[rr],wt);const zt=Ps([],_t[ze],_t[(ze+1)%4]);$a(zt,zt,.5),Oc(Ye,zt,wt)}for(const _t of v)al(A,A,_t),bf(T,T,_t);return A[2]=Math.min(Ae[2],Pe[2]),al(A,A,Ye),bf(T,T,Ye),new pa(A,T)}function Cp({x:i,y:t,z:o}){const u=1/(1<<o),f=new jn(ls(i*u),So((t+1)*u)),y=new jn(ls((i+1)*u),So(t*u));return new rl(f,y)}function d_(i){const t=Re(i.getNorth()),o=Re(i.getSouth()),u=Math.cos(t),f=Math.cos(o),y=Math.sin(t),v=Math.sin(o),S=i.getWest(),T=i.getEast();return[kd(f,v,S),kd(f,v,T),kd(u,y,T),kd(u,y,S)]}function kd(i,t,o,u=du){return o=Re(o),[i*Math.sin(o)*u,-t*u,i*Math.cos(o)*u]}function Vf(i,t,o){return kd(Math.cos(Re(i)),Math.sin(Re(i)),t,o)}function Uf(i,t,o,u){const f=1<<o.z,y=(i/un+o.x)/f;return Vf(So((t/un+o.y)/f),ls(y),u)}function Dp({min:i,max:t}){return 16383/Math.max(t[0]-i[0],t[1]-i[1],t[2]-i[2])}const Jy=new Float64Array(16);function Nf(i){const t=Dp(i),o=Kg(Jy,[t,t,t]);return gf(o,o,((u=[])[0]=-(f=i.min)[0],u[1]=-f[1],u[2]=-f[2],u));var u,f}function Hf(i){const t=(u=i.min,(o=Jy)[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=u[0],o[13]=u[1],o[14]=u[2],o[15]=1,o);var o,u;const f=1/Dp(i);return Tc(t,t,[f,f,f])}function f_(i,t,o,u,f){const y=(function(T){const A=un/(2*Math.PI);return T/(2*Math.PI)/A})(o),v=[i,t,-o/(2*Math.PI)],S=Is(new Float64Array(16));return gf(S,S,v),Tc(S,S,[y,y,y]),ap(S,S,Re(-f)),yf(S,S,Re(-u)),S}function Rc(i){return dt(5,6,i)}function Qy(i,t){const o=Vf(t.lat,t.lng),u=(function(W){const ee=Vf(W._center.lat,W._center.lng);let le=Cm([],kc(0,1,0),ee);const De=sp([],-W.angle,ee);le=Zi(le,le,De),sp(De,-W._pitch,le);const ze=ha([],ee);return $a(ze,ze,W.cameraToCenterDistance/W.pixelsPerMeter*u_),Zi(ze,ze,De),Ps([],ee,ze)})(i);return v=(f=up([],u,o))[0],S=f[1],T=f[2],A=(y=o)[0],O=y[1],Y=y[2],H=(j=Math.sqrt(v*v+S*S+T*T)*Math.sqrt(A*A+O*O+Y*Y))&&Os(f,y)/j,Math.acos(Math.min(Math.max(H,-1),1));var f,y,v,S,T,A,O,Y,j,H}function h_(i,t){return Qy(i,t)>Math.PI/2*1.01}const eb=Re(85),p_=Math.cos(eb),z1=Math.sin(eb);function tb(i,t){const o=i.fovAboveCenter,u=i.elevation?i.elevation.getMinElevationBelowMSL()*t:0,f=(i._camera.position[2]*i.worldSize-u)/Math.cos(i._pitch),y=Math.sin(o)*f/Math.sin(Math.max(Math.PI/2-i._pitch-o,.01)),v=Math.sin(i._pitch)*y+f;return Math.min(1.01*v,f*(1/i._horizonShift))}function Fc(i,t){if(!t.isReprojectedInTileSpace)return{scale:1<<i.z,x:i.x,y:i.y,x2:i.x+1,y2:i.y+1,projection:t};const o=Math.pow(2,-i.z),u=i.x*o,f=(i.x+1)*o,y=i.y*o,v=(i.y+1)*o,S=ls(u),T=ls(f),A=So(y),O=So(v),Y=t.project(S,A),j=t.project(T,A),H=t.project(T,O),W=t.project(S,O);let ee=Math.min(Y.x,j.x,H.x,W.x),le=Math.min(Y.y,j.y,H.y,W.y),De=Math.max(Y.x,j.x,H.x,W.x),ze=Math.max(Y.y,j.y,H.y,W.y);const Ae=o/16;function Pe(Ye,wt,_t,zt,rr,Tt){const Vt=(_t+rr)/2,Ht=(zt+Tt)/2,Qt=t.project(ls(Vt),So(Ht)),ir=Math.max(0,ee-Qt.x,le-Qt.y,Qt.x-De,Qt.y-ze);ee=Math.min(ee,Qt.x),De=Math.max(De,Qt.x),le=Math.min(le,Qt.y),ze=Math.max(ze,Qt.y),ir>Ae&&(Pe(Ye,Qt,_t,zt,Vt,Ht),Pe(Qt,wt,Vt,Ht,rr,Tt))}Pe(Y,j,u,y,f,y),Pe(j,H,f,y,f,v),Pe(H,W,f,v,u,v),Pe(W,Y,u,v,u,y),ee-=Ae,le-=Ae,De+=Ae,ze+=Ae;const Ve=1/Math.max(De-ee,ze-le);return{scale:Ve,x:ee*Ve,y:le*Ve,x2:De*Ve,y2:ze*Ve,projection:t}}const Ha=Is(new Float32Array(16));class Ol{constructor(t){this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(t,o){return{x:0,y:0,z:0}}unproject(t,o){return new jn(0,0)}projectTilePoint(t,o,u){return{x:t,y:o,z:0}}locationPoint(t,o,u=!0){return t._coordinatePoint(t.locationCoordinate(o),u)}pixelsPerMeter(t,o){return Ba(1,t)*o}pixelSpaceConversion(t,o,u){return 1}farthestPixelDistance(t){return tb(t,t.pixelsPerMeter)}pointCoordinate(t,o,u,f){const y=t.horizonLineFromTop(!1),v=new he(o,Math.max(y,u));return t.rayIntersectionCoordinate(t.pointRayIntersection(v,f))}pointCoordinate3D(t,o,u){const f=new he(o,u);if(t.elevation)return t.elevation.pointCoordinate(f);{const y=this.pointCoordinate(t,f.x,f.y,0);return[y.x,y.y,y.z]}}isPointAboveHorizon(t,o){if(t.elevation)return!this.pointCoordinate3D(t,o.x,o.y);const u=t.horizonLineFromTop();return o.y<u}createInversionMatrix(t,o){return Ha}createTileMatrix(t,o,u){let f,y,v;const S=u.canonical,T=Is(new Float64Array(16));if(this.isReprojectedInTileSpace){const A=Fc(S,this);f=1,y=A.x+u.wrap*A.scale,v=A.y,Tc(T,T,[f/A.scale,f/A.scale,t.pixelsPerMeter/o])}else f=o/t.zoomScale(S.z),y=(S.x+Math.pow(2,S.z)*u.wrap)*f,v=S.y*f;return gf(T,T,[y,v,0]),Tc(T,T,[f/un,f/un,1]),T}upVector(t,o,u){return[0,0,1]}upVectorScale(t,o,u){return{metersToTile:1}}}class Y1 extends Ol{constructor(t){super(t),this.range=[4,7],this.center=t.center||[-96,37.5];const[o,u]=this.parallels=t.parallels||[29.5,45.5],f=Math.sin(Re(o));this.n=(f+Math.sin(Re(u)))/2,this.c=1+f*(2*this.n-f),this.r0=Math.sqrt(this.c)/this.n}project(t,o){const{n:u,c:f,r0:y}=this,v=Re(t-this.center[0]),S=Re(o),T=Math.sqrt(f-2*u*Math.sin(S))/u;return{x:T*Math.sin(v*u),y:T*Math.cos(v*u)-y,z:0}}unproject(t,o){const{n:u,c:f,r0:y}=this,v=y+o;let S=Math.atan2(t,Math.abs(v))*Math.sign(v);v*u<0&&(S-=Math.PI*Math.sign(t)*Math.sign(v));const T=Re(this.center[0])*u;S=vt(S,-Math.PI-T,Math.PI-T);const A=ot(ut(S/u)+this.center[0],-180,180),O=Math.asin(ot((f-(t*t+v*v)*u*u)/(2*u),-1,1)),Y=ot(ut(O),-85.051129,il);return new jn(A,Y)}}const qf=1.340264,Gf=-.081106,Wf=893e-6,zc=.003796,Ip=Math.sqrt(3)/2;class m_ extends Ol{project(t,o){o=o/180*Math.PI,t=t/180*Math.PI;const u=Math.asin(Ip*Math.sin(o)),f=u*u,y=f*f*f;return{x:.5*(t*Math.cos(u)/(Ip*(qf+3*Gf*f+y*(7*Wf+9*zc*f)))/Math.PI+.5),y:1-.5*(u*(qf+Gf*f+y*(Wf+zc*f))/Math.PI+1),z:0}}unproject(t,o){t=(2*t-.5)*Math.PI;let u=o=(2*(1-o)-1)*Math.PI,f=u*u,y=f*f*f;for(let O,Y,j,H=0;H<12&&(Y=u*(qf+Gf*f+y*(Wf+zc*f))-o,j=qf+3*Gf*f+y*(7*Wf+9*zc*f),O=Y/j,u=ot(u-O,-Math.PI/3,Math.PI/3),f=u*u,y=f*f*f,!(Math.abs(O)<1e-12));++H);const v=Ip*t*(qf+3*Gf*f+y*(7*Wf+9*zc*f))/Math.cos(u),S=Math.asin(Math.sin(u)/Ip),T=ot(180*v/Math.PI,-180,180),A=ot(180*S/Math.PI,-85.051129,il);return new jn(T,A)}}class B1 extends Ol{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0}project(t,o){return{x:.5+t/360,y:.5-o/360,z:0}}unproject(t,o){const u=360*(t-.5),f=ot(360*(.5-o),-85.051129,il);return new jn(u,f)}}const Ad=Math.PI/2;function Pp(i){return Math.tan((Ad+i)/2)}class j1 extends Ol{constructor(t){super(t),this.center=t.center||[0,30];const[o,u]=this.parallels=t.parallels||[30,30];let f=Re(o),y=Re(u);this.southernCenter=f+y<0,this.southernCenter&&(f=-f,y=-y);const v=Math.cos(f),S=Pp(f);this.n=f===y?Math.sin(f):Math.log(v/Math.cos(y))/Math.log(Pp(y)/S),this.f=v*Math.pow(Pp(f),this.n)/this.n}project(t,o){o=Re(o),this.southernCenter&&(o=-o),t=Re(t-this.center[0]);const u=1e-6,{n:f,f:y}=this;y>0?o<-Ad+u&&(o=-Ad+u):o>Ad-u&&(o=Ad-u);const v=y/Math.pow(Pp(o),f);let S=v*Math.sin(f*t),T=y-v*Math.cos(f*t);return S=.5*(S/Math.PI+.5),T=.5*(T/Math.PI+.5),{x:S,y:this.southernCenter?T:1-T,z:0}}unproject(t,o){t=(2*t-.5)*Math.PI,this.southernCenter&&(o=1-o),o=(2*(1-o)-.5)*Math.PI;const{n:u,f}=this,y=f-o,v=Math.sign(y),S=Math.sign(u)*Math.sqrt(t*t+y*y);let T=Math.atan2(t,Math.abs(y))*v;y*u<0&&(T-=Math.PI*Math.sign(t)*v);const A=ot(ut(T/u)+this.center[0],-180,180),O=ot(ut(2*Math.atan(Math.pow(f/S,1/u))-Ad),-85.051129,il);return new jn(A,this.southernCenter?-O:O)}}class __ extends Ol{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(t,o){return{x:ss(t),y:nl(o),z:0}}unproject(t,o){const u=ls(t),f=So(o);return new jn(u,f)}}const rb=Re(il);class $1 extends Ol{project(t,o){const u=(o=Re(o))*o,f=u*u;return{x:.5*((t=Re(t))*(.8707-.131979*u+f*(f*(.003971*u-.001529*f)-.013791))/Math.PI+.5),y:1-.5*(o*(1.007226+u*(.015085+f*(.028874*u-.044475-.005916*f)))/Math.PI+1),z:0}}unproject(t,o){t=(2*t-.5)*Math.PI;let u=o=(2*(1-o)-1)*Math.PI,f=25,y=0,v=u*u;do{v=u*u;const A=v*v;y=(u*(1.007226+v*(.015085+A*(.028874*v-.044475-.005916*A)))-o)/(1.007226+v*(.045255+A*(.259866*v-.311325-.005916*11*A))),u=ot(u-y,-rb,rb)}while(Math.abs(y)>1e-6&&--f>0);v=u*u;const S=ot(ut(t/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),T=ut(u);return new jn(S,T)}}const nb=Re(il);class g_ extends Ol{project(t,o){o=Re(o),t=Re(t);const u=Math.cos(o),f=2/Math.PI,y=Math.acos(u*Math.cos(t/2)),v=Math.sin(y)/y,S=.5*(t*f+2*u*Math.sin(t/2)/v)||0,T=.5*(o+Math.sin(o)/v)||0;return{x:.5*(S/Math.PI+.5),y:1-.5*(T/Math.PI+1),z:0}}unproject(t,o){let u=t=(2*t-.5)*Math.PI,f=o=(2*(1-o)-1)*Math.PI,y=25;const v=1e-6;let S=0,T=0;do{const A=Math.cos(f),O=Math.sin(f),Y=2*O*A,j=O*O,H=A*A,W=Math.cos(u/2),ee=Math.sin(u/2),le=2*W*ee,De=ee*ee,ze=1-H*W*W,Ae=ze?1/ze:0,Pe=ze?Math.acos(A*W)*Math.sqrt(1/ze):0,Ve=.5*(2*Pe*A*ee+2*u/Math.PI)-t,Ye=.5*(Pe*O+f)-o,wt=.5*Ae*(H*De+Pe*A*W*j)+1/Math.PI,_t=Ae*(le*Y/4-Pe*O*ee),zt=.125*Ae*(Y*ee-Pe*O*H*le),rr=.5*Ae*(j*W+Pe*De*A)+.5,Tt=_t*zt-rr*wt;S=(Ye*_t-Ve*rr)/Tt,T=(Ve*zt-Ye*wt)/Tt,u=ot(u-S,-Math.PI,Math.PI),f=ot(f-T,-nb,nb)}while((Math.abs(S)>v||Math.abs(T)>v)&&--y>0);return new jn(ut(u),ut(f))}}class Op extends Ol{constructor(t){super(t),this.center=t.center||[0,0],this.parallels=t.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Re(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(t,o){const{scale:u,cosPhi:f}=this;return{x:Re(t)*f*u+.5,y:-Math.sin(Re(o))/f*u+.5,z:0}}unproject(t,o){const{scale:u,cosPhi:f}=this,y=-(o-.5)/u,v=ot(ut((t-.5)/u)/f,-180,180),S=Math.asin(ot(y*f,-1,1)),T=ot(ut(S),-85.051129,il);return new jn(v,T)}}class V1 extends __{constructor(t){super(t),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(t,o,u){const f=Uf(t,o,u);return Zi(f,f,Nf(Pl(u))),{x:f[0],y:f[1],z:f[2]}}locationPoint(t,o){const u=Vf(o.lat,o.lng),f=ha([],u),y=t.elevation?t.elevation.getAtPointOrZero(t.locationCoordinate(o),t._centerAltitude):t._centerAltitude;vf(u,u,f,Ba(1,0)*un*y);const v=Is(new Float64Array(16));return Lc(v,t.pixelMatrix,t.globeMatrix),Zi(u,u,v),new he(u[0],u[1])}pixelsPerMeter(t,o){return Ba(1,0)*o}pixelSpaceConversion(t,o,u){const f=Ba(1,t)*o,y=In(Ba(1,45)*o,f,u);return this.pixelsPerMeter(t,o)/y}createTileMatrix(t,o,u){const f=Hf(Pl(u.canonical));return Lc(new Float64Array(16),t.globeMatrix,f)}createInversionMatrix(t,o){const{center:u}=t,f=Nf(Pl(o));return yf(f,f,Re(u.lng)),ap(f,f,Re(u.lat)),Tc(f,f,[t._pixelsPerMercatorPixel,t._pixelsPerMercatorPixel,1]),Float32Array.from(f)}pointCoordinate(t,o,u,f){return Zy(t,o,u,!0)||new _d(0,0)}pointCoordinate3D(t,o,u){const f=this.pointCoordinate(t,o,u,0);return[f.x,f.y,f.z]}isPointAboveHorizon(t,o){return!Zy(t,o.x,o.y,!1)}farthestPixelDistance(t){const o=(function(f,y){const v=f.cameraToCenterDistance,S=f._centerAltitude*y,T=f._camera,A=f._camera.forward(),O=Ps([],$a([],A,-v),[0,0,S]),Y=f.worldSize/(2*Math.PI),j=[0,0,-Y],H=f.width/f.height,W=Math.tan(f.fovAboveCenter),ee=$a([],T.up(),W),le=$a([],T.right(),W*H),De=ha([],Ps([],Ps([],A,ee),le)),ze=[];let Ae;if(new Pm(O,De).closestPointOnSphere(j,Y,ze)){const Pe=Ps([],ze,j),Ve=sl([],Pe,O);Ae=Math.cos(f.fovAboveCenter)*bd(Ve)}else{const Pe=sl([],O,j),Ve=sl([],j,O);ha(Ve,Ve);const Ye=bd(Pe)-Y;Ae=Math.sqrt(Ye*(Ye+2*Y));const wt=Math.acos(Ae/(Y+Ye))-Math.acos(Os(A,Ve));Ae*=Math.cos(wt)}return 1.01*Ae})(t,this.pixelsPerMeter(t.center.lat,t.worldSize)),u=Rc(t.zoom);if(u>0){const f=tb(t,Ba(1,t.center.lat)*t.worldSize),y=t.worldSize/(2*Math.PI),v=Math.max(t.width,t.height)/t.worldSize*Math.PI;return In(o,f+y*(1-Math.cos(v)),Math.pow(u,10))}return o}upVector(t,o,u){return Uf(o,u,t,1)}upVectorScale(t){return{metersToTile:u_*Dp(Pl(t))}}}function ib(i){const t=i.parallels,o=!!t&&Math.abs(t[0]+t[1])<.01;switch(i.name){case"mercator":return new __(i);case"equirectangular":return new B1(i);case"naturalEarth":return new $1(i);case"equalEarth":return new m_(i);case"winkelTripel":return new g_(i);case"albers":return o?new Op(i):new Y1(i);case"lambertConformalConic":return o?new Op(i):new j1(i);case"globe":return new V1(i)}throw new Error(`Invalid projection name: ${i.name}`)}const U1=gp.types,N1=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Rp(i,t,o,u,f,y,v,S,T,A,O,Y,j){const H=S?Math.min(fs,Math.round(S[0])):0,W=S?Math.min(fs,Math.round(S[1])):0;i.emplaceBack(t,o,Math.round(32*u),Math.round(32*f),y,v,(H<<1)+(T?1:0),W,16*A,16*O,256*Y,256*j)}function Fp(i,t,o,u,f,y,v){i.emplaceBack(t,o,u,f,y,v)}function zp(i,t,o,u,f){i.emplaceBack(t,o,u,f),i.emplaceBack(t,o,u,f),i.emplaceBack(t,o,u,f),i.emplaceBack(t,o,u,f)}function H1(i){for(const t of i.sections)if(me(t.text))return!0;return!1}class y_{constructor(t){this.layoutVertexArray=new mi,this.indexArray=new ho,this.programConfigurations=t,this.segments=new Ui,this.dynamicLayoutVertexArray=new ca,this.opacityVertexArray=new Vi,this.placedSymbolArray=new hf,this.globeExtVertexArray=new Wn}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,o,u,f){this.isEmpty()||(u&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ll.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,o),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,h1.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,N1,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,f1.members,!0)),this.opacityVertexBuffer.itemSize=1),(u||f)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Dr(y_,"SymbolBuffers");class b_{constructor(t,o,u){this.layoutVertexArray=new t,this.layoutAttributes=o,this.indexArray=new u,this.segments=new Ui,this.collisionVertexArray=new nu,this.collisionVertexArrayExt=new Es}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Ic.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,Fn.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Dr(b_,"CollisionBuffers");class qu{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((v=>v.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Is([]),this.placementViewportMatrix=Is([]);const o=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Il(this.zoom,o["text-size"]),this.iconSizeData=Il(this.zoom,o["icon-size"]);const u=this.layers[0].layout,f=u.get("symbol-sort-key"),y=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=y!=="viewport-y"&&f.constantOr(1)!==void 0,this.sortFeaturesByY=(y==="viewport-y"||y==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=u.get("text-writing-mode").map((v=>Na[v])),this.stateDependentLayerIds=this.layers.filter((v=>v.isStateDependent())).map((v=>v.id)),this.sourceID=t.sourceID,this.projection=t.projection}createArrays(){this.text=new y_(new ks(this.layers,this.zoom,(t=>/^text/.test(t)))),this.icon=new y_(new ks(this.layers,this.zoom,(t=>/^icon/.test(t)))),this.glyphOffsetArray=new bm,this.lineVertexArray=new Ya,this.symbolInstances=new ym}calculateGlyphDependencies(t,o,u,f,y){for(let v=0;v<t.length;v++)if(o[t.charCodeAt(v)]=!0,f&&y){const S=Rf[t.charAt(v)];S&&(o[S.charCodeAt(0)]=!0)}}populate(t,o,u,f){const y=this.layers[0],v=y.layout,S=this.projection.name==="globe",T=v.get("text-font"),A=v.get("text-field"),O=v.get("icon-image"),Y=(A.value.kind!=="constant"||A.value.value instanceof Qi&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),j=O.value.kind!=="constant"||!!O.value.value||Object.keys(O.parameters).length>0,H=v.get("symbol-sort-key");if(this.features=[],!Y&&!j)return;const W=o.iconDependencies,ee=o.glyphDependencies,le=o.availableImages,De=new Xe(this.zoom);for(const{feature:ze,id:Ae,index:Pe,sourceLayerIndex:Ve}of t){const Ye=y._featureFilter.needGeometry,wt=Cs(ze,Ye);if(!y._featureFilter.filter(De,wt,u))continue;if(Ye||(wt.geometry=As(ze,u,f)),S&&ze.type!==1&&u.z<=5){const Tt=wt.geometry,Vt=.98078528056,Ht=(Qt,ir)=>Os(Uf(Qt.x,Qt.y,u,1),Uf(ir.x,ir.y,u,1))<Vt;for(let Qt=0;Qt<Tt.length;Qt++)Tt[Qt]=au(Tt[Qt],Ht)}let _t,zt;if(Y){const Tt=y.getValueAndResolveTokens("text-field",wt,u,le),Vt=Qi.factory(Tt);H1(Vt)&&(this.hasRTLText=!0),(!this.hasRTLText||We()==="unavailable"||this.hasRTLText&&pt.isParsed())&&(_t=m1(Vt,y,wt))}if(j){const Tt=y.getValueAndResolveTokens("icon-image",wt,u,le);zt=Tt instanceof No?Tt:No.fromString(Tt)}if(!_t&&!zt)continue;const rr=this.sortFeaturesByKey?H.evaluate(wt,{},u):void 0;if(this.features.push({id:Ae,text:_t,icon:zt,index:Pe,sourceLayerIndex:Ve,geometry:wt.geometry,properties:ze.properties,type:U1[ze.type],sortKey:rr}),zt&&(W[zt.name]=!0),_t){const Tt=T.evaluate(wt,{},u).join(","),Vt=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Na.vertical)>=0;for(const Ht of _t.sections)if(Ht.image)W[Ht.image.name]=!0;else{const Qt=D(_t.toString()),ir=Ht.fontStack||Tt,kt=ee[ir]=ee[ir]||{};this.calculateGlyphDependencies(Ht.text,kt,Vt,this.allowVerticalPlacement,Qt)}}}v.get("symbol-placement")==="line"&&(this.features=(function(ze){const Ae={},Pe={},Ve=[];let Ye=0;function wt(Tt){Ve.push(ze[Tt]),Ye++}function _t(Tt,Vt,Ht){const Qt=Pe[Tt];return delete Pe[Tt],Pe[Vt]=Qt,Ve[Qt].geometry[0].pop(),Ve[Qt].geometry[0]=Ve[Qt].geometry[0].concat(Ht[0]),Qt}function zt(Tt,Vt,Ht){const Qt=Ae[Vt];return delete Ae[Vt],Ae[Tt]=Qt,Ve[Qt].geometry[0].shift(),Ve[Qt].geometry[0]=Ht[0].concat(Ve[Qt].geometry[0]),Qt}function rr(Tt,Vt,Ht){const Qt=Ht?Vt[0][Vt[0].length-1]:Vt[0][0];return`${Tt}:${Qt.x}:${Qt.y}`}for(let Tt=0;Tt<ze.length;Tt++){const Vt=ze[Tt],Ht=Vt.geometry,Qt=Vt.text?Vt.text.toString():null;if(!Qt){wt(Tt);continue}const ir=rr(Qt,Ht),kt=rr(Qt,Ht,!0);if(ir in Pe&&kt in Ae&&Pe[ir]!==Ae[kt]){const gr=zt(ir,kt,Ht),ln=_t(ir,kt,Ve[gr].geometry);delete Ae[ir],delete Pe[kt],Pe[rr(Qt,Ve[ln].geometry,!0)]=ln,Ve[gr].geometry=null}else ir in Pe?_t(ir,kt,Ht):kt in Ae?zt(ir,kt,Ht):(wt(Tt),Ae[ir]=Ye-1,Pe[kt]=Ye-1)}return Ve.filter((Tt=>Tt.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((ze,Ae)=>ze.sortKey-Ae.sortKey))}update(t,o,u,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,o,this.layers,u,f),this.icon.programConfigurations.updatePaintArrays(t,o,this.layers,u,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=ib(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,o){const u=this.lineVertexArray.length;if(t.segment!==void 0)for(const{x:f,y}of o)this.lineVertexArray.emplaceBack(f,y);return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(t,o,u,f,y,v,S,T,A,O,Y,j,H,W){const ee=t.indexArray,le=t.layoutVertexArray,De=t.globeExtVertexArray,ze=t.segments.prepareSegment(4*o.length,le,ee,this.canOverlap?v.sortKey:void 0),Ae=this.glyphOffsetArray.length,Pe=ze.vertexLength,Ve=this.allowVerticalPlacement&&S===Na.vertical?Math.PI/2:0,Ye=v.text&&v.text.sections;for(let _t=0;_t<o.length;_t++){const{tl:zt,tr:rr,bl:Tt,br:Vt,tex:Ht,pixelOffsetTL:Qt,pixelOffsetBR:ir,minFontScaleX:kt,minFontScaleY:gr,glyphOffset:ln,isSDF:Mr,sectionIndex:Vr}=o[_t],yr=ze.vertexLength,dn=ln[1];if(Rp(le,A.x,A.y,zt.x,dn+zt.y,Ht.x,Ht.y,u,Mr,Qt.x,Qt.y,kt,gr),Rp(le,A.x,A.y,rr.x,dn+rr.y,Ht.x+Ht.w,Ht.y,u,Mr,ir.x,Qt.y,kt,gr),Rp(le,A.x,A.y,Tt.x,dn+Tt.y,Ht.x,Ht.y+Ht.h,u,Mr,Qt.x,ir.y,kt,gr),Rp(le,A.x,A.y,Vt.x,dn+Vt.y,Ht.x+Ht.w,Ht.y+Ht.h,u,Mr,ir.x,ir.y,kt,gr),T){const{x:Un,y:zn,z:Pn}=T.anchor,[fn,gi,gn]=T.up;Fp(De,Un,zn,Pn,fn,gi,gn),Fp(De,Un,zn,Pn,fn,gi,gn),Fp(De,Un,zn,Pn,fn,gi,gn),Fp(De,Un,zn,Pn,fn,gi,gn),zp(t.dynamicLayoutVertexArray,Un,zn,Pn,Ve)}else zp(t.dynamicLayoutVertexArray,A.x,A.y,A.z,Ve);ee.emplaceBack(yr,yr+1,yr+2),ee.emplaceBack(yr+1,yr+2,yr+3),ze.vertexLength+=4,ze.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ln[0]),_t!==o.length-1&&Vr===o[_t+1].sectionIndex||t.programConfigurations.populatePaintArrays(le.length,v,v.index,{},H,W,Ye&&Ye[Vr])}const wt=T?T.anchor:A;t.placedSymbolArray.emplaceBack(wt.x,wt.y,wt.z,A.x,A.y,Ae,this.glyphOffsetArray.length-Ae,Pe,O,Y,A.segment,u?u[0]:0,u?u[1]:0,f[0],f[1],S,0,!1,0,j,0)}_commitLayoutVertex(t,o,u,f,y,v,S){t.emplaceBack(o,u,f,y,v,Math.round(S.x),Math.round(S.y))}_addCollisionDebugVertices(t,o,u,f,y,v,S){const T=u.segments.prepareSegment(4,u.layoutVertexArray,u.indexArray),A=T.vertexLength,O=S.tileAnchorX,Y=S.tileAnchorY;for(let H=0;H<4;H++)u.collisionVertexArray.emplaceBack(0,0,0,0);u.collisionVertexArrayExt.emplaceBack(o,-t.padding,-t.padding),u.collisionVertexArrayExt.emplaceBack(o,t.padding,-t.padding),u.collisionVertexArrayExt.emplaceBack(o,t.padding,t.padding),u.collisionVertexArrayExt.emplaceBack(o,-t.padding,t.padding),this._commitLayoutVertex(u.layoutVertexArray,f,y,v,O,Y,new he(t.x1,t.y1)),this._commitLayoutVertex(u.layoutVertexArray,f,y,v,O,Y,new he(t.x2,t.y1)),this._commitLayoutVertex(u.layoutVertexArray,f,y,v,O,Y,new he(t.x2,t.y2)),this._commitLayoutVertex(u.layoutVertexArray,f,y,v,O,Y,new he(t.x1,t.y2)),T.vertexLength+=4;const j=u.indexArray;j.emplaceBack(A,A+1),j.emplaceBack(A+1,A+2),j.emplaceBack(A+2,A+3),j.emplaceBack(A+3,A),T.primitiveLength+=4}_addTextDebugCollisionBoxes(t,o,u,f,y,v){for(let S=f;S<y;S++){const T=u.get(S),A=this.getSymbolInstanceTextSize(t,v,o,S);this._addCollisionDebugVertices(T,A,this.textCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(t,o,u,f,y,v){for(let S=f;S<y;S++){const T=u.get(S),A=this.getSymbolInstanceIconSize(t,o,v.placedIconSymbolIndex);this._addCollisionDebugVertices(T,A,this.iconCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,v)}}generateCollisionDebugBuffers(t,o){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new b_(_i,My.members,da),this.iconCollisionBox=new b_(_i,My.members,da);const u=xd(this.iconSizeData,t),f=xd(this.textSizeData,t);for(let y=0;y<this.symbolInstances.length;y++){const v=this.symbolInstances.get(y);this._addTextDebugCollisionBoxes(f,t,o,v.textBoxStartIndex,v.textBoxEndIndex,v),this._addTextDebugCollisionBoxes(f,t,o,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._addIconDebugCollisionBoxes(u,t,o,v.iconBoxStartIndex,v.iconBoxEndIndex,v),this._addIconDebugCollisionBoxes(u,t,o,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v)}}getSymbolInstanceTextSize(t,o,u,f){const y=this.text.placedSymbolArray.get(o.rightJustifiedTextSymbolIndex>=0?o.rightJustifiedTextSymbolIndex:o.centerJustifiedTextSymbolIndex>=0?o.centerJustifiedTextSymbolIndex:o.leftJustifiedTextSymbolIndex>=0?o.leftJustifiedTextSymbolIndex:o.verticalPlacedTextSymbolIndex>=0?o.verticalPlacedTextSymbolIndex:f),v=xp(this.textSizeData,t,y)/Kn;return this.tilePixelRatio*v}getSymbolInstanceIconSize(t,o,u){const f=this.icon.placedSymbolArray.get(u),y=xp(this.iconSizeData,t,f);return this.tilePixelRatio*y}_commitDebugCollisionVertexUpdate(t,o,u){t.emplaceBack(o,-u,-u),t.emplaceBack(o,u,-u),t.emplaceBack(o,u,u),t.emplaceBack(o,-u,u)}_updateTextDebugCollisionBoxes(t,o,u,f,y,v){for(let S=f;S<y;S++){const T=u.get(S),A=this.getSymbolInstanceTextSize(t,v,o,S);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,A,T.padding)}}_updateIconDebugCollisionBoxes(t,o,u,f,y,v){for(let S=f;S<y;S++){const T=u.get(S),A=this.getSymbolInstanceIconSize(t,o,v);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,A,T.padding)}}updateCollisionDebugBuffers(t,o){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const u=xd(this.iconSizeData,t),f=xd(this.textSizeData,t);for(let y=0;y<this.symbolInstances.length;y++){const v=this.symbolInstances.get(y);this._updateTextDebugCollisionBoxes(f,t,o,v.textBoxStartIndex,v.textBoxEndIndex,v),this._updateTextDebugCollisionBoxes(f,t,o,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._updateIconDebugCollisionBoxes(u,t,o,v.iconBoxStartIndex,v.iconBoxEndIndex,v.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(u,t,o,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(t,o,u,f,y,v,S,T,A){const O={};if(o<u){const{x1:Y,y1:j,x2:H,y2:W,padding:ee,projectedAnchorX:le,projectedAnchorY:De,projectedAnchorZ:ze,tileAnchorX:Ae,tileAnchorY:Pe,featureIndex:Ve}=t.get(o);O.textBox={x1:Y,y1:j,x2:H,y2:W,padding:ee,projectedAnchorX:le,projectedAnchorY:De,projectedAnchorZ:ze,tileAnchorX:Ae,tileAnchorY:Pe},O.textFeatureIndex=Ve}if(f<y){const{x1:Y,y1:j,x2:H,y2:W,padding:ee,projectedAnchorX:le,projectedAnchorY:De,projectedAnchorZ:ze,tileAnchorX:Ae,tileAnchorY:Pe,featureIndex:Ve}=t.get(f);O.verticalTextBox={x1:Y,y1:j,x2:H,y2:W,padding:ee,projectedAnchorX:le,projectedAnchorY:De,projectedAnchorZ:ze,tileAnchorX:Ae,tileAnchorY:Pe},O.verticalTextFeatureIndex=Ve}if(v<S){const{x1:Y,y1:j,x2:H,y2:W,padding:ee,projectedAnchorX:le,projectedAnchorY:De,projectedAnchorZ:ze,tileAnchorX:Ae,tileAnchorY:Pe,featureIndex:Ve}=t.get(v);O.iconBox={x1:Y,y1:j,x2:H,y2:W,padding:ee,projectedAnchorX:le,projectedAnchorY:De,projectedAnchorZ:ze,tileAnchorX:Ae,tileAnchorY:Pe},O.iconFeatureIndex=Ve}if(T<A){const{x1:Y,y1:j,x2:H,y2:W,padding:ee,projectedAnchorX:le,projectedAnchorY:De,projectedAnchorZ:ze,tileAnchorX:Ae,tileAnchorY:Pe,featureIndex:Ve}=t.get(T);O.verticalIconBox={x1:Y,y1:j,x2:H,y2:W,padding:ee,projectedAnchorX:le,projectedAnchorY:De,projectedAnchorZ:ze,tileAnchorX:Ae,tileAnchorY:Pe},O.verticalIconFeatureIndex=Ve}return O}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let o=0;o<this.symbolInstances.length;o++){const u=this.symbolInstances.get(o);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,o){const u=t.placedSymbolArray.get(o),f=u.vertexStartIndex+4*u.numGlyphs;for(let y=u.vertexStartIndex;y<f;y+=4)t.indexArray.emplaceBack(y,y+1,y+2),t.indexArray.emplaceBack(y+1,y+2,y+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const o=Math.sin(t),u=Math.cos(t),f=[],y=[],v=[];for(let S=0;S<this.symbolInstances.length;++S){v.push(S);const T=this.symbolInstances.get(S);f.push(0|Math.round(o*T.tileAnchorX+u*T.tileAnchorY)),y.push(T.featureIndex)}return v.sort(((S,T)=>f[S]-f[T]||y[T]-y[S])),v}addToSortKeyRanges(t,o){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===o?u.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:o,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const o of this.symbolInstanceIndexes){const u=this.symbolInstances.get(o);this.featureSortOrder.push(u.featureIndex);const{rightJustifiedTextSymbolIndex:f,centerJustifiedTextSymbolIndex:y,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:S,placedIconSymbolIndex:T,verticalPlacedIconSymbolIndex:A}=u;f>=0&&this.addIndicesForPlacedSymbol(this.text,f),y>=0&&y!==f&&this.addIndicesForPlacedSymbol(this.text,y),v>=0&&v!==y&&v!==f&&this.addIndicesForPlacedSymbol(this.text,v),S>=0&&this.addIndicesForPlacedSymbol(this.text,S),T>=0&&this.addIndicesForPlacedSymbol(this.icon,T),A>=0&&this.addIndicesForPlacedSymbol(this.icon,A)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Dr(qu,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),qu.MAX_GLYPHS=65535,qu.addDynamicAttributes=zp;const q1=new Qr({"symbol-placement":new it(Pt.layout_symbol["symbol-placement"]),"symbol-spacing":new it(Pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new it(Pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Mt(Pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new it(Pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new it(Pt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new it(Pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new it(Pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new it(Pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Mt(Pt.layout_symbol["icon-size"]),"icon-text-fit":new it(Pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new it(Pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Mt(Pt.layout_symbol["icon-image"]),"icon-rotate":new Mt(Pt.layout_symbol["icon-rotate"]),"icon-padding":new it(Pt.layout_symbol["icon-padding"]),"icon-keep-upright":new it(Pt.layout_symbol["icon-keep-upright"]),"icon-offset":new Mt(Pt.layout_symbol["icon-offset"]),"icon-anchor":new Mt(Pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new it(Pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new it(Pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new it(Pt.layout_symbol["text-rotation-alignment"]),"text-field":new Mt(Pt.layout_symbol["text-field"]),"text-font":new Mt(Pt.layout_symbol["text-font"]),"text-size":new Mt(Pt.layout_symbol["text-size"]),"text-max-width":new Mt(Pt.layout_symbol["text-max-width"]),"text-line-height":new Mt(Pt.layout_symbol["text-line-height"]),"text-letter-spacing":new Mt(Pt.layout_symbol["text-letter-spacing"]),"text-justify":new Mt(Pt.layout_symbol["text-justify"]),"text-radial-offset":new Mt(Pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new it(Pt.layout_symbol["text-variable-anchor"]),"text-anchor":new Mt(Pt.layout_symbol["text-anchor"]),"text-max-angle":new it(Pt.layout_symbol["text-max-angle"]),"text-writing-mode":new it(Pt.layout_symbol["text-writing-mode"]),"text-rotate":new Mt(Pt.layout_symbol["text-rotate"]),"text-padding":new it(Pt.layout_symbol["text-padding"]),"text-keep-upright":new it(Pt.layout_symbol["text-keep-upright"]),"text-transform":new Mt(Pt.layout_symbol["text-transform"]),"text-offset":new Mt(Pt.layout_symbol["text-offset"]),"text-allow-overlap":new it(Pt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new it(Pt.layout_symbol["text-ignore-placement"]),"text-optional":new it(Pt.layout_symbol["text-optional"])});var v_={paint:new Qr({"icon-opacity":new Mt(Pt.paint_symbol["icon-opacity"]),"icon-color":new Mt(Pt.paint_symbol["icon-color"]),"icon-halo-color":new Mt(Pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Mt(Pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Mt(Pt.paint_symbol["icon-halo-blur"]),"icon-translate":new it(Pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new it(Pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Mt(Pt.paint_symbol["text-opacity"]),"text-color":new Mt(Pt.paint_symbol["text-color"],{runtimeType:Io,getOverride:i=>i.textColor,hasOverride:i=>!!i.textColor}),"text-halo-color":new Mt(Pt.paint_symbol["text-halo-color"]),"text-halo-width":new Mt(Pt.paint_symbol["text-halo-width"]),"text-halo-blur":new Mt(Pt.paint_symbol["text-halo-blur"]),"text-translate":new it(Pt.paint_symbol["text-translate"]),"text-translate-anchor":new it(Pt.paint_symbol["text-translate-anchor"])}),layout:q1};class ob{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:lo,this.defaultValue=t}evaluate(t){if(t.formattedSection){const o=this.defaultValue.property.overrides;if(o&&o.hasOverride(t.formattedSection))return o.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Dr(ob,"FormatSectionOverride",{omit:["defaultValue"]});class Yp extends tl{constructor(t){super(t,v_)}recalculate(t,o){super.recalculate(t,o),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const u=this.layout.get("text-writing-mode");if(u){const f=[];for(const y of u)f.indexOf(y)<0&&f.push(y);this.layout._values["text-writing-mode"]=f}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(t,o,u,f){const y=this.layout.get(t).evaluate(o,{},u,f),v=this._unevaluatedLayout._values[t];return v.isDataDriven()||Sl(v.value)||!y?y:(function(S,T){return T.replace(/{([^{}]+)}/g,((A,O)=>O in S?String(S[O]):""))})(o.properties,y)}createBucket(t){return new qu(t)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const t of v_.paint.overridableProperties){if(!Yp.hasPaintOverride(this.layout,t))continue;const o=this.paint.get(t),u=new ob(o),f=new _c(u,o.property.specification);let y=null;y=o.value.kind==="constant"||o.value.kind==="source"?new Ca("source",f):new Ss("composite",f,o.value.zoomStops,o.value._interpolationType),this.paint._values[t]=new $t(o.property,y,o.parameters)}}_handleOverridablePaintPropertyUpdate(t,o,u){return!(!this.layout||o.isDataDriven()||u.isDataDriven())&&Yp.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,o){const u=t.get("text-field"),f=v_.paint.properties[o];let y=!1;const v=S=>{for(const T of S)if(f.overrides&&f.overrides.hasOverride(T))return void(y=!0)};if(u.value.kind==="constant"&&u.value.value instanceof Qi)v(u.value.value.sections);else if(u.value.kind==="source"){const S=A=>{y||(A instanceof ws&&Ai(A.value)===vs?v(A.value.sections):A instanceof xs?v(A.sections):A.eachChild(S))},T=u.value;T._styleExpression&&S(T._styleExpression.expression)}return y}getProgramConfiguration(t){return new el(this,t)}}var G1={paint:new Qr({"background-color":new it(Pt.paint_background["background-color"]),"background-pattern":new it(Pt.paint_background["background-pattern"]),"background-opacity":new it(Pt.paint_background["background-opacity"])})},W1={paint:new Qr({"raster-opacity":new it(Pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new it(Pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new it(Pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new it(Pt.paint_raster["raster-brightness-max"]),"raster-saturation":new it(Pt.paint_raster["raster-saturation"]),"raster-contrast":new it(Pt.paint_raster["raster-contrast"]),"raster-resampling":new it(Pt.paint_raster["raster-resampling"]),"raster-fade-duration":new it(Pt.paint_raster["raster-fade-duration"])})};class Z1 extends tl{constructor(t){super(t,{}),this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}var X1={paint:new Qr({"sky-type":new it(Pt.paint_sky["sky-type"]),"sky-atmosphere-sun":new it(Pt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new it(Pt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new it(Pt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new it(Pt.paint_sky["sky-gradient-radius"]),"sky-gradient":new Pr(Pt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new it(Pt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new it(Pt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new it(Pt.paint_sky["sky-opacity"])})};function w_(i,t,o){const u=[0,0,1],f=ty([]);return ny(f,f,o?-Re(i)+Math.PI:Re(i)),ry(f,f,-Re(t)),Qg(u,u,f),ha(u,u)}const K1={circle:class extends tl{constructor(i){super(i,Em)}createBucket(i){return new _f(i)}queryRadius(i){const t=i;return gd("circle-radius",this,t)+gd("circle-stroke-width",this,t)+Ds(this.paint.get("circle-translate"))}queryIntersectsFeature(i,t,o,u,f,y,v,S){const T=ip(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),y.angle,i.pixelToTileUnitsFactor),A=this.paint.get("circle-radius").evaluate(t,o)+this.paint.get("circle-stroke-width").evaluate(t,o);return oy(i,u,y,v,S,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",T,A)}getProgramIds(){return["circle"]}getProgramConfiguration(i){return new el(this,i)}},heatmap:class extends tl{createBucket(i){return new ay(i)}constructor(i){super(i,Ym),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Bm({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(i){return gd("heatmap-radius",this,i)}queryIntersectsFeature(i,t,o,u,f,y,v,S){const T=this.paint.get("heatmap-radius").evaluate(t,o);return oy(i,u,y,v,S,!0,!0,new he(0,0),T)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(i){return new el(this,i)}},hillshade:class extends tl{constructor(i){super(i,A0)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends tl{constructor(i){super(i,H0)}getProgramIds(){const i=this.paint.get("fill-pattern"),t=i&&i.constantOr(1),o=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&o.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),o}getProgramConfiguration(i){return new el(this,i)}recalculate(i,t){super.recalculate(i,t);const o=this.paint._values["fill-outline-color"];o.value.kind==="constant"&&o.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new pp(i)}queryRadius(){return Ds(this.paint.get("fill-translate"))}queryIntersectsFeature(i,t,o,u,f,y){return!i.queryGeometry.isAboveHorizon&&np(fa(i.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),y.angle,i.pixelToTileUnitsFactor),u)}isTileClipped(){return!0}},"fill-extrusion":class extends tl{constructor(i){super(i,i1)}createBucket(i){return new Df(i)}queryRadius(){return Ds(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(i){return new el(this,i)}queryIntersectsFeature(i,t,o,u,f,y,v,S,T){const A=ip(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),y.angle,i.pixelToTileUnitsFactor),O=this.paint.get("fill-extrusion-height").evaluate(t,o),Y=this.paint.get("fill-extrusion-base").evaluate(t,o),j=[0,0],H=S&&y.elevation,W=y.elevation?y.elevation.exaggeration():1,ee=i.tile.getBucket(this);if(H&&ee instanceof Df){const Pe=ee.centroidVertexArray,Ve=T+1;Ve<Pe.length&&(j[0]=Pe.geta_centroid_pos0(Ve),j[1]=Pe.geta_centroid_pos1(Ve))}if(j[0]===0&&j[1]===1)return!1;y.projection.name==="globe"&&(u=Xm([u],[new he(0,0),new he(un,un)],i.tileID.canonical).map((Pe=>Pe.polygon)).flat());const le=H?S:null,[De,ze]=(function(Pe,Ve,Ye,wt,_t,zt,rr,Tt,Vt,Ht,Qt){return Pe.projection.name==="globe"?(function(ir,kt,gr,ln,Mr,Vr,yr,dn,Un,zn,Pn){const fn=[],gi=[],gn=ir.projection.upVectorScale(Pn,ir.center.lat,ir.worldSize).metersToTile,Nn=[0,0,0,1],wi=[0,0,0,1],Ci=(Di,zi,to,Xo)=>{Di[0]=zi,Di[1]=to,Di[2]=Xo,Di[3]=1},Ei=Zm();gr>0&&(gr+=Ei),ln+=Ei;for(const Di of kt){const zi=[],to=[];for(const Xo of Di){const yi=Xo.x+Mr.x,mo=Xo.y+Mr.y,fo=ir.projection.projectTilePoint(yi,mo,Pn),ni=ir.projection.upVector(Pn,Xo.x,Xo.y);let Hi=gr,Eo=ln;if(yr){const xi=by(yi,mo,gr,ln,yr,dn,Un,zn);Hi+=xi.base,Eo+=xi.top}gr!==0?Ci(Nn,fo.x+ni[0]*gn*Hi,fo.y+ni[1]*gn*Hi,fo.z+ni[2]*gn*Hi):Ci(Nn,fo.x,fo.y,fo.z),Ci(wi,fo.x+ni[0]*gn*Eo,fo.y+ni[1]*gn*Eo,fo.z+ni[2]*gn*Eo),Zi(Nn,Nn,Vr),Zi(wi,wi,Vr),zi.push(new wd(Nn[0],Nn[1],Nn[2])),to.push(new wd(wi[0],wi[1],wi[2]))}fn.push(zi),gi.push(to)}return[fn,gi]})(Pe,Ve,Ye,wt,_t,zt,rr,Tt,Vt,Ht,Qt):rr?(function(ir,kt,gr,ln,Mr,Vr,yr,dn,Un){const zn=[],Pn=[],fn=[0,0,0,1];for(const gi of ir){const gn=[],Nn=[];for(const wi of gi){const Ci=wi.x+ln.x,Ei=wi.y+ln.y,Di=by(Ci,Ei,kt,gr,Vr,yr,dn,Un);fn[0]=Ci,fn[1]=Ei,fn[2]=Di.base,fn[3]=1,Hu(fn,fn,Mr),fn[3]=Math.max(fn[3],1e-5);const zi=new wd(fn[0]/fn[3],fn[1]/fn[3],fn[2]/fn[3]);fn[0]=Ci,fn[1]=Ei,fn[2]=Di.top,fn[3]=1,Hu(fn,fn,Mr),fn[3]=Math.max(fn[3],1e-5);const to=new wd(fn[0]/fn[3],fn[1]/fn[3],fn[2]/fn[3]);gn.push(zi),Nn.push(to)}zn.push(gn),Pn.push(Nn)}return[zn,Pn]})(Ve,Ye,wt,_t,zt,rr,Tt,Vt,Ht):(function(ir,kt,gr,ln,Mr){const Vr=[],yr=[],dn=Mr[8]*kt,Un=Mr[9]*kt,zn=Mr[10]*kt,Pn=Mr[11]*kt,fn=Mr[8]*gr,gi=Mr[9]*gr,gn=Mr[10]*gr,Nn=Mr[11]*gr;for(const wi of ir){const Ci=[],Ei=[];for(const Di of wi){const zi=Di.x+ln.x,to=Di.y+ln.y,Xo=Mr[0]*zi+Mr[4]*to+Mr[12],yi=Mr[1]*zi+Mr[5]*to+Mr[13],mo=Mr[2]*zi+Mr[6]*to+Mr[14],fo=Mr[3]*zi+Mr[7]*to+Mr[15],ni=Xo+dn,Hi=yi+Un,Eo=mo+zn,xi=Math.max(fo+Pn,1e-5),ao=Xo+fn,Ta=yi+gi,Ko=mo+gn,Jo=Math.max(fo+Nn,1e-5);Ci.push(new wd(ni/xi,Hi/xi,Eo/xi)),Ei.push(new wd(ao/Jo,Ta/Jo,Ko/Jo))}Vr.push(Ci),yr.push(Ei)}return[Vr,yr]})(Ve,Ye,wt,_t,zt)})(y,u,Y,O,A,v,le,j,W,y.center.lat,i.tileID.canonical),Ae=i.queryGeometry;return(function(Pe,Ve,Ye){let wt=1/0;np(Ye,Ve)&&(wt=Km(Ye,Ve[0]));for(let _t=0;_t<Ve.length;_t++){const zt=Ve[_t],rr=Pe[_t];for(let Tt=0;Tt<zt.length-1;Tt++){const Vt=zt[Tt],Ht=[Vt,zt[Tt+1],rr[Tt+1],rr[Tt],Vt];Uu(Ye,Ht)&&(wt=Math.min(wt,Km(Ye,Ht)))}}return wt!==1/0&&wt})(De,ze,Ae.isPointQuery()?Ae.screenBounds:Ae.screenGeometry)}},line:class extends tl{constructor(i){super(i,vy),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(i){if(i==="line-gradient"){const t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof sa,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,t){super.recalculate(i,t),this.paint._values["line-floorwidth"]=wy.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new wp(i)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(i){return new el(this,i)}queryRadius(i){const t=i,o=xy(gd("line-width",this,t),gd("line-gap-width",this,t)),u=gd("line-offset",this,t);return o/2+Math.abs(u)+Ds(this.paint.get("line-translate"))}queryIntersectsFeature(i,t,o,u,f,y){if(i.queryGeometry.isAboveHorizon)return!1;const v=fa(i.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),y.angle,i.pixelToTileUnitsFactor),S=i.pixelToTileUnitsFactor/2*xy(this.paint.get("line-width").evaluate(t,o),this.paint.get("line-gap-width").evaluate(t,o)),T=this.paint.get("line-offset").evaluate(t,o);return T&&(u=(function(A,O){const Y=[],j=new he(0,0);for(let H=0;H<A.length;H++){const W=A[H],ee=[];for(let le=0;le<W.length;le++){const De=W[le-1],ze=W[le],Ae=W[le+1],Pe=le===0?j:ze.sub(De)._unit()._perp(),Ve=le===W.length-1?j:Ae.sub(ze)._unit()._perp(),Ye=Pe._add(Ve)._unit();Ye._mult(1/(Ye.x*Ve.x+Ye.y*Ve.y)),ee.push(Ye._mult(O)._add(ze))}Y.push(ee)}return Y})(u,T*i.pixelToTileUnitsFactor)),(function(A,O,Y){for(let j=0;j<O.length;j++){const H=O[j];if(A.length>=3){for(let W=0;W<H.length;W++)if(Nu(A,H[W]))return!0}if(Wg(A,H,Y))return!0}return!1})(v,u,S)}isTileClipped(){return!0}},symbol:Yp,background:class extends tl{constructor(i){super(i,G1)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends tl{constructor(i){super(i,W1)}getProgramIds(){return["raster"]}},sky:class extends tl{constructor(i){super(i,X1),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="sky-gradient"?this._updateColorRamp():i!=="sky-atmosphere-sun"&&i!=="sky-atmosphere-halo-color"&&i!=="sky-atmosphere-color"&&i!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Bm({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(i){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=i.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(i,t){if(this.paint.get("sky-type")==="atmosphere"){const u=this.paint.get("sky-atmosphere-sun"),f=!u,y=i.style.light,v=y.properties.get("position");return f&&y.properties.get("anchor")==="viewport"&&Ce("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),f?w_(v.azimuthal,90-v.polar,t):w_(u[0],90-u[1],t)}const o=this.paint.get("sky-gradient-center");return w_(o[0],90-o[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(i){this._skyboxInvalidated=!1,this._lightPosition=i.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const i=this.paint.get("sky-type");return i==="atmosphere"?["skyboxCapture","skybox"]:i==="gradient"?["skyboxGradient"]:null}}};class m{constructor(t,o,u,f){this.context=t,this.format=u,this.texture=t.gl.createTexture(),this.update(o,f)}update(t,o,u){const{width:f,height:y}=t,{context:v}=this,{gl:S}=v,{HTMLImageElement:T,HTMLCanvasElement:A,HTMLVideoElement:O,ImageData:Y,ImageBitmap:j}=E;if(S.bindTexture(S.TEXTURE_2D,this.texture),v.pixelStoreUnpackFlipY.set(!1),v.pixelStoreUnpack.set(1),v.pixelStoreUnpackPremultiplyAlpha.set(this.format===S.RGBA&&(!o||o.premultiply!==!1)),u||this.size&&this.size[0]===f&&this.size[1]===y){const{x:H,y:W}=u||{x:0,y:0};t instanceof T||t instanceof A||t instanceof O||t instanceof Y||j&&t instanceof j?S.texSubImage2D(S.TEXTURE_2D,0,H,W,S.RGBA,S.UNSIGNED_BYTE,t):S.texSubImage2D(S.TEXTURE_2D,0,H,W,f,y,S.RGBA,S.UNSIGNED_BYTE,t.data)}else this.size=[f,y],t instanceof T||t instanceof A||t instanceof O||t instanceof Y||j&&t instanceof j?S.texImage2D(S.TEXTURE_2D,0,this.format,this.format,S.UNSIGNED_BYTE,t):S.texImage2D(S.TEXTURE_2D,0,this.format,f,y,0,this.format,S.UNSIGNED_BYTE,t.data);this.useMipmap=!!(o&&o.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&S.generateMipmap(S.TEXTURE_2D)}bind(t,o){const{context:u}=this,{gl:f}=u;f.bindTexture(f.TEXTURE_2D,this.texture),t!==this.filter&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,t),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.useMipmap?t===f.NEAREST?f.NEAREST_MIPMAP_NEAREST:f.LINEAR_MIPMAP_NEAREST:t),this.filter=t),o!==this.wrap&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,o),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,o),this.wrap=o)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class w{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){this._channel=void 0,this._callback=()=>{}}}class I{constructor(){this.tasks={},this.taskQueue=[],xt(["process"],this),this.invoker=new w(this.process),this.nextId=0}add(t,o){const u=this.nextId++,f=(function({type:y,isSymbolTile:v,zoom:S}){return S=S||0,y==="message"?0:y!=="maybePrepare"||v?y!=="parseTile"||v?y==="parseTile"&&v?300-S:y==="maybePrepare"&&v?400-S:500:200-S:100-S})(o);if(f===0){Dt();try{t()}finally{}return{cancel:()=>{}}}return this.tasks[u]={fn:t,metadata:o,priority:f,id:u},this.taskQueue.push(u),this.invoker.trigger(),{cancel:()=>{delete this.tasks[u]}}}process(){Dt();try{if(this.taskQueue=this.taskQueue.filter((u=>!!this.tasks[u])),!this.taskQueue.length)return;const t=this.pick();if(t===null)return;const o=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!o)return;o.fn()}finally{}}pick(){let t=null,o=1/0;for(let f=0;f<this.taskQueue.length;f++){const y=this.tasks[this.taskQueue[f]];y.priority<o&&(o=y.priority,t=f)}if(t===null)return null;const u=this.taskQueue[t];return this.taskQueue.splice(t,1),u}remove(){this.invoker.remove()}}class U{constructor(t){this._stringToNumber={},this._numberToString=[];for(let o=0;o<t.length;o++){const u=t[o];this._stringToNumber[u]=o,this._numberToString[o]=u}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}const ne=["tile","layer","source","sourceLayer","state"];class ye{constructor(t,o,u,f,y){this.type="Feature",this._vectorTileFeature=t,this._z=o,this._x=u,this._y=f,this.properties=t.properties,this.id=y}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(t.id=this.id);for(const o of ne)this[o]!==void 0&&(t[o]=this[o]);return t}}const Oe=32,qe=33,lt=new Uint16Array(8184);for(let i=0;i<2046;i++){let t=i+2,o=0,u=0,f=0,y=0,v=0,S=0;for(1&t?f=y=v=Oe:o=u=S=Oe;(t>>=1)>1;){const A=o+f>>1,O=u+y>>1;1&t?(f=o,y=u,o=v,u=S):(o=f,u=y,f=v,y=S),v=A,S=O}const T=4*i;lt[T+0]=o,lt[T+1]=u,lt[T+2]=f,lt[T+3]=y}const Zt=new Uint16Array(2178),Kt=new Uint8Array(1089),cr=new Uint16Array(1089);function Fr(i){return i===0?-.03125:i===32?.03125:0}var sn=kr([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const vn={type:2,extent:un,loadGeometry:()=>[[new he(0,0),new he(8193,0),new he(8193,8193),new he(0,8193),new he(0,0)]]};class Vn{constructor(t,o,u,f,y){this.tileID=t,this.uid=pn(),this.uses=0,this.tileSize=o,this.tileZoom=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=y,this.expiredRequestCount=0,this.state="loading",f&&f.transform&&(this.projection=f.transform.projection)}registerFadeDuration(t){const o=t+this.timeAdded;o<$r.now()||this.fadeEndTime&&o<this.fadeEndTime||(this.fadeEndTime=o)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Fc(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,o,u){if(this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=(function(f,y){const v={};if(!y)return v;for(const S of f){const T=S.layerIds.map((A=>y.getLayer(A))).filter(Boolean);if(T.length!==0){S.layers=T,S.stateDependentLayerIds&&(S.stateDependentLayers=S.stateDependentLayerIds.map((A=>T.filter((O=>O.id===A))[0])));for(const A of T)v[A.id]=S}}return v})(t.buckets,o.style),this.hasSymbolBuckets=!1;for(const f in this.buckets){const y=this.buckets[f];if(y instanceof qu){if(this.hasSymbolBuckets=!0,!u)break;y.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const f in this.buckets){const y=this.buckets[f];if(y instanceof qu&&y.hasRTLText){this.hasRTLText=!0,pt.isLoading()||pt.isLoaded()||We()!=="deferred"||bt();break}}this.queryPadding=0;for(const f in this.buckets){const y=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,o.style.getLayer(f).queryRadius(y))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas)}else this.collisionBoxArray=new za}unloadVectorData(){if(this.hasData()){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(t){return this.buckets[t.id]}upload(t){for(const u in this.buckets){const f=this.buckets[u];f.uploadPending()&&f.upload(t)}const o=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new m(t,this.imageAtlas.image,o.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new m(t,this.glyphAtlasImage,o.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new m(t,this.lineAtlas.image,o.ALPHA),this.lineAtlas.uploaded=!0)}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}queryRenderedFeatures(t,o,u,f,y,v,S,T){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:f,pixelPosMatrix:S,transform:v,params:y,tileTransform:this.tileTransform},t,o,u):{}}querySourceFeatures(t,o){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const f=u.loadVTLayers(),y=o?o.sourceLayer:"",v=f._geojsonTileLayer||f[y];if(!v)return;const S=Wi(o&&o.filter),{z:T,x:A,y:O}=this.tileID.canonical,Y={z:T,x:A,y:O};for(let j=0;j<v.length;j++){const H=v.feature(j);if(S.needGeometry){const le=Cs(H,!0);if(!S.filter(new Xe(this.tileID.overscaledZ),le,this.tileID.canonical))continue}else if(!S.filter(new Xe(this.tileID.overscaledZ),H))continue;const W=u.getId(H,y),ee=new ye(H,T,A,O,W);ee.tile=Y,t.push(ee)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const o=this.expirationTime;if(t.cacheControl){const u=At(t.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const u=Date.now();let f=!1;if(this.expirationTime>u)f=!1;else if(o)if(this.expirationTime<o)f=!0;else{const y=this.expirationTime-o;y?this.expirationTime=u+Math.max(y,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(t,o){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(t).length===0||!o)return;const u=this.latestFeatureIndex.loadVTLayers(),f=o.style.listImages();for(const y in this.buckets){if(!o.style.hasLayer(y))continue;const v=this.buckets[y],S=v.layers[0].sourceLayer||"_geojsonTileLayer",T=u[S],A=t[S];if(!T||!A||Object.keys(A).length===0)continue;if(v.update(A,T,f,this.imageAtlas&&this.imageAtlas.patternPositions||{}),v instanceof wp||v instanceof pp){const Y=o.style._getSourceCache(v.layers[0].source);o._terrain&&o._terrain.enabled&&Y&&v.programConfigurations.needsUpload&&o._terrain._clearRenderCacheForTile(Y.id,this.tileID)}const O=o&&o.style&&o.style.getLayer(y);O&&(this.queryPadding=Math.max(this.queryPadding,O.queryRadius(v)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<$r.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=$r.now()+t}setTexture(t,o){const u=o.context,f=u.gl;this.texture=this.texture||o.getTileTexture(t.width),this.texture?this.texture.update(t,{useMipmap:!0}):(this.texture=new m(u,t,f.RGBA,{useMipmap:!0}),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),u.extTextureFilterAnisotropic&&f.texParameterf(f.TEXTURE_2D,u.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,u.extTextureFilterAnisotropicMax))}setDependencies(t,o){const u={};for(const f of o)u[f]=!0;this.dependencies[t]=u}hasDependency(t,o){for(const u of t){const f=this.dependencies[u];if(f){for(const y of o)if(f[y])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,o){if(!o||o.name==="mercator"||this._tileDebugBuffer)return;const u=As(vn,this.tileID.canonical,this.tileTransform)[0],f=new Xn,y=new hd;for(let v=0;v<u.length;v++){const{x:S,y:T}=u[v];f.emplaceBack(S,T),y.emplaceBack(v)}y.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(y),this._tileDebugBuffer=t.createVertexBuffer(f,$f.members),this._tileDebugSegments=Ui.simpleSegment(0,0,f.length,y.length)}_makeTileBoundsBuffers(t,o){if(this._tileBoundsBuffer||!o||o.name==="mercator")return;const u=As(vn,this.tileID.canonical,this.tileTransform)[0];let f,y;if(this.isRaster){const v=(function(S,T){const A=Fc(S,T),O=Math.pow(2,S.z);for(let le=0;le<qe;le++)for(let De=0;De<qe;De++){const ze=ls((S.x+(De+Fr(De))/Oe)/O),Ae=So((S.y+(le+Fr(le))/Oe)/O),Pe=T.project(ze,Ae),Ve=le*qe+De;Zt[2*Ve+0]=Math.round((Pe.x*A.scale-A.x)*un),Zt[2*Ve+1]=Math.round((Pe.y*A.scale-A.y)*un)}Kt.fill(0),cr.fill(0);for(let le=2045;le>=0;le--){const De=4*le,ze=lt[De+0],Ae=lt[De+1],Pe=lt[De+2],Ve=lt[De+3],Ye=ze+Pe>>1,wt=Ae+Ve>>1,_t=Ye+wt-Ae,zt=wt+ze-Ye,rr=Ae*qe+ze,Tt=Ve*qe+Pe,Vt=wt*qe+Ye,Ht=Math.hypot((Zt[2*rr+0]+Zt[2*Tt+0])/2-Zt[2*Vt+0],(Zt[2*rr+1]+Zt[2*Tt+1])/2-Zt[2*Vt+1])>=16;if(Kt[Vt]=Kt[Vt]||(Ht?1:0),le<1022){const Qt=(Ae+zt>>1)*qe+(ze+_t>>1),ir=(Ve+zt>>1)*qe+(Pe+_t>>1);Kt[Vt]=Kt[Vt]||Kt[Qt]||Kt[ir]}}const Y=new li,j=new ho;let H=0;function W(le,De){const ze=De*qe+le;return cr[ze]===0&&(Y.emplaceBack(Zt[2*ze+0],Zt[2*ze+1],le*un/Oe,De*un/Oe),cr[ze]=++H),cr[ze]-1}function ee(le,De,ze,Ae,Pe,Ve){const Ye=le+ze>>1,wt=De+Ae>>1;if(Math.abs(le-Pe)+Math.abs(De-Ve)>1&&Kt[wt*qe+Ye])ee(Pe,Ve,le,De,Ye,wt),ee(ze,Ae,Pe,Ve,Ye,wt);else{const _t=W(le,De),zt=W(ze,Ae),rr=W(Pe,Ve);j.emplaceBack(_t,zt,rr)}}return ee(0,0,Oe,Oe,Oe,0),ee(Oe,Oe,0,0,0,Oe),{vertices:Y,indices:j}})(this.tileID.canonical,o);f=v.vertices,y=v.indices}else{f=new li,y=new ho;for(const{x:S,y:T}of u)f.emplaceBack(S,T,0,0);const v=xf.exports(f.int16,void 0,4);for(let S=0;S<v.length;S+=3)y.emplaceBack(v[S],v[S+1],v[S+2])}this._tileBoundsBuffer=t.createVertexBuffer(f,sn.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(y),this._tileBoundsSegments=Ui.simpleSegment(0,0,f.length,y.length)}_makeGlobeTileDebugBuffers(t,o){const u=o.projection;if(!u||u.name!=="globe"||o.freezeTileCoverage)return;const f=this.tileID.canonical,y=Nf(Xy(f,o)),v=Rc(o.zoom);let S;v>0&&(S=Am(new Float64Array(16),o.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(t,f,o,y,S,v),this._makeGlobeTileDebugTextBuffer(t,f,o,y,S,v)}_globePoint(t,o,u,f,y,v,S){let T=Uf(t,o,u);if(v){const A=1<<u.z,O=ss(f.center.lng),Y=nl(f.center.lat),j=(u.x+.5)/A-O;let H=0;j>.5?H=-1:j<-.5&&(H=1);let W=(t/un+u.x)/A+H,ee=(o/un+u.y)/A;W=(W-O)*f._pixelsPerMercatorPixel+O,ee=(ee-Y)*f._pixelsPerMercatorPixel+Y;const le=[W*f.worldSize,ee*f.worldSize,0];Zi(le,le,v),T=Oc(T,le,S)}return Zi(T,T,y)}_makeGlobeTileDebugBorderBuffer(t,o,u,f,y,v){const S=new Xn,T=new hd,A=new ai,O=(j,H,W,ee,le)=>{const De=(W-j)/(le-1),ze=(ee-H)/(le-1),Ae=S.length;for(let Pe=0;Pe<le;Pe++){const Ve=j+Pe*De,Ye=H+Pe*ze;S.emplaceBack(Ve,Ye);const wt=this._globePoint(Ve,Ye,o,u,f,y,v);A.emplaceBack(wt[0],wt[1],wt[2]),T.emplaceBack(Ae+Pe)}},Y=un;O(0,0,Y,0,16),O(Y,0,Y,Y,16),O(Y,Y,0,Y,16),O(0,Y,0,0,16),this._tileDebugIndexBuffer=t.createIndexBuffer(T),this._tileDebugBuffer=t.createVertexBuffer(S,$f.members),this._globeTileDebugBorderBuffer=t.createVertexBuffer(A,Wy.members),this._tileDebugSegments=Ui.simpleSegment(0,0,S.length,T.length)}_makeGlobeTileDebugTextBuffer(t,o,u,f,y,v){const S=new Xn,T=new ho,A=new ai,O=25;T.reserve(32),S.reserve(O),A.reserve(O);const Y=(j,H)=>O*j+H;for(let j=0;j<O;j++){const H=2048*j;for(let W=0;W<O;W++){const ee=2048*W;S.emplaceBack(ee,H);const le=this._globePoint(ee,H,o,u,f,y,v);A.emplaceBack(le[0],le[1],le[2])}}for(let j=0;j<4;j++)for(let H=0;H<4;H++){const W=Y(j,H),ee=Y(j,H+1),le=Y(j+1,H),De=Y(j+1,H+1);T.emplaceBack(W,ee,le),T.emplaceBack(le,ee,De)}this._tileDebugTextIndexBuffer=t.createIndexBuffer(T),this._tileDebugTextBuffer=t.createVertexBuffer(S,$f.members),this._globeTileDebugTextBuffer=t.createVertexBuffer(A,Wy.members),this._tileDebugTextSegments=Ui.simpleSegment(0,0,O,32)}}class xn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,o,u){const f=String(o);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][f]=this.stateChanges[t][f]||{},pr(this.stateChanges[t][f],u),this.deletedStates[t]===null){this.deletedStates[t]={};for(const y in this.state[t])y!==f&&(this.deletedStates[t][y]=null)}else if(this.deletedStates[t]&&this.deletedStates[t][f]===null){this.deletedStates[t][f]={};for(const y in this.state[t][f])u[y]||(this.deletedStates[t][f][y]=null)}else for(const y in u)this.deletedStates[t]&&this.deletedStates[t][f]&&this.deletedStates[t][f][y]===null&&delete this.deletedStates[t][f][y]}removeFeatureState(t,o,u){if(this.deletedStates[t]===null)return;const f=String(o);if(this.deletedStates[t]=this.deletedStates[t]||{},u&&o!==void 0)this.deletedStates[t][f]!==null&&(this.deletedStates[t][f]=this.deletedStates[t][f]||{},this.deletedStates[t][f][u]=null);else if(o!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][f])for(u in this.deletedStates[t][f]={},this.stateChanges[t][f])this.deletedStates[t][f][u]=null;else this.deletedStates[t][f]=null;else this.deletedStates[t]=null}getState(t,o){const u=String(o),f=pr({},(this.state[t]||{})[u],(this.stateChanges[t]||{})[u]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){const y=this.deletedStates[t][o];if(y===null)return{};for(const v in y)delete f[v]}return f}initializeTileState(t,o){t.setFeatureState(this.state,o)}coalesceChanges(t,o){const u={};for(const f in this.stateChanges){this.state[f]=this.state[f]||{};const y={};for(const v in this.stateChanges[f])this.state[f][v]||(this.state[f][v]={}),pr(this.state[f][v],this.stateChanges[f][v]),y[v]=this.state[f][v];u[f]=y}for(const f in this.deletedStates){this.state[f]=this.state[f]||{};const y={};if(this.deletedStates[f]===null)for(const v in this.state[f])y[v]={},this.state[f][v]={};else for(const v in this.deletedStates[f]){if(this.deletedStates[f][v]===null)this.state[f][v]={};else for(const S of Object.keys(this.deletedStates[f][v]))delete this.state[f][v][S];y[v]=this.state[f][v]}u[f]=u[f]||{},pr(u[f],y)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(const f in t)t[f].setFeatureState(u,o)}}class Jn{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(t,o){const u=this.toIdx(t,o);return{min:this.minimums[u],max:this.maximums[u]}}isLeaf(t,o){return this.leaves[this.toIdx(t,o)]}toIdx(t,o){return o*this.size+t}}function ri(i,t,o,u){let f=0,y=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(u[v])<1e-15){if(o[v]<i[v]||o[v]>t[v])return null}else{const S=1/u[v];let T=(i[v]-o[v])*S,A=(t[v]-o[v])*S;if(T>A){const O=T;T=A,A=O}if(T>f&&(f=T),A<y&&(y=A),f>y)return null}return f}function qa(i,t,o,u,f,y,v,S,T,A,O){const Y=u-i,j=f-t,H=y-o,W=v-i,ee=S-t,le=T-o,De=O[1]*le-O[2]*ee,ze=O[2]*W-O[0]*le,Ae=O[0]*ee-O[1]*W,Pe=Y*De+j*ze+H*Ae;if(Math.abs(Pe)<1e-15)return null;const Ve=1/Pe,Ye=A[0]-i,wt=A[1]-t,_t=A[2]-o,zt=(Ye*De+wt*ze+_t*Ae)*Ve;if(zt<0||zt>1)return null;const rr=wt*H-_t*j,Tt=_t*Y-Ye*H,Vt=Ye*j-wt*Y,Ht=(O[0]*rr+O[1]*Tt+O[2]*Vt)*Ve;return Ht<0||zt+Ht>1?null:(W*rr+ee*Tt+le*Vt)*Ve}function _a(i,t,o){return(i-t)/(o-t)}function Ga(i,t,o,u,f,y,v,S,T){const A=1<<o,O=y-u,Y=v-f,j=(i+1)/A*O+u,H=(t+0)/A*Y+f,W=(t+1)/A*Y+f;S[0]=(i+0)/A*O+u,S[1]=H,T[0]=j,T[1]=W}class oo{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const o=(function(y){const v=Math.ceil(Math.log2(y.dim/8)),S=[];let T=Math.ceil(Math.pow(2,v));const A=1/T,O=(H,W,ee,le,De)=>{const ze=le?1:0,Ae=(H+1)*ee-ze,Pe=W*ee,Ve=(W+1)*ee-ze;De[0]=H*ee,De[1]=Pe,De[2]=Ae,De[3]=Ve};let Y=new Jn(T);const j=[];for(let H=0;H<T*T;H++){O(H%T,Math.floor(H/T),A,!1,j);const W=ga(j[0],j[1],y),ee=ga(j[2],j[1],y),le=ga(j[2],j[3],y),De=ga(j[0],j[3],y);Y.minimums.push(Math.min(W,ee,le,De)),Y.maximums.push(Math.max(W,ee,le,De)),Y.leaves.push(1)}for(S.push(Y),T/=2;T>=1;T/=2){const H=S[S.length-1];Y=new Jn(T);for(let W=0;W<T*T;W++){O(W%T,Math.floor(W/T),2,!0,j);const ee=H.getElevation(j[0],j[1]),le=H.getElevation(j[2],j[1]),De=H.getElevation(j[2],j[3]),ze=H.getElevation(j[0],j[3]),Ae=H.isLeaf(j[0],j[1]),Pe=H.isLeaf(j[2],j[1]),Ve=H.isLeaf(j[2],j[3]),Ye=H.isLeaf(j[0],j[3]),wt=Math.min(ee.min,le.min,De.min,ze.min),_t=Math.max(ee.max,le.max,De.max,ze.max),zt=Ae&&Pe&&Ve&&Ye;Y.maximums.push(_t),Y.minimums.push(wt),Y.leaves.push(_t-wt<=5&&zt?1:0)}S.push(Y)}return S})(this.dem),u=o.length-1,f=o[u];this._addNode(f.minimums[0],f.maximums[0],f.leaves[0]),this._construct(o,0,0,u,0)}raycastRoot(t,o,u,f,y,v,S=1){return ri([t,o,-100],[u,f,this.maximums[0]*S],y,v)}raycast(t,o,u,f,y,v,S=1){if(!this.nodeCount)return null;const T=this.raycastRoot(t,o,u,f,y,v,S);if(T==null)return null;const A=[],O=[],Y=[],j=[],H=[{idx:0,t:T,nodex:0,nodey:0,depth:0}];for(;H.length>0;){const{idx:W,t:ee,nodex:le,nodey:De,depth:ze}=H.pop();if(this.leaves[W]){Ga(le,De,ze,t,o,u,f,Y,j);const Pe=1<<ze,Ve=(le+0)/Pe,Ye=(le+1)/Pe,wt=(De+0)/Pe,_t=(De+1)/Pe,zt=ga(Ve,wt,this.dem)*S,rr=ga(Ye,wt,this.dem)*S,Tt=ga(Ye,_t,this.dem)*S,Vt=ga(Ve,_t,this.dem)*S,Ht=qa(Y[0],Y[1],zt,j[0],Y[1],rr,j[0],j[1],Tt,y,v),Qt=qa(j[0],j[1],Tt,Y[0],j[1],Vt,Y[0],Y[1],zt,y,v),ir=Math.min(Ht!==null?Ht:Number.MAX_VALUE,Qt!==null?Qt:Number.MAX_VALUE);if(ir!==Number.MAX_VALUE)return ir;{const kt=vf([],y,v,ee);if(zs(zt,rr,Vt,Tt,_a(kt[0],Y[0],j[0]),_a(kt[1],Y[1],j[1]))>=kt[2])return ee}continue}let Ae=0;for(let Pe=0;Pe<this._siblingOffset.length;Pe++){Ga((le<<1)+this._siblingOffset[Pe][0],(De<<1)+this._siblingOffset[Pe][1],ze+1,t,o,u,f,Y,j),Y[2]=-100,j[2]=this.maximums[this.childOffsets[W]+Pe]*S;const Ve=ri(Y,j,y,v);if(Ve!=null){const Ye=Ve;A[Pe]=Ye;let wt=!1;for(let _t=0;_t<Ae&&!wt;_t++)Ye>=A[O[_t]]&&(O.splice(_t,0,Pe),wt=!0);wt||(O[Ae]=Pe),Ae++}}for(let Pe=0;Pe<Ae;Pe++){const Ve=O[Pe];H.push({idx:this.childOffsets[W]+Ve,t:A[Ve],nodex:(le<<1)+this._siblingOffset[Ve][0],nodey:(De<<1)+this._siblingOffset[Ve][1],depth:ze+1})}}return null}_addNode(t,o,u){return this.minimums.push(t),this.maximums.push(o),this.leaves.push(u),this.childOffsets.push(0),this.nodeCount++}_construct(t,o,u,f,y){if(t[f].isLeaf(o,u)===1)return;this.childOffsets[y]||(this.childOffsets[y]=this.nodeCount);const v=f-1,S=t[v];let T=0,A=0;for(let O=0;O<this._siblingOffset.length;O++){const Y=2*o+this._siblingOffset[O][0],j=2*u+this._siblingOffset[O][1],H=S.getElevation(Y,j),W=S.isLeaf(Y,j),ee=this._addNode(H.min,H.max,W);W&&(T|=1<<O),A||(A=ee)}for(let O=0;O<this._siblingOffset.length;O++)T&1<<O||this._construct(t,2*o+this._siblingOffset[O][0],2*u+this._siblingOffset[O][1],v,A+O)}}function zs(i,t,o,u,f,y){return In(In(i,o,y),In(t,u,y),f)}function ga(i,t,o){const u=o.dim,f=ot(i*u-.5,0,u-1),y=ot(t*u-.5,0,u-1),v=Math.floor(f),S=Math.floor(y),T=Math.min(v+1,u-1),A=Math.min(S+1,u-1);return zs(o.get(v,S),o.get(T,S),o.get(v,A),o.get(T,A),f-v,y-S)}const x_={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class ab{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,o,u,f=!1,y=!1){if(this.uid=t,o.height!==o.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return Ce(`"${u}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=o.height;const v=this.dim=o.height-2,S=new Uint32Array(o.data.buffer);if(this.pixels=new Uint8Array(o.data.buffer),this.encoding=u||"mapbox",this.borderReady=f,!f){for(let T=0;T<v;T++)S[this._idx(-1,T)]=S[this._idx(0,T)],S[this._idx(v,T)]=S[this._idx(v-1,T)],S[this._idx(T,-1)]=S[this._idx(T,0)],S[this._idx(T,v)]=S[this._idx(T,v-1)];S[this._idx(-1,-1)]=S[this._idx(0,0)],S[this._idx(v,-1)]=S[this._idx(v-1,0)],S[this._idx(-1,v)]=S[this._idx(0,v-1)],S[this._idx(v,v)]=S[this._idx(v-1,v-1)],y&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new oo(this)}get(t,o,u=!1){u&&(t=ot(t,-1,this.dim),o=ot(o,-1,this.dim));const f=4*this._idx(t,o);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[f],this.pixels[f+1],this.pixels[f+2])}static getUnpackVector(t){return x_[t]}get unpackVector(){return x_[this.encoding]}_idx(t,o){if(t<-1||t>=this.dim+1||o<-1||o>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(o+1)*this.stride+(t+1)}_unpackMapbox(t,o,u){return(256*t*256+256*o+u)/10-1e4}_unpackTerrarium(t,o,u){return 256*t+o+u/256-32768}static pack(t,o){const u=[0,0,0,0],f=ab.getUnpackVector(o);let y=Math.floor((t+f[3])/f[2]);return u[2]=y%256,y=Math.floor(y/256),u[1]=y%256,y=Math.floor(y/256),u[0]=y,u}getPixels(){return new Va({width:this.stride,height:this.stride},this.pixels)}backfillBorder(t,o,u){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let f=o*this.dim,y=o*this.dim+this.dim,v=u*this.dim,S=u*this.dim+this.dim;switch(o){case-1:f=y-1;break;case 1:y=f+1}switch(u){case-1:v=S-1;break;case 1:S=v+1}const T=-o*this.dim,A=-u*this.dim;for(let O=v;O<S;O++)for(let Y=f;Y<y;Y++){const j=4*this._idx(Y,O),H=4*this._idx(Y+T,O+A);this.pixels[j+0]=t.pixels[H+0],this.pixels[j+1]=t.pixels[H+1],this.pixels[j+2]=t.pixels[H+2],this.pixels[j+3]=t.pixels[H+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Dr(ab,"DEMData"),Dr(oo,"DemMinMaxQuadTree",{omit:["dem"]});class _3{constructor(t,o){this.max=t,this.onRemove=o,this.reset()}reset(){for(const t in this.data)for(const o of this.data[t])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(t,o,u){const f=t.wrapped().key;this.data[f]===void 0&&(this.data[f]=[]);const y={value:o,timeout:void 0};if(u!==void 0&&(y.timeout=setTimeout((()=>{this.remove(t,y)}),u)),this.data[f].push(y),this.order.push(f),this.order.length>this.max){const v=this._getAndRemoveByKey(this.order[0]);v&&this.onRemove(v)}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const o=this.data[t].shift();return o.timeout&&clearTimeout(o.timeout),this.data[t].length===0&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),o.value}getByKey(t){const o=this.data[t];return o?o[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,o){if(!this.has(t))return this;const u=t.wrapped().key,f=o===void 0?0:this.data[u].indexOf(o),y=this.data[u][f];return this.data[u].splice(f,1),y.timeout&&clearTimeout(y.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(y.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(t){const o=[];for(const u in this.data)for(const f of this.data[u])t(f.value)||o.push(f);for(const u of o)this.remove(u.value.tileID,u)}}class Bp{constructor(t,o,u){this.func=t,this.mask=o,this.range=u}}Bp.ReadOnly=!1,Bp.ReadWrite=!0,Bp.disabled=new Bp(519,Bp.ReadOnly,[0,1]);const J1=7680;class Q1{constructor(t,o,u,f,y,v){this.test=t,this.ref=o,this.mask=u,this.fail=f,this.depthFail=y,this.pass=v}}Q1.disabled=new Q1({func:519,mask:0},0,0,J1,J1,J1);class Gu{constructor(t,o,u){this.blendFunction=t,this.blendColor=o,this.mask=u}}Gu.Replace=[1,0],Gu.disabled=new Gu(Gu.Replace,Ri.transparent,[!1,!1,!1,!1]),Gu.unblended=new Gu(Gu.Replace,Ri.transparent,[!0,!0,!0,!0]),Gu.alphaBlended=new Gu([1,771],Ri.transparent,[!0,!0,!0,!0]);const eM=1029,tM=2305;class fu{constructor(t,o,u){this.enable=t,this.mode=o,this.frontFace=u}}fu.disabled=new fu(!1,eM,tM),fu.backCCW=new fu(!0,eM,tM),fu.backCW=new fu(!0,eM,2304),fu.frontCW=new fu(!0,1028,2304),fu.frontCCW=new fu(!0,1028,tM);class Zf extends bo{constructor(t,o,u){super(),this.id=t,this._onlySymbols=u,o.on("data",(f=>{f.dataType==="source"&&f.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&f.dataType==="source"&&f.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))})),o.on("error",(()=>{this._sourceErrored=!0})),this._source=o,this._tiles={},this._cache=new _3(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=o.minTileCacheSize,this._maxTileCacheSize=o.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new xn,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(t){this.map=t,this._minTileCacheSize=this._minTileCacheSize===void 0&&t?t._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&t?t._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const t in this._tiles){const o=this._tiles[t];if(o.state!=="loaded"&&o.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(t,o){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,o)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,(()=>{}))}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,(()=>{}))}serialize(){return this._source.serialize()}prepare(t){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const o in this._tiles){const u=this._tiles[o];u.upload(t),u.prepare(this.map.style.imageManager)}}getIds(){return Sr(this._tiles).map((t=>t.tileID)).sort(iT).map((t=>t.key))}getRenderableIds(t){const o=[];for(const u in this._tiles)this._isIdRenderable(+u,t)&&o.push(this._tiles[u]);return t?o.sort(((u,f)=>{const y=u.tileID,v=f.tileID,S=new he(y.canonical.x,y.canonical.y)._rotate(this.transform.angle),T=new he(v.canonical.x,v.canonical.y)._rotate(this.transform.angle);return y.overscaledZ-v.overscaledZ||T.y-S.y||T.x-S.x})).map((u=>u.tileID.key)):o.map((u=>u.tileID)).sort(iT).map((u=>u.key))}hasRenderableParent(t){const o=this.findLoadedParent(t,0);return!!o&&this._isIdRenderable(o.tileID.key)}_isIdRenderable(t,o){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(o||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const t in this._tiles)this._tiles[t].state!=="errored"&&this._reloadTile(+t,"reloading")}}_reloadTile(t,o){const u=this._tiles[t];u&&(u.state!=="loading"&&(u.state=o),this._loadTile(u,this._tileLoaded.bind(this,u,t,o)))}_tileLoaded(t,o,u,f){if(f)if(t.state="errored",f.status!==404)this._source.fire(new no(f,{tile:t}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const y=this.map.painter.terrain;this.update(this.transform,y.getScaledDemTileSize(),!0),y.resetTileLookupCache(this.id)}else this.update(this.transform);else t.timeAdded=$r.now(),u==="expired"&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(o,t),this._source.type==="raster-dem"&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new Vo("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}_backfillDEM(t){const o=this.getRenderableIds();for(let f=0;f<o.length;f++){const y=o[f];if(t.neighboringTiles&&t.neighboringTiles[y]){const v=this.getTileByID(y);u(t,v),u(v,t)}}function u(f,y){if(!f.dem||f.dem.borderReady)return;f.needsHillshadePrepare=!0,f.needsDEMTextureUpload=!0;let v=y.tileID.canonical.x-f.tileID.canonical.x;const S=y.tileID.canonical.y-f.tileID.canonical.y,T=Math.pow(2,f.tileID.canonical.z),A=y.tileID.key;v===0&&S===0||Math.abs(S)>1||(Math.abs(v)>1&&(Math.abs(v+T)===1?v+=T:Math.abs(v-T)===1&&(v-=T)),y.dem&&f.dem&&(f.dem.backfillBorder(y.dem,v,S),f.neighboringTiles&&f.neighboringTiles[A]&&(f.neighboringTiles[A].backfilled=!0)))}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,o,u,f){for(const y in this._tiles){let v=this._tiles[y];if(f[y]||!v.hasData()||v.tileID.overscaledZ<=o||v.tileID.overscaledZ>u)continue;let S=v.tileID;for(;v&&v.tileID.overscaledZ>o+1;){const A=v.tileID.scaledTo(v.tileID.overscaledZ-1);v=this._tiles[A.key],v&&v.hasData()&&(S=A)}let T=S;for(;T.overscaledZ>o;)if(T=T.scaledTo(T.overscaledZ-1),t[T.key]){f[S.key]=S;break}}}findLoadedParent(t,o){if(t.key in this._loadedParentTiles){const u=this._loadedParentTiles[t.key];return u&&u.tileID.overscaledZ>=o?u:null}for(let u=t.overscaledZ-1;u>=o;u--){const f=t.scaledTo(u),y=this._getLoadedTile(f);if(y)return y}}_getLoadedTile(t){const o=this._tiles[t.key];return o&&o.hasData()?o:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,o){o=o||this._source.tileSize;const u=Math.ceil(t.width/o)+1,f=Math.ceil(t.height/o)+1,y=Math.floor(u*f*5),v=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,y):y,S=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(S)}handleWrapJump(t){const o=Math.round((t-(this._prevLng===void 0?t:this._prevLng))/360);if(this._prevLng=t,o){const u={};for(const f in this._tiles){const y=this._tiles[f];y.tileID=y.tileID.unwrapTo(y.tileID.wrap+o),u[y.tileID.key]=y}this._tiles=u;for(const f in this._timers)clearTimeout(this._timers[f]),delete this._timers[f];for(const f in this._tiles)this._setTileReloadTimer(+f,this._tiles[f])}}update(t,o,u){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!u)return;let f;this.updateCacheSize(t,o),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?f=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((S=>new Lo(S.canonical.z,S.wrap,S.canonical.z,S.canonical.x,S.canonical.y))):(f=t.coveringTiles({tileSize:o||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!u,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(f=f.filter((S=>this._source.hasTile(S))))):f=[];const y=this._updateRetainedTiles(f);if(oT(this._source.type)&&f.length!==0){const S={},T={},A=Object.keys(y);for(const Y of A){const j=y[Y],H=this._tiles[Y];if(!H||H.fadeEndTime&&H.fadeEndTime<=$r.now())continue;const W=this.findLoadedParent(j,Math.max(j.overscaledZ-Zf.maxOverzooming,this._source.minzoom));W&&(this._addTile(W.tileID),S[W.tileID.key]=W.tileID),T[Y]=j}const O=f[f.length-1].overscaledZ;for(const Y in this._tiles){const j=this._tiles[Y];if(y[Y]||!j.hasData())continue;let H=j.tileID;for(;H.overscaledZ>O;){H=H.scaledTo(H.overscaledZ-1);const W=this._tiles[H.key];if(W&&W.hasData()&&T[H.key]){y[Y]=j.tileID;break}}}for(const Y in S)y[Y]||(this._coveredTiles[Y]=!0,y[Y]=S[Y])}for(const S in y)this._tiles[S].clearFadeHold();const v=(function(S,T){const A=[];for(const O in S)O in T||A.push(O);return A})(this._tiles,y);for(const S of v){const T=this._tiles[S];T.hasSymbolBuckets&&!T.holdingForFade()?T.setHoldDuration(this.map._fadeDuration):T.hasSymbolBuckets&&!T.symbolFadeFinished()||this._removeTile(+S)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}_updateRetainedTiles(t){const o={};if(t.length===0)return o;const u={},f=t.reduce(((A,O)=>Math.min(A,O.overscaledZ)),1/0),y=t[0].overscaledZ,v=Math.max(y-Zf.maxOverzooming,this._source.minzoom),S=Math.max(y+Zf.maxUnderzooming,this._source.minzoom),T={};for(const A of t){const O=this._addTile(A);o[A.key]=A,O.hasData()||f<this._source.maxzoom&&(T[A.key]=A)}this._retainLoadedChildren(T,f,S,o);for(const A of t){let O=this._tiles[A.key];if(O.hasData())continue;if(A.canonical.z>=this._source.maxzoom){const j=A.children(this._source.maxzoom)[0],H=this.getTile(j);if(H&&H.hasData()){o[j.key]=j;continue}}else{const j=A.children(this._source.maxzoom);if(o[j[0].key]&&o[j[1].key]&&o[j[2].key]&&o[j[3].key])continue}let Y=O.wasRequested();for(let j=A.overscaledZ-1;j>=v;--j){const H=A.scaledTo(j);if(u[H.key]||(u[H.key]=!0,O=this.getTile(H),!O&&Y&&(O=this._addTile(H)),O&&(o[H.key]=H,Y=O.wasRequested(),O.hasData())))break}}return o}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const o=[];let u,f=this._tiles[t].tileID;for(;f.overscaledZ>0;){if(f.key in this._loadedParentTiles){u=this._loadedParentTiles[f.key];break}o.push(f.key);const y=f.scaledTo(f.overscaledZ-1);if(u=this._getLoadedTile(y),u)break;f=y}for(const y of o)this._loadedParentTiles[y]=u}}_addTile(t){let o=this._tiles[t.key];if(o)return o;o=this._cache.getAndRemove(t),o&&(this._setTileReloadTimer(t.key,o),o.tileID=t,this._state.initializeTileState(o,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,o)));const u=!!o;if(!u){const f=this.map?this.map.painter:null;o=new Vn(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,f,this._isRaster),this._loadTile(o,this._tileLoaded.bind(this,o,t.key,o.state))}return o?(o.uses++,this._tiles[t.key]=o,u||this._source.fire(new Vo("dataloading",{tile:o,coord:o.tileID,dataType:"source"})),o):null}_setTileReloadTimer(t,o){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const u=o.getExpiryTimeout();u&&(this._timers[t]=setTimeout((()=>{this._reloadTile(t,"expired"),delete this._timers[t]}),u))}_removeTile(t){const o=this._tiles[t];o&&(o.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),o.uses>0||(o.hasData()&&o.state!=="reloading"?this._cache.add(o.tileID,o,o.getExpiryTimeout()):(o.aborted=!0,this._abortTile(o),this._unloadTile(o))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(t,o,u){const f=[],y=this.transform;if(!y)return f;const v=y.projection.name==="globe",S=ss(y.center.lng);for(const T in this._tiles){const A=this._tiles[T];if(u&&A.clearQueryDebugViz(),A.holdingForFade())continue;let O;if(v){const Y=A.tileID.canonical;if(Y.z===0){const j=[Math.abs(ot(S,...M_(Y,-1))-S),Math.abs(ot(S,...M_(Y,1))-S)];O=[0,2*j.indexOf(Math.min(...j))-1]}else{const j=[Math.abs(ot(S,...M_(Y,-1))-S),Math.abs(ot(S,...M_(Y,0))-S),Math.abs(ot(S,...M_(Y,1))-S)];O=[j.indexOf(Math.min(...j))-1]}}else O=[0];for(const Y of O){const j=t.containsTile(A,y,o,Y);j&&f.push(j)}}return f}getVisibleCoordinates(t){const o=this.getRenderableIds(t).map((u=>this._tiles[u].tileID));for(const u of o)u.projMatrix=this.transform.calculateProjMatrix(u.toUnwrapped());return o}hasTransition(){if(this._source.hasTransition())return!0;if(oT(this._source.type))for(const t in this._tiles){const o=this._tiles[t];if(o.fadeEndTime!==void 0&&o.fadeEndTime>=$r.now())return!0}return!1}setFeatureState(t,o,u){this._state.updateState(t=t||"_geojsonTileLayer",o,u)}removeFeatureState(t,o,u){this._state.removeFeatureState(t=t||"_geojsonTileLayer",o,u)}getFeatureState(t,o){return this._state.getState(t=t||"_geojsonTileLayer",o)}setDependencies(t,o,u){const f=this._tiles[t];f&&f.setDependencies(o,u)}reloadTilesForDependencies(t,o){for(const u in this._tiles)this._tiles[u].hasDependency(t,o)&&this._reloadTile(+u,"reloading");this._cache.filter((u=>!u.hasDependency(t,o)))}_preloadTiles(t,o){const u=new Map,f=Array.isArray(t)?t:[t],y=this.map.painter.terrain,v=this.usedForTerrain&&y?y.getScaledDemTileSize():this._source.tileSize;for(const S of f){const T=S.coveringTiles({tileSize:v,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const A of T)u.set(A.key,A);this.usedForTerrain&&S.updateElevation(!1)}nr(Array.from(u.values()),((S,T)=>{const A=new Vn(S,this._source.tileSize*S.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(A,(O=>{this._source.type==="raster-dem"&&A.dem&&this._backfillDEM(A),T(O,A)}))}),o)}}function iT(i,t){const o=Math.abs(2*i.wrap)-+(i.wrap<0),u=Math.abs(2*t.wrap)-+(t.wrap<0);return i.overscaledZ-t.overscaledZ||u-o||t.canonical.y-i.canonical.y||t.canonical.x-i.canonical.x}function oT(i){return i==="raster"||i==="image"||i==="video"||i==="custom"}function M_(i,t){const o=1<<i.z;return[i.x/o+t,(i.x+1)/o+t]}Zf.maxOverzooming=10,Zf.maxUnderzooming=3;class sb{constructor(t,o,u){this._demTile=t,this._dem=this._demTile.dem,this._scale=o,this._offset=u}static create(t,o,u){const f=u||t.findDEMTileFor(o);if(!f||!f.dem)return;const y=f.dem,v=f.tileID,S=1<<o.canonical.z-v.canonical.z;return new sb(f,f.tileSize/un/S,[(o.canonical.x/S-v.canonical.x)*y.dim,(o.canonical.y/S-v.canonical.y)*y.dim])}tileCoordToPixel(t,o){const u=o*this._scale+this._offset[1],f=Math.floor(t*this._scale+this._offset[0]),y=Math.floor(u);return new he(f,y)}getElevationAt(t,o,u,f){const y=t*this._scale+this._offset[0],v=o*this._scale+this._offset[1],S=Math.floor(y),T=Math.floor(v),A=this._dem;return f=!!f,u?In(In(A.get(S,T,f),A.get(S,T+1,f),v-T),In(A.get(S+1,T,f),A.get(S+1,T+1,f),v-T),y-S):A.get(S,T,f)}getElevationAtPixel(t,o,u){return this._dem.get(t,o,!!u)}getMeterToDEM(t){return(1<<this._demTile.tileID.canonical.z)*Ba(1,t)*this._dem.stride}}class aT{constructor(t,o){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new zu(un,16,0),this.featureIndexArray=new qh,this.promoteId=o}insert(t,o,u,f,y,v=0){const S=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,f,y,v);const T=this.grid;for(let A=0;A<o.length;A++){const O=o[A],Y=[1/0,1/0,-1/0,-1/0];for(let j=0;j<O.length;j++){const H=O[j];Y[0]=Math.min(Y[0],H.x),Y[1]=Math.min(Y[1],H.y),Y[2]=Math.max(Y[2],H.x),Y[3]=Math.max(Y[3],H.y)}Y[0]<un&&Y[1]<un&&Y[2]>=0&&Y[3]>=0&&T.insert(S,Y[0],Y[1],Y[2],Y[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Hm(new cs(this.rawTileData)).layers,this.sourceLayerCoder=new U(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[]}return this.vtLayers}query(t,o,u,f){this.loadVTLayers();const y=t.params||{},v=Wi(y.filter),S=t.tileResult,T=t.transform,A=S.bufferedTilespaceBounds,O=this.grid.query(A.min.x,A.min.y,A.max.x,A.max.y,((W,ee,le,De)=>Xg(S.bufferedTilespaceGeometry,W,ee,le,De)));O.sort(g3);let Y=null;T.elevation&&O.length>0&&(Y=sb.create(T.elevation,this.tileID));const j={};let H;for(let W=0;W<O.length;W++){const ee=O[W];if(ee===H)continue;H=ee;const le=this.featureIndexArray.get(ee);let De=null;this.loadMatchingFeature(j,le,v,y.layers,y.availableImages,o,u,f,((ze,Ae,Pe,Ve=0)=>(De||(De=As(ze,this.tileID.canonical,t.tileTransform)),Ae.queryIntersectsFeature(S,ze,Pe,De,this.z,t.transform,t.pixelPosMatrix,Y,Ve))))}return j}loadMatchingFeature(t,o,u,f,y,v,S,T,A){const{featureIndex:O,bucketIndex:Y,sourceLayerIndex:j,layoutVertexArrayOffset:H}=o,W=this.bucketLayerIDs[Y];if(f&&!(function(ze,Ae){for(let Pe=0;Pe<ze.length;Pe++)if(Ae.indexOf(ze[Pe])>=0)return!0;return!1})(f,W))return;const ee=this.sourceLayerCoder.decode(j),le=this.vtLayers[ee].feature(O);if(u.needGeometry){const ze=Cs(le,!0);if(!u.filter(new Xe(this.tileID.overscaledZ),ze,this.tileID.canonical))return}else if(!u.filter(new Xe(this.tileID.overscaledZ),le))return;const De=this.getId(le,ee);for(let ze=0;ze<W.length;ze++){const Ae=W[ze];if(f&&f.indexOf(Ae)<0)continue;const Pe=v[Ae];if(!Pe)continue;let Ve={};De!==void 0&&T&&(Ve=T.getState(Pe.sourceLayer||"_geojsonTileLayer",De));const Ye=pr({},S[Ae]);Ye.paint=sT(Ye.paint,Pe.paint,le,Ve,y),Ye.layout=sT(Ye.layout,Pe.layout,le,Ve,y);const wt=!A||A(le,Pe,Ve,H);if(!wt)continue;const _t=new ye(le,this.z,this.x,this.y,De);_t.layer=Ye;let zt=t[Ae];zt===void 0&&(zt=t[Ae]=[]),zt.push({featureIndex:O,feature:_t,intersectionZ:wt})}}lookupSymbolFeatures(t,o,u,f,y,v,S,T){const A={};this.loadVTLayers();const O=Wi(y);for(const Y of t)this.loadMatchingFeature(A,{bucketIndex:u,sourceLayerIndex:f,featureIndex:Y,layoutVertexArrayOffset:0},O,v,S,T,o);return A}loadFeature(t){const{featureIndex:o,sourceLayerIndex:u}=t;this.loadVTLayers();const f=this.sourceLayerCoder.decode(u),y=this.vtFeatures[f];if(y[o])return y[o];const v=this.vtLayers[f].feature(o);return y[o]=v,v}hasLayer(t){for(const o of this.bucketLayerIDs)for(const u of o)if(t===u)return!0;return!1}getId(t,o){let u=t.id;if(this.promoteId){const f=typeof this.promoteId=="string"?this.promoteId:this.promoteId[o];f!=null&&(u=t.properties[f]),typeof u=="boolean"&&(u=Number(u))}return u}}function sT(i,t,o,u,f){return It(i,((y,v)=>{const S=t instanceof or?t.get(v):null;return S&&S.evaluate?S.evaluate(o,u,f):S}))}function g3(i,t){return t-i}Dr(aT,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class lT{constructor(t,o){this.width=t,this.height=o,this.nextRow=0,this.image=new su({width:t,height:o}),this.positions={},this.uploaded=!1}getDash(t,o){const u=this.getKey(t,o);return this.positions[u]}trim(){const t=this.width,o=this.height=Gr(this.nextRow);this.image.resize({width:t,height:o})}getKey(t,o){return t.join(",")+o}getDashRanges(t,o,u){const f=[];let y=t.length%2==1?-t[t.length-1]*u:0,v=t[0]*u,S=!0;f.push({left:y,right:v,isDash:S,zeroLength:t[0]===0});let T=t[0];for(let A=1;A<t.length;A++){S=!S;const O=t[A];y=T*u,T+=O,v=T*u,f.push({left:y,right:v,isDash:S,zeroLength:O===0})}return f}addRoundDash(t,o,u){const f=o/2;for(let y=-u;y<=u;y++){const v=this.width*(this.nextRow+u+y);let S=0,T=t[S];for(let A=0;A<this.width;A++){A/T.right>1&&(T=t[++S]);const O=Math.abs(A-T.left),Y=Math.abs(A-T.right),j=Math.min(O,Y);let H;const W=y/u*(f+1);if(T.isDash){const ee=f-Math.abs(W);H=Math.sqrt(j*j+ee*ee)}else H=f-Math.sqrt(j*j+W*W);this.image.data[v+A]=Math.max(0,Math.min(255,H+128))}}}addRegularDash(t,o){for(let T=t.length-1;T>=0;--T){const A=t[T],O=t[T+1];A.zeroLength?t.splice(T,1):O&&O.isDash===A.isDash&&(O.left=A.left,t.splice(T,1))}const u=t[0],f=t[t.length-1];u.isDash===f.isDash&&(u.left=f.left-this.width,f.right=u.right+this.width);const y=this.width*this.nextRow;let v=0,S=t[v];for(let T=0;T<this.width;T++){T/S.right>1&&(S=t[++v]);const A=Math.abs(T-S.left),O=Math.abs(T-S.right),Y=Math.min(A,O);this.image.data[y+T]=Math.max(0,Math.min(255,(S.isDash?Y:-Y)+o+128))}}addDash(t,o){const u=this.getKey(t,o);if(this.positions[u])return this.positions[u];const f=o==="round",y=f?7:0,v=2*y+1;if(this.nextRow+v>this.height)return Ce("LineAtlas out of space"),null;t.length===0&&t.push(1);let S=0;for(let O=0;O<t.length;O++)t[O]<0&&(Ce("Negative value is found in line dasharray, replacing values with 0"),t[O]=0),S+=t[O];if(S!==0){const O=this.width/S,Y=this.getDashRanges(t,this.width,O);f?this.addRoundDash(Y,O,y):this.addRegularDash(Y,o==="square"?.5*O:0)}const T=this.nextRow+y;this.nextRow+=v;const A={tl:[T,y],br:[S,0]};return this.positions[u]=A,A}}Dr(lT,"LineAtlas");class uT{constructor(t){const o={},u=[];for(const S in t){const T=t[S],A=o[S]={};for(const O in T.glyphs){const Y=T.glyphs[+O];if(!Y||Y.bitmap.width===0||Y.bitmap.height===0)continue;const j=Y.metrics.localGlyph?2:1,H={x:0,y:0,w:Y.bitmap.width+2*j,h:Y.bitmap.height+2*j};u.push(H),A[O]=H}}const{w:f,h:y}=Sp(u),v=new su({width:f||1,height:y||1});for(const S in t){const T=t[S];for(const A in T.glyphs){const O=T.glyphs[+A];if(!O||O.bitmap.width===0||O.bitmap.height===0)continue;const Y=o[S][A],j=O.metrics.localGlyph?2:1;su.copy(O.bitmap,v,{x:0,y:0},{x:Y.x+j,y:Y.y+j},O.bitmap)}}this.image=v,this.positions=o}}Dr(uT,"GlyphAtlas");class y3{constructor(t){this.tileID=new Lo(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=Fc(t.tileID.canonical,t.projection),this.projection=t.projection}parse(t,o,u,f,y){this.status="parsing",this.data=t,this.collisionBoxArray=new za;const v=new U(Object.keys(t.layers).sort()),S=new aT(this.tileID,this.promoteId);S.bucketLayerIDs=[];const T={},A=new lT(256,256),O={featureIndex:S,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:A,availableImages:u},Y=o.familiesBySource[this.source];for(const Ve in Y){const Ye=t.layers[Ve];if(!Ye)continue;let wt=!1,_t=!1;for(const Tt of Y[Ve])Tt[0].type==="symbol"?wt=!0:_t=!0;if(this.isSymbolTile===!0&&!wt||this.isSymbolTile===!1&&!_t)continue;Ye.version===1&&Ce(`Vector tile source "${this.source}" layer "${Ve}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const zt=v.encode(Ve),rr=[];for(let Tt=0;Tt<Ye.length;Tt++){const Vt=Ye.feature(Tt),Ht=S.getId(Vt,Ve);rr.push({feature:Vt,id:Ht,index:Tt,sourceLayerIndex:zt})}for(const Tt of Y[Ve]){const Vt=Tt[0];this.isSymbolTile!==void 0&&Vt.type==="symbol"!==this.isSymbolTile||Vt.minzoom&&this.zoom<Math.floor(Vt.minzoom)||Vt.maxzoom&&this.zoom>=Vt.maxzoom||Vt.visibility!=="none"&&(rM(Tt,this.zoom,u),(T[Vt.id]=Vt.createBucket({index:S.bucketLayerIDs.length,layers:Tt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:u})).populate(rr,O,this.tileID.canonical,this.tileTransform),S.bucketLayerIDs.push(Tt.map((Ht=>Ht.id))))}}let j,H,W,ee;A.trim();const le={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},De=It(O.glyphDependencies,(Ve=>Object.keys(Ve).map(Number)));Object.keys(De).length?f.send("getGlyphs",{uid:this.uid,stacks:De},((Ve,Ye)=>{j||(j=Ve,H=Ye,Pe.call(this))}),void 0,!1,le):H={};const ze=Object.keys(O.iconDependencies);ze.length?f.send("getImages",{icons:ze,source:this.source,tileID:this.tileID,type:"icons"},((Ve,Ye)=>{j||(j=Ve,W=Ye,Pe.call(this))}),void 0,!1,le):W={};const Ae=Object.keys(O.patternDependencies);function Pe(){if(j)return y(j);if(H&&W&&ee){const Ve=new uT(H),Ye=new $n(W,ee);for(const wt in T){const _t=T[wt];_t instanceof qu?(rM(_t.layers,this.zoom,u),D1(_t,H,Ve.positions,W,Ye.iconPositions,this.showCollisionBoxes,u,this.tileID.canonical,this.tileZoom,this.projection)):_t.hasPattern&&(_t instanceof wp||_t instanceof pp||_t instanceof Df)&&(rM(_t.layers,this.zoom,u),_t.addFeatures(O,this.tileID.canonical,Ye.patternPositions,u,this.tileTransform))}this.status="done",y(null,{buckets:Sr(T).filter((wt=>!wt.isEmpty())),featureIndex:S,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ve.image,lineAtlas:A,imageAtlas:Ye,glyphMap:this.returnDependencies?H:null,iconMap:this.returnDependencies?W:null,glyphPositions:this.returnDependencies?Ve.positions:null})}}Ae.length?f.send("getImages",{icons:Ae,source:this.source,tileID:this.tileID,type:"patterns"},((Ve,Ye)=>{j||(j=Ve,ee=Ye,Pe.call(this))}),void 0,!1,le):ee={},Pe.call(this)}}function rM(i,t,o){const u=new Xe(t);for(const f of i)f.recalculate(u,o)}class cT{constructor(t){this.entries={},this.scheduler=t}request(t,o,u,f){const y=this.entries[t]=this.entries[t]||{callbacks:[]};if(y.result){const[v,S]=y.result;return this.scheduler?this.scheduler.add((()=>{f(v,S)}),o):f(v,S),()=>{}}return y.callbacks.push(f),y.cancel||(y.cancel=u(((v,S)=>{y.result=[v,S];for(const T of y.callbacks)this.scheduler?this.scheduler.add((()=>{T(v,S)}),o):T(v,S);setTimeout((()=>delete this.entries[t]),3e3)}))),()=>{y.result||(y.callbacks=y.callbacks.filter((v=>v!==f)),y.callbacks.length||(y.cancel(),delete this.entries[t]))}}}function dT(i,t,o){const u=JSON.stringify(i.request);return i.data&&(this.deduped.entries[u]={result:[null,i.data]}),this.deduped.request(u,{type:"parseTile",isSymbolTile:i.isSymbolTile,zoom:i.tileZoom},(f=>{const y=ht(i.request,((v,S,T,A)=>{v?f(v):S&&f(null,{vectorTile:o?void 0:new Hm(new cs(S)),rawData:S,cacheControl:T,expires:A})}));return()=>{y.cancel(),f()}}),t)}s.ARRAY_TYPE=ja,s.AUTH_ERR_MSG=Ar,s.Aabb=pa,s.Actor=class{constructor(i,t,o){this.target=i,this.parent=t,this.mapId=o,this.callbacks={},this.cancelCallbacks={},xt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Dt()?i:E,this.scheduler=new I}send(i,t,o,u,f=!1,y){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);o&&(o.metadata=y,this.callbacks[v]=o);const S=mr(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:i,hasCallback:!!o,targetMapId:u,mustQueue:f,sourceMapId:this.mapId,data:Al(t,S)},S),{cancel:()=>{o&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:u,sourceMapId:this.mapId})}}}receive(i){const t=i.data,o=t.id;if(o&&(!t.targetMapId||this.mapId===t.targetMapId))if(t.type==="<cancel>"){const u=this.cancelCallbacks[o];delete this.cancelCallbacks[o],u&&u.cancel()}else if(t.mustQueue||Dt()){const u=this.callbacks[o];this.cancelCallbacks[o]=this.scheduler.add((()=>this.processTask(o,t)),u&&u.metadata||{type:"message"})}else this.processTask(o,t)}processTask(i,t){if(t.type==="<response>"){const o=this.callbacks[i];delete this.callbacks[i],o&&(t.error?o(bc(t.error)):o(null,bc(t.data)))}else{const o=mr(this.globalScope)?void 0:[],u=t.hasCallback?(y,v)=>{delete this.cancelCallbacks[i],this.target.postMessage({id:i,type:"<response>",sourceMapId:this.mapId,error:y?Al(y):null,data:Al(v,o)},o)}:y=>{},f=bc(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,f,u);else if(this.parent.getWorkerSource){const y=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,y[0],f.source)[y[1]](f,u)}else u(new Error(`Could not find function ${t.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.CanonicalTileID=vp,s.Color=Ri,s.ColorMode=Gu,s.CullFaceMode=fu,s.DEMData=ab,s.DataConstantProperty=it,s.DedupedRequest=cT,s.DepthMode=Bp,s.EXTENT=un,s.Elevation=class{isDataAvailableAtPoint(i){const t=this._source();if(this.isUsingMockSource()||!t||i.y<0||i.y>1)return!1;const o=t.getSource().maxzoom,u=1<<o,f=Math.floor(i.x),y=Math.floor((i.x-f)*u),v=Math.floor(i.y*u),S=this.findDEMTileFor(new Lo(o,f,o,y,v));return!(!S||!S.dem)}getAtPointOrZero(i,t=0){return this.getAtPoint(i,t)||0}getAtPoint(i,t,o=!0){if(this.isUsingMockSource())return null;t==null&&(t=null);const u=this._source();if(!u||i.y<0||i.y>1)return t;const f=u.getSource().maxzoom,y=1<<f,v=Math.floor(i.x),S=i.x-v,T=new Lo(f,v,f,Math.floor(S*y),Math.floor(i.y*y)),A=this.findDEMTileFor(T);if(!A||!A.dem)return t;const O=A.dem,Y=1<<A.tileID.canonical.z,j=(S*Y-A.tileID.canonical.x)*O.dim,H=(i.y*Y-A.tileID.canonical.y)*O.dim,W=Math.floor(j),ee=Math.floor(H);return(o?this.exaggeration():1)*In(In(O.get(W,ee),O.get(W,ee+1),H-ee),In(O.get(W+1,ee),O.get(W+1,ee+1),H-ee),j-W)}getAtTileOffset(i,t,o){const u=1<<i.canonical.z;return this.getAtPointOrZero(new _d(i.wrap+(i.canonical.x+t/un)/u,(i.canonical.y+o/un)/u))}getAtTileOffsetFunc(i,t,o,u){return f=>{const y=this.getAtTileOffset(i,f.x,f.y),v=u.upVector(i.canonical,f.x,f.y);return $a(v,v,y*u.upVectorScale(i.canonical,t,o).metersToTile),v}}getForTilePoints(i,t,o,u){if(this.isUsingMockSource())return!1;const f=sb.create(this,i,u);return!!f&&(t.forEach((y=>{y[2]=this.exaggeration()*f.getElevationAt(y[0],y[1],o)})),!0)}getMinMaxForTile(i){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(i);if(!t||!t.dem)return null;const o=t.dem.tree,u=t.tileID,f=1<<i.canonical.z-u.canonical.z;let y=i.canonical.x/f-u.canonical.x,v=i.canonical.y/f-u.canonical.y,S=0;for(let T=0;T<i.canonical.z-u.canonical.z&&!o.leaves[S];T++){y*=2,v*=2;const A=2*Math.floor(v)+Math.floor(y);S=o.childOffsets[S]+A,y%=1,v%=1}return{min:this.exaggeration()*o.minimums[S],max:this.exaggeration()*o.maximums[S]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(i,t,o){throw new Error("Pure virtual method called.")}pointCoordinate(i){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(i){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},s.ErrorEvent=no,s.EvaluationParameters=Xe,s.Event=Vo,s.Evented=bo,s.FillExtrusionBucket=Df,s.Frustum=Rm,s.FrustumCorners=Om,s.GLOBE_METERS_TO_ECEF=u_,s.GLOBE_RADIUS=du,s.GLOBE_SCALE_MATCH_LATITUDE=45,s.GLOBE_ZOOM_THRESHOLD_MAX=6,s.GLOBE_ZOOM_THRESHOLD_MIN=5,s.GlobeSharedBuffers=class{constructor(i){this._createGrid(i),this._createPoles(i)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const i of this._poleSegments)i.destroy();for(const i of this._gridSegments)i.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const i of this._wireframeSegments)i.destroy()}}_createGrid(i){const t=new Xn,o=new ho,u=65;for(let f=0;f<u;f++)for(let y=0;y<u;y++)t.emplaceBack(y,f);this._gridSegments=[];for(let f=0,y=0;f<Ed.length;f++){const v=Ed[f];for(let T=0;T<v;T++)for(let A=0;A<64;A++){const O=T*u+A;o.emplaceBack(O+1,O,O+u),o.emplaceBack(O+u,O+u+1,O+1)}const S=64*v*2;this._gridSegments.push(Ui.simpleSegment(0,y,(v+1)*u,S)),y+=S}this._gridBuffer=i.createVertexBuffer(t,$f.members),this._gridIndexBuffer=i.createIndexBuffer(o,!0)}_createPoles(i){const t=new ho;for(let f=0;f<=Td;f++)t.emplaceBack(0,f+1,f+2);this._poleIndexBuffer=i.createIndexBuffer(t,!0);const o=new xc,u=new xc;this._poleSegments=[];for(let f=0,y=0;f<5;f++){const v=360/(1<<f);o.emplaceBack(0,-du,0,.5,0),u.emplaceBack(0,-du,0,.5,1);for(let S=0;S<=Td;S++){const T=S/Td,A=In(0,v,T),[O,Y,j]=kd(p_,z1,A,du);o.emplaceBack(O,Y,j,T,0),u.emplaceBack(O,Y,j,T,1)}this._poleSegments.push(Ui.simpleSegment(y,0,66,64)),y+=66}this._poleNorthVertexBuffer=i.createVertexBuffer(o,l_,!1),this._poleSouthVertexBuffer=i.createVertexBuffer(u,l_,!1)}getGridBuffers(i){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[i]]}getPoleBuffers(i){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[i]]}getWirefameBuffers(i,t){if(!this._wireframeSegments){const o=new da,u=Td,f=u+1;this._wireframeSegments=[];for(let y=0,v=0;y<Ed.length;y++){const S=Ed[y];for(let A=0;A<S;A++)for(let O=0;O<u;O++){const Y=A*f+O;o.emplaceBack(Y,Y+1),o.emplaceBack(Y,Y+f),o.emplaceBack(Y,Y+f+1)}const T=S*u*3;this._wireframeSegments.push(Ui.simpleSegment(0,v,(S+1)*f,T)),v+=T}this._wireframeIndexBuffer=i.createIndexBuffer(o)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},s.GlyphManager=To,s.ImagePosition=ul,s.LivePerformanceUtils=hr,s.LngLat=jn,s.LngLatBounds=rl,s.LocalGlyphMode=po,s.MAX_MERCATOR_LATITUDE=il,s.MercatorCoordinate=_d,s.ONE_EM=Kn,s.OverscaledTileID=Lo,s.PerformanceMarkers=Rt,s.Properties=Qr,s.RGBAImage=Va,s.Ray=Pm,s.RequestManager=class{constructor(i,t,o){this._transformRequestFn=i,this._customAccessToken=t,this._silenceAuthErrors=!!o,this._createSkuToken()}_createSkuToken(){const i=(function(){let t="";for(let o=0;o<10;o++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",se,t].join(""),tokenExpiresAt:Date.now()+432e5}})();this._skuToken=i.token,this._skuTokenExpiresAt=i.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(i,t){return this._transformRequestFn&&this._transformRequestFn(i,t)||{url:i}}normalizeStyleURL(i,t){if(!ki(i))return i;const o=wr(i);return o.path=`/styles/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||t)}normalizeGlyphsURL(i,t){if(!ki(i))return i;const o=wr(i);return o.path=`/fonts/v1${o.path}`,this._makeAPIURL(o,this._customAccessToken||t)}normalizeSourceURL(i,t,o,u){if(!ki(i))return i;const f=wr(i);return f.path=`/v4/${f.authority}.json`,f.params.push("secure"),o&&f.params.push(`language=${o}`),u&&f.params.push(`worldview=${u}`),this._makeAPIURL(f,this._customAccessToken||t)}normalizeSpriteURL(i,t,o,u){const f=wr(i);return ki(i)?(f.path=`/styles/v1${f.path}/sprite${t}${o}`,this._makeAPIURL(f,this._customAccessToken||u)):(f.path+=`${t}${o}`,Jr(f))}normalizeTileURL(i,t,o){if(this._isSkuTokenExpired()&&this._createSkuToken(),i&&!ki(i))return i;const u=wr(i);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||o&&u.authority!=="raster"&&o===512?"@2x":""}${C.supported?".webp":"$1"}`),u.authority==="raster"?u.path=`/${F.RASTER_URL_PREFIX}${u.path}`:(u.path=u.path.replace(/^.+\/v4\//,"/"),u.path=`/${F.TILE_URL_VERSION}${u.path}`);const f=this._customAccessToken||(function(y){for(const v of y){const S=v.match(/^access_token=(.*)$/);if(S)return S[1]}return null})(u.params)||F.ACCESS_TOKEN;return F.REQUIRE_ACCESS_TOKEN&&f&&this._skuToken&&u.params.push(`sku=${this._skuToken}`),this._makeAPIURL(u,f)}canonicalizeTileURL(i,t){const o=wr(i);if(!o.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!o.path.match(/\.[\w]+$/))return i;let u="mapbox://";o.path.match(/^\/raster\/v1\//)?u+=`raster/${o.path.replace(`/${F.RASTER_URL_PREFIX}/`,"")}`:u+=`tiles/${o.path.replace(`/${F.TILE_URL_VERSION}/`,"")}`;let f=o.params;return t&&(f=f.filter((y=>!y.match(/^access_token=/)))),f.length&&(u+=`?${f.join("&")}`),u}canonicalizeTileset(i,t){const o=!!t&&ki(t),u=[];for(const f of i.tiles||[])ro(f)?u.push(this.canonicalizeTileURL(f,o)):u.push(f);return u}_makeAPIURL(i,t){const o="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",u=wr(F.API_URL);if(i.protocol=u.protocol,i.authority=u.authority,i.protocol==="http"){const f=i.params.indexOf("secure");f>=0&&i.params.splice(f,1)}if(u.path!=="/"&&(i.path=`${u.path}${i.path}`),!F.REQUIRE_ACCESS_TOKEN)return Jr(i);if(t=t||F.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error(`An API access token is required to use Mapbox GL. ${o}`);if(t[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${o}`)}return i.params=i.params.filter((f=>f.indexOf("access_token")===-1)),i.params.push(`access_token=${t||""}`),Jr(i)}},s.ResourceType=$,s.SegmentVector=Ui,s.SourceCache=Zf,s.StencilMode=Q1,s.StructArrayLayout1ui2=hd,s.StructArrayLayout2f1f2i16=Zo,s.StructArrayLayout2i4=Xn,s.StructArrayLayout2ui4=da,s.StructArrayLayout3f12=Es,s.StructArrayLayout3ui6=ho,s.StructArrayLayout4i8=li,s.StructArrayLayout5f20=xc,s.Texture=m,s.Tile=Vn,s.Transitionable=Ft,s.Uniform1f=Jh,s.Uniform1i=class extends Js{constructor(i){super(i),this.current=0}set(i,t,o){this.fetchUniformLocation(i,t)&&this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},s.Uniform2f=class extends Js{constructor(i){super(i),this.current=[0,0]}set(i,t,o){this.fetchUniformLocation(i,t)&&(o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1])))}},s.Uniform3f=class extends Js{constructor(i){super(i),this.current=[0,0,0]}set(i,t,o){this.fetchUniformLocation(i,t)&&(o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2])))}},s.Uniform4f=zg,s.UniformColor=Yg,s.UniformMatrix2f=class extends Js{constructor(i){super(i),this.current=y0}set(i,t,o){if(this.fetchUniformLocation(i,t)){for(let u=0;u<4;u++)if(o[u]!==this.current[u]){this.current=o,this.gl.uniformMatrix2fv(this.location,!1,o);break}}}},s.UniformMatrix3f=class extends Js{constructor(i){super(i),this.current=jg}set(i,t,o){if(this.fetchUniformLocation(i,t)){for(let u=0;u<9;u++)if(o[u]!==this.current[u]){this.current=o,this.gl.uniformMatrix3fv(this.location,!1,o);break}}}},s.UniformMatrix4f=class extends Js{constructor(i){super(i),this.current=Bg}set(i,t,o){if(this.fetchUniformLocation(i,t)){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let u=1;u<16;u++)if(o[u]!==this.current[u]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}}},s.UnwrappedTileID=Pf,s.ValidationError=Tr,s.VectorTileFeature=gp,s.VectorTileWorkerSource=class extends bo{constructor(i,t,o,u,f){super(),this.actor=i,this.layerIndex=t,this.availableImages=o,this.loadVectorData=f||dT,this.loading={},this.loaded={},this.deduped=new cT(i.scheduler),this.isSpriteLoaded=u,this.scheduler=i.scheduler}loadTile(i,t){const o=i.uid,u=i&&i.request,f=u&&u.collectResourceTiming,y=this.loading[o]=new y3(i);y.abort=this.loadVectorData(i,((v,S)=>{const T=!this.loading[o];if(delete this.loading[o],T||v||!S)return y.status="done",T||(this.loaded[o]=y),t(v);const A=S.rawData,O={};S.expires&&(O.expires=S.expires),S.cacheControl&&(O.cacheControl=S.cacheControl),y.vectorTile=S.vectorTile||new Hm(new cs(A));const Y=()=>{y.parse(y.vectorTile,this.layerIndex,this.availableImages,this.actor,((j,H)=>{if(j||!H)return t(j);const W={};if(f){const ee=Or(u);ee.length>0&&(W.resourceTiming=JSON.parse(JSON.stringify(ee)))}t(null,pr({rawTileData:A.slice(0)},H,O,W))}))};this.isSpriteLoaded?Y():this.once("isSpriteLoaded",(()=>{this.scheduler?this.scheduler.add(Y,{type:"parseTile",isSymbolTile:i.isSymbolTile,zoom:i.tileZoom}):Y()})),this.loaded=this.loaded||{},this.loaded[o]=y}))}reloadTile(i,t){const o=this.loaded,u=i.uid,f=this;if(o&&o[u]){const y=o[u];y.showCollisionBoxes=i.showCollisionBoxes,y.enableTerrain=!!i.enableTerrain,y.projection=i.projection,y.tileTransform=Fc(i.tileID.canonical,i.projection);const v=(S,T)=>{const A=y.reloadCallback;A&&(delete y.reloadCallback,y.parse(y.vectorTile,f.layerIndex,this.availableImages,f.actor,A)),t(S,T)};y.status==="parsing"?y.reloadCallback=v:y.status==="done"&&(y.vectorTile?y.parse(y.vectorTile,this.layerIndex,this.availableImages,this.actor,v):v())}}abortTile(i,t){const o=i.uid,u=this.loading[o];u&&(u.abort&&u.abort(),delete this.loading[o]),t()}removeTile(i,t){const o=this.loaded,u=i.uid;o&&o[u]&&delete o[u],t()}},s.WritingMode=Na,s.add=Ps,s.addDynamicAttributes=zp,s.adjoint=function(i,t){var o=t[0],u=t[1],f=t[2],y=t[3],v=t[4],S=t[5],T=t[6],A=t[7],O=t[8];return i[0]=v*O-S*A,i[1]=f*A-u*O,i[2]=u*S-f*v,i[3]=S*T-y*O,i[4]=o*O-f*T,i[5]=f*y-o*S,i[6]=y*A-v*T,i[7]=u*T-o*A,i[8]=o*v-u*y,i},s.asyncAll=nr,s.bezier=mt,s.bindAll=xt,s.boundsAttributes=sn,s.bufferConvexPolygon=function(i,t){const o=[];for(let u=0;u<i.length;u++){const f=vt(u-1,-1,i.length-1),y=vt(u+1,-1,i.length-1),v=i[u],S=i[y],T=i[f].sub(v).unit(),A=S.sub(v).unit(),O=A.angleWithSep(T.x,T.y),Y=T.add(A).unit().mult(-1*t/Math.sin(O/2));o.push(v.add(Y))}return o},s.cacheEntryPossiblyAdded=function(i){ae++,ae>tt&&(i.getActor().send("enforceCacheSizeLimit",zr),ae=0)},s.calculateGlobeLabelMatrix=function(i,t){const{x:o,y:u}=i.point,f=f_(o,u,i.worldSize/i._pixelsPerMercatorPixel,0,0);return Lc(f,f,Hf(Pl(t)))},s.calculateGlobeMatrix=function(i){const{x:t,y:o}=i.point,{lng:u,lat:f}=i._center;return f_(t,o,i.worldSize,u,f)},s.calculateGlobeMercatorMatrix=function(i){const t=i.pixelsPerMeter,o=t/Ba(1,i.center.lat),u=Is(new Float64Array(16));return gf(u,u,[i.point.x,i.point.y,0]),Tc(u,u,[o,o,t]),Float32Array.from(u)},s.circumferenceAtLatitude=ep,s.clamp=ot,s.clearTileCache=function(i){if(!vr())return;const t=E.caches.delete(jr);i&&t.catch(i).then((()=>i()))},s.clipLine=Lp,s.clone=function(i){var t=new ja(16);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t},s.clone$1=_r,s.collisionCircleLayout=Ua,s.config=F,s.conjugate=function(i,t){return i[0]=-t[0],i[1]=-t[1],i[2]=-t[2],i[3]=t[3],i},s.create=function(){var i=new ja(16);return ja!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i},s.create$1=yd,s.createExpression=Zs,s.createLayout=kr,s.createStyleLayer=function(i){return i.type==="custom"?new Z1(i):new K1[i.type](i)},s.cross=Cm,s.degToRad=Re,s.distance=function(i,t){return Math.hypot(t[0]-i[0],t[1]-i[1],t[2]-i[2])},s.div=function(i,t,o){return i[0]=t[0]/o[0],i[1]=t[1]/o[1],i[2]=t[2]/o[2],i},s.dot=Os,s.earthRadius=md,s.ease=Lt,s.easeCubicInOut=gt,s.ecefToLatLng=function([i,t,o]){const u=Math.hypot(i,t,o),f=Math.atan2(i,o),y=.5*Math.PI-Math.acos(-t/u);return new jn(ut(f),ut(y))},s.emitValidationErrors=Oh,s.endsWith=qt,s.enforceCacheSizeLimit=function(i){rn(),lr&&lr.then((t=>{t.keys().then((o=>{for(let u=0;u<o.length-i;u++)t.delete(o[u])}))}))},s.evaluateSizeForFeature=xp,s.evaluateSizeForZoom=xd,s.evaluateVariableOffset=Ny,s.evented=Be,s.exactEquals=function(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]&&i[3]===t[3]},s.exactEquals$1=function(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]},s.exported=$r,s.exported$1=C,s.extend=pr,s.extend$1=vo,s.fillExtrusionHeightLift=Zm,s.filterObject=Nt,s.fromMat4=function(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[4],i[4]=t[5],i[5]=t[6],i[6]=t[8],i[7]=t[9],i[8]=t[10],i},s.fromQuat=function(i,t){var o=t[0],u=t[1],f=t[2],y=t[3],v=o+o,S=u+u,T=f+f,A=o*v,O=u*v,Y=u*S,j=f*v,H=f*S,W=f*T,ee=y*v,le=y*S,De=y*T;return i[0]=1-Y-W,i[1]=O+De,i[2]=j-le,i[3]=0,i[4]=O-De,i[5]=1-A-W,i[6]=H+ee,i[7]=0,i[8]=j+le,i[9]=H-ee,i[10]=1-A-Y,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},s.fromRotation=function(i,t){var o=Math.sin(t),u=Math.cos(t);return i[0]=u,i[1]=o,i[2]=0,i[3]=-o,i[4]=u,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i},s.fromScaling=Kg,s.furthestTileCorner=function(i){const t=Math.round((i+45+360)%360/90)%4;return Ke[t]},s.getAABBPointSquareDist=function(i,t,o){let u=0;for(let f=0;f<2;++f){const y=o?o[f]:0;i[f]>y&&(u+=(i[f]-y)*(i[f]-y)),t[f]<y&&(u+=(y-t[f])*(y-t[f]))}return u},s.getAnchorAlignment=i_,s.getAnchorJustification=a_,s.getBounds=function(i){let t=1/0,o=1/0,u=-1/0,f=-1/0;for(const y of i)t=Math.min(t,y.x),o=Math.min(o,y.y),u=Math.max(u,y.x),f=Math.max(f,y.y);return{min:new he(t,o),max:new he(u,f)}},s.getColumn=Ut,s.getGridMatrix=function(i,t,o,u){const f=t.getNorth(),y=t.getSouth(),v=t.getWest(),S=t.getEast(),T=1<<i.z,A=S-v,O=f-y,Y=A/Td,j=-O/Ed[o],H=[0,Y,0,j,0,0,f,v,0];if(i.z>0){const W=180/u;km(H,H,[W/A+1,0,0,0,W/O+1,0,-.5*W/Y,.5*W/j,1])}return H[2]=T,H[5]=i.x,H[8]=i.y,H},s.getImage=nn,s.getJSON=function(i,t){return Ze(pr(i,{type:"json"}),t)},s.getLatitudinalLod=function(i){const t=80.051129;i=ot(i,-80.051129,t)/t*90;const o=Math.pow(Math.abs(Math.sin(Re(i))),3);return Math.round(o*(Ed.length-1))},s.getMapSessionAPI=Ue,s.getPerformanceMeasurement=Or,s.getProjection=ib,s.getRTLTextPluginStatus=We,s.getReferrer=Te,s.getTilePoint=function(i,{x:t,y:o},u=0){return new he(((t-u)*i.scale-i.x)*un,(o*i.scale-i.y)*un)},s.getTileVec3=function(i,t,o=0){return kc(((t.x-o)*i.scale-i.x)*un,(t.y*i.scale-i.y)*un,Cl(t.z,t.y))},s.getVideo=function(i,t){const o=E.document.createElement("video");o.muted=!0,o.onloadstart=function(){t(null,o)};for(let u=0;u<i.length;u++){const f=E.document.createElement("source");ke(i[u])||(o.crossOrigin="Anonymous"),f.src=i[u],o.appendChild(f)}return{cancel:()=>{}}},s.globeCenterToScreenPoint=function(i){const t=[0,0,0],o=Is(new Float64Array(16));return Lc(o,i.pixelMatrix,i.globeMatrix),Zi(t,t,o),new he(t[0],t[1])},s.globeDenormalizeECEF=Hf,s.globeECEFOrigin=function(i,t){const o=[0,0,0];return Zi(o,o,Nf(Pl(t.canonical))),Zi(o,o,i),o},s.globeNormalizeECEF=Nf,s.globePixelsToTileUnits=function(i,t){return un/(512*Math.pow(2,i))*Dp(Pl(t))},s.globePoleMatrixForTile=function(i,t,o){const u=Is(new Float64Array(16)),f=(t/(1<<i)-.5)*Math.PI*2;return yf(u,o.globeMatrix,f),Float32Array.from(u)},s.globeTileBounds=Pl,s.globeTiltAtLngLat=Qy,s.globeToMercatorTransition=Rc,s.globeUseCustomAntiAliasing=function(i,t,o){const u=Rc(o.zoom),f=i.style.map._antialias,y=!!t.extStandardDerivatives,v=t.extStandardDerivativesForceOff||i.terrain&&i.terrain.exaggeration()>0;return u===0&&!f&&!v&&y},s.identity=Is,s.identity$1=ty,s.invert=Am,s.isFullscreen=function(){return!!E.document.fullscreenElement||!!E.document.webkitFullscreenElement},s.isLngLatBehindGlobe=h_,s.isMapAuthenticated=function(i){return et.has(i)},s.isMapboxURL=ki,s.isSafariWithAntialiasingBug=function(i){const t=i.navigator?i.navigator.userAgent:null;return!!mr(i)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.latFromMercatorY=So,s.latLngToECEF=Vf,s.len=L0,s.length=bd,s.length$1=function(i){return Math.hypot(i[0],i[1],i[2],i[3])},s.lngFromMercatorX=ls,s.loadVectorTile=dT,s.makeRequest=Ze,s.mapValue=function(i,t,o,u,f){return ot((i-t)/(o-t)*(f-u)+u,u,f)},s.mercatorScale=xm,s.mercatorXfromLng=ss,s.mercatorYfromLat=nl,s.mercatorZfromAltitude=Ba,s.mul=Jg,s.mul$1=S0,s.multiply=Lc,s.multiply$1=km,s.multiply$2=ol,s.nextPowerOfTwo=Gr,s.normalize=ha,s.normalize$1=iy,s.normalize$2=Dm,s.number=In,s.ortho=function(i,t,o,u,f,y,v){var S=1/(t-o),T=1/(u-f),A=1/(y-v);return i[0]=-2*S,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*T,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*A,i[11]=0,i[12]=(t+o)*S,i[13]=(f+u)*T,i[14]=(v+y)*A,i[15]=1,i},s.pbf=cs,s.perspective=function(i,t,o,u,f){var y,v=1/Math.tan(t/2);return i[0]=v/o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=v,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,f!=null&&f!==1/0?(i[10]=(f+u)*(y=1/(u-f)),i[14]=2*f*u*y):(i[10]=-1,i[14]=-2*u),i},s.pick=function(i,t){const o={};for(let u=0;u<t.length;u++){const f=t[u];f in i&&(o[f]=i[f])}return o},s.plugin=pt,s.pointGeometry=he,s.polesInViewport=function(i){const t=Is(new Float64Array(16));Lc(t,i.pixelMatrix,i.globeMatrix);const o=[0,Rs,0],u=[0,Fs,0];return Zi(o,o,t),Zi(u,u,t),[o[0]>0&&o[0]<=i.width&&o[1]>0&&o[1]<=i.height&&!h_(i,new jn(i.center.lat,90)),u[0]>0&&u[0]<=i.width&&u[1]>0&&u[1]<=i.height&&!h_(i,new jn(i.center.lat,-90))]},s.polygonContainsPoint=Nu,s.polygonIntersectsBox=Xg,s.polygonIntersectsPolygon=Uu,s.polygonizeBounds=function(i,t,o=0,u=!0){const f=new he(o,o),y=i.sub(f),v=t.add(f),S=[y,new he(v.x,y.y),v,new he(y.x,v.y)];return u&&S.push(y.clone()),S},s.posAttributes=$f,s.postMapLoadEvent=Le,s.postPerformanceEvent=rt,s.postTurnstileEvent=re,s.potpack=Sp,s.prevPowerOfTwo=function(i){return i<=1?1:Math.pow(2,Math.floor(Math.log(i)/Math.LN2))},s.radToDeg=ut,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.registerForPluginStateChange=function(i){return i({pluginStatus:we,pluginURL:xe}),Be.on("pluginStateChange",i),i},s.removeAuthState=function(i){et.delete(i)},s.renderColorRamp=Bm,s.resample=Gg,s.rotateX=ap,s.rotateX$1=ry,s.rotateY=yf,s.rotateY$1=ny,s.rotateZ=function(i,t,o){var u=Math.sin(o),f=Math.cos(o),y=t[0],v=t[1],S=t[2],T=t[3],A=t[4],O=t[5],Y=t[6],j=t[7];return t!==i&&(i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[0]=y*f+A*u,i[1]=v*f+O*u,i[2]=S*f+Y*u,i[3]=T*f+j*u,i[4]=A*f-y*u,i[5]=O*f-v*u,i[6]=Y*f-S*u,i[7]=j*f-T*u,i},s.rotateZ$1=function(i,t,o){o*=.5;var u=t[0],f=t[1],y=t[2],v=t[3],S=Math.sin(o),T=Math.cos(o);return i[0]=u*T+f*S,i[1]=f*T-u*S,i[2]=y*T+v*S,i[3]=v*T-y*S,i},s.scale=Tc,s.scale$1=ey,s.scale$2=$a,s.scaleAndAdd=vf,s.set=function(i,t,o,u){return i[0]=t,i[1]=o,i[2]=u,i},s.setCacheLimits=function(i,t){zr=i,tt=t},s.setColumn=function(i,t,o){i[4*t+0]=o[0],i[4*t+1]=o[1],i[4*t+2]=o[2],i[4*t+3]=o[3]},s.setRTLTextPlugin=function(i,t,o=!1){if(we===pe||we===be||we===ue)throw new Error("setRTLTextPlugin cannot be called multiple times.");xe=$r.resolveURL(i),we=pe,de=t,Fe(),o||bt()},s.smoothstep=dt,s.spec=Pt,s.squaredLength=function(i){var t=i[0],o=i[1],u=i[2];return t*t+o*o+u*u},s.storeAuthState=function(i,t){t?et.add(i):et.delete(i)},s.sub=sl,s.subtract=up,s.symbolSize=p1,s.tileAABB=function(i,t,o,u,f,y,v,S,T){if(T.name==="globe")return F1(i,t,new vp(o,u,f));const A=Fc({z:o,x:u,y:f},T);return new pa([(y+A.x/A.scale)*t,t*(A.y/A.scale),v],[(y+A.x2/A.scale)*t,t*(A.y2/A.scale),S])},s.tileCornersToBounds=Cp,s.tileTransform=Fc,s.transformMat3=function(i,t,o){var u=t[0],f=t[1],y=t[2];return i[0]=u*o[0]+f*o[3]+y*o[6],i[1]=u*o[1]+f*o[4]+y*o[7],i[2]=u*o[2]+f*o[5]+y*o[8],i},s.transformMat4=Zi,s.transformMat4$1=Hu,s.transformQuat=Qg,s.transitionTileAABBinECEF=Xy,s.translate=gf,s.transpose=function(i,t){if(i===t){var o=t[1],u=t[2],f=t[5];i[1]=t[3],i[2]=t[6],i[3]=o,i[5]=t[7],i[6]=u,i[7]=f}else i[0]=t[0],i[1]=t[3],i[2]=t[6],i[3]=t[1],i[4]=t[4],i[5]=t[7],i[6]=t[2],i[7]=t[5],i[8]=t[8];return i},s.triggerPluginCompletionEvent=Ie,s.uniqueId=pn,s.updateGlobeVertexNormal=function(i,t,o,u,f){const y=5*t+2;i.float32[y+0]=o,i.float32[y+1]=u,i.float32[y+2]=f},s.validateCustomStyleLayer=function(i){const t=[],o=i.id;return o===void 0&&t.push({message:`layers.${o}: missing required property "id"`}),i.render===void 0&&t.push({message:`layers.${o}: missing required method "render"`}),i.renderingMode&&i.renderingMode!=="2d"&&i.renderingMode!=="3d"&&t.push({message:`layers.${o}: property "renderingMode" must be either "2d" or "3d"`}),t},s.validateFilter=i=>Xs(Ls(i)),s.validateFog=i=>Xs(La(i)),s.validateLayer=i=>Xs(cd(i)),s.validateLight=i=>Xs(eu(i)),s.validateSource=i=>Xs(of(i)),s.validateStyle=af,s.validateTerrain=i=>Xs(tu(i)),s.values=Sr,s.vectorTile=mp,s.version=k,s.warnOnce=Ce,s.window=E,s.wrap=vt})),c(["./shared"],(function(s){function E(fe){if(typeof fe=="number"||typeof fe=="boolean"||typeof fe=="string"||fe==null)return JSON.stringify(fe);if(Array.isArray(fe)){let re="[";for(const ge of fe)re+=`${E(ge)},`;return`${re}]`}let X="{";for(const re of Object.keys(fe).sort())X+=`${re}:${E(fe[re])},`;return`${X}}`}function k(fe){let X="";for(const re of s.refProperties)X+=`/${E(fe[re])}`;return X}class R{constructor(X){this.keyCache={},X&&this.replace(X)}replace(X){this._layerConfigs={},this._layers={},this.update(X,[])}update(X,re){for(const Le of X)this._layerConfigs[Le.id]=Le,(this._layers[Le.id]=s.createStyleLayer(Le)).compileFilter(),this.keyCache[Le.id]&&delete this.keyCache[Le.id];for(const Le of re)delete this.keyCache[Le],delete this._layerConfigs[Le],delete this._layers[Le];this.familiesBySource={};const ge=(function(Le,je){const rt={};for(let Ue=0;Ue<Le.length;Ue++){const et=je&&je[Le[Ue].id]||k(Le[Ue]);je&&(je[Le[Ue].id]=et);let Rt=rt[et];Rt||(Rt=rt[et]=[]),Rt.push(Le[Ue])}const Je=[];for(const Ue in rt)Je.push(rt[Ue]);return Je})(s.values(this._layerConfigs),this.keyCache);for(const Le of ge){const je=Le.map((hr=>this._layers[hr.id])),rt=je[0];if(rt.visibility==="none")continue;const Je=rt.source||"";let Ue=this.familiesBySource[Je];Ue||(Ue=this.familiesBySource[Je]={});const et=rt.sourceLayer||"_geojsonTileLayer";let Rt=Ue[et];Rt||(Rt=Ue[et]=[]),Rt.push(je)}}}class F{loadTile(X,re){const{uid:ge,encoding:Le,rawImageData:je,padding:rt,buildQuadTree:Je}=X,Ue=s.window.ImageBitmap&&je instanceof s.window.ImageBitmap?this.getImageData(je,rt):je;re(null,new s.DEMData(ge,Ue,Le,rt<1,Je))}getImageData(X,re){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(X.width,X.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=X.width,this.offscreenCanvas.height=X.height,this.offscreenCanvasContext.drawImage(X,0,0,X.width,X.height);const ge=this.offscreenCanvasContext.getImageData(-re,-re,X.width+2*re,X.height+2*re);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ge}}var C=function fe(X,re){var ge,Le=X&&X.type;if(Le==="FeatureCollection")for(ge=0;ge<X.features.length;ge++)fe(X.features[ge],re);else if(Le==="GeometryCollection")for(ge=0;ge<X.geometries.length;ge++)fe(X.geometries[ge],re);else if(Le==="Feature")fe(X.geometry,re);else if(Le==="Polygon")B(X.coordinates,re);else if(Le==="MultiPolygon")for(ge=0;ge<X.coordinates.length;ge++)B(X.coordinates[ge],re);return X};function B(fe,X){if(fe.length!==0){G(fe[0],X);for(var re=1;re<fe.length;re++)G(fe[re],!X)}}function G(fe,X){for(var re=0,ge=0,Le=0,je=fe.length,rt=je-1;Le<je;rt=Le++){var Je=(fe[Le][0]-fe[rt][0])*(fe[rt][1]+fe[Le][1]),Ue=re+Je;ge+=Math.abs(re)>=Math.abs(Je)?re-Ue+Je:Je-Ue+re,re=Ue}re+ge>=0!=!!X&&fe.reverse()}const Z=s.VectorTileFeature.prototype.toGeoJSON;class K{constructor(X){this._feature=X,this.extent=s.EXTENT,this.type=X.type,this.properties=X.tags,"id"in X&&!isNaN(X.id)&&(this.id=parseInt(X.id,10))}loadGeometry(){if(this._feature.type===1){const X=[];for(const re of this._feature.geometry)X.push([new s.pointGeometry(re[0],re[1])]);return X}{const X=[];for(const re of this._feature.geometry){const ge=[];for(const Le of re)ge.push(new s.pointGeometry(Le[0],Le[1]));X.push(ge)}return X}}toGeoJSON(X,re,ge){return Z.call(this,X,re,ge)}}class te{constructor(X){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=X.length,this._features=X}feature(X){return new K(this._features[X])}}var se={exports:{}},_e=s.pointGeometry,Me=s.vectorTile.VectorTileFeature,he=Ge;function Ge(fe,X){this.options=X||{},this.features=fe,this.length=fe.length}function st(fe,X){this.id=typeof fe.id=="number"?fe.id:void 0,this.type=fe.type,this.rawGeometry=fe.type===1?[fe.geometry]:fe.geometry,this.properties=fe.tags,this.extent=X||4096}Ge.prototype.feature=function(fe){return new st(this.features[fe],this.options.extent)},st.prototype.loadGeometry=function(){var fe=this.rawGeometry;this.geometry=[];for(var X=0;X<fe.length;X++){for(var re=fe[X],ge=[],Le=0;Le<re.length;Le++)ge.push(new _e(re[Le][0],re[Le][1]));this.geometry.push(ge)}return this.geometry},st.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var fe=this.geometry,X=1/0,re=-1/0,ge=1/0,Le=-1/0,je=0;je<fe.length;je++)for(var rt=fe[je],Je=0;Je<rt.length;Je++){var Ue=rt[Je];X=Math.min(X,Ue.x),re=Math.max(re,Ue.x),ge=Math.min(ge,Ue.y),Le=Math.max(Le,Ue.y)}return[X,ge,re,Le]},st.prototype.toGeoJSON=Me.prototype.toGeoJSON;var Ne=s.pbf,Re=he;function ut(fe){var X=new Ne;return(function(re,ge){for(var Le in re.layers)ge.writeMessage(3,Ke,re.layers[Le])})(fe,X),X.finish()}function Ke(fe,X){var re;X.writeVarintField(15,fe.version||1),X.writeStringField(1,fe.name||""),X.writeVarintField(5,fe.extent||4096);var ge={keys:[],values:[],keycache:{},valuecache:{}};for(re=0;re<fe.length;re++)ge.feature=fe.feature(re),X.writeMessage(2,gt,ge);var Le=ge.keys;for(re=0;re<Le.length;re++)X.writeStringField(3,Le[re]);var je=ge.values;for(re=0;re<je.length;re++)X.writeMessage(4,vt,je[re])}function gt(fe,X){var re=fe.feature;re.id!==void 0&&X.writeVarintField(1,re.id),X.writeMessage(2,mt,fe),X.writeVarintField(3,re.type),X.writeMessage(4,dt,re)}function mt(fe,X){var re=fe.feature,ge=fe.keys,Le=fe.values,je=fe.keycache,rt=fe.valuecache;for(var Je in re.properties){var Ue=re.properties[Je],et=je[Je];if(Ue!==null){et===void 0&&(ge.push(Je),je[Je]=et=ge.length-1),X.writeVarint(et);var Rt=typeof Ue;Rt!=="string"&&Rt!=="boolean"&&Rt!=="number"&&(Ue=JSON.stringify(Ue));var hr=Rt+":"+Ue,Gt=rt[hr];Gt===void 0&&(Le.push(Ue),rt[hr]=Gt=Le.length-1),X.writeVarint(Gt)}}}function Lt(fe,X){return(X<<3)+(7&fe)}function ot(fe){return fe<<1^fe>>31}function dt(fe,X){for(var re=fe.loadGeometry(),ge=fe.type,Le=0,je=0,rt=re.length,Je=0;Je<rt;Je++){var Ue=re[Je],et=1;ge===1&&(et=Ue.length),X.writeVarint(Lt(1,et));for(var Rt=ge===3?Ue.length-1:Ue.length,hr=0;hr<Rt;hr++){hr===1&&ge!==1&&X.writeVarint(Lt(2,Rt-1));var Gt=Ue[hr].x-Le,Yr=Ue[hr].y-je;X.writeVarint(ot(Gt)),X.writeVarint(ot(Yr)),Le+=Gt,je+=Yr}ge===3&&X.writeVarint(Lt(7,1))}}function vt(fe,X){var re=typeof fe;re==="string"?X.writeStringField(1,fe):re==="boolean"?X.writeBooleanField(7,fe):re==="number"&&(fe%1!=0?X.writeDoubleField(3,fe):fe<0?X.writeSVarintField(6,fe):X.writeVarintField(5,fe))}function nr(fe,X,re,ge,Le,je){if(Le-ge<=re)return;const rt=ge+Le>>1;Sr(fe,X,rt,ge,Le,je%2),nr(fe,X,re,ge,rt-1,je+1),nr(fe,X,re,rt+1,Le,je+1)}function Sr(fe,X,re,ge,Le,je){for(;Le>ge;){if(Le-ge>600){const et=Le-ge+1,Rt=re-ge+1,hr=Math.log(et),Gt=.5*Math.exp(2*hr/3),Yr=.5*Math.sqrt(hr*Gt*(et-Gt)/et)*(Rt-et/2<0?-1:1);Sr(fe,X,re,Math.max(ge,Math.floor(re-Rt*Gt/et+Yr)),Math.min(Le,Math.floor(re+(et-Rt)*Gt/et+Yr)),je)}const rt=X[2*re+je];let Je=ge,Ue=Le;for(pr(fe,X,ge,re),X[2*Le+je]>rt&&pr(fe,X,ge,Le);Je<Ue;){for(pr(fe,X,Je,Ue),Je++,Ue--;X[2*Je+je]<rt;)Je++;for(;X[2*Ue+je]>rt;)Ue--}X[2*ge+je]===rt?pr(fe,X,ge,Ue):(Ue++,pr(fe,X,Ue,Le)),Ue<=re&&(ge=Ue+1),re<=Ue&&(Le=Ue-1)}}function pr(fe,X,re,ge){Er(fe,re,ge),Er(X,2*re,2*ge),Er(X,2*re+1,2*ge+1)}function Er(fe,X,re){const ge=fe[X];fe[X]=fe[re],fe[re]=ge}function pn(fe,X,re,ge){const Le=fe-re,je=X-ge;return Le*Le+je*je}se.exports=ut,se.exports.fromVectorTileJs=ut,se.exports.fromGeojsonVt=function(fe,X){X=X||{};var re={};for(var ge in fe)re[ge]=new Re(fe[ge].features,X),re[ge].name=ge,re[ge].version=X.version,re[ge].extent=X.extent;return ut({layers:re})},se.exports.GeoJSONWrapper=Re;const qr=fe=>fe[0],Gr=fe=>fe[1];class Nr{constructor(X,re=qr,ge=Gr,Le=64,je=Float64Array){this.nodeSize=Le,this.points=X;const rt=X.length<65536?Uint16Array:Uint32Array,Je=this.ids=new rt(X.length),Ue=this.coords=new je(2*X.length);for(let et=0;et<X.length;et++)Je[et]=et,Ue[2*et]=re(X[et]),Ue[2*et+1]=ge(X[et]);nr(Je,Ue,Le,0,Je.length-1,0)}range(X,re,ge,Le){return(function(je,rt,Je,Ue,et,Rt,hr){const Gt=[0,je.length-1,0],Yr=[];let Or,Cr;for(;Gt.length;){const Kr=Gt.pop(),bn=Gt.pop(),Bn=Gt.pop();if(bn-Bn<=hr){for(let hi=Bn;hi<=bn;hi++)Or=rt[2*hi],Cr=rt[2*hi+1],Or>=Je&&Or<=et&&Cr>=Ue&&Cr<=Rt&&Yr.push(je[hi]);continue}const $r=Math.floor((Bn+bn)/2);Or=rt[2*$r],Cr=rt[2*$r+1],Or>=Je&&Or<=et&&Cr>=Ue&&Cr<=Rt&&Yr.push(je[$r]);const ei=(Kr+1)%2;(Kr===0?Je<=Or:Ue<=Cr)&&(Gt.push(Bn),Gt.push($r-1),Gt.push(ei)),(Kr===0?et>=Or:Rt>=Cr)&&(Gt.push($r+1),Gt.push(bn),Gt.push(ei))}return Yr})(this.ids,this.coords,X,re,ge,Le,this.nodeSize)}within(X,re,ge){return(function(Le,je,rt,Je,Ue,et){const Rt=[0,Le.length-1,0],hr=[],Gt=Ue*Ue;for(;Rt.length;){const Yr=Rt.pop(),Or=Rt.pop(),Cr=Rt.pop();if(Or-Cr<=et){for(let ei=Cr;ei<=Or;ei++)pn(je[2*ei],je[2*ei+1],rt,Je)<=Gt&&hr.push(Le[ei]);continue}const Kr=Math.floor((Cr+Or)/2),bn=je[2*Kr],Bn=je[2*Kr+1];pn(bn,Bn,rt,Je)<=Gt&&hr.push(Le[Kr]);const $r=(Yr+1)%2;(Yr===0?rt-Ue<=bn:Je-Ue<=Bn)&&(Rt.push(Cr),Rt.push(Kr-1),Rt.push($r)),(Yr===0?rt+Ue>=bn:Je+Ue>=Bn)&&(Rt.push(Kr+1),Rt.push(Or),Rt.push($r))}return hr})(this.ids,this.coords,X,re,ge,this.nodeSize)}}const xt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:fe=>fe},qt=Math.fround||(It=new Float32Array(1),fe=>(It[0]=+fe,It[0]));var It;class Nt{constructor(X){this.options=sr(Object.create(xt),X),this.trees=new Array(this.options.maxZoom+1)}load(X){const{log:re,minZoom:ge,maxZoom:Le,nodeSize:je}=this.options;re&&console.time("total time");const rt=`prepare ${X.length} points`;re&&console.time(rt),this.points=X;let Je=[];for(let Ue=0;Ue<X.length;Ue++)X[Ue].geometry&&Je.push(Se(X[Ue],Ue));this.trees[Le+1]=new Nr(Je,mr,ar,je,Float32Array),re&&console.timeEnd(rt);for(let Ue=Le;Ue>=ge;Ue--){const et=+Date.now();Je=this._cluster(Je,Ue),this.trees[Ue]=new Nr(Je,mr,ar,je,Float32Array),re&&console.log("z%d: %d clusters in %dms",Ue,Je.length,+Date.now()-et)}return re&&console.timeEnd("total time"),this}getClusters(X,re){let ge=((X[0]+180)%360+360)%360-180;const Le=Math.max(-90,Math.min(90,X[1]));let je=X[2]===180?180:((X[2]+180)%360+360)%360-180;const rt=Math.max(-90,Math.min(90,X[3]));if(X[2]-X[0]>=360)ge=-180,je=180;else if(ge>je){const Rt=this.getClusters([ge,Le,180,rt],re),hr=this.getClusters([-180,Le,je,rt],re);return Rt.concat(hr)}const Je=this.trees[this._limitZoom(re)],Ue=Je.range(at(ge),Dt(rt),at(je),Dt(Le)),et=[];for(const Rt of Ue){const hr=Je.points[Rt];et.push(hr.numPoints?Ce(hr):this.points[hr.index])}return et}getChildren(X){const re=this._getOriginId(X),ge=this._getOriginZoom(X),Le="No cluster with the specified id.",je=this.trees[ge];if(!je)throw new Error(Le);const rt=je.points[re];if(!rt)throw new Error(Le);const Je=this.options.radius/(this.options.extent*Math.pow(2,ge-1)),Ue=je.within(rt.x,rt.y,Je),et=[];for(const Rt of Ue){const hr=je.points[Rt];hr.parentId===X&&et.push(hr.numPoints?Ce(hr):this.points[hr.index])}if(et.length===0)throw new Error(Le);return et}getLeaves(X,re,ge){const Le=[];return this._appendLeaves(Le,X,re=re||10,ge=ge||0,0),Le}getTile(X,re,ge){const Le=this.trees[this._limitZoom(X)],je=Math.pow(2,X),{extent:rt,radius:Je}=this.options,Ue=Je/rt,et=(ge-Ue)/je,Rt=(ge+1+Ue)/je,hr={features:[]};return this._addTileFeatures(Le.range((re-Ue)/je,et,(re+1+Ue)/je,Rt),Le.points,re,ge,je,hr),re===0&&this._addTileFeatures(Le.range(1-Ue/je,et,1,Rt),Le.points,je,ge,je,hr),re===je-1&&this._addTileFeatures(Le.range(0,et,Ue/je,Rt),Le.points,-1,ge,je,hr),hr.features.length?hr:null}getClusterExpansionZoom(X){let re=this._getOriginZoom(X)-1;for(;re<=this.options.maxZoom;){const ge=this.getChildren(X);if(re++,ge.length!==1)break;X=ge[0].properties.cluster_id}return re}_appendLeaves(X,re,ge,Le,je){const rt=this.getChildren(re);for(const Je of rt){const Ue=Je.properties;if(Ue&&Ue.cluster?je+Ue.point_count<=Le?je+=Ue.point_count:je=this._appendLeaves(X,Ue.cluster_id,ge,Le,je):je<Le?je++:X.push(Je),X.length===ge)break}return je}_addTileFeatures(X,re,ge,Le,je,rt){for(const Je of X){const Ue=re[Je],et=Ue.numPoints;let Rt,hr,Gt;if(et)Rt=He(Ue),hr=Ue.x,Gt=Ue.y;else{const Cr=this.points[Ue.index];Rt=Cr.properties,hr=at(Cr.geometry.coordinates[0]),Gt=Dt(Cr.geometry.coordinates[1])}const Yr={type:1,geometry:[[Math.round(this.options.extent*(hr*je-ge)),Math.round(this.options.extent*(Gt*je-Le))]],tags:Rt};let Or;et?Or=Ue.id:this.options.generateId?Or=Ue.index:this.points[Ue.index].id&&(Or=this.points[Ue.index].id),Or!==void 0&&(Yr.id=Or),rt.features.push(Yr)}}_limitZoom(X){return Math.max(this.options.minZoom,Math.min(Math.floor(+X),this.options.maxZoom+1))}_cluster(X,re){const ge=[],{radius:Le,extent:je,reduce:rt,minPoints:Je}=this.options,Ue=Le/(je*Math.pow(2,re));for(let et=0;et<X.length;et++){const Rt=X[et];if(Rt.zoom<=re)continue;Rt.zoom=re;const hr=this.trees[re+1],Gt=hr.within(Rt.x,Rt.y,Ue),Yr=Rt.numPoints||1;let Or=Yr;for(const Cr of Gt){const Kr=hr.points[Cr];Kr.zoom>re&&(Or+=Kr.numPoints||1)}if(Or>Yr&&Or>=Je){let Cr=Rt.x*Yr,Kr=Rt.y*Yr,bn=rt&&Yr>1?this._map(Rt,!0):null;const Bn=(et<<5)+(re+1)+this.points.length;for(const $r of Gt){const ei=hr.points[$r];if(ei.zoom<=re)continue;ei.zoom=re;const hi=ei.numPoints||1;Cr+=ei.x*hi,Kr+=ei.y*hi,ei.parentId=Bn,rt&&(bn||(bn=this._map(Rt,!0)),rt(bn,this._map(ei)))}Rt.parentId=Bn,ge.push(_r(Cr/Or,Kr/Or,Bn,Or,bn))}else if(ge.push(Rt),Or>1)for(const Cr of Gt){const Kr=hr.points[Cr];Kr.zoom<=re||(Kr.zoom=re,ge.push(Kr))}}return ge}_getOriginId(X){return X-this.points.length>>5}_getOriginZoom(X){return(X-this.points.length)%32}_map(X,re){if(X.numPoints)return re?sr({},X.properties):X.properties;const ge=this.points[X.index].properties,Le=this.options.map(ge);return re&&Le===ge?sr({},Le):Le}}function _r(fe,X,re,ge,Le){return{x:qt(fe),y:qt(X),zoom:1/0,id:re,parentId:-1,numPoints:ge,properties:Le}}function Se(fe,X){const[re,ge]=fe.geometry.coordinates;return{x:qt(at(re)),y:qt(Dt(ge)),zoom:1/0,index:X,parentId:-1}}function Ce(fe){return{type:"Feature",id:fe.id,properties:He(fe),geometry:{type:"Point",coordinates:[(X=fe.x,360*(X-.5)),At(fe.y)]}};var X}function He(fe){const X=fe.numPoints,re=X>=1e4?`${Math.round(X/1e3)}k`:X>=1e3?Math.round(X/100)/10+"k":X;return sr(sr({},fe.properties),{cluster:!0,cluster_id:fe.id,point_count:X,point_count_abbreviated:re})}function at(fe){return fe/360+.5}function Dt(fe){const X=Math.sin(fe*Math.PI/180),re=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return re<0?0:re>1?1:re}function At(fe){const X=(180-360*fe)*Math.PI/180;return 360*Math.atan(Math.exp(X))/Math.PI-90}function sr(fe,X){for(const re in X)fe[re]=X[re];return fe}function mr(fe){return fe.x}function ar(fe){return fe.y}function Ut(fe,X,re,ge){for(var Le,je=ge,rt=re-X>>1,Je=re-X,Ue=fe[X],et=fe[X+1],Rt=fe[re],hr=fe[re+1],Gt=X+3;Gt<re;Gt+=3){var Yr=jr(fe[Gt],fe[Gt+1],Ue,et,Rt,hr);if(Yr>je)Le=Gt,je=Yr;else if(Yr===je){var Or=Math.abs(Gt-rt);Or<Je&&(Le=Gt,Je=Or)}}je>ge&&(Le-X>3&&Ut(fe,X,Le,ge),fe[Le+2]=je,re-Le>3&&Ut(fe,Le,re,ge))}function jr(fe,X,re,ge,Le,je){var rt=Le-re,Je=je-ge;if(rt!==0||Je!==0){var Ue=((fe-re)*rt+(X-ge)*Je)/(rt*rt+Je*Je);Ue>1?(re=Le,ge=je):Ue>0&&(re+=rt*Ue,ge+=Je*Ue)}return(rt=fe-re)*rt+(Je=X-ge)*Je}function lr(fe,X,re,ge){var Le={id:fe===void 0?null:fe,type:X,geometry:re,tags:ge,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return(function(je){var rt=je.geometry,Je=je.type;if(Je==="Point"||Je==="MultiPoint"||Je==="LineString")Ir(je,rt);else if(Je==="Polygon"||Je==="MultiLineString")for(var Ue=0;Ue<rt.length;Ue++)Ir(je,rt[Ue]);else if(Je==="MultiPolygon")for(Ue=0;Ue<rt.length;Ue++)for(var et=0;et<rt[Ue].length;et++)Ir(je,rt[Ue][et])})(Le),Le}function Ir(fe,X){for(var re=0;re<X.length;re+=3)fe.minX=Math.min(fe.minX,X[re]),fe.minY=Math.min(fe.minY,X[re+1]),fe.maxX=Math.max(fe.maxX,X[re]),fe.maxY=Math.max(fe.maxY,X[re+1])}function zr(fe,X,re,ge){if(X.geometry){var Le=X.geometry.coordinates,je=X.geometry.type,rt=Math.pow(re.tolerance/((1<<re.maxZoom)*re.extent),2),Je=[],Ue=X.id;if(re.promoteId?Ue=X.properties[re.promoteId]:re.generateId&&(Ue=ge||0),je==="Point")tt(Le,Je);else if(je==="MultiPoint")for(var et=0;et<Le.length;et++)tt(Le[et],Je);else if(je==="LineString")vr(Le,Je,rt,!1);else if(je==="MultiLineString"){if(re.lineMetrics){for(et=0;et<Le.length;et++)vr(Le[et],Je=[],rt,!1),fe.push(lr(Ue,"LineString",Je,X.properties));return}rn(Le,Je,rt,!1)}else if(je==="Polygon")rn(Le,Je,rt,!0);else{if(je!=="MultiPolygon"){if(je==="GeometryCollection"){for(et=0;et<X.geometry.geometries.length;et++)zr(fe,{id:Ue,geometry:X.geometry.geometries[et],properties:X.properties},re,ge);return}throw new Error("Input data is not a valid GeoJSON object.")}for(et=0;et<Le.length;et++){var Rt=[];rn(Le[et],Rt,rt,!0),Je.push(Rt)}}fe.push(lr(Ue,je,Je,X.properties))}}function tt(fe,X){X.push(Qn(fe[0])),X.push(ae(fe[1])),X.push(0)}function vr(fe,X,re,ge){for(var Le,je,rt=0,Je=0;Je<fe.length;Je++){var Ue=Qn(fe[Je][0]),et=ae(fe[Je][1]);X.push(Ue),X.push(et),X.push(0),Je>0&&(rt+=ge?(Le*et-Ue*je)/2:Math.sqrt(Math.pow(Ue-Le,2)+Math.pow(et-je,2))),Le=Ue,je=et}var Rt=X.length-3;X[2]=1,Ut(X,0,Rt,re),X[Rt+2]=1,X.size=Math.abs(rt),X.start=0,X.end=X.size}function rn(fe,X,re,ge){for(var Le=0;Le<fe.length;Le++){var je=[];vr(fe[Le],je,re,ge),X.push(je)}}function Qn(fe){return fe/360+.5}function ae(fe){var X=Math.sin(fe*Math.PI/180),re=.5-.25*Math.log((1+X)/(1-X))/Math.PI;return re<0?0:re>1?1:re}function $(fe,X,re,ge,Le,je,rt,Je){if(ge/=X,je>=(re/=X)&&rt<ge)return fe;if(rt<re||je>=ge)return null;for(var Ue=[],et=0;et<fe.length;et++){var Rt=fe[et],hr=Rt.geometry,Gt=Rt.type,Yr=Le===0?Rt.minX:Rt.minY,Or=Le===0?Rt.maxX:Rt.maxY;if(Yr>=re&&Or<ge)Ue.push(Rt);else if(!(Or<re||Yr>=ge)){var Cr=[];if(Gt==="Point"||Gt==="MultiPoint")q(hr,Cr,re,ge,Le);else if(Gt==="LineString")Te(hr,Cr,re,ge,Le,!1,Je.lineMetrics);else if(Gt==="MultiLineString")ht(hr,Cr,re,ge,Le,!1);else if(Gt==="Polygon")ht(hr,Cr,re,ge,Le,!0);else if(Gt==="MultiPolygon")for(var Kr=0;Kr<hr.length;Kr++){var bn=[];ht(hr[Kr],bn,re,ge,Le,!0),bn.length&&Cr.push(bn)}if(Cr.length){if(Je.lineMetrics&&Gt==="LineString"){for(Kr=0;Kr<Cr.length;Kr++)Ue.push(lr(Rt.id,Gt,Cr[Kr],Rt.tags));continue}Gt!=="LineString"&&Gt!=="MultiLineString"||(Cr.length===1?(Gt="LineString",Cr=Cr[0]):Gt="MultiLineString"),Gt!=="Point"&&Gt!=="MultiPoint"||(Gt=Cr.length===3?"Point":"MultiPoint"),Ue.push(lr(Rt.id,Gt,Cr,Rt.tags))}}}return Ue.length?Ue:null}function q(fe,X,re,ge,Le){for(var je=0;je<fe.length;je+=3){var rt=fe[je+Le];rt>=re&&rt<=ge&&(X.push(fe[je]),X.push(fe[je+1]),X.push(fe[je+2]))}}function Te(fe,X,re,ge,Le,je,rt){for(var Je,Ue,et=Ze(fe),Rt=Le===0?Qe:Wr,hr=fe.start,Gt=0;Gt<fe.length-3;Gt+=3){var Yr=fe[Gt],Or=fe[Gt+1],Cr=fe[Gt+2],Kr=fe[Gt+3],bn=fe[Gt+4],Bn=Le===0?Yr:Or,$r=Le===0?Kr:bn,ei=!1;rt&&(Je=Math.sqrt(Math.pow(Yr-Kr,2)+Math.pow(Or-bn,2))),Bn<re?$r>re&&(Ue=Rt(et,Yr,Or,Kr,bn,re),rt&&(et.start=hr+Je*Ue)):Bn>ge?$r<ge&&(Ue=Rt(et,Yr,Or,Kr,bn,ge),rt&&(et.start=hr+Je*Ue)):ke(et,Yr,Or,Cr),$r<re&&Bn>=re&&(Ue=Rt(et,Yr,Or,Kr,bn,re),ei=!0),$r>ge&&Bn<=ge&&(Ue=Rt(et,Yr,Or,Kr,bn,ge),ei=!0),!je&&ei&&(rt&&(et.end=hr+Je*Ue),X.push(et),et=Ze(fe)),rt&&(hr+=Je)}var hi=fe.length-3;Yr=fe[hi],Or=fe[hi+1],Cr=fe[hi+2],(Bn=Le===0?Yr:Or)>=re&&Bn<=ge&&ke(et,Yr,Or,Cr),hi=et.length-3,je&&hi>=3&&(et[hi]!==et[0]||et[hi+1]!==et[1])&&ke(et,et[0],et[1],et[2]),et.length&&X.push(et)}function Ze(fe){var X=[];return X.size=fe.size,X.start=fe.start,X.end=fe.end,X}function ht(fe,X,re,ge,Le,je){for(var rt=0;rt<fe.length;rt++)Te(fe[rt],X,re,ge,Le,je,!1)}function ke(fe,X,re,ge){fe.push(X),fe.push(re),fe.push(ge)}function Qe(fe,X,re,ge,Le,je){var rt=(je-X)/(ge-X);return fe.push(je),fe.push(re+(Le-re)*rt),fe.push(1),rt}function Wr(fe,X,re,ge,Le,je){var rt=(je-re)/(Le-re);return fe.push(X+(ge-X)*rt),fe.push(je),fe.push(1),rt}function Xr(fe,X){for(var re=[],ge=0;ge<fe.length;ge++){var Le,je=fe[ge],rt=je.type;if(rt==="Point"||rt==="MultiPoint"||rt==="LineString")Le=nn(je.geometry,X);else if(rt==="MultiLineString"||rt==="Polygon"){Le=[];for(var Je=0;Je<je.geometry.length;Je++)Le.push(nn(je.geometry[Je],X))}else if(rt==="MultiPolygon")for(Le=[],Je=0;Je<je.geometry.length;Je++){for(var Ue=[],et=0;et<je.geometry[Je].length;et++)Ue.push(nn(je.geometry[Je][et],X));Le.push(Ue)}re.push(lr(je.id,rt,Le,je.tags))}return re}function nn(fe,X){var re=[];re.size=fe.size,fe.start!==void 0&&(re.start=fe.start,re.end=fe.end);for(var ge=0;ge<fe.length;ge+=3)re.push(fe[ge]+X,fe[ge+1],fe[ge+2]);return re}function Ar(fe,X){if(fe.transformed)return fe;var re,ge,Le,je=1<<fe.z,rt=fe.x,Je=fe.y;for(re=0;re<fe.features.length;re++){var Ue=fe.features[re],et=Ue.geometry,Rt=Ue.type;if(Ue.geometry=[],Rt===1)for(ge=0;ge<et.length;ge+=2)Ue.geometry.push(ki(et[ge],et[ge+1],X,je,rt,Je));else for(ge=0;ge<et.length;ge++){var hr=[];for(Le=0;Le<et[ge].length;Le+=2)hr.push(ki(et[ge][Le],et[ge][Le+1],X,je,rt,Je));Ue.geometry.push(hr)}}return fe.transformed=!0,fe}function ki(fe,X,re,ge,Le,je){return[Math.round(re*(fe*ge-Le)),Math.round(re*(X*ge-je))]}function ro(fe,X,re,ge,Le){for(var je=X===Le.maxZoom?0:Le.tolerance/((1<<X)*Le.extent),rt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:re,y:ge,z:X,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Je=0;Je<fe.length;Je++){rt.numFeatures++,Yi(rt,fe[Je],je,Le);var Ue=fe[Je].minX,et=fe[Je].minY,Rt=fe[Je].maxX,hr=fe[Je].maxY;Ue<rt.minX&&(rt.minX=Ue),et<rt.minY&&(rt.minY=et),Rt>rt.maxX&&(rt.maxX=Rt),hr>rt.maxY&&(rt.maxY=hr)}return rt}function Yi(fe,X,re,ge){var Le=X.geometry,je=X.type,rt=[];if(je==="Point"||je==="MultiPoint")for(var Je=0;Je<Le.length;Je+=3)rt.push(Le[Je]),rt.push(Le[Je+1]),fe.numPoints++,fe.numSimplified++;else if(je==="LineString")jt(rt,Le,fe,re,!1,!1);else if(je==="MultiLineString"||je==="Polygon")for(Je=0;Je<Le.length;Je++)jt(rt,Le[Je],fe,re,je==="Polygon",Je===0);else if(je==="MultiPolygon")for(var Ue=0;Ue<Le.length;Ue++){var et=Le[Ue];for(Je=0;Je<et.length;Je++)jt(rt,et[Je],fe,re,!0,Je===0)}if(rt.length){var Rt=X.tags||null;if(je==="LineString"&&ge.lineMetrics){for(var hr in Rt={},X.tags)Rt[hr]=X.tags[hr];Rt.mapbox_clip_start=Le.start/Le.size,Rt.mapbox_clip_end=Le.end/Le.size}var Gt={geometry:rt,type:je==="Polygon"||je==="MultiPolygon"?3:je==="LineString"||je==="MultiLineString"?2:1,tags:Rt};X.id!==null&&(Gt.id=X.id),fe.features.push(Gt)}}function jt(fe,X,re,ge,Le,je){var rt=ge*ge;if(ge>0&&X.size<(Le?rt:ge))re.numPoints+=X.length/3;else{for(var Je=[],Ue=0;Ue<X.length;Ue+=3)(ge===0||X[Ue+2]>rt)&&(re.numSimplified++,Je.push(X[Ue]),Je.push(X[Ue+1])),re.numPoints++;Le&&(function(et,Rt){for(var hr=0,Gt=0,Yr=et.length,Or=Yr-2;Gt<Yr;Or=Gt,Gt+=2)hr+=(et[Gt]-et[Or])*(et[Gt+1]+et[Or+1]);if(hr>0===Rt)for(Gt=0,Yr=et.length;Gt<Yr/2;Gt+=2){var Cr=et[Gt],Kr=et[Gt+1];et[Gt]=et[Yr-2-Gt],et[Gt+1]=et[Yr-1-Gt],et[Yr-2-Gt]=Cr,et[Yr-1-Gt]=Kr}})(Je,je),fe.push(Je)}}function ur(fe,X){var re=(X=this.options=(function(Le,je){for(var rt in je)Le[rt]=je[rt];return Le})(Object.create(this.options),X)).debug;if(re&&console.time("preprocess data"),X.maxZoom<0||X.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(X.promoteId&&X.generateId)throw new Error("promoteId and generateId cannot be used together.");var ge=(function(Le,je){var rt=[];if(Le.type==="FeatureCollection")for(var Je=0;Je<Le.features.length;Je++)zr(rt,Le.features[Je],je,Je);else zr(rt,Le.type==="Feature"?Le:{geometry:Le},je);return rt})(fe,X);this.tiles={},this.tileCoords=[],re&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",X.indexMaxZoom,X.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ge=(function(Le,je){var rt=je.buffer/je.extent,Je=Le,Ue=$(Le,1,-1-rt,rt,0,-1,2,je),et=$(Le,1,1-rt,2+rt,0,-1,2,je);return(Ue||et)&&(Je=$(Le,1,-rt,1+rt,0,-1,2,je)||[],Ue&&(Je=Xr(Ue,1).concat(Je)),et&&(Je=Je.concat(Xr(et,-1)))),Je})(ge,X),ge.length&&this.splitTile(ge,0,0,0),re&&(ge.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Lr(fe,X,re){return 32*((1<<fe)*re+X)+fe}function wr(fe,X){const re=fe.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const ge=this._geoJSONIndex.getTile(re.z,re.x,re.y);if(!ge)return X(null,null);const Le=new te(ge.features);let je=se.exports(Le);je.byteOffset===0&&je.byteLength===je.buffer.byteLength||(je=new Uint8Array(je)),X(null,{vectorTile:Le,rawData:je.buffer})}ur.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ur.prototype.splitTile=function(fe,X,re,ge,Le,je,rt){for(var Je=[fe,X,re,ge],Ue=this.options,et=Ue.debug;Je.length;){ge=Je.pop(),re=Je.pop(),X=Je.pop(),fe=Je.pop();var Rt=1<<X,hr=Lr(X,re,ge),Gt=this.tiles[hr];if(!Gt&&(et>1&&console.time("creation"),Gt=this.tiles[hr]=ro(fe,X,re,ge,Ue),this.tileCoords.push({z:X,x:re,y:ge}),et)){et>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",X,re,ge,Gt.numFeatures,Gt.numPoints,Gt.numSimplified),console.timeEnd("creation"));var Yr="z"+X;this.stats[Yr]=(this.stats[Yr]||0)+1,this.total++}if(Gt.source=fe,Le){if(X===Ue.maxZoom||X===Le)continue;var Or=1<<Le-X;if(re!==Math.floor(je/Or)||ge!==Math.floor(rt/Or))continue}else if(X===Ue.indexMaxZoom||Gt.numPoints<=Ue.indexMaxPoints)continue;if(Gt.source=null,fe.length!==0){et>1&&console.time("clipping");var Cr,Kr,bn,Bn,$r,ei,hi=.5*Ue.buffer/Ue.extent,Vo=.5-hi,no=.5+hi,bo=1+hi;Cr=Kr=bn=Bn=null,$r=$(fe,Rt,re-hi,re+no,0,Gt.minX,Gt.maxX,Ue),ei=$(fe,Rt,re+Vo,re+bo,0,Gt.minX,Gt.maxX,Ue),fe=null,$r&&(Cr=$($r,Rt,ge-hi,ge+no,1,Gt.minY,Gt.maxY,Ue),Kr=$($r,Rt,ge+Vo,ge+bo,1,Gt.minY,Gt.maxY,Ue),$r=null),ei&&(bn=$(ei,Rt,ge-hi,ge+no,1,Gt.minY,Gt.maxY,Ue),Bn=$(ei,Rt,ge+Vo,ge+bo,1,Gt.minY,Gt.maxY,Ue),ei=null),et>1&&console.timeEnd("clipping"),Je.push(Cr||[],X+1,2*re,2*ge),Je.push(Kr||[],X+1,2*re,2*ge+1),Je.push(bn||[],X+1,2*re+1,2*ge),Je.push(Bn||[],X+1,2*re+1,2*ge+1)}}},ur.prototype.getTile=function(fe,X,re){var ge=this.options,Le=ge.extent,je=ge.debug;if(fe<0||fe>24)return null;var rt=1<<fe,Je=Lr(fe,X=(X%rt+rt)%rt,re);if(this.tiles[Je])return Ar(this.tiles[Je],Le);je>1&&console.log("drilling down to z%d-%d-%d",fe,X,re);for(var Ue,et=fe,Rt=X,hr=re;!Ue&&et>0;)et--,Rt=Math.floor(Rt/2),hr=Math.floor(hr/2),Ue=this.tiles[Lr(et,Rt,hr)];return Ue&&Ue.source?(je>1&&console.log("found parent tile z%d-%d-%d",et,Rt,hr),je>1&&console.time("drilling down"),this.splitTile(Ue.source,et,Rt,hr,fe,X,re),je>1&&console.timeEnd("drilling down"),this.tiles[Je]?Ar(this.tiles[Je],Le):null):null};class Jr extends s.VectorTileWorkerSource{constructor(X,re,ge,Le,je){super(X,re,ge,Le,wr),je&&(this.loadGeoJSON=je)}loadData(X,re){const ge=X&&X.request,Le=ge&&ge.collectResourceTiming;this.loadGeoJSON(X,((je,rt)=>{if(je||!rt)return re(je);if(typeof rt!="object")return re(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));{C(rt,!0);try{if(X.filter){const Ue=s.createExpression(X.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ue.result==="error")throw new Error(Ue.value.map((Rt=>`${Rt.key}: ${Rt.message}`)).join(", "));rt={type:"FeatureCollection",features:rt.features.filter((Rt=>Ue.value.evaluate({zoom:0},Rt)))}}this._geoJSONIndex=X.cluster?new Nt((function({superclusterOptions:Ue,clusterProperties:et}){if(!et||!Ue)return Ue;const Rt={},hr={},Gt={accumulated:null,zoom:0},Yr={properties:null},Or=Object.keys(et);for(const Cr of Or){const[Kr,bn]=et[Cr],Bn=s.createExpression(bn),$r=s.createExpression(typeof Kr=="string"?[Kr,["accumulated"],["get",Cr]]:Kr);Rt[Cr]=Bn.value,hr[Cr]=$r.value}return Ue.map=Cr=>{Yr.properties=Cr;const Kr={};for(const bn of Or)Kr[bn]=Rt[bn].evaluate(Gt,Yr);return Kr},Ue.reduce=(Cr,Kr)=>{Yr.properties=Kr;for(const bn of Or)Gt.accumulated=Cr[bn],Cr[bn]=hr[bn].evaluate(Gt,Yr)},Ue})(X)).load(rt.features):(function(Ue,et){return new ur(Ue,et)})(rt,X.geojsonVtOptions)}catch(Ue){return re(Ue)}this.loaded={};const Je={};if(Le){const Ue=s.getPerformanceMeasurement(ge);Ue&&(Je.resourceTiming={},Je.resourceTiming[X.source]=JSON.parse(JSON.stringify(Ue)))}re(null,Je)}}))}reloadTile(X,re){const ge=this.loaded;return ge&&ge[X.uid]?super.reloadTile(X,re):this.loadTile(X,re)}loadGeoJSON(X,re){if(X.request)s.getJSON(X.request,re);else{if(typeof X.data!="string")return re(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`));try{return re(null,JSON.parse(X.data))}catch{return re(new Error(`Input data given to '${X.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(X,re){try{re(null,this._geoJSONIndex.getClusterExpansionZoom(X.clusterId))}catch(ge){re(ge)}}getClusterChildren(X,re){try{re(null,this._geoJSONIndex.getChildren(X.clusterId))}catch(ge){re(ge)}}getClusterLeaves(X,re){try{re(null,this._geoJSONIndex.getLeaves(X.clusterId,X.limit,X.offset))}catch(ge){re(ge)}}}class yn{constructor(X){this.self=X,this.actor=new s.Actor(X,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=s.getProjection({name:"mercator"}),this.workerSourceTypes={vector:s.VectorTileWorkerSource,geojson:Jr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(re,ge)=>{if(this.workerSourceTypes[re])throw new Error(`Worker source with name "${re}" already registered.`);this.workerSourceTypes[re]=ge},this.self.registerRTLTextPlugin=re=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=re.applyArabicShaping,s.plugin.processBidirectionalText=re.processBidirectionalText,s.plugin.processStyledBidirectionalText=re.processStyledBidirectionalText}}clearCaches(X,re,ge){delete this.layerIndexes[X],delete this.availableImages[X],delete this.workerSources[X],delete this.demWorkerSources[X],ge()}checkIfReady(X,re,ge){ge()}setReferrer(X,re){this.referrer=re}spriteLoaded(X,re){this.isSpriteLoaded[X]=re;for(const ge in this.workerSources[X]){const Le=this.workerSources[X][ge];for(const je in Le)Le[je]instanceof s.VectorTileWorkerSource&&(Le[je].isSpriteLoaded=re,Le[je].fire(new s.Event("isSpriteLoaded")))}}setImages(X,re,ge){this.availableImages[X]=re;for(const Le in this.workerSources[X]){const je=this.workerSources[X][Le];for(const rt in je)je[rt].availableImages=re}ge()}enableTerrain(X,re,ge){this.terrain=re,ge()}setProjection(X,re){this.projections[X]=s.getProjection(re)}setLayers(X,re,ge){this.getLayerIndex(X).replace(re),ge()}updateLayers(X,re,ge){this.getLayerIndex(X).update(re.layers,re.removedIds),ge()}loadTile(X,re,ge){const Le=this.enableTerrain?s.extend({enableTerrain:this.terrain},re):re;Le.projection=this.projections[X]||this.defaultProjection,this.getWorkerSource(X,re.type,re.source).loadTile(Le,ge)}loadDEMTile(X,re,ge){const Le=this.enableTerrain?s.extend({buildQuadTree:this.terrain},re):re;this.getDEMWorkerSource(X,re.source).loadTile(Le,ge)}reloadTile(X,re,ge){const Le=this.enableTerrain?s.extend({enableTerrain:this.terrain},re):re;Le.projection=this.projections[X]||this.defaultProjection,this.getWorkerSource(X,re.type,re.source).reloadTile(Le,ge)}abortTile(X,re,ge){this.getWorkerSource(X,re.type,re.source).abortTile(re,ge)}removeTile(X,re,ge){this.getWorkerSource(X,re.type,re.source).removeTile(re,ge)}removeSource(X,re,ge){if(!this.workerSources[X]||!this.workerSources[X][re.type]||!this.workerSources[X][re.type][re.source])return;const Le=this.workerSources[X][re.type][re.source];delete this.workerSources[X][re.type][re.source],Le.removeSource!==void 0?Le.removeSource(re,ge):ge()}loadWorkerSource(X,re,ge){try{this.self.importScripts(re.url),ge()}catch(Le){ge(Le.toString())}}syncRTLPluginState(X,re,ge){try{s.plugin.setState(re);const Le=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&Le!=null){this.self.importScripts(Le);const je=s.plugin.isParsed();ge(je?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Le}`),je)}}catch(Le){ge(Le.toString())}}getAvailableImages(X){let re=this.availableImages[X];return re||(re=[]),re}getLayerIndex(X){let re=this.layerIndexes[X];return re||(re=this.layerIndexes[X]=new R),re}getWorkerSource(X,re,ge){if(this.workerSources[X]||(this.workerSources[X]={}),this.workerSources[X][re]||(this.workerSources[X][re]={}),!this.workerSources[X][re][ge]){const Le={send:(je,rt,Je,Ue,et,Rt)=>{this.actor.send(je,rt,Je,X,et,Rt)},scheduler:this.actor.scheduler};this.workerSources[X][re][ge]=new this.workerSourceTypes[re](Le,this.getLayerIndex(X),this.getAvailableImages(X),this.isSpriteLoaded[X])}return this.workerSources[X][re][ge]}getDEMWorkerSource(X,re){return this.demWorkerSources[X]||(this.demWorkerSources[X]={}),this.demWorkerSources[X][re]||(this.demWorkerSources[X][re]=new F),this.demWorkerSources[X][re]}enforceCacheSizeLimit(X,re){s.enforceCacheSizeLimit(re)}getWorkerPerformanceMetrics(X,re,ge){ge(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new yn(self)),yn})),c(["./shared"],(function(s){function E(g,a){if(Array.isArray(g)){if(!Array.isArray(a)||g.length!==a.length)return!1;for(let d=0;d<g.length;d++)if(!E(g[d],a[d]))return!1;return!0}if(typeof g=="object"&&g!==null&&a!==null){if(typeof a!="object"||Object.keys(g).length!==Object.keys(a).length)return!1;for(const d in g)if(!E(g[d],a[d]))return!1;return!0}return g===a}var k=R;function R(g){return!(function(a){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?(function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var b,x,L=new Blob([""],{type:"text/javascript"}),D=URL.createObjectURL(L);try{x=new Worker(D),b=!0}catch{b=!1}return x&&x.terminate(),URL.revokeObjectURL(D),b})()?"Uint8ClampedArray"in window?ArrayBuffer.isView?(function(){var b=document.createElement("canvas");b.width=b.height=1;var x=b.getContext("2d");if(!x)return!1;var L=x.getImageData(0,0,1,1);return L&&L.width===b.width})()?(F[d=a&&a.failIfMajorPerformanceCaveat]===void 0&&(F[d]=(function(b){var x,L=(function(D){var P=document.createElement("canvas"),z=Object.create(R.webGLContextAttributes);return z.failIfMajorPerformanceCaveat=D,P.getContext("webgl",z)||P.getContext("experimental-webgl",z)})(b);if(!L)return!1;try{x=L.createShader(L.VERTEX_SHADER)}catch{return!1}return!(!x||L.isContextLost())&&(L.shaderSource(x,"void main() {}"),L.compileShader(x),L.getShaderParameter(x,L.COMPILE_STATUS)===!0)})(d)),F[d]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var d})(g)}var F={};function C(g,a,d){const b=s.window.document.createElement(g);return a!==void 0&&(b.className=a),d&&d.appendChild(b),b}function B(g,a,d){const b=s.window.document.createElementNS("http://www.w3.org/2000/svg",g);for(const x of Object.keys(a))b.setAttributeNS(null,x,a[x]);return d&&d.appendChild(b),b}R.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const G=s.window.document&&s.window.document.documentElement.style,Z=G&&G.userSelect!==void 0?"userSelect":"WebkitUserSelect";let K;function te(){G&&Z&&(K=G[Z],G[Z]="none")}function se(){G&&Z&&(G[Z]=K)}function _e(g){g.preventDefault(),g.stopPropagation(),s.window.removeEventListener("click",_e,!0)}function Me(){s.window.addEventListener("click",_e,!0),s.window.setTimeout((()=>{s.window.removeEventListener("click",_e,!0)}),0)}function he(g,a){const d=g.getBoundingClientRect();return Ne(g,d,a)}function Ge(g,a){const d=g.getBoundingClientRect(),b=[];for(let x=0;x<a.length;x++)b.push(Ne(g,d,a[x]));return b}function st(g){return s.window.InstallTrigger!==void 0&&g.button===2&&g.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:g.button}function Ne(g,a,d){const b=g.offsetWidth===a.width?1:g.offsetWidth/a.width;return new s.pointGeometry((d.clientX-a.left)*b,(d.clientY-a.top)*b)}function Re(g,a){var d=a[0],b=a[1],x=a[2],L=a[3],D=d*L-x*b;return D?(g[0]=L*(D=1/D),g[1]=-b*D,g[2]=-x*D,g[3]=d*D,g):null}function ut(g){const{userImage:a}=g;return!!(a&&a.render&&a.render())&&(g.data.replace(new Uint8Array(a.data.buffer)),!0)}class Ke extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:d,callback:b}of this.requestors)this._notify(d,b);this.requestors=[]}}hasImage(a){return!!this.getImage(a)}getImage(a){return this.images[a]}addImage(a,d){this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let b=!0;return this._validateStretch(d.stretchX,d.data&&d.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${a}" has invalid "stretchX" value`))),b=!1),this._validateStretch(d.stretchY,d.data&&d.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${a}" has invalid "stretchY" value`))),b=!1),this._validateContent(d.content,d)||(this.fire(new s.ErrorEvent(new Error(`Image "${a}" has invalid "content" value`))),b=!1),b}_validateStretch(a,d){if(!a)return!0;let b=0;for(const x of a){if(x[0]<b||x[1]<x[0]||d<x[1])return!1;b=x[1]}return!0}_validateContent(a,d){return!(a&&(a.length!==4||a[0]<0||d.data.width<a[0]||a[1]<0||d.data.height<a[1]||a[2]<0||d.data.width<a[2]||a[3]<0||d.data.height<a[3]||a[2]<a[0]||a[3]<a[1]))}updateImage(a,d){d.version=this.images[a].version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){const d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,d){let b=!0;if(!this.isLoaded())for(const x of a)this.images[x]||(b=!1);this.isLoaded()||b?this._notify(a,d):this.requestors.push({ids:a,callback:d})}_notify(a,d){const b={};for(const x of a){this.images[x]||this.fire(new s.Event("styleimagemissing",{id:x}));const L=this.images[x];L?b[x]={data:L.data.clone(),pixelRatio:L.pixelRatio,sdf:L.sdf,version:L.version,stretchX:L.stretchX,stretchY:L.stretchY,content:L.content,hasRenderCallback:!!(L.userImage&&L.userImage.render)}:s.warnOnce(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,b)}getPixelSize(){const{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){const d=this.patterns[a],b=this.getImage(a);if(!b)return null;if(d&&d.position.version===b.version)return d.position;if(d)d.position.version=b.version;else{const x={w:b.data.width+2,h:b.data.height+2,x:0,y:0},L=new s.ImagePosition(x,b);this.patterns[a]={bin:x,position:L}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const L in this.patterns)a.push(this.patterns[L].bin);const{w:d,h:b}=s.potpack(a),x=this.atlasImage;x.resize({width:d||1,height:b||1});for(const L in this.patterns){const{bin:D}=this.patterns[L],P=D.x+1,z=D.y+1,N=this.images[L].data,V=N.width,J=N.height;s.RGBAImage.copy(N,x,{x:0,y:0},{x:P,y:z},{width:V,height:J}),s.RGBAImage.copy(N,x,{x:0,y:J-1},{x:P,y:z-1},{width:V,height:1}),s.RGBAImage.copy(N,x,{x:0,y:0},{x:P,y:z+J},{width:V,height:1}),s.RGBAImage.copy(N,x,{x:V-1,y:0},{x:P-1,y:z},{width:1,height:J}),s.RGBAImage.copy(N,x,{x:0,y:0},{x:P+V,y:z},{width:1,height:J})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const b=this.images[d];ut(b)&&this.updateImage(d,b)}}}const gt=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(g,a){return(function([d,b,x]){const L=s.degToRad(b+90),D=s.degToRad(x);return{x:d*Math.cos(L)*Math.sin(D),y:d*Math.sin(L)*Math.sin(D),z:d*Math.cos(D),azimuthal:b,polar:x}})(g.expression.evaluate(a))}interpolate(g,a,d){return{x:s.number(g.x,a.x,d),y:s.number(g.y,a.y,d),z:s.number(g.z,a.z,d),azimuthal:s.number(g.azimuthal,a.azimuthal,d),polar:s.number(g.polar,a.polar,d)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),mt="-transition";class Lt extends s.Evented{constructor(a){super(),this._transitionable=new s.Transitionable(gt),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(s.validateLight,a,d))for(const b in a){const x=a[b];s.endsWith(b,mt)?this._transitionable.setTransition(b.slice(0,-mt.length),x):this._transitionable.setValue(b,x)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,b){return(!b||b.validate!==!1)&&s.emitValidationErrors(this,a.call(s.validateStyle,s.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}const ot=new s.Properties({source:new s.DataConstantProperty(s.spec.terrain.source),exaggeration:new s.DataConstantProperty(s.spec.terrain.exaggeration)}),dt="-transition";class vt extends s.Evented{constructor(a,d){super(),this._transitionable=new s.Transitionable(ot),this.set(a),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(a){for(const d in a){const b=a[d];s.endsWith(d,dt)?this._transitionable.setTransition(d.slice(0,-dt.length),b):this._transitionable.setValue(d,b)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}}function nr(g,a,d,b){const x=s.smoothstep(45,65,d),[L,D]=Sr(g,b),P=s.length(a);let z=1-Math.min(1,Math.exp((P-L)/(D-L)*-6));return z*=z*z,z=Math.min(1,1.00747*z),z*x*g.alpha}function Sr(g,a){const d=.5/Math.tan(.5*a);return[g.range[0]+d,g.range[1]+d]}const pr=new s.Properties({range:new s.DataConstantProperty(s.spec.fog.range),color:new s.DataConstantProperty(s.spec.fog.color),"high-color":new s.DataConstantProperty(s.spec.fog["high-color"]),"space-color":new s.DataConstantProperty(s.spec.fog["space-color"]),"horizon-blend":new s.DataConstantProperty(s.spec.fog["horizon-blend"]),"star-intensity":new s.DataConstantProperty(s.spec.fog["star-intensity"])}),Er="-transition";class pn extends s.Evented{constructor(a,d){super(),this._transitionable=new s.Transitionable(pr),this.set(a),this._transitioning=this._transitionable.untransitioned(),this._transform=d}get state(){const a=this._transform,d=a.projection.name==="globe",b=s.globeToMercatorTransition(a.zoom),x=this.properties.get("range"),L=[.5,3];return{range:d?[s.number(L[0],x[0],b),s.number(L[1],x[1],b)]:x,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(a,d={}){if(!this._validate(s.validateFog,a,d)){for(const b of Object.keys(s.spec.fog))a&&a[b]===void 0&&(a[b]=s.spec.fog[b].default);for(const b in a){const x=a[b];s.endsWith(b,Er)?this._transitionable.setTransition(b.slice(0,-Er.length),x):this._transitionable.setValue(b,x)}}}getOpacity(a){if(!this._transform.projection.supportsFog)return 0;const d=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:s.smoothstep(45,65,a))*d.a}getOpacityAtLatLng(a,d){return this._transform.projection.supportsFog?(function(b,x,L){const D=s.MercatorCoordinate.fromLngLat(x),P=L.elevation?L.elevation.getAtPointOrZero(D):0,z=[D.x,D.y,P];return s.transformMat4(z,z,L.mercatorFogMatrix),nr(b,z,L.pitch,L._fov)})(this.state,a,d):0}getFovAdjustedRange(a){return this._transform.projection.supportsFog?Sr(this.state,a):[0,1]}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,b){return(!b||b.validate!==!1)&&s.emitValidationErrors(this,a.call(s.validateStyle,s.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class qr{constructor(a,d){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const b=this.workerPool.acquire(this.id);for(let x=0;x<b.length;x++){const L=new qr.Actor(b[x],d,this.id);L.name=`Worker ${x}`,this.actors.push(L)}this.ready=!1,this.broadcast("checkIfReady",null,(()=>{this.ready=!0}))}broadcast(a,d,b){s.asyncAll(this.actors,((x,L)=>{x.send(a,d,L)}),b=b||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((a=>{a.remove()})),this.actors=[],this.workerPool.release(this.id)}}function Gr(g,a,d){return a*(s.EXTENT/(g.tileSize*Math.pow(2,d-g.tileID.overscaledZ)))}qr.Actor=s.Actor;class Nr{constructor(a,d,b,x){this.screenBounds=a,this.cameraPoint=d,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=b,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,x)}static createFromScreenPoints(a,d){let b,x;if(a instanceof s.pointGeometry||typeof a[0]=="number"){const L=s.pointGeometry.convert(a);b=[L],x=d.isPointAboveHorizon(L)}else{const L=s.pointGeometry.convert(a[0]),D=s.pointGeometry.convert(a[1]);b=[L,D],x=s.polygonizeBounds(L,D).every((P=>d.isPointAboveHorizon(P)))}return new Nr(b,d.getCameraPoint(),x,d)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(a){return s.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],a)}bufferedCameraGeometry(a){const d=this.screenBounds[0],b=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],x=s.polygonizeBounds(d,b,0,!1);return this.cameraPoint.y>b.y&&(this.cameraPoint.x>d.x&&this.cameraPoint.x<b.x?x.splice(3,0,this.cameraPoint):this.cameraPoint.x>=b.x?x[2]=this.cameraPoint:this.cameraPoint.x<=d.x&&(x[3]=this.cameraPoint)),s.bufferConvexPolygon(x,a)}bufferedCameraGeometryGlobe(a){const d=this.screenBounds[0],b=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],x=s.polygonizeBounds(d,b,a),L=this.cameraPoint.clone();switch(3*((L.y>d.y)+(L.y>b.y))+((L.x>d.x)+(L.x>b.x))){case 0:x[0]=L,x[4]=L.clone();break;case 1:x.splice(1,0,L);break;case 2:x[1]=L;break;case 3:x.splice(4,0,L);break;case 5:x.splice(2,0,L);break;case 6:x[3]=L;break;case 7:x.splice(3,0,L);break;case 8:x[2]=L}return x}containsTile(a,d,b,x=0){const L=a.queryPadding/d._pixelsPerMercatorPixel+1,D=b?this._bufferedCameraMercator(L,d):this._bufferedScreenMercator(L,d);let P=a.tileID.wrap+(D.unwrapped?x:0);const z=D.polygon.map((ue=>s.getTilePoint(a.tileTransform,ue,P)));if(!s.polygonIntersectsBox(z,0,0,s.EXTENT,s.EXTENT))return;P=a.tileID.wrap+(this.screenGeometryMercator.unwrapped?x:0);const N=this.screenGeometryMercator.polygon.map((ue=>s.getTileVec3(a.tileTransform,ue,P))),V=N.map((ue=>new s.pointGeometry(ue[0],ue[1]))),J=d.getFreeCameraOptions().position||new s.MercatorCoordinate(0,0,0),oe=s.getTileVec3(a.tileTransform,J,P),me=N.map((ue=>{const de=s.sub(ue,ue,oe);return s.normalize(de,de),new s.Ray(oe,de)})),pe=Gr(a,1,d.zoom)*d._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:V,tilespaceRays:me,bufferedTilespaceGeometry:z,bufferedTilespaceBounds:(be=s.getBounds(z),be.min.x=s.clamp(be.min.x,0,s.EXTENT),be.min.y=s.clamp(be.min.y,0,s.EXTENT),be.max.x=s.clamp(be.max.x,0,s.EXTENT),be.max.y=s.clamp(be.max.y,0,s.EXTENT),be),tile:a,tileID:a.tileID,pixelToTileUnitsFactor:pe};var be}_bufferedScreenMercator(a,d){const b=It(a);if(this._screenRaycastCache[b])return this._screenRaycastCache[b];{let x;return x=d.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(a),d):{polygon:this.bufferedScreenGeometry(a).map((L=>d.pointCoordinate3D(L))),unwrapped:!0},this._screenRaycastCache[b]=x,x}}_bufferedCameraMercator(a,d){const b=It(a);if(this._cameraRaycastCache[b])return this._cameraRaycastCache[b];{let x;return x=d.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(a),d):{polygon:this.bufferedCameraGeometry(a).map((L=>d.pointCoordinate3D(L))),unwrapped:!0},this._cameraRaycastCache[b]=x,x}}_projectAndResample(a,d){const b=(function(L,D){const P=s.multiply([],D.pixelMatrix,D.globeMatrix),z=[0,-s.GLOBE_RADIUS,0,1],N=[0,s.GLOBE_RADIUS,0,1],V=[0,0,0,1];s.transformMat4$1(z,z,P),s.transformMat4$1(N,N,P),s.transformMat4$1(V,V,P);const J=new s.pointGeometry(z[0]/z[3],z[1]/z[3]),oe=new s.pointGeometry(N[0]/N[3],N[1]/N[3]),me=s.polygonContainsPoint(L,J)&&z[3]<V[3],pe=s.polygonContainsPoint(L,oe)&&N[3]<V[3];if(!me&&!pe)return null;const be=(function(We,bt,pt){for(let Xe=1;Xe<We.length;Xe++){const tr=qt(bt.pointCoordinate3D(We[Xe-1]).x),ct=qt(bt.pointCoordinate3D(We[Xe]).x);if(pt<0){if(tr<ct)return{idx:Xe,t:-tr/(ct-1-tr)}}else if(ct<tr)return{idx:Xe,t:(1-tr)/(ct+1-tr)}}return null})(L,D,me?-1:1);if(!be)return null;const{idx:ue,t:de}=be;let we=ue>1?xt(L.slice(0,ue),D):[],xe=ue<L.length?xt(L.slice(ue),D):[];we=we.map((We=>new s.pointGeometry(qt(We.x),We.y))),xe=xe.map((We=>new s.pointGeometry(qt(We.x),We.y)));const Ie=[...we];Ie.length===0&&Ie.push(xe[xe.length-1]);const Fe=s.number(Ie[Ie.length-1].y,(xe.length===0?we[0]:xe[0]).y,de);let Be;return Be=me?[new s.pointGeometry(0,Fe),new s.pointGeometry(0,0),new s.pointGeometry(1,0),new s.pointGeometry(1,Fe)]:[new s.pointGeometry(1,Fe),new s.pointGeometry(1,1),new s.pointGeometry(0,1),new s.pointGeometry(0,Fe)],Ie.push(...Be),xe.length===0?Ie.push(we[0]):Ie.push(...xe),{polygon:Ie.map((We=>new s.MercatorCoordinate(We.x,We.y))),unwrapped:!1}})(a,d);if(b)return b;const x=(function(L,D){let P=!1,z=-1/0,N=0;for(let J=0;J<L.length-1;J++)L[J].x>z&&(z=L[J].x,N=J);for(let J=0;J<L.length-1;J++){const oe=(N+J)%(L.length-1),me=L[oe],pe=L[oe+1];Math.abs(me.x-pe.x)>.5&&(me.x<pe.x?(me.x+=1,oe===0&&(L[L.length-1].x+=1)):(pe.x+=1,oe+1===L.length-1&&(L[0].x+=1)),P=!0)}const V=s.mercatorXfromLng(D.center.lng);return P&&V<Math.abs(V-1)&&L.forEach((J=>{J.x-=1})),{polygon:L,unwrapped:P}})(xt(a,d).map((L=>new s.pointGeometry(qt(L.x),L.y))),d);return{polygon:x.polygon.map((L=>new s.MercatorCoordinate(L.x,L.y))),unwrapped:x.unwrapped}}}function xt(g,a){return s.resample(g,(d=>{const b=a.pointCoordinate3D(d);d.x=b.x,d.y=b.y}),1/256)}function qt(g){return g<0?1+g%1:g%1}function It(g){return 100*g|0}function Nt(g,a,d,b,x){const L=function(D,P){if(D)return x(D);if(P){g.url&&P.tiles&&g.tiles&&delete g.tiles;const z=s.pick(s.extend(P,g),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);P.vector_layers&&(z.vectorLayers=P.vector_layers,z.vectorLayerIds=z.vectorLayers.map((N=>N.id))),z.tiles=a.canonicalizeTileset(z,g.url),x(null,z)}};return g.url?s.getJSON(a.transformRequest(a.normalizeSourceURL(g.url,null,d,b),s.ResourceType.Source),L):s.exported.frame((()=>L(null,g)))}class _r{constructor(a,d,b){this.bounds=s.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=b||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const d=Math.pow(2,a.z),b=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*d),x=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*d),L=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*d),D=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*d);return a.x>=b&&a.x<L&&a.y>=x&&a.y<D}}class Se{constructor(a,d,b){this.context=a;const x=a.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!b,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||d.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ce={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class He{constructor(a,d,b,x){this.length=d.length,this.attributes=b,this.itemSize=d.bytesPerElement,this.dynamicDraw=x,this.context=a;const L=a.gl;this.buffer=L.createBuffer(),a.bindVertexBuffer.set(this.buffer),L.bufferData(L.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||d.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let b=0;b<this.attributes.length;b++){const x=d.attributes[this.attributes[b].name];x!==void 0&&a.enableVertexAttribArray(x)}}setVertexAttribPointers(a,d,b){for(let x=0;x<this.attributes.length;x++){const L=this.attributes[x],D=d.attributes[L.name];D!==void 0&&a.vertexAttribPointer(D,L.components,a[Ce[L.type]],!1,this.itemSize,L.offset+this.itemSize*(b||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class at{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Dt extends at{getDefault(){return s.Color.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class At extends at{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class sr extends at{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class mr extends at{getDefault(){return[!0,!0,!0,!0]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class ar extends at{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Ut extends at{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class jr extends at{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class lr extends at{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Ir extends at{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class zr extends at{getDefault(){return[0,1]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class tt extends at{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class vr extends at{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class rn extends at{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class Qn extends at{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class ae extends at{getDefault(){return s.Color.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class $ extends at{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class q extends at{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class Te extends at{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Ze extends at{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class ht extends at{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class ke extends at{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class Qe extends at{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Wr extends at{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class Xr extends at{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class nn extends at{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class Ar extends at{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class ki extends at{getDefault(){return null}set(a){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class ro extends at{constructor(a){super(a),this.vao=a.extVertexArrayObject}getDefault(){return null}set(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)}}class Yi extends at{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class jt extends at{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class ur extends at{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Lr extends at{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class wr extends Lr{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Jr extends Lr{attachment(){return this.gl.DEPTH_ATTACHMENT}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,this.attachment(),d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class yn extends Jr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class fe{constructor(a,d,b,x){this.context=a,this.width=d,this.height=b;const L=this.framebuffer=a.gl.createFramebuffer();this.colorAttachment=new wr(a,L),x&&(this.depthAttachment=new Jr(a,L))}destroy(){const a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){const b=this.depthAttachment.get();b&&a.deleteRenderbuffer(b)}a.deleteFramebuffer(this.framebuffer)}}class X{constructor(a){this.gl=a,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Dt(this),this.clearDepth=new At(this),this.clearStencil=new sr(this),this.colorMask=new mr(this),this.depthMask=new ar(this),this.stencilMask=new Ut(this),this.stencilFunc=new jr(this),this.stencilOp=new lr(this),this.stencilTest=new Ir(this),this.depthRange=new zr(this),this.depthTest=new tt(this),this.depthFunc=new vr(this),this.blend=new rn(this),this.blendFunc=new Qn(this),this.blendColor=new ae(this),this.blendEquation=new $(this),this.cullFace=new q(this),this.cullFaceSide=new Te(this),this.frontFace=new Ze(this),this.program=new ht(this),this.activeTexture=new ke(this),this.viewport=new Qe(this),this.bindFramebuffer=new Wr(this),this.bindRenderbuffer=new Xr(this),this.bindTexture=new nn(this),this.bindVertexBuffer=new Ar(this),this.bindElementBuffer=new ki(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ro(this),this.pixelStoreUnpack=new Yi(this),this.pixelStoreUnpackPremultiplyAlpha=new jt(this),this.pixelStoreUnpackFlipY=new ur(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=a.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=a.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=a.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=a.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(a.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=a.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=a.getExtension("OES_standard_derivatives"),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new Se(this,a,d)}createVertexBuffer(a,d,b){return new He(this,a,d,b)}createRenderbuffer(a,d,b){const x=this.gl,L=x.createRenderbuffer();return this.bindRenderbuffer.set(L),x.renderbufferStorage(x.RENDERBUFFER,a,d,b),this.bindRenderbuffer.set(null),L}createFramebuffer(a,d,b){return new fe(this,a,d,b)}clear({color:a,depth:d,stencil:b}){const x=this.gl;let L=0;a&&(L|=x.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(L|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),b!==void 0&&(L|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(b),this.stencilMask.set(255)),x.clear(L)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){E(a.blendFunction,s.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class re extends s.Evented{constructor(a,d,b,x){super(),this.id=a,this.dispatcher=b,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},d),s.extend(this,s.pick(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Nt(this._options,this.map._requestManager,null,null,((a,d)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new s.ErrorEvent(a)):d&&(s.extend(this,d),d.bounds&&(this.tileBounds=new _r(d.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(d.tiles),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,d){const b=s.exported.devicePixelRatio>=2,x=this.map._requestManager.normalizeTileURL(a.tileID.canonical.url(this.tiles,this.scheme),b,this.tileSize);a.request=s.getImage(this.map._requestManager.transformRequest(x,s.ResourceType.Tile),((L,D,P,z)=>(delete a.request,a.aborted?(a.state="unloaded",d(null)):L?(a.state="errored",d(L)):D?(this.map._refreshExpiredTiles&&a.setExpiryData({cacheControl:P,expires:z}),a.setTexture(D,this.map.painter),a.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),void d(null)):d(null))))}static loadTileData(a,d,b){a.setTexture(d,b)}static unloadTileData(a,d){a.texture&&d.saveTileTexture(a.texture)}abortTile(a,d){a.request&&(a.request.cancel(),delete a.request),d()}unloadTile(a,d){a.texture&&this.map.painter.saveTileTexture(a.texture),d()}hasTransition(){return!1}}let ge;function Le(g,a,d,b,x,L,D,P){const z=[g,d,x,a,b,L,1,1,1],N=[D,P,1],V=s.adjoint([],z),[J,oe,me]=s.transformMat3(N,N,s.transpose(V,V));return s.multiply$1(z,[J,0,0,0,oe,0,0,0,me],z)}class je extends s.Evented{constructor(a,d,b,x){super(),this.id=a,this.dispatcher=b,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=d,this._dirty=!1}load(a,d){this._loaded=d||!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),((b,x)=>{if(this._imageRequest=null,this._loaded=!0,b)this.fire(new s.ErrorEvent(b));else if(x){const{HTMLImageElement:L}=s.window;this.image=x instanceof L?s.exported.getImageData(x):x,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,a&&(this.coordinates=a),this._finishLoading()}}))}loaded(){return this._loaded}updateImage(a){return this.image&&a.url?(this._imageRequest&&a.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=a.url,this.load(a.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(a){this.coordinates=a,this._boundsArray=void 0;const d=a.map(s.MercatorCoordinate.fromLngLat);return this.tileID=(function(b){let x=1/0,L=1/0,D=-1/0,P=-1/0;for(const J of b)x=Math.min(x,J.x),L=Math.min(L,J.y),D=Math.max(D,J.x),P=Math.max(P,J.y);const z=Math.max(D-x,P-L),N=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),V=Math.pow(2,N);return new s.CanonicalTileID(N,Math.floor((x+D)/2*V),Math.floor((L+P)/2*V))})(d),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(a){for(const z in this.tiles){const N=this.tiles[z];N.state!=="loaded"&&(N.state="loaded",N.texture=this.texture)}if(this._boundsArray)return;const d=s.tileTransform(this.tileID,this.map.transform.projection),[b,x,L,D]=this.coordinates.map((z=>{const N=d.projection.project(z[0],z[1]);return s.getTilePoint(d,N)._round()}));this.perspectiveTransform=(function(z,N,V,J,oe,me,pe,be,ue,de){const we=Le(0,0,z,0,0,N,z,N),xe=Le(V,J,oe,me,pe,be,ue,de);return s.multiply$1(xe,s.adjoint(we,we),xe),[xe[6]/xe[8]*z/s.EXTENT,xe[7]/xe[8]*N/s.EXTENT]})(this.width,this.height,b.x,b.y,x.x,x.y,D.x,D.y,L.x,L.y);const P=this._boundsArray=new s.StructArrayLayout4i8;P.emplaceBack(b.x,b.y,0,0),P.emplaceBack(x.x,x.y,s.EXTENT,0),P.emplaceBack(D.x,D.y,0,s.EXTENT),P.emplaceBack(L.x,L.y,s.EXTENT,s.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=a.createVertexBuffer(P,s.boundsAttributes.members),this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const a=this.map.painter.context,d=a.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new s.Texture(a,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(a)}loadTile(a,d){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},d(null)):(a.state="errored",d(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const rt={vector:class extends s.Evented{constructor(g,a,d,b){if(super(),this.id=g,this.dispatcher=d,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(a,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},a),this._collectResourceTiming=a.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(b),this._tileWorkers={},this._deduped=new s.DedupedRequest}load(g){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"}));const a=Array.isArray(this.map._language)?this.map._language.join():this.map._language,d=this.map._worldview;this._tileJSONRequest=Nt(this._options,this.map._requestManager,a,d,((b,x)=>{this._tileJSONRequest=null,this._loaded=!0,b?(a&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${a}`),d&&d.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${d}`),this.fire(new s.ErrorEvent(b))):x&&(s.extend(this,x),x.bounds&&(this.tileBounds=new _r(x.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(x.tiles,this.map._requestManager._customAccessToken),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),g&&g(b)}))}loaded(){return this._loaded}hasTile(g){return!this.tileBounds||this.tileBounds.contains(g.canonical)}onAdd(g){this.map=g,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>{const g=this.map.style._getSourceCaches(this.id);for(const a of g)a.clearTiles()}))}setSourceProperty(g){g(),this.reload()}setTiles(g){return this._options.tiles=g,this.reload(),this}setUrl(g){return this.url=g,this._options.url=g,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}loadTile(g,a){const d=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme)),b={request:this.map._requestManager.transformRequest(d,s.ResourceType.Tile),data:void 0,uid:g.uid,tileID:g.tileID,tileZoom:g.tileZoom,zoom:g.tileID.overscaledZ,tileSize:this.tileSize*g.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:g.isSymbolTile};if(b.request.collectResourceTiming=this._collectResourceTiming,g.actor&&g.state!=="expired")g.state==="loading"?g.reloadCallback=a:g.request=g.actor.send("reloadTile",b,x.bind(this));else if(g.actor=this._tileWorkers[d]=this._tileWorkers[d]||this.dispatcher.getActor(),this.dispatcher.ready)g.request=g.actor.send("loadTile",b,x.bind(this),void 0,!0);else{const L=s.loadVectorTile.call({deduped:this._deduped},b,((D,P)=>{D||!P?x.call(this,D):(b.data={cacheControl:P.cacheControl,expires:P.expires,rawData:P.rawData.slice(0)},g.actor&&g.actor.send("loadTile",b,x.bind(this),void 0,!0))}),!0);g.request={cancel:L}}function x(L,D){return delete g.request,g.aborted?a(null):L&&L.status!==404?a(L):(D&&D.resourceTiming&&(g.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&g.setExpiryData(D),g.loadVectorData(D,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),a(null),void(g.reloadCallback&&(this.loadTile(g,g.reloadCallback),g.reloadCallback=null)))}}abortTile(g){g.request&&(g.request.cancel(),delete g.request),g.actor&&g.actor.send("abortTile",{uid:g.uid,type:this.type,source:this.id})}unloadTile(g){g.unloadVectorData(),g.actor&&g.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:re,"raster-dem":class extends re{constructor(g,a,d,b){super(g,a,d,b),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},a),this.encoding=a.encoding||"mapbox"}loadTile(g,a){const d=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function b(x,L){x&&(g.state="errored",a(x)),L&&(g.dem=L,g.dem.onDeserialize(),g.needsHillshadePrepare=!0,g.needsDEMTextureUpload=!0,g.state="loaded",a(null))}g.request=s.getImage(this.map._requestManager.transformRequest(d,s.ResourceType.Tile),(function(x,L,D,P){if(delete g.request,g.aborted)g.state="unloaded",a(null);else if(x)g.state="errored",a(x);else if(L){this.map._refreshExpiredTiles&&g.setExpiryData({cacheControl:D,expires:P});const z=s.window.ImageBitmap&&L instanceof s.window.ImageBitmap&&(ge==null&&(ge=s.window.OffscreenCanvas&&new s.window.OffscreenCanvas(1,1).getContext("2d")&&typeof s.window.createImageBitmap=="function"),ge),N=1-(L.width-s.prevPowerOfTwo(L.width))/2;N<1||g.neighboringTiles||(g.neighboringTiles=this._getNeighboringTiles(g.tileID));const V=z?L:s.exported.getImageData(L,N),J={uid:g.uid,coord:g.tileID,source:this.id,rawImageData:V,encoding:this.encoding,padding:N};g.actor&&g.state!=="expired"||(g.actor=this.dispatcher.getActor(),g.actor.send("loadDEMTile",J,b.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(g){const a=g.canonical,d=Math.pow(2,a.z),b=(a.x-1+d)%d,x=a.x===0?g.wrap-1:g.wrap,L=(a.x+1+d)%d,D=a.x+1===d?g.wrap+1:g.wrap,P={};return P[new s.OverscaledTileID(g.overscaledZ,x,a.z,b,a.y).key]={backfilled:!1},P[new s.OverscaledTileID(g.overscaledZ,D,a.z,L,a.y).key]={backfilled:!1},a.y>0&&(P[new s.OverscaledTileID(g.overscaledZ,x,a.z,b,a.y-1).key]={backfilled:!1},P[new s.OverscaledTileID(g.overscaledZ,g.wrap,a.z,a.x,a.y-1).key]={backfilled:!1},P[new s.OverscaledTileID(g.overscaledZ,D,a.z,L,a.y-1).key]={backfilled:!1}),a.y+1<d&&(P[new s.OverscaledTileID(g.overscaledZ,x,a.z,b,a.y+1).key]={backfilled:!1},P[new s.OverscaledTileID(g.overscaledZ,g.wrap,a.z,a.x,a.y+1).key]={backfilled:!1},P[new s.OverscaledTileID(g.overscaledZ,D,a.z,L,a.y+1).key]={backfilled:!1}),P}unloadTile(g){g.demTexture&&this.map.painter.saveTileTexture(g.demTexture),g.fbo&&(g.fbo.destroy(),delete g.fbo),g.dem&&delete g.dem,delete g.neighboringTiles,g.state="unloaded"}},geojson:class extends s.Evented{constructor(g,a,d,b){super(),this.id=g,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=d.getActor(),this.setEventedParent(b),this._data=a.data,this._options=s.extend({},a),this._collectResourceTiming=a.collectResourceTiming,a.maxzoom!==void 0&&(this.maxzoom=a.maxzoom),a.type&&(this.type=a.type),a.attribution&&(this.attribution=a.attribution),this.promoteId=a.promoteId;const x=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:a.cluster||!1,geojsonVtOptions:{buffer:(a.buffer!==void 0?a.buffer:128)*x,tolerance:(a.tolerance!==void 0?a.tolerance:.375)*x,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:a.lineMetrics||!1,generateId:a.generateId||!1},superclusterOptions:{maxZoom:a.clusterMaxZoom!==void 0?a.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,a.clusterMinPoints||2),extent:s.EXTENT,radius:(a.clusterRadius!==void 0?a.clusterRadius:50)*x,log:!1,generateId:a.generateId||!1},clusterProperties:a.clusterProperties,filter:a.filter},a.workerOptions)}onAdd(g){this.map=g,this.setData(this._data)}setData(g){return this._data=g,this._updateWorkerData(),this}getClusterExpansionZoom(g,a){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:g,source:this.id},a),this}getClusterChildren(g,a){return this.actor.send("geojson.getClusterChildren",{clusterId:g,source:this.id},a),this}getClusterLeaves(g,a,d,b){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:g,limit:a,offset:d},b),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.Event("dataloading",{dataType:"source"})),this._loaded=!1;const g=s.extend({},this.workerOptions),a=this._data;typeof a=="string"?(g.request=this.map._requestManager.transformRequest(s.exported.resolveURL(a),s.ResourceType.Source),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(a),this._pendingLoad=this.actor.send(`${this.type}.loadData`,g,((d,b)=>{if(this._loaded=!0,this._pendingLoad=null,d)this.fire(new s.ErrorEvent(d));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&b&&b.resourceTiming&&b.resourceTiming[this.id]&&(x.resourceTiming=b.resourceTiming[this.id]),this.fire(new s.Event("data",x)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)}))}loaded(){return this._loaded}loadTile(g,a){const d=g.actor?"reloadTile":"loadTile";g.actor=this.actor,g.request=this.actor.send(d,{type:this.type,uid:g.uid,tileID:g.tileID,tileZoom:g.tileZoom,zoom:g.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((b,x)=>(delete g.request,g.unloadVectorData(),g.aborted?a(null):b?a(b):(g.loadVectorData(x,this.map.painter,d==="reloadTile"),a(null)))),void 0,d==="loadTile")}abortTile(g){g.request&&(g.request.cancel(),delete g.request),g.aborted=!0}unloadTile(g){g.unloadVectorData(),this.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends je{constructor(g,a,d,b){super(g,a,d,b),this.roundZoom=!0,this.type="video",this.options=a}load(){this._loaded=!1;const g=this.options;this.urls=[];for(const a of g.urls)this.urls.push(this.map._requestManager.transformRequest(a,s.ResourceType.Source).url);s.getVideo(this.urls,((a,d)=>{this._loaded=!0,a?this.fire(new s.ErrorEvent(a)):d&&(this.video=d,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(g){if(this.video){const a=this.video.seekable;g<a.start(0)||g>a.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${a.start(0)} and ${a.end(0)}-second mark.`))):this.video.currentTime=g}}getVideo(){return this.video}onAdd(g){this.map||(this.map=g,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const g=this.map.painter.context,a=g.gl;this.texture?this.video.paused||(this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(g,this.video,a.RGBA),this.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(g)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:je,canvas:class extends je{constructor(g,a,d,b){super(g,a,d,b),a.coordinates?Array.isArray(a.coordinates)&&a.coordinates.length===4&&!a.coordinates.some((x=>!Array.isArray(x)||x.length!==2||x.some((L=>typeof L!="number"))))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'missing required property "coordinates"'))),a.animate&&typeof a.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'optional "animate" property must be a boolean value'))),a.canvas?typeof a.canvas=="string"||a.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'missing required property "canvas"'))),this.options=a,this.animate=a.animate===void 0||a.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(g){this.map=g,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let g=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,g=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,g=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const a=this.map.painter.context;this.texture?(g||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(a,this.canvas,a.gl.RGBA,{premultiply:!0}),this._prepareData(a)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const g of[this.canvas.width,this.canvas.height])if(isNaN(g)||g<=0)return!0;return!1}},custom:class extends s.Evented{constructor(g,a,d,b){super(),this.id=g,this.type="custom",this._dataType="raster",this._dispatcher=d,this._implementation=a,this.setEventedParent(b),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new _r(this._implementation.bounds,this.minzoom,this.maxzoom)),a.update=this._update.bind(this),a.clearTiles=this._clearTiles.bind(this),a.coveringTiles=this._coveringTiles.bind(this),s.extend(this,s.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(g){this._map=g,this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(g),this.load()}onRemove(g){this._implementation.onRemove&&this._implementation.onRemove(g)}hasTile(g){if(this._implementation.hasTile){const{x:a,y:d,z:b}=g.canonical;return this._implementation.hasTile({x:a,y:d,z:b})}return!this.tileBounds||this.tileBounds.contains(g.canonical)}loadTile(g,a){const{x:d,y:b,z:x}=g.tileID.canonical,L=new s.window.AbortController;g.request=Promise.resolve(this._implementation.loadTile({x:d,y:b,z:x},{signal:L.signal})).then((function(D){return delete g.request,g.aborted?(g.state="unloaded",a(null)):D===void 0?(g.state="errored",a(null)):D===null?(this.loadTileData(g,{width:this.tileSize,height:this.tileSize,data:null}),g.state="loaded",a(null)):(function(P){return P instanceof s.window.ImageData||P instanceof s.window.HTMLCanvasElement||P instanceof s.window.ImageBitmap||P instanceof s.window.HTMLImageElement})(D)?(this.loadTileData(g,D),g.state="loaded",void a(null)):(g.state="errored",a(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch((D=>{D.code!==20&&(g.state="errored",a(D))})),g.request.cancel=()=>L.abort()}loadTileData(g,a){re.loadTileData(g,a,this._map.painter)}unloadTileData(g){re.unloadTileData(g,this._map.painter)}unloadTile(g,a){if(this.unloadTileData(g),this._implementation.unloadTile){const{x:d,y:b,z:x}=g.tileID.canonical;this._implementation.unloadTile({x:d,y:b,z:x})}a()}abortTile(g,a){g.request&&g.request.cancel&&(g.request.cancel(),delete g.request),a()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((g=>({x:g.canonical.x,y:g.canonical.y,z:g.canonical.z})))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Je=function(g,a,d,b){const x=new rt[a.type](g,a,d,b);if(x.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${x.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],x),x};function Ue(g,a){const d=s.identity([]);return s.scale(d,d,[.5*g.width,.5*-g.height,1]),s.translate(d,d,[1,-1,0]),s.multiply(d,d,g.calculateProjMatrix(a.toUnwrapped())),Float32Array.from(d)}function et(g,a,d,b,x,L,D,P=!1){const z=g.tilesIn(b,D,P);z.sort(hr);const N=[];for(const J of z)N.push({wrappedTileID:J.tile.tileID.wrapped().key,queryResults:J.tile.queryRenderedFeatures(a,d,g._state,J,x,L,Ue(g.transform,J.tile.tileID),P)});const V=(function(J){const oe={},me={};for(const pe of J){const be=pe.queryResults,ue=pe.wrappedTileID,de=me[ue]=me[ue]||{};for(const we in be){const xe=be[we],Ie=de[we]=de[we]||{},Fe=oe[we]=oe[we]||[];for(const Be of xe)Ie[Be.featureIndex]||(Ie[Be.featureIndex]=!0,Fe.push(Be))}}return oe})(N);for(const J in V)V[J].forEach((oe=>{const me=oe.feature,pe=me.layer;pe&&pe.type!=="background"&&pe.type!=="sky"&&(me.source=pe.source,pe["source-layer"]&&(me.sourceLayer=pe["source-layer"]),me.state=me.id!==void 0?g.getFeatureState(pe["source-layer"],me.id):{})}));return V}function Rt(g,a){const d=g.getRenderableIds().map((L=>g.getTileByID(L))),b=[],x={};for(let L=0;L<d.length;L++){const D=d[L],P=D.tileID.canonical.key;x[P]||(x[P]=!0,D.querySourceFeatures(b,a))}return b}function hr(g,a){const d=g.tileID,b=a.tileID;return d.overscaledZ-b.overscaledZ||d.canonical.y-b.canonical.y||d.wrap-b.wrap||d.canonical.x-b.canonical.x}function Gt(){return Ks.workerClass!=null?new Ks.workerClass:new s.window.Worker(Ks.workerUrl)}const Yr="mapboxgl_preloaded_worker_pool";class Or{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Or.workerCount;)this.workers.push(new Gt);return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach((d=>{d.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Yr]}numActive(){return Object.keys(this.active).length}}let Cr;function Kr(){return Cr||(Cr=new Or),Cr}function bn(g,a){const d={};for(const b in g)b!=="ref"&&(d[b]=g[b]);return s.refProperties.forEach((b=>{b in a&&(d[b]=a[b])})),d}function Bn(g){g=g.slice();const a=Object.create(null);for(let d=0;d<g.length;d++)a[g[d].id]=g[d];for(let d=0;d<g.length;d++)"ref"in g[d]&&(g[d]=bn(g[d],a[g[d].ref]));return g}Or.workerCount=2;const $r={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function ei(g,a,d){d.push({command:$r.addSource,args:[g,a[g]]})}function hi(g,a,d){a.push({command:$r.removeSource,args:[g]}),d[g]=!0}function Vo(g,a,d,b){hi(g,d,b),ei(g,a,d)}function no(g,a,d){let b;for(b in g[d])if(g[d].hasOwnProperty(b)&&b!=="data"&&!E(g[d][b],a[d][b]))return!1;for(b in a[d])if(a[d].hasOwnProperty(b)&&b!=="data"&&!E(g[d][b],a[d][b]))return!1;return!0}function bo(g,a,d,b,x,L){let D;for(D in a=a||{},g=g||{})g.hasOwnProperty(D)&&(E(g[D],a[D])||d.push({command:L,args:[b,D,a[D],x]}));for(D in a)a.hasOwnProperty(D)&&!g.hasOwnProperty(D)&&(E(g[D],a[D])||d.push({command:L,args:[b,D,a[D],x]}))}function Pt(g){return g.id}function vo(g,a){return g[a.id]=a,g}class $i{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let b=1;b<this.points.length;b++)this._distances[b]=this._distances[b-1]+this.points[b].dist(this.points[b-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=s.clamp(a,0,1);let d=1,b=this._distances[d];const x=a*this.paddedLength+this.padding;for(;b<x&&d<this._distances.length;)b=this._distances[++d];const L=d-1,D=this._distances[L],P=b-D,z=P>0?(x-D)/P:0;return this.points[L].mult(1-z).add(this.points[d].mult(z))}}class Ja{constructor(a,d,b){const x=this.boxCells=[],L=this.circleCells=[];this.xCellCount=Math.ceil(a/b),this.yCellCount=Math.ceil(d/b);for(let D=0;D<this.xCellCount*this.yCellCount;D++)x.push([]),L.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,b,x,L){this._forEachCell(d,b,x,L,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(b),this.bboxes.push(x),this.bboxes.push(L)}insertCircle(a,d,b,x){this._forEachCell(d-x,b-x,d+x,b+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(b),this.circles.push(x)}_insertBoxCell(a,d,b,x,L,D){this.boxCells[L].push(D)}_insertCircleCell(a,d,b,x,L,D){this.circleCells[L].push(D)}_query(a,d,b,x,L,D){if(b<0||a>this.width||x<0||d>this.height)return!L&&[];const P=[];if(a<=0&&d<=0&&this.width<=b&&this.height<=x){if(L)return!0;for(let z=0;z<this.boxKeys.length;z++)P.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){const N=this.circles[3*z],V=this.circles[3*z+1],J=this.circles[3*z+2];P.push({key:this.circleKeys[z],x1:N-J,y1:V-J,x2:N+J,y2:V+J})}return D?P.filter(D):P}return this._forEachCell(a,d,b,x,this._queryCell,P,{hitTest:L,seenUids:{box:{},circle:{}}},D),L?P.length>0:P}_queryCircle(a,d,b,x,L){const D=a-b,P=a+b,z=d-b,N=d+b;if(P<0||D>this.width||N<0||z>this.height)return!x&&[];const V=[];return this._forEachCell(D,z,P,N,this._queryCellCircle,V,{hitTest:x,circle:{x:a,y:d,radius:b},seenUids:{box:{},circle:{}}},L),x?V.length>0:V}query(a,d,b,x,L){return this._query(a,d,b,x,!1,L)}hitTest(a,d,b,x,L){return this._query(a,d,b,x,!0,L)}hitTestCircle(a,d,b,x){return this._queryCircle(a,d,b,!0,x)}_queryCell(a,d,b,x,L,D,P,z){const N=P.seenUids,V=this.boxCells[L];if(V!==null){const oe=this.bboxes;for(const me of V)if(!N.box[me]){N.box[me]=!0;const pe=4*me;if(a<=oe[pe+2]&&d<=oe[pe+3]&&b>=oe[pe+0]&&x>=oe[pe+1]&&(!z||z(this.boxKeys[me]))){if(P.hitTest)return D.push(!0),!0;D.push({key:this.boxKeys[me],x1:oe[pe],y1:oe[pe+1],x2:oe[pe+2],y2:oe[pe+3]})}}}const J=this.circleCells[L];if(J!==null){const oe=this.circles;for(const me of J)if(!N.circle[me]){N.circle[me]=!0;const pe=3*me;if(this._circleAndRectCollide(oe[pe],oe[pe+1],oe[pe+2],a,d,b,x)&&(!z||z(this.circleKeys[me]))){if(P.hitTest)return D.push(!0),!0;{const be=oe[pe],ue=oe[pe+1],de=oe[pe+2];D.push({key:this.circleKeys[me],x1:be-de,y1:ue-de,x2:be+de,y2:ue+de})}}}}}_queryCellCircle(a,d,b,x,L,D,P,z){const N=P.circle,V=P.seenUids,J=this.boxCells[L];if(J!==null){const me=this.bboxes;for(const pe of J)if(!V.box[pe]){V.box[pe]=!0;const be=4*pe;if(this._circleAndRectCollide(N.x,N.y,N.radius,me[be+0],me[be+1],me[be+2],me[be+3])&&(!z||z(this.boxKeys[pe])))return D.push(!0),!0}}const oe=this.circleCells[L];if(oe!==null){const me=this.circles;for(const pe of oe)if(!V.circle[pe]){V.circle[pe]=!0;const be=3*pe;if(this._circlesCollide(me[be],me[be+1],me[be+2],N.x,N.y,N.radius)&&(!z||z(this.circleKeys[pe])))return D.push(!0),!0}}}_forEachCell(a,d,b,x,L,D,P,z){const N=this._convertToXCellCoord(a),V=this._convertToYCellCoord(d),J=this._convertToXCellCoord(b),oe=this._convertToYCellCoord(x);for(let me=N;me<=J;me++)for(let pe=V;pe<=oe;pe++)if(L.call(this,a,d,b,x,this.xCellCount*pe+me,D,P,z))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,b,x,L,D){const P=x-a,z=L-d,N=b+D;return N*N>P*P+z*z}_circleAndRectCollide(a,d,b,x,L,D,P){const z=(D-x)/2,N=Math.abs(a-(x+z));if(N>z+b)return!1;const V=(P-L)/2,J=Math.abs(d-(L+V));if(J>V+b)return!1;if(N<=z||J<=V)return!0;const oe=N-z,me=J-V;return oe*oe+me*me<=b*b}}const Zd=Math.tan(85*Math.PI/180);function Uo(g,a,d,b,x,L,D){const P=s.create();if(d)if(L.name==="globe"){const z=s.calculateGlobeLabelMatrix(x,a);s.multiply(P,P,z)}else{const z=Re([],D);P[0]=z[0],P[1]=z[1],P[4]=z[2],P[5]=z[3],b||s.rotateZ(P,P,x.angle)}else s.multiply(P,x.labelPlaneMatrix,g);return P}function bs(g,a,d,b,x,L,D){const P=Uo(g,a,d,b,x,L,D);return L.name==="globe"&&d||(P[2]=P[6]=P[10]=P[14]=0),P}function bu(g,a,d,b,x,L,D){if(d){if(L.name==="globe"){const P=Uo(g,a,d,b,x,L,D);return s.invert(P,P),s.multiply(P,g,P),P}{const P=s.clone(g),z=s.identity([]);return z[0]=D[0],z[1]=D[1],z[4]=D[2],z[5]=D[3],s.multiply(P,P,z),b||s.rotateZ(P,P,-x.angle),P}}return x.glCoordMatrix}function lo(g,a,d,b){const x=[g,a,d,1];d?s.transformMat4$1(x,x,b):Si(x,x,b);const L=x[3];return x[0]/=L,x[1]/=L,x[2]/=L,x}function br(g,a){return Math.min(.5+g/a*.5,1.5)}function Cn(g,a){const d=g[0]/g[3],b=g[1]/g[3];return d>=-a[0]&&d<=a[0]&&b>=-a[1]&&b<=a[1]}function Ln(g,a,d,b,x,L,D,P,z,N){const V=d.transform,J=b?g.textSizeData:g.iconSizeData,oe=s.evaluateSizeForZoom(J,d.transform.zoom),me=V.projection.name==="globe",pe=[256/d.width*2+1,256/d.height*2+1],be=b?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;be.clear();let ue=null;me&&(ue=b?g.text.globeExtVertexArray:g.icon.globeExtVertexArray);const de=g.lineVertexArray,we=b?g.text.placedSymbolArray:g.icon.placedSymbolArray,xe=d.transform.width/d.transform.height;let Ie,Fe=!1;for(let Be=0;Be<we.length;Be++){const We=we.get(Be),{numGlyphs:bt,writingMode:pt}=We;if(pt!==s.WritingMode.vertical||Fe||Ie===s.WritingMode.horizontal||(Fe=!0),Ie=pt,(We.hidden||pt===s.WritingMode.vertical)&&!Fe){uo(bt,be);continue}Fe=!1;const Xe=new s.pointGeometry(We.tileAnchorX,We.tileAnchorY);let{x:tr,y:ct,z:Ft}=V.projection.projectTilePoint(Xe.x,Xe.y,N.canonical);if(z){const[Qr,Rr,on]=z(Xe);tr+=Qr,ct+=Rr,Ft+=on}const St=[tr,ct,Ft,1];if(s.transformMat4$1(St,St,a),!Cn(St,pe)){uo(bt,be);continue}const Jt=br(d.transform.cameraToCenterDistance,St[3]),Et=s.evaluateSizeForFeature(J,oe,We),$t=D?Et/Jt:Et*Jt,or=lo(tr,ct,Ft,x);if(or[3]<=0){uo(bt,be);continue}let it={};const Mt=D?null:z,Pr=Sn(We,$t,!1,P,a,x,L,g.glyphOffsetArray,de,be,ue,or,Xe,it,xe,Mt,V.projection,N,D);Fe=Pr.useVertical,Mt&&Pr.needsFlipping&&(it={}),(Pr.notEnoughRoom||Fe||Pr.needsFlipping&&Sn(We,$t,!0,P,a,x,L,g.glyphOffsetArray,de,be,ue,or,Xe,it,xe,Mt,V.projection,N,D).notEnoughRoom)&&uo(bt,be)}b?(g.text.dynamicLayoutVertexBuffer.updateData(be),ue&&g.text.globeExtVertexBuffer.updateData(ue)):(g.icon.dynamicLayoutVertexBuffer.updateData(be),ue&&g.icon.globeExtVertexBuffer.updateData(ue))}function Io(g,a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be){const{lineStartIndex:ue,glyphStartIndex:de,segment:we}=P,xe=de+P.numGlyphs,Ie=ue+P.lineLength,Fe=a.getoffsetX(de),Be=a.getoffsetX(xe-1),We=es(g*Fe,d,b,x,L,D,we,ue,Ie,z,N,V,J,oe,!0,me,pe,be);if(!We)return null;const bt=es(g*Be,d,b,x,L,D,we,ue,Ie,z,N,V,J,oe,!0,me,pe,be);return bt?{first:We,last:bt}:null}function Qa(g,a,d,b){return g===s.WritingMode.horizontal&&Math.abs(b)>Math.abs(d)?{useVertical:!0}:g===s.WritingMode.vertical?b>0?{needsFlipping:!0}:null:a!==0&&(function(x,L){return x===0||Math.abs(L/x)>Zd})(d,b)?a===1?{needsFlipping:!0}:null:d<0?{needsFlipping:!0}:null}function Sn(g,a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be,ue,de,we){const xe=a/24,Ie=g.lineOffsetX*xe,Fe=g.lineOffsetY*xe,{lineStartIndex:Be,glyphStartIndex:We,numGlyphs:bt,segment:pt,writingMode:Xe,flipState:tr}=g,ct=Be+g.lineLength,Ft=St=>{if(V){const[or,it,Mt]=St.up,Pr=N.length;s.updateGlobeVertexNormal(V,Pr+0,or,it,Mt),s.updateGlobeVertexNormal(V,Pr+1,or,it,Mt),s.updateGlobeVertexNormal(V,Pr+2,or,it,Mt),s.updateGlobeVertexNormal(V,Pr+3,or,it,Mt)}const[Jt,Et,$t]=St.point;s.addDynamicAttributes(N,Jt,Et,$t,St.angle)};if(bt>1){const St=Io(xe,P,Ie,Fe,d,J,oe,g,z,L,me,be,!1,ue,de,we);if(!St)return{notEnoughRoom:!0};if(b&&!d){let[Jt,Et,$t]=St.first.point,[or,it,Mt]=St.last.point;[Jt,Et]=lo(Jt,Et,$t,D),[or,it]=lo(or,it,Mt,D);const Pr=Qa(Xe,tr,(or-Jt)*pe,it-Et);if(g.flipState=Pr&&Pr.needsFlipping?1:2,Pr)return Pr}Ft(St.first);for(let Jt=We+1;Jt<We+bt-1;Jt++){const Et=es(xe*P.getoffsetX(Jt),Ie,Fe,d,J,oe,pt,Be,ct,z,L,me,be,!1,!1,ue,de,we);if(!Et)return N.length-=4*(Jt-We),{notEnoughRoom:!0};Ft(Et)}Ft(St.last)}else{if(b&&!d){const Jt=lo(oe.x,oe.y,0,x),Et=Be+pt+1,$t=new s.pointGeometry(z.getx(Et),z.gety(Et)),or=lo($t.x,$t.y,0,x),it=or[3]>0?or:vs(oe,$t,Jt,1,x,void 0,ue,de.canonical),Mt=Qa(Xe,tr,(it[0]-Jt[0])*pe,it[1]-Jt[1]);if(g.flipState=Mt&&Mt.needsFlipping?1:2,Mt)return Mt}const St=es(xe*P.getoffsetX(We),Ie,Fe,d,J,oe,pt,Be,ct,z,L,me,be,!1,!1,ue,de,we);if(!St)return{notEnoughRoom:!0};Ft(St)}return{}}function ia(g,a,d,b,x){const{x:L,y:D,z:P}=b.projectTilePoint(g.x,g.y,a);if(!x)return lo(L,D,P,d);const[z,N,V]=x(g);return lo(L+z,D+N,P+V,d)}function vs(g,a,d,b,x,L,D,P){const z=ia(g.sub(a)._unit()._add(g),P,x,D,L);return s.sub(z,d,z),s.normalize(z,z),s.scaleAndAdd(z,d,z,b)}function es(g,a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be,ue,de){const we=b?g-a:g+a;let xe=we>0?1:-1,Ie=0;b&&(xe*=-1,Ie=Math.PI),xe<0&&(Ie+=Math.PI);let Fe=P+D+(xe>0?0:1)|0,Be=x,We=x,bt=0,pt=0;const Xe=Math.abs(we),tr=[],ct=[];let Ft=L,St=Ft;const Jt=()=>vs(St,Ft,We,Xe-bt+1,V,oe,be,ue.canonical);for(;bt+pt<=Xe;){if(Fe+=xe,Fe<P||Fe>=z)return null;if(We=Be,St=Ft,tr.push(We),me&&ct.push(St),Ft=new s.pointGeometry(N.getx(Fe),N.gety(Fe)),Be=J[Fe],!Be){const on=ia(Ft,ue.canonical,V,be,oe);Be=on[3]>0?J[Fe]=on:Jt()}bt+=pt,pt=s.distance(We,Be)}pe&&oe&&(J[Fe]&&(Be=Jt(),pt=s.distance(We,Be)),J[Fe]=Be);const Et=(Xe-bt)/pt,$t=Ft.sub(St)._mult(Et)._add(St),or=s.sub([],Be,We),it=s.scaleAndAdd([],We,or,Et);let Mt=[0,0,1],Pr=or[0],Qr=or[1];if(de&&(Mt=be.upVector(ue.canonical,$t.x,$t.y),Mt[0]!==0||Mt[1]!==0||Mt[2]!==1)){const on=[Mt[2],0,-Mt[0]],Mn=s.cross([],Mt,on);s.normalize(on,on),s.normalize(Mn,Mn),Pr=s.dot(or,on),Qr=s.dot(or,Mn)}if(d){const on=s.cross([],Mt,or);s.normalize(on,on),s.scaleAndAdd(it,it,on,d*xe)}const Rr=Ie+Math.atan2(Qr,Pr);return tr.push(it),me&&ct.push($t),{point:it,angle:Rr,path:tr,tilePath:ct,up:Mt}}function uo(g,a){const d=a.length,b=d+4*g;a.resize(b),a.float32.fill(-1/0,4*d,4*b)}function Si(g,a,d){const b=a[0],x=a[1];return g[0]=d[0]*b+d[4]*x+d[12],g[1]=d[1]*b+d[5]*x+d[13],g[3]=d[3]*b+d[7]*x+d[15],g}const oa=100;class Ns{constructor(a,d,b=new Ja(a.width+200,a.height+200,25),x=new Ja(a.width+200,a.height+200,25)){this.transform=a,this.grid=b,this.ignoredGrid=x,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+oa,this.screenBottomBoundary=a.height+oa,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.fogState=d}placeCollisionBox(a,d,b,x,L,D,P,z){let N=b.projectedAnchorX,V=b.projectedAnchorY,J=b.projectedAnchorZ;const oe=b.elevation,me=b.tileID,pe=a.getProjection();if(oe&&me){const[Be,We,bt]=pe.upVector(me.canonical,b.tileAnchorX,b.tileAnchorY),pt=pe.upVectorScale(me.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;N+=Be*oe*pt,V+=We*oe*pt,J+=bt*oe*pt}const be=this.projectAndGetPerspectiveRatio(P,N,V,J,b.tileID,pe.name==="globe"||!!oe||this.transform.pitch>0,pe),ue=D*be.perspectiveRatio,de=(b.x1*d+x.x-b.padding)*ue+be.point.x,we=(b.y1*d+x.y-b.padding)*ue+be.point.y,xe=(b.x2*d+x.x+b.padding)*ue+be.point.x,Ie=(b.y2*d+x.y+b.padding)*ue+be.point.y,Fe=be.perspectiveRatio<=.55||be.occluded;return!this.isInsideGrid(de,we,xe,Ie)||!L&&this.grid.hitTest(de,we,xe,Ie,z)||Fe?{box:[],offscreen:!1,occluded:be.occluded}:{box:[de,we,xe,Ie],offscreen:this.isOffscreen(de,we,xe,Ie),occluded:!1}}placeCollisionCircles(a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be){const ue=[],de=this.transform.elevation,we=a.getProjection(),xe=de?de.getAtTileOffsetFunc(be,this.transform.center.lat,this.transform.worldSize,we):null,Ie=new s.pointGeometry(b.tileAnchorX,b.tileAnchorY);let{x:Fe,y:Be,z:We}=we.projectTilePoint(Ie.x,Ie.y,be.canonical);if(xe){const[$t,or,it]=xe(Ie);Fe+=$t,Be+=or,We+=it}const bt=we.name==="globe",pt=this.projectAndGetPerspectiveRatio(P,Fe,Be,We,be,bt||!!de||this.transform.pitch>0,we),{perspectiveRatio:Xe}=pt,tr=(J?D/Xe:D*Xe)/s.ONE_EM,ct=lo(Fe,Be,We,z),Ft=pt.signedDistanceFromCamera>0?Io(tr,L,b.lineOffsetX*tr,b.lineOffsetY*tr,!1,ct,Ie,b,x,z,{},de&&!J?xe:null,J&&!!de,we,be,J):null;let St=!1,Jt=!1,Et=!0;if(Ft&&!pt.occluded){const $t=.5*me*Xe+pe,or=new s.pointGeometry(-100,-100),it=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Mt=new $i,{first:Pr,last:Qr}=Ft,Rr=Pr.path.length;let on=[];for(let kr=Rr-1;kr>=1;kr--)on.push(Pr.path[kr]);for(let kr=1;kr<Qr.path.length;kr++)on.push(Qr.path[kr]);const Mn=2.5*$t;N&&(on=on.map((([kr,oi,Xn],ai)=>(xe&&!bt&&(Xn=xe(ai<Rr-1?Pr.tilePath[Rr-1-ai]:Qr.tilePath[ai-Rr+2])[2]),lo(kr,oi,Xn,N)))),on.some((kr=>kr[3]<=0))&&(on=[]));let en=[];if(on.length>0){let kr=1/0,oi=-1/0,Xn=1/0,ai=-1/0;for(const li of on)kr=Math.min(kr,li[0]),Xn=Math.min(Xn,li[1]),oi=Math.max(oi,li[0]),ai=Math.max(ai,li[1]);oi>=or.x&&kr<=it.x&&ai>=or.y&&Xn<=it.y&&(en=[on.map((li=>new s.pointGeometry(li[0],li[1])))],(kr<or.x||oi>it.x||Xn<or.y||ai>it.y)&&(en=s.clipLine(en,or.x,or.y,it.x,it.y)))}for(const kr of en){Mt.reset(kr,.25*$t);let oi=0;oi=Mt.length<=.5*$t?1:Math.ceil(Mt.paddedLength/Mn)+1;for(let Xn=0;Xn<oi;Xn++){const ai=Xn/Math.max(oi-1,1),li=Mt.lerp(ai),Ro=li.x+oa,ca=li.y+oa;ue.push(Ro,ca,$t,0);const Fo=Ro-$t,as=ca-$t,ui=Ro+$t,mi=ca+$t;if(Et=Et&&this.isOffscreen(Fo,as,ui,mi),Jt=Jt||this.isInsideGrid(Fo,as,ui,mi),!d&&this.grid.hitTestCircle(Ro,ca,$t,oe)&&(St=!0,!V))return{circles:[],offscreen:!1,collisionDetected:St,occluded:!1}}}}return{circles:!V&&St||!Jt?[]:ue,offscreen:Et,collisionDetected:St,occluded:pt.occluded}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let b=1/0,x=1/0,L=-1/0,D=-1/0;for(const V of a){const J=new s.pointGeometry(V.x+oa,V.y+oa);b=Math.min(b,J.x),x=Math.min(x,J.y),L=Math.max(L,J.x),D=Math.max(D,J.y),d.push(J)}const P=this.grid.query(b,x,L,D).concat(this.ignoredGrid.query(b,x,L,D)),z={},N={};for(const V of P){const J=V.key;if(z[J.bucketInstanceId]===void 0&&(z[J.bucketInstanceId]={}),z[J.bucketInstanceId][J.featureIndex])continue;const oe=[new s.pointGeometry(V.x1,V.y1),new s.pointGeometry(V.x2,V.y1),new s.pointGeometry(V.x2,V.y2),new s.pointGeometry(V.x1,V.y2)];s.polygonIntersectsPolygon(d,oe)&&(z[J.bucketInstanceId][J.featureIndex]=!0,N[J.bucketInstanceId]===void 0&&(N[J.bucketInstanceId]=[]),N[J.bucketInstanceId].push(J.featureIndex))}return N}insertCollisionBox(a,d,b,x,L){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:b,featureIndex:x,collisionGroupID:L},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,b,x,L){const D=d?this.ignoredGrid:this.grid,P={bucketInstanceId:b,featureIndex:x,collisionGroupID:L};for(let z=0;z<a.length;z+=4)D.insertCircle(P,a[z],a[z+1],a[z+2])}projectAndGetPerspectiveRatio(a,d,b,x,L,D,P){const z=[d,b,x,1];let N=!1;if(x||this.transform.pitch>0){s.transformMat4$1(z,z,a);const J=P.name==="globe";this.fogState&&L&&!J&&(N=(function(me,pe,be,ue,de,we){const xe=we.calculateFogTileMatrix(de),Ie=[pe,be,ue];return s.transformMat4(Ie,Ie,xe),nr(me,Ie,we.pitch,we._fov)})(this.fogState,d,b,x,L.toUnwrapped(),this.transform)>.9)}else Si(z,z,a);const V=z[3];return{point:new s.pointGeometry((z[0]/V+1)/2*this.transform.width+oa,(-z[1]/V+1)/2*this.transform.height+oa),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(P)/V*.5,1.5),signedDistanceFromCamera:V,occluded:D&&z[2]>V||N}}isOffscreen(a,d,b,x){return b<oa||a>=this.screenRightBoundary||x<oa||d>this.screenBottomBoundary}isInsideGrid(a,d,b,x){return b>=0&&a<this.gridRightBoundary&&x>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const a=s.identity([]);return s.translate(a,a,[-100,-100,0]),a}}function ka(g,a,d){const b=a.createTileMatrix(g,g.worldSize,d.toUnwrapped());return s.multiply(new Float32Array(16),g.projMatrix,b)}function hl(g,a,d){if(a.projection.name===d.projection.name)return g.projMatrix;const b=d.clone();return b.setProjection(a.projection),ka(b,a.getProjection(),g)}function Hs(g,a,d){return a.name===d.projection.name?g.projMatrix:ka(d,a,g)}class vu{constructor(a,d,b,x){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):x&&b?1:0,this.placed=b}isHidden(){return this.opacity===0&&!this.placed}}class aa{constructor(a,d,b,x,L,D=!1){this.text=new vu(a?a.text:null,d,b,L),this.icon=new vu(a?a.icon:null,d,x,L),this.clipped=D}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class pl{constructor(a,d,b,x=!1){this.text=a,this.icon=d,this.skipFade=b,this.clipped=x}}class ml{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class $l{constructor(a,d,b,x,L){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=b,this.bucketIndex=x,this.tileID=L}}class wo{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:b=>b.collisionGroupID===d}}return this.collisionGroups[a]}}function Ri(g,a,d,b,x){const{horizontalAlign:L,verticalAlign:D}=s.getAnchorAlignment(g),P=-(L-.5)*a,z=-(D-.5)*d,N=s.evaluateVariableOffset(g,b);return new s.pointGeometry(P+N[0]*x,z+N[1]*x)}function Vl(g,a,d,b,x){const L=new s.pointGeometry(g,a);return d&&L._rotate(b?x:-x),L}class Ul{constructor(a,d,b,x,L){this.transform=a.clone(),this.projection=a.projection.name,this.collisionIndex=new Ns(this.transform,L),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new wo(b),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,d,b,x){const L=b.getBucket(d),D=b.latestFeatureIndex;if(!L||!D||d.id!==L.layerIds[0])return;const P=L.layers[0].layout,z=b.collisionBoxArray,N=Math.pow(2,this.transform.zoom-b.tileID.overscaledZ),V=b.tileSize/s.EXTENT,J=b.tileID.toUnwrapped();this.transform.setProjection(L.projection);const oe=(me=b.tileID,pe=L.getProjection(),be=this.transform,pe.name===this.projection?be.calculateProjMatrix(me.toUnwrapped()):ka(be,pe,me));var me,pe,be;const ue=P.get("text-pitch-alignment")==="map",de=P.get("text-rotation-alignment")==="map";d.compileFilter();const we=d.dynamicFilter(),xe=d.dynamicFilterNeedsFeature(),Ie=this.transform.calculatePixelsToTileUnitsMatrix(b),Fe=bs(oe,b.tileID.canonical,ue,de,this.transform,L.getProjection(),Ie);let Be=null;if(ue){const pt=bu(oe,b.tileID.canonical,ue,de,this.transform,L.getProjection(),Ie);Be=s.multiply([],this.transform.labelPlaneMatrix,pt)}let We=null;we&&b.latestFeatureIndex&&(We={unwrappedTileID:J,dynamicFilter:we,dynamicFilterNeedsFeature:xe,featureIndex:b.latestFeatureIndex}),this.retainedQueryData[L.bucketInstanceId]=new $l(L.bucketInstanceId,D,L.sourceLayerIndex,L.index,b.tileID);const bt={bucket:L,layout:P,posMatrix:oe,textLabelPlaneMatrix:Fe,labelToScreenMatrix:Be,clippingData:We,scale:N,textPixelRatio:V,holdingForFade:b.holdingForFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(L.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:s.evaluateSizeForZoom(L.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(L.sourceID)};if(x)for(const pt of L.sortKeyRanges){const{sortKey:Xe,symbolInstanceStart:tr,symbolInstanceEnd:ct}=pt;a.push({sortKey:Xe,symbolInstanceStart:tr,symbolInstanceEnd:ct,parameters:bt})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:L.symbolInstances.length,parameters:bt})}attemptAnchorPlacement(a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be,ue,de,we){const{textOffset0:xe,textOffset1:Ie,crossTileID:Fe}=oe,Be=[xe,Ie],We=Ri(a,b,x,Be,L),bt=this.collisionIndex.placeCollisionBox(pe,L,d,Vl(We.x,We.y,D,P,this.transform.angle),J,z,N,V.predicate);if(ue){const pt=pe.getSymbolInstanceIconSize(we,this.transform.zoom,oe.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(pe,pt,ue,Vl(We.x,We.y,D,P,this.transform.angle),J,z,N,V.predicate).box.length===0)return}if(bt.box.length>0){let pt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Fe]&&this.prevPlacement.placements[Fe]&&this.prevPlacement.placements[Fe].text&&(pt=this.prevPlacement.variableOffsets[Fe].anchor),this.variableOffsets[Fe]={textOffset:Be,width:b,height:x,anchor:a,textScale:L,prevAnchor:pt},this.markUsedJustification(pe,a,oe,be),pe.allowVerticalPlacement&&(this.markUsedOrientation(pe,be,oe),this.placedOrientations[Fe]=be),{shift:We,placedGlyphBoxes:bt}}}placeLayerBucketPart(a,d,b,x){const{bucket:L,layout:D,posMatrix:P,textLabelPlaneMatrix:z,labelToScreenMatrix:N,clippingData:V,textPixelRatio:J,holdingForFade:oe,collisionBoxArray:me,partiallyEvaluatedTextSize:pe,partiallyEvaluatedIconSize:be,collisionGroup:ue}=a.parameters,de=D.get("text-optional"),we=D.get("icon-optional"),xe=D.get("text-allow-overlap"),Ie=D.get("icon-allow-overlap"),Fe=D.get("text-rotation-alignment")==="map",Be=D.get("text-pitch-alignment")==="map",We=D.get("icon-text-fit")!=="none",bt=D.get("symbol-z-order")==="viewport-y";this.transform.setProjection(L.projection);let pt=xe&&(Ie||!L.hasIconData()||we),Xe=Ie&&(xe||!L.hasTextData()||de);!L.collisionArrays&&me&&L.deserializeCollisionBoxes(me),b&&x&&L.updateCollisionDebugBuffers(this.transform.zoom,me);const tr=(ct,Ft,St)=>{const{crossTileID:Jt,numVerticalGlyphVertices:Et}=ct;if(V){const ui={zoom:this.transform.zoom,pitch:this.transform.pitch};let mi=null;if(V.dynamicFilterNeedsFeature){const Wn=this.retainedQueryData[L.bucketInstanceId];mi=V.featureIndex.loadFeature({featureIndex:ct.featureIndex,bucketIndex:Wn.bucketIndex,sourceLayerIndex:Wn.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,V.dynamicFilter)(ui,mi,this.retainedQueryData[L.bucketInstanceId].tileID.canonical,new s.pointGeometry(ct.tileAnchorX,ct.tileAnchorY),this.transform.calculateDistanceTileData(V.unwrappedTileID)))return this.placements[Jt]=new pl(!1,!1,!1,!0),void(d[Jt]=!0)}if(d[Jt])return;if(oe)return void(this.placements[Jt]=new pl(!1,!1,!1));let $t=!1,or=!1,it=!0,Mt=!1,Pr=!1,Qr=null,Rr={box:null,offscreen:null,occluded:null},on={box:null},Mn=null,en=null,kr=null,oi=0,Xn=0,ai=0;St.textFeatureIndex?oi=St.textFeatureIndex:ct.useRuntimeCollisionCircles&&(oi=ct.featureIndex),St.verticalTextFeatureIndex&&(Xn=St.verticalTextFeatureIndex);const li=ui=>{ui.tileID=this.retainedQueryData[L.bucketInstanceId].tileID;const mi=this.transform.elevation;(mi||ui.elevation)&&(ui.elevation=mi?mi.getAtTileOffset(ui.tileID,ui.tileAnchorX,ui.tileAnchorY):0)},Ro=St.textBox;if(Ro){li(Ro);const ui=Wn=>{let Vi=s.WritingMode.horizontal;if(L.allowVerticalPlacement&&!Wn&&this.prevPlacement){const zo=this.prevPlacement.placedOrientations[Jt];zo&&(this.placedOrientations[Jt]=zo,Vi=zo,this.markUsedOrientation(L,Vi,ct))}return Vi},mi=(Wn,Vi)=>{if(L.allowVerticalPlacement&&Et>0&&St.verticalTextBox){for(const zo of L.writingModes)if(zo===s.WritingMode.vertical?(Rr=Vi(),on=Rr):Rr=Wn(),Rr&&Rr.box&&Rr.box.length)break}else Rr=Wn()};if(D.get("text-variable-anchor")){let Wn=D.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Jt]){const _i=this.prevPlacement.variableOffsets[Jt];Wn.indexOf(_i.anchor)>0&&(Wn=Wn.filter((Zo=>Zo!==_i.anchor)),Wn.unshift(_i.anchor))}const Vi=(_i,Zo,nu)=>{const Es=L.getSymbolInstanceTextSize(pe,ct,this.transform.zoom,Ft),ho=(_i.x2-_i.x1)*Es+2*_i.padding,Ra=(_i.y2-_i.y1)*Es+2*_i.padding,Fa=We&&!Ie?Zo:null;Fa&&li(Fa);let wn={box:[],offscreen:!1,occluded:!1};const xc=xe?2*Wn.length:Wn.length;for(let Yu=0;Yu<xc;++Yu){const da=this.attemptAnchorPlacement(Wn[Yu%Wn.length],_i,ho,Ra,Es,Fe,Be,J,P,ue,Yu>=Wn.length,ct,Ft,L,nu,Fa,pe,be);if(da&&(wn=da.placedGlyphBoxes,wn&&wn.box&&wn.box.length)){$t=!0,Qr=da.shift;break}}return wn};mi((()=>Vi(Ro,St.iconBox,s.WritingMode.horizontal)),(()=>{const _i=St.verticalTextBox;return _i&&li(_i),L.allowVerticalPlacement&&!(Rr&&Rr.box&&Rr.box.length)&&Et>0&&_i?Vi(_i,St.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),Rr&&($t=Rr.box,it=Rr.offscreen,Mt=Rr.occluded);const zo=ui(Rr&&Rr.box);if(!$t&&this.prevPlacement){const _i=this.prevPlacement.variableOffsets[Jt];_i&&(this.variableOffsets[Jt]=_i,this.markUsedJustification(L,_i.anchor,ct,zo))}}else{const Wn=(Vi,zo)=>{const _i=L.getSymbolInstanceTextSize(pe,ct,this.transform.zoom,Ft),Zo=this.collisionIndex.placeCollisionBox(L,_i,Vi,new s.pointGeometry(0,0),xe,J,P,ue.predicate);return Zo&&Zo.box&&Zo.box.length&&(this.markUsedOrientation(L,zo,ct),this.placedOrientations[Jt]=zo),Zo};mi((()=>Wn(Ro,s.WritingMode.horizontal)),(()=>{const Vi=St.verticalTextBox;return L.allowVerticalPlacement&&Et>0&&Vi?(li(Vi),Wn(Vi,s.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),ui(Rr&&Rr.box&&Rr.box.length)}}if(Mn=Rr,$t=Mn&&Mn.box&&Mn.box.length>0,it=Mn&&Mn.offscreen,Mt=Mn&&Mn.occluded,ct.useRuntimeCollisionCircles){const ui=L.text.placedSymbolArray.get(ct.centerJustifiedTextSymbolIndex>=0?ct.centerJustifiedTextSymbolIndex:ct.verticalPlacedTextSymbolIndex),mi=s.evaluateSizeForFeature(L.textSizeData,pe,ui),Wn=D.get("text-padding");en=this.collisionIndex.placeCollisionCircles(L,xe,ui,L.lineVertexArray,L.glyphOffsetArray,mi,P,z,N,b,Be,ue.predicate,ct.collisionCircleDiameter*mi/s.ONE_EM,Wn,this.retainedQueryData[L.bucketInstanceId].tileID),$t=xe||en.circles.length>0&&!en.collisionDetected,it=it&&en.offscreen,Mt=en.occluded}if(St.iconFeatureIndex&&(ai=St.iconFeatureIndex),St.iconBox){const ui=mi=>{li(mi);const Wn=We&&Qr?Vl(Qr.x,Qr.y,Fe,Be,this.transform.angle):new s.pointGeometry(0,0),Vi=L.getSymbolInstanceIconSize(be,this.transform.zoom,ct.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(L,Vi,mi,Wn,Ie,J,P,ue.predicate)};on&&on.box&&on.box.length&&St.verticalIconBox?(kr=ui(St.verticalIconBox),or=kr.box.length>0):(kr=ui(St.iconBox),or=kr.box.length>0),it=it&&kr.offscreen,Pr=kr.occluded}const ca=de||ct.numHorizontalGlyphVertices===0&&Et===0,Fo=we||ct.numIconVertices===0;if(ca||Fo?Fo?ca||(or=or&&$t):$t=or&&$t:or=$t=or&&$t,$t&&Mn&&Mn.box&&this.collisionIndex.insertCollisionBox(Mn.box,D.get("text-ignore-placement"),L.bucketInstanceId,on&&on.box&&Xn?Xn:oi,ue.ID),or&&kr&&this.collisionIndex.insertCollisionBox(kr.box,D.get("icon-ignore-placement"),L.bucketInstanceId,ai,ue.ID),en&&($t&&this.collisionIndex.insertCollisionCircles(en.circles,D.get("text-ignore-placement"),L.bucketInstanceId,oi,ue.ID),b)){const ui=L.bucketInstanceId;let mi=this.collisionCircleArrays[ui];mi===void 0&&(mi=this.collisionCircleArrays[ui]=new ml);for(let Wn=0;Wn<en.circles.length;Wn+=4)mi.circles.push(en.circles[Wn+0]),mi.circles.push(en.circles[Wn+1]),mi.circles.push(en.circles[Wn+2]),mi.circles.push(en.collisionDetected?1:0)}const as=L.projection.name!=="globe";pt=pt&&(as||!Mt),Xe=Xe&&(as||!Pr),this.placements[Jt]=new pl($t||pt,or||Xe,it||L.justReloaded),d[Jt]=!0};if(bt){const ct=L.getSortedSymbolIndexes(this.transform.angle);for(let Ft=ct.length-1;Ft>=0;--Ft){const St=ct[Ft];tr(L.symbolInstances.get(St),St,L.collisionArrays[St])}}else for(let ct=a.symbolInstanceStart;ct<a.symbolInstanceEnd;ct++)tr(L.symbolInstances.get(ct),ct,L.collisionArrays[ct]);if(b&&L.bucketInstanceId in this.collisionCircleArrays){const ct=this.collisionCircleArrays[L.bucketInstanceId];s.invert(ct.invProjMatrix,P),ct.viewportMatrix=this.collisionIndex.getViewportMatrix()}L.justReloaded=!1}markUsedJustification(a,d,b,x){const{leftJustifiedTextSymbolIndex:L,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:P,verticalPlacedTextSymbolIndex:z,crossTileID:N}=b,V=s.getAnchorJustification(d),J=x===s.WritingMode.vertical?z:V==="left"?L:V==="center"?D:V==="right"?P:-1;L>=0&&(a.text.placedSymbolArray.get(L).crossTileID=J>=0&&L!==J?0:N),D>=0&&(a.text.placedSymbolArray.get(D).crossTileID=J>=0&&D!==J?0:N),P>=0&&(a.text.placedSymbolArray.get(P).crossTileID=J>=0&&P!==J?0:N),z>=0&&(a.text.placedSymbolArray.get(z).crossTileID=J>=0&&z!==J?0:N)}markUsedOrientation(a,d,b){const x=d===s.WritingMode.horizontal||d===s.WritingMode.horizontalOnly?d:0,L=d===s.WritingMode.vertical?d:0,{leftJustifiedTextSymbolIndex:D,centerJustifiedTextSymbolIndex:P,rightJustifiedTextSymbolIndex:z,verticalPlacedTextSymbolIndex:N}=b,V=a.text.placedSymbolArray;D>=0&&(V.get(D).placedOrientation=x),P>=0&&(V.get(P).placedOrientation=x),z>=0&&(V.get(z).placedOrientation=x),N>=0&&(V.get(N).placedOrientation=L)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let b=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const x=d?d.symbolFadeChange(a):1,L=d?d.opacities:{},D=d?d.variableOffsets:{},P=d?d.placedOrientations:{};for(const z in this.placements){const N=this.placements[z],V=L[z];V?(this.opacities[z]=new aa(V,x,N.text,N.icon,null,N.clipped),b=b||N.text!==V.text.placed||N.icon!==V.icon.placed):(this.opacities[z]=new aa(null,x,N.text,N.icon,N.skipFade,N.clipped),b=b||N.text||N.icon)}for(const z in L){const N=L[z];if(!this.opacities[z]){const V=new aa(N,x,!1,!1);V.isHidden()||(this.opacities[z]=V,b=b||N.text.placed||N.icon.placed)}}for(const z in D)this.variableOffsets[z]||!this.opacities[z]||this.opacities[z].isHidden()||(this.variableOffsets[z]=D[z]);for(const z in P)this.placedOrientations[z]||!this.opacities[z]||this.opacities[z].isHidden()||(this.placedOrientations[z]=P[z]);b?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){const b={};for(const x of d){const L=x.getBucket(a);L&&x.latestFeatureIndex&&a.id===L.layerIds[0]&&this.updateBucketOpacities(L,b,x.collisionBoxArray)}}updateBucketOpacities(a,d,b){a.hasTextData()&&a.text.opacityVertexArray.clear(),a.hasIconData()&&a.icon.opacityVertexArray.clear(),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const x=a.layers[0].layout,L=!!a.layers[0].dynamicFilter(),D=new aa(null,0,!1,!1,!0),P=x.get("text-allow-overlap"),z=x.get("icon-allow-overlap"),N=x.get("text-variable-anchor"),V=x.get("text-rotation-alignment")==="map",J=x.get("text-pitch-alignment")==="map",oe=x.get("icon-text-fit")!=="none",me=new aa(null,0,P&&(z||!a.hasIconData()||x.get("icon-optional")),z&&(P||!a.hasTextData()||x.get("text-optional")),!0);!a.collisionArrays&&b&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(b);const pe=(ue,de,we)=>{for(let xe=0;xe<de/4;xe++)ue.opacityVertexArray.emplaceBack(we)};let be=0;for(let ue=0;ue<a.symbolInstances.length;ue++){const de=a.symbolInstances.get(ue),{numHorizontalGlyphVertices:we,numVerticalGlyphVertices:xe,crossTileID:Ie,numIconVertices:Fe}=de;let Be=this.opacities[Ie];d[Ie]?Be=D:Be||(Be=me,this.opacities[Ie]=Be),d[Ie]=!0;const We=we>0||xe>0,bt=Fe>0,pt=this.placedOrientations[Ie],Xe=pt===s.WritingMode.vertical,tr=pt===s.WritingMode.horizontal||pt===s.WritingMode.horizontalOnly;if(!We&&!bt||Be.isHidden()||be++,We){const ct=eo(Be.text);pe(a.text,we,Xe?gl:ct),pe(a.text,xe,tr?gl:ct);const Ft=Be.text.isHidden(),{leftJustifiedTextSymbolIndex:St,centerJustifiedTextSymbolIndex:Jt,rightJustifiedTextSymbolIndex:Et,verticalPlacedTextSymbolIndex:$t}=de,or=a.text.placedSymbolArray,it=Ft||Xe?1:0;St>=0&&(or.get(St).hidden=it),Jt>=0&&(or.get(Jt).hidden=it),Et>=0&&(or.get(Et).hidden=it),$t>=0&&(or.get($t).hidden=Ft||tr?1:0);const Mt=this.variableOffsets[Ie];Mt&&this.markUsedJustification(a,Mt.anchor,de,pt);const Pr=this.placedOrientations[Ie];Pr&&(this.markUsedJustification(a,"left",de,Pr),this.markUsedOrientation(a,Pr,de))}if(bt){const ct=eo(Be.icon),{placedIconSymbolIndex:Ft,verticalPlacedIconSymbolIndex:St}=de,Jt=a.icon.placedSymbolArray,Et=Be.icon.isHidden()?1:0;Ft>=0&&(pe(a.icon,Fe,Xe?gl:ct),Jt.get(Ft).hidden=Et),St>=0&&(pe(a.icon,de.numVerticalIconVertices,tr?gl:ct),Jt.get(St).hidden=Et)}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const ct=a.collisionArrays[ue];if(ct){let Ft=new s.pointGeometry(0,0),St=!0;if(ct.textBox||ct.verticalTextBox){if(N){const Et=this.variableOffsets[Ie];Et?(Ft=Ri(Et.anchor,Et.width,Et.height,Et.textOffset,Et.textScale),V&&Ft._rotate(J?this.transform.angle:-this.transform.angle)):St=!1}L&&(St=!Be.clipped),ct.textBox&&Qi(a.textCollisionBox.collisionVertexArray,Be.text.placed,!St||Xe,Ft.x,Ft.y),ct.verticalTextBox&&Qi(a.textCollisionBox.collisionVertexArray,Be.text.placed,!St||tr,Ft.x,Ft.y)}const Jt=St&&!!(!tr&&ct.verticalIconBox);ct.iconBox&&Qi(a.iconCollisionBox.collisionVertexArray,Be.icon.placed,Jt,oe?Ft.x:0,oe?Ft.y:0),ct.verticalIconBox&&Qi(a.iconCollisionBox.collisionVertexArray,Be.icon.placed,!Jt,oe?Ft.x:0,oe?Ft.y:0)}}}if(a.fullyClipped=be===0,a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.bucketInstanceId in this.collisionCircleArrays){const ue=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=ue.invProjMatrix,a.placementViewportMatrix=ue.viewportMatrix,a.collisionCircleArray=ue.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){const b=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*b>a}setStale(){this.stale=!0}}function Qi(g,a,d,b,x){g.emplaceBack(a?1:0,d?1:0,b||0,x||0),g.emplaceBack(a?1:0,d?1:0,b||0,x||0),g.emplaceBack(a?1:0,d?1:0,b||0,x||0),g.emplaceBack(a?1:0,d?1:0,b||0,x||0)}const No=Math.pow(2,25),td=Math.pow(2,24),Nl=Math.pow(2,17),Ai=Math.pow(2,16),_l=Math.pow(2,9),wu=Math.pow(2,8),ws=Math.pow(2,1);function eo(g){if(g.opacity===0&&!g.placed)return 0;if(g.opacity===1&&g.placed)return 4294967295;const a=g.placed?1:0,d=Math.floor(127*g.opacity);return d*No+a*td+d*Nl+a*Ai+d*_l+a*wu+d*ws+a}const gl=0;class ii{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&a.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,b,x,L){const D=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(D,x,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,L())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort(((P,z)=>P.sortKey-z.sortKey)));this._currentPartIndex<D.length;){const P=D[this._currentPartIndex];if(d.placeLayerBucketPart(P,this._seenCrossTileIDs,b,P.symbolInstanceStart===0),this._currentPartIndex++,L())return!0}return!1}}class Tn{constructor(a,d,b,x,L,D,P,z){this.placement=new Ul(a,L,D,P,z),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=b,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(a,d,b){const x=s.exported.now(),L=()=>{const D=s.exported.now()-x;return!this._forceFullPlacement&&D>2};for(;this._currentPlacementIndex>=0;){const D=d[a[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=P)&&(!D.maxzoom||D.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new ii(D)),this._inProgressLayer.continuePlacement(b[D.source],this.placement,this._showCollisionBoxes,D,L))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const xs=512/s.EXTENT/2;class qs{constructor(a,d,b){this.tileID=a,this.indexedSymbolInstances={},this.bucketInstanceId=b;for(let x=0;x<d.length;x++){const L=d.get(x),D=L.key;this.indexedSymbolInstances[D]||(this.indexedSymbolInstances[D]=[]),this.indexedSymbolInstances[D].push({crossTileID:L.crossTileID,coord:this.getScaledCoordinates(L,a)})}}getScaledCoordinates(a,d){const b=xs/Math.pow(2,d.canonical.z-this.tileID.canonical.z);return{x:Math.floor((d.canonical.x*s.EXTENT+a.tileAnchorX)*b),y:Math.floor((d.canonical.y*s.EXTENT+a.tileAnchorY)*b)}}findMatches(a,d,b){const x=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let L=0;L<a.length;L++){const D=a.get(L);if(D.crossTileID)continue;const P=this.indexedSymbolInstances[D.key];if(!P)continue;const z=this.getScaledCoordinates(D,d);for(const N of P)if(Math.abs(N.coord.x-z.x)<=x&&Math.abs(N.coord.y-z.y)<=x&&!b[N.crossTileID]){b[N.crossTileID]=!0,D.crossTileID=N.crossTileID;break}}}}class sc{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class lc{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const d=Math.round((a-this.lng)/360);if(d!==0)for(const b in this.indexes){const x=this.indexes[b],L={};for(const D in x){const P=x[D];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+d),L[P.tileID.key]=P}this.indexes[b]=L}this.lng=a}addBucket(a,d,b){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let L=0;L<d.symbolInstances.length;L++)d.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const x=this.usedCrossTileIDs[a.overscaledZ];for(const L in this.indexes){const D=this.indexes[L];if(Number(L)>a.overscaledZ)for(const P in D){const z=D[P];z.tileID.isChildOf(a)&&z.findMatches(d.symbolInstances,a,x)}else{const P=D[a.scaledTo(Number(L)).key];P&&P.findMatches(d.symbolInstances,a,x)}}for(let L=0;L<d.symbolInstances.length;L++){const D=d.symbolInstances.get(L);D.crossTileID||(D.crossTileID=b.generate(),x[D.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new qs(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(const b in d.indexedSymbolInstances)for(const x of d.indexedSymbolInstances[b])delete this.usedCrossTileIDs[a][x.crossTileID]}removeStaleBuckets(a){let d=!1;for(const b in this.indexes){const x=this.indexes[b];for(const L in x)a[x[L].bucketInstanceId]||(this.removeBucketCrossTileIDs(b,x[L]),delete x[L],d=!0)}return d}}class Gs{constructor(){this.layerIndexes={},this.crossTileIDs=new sc,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,b,x){let L=this.layerIndexes[a.id];L===void 0&&(L=this.layerIndexes[a.id]=new lc);let D=!1;const P={};x.name!=="globe"&&L.handleWrapJump(b);for(const z of d){const N=z.getBucket(a);N&&a.id===N.layerIds[0]&&(N.bucketInstanceId||(N.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(z.tileID,N,this.crossTileIDs)&&(D=!0),P[N.bucketInstanceId]=!0)}return L.removeStaleBuckets(P)&&(D=!0),D}pruneUnusedLayers(a){const d={};a.forEach((b=>{d[b]=!0}));for(const b in this.layerIndexes)d[b]||delete this.layerIndexes[b]}}const xu=(g,a)=>s.emitValidationErrors(g,a&&a.filter((d=>d.identifier!=="source.canvas"))),Hl=s.pick($r,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),yl=s.pick($r,["setCenter","setZoom","setBearing","setPitch"]),Li={version:8,layers:[],sources:{}},Ti={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Q extends s.Evented{constructor(a,d={}){super(),this.map=a,this.dispatcher=new qr(Kr(),this),this.imageManager=new Ke,this.imageManager.setEventedParent(this),this.glyphManager=new s.GlyphManager(a._requestManager,d.localFontFamily?s.LocalGlyphMode.all:d.localIdeographFontFamily?s.LocalGlyphMode.ideographs:s.LocalGlyphMode.none,d.localFontFamily||d.localIdeographFontFamily),this.crossTileSymbolIndex=new Gs,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const b=this;this._rtlTextPluginCallback=Q.registerForPluginStateChange((x=>{b.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:x.pluginStatus,pluginURL:x.pluginURL},((L,D)=>{if(s.triggerPluginCompletionEvent(L),D&&D.every((P=>P)))for(const P in b._sourceCaches){const z=b._sourceCaches[P],N=z.getSource().type;N!=="vector"&&N!=="geojson"||z.reload()}}))})),this.on("data",(x=>{if(x.dataType!=="source"||x.sourceDataType!=="metadata")return;const L=this.getSource(x.sourceId);if(L&&L.vectorLayerIds)for(const D in this._layers){const P=this._layers[D];P.source===L.id&&this._validateLayer(P)}}))}loadURL(a,d={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const b=typeof d.validate=="boolean"?d.validate:!s.isMapboxURL(a);a=this.map._requestManager.normalizeStyleURL(a,d.accessToken);const x=this.map._requestManager.transformRequest(a,s.ResourceType.Style);this._request=s.getJSON(x,((L,D)=>{this._request=null,L?this.fire(new s.ErrorEvent(L)):D&&this._load(D,b)}))}loadJSON(a,d={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame((()=>{this._request=null,this._load(a,d.validate!==!1)}))}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Li,!1)}_updateLayerCount(a,d){const b=d?1:-1;a.is3D()&&(this._num3DLayers+=b),a.type==="circle"&&(this._numCircleLayers+=b),a.type==="symbol"&&(this._numSymbolLayers+=b)}_load(a,d){if(d&&xu(this,s.validateStyle(a)))return;this._loaded=!0,this.stylesheet=s.clone$1(a),this._updateMapProjection();for(const x in a.sources)this.addSource(x,a.sources[x],{validate:!1});this._changed=!1,a.sprite?this._loadSprite(a.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(a.glyphs);const b=Bn(this.stylesheet.layers);this._order=b.map((x=>x.id)),this._layers={},this._serializedLayers={};for(let x of b)x=s.createStyleLayer(x),x.setEventedParent(this,{layer:{id:x.id}}),this._layers[x.id]=x,this._serializedLayers[x.id]=x.serialize(),this._updateLayerCount(x,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Lt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(a){a?this.stylesheet.projection=a:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(a){this._spriteRequest=(function(d,b,x){let L,D,P;const z=s.exported.devicePixelRatio>1?"@2x":"";let N=s.getJSON(b.transformRequest(b.normalizeSpriteURL(d,z,".json"),s.ResourceType.SpriteJSON),((oe,me)=>{N=null,P||(P=oe,L=me,J())})),V=s.getImage(b.transformRequest(b.normalizeSpriteURL(d,z,".png"),s.ResourceType.SpriteImage),((oe,me)=>{V=null,P||(P=oe,D=me,J())}));function J(){if(P)x(P);else if(L&&D){const oe=s.exported.getImageData(D),me={};for(const pe in L){const{width:be,height:ue,x:de,y:we,sdf:xe,pixelRatio:Ie,stretchX:Fe,stretchY:Be,content:We}=L[pe],bt=new s.RGBAImage({width:be,height:ue});s.RGBAImage.copy(oe,bt,{x:de,y:we},{x:0,y:0},{width:be,height:ue}),me[pe]={data:bt,pixelRatio:Ie,sdf:xe,stretchX:Fe,stretchY:Be,content:We}}x(null,me)}}return{cancel(){N&&(N.cancel(),N=null),V&&(V.cancel(),V=null)}}})(a,this.map._requestManager,((d,b)=>{if(this._spriteRequest=null,d)this.fire(new s.ErrorEvent(d));else if(b)for(const x in b)this.imageManager.addImage(x,b[x]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new s.Event("data",{dataType:"style"}))}))}_validateLayer(a){const d=this.getSource(a.source);if(!d)return;const b=a.sourceLayer;b&&(d.type==="geojson"||d.vectorLayerIds&&d.vectorLayerIds.indexOf(b)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${b}" does not exist on source "${d.id}" as specified by style layer "${a.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this._sourceCaches)if(!this._sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(a){const d=[];for(const b of a){const x=this._layers[b];x.type!=="custom"&&d.push(x.serialize())}return d}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const a in this._sourceCaches)if(this._sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(a){return!!this.terrain&&Ti[a.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(a){if(!this._loaded)return;const d=this._changed;if(this._changed){const x=Object.keys(this._updatedLayers),L=Object.keys(this._removedLayers);(x.length||L.length)&&this._updateWorkerLayers(x,L);for(const D in this._updatedSources){const P=this._updatedSources[D];P==="reload"?this._reloadSource(D):P==="clear"&&this._clearSource(D)}this._updateTilesForChangedImages();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(a);this.light.updateTransitions(a),this.fog&&this.fog.updateTransitions(a),this._resetUpdates()}const b={};for(const x in this._sourceCaches){const L=this._sourceCaches[x];b[x]=L.used,L.used=!1}for(const x of this._order){const L=this._layers[x];if(L.recalculate(a,this._availableImages),!L.isHidden(a.zoom)){const P=this._getLayerSourceCache(L);P&&(P.used=!0)}const D=this.map.painter;if(D){const P=L.getProgramIds();if(!P)continue;const z=L.getProgramConfiguration(a.zoom);for(const N of P)D.useProgram(N,z)}}for(const x in b){const L=this._sourceCaches[x];b[x]!==L.used&&L.getSource().fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:L.getSource().id}))}this.light.recalculate(a),this.terrain&&this.terrain.recalculate(a),this.fog&&this.fog.recalculate(a),this.z=a.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),d&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const d in this._sourceCaches)this._sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(a){if(this._checkLoaded(),xu(this,s.validateStyle(a)))return!1;(a=s.clone$1(a)).layers=Bn(a.layers);const d=(function(x,L){if(!x)return[{command:$r.setStyle,args:[L]}];let D=[];try{if(!E(x.version,L.version))return[{command:$r.setStyle,args:[L]}];E(x.center,L.center)||D.push({command:$r.setCenter,args:[L.center]}),E(x.zoom,L.zoom)||D.push({command:$r.setZoom,args:[L.zoom]}),E(x.bearing,L.bearing)||D.push({command:$r.setBearing,args:[L.bearing]}),E(x.pitch,L.pitch)||D.push({command:$r.setPitch,args:[L.pitch]}),E(x.sprite,L.sprite)||D.push({command:$r.setSprite,args:[L.sprite]}),E(x.glyphs,L.glyphs)||D.push({command:$r.setGlyphs,args:[L.glyphs]}),E(x.transition,L.transition)||D.push({command:$r.setTransition,args:[L.transition]}),E(x.light,L.light)||D.push({command:$r.setLight,args:[L.light]}),E(x.fog,L.fog)||D.push({command:$r.setFog,args:[L.fog]}),E(x.projection,L.projection)||D.push({command:$r.setProjection,args:[L.projection]});const P={},z=[];(function(J,oe,me,pe){let be;for(be in oe=oe||{},J=J||{})J.hasOwnProperty(be)&&(oe.hasOwnProperty(be)||hi(be,me,pe));for(be in oe)oe.hasOwnProperty(be)&&(J.hasOwnProperty(be)?E(J[be],oe[be])||(J[be].type==="geojson"&&oe[be].type==="geojson"&&no(J,oe,be)?me.push({command:$r.setGeoJSONSourceData,args:[be,oe[be].data]}):Vo(be,oe,me,pe)):ei(be,oe,me))})(x.sources,L.sources,z,P);const N=[];x.layers&&x.layers.forEach((J=>{J.source&&P[J.source]?D.push({command:$r.removeLayer,args:[J.id]}):N.push(J)}));let V=x.terrain;V&&P[V.source]&&(D.push({command:$r.setTerrain,args:[void 0]}),V=void 0),D=D.concat(z),E(V,L.terrain)||D.push({command:$r.setTerrain,args:[L.terrain]}),(function(J,oe,me){oe=oe||[];const pe=(J=J||[]).map(Pt),be=oe.map(Pt),ue=J.reduce(vo,{}),de=oe.reduce(vo,{}),we=pe.slice(),xe=Object.create(null);let Ie,Fe,Be,We,bt,pt,Xe;for(Ie=0,Fe=0;Ie<pe.length;Ie++)Be=pe[Ie],de.hasOwnProperty(Be)?Fe++:(me.push({command:$r.removeLayer,args:[Be]}),we.splice(we.indexOf(Be,Fe),1));for(Ie=0,Fe=0;Ie<be.length;Ie++)Be=be[be.length-1-Ie],we[we.length-1-Ie]!==Be&&(ue.hasOwnProperty(Be)?(me.push({command:$r.removeLayer,args:[Be]}),we.splice(we.lastIndexOf(Be,we.length-Fe),1)):Fe++,pt=we[we.length-Ie],me.push({command:$r.addLayer,args:[de[Be],pt]}),we.splice(we.length-Ie,0,Be),xe[Be]=!0);for(Ie=0;Ie<be.length;Ie++)if(Be=be[Ie],We=ue[Be],bt=de[Be],!xe[Be]&&!E(We,bt))if(E(We.source,bt.source)&&E(We["source-layer"],bt["source-layer"])&&E(We.type,bt.type)){for(Xe in bo(We.layout,bt.layout,me,Be,null,$r.setLayoutProperty),bo(We.paint,bt.paint,me,Be,null,$r.setPaintProperty),E(We.filter,bt.filter)||me.push({command:$r.setFilter,args:[Be,bt.filter]}),E(We.minzoom,bt.minzoom)&&E(We.maxzoom,bt.maxzoom)||me.push({command:$r.setLayerZoomRange,args:[Be,bt.minzoom,bt.maxzoom]}),We)We.hasOwnProperty(Xe)&&Xe!=="layout"&&Xe!=="paint"&&Xe!=="filter"&&Xe!=="metadata"&&Xe!=="minzoom"&&Xe!=="maxzoom"&&(Xe.indexOf("paint.")===0?bo(We[Xe],bt[Xe],me,Be,Xe.slice(6),$r.setPaintProperty):E(We[Xe],bt[Xe])||me.push({command:$r.setLayerProperty,args:[Be,Xe,bt[Xe]]}));for(Xe in bt)bt.hasOwnProperty(Xe)&&!We.hasOwnProperty(Xe)&&Xe!=="layout"&&Xe!=="paint"&&Xe!=="filter"&&Xe!=="metadata"&&Xe!=="minzoom"&&Xe!=="maxzoom"&&(Xe.indexOf("paint.")===0?bo(We[Xe],bt[Xe],me,Be,Xe.slice(6),$r.setPaintProperty):E(We[Xe],bt[Xe])||me.push({command:$r.setLayerProperty,args:[Be,Xe,bt[Xe]]}))}else me.push({command:$r.removeLayer,args:[Be]}),pt=we[we.lastIndexOf(Be)+1],me.push({command:$r.addLayer,args:[bt,pt]})})(N,L.layers,D)}catch(P){console.warn("Unable to compute style diff:",P),D=[{command:$r.setStyle,args:[L]}]}return D})(this.serialize(),a).filter((x=>!(x.command in yl)));if(d.length===0)return!1;const b=d.filter((x=>!(x.command in Hl)));if(b.length>0)throw new Error(`Unimplemented: ${b.map((x=>x.command)).join(", ")}.`);return d.forEach((x=>{x.command!=="setTransition"&&x.command!=="setProjection"&&this[x.command].apply(this,x.args)})),this.stylesheet=a,this._updateMapProjection(),!0}addImage(a,d){return this.getImage(a)?this.fire(new s.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(a,d),this._afterImageUpdated(a),this)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){return this.getImage(a)?(this.imageManager.removeImage(a),this._afterImageUpdated(a),this):this.fire(new s.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(a,d,b={}){if(this._checkLoaded(),this.getSource(a)!==void 0)throw new Error("There is already a source with this ID");if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(s.validateSource,`sources.${a}`,d,null,b))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const x=Je(a,d,this.dispatcher,this);x.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(a),source:x.serialize(),sourceId:a})));const L=D=>{const P=(D?"symbol:":"other:")+a,z=this._sourceCaches[P]=new s.SourceCache(P,x,D);(D?this._symbolSourceCaches:this._otherSourceCaches)[a]=z,z.style=this,z.onAdd(this.map)};L(!1),d.type!=="vector"&&d.type!=="geojson"||L(!0),x.onAdd&&x.onAdd(this.map),this._changed=!0}removeSource(a){this._checkLoaded();const d=this.getSource(a);if(!d)throw new Error("There is no source with this ID");for(const x in this._layers)if(this._layers[x].source===a)return this.fire(new s.ErrorEvent(new Error(`Source "${a}" cannot be removed while layer "${x}" is using it.`)));if(this.terrain&&this.terrain.get().source===a)return this.fire(new s.ErrorEvent(new Error(`Source "${a}" cannot be removed while terrain is using it.`)));const b=this._getSourceCaches(a);for(const x of b)delete this._sourceCaches[x.id],delete this._updatedSources[x.id],x.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:x.getSource().id})),x.setEventedParent(null),x.clearTiles();return delete this._otherSourceCaches[a],delete this._symbolSourceCaches[a],d.setEventedParent(null),d.onRemove&&d.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(a,d){this._checkLoaded(),this.getSource(a).setData(d),this._changed=!0}getSource(a){const d=this._getSourceCache(a);return d&&d.getSource()}_getSources(){const a=[];for(const d in this._otherSourceCaches){const b=this._getSourceCache(d);b&&a.push(b.getSource())}return a}addLayer(a,d,b={}){this._checkLoaded();const x=a.id;if(this.getLayer(x))return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${x}" already exists on this map`)));let L;if(a.type==="custom"){if(xu(this,s.validateCustomStyleLayer(a)))return;L=s.createStyleLayer(a)}else{if(typeof a.source=="object"&&(this.addSource(x,a.source),a=s.clone$1(a),a=s.extend(a,{source:x})),this._validate(s.validateLayer,`layers.${x}`,a,{arrayIndex:-1},b))return;L=s.createStyleLayer(a),this._validateLayer(L),L.setEventedParent(this,{layer:{id:x}}),this._serializedLayers[L.id]=L.serialize(),this._updateLayerCount(L,!0)}const D=d?this._order.indexOf(d):this._order.length;if(d&&D===-1)return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${d}" does not exist on this map.`)));this._order.splice(D,0,x),this._layerOrderChanged=!0,this._layers[x]=L;const P=this._getLayerSourceCache(L);if(this._removedLayers[x]&&L.source&&P&&L.type!=="custom"){const z=this._removedLayers[x];delete this._removedLayers[x],z.type!==L.type?this._updatedSources[L.source]="clear":(this._updatedSources[L.source]="reload",P.pause())}this._updateLayer(L),L.onAdd&&L.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new s.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;const b=this._order.indexOf(a);this._order.splice(b,1);const x=d?this._order.indexOf(d):this._order.length;d&&x===-1?this.fire(new s.ErrorEvent(new Error(`Layer with id "${d}" does not exist on this map.`))):(this._order.splice(x,0,a),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(a){this._checkLoaded();const d=this._layers[a];if(!d)return void this.fire(new s.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be removed.`)));d.setEventedParent(null),this._updateLayerCount(d,!1);const b=this._order.indexOf(a);this._order.splice(b,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(a){return this._layers[a]}hasLayer(a){return a in this._layers}hasLayerType(a){for(const d in this._layers)if(this._layers[d].type===a)return!0;return!1}setLayerZoomRange(a,d,b){this._checkLoaded();const x=this.getLayer(a);x?x.minzoom===d&&x.maxzoom===b||(d!=null&&(x.minzoom=d),b!=null&&(x.maxzoom=b),this._updateLayer(x)):this.fire(new s.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(a,d,b={}){this._checkLoaded();const x=this.getLayer(a);if(x){if(!E(x.filter,d))return d==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(s.validateFilter,`layers.${x.id}.filter`,d,{layerType:x.type},b)||(x.filter=s.clone$1(d),this._updateLayer(x)))}else this.fire(new s.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be filtered.`)))}getFilter(a){const d=this.getLayer(a);return d&&s.clone$1(d.filter)}setLayoutProperty(a,d,b,x={}){this._checkLoaded();const L=this.getLayer(a);L?E(L.getLayoutProperty(d),b)||(L.setLayoutProperty(d,b,x),this._updateLayer(L)):this.fire(new s.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(a,d){const b=this.getLayer(a);if(b)return b.getLayoutProperty(d);this.fire(new s.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style.`)))}setPaintProperty(a,d,b,x={}){this._checkLoaded();const L=this.getLayer(a);L?E(L.getPaintProperty(d),b)||(L.setPaintProperty(d,b,x)&&this._updateLayer(L),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new s.ErrorEvent(new Error(`The layer '${a}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(a,d){const b=this.getLayer(a);return b&&b.getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();const b=a.source,x=a.sourceLayer,L=this.getSource(b);if(!L)return void this.fire(new s.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)));const D=L.type;if(D==="geojson"&&x)return void this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(D==="vector"&&!x)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));a.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided.")));const P=this._getSourceCaches(b);for(const z of P)z.setFeatureState(x,a.id,d)}removeFeatureState(a,d){this._checkLoaded();const b=a.source,x=this.getSource(b);if(!x)return void this.fire(new s.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)));const L=x.type,D=L==="vector"?a.sourceLayer:void 0;if(L==="vector"&&!D)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(d&&typeof a.id!="string"&&typeof a.id!="number")return void this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const P=this._getSourceCaches(b);for(const z of P)z.removeFeatureState(D,a.id,d)}getFeatureState(a){this._checkLoaded();const d=a.source,b=a.sourceLayer,x=this.getSource(d);if(x){if(x.type!=="vector"||b)return a.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(d)[0].getFeatureState(b,a.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const a={};for(const d in this._sourceCaches){const b=this._sourceCaches[d].getSource();a[b.id]||(a[b.id]=b.serialize())}return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:a,layers:this._serializeLayers(this._order)},(d=>d!==void 0))}_updateLayer(a){this._updatedLayers[a.id]=!0;const d=this._getLayerSourceCache(a);a.source&&!this._updatedSources[a.source]&&d&&d.getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",d.pause()),this._changed=!0,a.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(a){const d=D=>this._layers[D].type==="fill-extrusion",b={},x=[];for(let D=this._order.length-1;D>=0;D--){const P=this._order[D];if(d(P)){b[P]=D;for(const z of a){const N=z[P];if(N)for(const V of N)x.push(V)}}}x.sort(((D,P)=>P.intersectionZ-D.intersectionZ));const L=[];for(let D=this._order.length-1;D>=0;D--){const P=this._order[D];if(d(P))for(let z=x.length-1;z>=0;z--){const N=x[z].feature;if(b[N.layer.id]<D)break;L.push(N),x.pop()}else for(const z of a){const N=z[P];if(N)for(const V of N)L.push(V.feature)}}return L}queryRenderedFeatures(a,d,b){d&&d.filter&&this._validate(s.validateFilter,"queryRenderedFeatures.filter",d.filter,null,d);const x={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const z of d.layers){const N=this._layers[z];if(!N)return this.fire(new s.ErrorEvent(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];x[N.source]=!0}}const L=[];d.availableImages=this._availableImages;const D=d&&d.layers?d.layers.some((z=>{const N=this.getLayer(z);return N&&N.is3D()})):this.has3DLayers(),P=Nr.createFromScreenPoints(a,b);for(const z in this._sourceCaches){const N=this._sourceCaches[z].getSource().id;d.layers&&!x[N]||L.push(et(this._sourceCaches[z],this._layers,this._serializedLayers,P,d,b,D,!!this.map._showQueryGeometry))}return this.placement&&L.push((function(z,N,V,J,oe,me,pe){const be={},ue=me.queryRenderedSymbols(J),de=[];for(const we of Object.keys(ue).map(Number))de.push(pe[we]);de.sort(hr);for(const we of de){const xe=we.featureIndex.lookupSymbolFeatures(ue[we.bucketInstanceId],N,we.bucketIndex,we.sourceLayerIndex,oe.filter,oe.layers,oe.availableImages,z);for(const Ie in xe){const Fe=be[Ie]=be[Ie]||[],Be=xe[Ie];Be.sort(((We,bt)=>{const pt=we.featureSortOrder;if(pt){const Xe=pt.indexOf(We.featureIndex);return pt.indexOf(bt.featureIndex)-Xe}return bt.featureIndex-We.featureIndex}));for(const We of Be)Fe.push(We)}}for(const we in be)be[we].forEach((xe=>{const Ie=xe.feature,Fe=V(z[we]).getFeatureState(Ie.layer["source-layer"],Ie.id);Ie.source=Ie.layer.source,Ie.layer["source-layer"]&&(Ie.sourceLayer=Ie.layer["source-layer"]),Ie.state=Fe}));return be})(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),P.screenGeometry,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(L)}querySourceFeatures(a,d){d&&d.filter&&this._validate(s.validateFilter,"querySourceFeatures.filter",d.filter,null,d);const b=this._getSourceCaches(a);let x=[];for(const L of b)x=x.concat(Rt(L,d));return x}addSourceType(a,d,b){return Q.getSourceType(a)?b(new Error(`A source type called "${a}" already exists.`)):(Q.setSourceType(a,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:d.workerSourceURL},b):b(null,null))}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();const b=this.light.getLight();let x=!1;for(const D in a)if(!E(a[D],b[D])){x=!0;break}if(!x)return;const L=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(a,d),this.light.updateTransitions(L)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(a,d=1){if(this._checkLoaded(),!a)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(d===1){if(typeof a.source=="object"){const b="terrain-dem-src";this.addSource(b,a.source),a=s.clone$1(a),a=s.extend(a,{source:b})}if(this._validate(s.validateTerrain,"terrain",a))return}if(!this.terrain||this.terrain&&d!==this.terrain.drapeRenderMode)this._createTerrain(a,d);else{const b=this.terrain,x=b.get();for(const L of Object.keys(s.spec.terrain))!a.hasOwnProperty(L)&&s.spec.terrain[L].default&&(a[L]=s.spec.terrain[L].default);for(const L in a)if(!E(a[L],x[L])){b.set(a),this.stylesheet.terrain=a;const D=this._setTransitionParameters({duration:0});b.updateTransitions(D);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(a){const d=this.fog=new pn(a,this.map.transform);this.stylesheet.fog=a;const b=this._setTransitionParameters({duration:0});d.updateTransitions(b)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask((()=>{for(const a of this.map._markers)a._evaluateOpacity()}))}getFog(){return this.fog?this.fog.get():null}setFog(a){if(this._checkLoaded(),!a)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const d=this.fog,b=d.get();Object.keys(a).length===0&&d.set(a);for(const x in a)if(!E(a[x],b[x])){d.set(a),this.stylesheet.fog=a;const L=this._setTransitionParameters({duration:0});d.updateTransitions(L);break}}else this._createFog(a);this._markersNeedUpdate=!0}_setTransitionParameters(a){return{now:s.exported.now(),transition:s.extend(a,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const a=this._order.filter((b=>this.isLayerDraped(this._layers[b]))),d=this._order.filter((b=>!this.isLayerDraped(this._layers[b])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...a),this._drapedFirstOrder.push(...d)}_createTerrain(a,d){const b=this.terrain=new vt(a,d);this.stylesheet.terrain=a,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const x=this._setTransitionParameters({duration:0});b.updateTransitions(x)}_force3DLayerUpdate(){for(const a in this._layers){const d=this._layers[a];d.type==="fill-extrusion"&&this._updateLayer(d)}}_forceSymbolLayerUpdate(){for(const a in this._layers){const d=this._layers[a];d.type==="symbol"&&this._updateLayer(d)}}_validate(a,d,b,x,L={}){return(!L||L.validate!==!1)&&xu(this,a.call(s.validateStyle,s.extend({key:d,style:this.serialize(),value:b,styleSpec:s.spec},x)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const a in this._layers)this._layers[a].setEventedParent(null);for(const a in this._sourceCaches)this._sourceCaches[a].clearTiles(),this._sourceCaches[a].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(a){const d=this._getSourceCaches(a);for(const b of d)b.clearTiles()}_reloadSource(a){const d=this._getSourceCaches(a);for(const b of d)b.resume(),b.reload()}_reloadSources(){for(const a of this._getSources())a.reload&&a.reload()}_updateSources(a){for(const d in this._sourceCaches)this._sourceCaches[d].update(a)}_generateCollisionBoxes(){for(const a in this._sourceCaches){const d=this._sourceCaches[a];d.resume(),d.reload()}}_updatePlacement(a,d,b,x,L=!1){let D=!1,P=!1;const z={};for(const N of this._order){const V=this._layers[N];if(V.type!=="symbol")continue;if(!z[V.source]){const oe=this._getLayerSourceCache(V);if(!oe)continue;z[V.source]=oe.getRenderableIds(!0).map((me=>oe.getTileByID(me))).sort(((me,pe)=>pe.tileID.overscaledZ-me.tileID.overscaledZ||(me.tileID.isLessThan(pe.tileID)?-1:1)))}const J=this.crossTileSymbolIndex.addLayer(V,z[V.source],a.center.lng,a.projection);D=D||J}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),L=L||this._layerOrderChanged||b===0,this._layerOrderChanged&&this.fire(new s.Event("neworder")),(L||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),a.zoom))&&(this.pauseablePlacement=new Tn(a,this._order,L,d,b,x,this.placement,this.fog&&a.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,z),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),P=!0),D&&this.pauseablePlacement.placement.setStale()),P||D)for(const N of this._order){const V=this._layers[N];V.type==="symbol"&&this.placement.updateLayerOpacities(V,z[V.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const a in this._sourceCaches)this._sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d,b){this.imageManager.getImages(d.icons,b),this._updateTilesForChangedImages();const x=L=>{L&&L.setDependencies(d.tileID.key,d.type,d.icons)};x(this._otherSourceCaches[d.source]),x(this._symbolSourceCaches[d.source])}getGlyphs(a,d,b){this.glyphManager.getGlyphs(d.stacks,b)}getResource(a,d,b){return s.makeRequest(d,b)}_getSourceCache(a){return this._otherSourceCaches[a]}_getLayerSourceCache(a){return a.type==="symbol"?this._symbolSourceCaches[a.source]:this._otherSourceCaches[a.source]}_getSourceCaches(a){const d=[];return this._otherSourceCaches[a]&&d.push(this._otherSourceCaches[a]),this._symbolSourceCaches[a]&&d.push(this._symbolSourceCaches[a]),d}_isSourceCacheLoaded(a){const d=this._getSourceCaches(a);return d.length===0?(this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${a}'`))),!1):d.every((b=>b.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Q.getSourceType=function(g){return rt[g]},Q.setSourceType=function(g,a){rt[g]=a},Q.registerForPluginStateChange=s.registerForPluginStateChange;var ie=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,ve="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Ee=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,$e=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,yt=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let ft={},er={};const Ur=[];Bi(ie,Ur),Bi(Ee,Ur),Bi($e,Ur),Bi(yt,Ur),ft=Xt("",Ee),er=Xt(yt,$e);const xr=Xt(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),dr=ie,an=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var On={background:Xt(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Xt(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Xt(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Xt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Xt(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Xt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Xt("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Xt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Xt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Xt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Xt(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Xt(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Xt(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Xt(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Xt(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Xt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Xt(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Xt(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Xt(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Xt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Xt(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Xt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Xt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Xt(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Xt(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Xt(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ve),skyboxGradient:Xt(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ve),skyboxCapture:Xt(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Xt(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;
#ifdef GLOBE_POLES
vec3 up_vector=normalize(globe_pos)*u_tile_up_scale;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Xt(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Bi(g,a){const d=g.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let b of d)if(b=b.trim(),b[0]==="#"&&b.includes("if")&&!b.includes("endif")){b=b.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const x=b.split(" ");for(const L of x)a.includes(L)||a.push(L)}}function Xt(g,a){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,b=a.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),x={},L=[...Ur];return Bi(g,L),Bi(a,L),{fragmentSource:g=g.replace(d,((D,P,z,N,V)=>(x[V]=!0,P==="define"?`
#ifndef HAS_UNIFORM_u_${V}
varying ${z} ${N} ${V};
#else
uniform ${z} ${N} u_${V};
#endif
`:`
#ifdef HAS_UNIFORM_u_${V}
    ${z} ${N} ${V} = u_${V};
#endif
`))),vertexSource:a=a.replace(d,((D,P,z,N,V)=>{const J=N==="float"?"vec2":"vec4",oe=V.match(/color/)?"color":J;return x[V]?P==="define"?`
#ifndef HAS_UNIFORM_u_${V}
uniform lowp float u_${V}_t;
attribute ${z} ${J} a_${V};
varying ${z} ${N} ${V};
#else
uniform ${z} ${N} u_${V};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${V}
    ${V} = a_${V};
#else
    ${z} ${N} ${V} = u_${V};
#endif
`:`
#ifndef HAS_UNIFORM_u_${V}
    ${V} = unpack_mix_${oe}(a_${V}, u_${V}_t);
#else
    ${z} ${N} ${V} = u_${V};
#endif
`:P==="define"?`
#ifndef HAS_UNIFORM_u_${V}
uniform lowp float u_${V}_t;
attribute ${z} ${J} a_${V};
#else
uniform ${z} ${N} u_${V};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${V}
    ${z} ${N} ${V} = a_${V};
#else
    ${z} ${N} ${V} = u_${V};
#endif
`:`
#ifndef HAS_UNIFORM_u_${V}
    ${z} ${N} ${V} = unpack_mix_${oe}(a_${V}, u_${V}_t);
#else
    ${z} ${N} ${V} = u_${V};
#endif
`})),staticAttributes:b,usedDefines:L}}class cn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(a,d,b,x,L,D,P){this.context=a;let z=this.boundPaintVertexBuffers.length!==x.length;for(let V=0;!z&&V<x.length;V++)this.boundPaintVertexBuffers[V]!==x[V]&&(z=!0);let N=this.boundDynamicVertexBuffers.length!==P.length;for(let V=0;!N&&V<P.length;V++)this.boundDynamicVertexBuffers[V]!==P[V]&&(N=!0);if(!a.extVertexArrayObject||!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==b||z||N||this.boundIndexBuffer!==L||this.boundVertexOffset!==D)this.freshBind(d,b,x,L,D,P);else{a.bindVertexArrayOES.set(this.vao);for(const V of P)V&&V.bind();L&&L.dynamicDraw&&L.bind()}}freshBind(a,d,b,x,L,D){let P;const z=a.numAttributes,N=this.context,V=N.gl;if(N.extVertexArrayObject)this.vao&&this.destroy(),this.vao=N.extVertexArrayObject.createVertexArrayOES(),N.bindVertexArrayOES.set(this.vao),P=0,this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=b,this.boundIndexBuffer=x,this.boundVertexOffset=L,this.boundDynamicVertexBuffers=D;else{P=N.currentNumAttributes||0;for(let J=z;J<P;J++)V.disableVertexAttribArray(J)}d.enableAttributes(V,a),d.bind(),d.setVertexAttribPointers(V,a,L);for(const J of b)J.enableAttributes(V,a),J.bind(),J.setVertexAttribPointers(V,a,L);for(const J of D)J&&(J.enableAttributes(V,a),J.bind(),J.setVertexAttribPointers(V,a,L));x&&x.bind(),N.currentNumAttributes=z}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Zr(g,a){const d=Math.pow(2,a.canonical.z),b=a.canonical.y;return[new s.MercatorCoordinate(0,b/d).toLngLat().lat,new s.MercatorCoordinate(0,(b+1)/d).toLngLat().lat]}function Fi(g,a,d,b,x,L,D){const P=g.context,z=P.gl,N=d.fbo;if(!N)return;g.prepareDrawTile();const V=g.useProgram("hillshade");P.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,N.colorAttachment.get());const J=((be,ue,de,we)=>{const xe=de.paint.get("hillshade-shadow-color"),Ie=de.paint.get("hillshade-highlight-color"),Fe=de.paint.get("hillshade-accent-color");let Be=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Be-=be.transform.angle);const We=!be.options.moving;return{u_matrix:we||be.transform.calculateProjMatrix(ue.tileID.toUnwrapped(),We),u_image:0,u_latrange:Zr(0,ue.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Be],u_shadow:xe,u_highlight:Ie,u_accent:Fe}})(g,d,b,g.terrain?a.projMatrix:null);g.prepareDrawProgram(P,V,a.toUnwrapped());const{tileBoundsBuffer:oe,tileBoundsIndexBuffer:me,tileBoundsSegments:pe}=g.getTileBoundsBuffers(d);V.draw(P,z.TRIANGLES,x,L,D,s.CullFaceMode.disabled,J,b.id,oe,me,pe)}function Dn(g,a,d){if(!a.needsDEMTextureUpload)return;const b=g.context,x=b.gl;b.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||g.getTileTexture(d.stride);const L=d.getPixels();a.demTexture?a.demTexture.update(L,{premultiply:!1}):a.demTexture=new s.Texture(b,L,x.RGBA,{premultiply:!1}),a.needsDEMTextureUpload=!1}function pi(g,a,d,b,x,L){const D=g.context,P=D.gl;if(!a.dem)return;const z=a.dem;if(D.activeTexture.set(P.TEXTURE1),Dn(g,a,z),!a.demTexture)return;a.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);const N=z.dim;D.activeTexture.set(P.TEXTURE0);let V=a.fbo;if(!V){const pe=new s.Texture(D,{width:N,height:N,data:null},P.RGBA);pe.bind(P.LINEAR,P.CLAMP_TO_EDGE),V=a.fbo=D.createFramebuffer(N,N,!0),V.colorAttachment.set(pe.texture)}D.bindFramebuffer.set(V.framebuffer),D.viewport.set([0,0,N,N]);const{tileBoundsBuffer:J,tileBoundsIndexBuffer:oe,tileBoundsSegments:me}=g.getMercatorTileBoundsBuffers();g.useProgram("hillshadePrepare").draw(D,P.TRIANGLES,b,x,L,s.CullFaceMode.disabled,((pe,be)=>{const ue=be.stride,de=s.create();return s.ortho(de,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(de,de,[0,-s.EXTENT,0]),{u_matrix:de,u_image:1,u_dimension:[ue,ue],u_zoom:pe.overscaledZ,u_unpack:be.unpackVector}})(a.tileID,z),d.id,J,oe,me),a.needsHillshadePrepare=!1}const Gi=g=>({u_matrix:new s.UniformMatrix4f(g),u_image0:new s.Uniform1i(g),u_skirt_height:new s.Uniform1f(g)}),Po=(g,a)=>({u_matrix:g,u_image0:0,u_skirt_height:a}),va=(g,a,d,b,x,L,D,P,z,N,V,J,oe,me)=>({u_proj_matrix:Float32Array.from(g),u_globe_matrix:a,u_normalize_matrix:Float32Array.from(b),u_merc_matrix:d,u_zoom_transition:x,u_merc_center:L,u_image0:0,u_frustum_tl:D,u_frustum_tr:P,u_frustum_br:z,u_frustum_bl:N,u_globe_pos:V,u_globe_radius:J,u_viewport:oe,u_grid_matrix:me?Float32Array.from(me):new Float32Array(9)});function xo(g,a){return g!=null&&a!=null&&!(!g.hasData()||!a.hasData())&&g.demTexture!=null&&a.demTexture!=null&&g.tileID.key!==a.tileID.key}const ts=new class{constructor(){this.operations={}}newMorphing(g,a,d,b,x){if(g in this.operations){const L=this.operations[g];L.to.tileID.key!==d.tileID.key&&(L.queued=d)}else this.operations[g]={startTime:b,phase:0,duration:x,from:a,to:d,queued:null}}getMorphValuesForProxy(g){if(!(g in this.operations))return null;const a=this.operations[g];return{from:a.from,to:a.to,phase:a.phase}}update(g){for(const a in this.operations){const d=this.operations[a];for(d.phase=(g-d.startTime)/d.duration;d.phase>=1||!this._validOp(d);)if(!this._nextOp(d,g)){delete this.operations[a];break}}}_nextOp(g,a){return!!g.queued&&(g.from=g.to,g.to=g.queued,g.queued=null,g.phase=0,g.startTime=a,!0)}_validOp(g){return g.from.hasData()&&g.to.hasData()}},rs={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function bl(g,a){const d=1<<g.z;return!a&&(g.x===0||g.x===d-1)||g.y===0||g.y===d-1}const ns=g=>({u_matrix:g});function sa(g,a,d,b,x){if(x>0){const L=s.exported.now(),D=(L-g.timeAdded)/x,P=a?(L-a.timeAdded)/x:-1,z=d.getSource(),N=b.coveringZoomLevel({tileSize:z.tileSize,roundZoom:z.roundZoom}),V=!a||Math.abs(a.tileID.overscaledZ-N)>Math.abs(g.tileID.overscaledZ-N),J=V&&g.refreshedUponExpiration?1:s.clamp(V?D:1-P,0,1);return g.refreshedUponExpiration&&D>=1&&(g.refreshedUponExpiration=!1),a?{opacity:1,mix:1-J}:{opacity:J,mix:0}}return{opacity:1,mix:0}}class In extends s.SourceCache{constructor(a){const d={type:"raster-dem",maxzoom:a.transform.maxZoom},b=new qr(Kr(),null),x=Je("mock-dem",d,b,a.style);super("mock-dem",x,!1),x.setEventedParent(this),this._sourceLoaded=!0}_loadTile(a,d){a.state="loaded",d(null)}}class wa extends s.SourceCache{constructor(a){const d=Je("proxy",{type:"geojson",maxzoom:a.transform.maxZoom},new qr(Kr(),null),a.style);super("proxy",d,!1),d.setEventedParent(this),this.map=this.getSource().map=a,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(a,d,b){if(a.freezeTileCoverage)return;this.transform=a;const x=a.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((L,D)=>{if(L[D.key]="",!this._tiles[D.key]){const P=new s.Tile(D,this._source.tileSize*D.overscaleFactor(),a.tileZoom);P.state="loaded",this._tiles[D.key]=P}return L}),{});for(const L in this._tiles)L in x||(this.freeFBO(L),this._tiles[L].unloadVectorData(),delete this._tiles[L])}freeFBO(a){const d=this.proxyCachedFBO[a];if(d!==void 0){const b=Object.values(d);this.renderCachePool.push(...b),delete this.proxyCachedFBO[a]}}deallocRenderCache(){this.renderCache.forEach((a=>a.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class ql extends s.OverscaledTileID{constructor(a,d,b){super(a.overscaledZ,a.wrap,a.canonical.z,a.canonical.x,a.canonical.y),this.proxyTileKey=d,this.projMatrix=b}}class Ho extends s.Elevation{constructor(a,d){super(),this.painter=a,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[b,x,L]=(function(z){const N=new s.StructArrayLayout4i8,V=new s.StructArrayLayout3ui6,J=131;N.reserve(17161),V.reserve(33800);const oe=s.EXTENT/128,me=s.EXTENT+oe/2,pe=me+oe;for(let ue=-oe;ue<pe;ue+=oe)for(let de=-oe;de<pe;de+=oe){const we=de<0||de>me||ue<0||ue>me?24575:0,xe=s.clamp(Math.round(de),0,s.EXTENT),Ie=s.clamp(Math.round(ue),0,s.EXTENT);N.emplaceBack(xe+we,Ie,xe,Ie)}const be=(ue,de)=>{const we=de*J+ue;V.emplaceBack(we+1,we,we+J),V.emplaceBack(we+J,we+J+1,we+1)};for(let ue=1;ue<129;ue++)for(let de=1;de<129;de++)be(de,ue);return[0,129].forEach((ue=>{for(let de=0;de<130;de++)be(de,ue),be(ue,de)})),[N,V,32768]})(),D=a.context;this.gridBuffer=D.createVertexBuffer(b,s.boundsAttributes.members),this.gridIndexBuffer=D.createIndexBuffer(x),this.gridSegments=s.SegmentVector.simpleSegment(0,0,b.length,x.length),this.gridNoSkirtSegments=s.SegmentVector.simpleSegment(0,0,b.length,L),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new wa(d.map),this.orthoMatrix=s.create(),s.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,s.EXTENT,0,s.EXTENT,0,1);const P=D.gl;this._overlapStencilMode=new s.StencilMode({func:P.GEQUAL,mask:255},0,255,P.KEEP,P.KEEP,P.REPLACE),this._previousZoom=a.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=d,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new In(d.map)}set style(a){a.on("data",this._onStyleDataEvent.bind(this)),a.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=a,this._checkRenderCacheEfficiency()}update(a,d,b){if(a&&a.terrain){this._style!==a&&(this.style=a),this.enabled=!0;const x=a.terrain.properties;this.sourceCache=a.terrain.drapeRenderMode===0?this._mockSourceCache:a._getSourceCache(x.get("source")),this._exaggeration=x.get("exaggeration");const L=()=>{this.sourceCache.used&&s.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const D=this.getScaledDemTileSize();this.sourceCache.update(d,D,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,L(),this._initializing=!0),L(),d.updateElevation(!0,b),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(d),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(a){this._findCoveringTileCache[a]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const a=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||a.efficiency!==100&&s.warnOnce(`Terrain render cache efficiency is not optimal (${a.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${a.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(a){a.coord&&a.dataType==="source"?this._clearRenderCacheForTile(a.sourceCacheId,a.coord):a.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const a in this._style._sourceCaches)this._style._sourceCaches[a].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((a=>a.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const a=2*this.proxySourceCache.getSource().tileSize;return[a,a]}set useVertexMorphing(a){this._useVertexMorphing=a}updateTileBinding(a){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const d=this.proxySourceCache,b=this.painter.transform;this._initializing&&(this._initializing=b._centerAltitude===0&&this.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(b.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const x=this.proxyCoords=d.getIds().map((z=>{const N=d.getTileByID(z).tileID;return N.projMatrix=b.calculateProjMatrix(N.toUnwrapped()),N}));(function(z,N){const V=N.transform.pointCoordinate(N.transform.getCameraPoint()),J=new s.pointGeometry(V.x,V.y);z.sort(((oe,me)=>{if(me.overscaledZ-oe.overscaledZ)return me.overscaledZ-oe.overscaledZ;const pe=new s.pointGeometry(oe.canonical.x+(1<<oe.canonical.z)*oe.wrap,oe.canonical.y),be=new s.pointGeometry(me.canonical.x+(1<<me.canonical.z)*me.wrap,me.canonical.y),ue=J.mult(1<<oe.canonical.z);return ue.x-=.5,ue.y-=.5,ue.distSqr(pe)-ue.distSqr(be)}))})(x,this.painter),this._previousZoom=b.zoom;const L=this.proxyToSource||{};this.proxyToSource={},x.forEach((z=>{this.proxyToSource[z.key]={}})),this.terrainTileForTile={};const D=this._style._sourceCaches;for(const z in D){const N=D[z];if(!N.used||(N!==this.sourceCache&&this.resetTileLookupCache(N.id),this._setupProxiedCoordsForOrtho(N,a[z],L),N.usedForTerrain))continue;const V=a[z];N.getSource().reparseOverscaled&&this._assignTerrainTiles(V)}this.proxiedCoords[d.id]=x.map((z=>new ql(z,z.key,this.orthoMatrix))),this._assignTerrainTiles(x),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(L),this.renderingToTexture=!1,this._updateTimestamp=s.exported.now();const P={};this._visibleDemTiles=[];for(const z of this.proxyCoords){const N=this.terrainTileForTile[z.key];if(!N)continue;const V=N.tileID.key;V in P||(this._visibleDemTiles.push(N),P[V]=V)}}_assignTerrainTiles(a){this._initializing||a.forEach((d=>{if(this.terrainTileForTile[d.key])return;const b=this._findTileCoveringTileID(d,this.sourceCache);b&&(this.terrainTileForTile[d.key]=b)}))}_prepareDEMTextures(){const a=this.painter.context,d=a.gl;for(const b in this.terrainTileForTile){const x=this.terrainTileForTile[b],L=x.dem;!L||x.demTexture&&!x.needsDEMTextureUpload||(a.activeTexture.set(d.TEXTURE1),Dn(this.painter,x,L))}}_prepareDemTileUniforms(a,d,b,x){if(!d||d.demTexture==null)return!1;const L=a.tileID.canonical,D=Math.pow(2,d.tileID.canonical.z-L.z),P=x||"";return b[`u_dem_tl${P}`]=[L.x*D%1,L.y*D%1],b[`u_dem_scale${P}`]=D,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const a=this.painter.context,d=a.gl;if(!this._emptyDepthBufferTexture){const b=new s.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new s.Texture(a,b,d.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let a=0;const d=this._visibleDemTiles.reduce(((b,x)=>{if(!x.dem)return b;const L=x.dem.tree.minimums[0];return L>0&&a++,b+L}),0);return a?d/a:0}_updateEmptyDEMTexture(){const a=this.painter.context,d=a.gl;a.activeTexture.set(d.TEXTURE2);const b=this._getLoadedAreaMinimum(),x=new s.RGBAImage({width:1,height:1},new Uint8Array(s.DEMData.pack(b,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let L=this._emptyDEMTexture;return L?L.update(x,{premultiply:!1}):L=this._emptyDEMTexture=new s.Texture(a,x,d.RGBA,{premultiply:!1}),L}setupElevationDraw(a,d,b){const x=this.painter.context,L=x.gl,D=(P=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:s.DEMData.getUnpackVector(P),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var P;D.u_dem_size=this.sourceCache.getSource().tileSize,D.u_exaggeration=this.exaggeration();let z=null,N=null,V=1;if(b&&b.morphing&&this._useVertexMorphing){const J=b.morphing.srcDemTile,oe=b.morphing.dstDemTile;V=b.morphing.phase,J&&oe&&(this._prepareDemTileUniforms(a,J,D,"_prev")&&(N=J),this._prepareDemTileUniforms(a,oe,D)&&(z=oe))}if(N&&z?(x.activeTexture.set(L.TEXTURE2),z.demTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE,L.NEAREST),x.activeTexture.set(L.TEXTURE4),N.demTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE,L.NEAREST),D.u_dem_lerp=V):(z=this.terrainTileForTile[a.tileID.key],x.activeTexture.set(L.TEXTURE2),(this._prepareDemTileUniforms(a,z,D)?z.demTexture:this.emptyDEMTexture).bind(L.NEAREST,L.CLAMP_TO_EDGE)),x.activeTexture.set(L.TEXTURE3),b&&b.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE),this._depthFBO&&(D.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE),D.u_depth_size_inv=[1,1]),b&&b.useMeterToDem&&z){const J=(1<<z.tileID.canonical.z)*s.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;D.u_meter_to_dem=J}if(b&&b.labelPlaneMatrixInv&&(D.u_label_plane_matrix_inv=b.labelPlaneMatrixInv),d.setTerrainUniformValues(x,D),this.painter.transform.projection.name==="globe"){const J=this.globeUniformValues(this.painter.transform,a.tileID.canonical,b&&b.useDenormalizedUpVectorScale);d.setGlobeUniformValues(x,J)}}globeUniformValues(a,d,b){const x=a.projection;return{u_tile_tl_up:x.upVector(d,0,0),u_tile_tr_up:x.upVector(d,s.EXTENT,0),u_tile_br_up:x.upVector(d,s.EXTENT,s.EXTENT),u_tile_bl_up:x.upVector(d,0,s.EXTENT),u_tile_up_scale:b?s.GLOBE_METERS_TO_ECEF:x.upVectorScale(d,a.center.lat,a.worldSize).metersToTile}}renderToBackBuffer(a){const d=this.painter,b=this.painter.context;a.length!==0&&(b.bindFramebuffer.set(null),b.viewport.set([0,0,d.width,d.height]),d.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,(function(x,L,D,P,z){if(x.transform.projection.name==="globe")(function(N,V,J,oe,me){const pe=N.context,be=pe.gl;let ue,de;const we=N.options.showTerrainWireframe?2:0,xe=N.transform,Ie=s.globeUseCustomAntiAliasing(N,pe,xe),Fe=(Jt,Et)=>{if(de===Jt)return;const $t=[rs[Jt],"PROJECTION_GLOBE_VIEW"];Ie&&$t.push("CUSTOM_ANTIALIASING"),Et&&$t.push(rs[we]),ue=N.useProgram("globeRaster",null,$t),de=Jt},Be=N.colorModeForRenderPass(),We=new s.DepthMode(be.LEQUAL,s.DepthMode.ReadWrite,N.depthRangeFor3D);ts.update(me);const bt=s.calculateGlobeMercatorMatrix(xe),pt=[s.mercatorXfromLng(xe.center.lng),s.mercatorYfromLat(xe.center.lat)],Xe=we?[!1,!0]:[!1],tr=N.globeSharedBuffers,ct=[xe.width*s.exported.devicePixelRatio,xe.height*s.exported.devicePixelRatio],Ft=Float32Array.from(xe.globeMatrix),St={useDenormalizedUpVectorScale:!0};if(Xe.forEach((Jt=>{de=-1;const Et=Jt?be.LINES:be.TRIANGLES;for(const $t of oe){const or=J.getTile($t),it=s.StencilMode.disabled,Mt=V.prevTerrainTileForTile[$t.key],Pr=V.terrainTileForTile[$t.key];xo(Mt,Pr)&&ts.newMorphing($t.key,Mt,Pr,me,250),pe.activeTexture.set(be.TEXTURE0),or.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE);const Qr=ts.getMorphValuesForProxy($t.key),Rr=Qr?1:0;Qr&&s.extend$1(St,{morphing:{srcDemTile:Qr.from,dstDemTile:Qr.to,phase:s.easeCubicInOut(Qr.phase)}});const on=s.tileCornersToBounds($t.canonical),Mn=s.getLatitudinalLod(on.getCenter().lat),en=s.getGridMatrix($t.canonical,on,Mn,xe.worldSize/xe._pixelsPerMercatorPixel),kr=s.globeNormalizeECEF(s.globeTileBounds($t.canonical)),oi=va(xe.projMatrix,Ft,bt,kr,s.globeToMercatorTransition(xe.zoom),pt,xe.frustumCorners.TL,xe.frustumCorners.TR,xe.frustumCorners.BR,xe.frustumCorners.BL,xe.globeCenterInViewSpace,xe.globeRadius,ct,en);if(Fe(Rr,Jt),V.setupElevationDraw(or,ue,St),N.prepareDrawProgram(pe,ue,$t.toUnwrapped()),tr){const[Xn,ai,li]=Jt?tr.getWirefameBuffers(N.context,Mn):tr.getGridBuffers(Mn);ue.draw(pe,Et,We,it,Be,s.CullFaceMode.backCCW,oi,"globe_raster",Xn,ai,li)}}})),tr){const Jt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Ie&&Jt.push("CUSTOM_ANTIALIASING"),ue=N.useProgram("globeRaster",null,Jt);for(const Et of oe){const{x:$t,y:or,z:it}=Et.canonical,Mt=or===0,Pr=or===(1<<it)-1,[Qr,Rr,on,Mn]=tr.getPoleBuffers(it);if(Mn&&(Mt||Pr)){const en=J.getTile(Et);pe.activeTexture.set(be.TEXTURE0),en.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE);let kr=s.globePoleMatrixForTile(it,$t,xe);const oi=s.globeNormalizeECEF(s.globeTileBounds(Et.canonical)),Xn=(ai,li)=>ai.draw(pe,be.TRIANGLES,We,s.StencilMode.disabled,Be,s.CullFaceMode.disabled,va(xe.projMatrix,kr,kr,oi,0,pt,xe.frustumCorners.TL,xe.frustumCorners.TR,xe.frustumCorners.BR,xe.frustumCorners.BL,xe.globeCenterInViewSpace,xe.globeRadius,ct),"globe_pole_raster",li,on,Mn);V.setupElevationDraw(en,ue,St),N.prepareDrawProgram(pe,ue,Et.toUnwrapped()),Mt&&Xn(ue,Qr),Pr&&(kr=s.scale(s.create(),kr,[1,-1,1]),Xn(ue,Rr))}}}})(x,L,D,P,z);else{const N=x.context,V=N.gl;let J,oe;const me=x.options.showTerrainWireframe?2:0,pe=(xe,Ie)=>{if(oe===xe)return;const Fe=[rs[xe]];Ie&&Fe.push(rs[me]),J=x.useProgram("terrainRaster",null,Fe),oe=xe},be=x.colorModeForRenderPass(),ue=new s.DepthMode(V.LEQUAL,s.DepthMode.ReadWrite,x.depthRangeFor3D);ts.update(z);const de=x.transform,we=6*Math.pow(1.5,22-de.zoom)*L.exaggeration();(me?[!1,!0]:[!1]).forEach((xe=>{oe=-1;const Ie=xe?V.LINES:V.TRIANGLES,[Fe,Be]=xe?L.getWirefameBuffer():[L.gridIndexBuffer,L.gridSegments];for(const We of P){const bt=D.getTile(We),pt=s.StencilMode.disabled,Xe=L.prevTerrainTileForTile[We.key],tr=L.terrainTileForTile[We.key];xo(Xe,tr)&&ts.newMorphing(We.key,Xe,tr,z,250),N.activeTexture.set(V.TEXTURE0),bt.texture.bind(V.LINEAR,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST);const ct=ts.getMorphValuesForProxy(We.key),Ft=ct?1:0;let St;ct&&(St={morphing:{srcDemTile:ct.from,dstDemTile:ct.to,phase:s.easeCubicInOut(ct.phase)}});const Jt=Po(We.projMatrix,bl(We.canonical,de.renderWorldCopies)?we/10:we);pe(Ft,xe),L.setupElevationDraw(bt,J,St),x.prepareDrawProgram(N,J,We.toUnwrapped()),J.draw(N,Ie,ue,pt,be,s.CullFaceMode.backCCW,Jt,"terrain_raster",L.gridBuffer,Fe,Be)}}))}})(d,this,this.proxySourceCache,a,this._updateTimestamp),this.renderingToTexture=!0,d.gpuTimingDeferredRenderEnd(),a.splice(0,a.length))}renderBatch(a){if(this._drapedRenderBatches.length===0)return a+1;this.renderingToTexture=!0;const d=this.painter,b=this.painter.context,x=this.proxySourceCache,L=this.proxiedCoords[x.id],D=this._drapedRenderBatches.shift(),P=[],z=d.style.order;let N=0;for(const V of L){const J=x.getTileByID(V.proxyTileKey),oe=x.proxyCachedFBO[V.key]?x.proxyCachedFBO[V.key][a]:void 0,me=oe!==void 0?x.renderCache[oe]:this.pool[N++],pe=oe!==void 0;if(J.texture=me.tex,pe&&!me.dirty){P.push(J.tileID);continue}let be;b.bindFramebuffer.set(me.fb.framebuffer),this.renderedToTile=!1,me.dirty&&(b.clear({color:s.Color.transparent,stencil:0}),me.dirty=!1);for(let ue=D.start;ue<=D.end;++ue){const de=d.style._layers[z[ue]];if(de.isHidden(d.transform.zoom))continue;const we=d.style._getLayerSourceCache(de),xe=we?this.proxyToSource[V.key][we.id]:[V];if(!xe)continue;const Ie=xe;b.viewport.set([0,0,me.fb.width,me.fb.height]),be!==(we?we.id:null)&&(this._setupStencil(me,xe,de,we),be=we?we.id:null),d.renderLayer(d,we,de,Ie)}this.renderedToTile?(me.dirty=!0,P.push(J.tileID)):pe||--N,N===5&&(N=0,this.renderToBackBuffer(P))}return this.renderToBackBuffer(P),this.renderingToTexture=!1,b.bindFramebuffer.set(null),b.viewport.set([0,0,d.width,d.height]),D.end+1}postRender(){}renderCacheEfficiency(a){const d=a.order.length;if(d===0)return{efficiency:100};let b,x=0,L=0,D=!1;for(let P=0;P<d;++P){const z=a._layers[a.order[P]];this._style.isLayerDraped(z)?(D&&++x,++L):D||(D=!0,b=z.id)}return L===0?{efficiency:100}:{efficiency:100*(1-x/L),firstUndrapedLayer:b}}getMinElevationBelowMSL(){let a=0;return this._visibleDemTiles.filter((d=>d.dem)).forEach((d=>{a=Math.min(a,d.dem.tree.minimums[0])})),a===0?a:(a-30)*this._exaggeration}raycast(a,d,b){if(!this._visibleDemTiles)return null;const x=this._visibleDemTiles.filter((L=>L.dem)).map((L=>{const D=L.tileID,P=1<<D.overscaledZ,{x:z,y:N}=D.canonical,V=z/P,J=(z+1)/P,oe=N/P,me=(N+1)/P;return{minx:V,miny:oe,maxx:J,maxy:me,t:L.dem.tree.raycastRoot(V,oe,J,me,a,d,b),tile:L}}));x.sort(((L,D)=>(L.t!==null?L.t:Number.MAX_VALUE)-(D.t!==null?D.t:Number.MAX_VALUE)));for(const L of x){if(L.t==null)return null;const D=L.tile.dem.tree.raycast(L.minx,L.miny,L.maxx,L.maxy,a,d,b);if(D!=null)return D}return null}_createFBO(){const a=this.painter.context,d=a.gl,b=this.drapeBufferSize;a.activeTexture.set(d.TEXTURE0);const x=new s.Texture(a,{width:b[0],height:b[1],data:null},d.RGBA);x.bind(d.LINEAR,d.CLAMP_TO_EDGE);const L=a.createFramebuffer(b[0],b[1],!1);return L.colorAttachment.set(x.texture),L.depthAttachment=new yn(a,L.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=a.createRenderbuffer(a.gl.DEPTH_STENCIL,b[0],b[1]),this._stencilRef=0,L.depthAttachment.set(this._sharedDepthStencil),a.clear({stencil:0})):L.depthAttachment.set(this._sharedDepthStencil),a.extTextureFilterAnisotropic&&!a.extTextureFilterAnisotropicForceOff&&d.texParameterf(d.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax),{fb:L,tex:x,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const a in this._style._sourceCaches)if(this._style._sourceCaches[a].hasTransition())return!0;return this._style.order.some((a=>{const d=this._style._layers[a],b=d.isHidden(this.painter.transform.zoom);return d.type!=="custom"&&!b&&d.hasTransition()}))}_clearRasterFadeFromRenderCache(){let a=!1;for(const d in this._style._sourceCaches)if(this._style._sourceCaches[d]._source instanceof re){a=!0;break}if(a)for(let d=0;d<this._style.order.length;++d){const b=this._style._layers[this._style.order[d]],x=b.isHidden(this.painter.transform.zoom),L=this._style._getLayerSourceCache(b);if(b.type!=="raster"||x||!L)continue;const D=b.paint.get("raster-fade-duration");for(const P of this.proxyCoords){const z=this.proxyToSource[P.key][L.id];if(z)for(const N of z){const V=sa(L.getTile(N),L.findLoadedParent(N,0),L,this.painter.transform,D);(V.opacity!==1||V.mix!==0)&&this._clearRenderCacheForTile(L.id,N)}}}}_setupDrapedRenderBatches(){const a=this._style.order,d=a.length;if(d===0)return;const b=[];let x,L=0,D=this._style._layers[a[L]];for(;!this._style.isLayerDraped(D)&&D.isHidden(this.painter.transform.zoom)&&++L<d;)D=this._style._layers[a[L]];for(;L<d;++L){const P=this._style._layers[a[L]];P.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(P)?x===void 0&&(x=L):x!==void 0&&(b.push({start:x,end:L-1}),x=void 0))}x!==void 0&&b.push({start:x,end:L-1}),this._drapedRenderBatches=b}_setupRenderCache(a){const d=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,d.renderCache.length>d.renderCachePool.length){const D=Object.values(d.proxyCachedFBO);d.proxyCachedFBO={};for(let P=0;P<D.length;++P){const z=Object.values(D[P]);d.renderCachePool.push(...z)}}return}this._clearRasterFadeFromRenderCache();const b=this.proxyCoords,x=this._tilesDirty;for(let D=b.length-1;D>=0;D--){const P=b[D];if(d.getTileByID(P.key),d.proxyCachedFBO[P.key]!==void 0){const z=a[P.key],N=this.proxyToSource[P.key];let V=0;for(const J in N){const oe=N[J],me=z[J];if(!me||me.length!==oe.length||oe.some(((pe,be)=>pe!==me[be]||x[J]&&x[J].hasOwnProperty(pe.key)))){V=-1;break}++V}for(const J in d.proxyCachedFBO[P.key])d.renderCache[d.proxyCachedFBO[P.key][J]].dirty=V<0||V!==Object.values(z).length}}const L=[...this._drapedRenderBatches];L.sort(((D,P)=>P.end-P.start-(D.end-D.start)));for(const D of L)for(const P of b){if(d.proxyCachedFBO[P.key])continue;let z=d.renderCachePool.pop();z===void 0&&d.renderCache.length<50&&(z=d.renderCache.length,d.renderCache.push(this._createFBO())),z!==void 0&&(d.proxyCachedFBO[P.key]={},d.proxyCachedFBO[P.key][D.start]=z,d.renderCache[z].dirty=!0)}this._tilesDirty={}}_setupStencil(a,d,b,x){if(!x||!this._sourceTilesOverlap[x.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const L=this.painter.context,D=L.gl;if(d.length<=1)return void(this._overlapStencilType=!1);let P;if(b.isTileClipped())P=d.length,this._overlapStencilMode.test={func:D.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(d[0].overscaledZ>d[d.length-1].overscaledZ))return void(this._overlapStencilType=!1);P=1,this._overlapStencilMode.test={func:D.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+P>255&&(L.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=P,this._overlapStencilMode.ref=this._stencilRef,b.isTileClipped()&&this._renderTileClippingMasks(d,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(a){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[a.key]),this._overlapStencilMode):s.StencilMode.disabled}_renderTileClippingMasks(a,d){const b=this.painter,x=this.painter.context,L=x.gl;b._tileClippingMaskIDs={},x.setColorMode(s.ColorMode.disabled),x.setDepthMode(s.DepthMode.disabled);const D=b.useProgram("clippingMask");for(const P of a){const z=b._tileClippingMaskIDs[P.key]=--d;D.draw(x,L.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:L.ALWAYS,mask:0},z,255,L.KEEP,L.KEEP,L.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,ns(P.projMatrix),"$clipping",b.tileExtentBuffer,b.quadTriangleIndexBuffer,b.tileExtentSegments)}}pointCoordinate(a){const d=this.painter.transform;if(a.x<0||a.x>d.width||a.y<0||a.y>d.height)return null;const b=[a.x,a.y,1,1];s.transformMat4$1(b,b,d.pixelMatrixInverse),s.scale$1(b,b,1/b[3]),b[0]/=d.worldSize,b[1]/=d.worldSize;const x=d._camera.position,L=s.mercatorZfromAltitude(1,d.center.lat),D=[x[0],x[1],x[2]/L,0],P=s.subtract([],b.slice(0,3),D);s.normalize(P,P);const z=this.raycast(D,P,this._exaggeration);return z!==null&&z?(s.scaleAndAdd(D,D,P,z),D[3]=D[2],D[2]*=L,D):null}drawDepth(){const a=this.painter,d=a.context,b=this.proxySourceCache,x=Math.ceil(a.width),L=Math.ceil(a.height);if(!this._depthFBO||this._depthFBO.width===x&&this._depthFBO.height===L||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const D=d.gl,P=d.createFramebuffer(x,L,!0);d.activeTexture.set(D.TEXTURE0);const z=new s.Texture(d,{width:x,height:L,data:null},D.RGBA);z.bind(D.NEAREST,D.CLAMP_TO_EDGE),P.colorAttachment.set(z.texture);const N=d.createRenderbuffer(d.gl.DEPTH_COMPONENT16,x,L);P.depthAttachment.set(N),this._depthFBO=P,this._depthTexture=z}d.bindFramebuffer.set(this._depthFBO.framebuffer),d.viewport.set([0,0,x,L]),(function(D,P,z,N){if(D.transform.projection.name==="globe")return;const V=D.context,J=V.gl;V.clear({depth:1});const oe=D.useProgram("terrainDepth"),me=new s.DepthMode(J.LESS,s.DepthMode.ReadWrite,D.depthRangeFor3D);for(const pe of N){const be=z.getTile(pe),ue=Po(pe.projMatrix,0);P.setupElevationDraw(be,oe),oe.draw(V,J.TRIANGLES,me,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.backCCW,ue,"terrain_depth",P.gridBuffer,P.gridIndexBuffer,P.gridNoSkirtSegments)}})(a,this,b,this.proxyCoords)}_setupProxiedCoordsForOrtho(a,d,b){if(a.getSource()instanceof je)return this._setupProxiedCoordsForImageSource(a,d,b);this._findCoveringTileCache[a.id]=this._findCoveringTileCache[a.id]||{};const x=this.proxiedCoords[a.id]=[],L=this.proxyCoords;for(let P=0;P<L.length;P++){const z=L[P],N=this._findTileCoveringTileID(z,a);if(N){const V=this._createProxiedId(z,N,b[z.key]&&b[z.key][a.id]);x.push(V),this.proxyToSource[z.key][a.id]=[V]}}let D=!1;for(let P=0;P<d.length;P++){const z=a.getTile(d[P]);if(!z||!z.hasData())continue;const N=this._findTileCoveringTileID(z.tileID,this.proxySourceCache);if(N&&N.tileID.canonical.z!==z.tileID.canonical.z){const V=this.proxyToSource[N.tileID.key][a.id],J=this._createProxiedId(N.tileID,z,b[N.tileID.key]&&b[N.tileID.key][a.id]);V?V.splice(V.length-1,0,J):this.proxyToSource[N.tileID.key][a.id]=[J],x.push(J),D=!0}}this._sourceTilesOverlap[a.id]=D}_setupProxiedCoordsForImageSource(a,d,b){if(!a.getSource().loaded())return;const x=this.proxiedCoords[a.id]=[],L=this.proxyCoords,D=a.getSource(),P=new s.pointGeometry(D.tileID.x,D.tileID.y)._div(1<<D.tileID.z),z=D.coordinates.map(s.MercatorCoordinate.fromLngLat).reduce(((V,J)=>(V.min.x=Math.min(V.min.x,J.x-P.x),V.min.y=Math.min(V.min.y,J.y-P.y),V.max.x=Math.max(V.max.x,J.x-P.x),V.max.y=Math.max(V.max.y,J.y-P.y),V)),{min:new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),N=(V,J)=>{const oe=V.wrap+V.canonical.x/(1<<V.canonical.z),me=V.canonical.y/(1<<V.canonical.z),pe=s.EXTENT/(1<<V.canonical.z),be=J.wrap+J.canonical.x/(1<<J.canonical.z),ue=J.canonical.y/(1<<J.canonical.z);return oe+pe<be+z.min.x||oe>be+z.max.x||me+pe<ue+z.min.y||me>ue+z.max.y};for(let V=0;V<L.length;V++){const J=L[V];for(let oe=0;oe<d.length;oe++){const me=a.getTile(d[oe]);if(!me||!me.hasData()||N(J,me.tileID))continue;const pe=this._createProxiedId(J,me,b[J.key]&&b[J.key][a.id]),be=this.proxyToSource[J.key][a.id];be?be.push(pe):this.proxyToSource[J.key][a.id]=[pe],x.push(pe)}}}_createProxiedId(a,d,b){let x=this.orthoMatrix;if(b){const L=b.find((D=>D.key===d.tileID.key));if(L)return L}if(d.tileID.key!==a.key){const L=a.canonical.z-d.tileID.canonical.z;let D,P,z;x=s.create();const N=d.tileID.wrap-a.wrap<<a.overscaledZ;L>0?(D=s.EXTENT>>L,P=D*((d.tileID.canonical.x<<L)-a.canonical.x+N),z=D*((d.tileID.canonical.y<<L)-a.canonical.y)):(D=s.EXTENT<<-L,P=s.EXTENT*(d.tileID.canonical.x-(a.canonical.x+N<<-L)),z=s.EXTENT*(d.tileID.canonical.y-(a.canonical.y<<-L))),s.ortho(x,0,D,0,D,0,1),s.translate(x,x,[P,z,0])}return new ql(d.tileID,a.key,x)}_findTileCoveringTileID(a,d){let b=d.getTile(a);if(b&&b.hasData())return b;const x=this._findCoveringTileCache[d.id],L=x[a.key];if(b=L?d.getTileByID(L):null,b&&b.hasData()||L===null)return b;let D=b?b.tileID:a,P=D.overscaledZ;const z=d.getSource().minzoom,N=[];if(!L){const J=d.getSource().maxzoom;if(a.canonical.z>=J){const oe=a.canonical.z-J;d.getSource().reparseOverscaled?(P=Math.max(a.canonical.z+2,d.transform.tileZoom),D=new s.OverscaledTileID(P,a.wrap,J,a.canonical.x>>oe,a.canonical.y>>oe)):oe!==0&&(P=J,D=new s.OverscaledTileID(P,a.wrap,J,a.canonical.x>>oe,a.canonical.y>>oe))}D.key!==a.key&&(N.push(D.key),b=d.getTile(D))}const V=J=>{N.forEach((oe=>{x[oe]=J})),N.length=0};for(P-=1;P>=z&&(!b||!b.hasData());P--){b&&V(b.tileID.key);const J=D.calculateScaledKey(P);if(b=d.getTileByID(J),b&&b.hasData())break;const oe=x[J];if(oe===null)break;oe===void 0?N.push(J):b=d.getTileByID(oe)}return V(b?b.tileID.key:null),b&&b.hasData()?b:null}findDEMTileFor(a){return this.enabled?this._findTileCoveringTileID(a,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(a,d){let b=this._tilesDirty[a];b||(b=this._tilesDirty[a]={}),b[d.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const a=(function(d){let b=0;const x=new s.StructArrayLayout2ui4,L=131;for(let D=1;D<129;D++){for(let P=1;P<129;P++)b=D*L+P,x.emplaceBack(b,b+1),x.emplaceBack(b,b+L),x.emplaceBack(b+1,b+L),D===128&&x.emplaceBack(b+L,b+L+1);x.emplaceBack(b+1,b+1+L)}return x})();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(a),this.wireframeSegments=s.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,a.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class vl{static cacheKey(a,d,b,x){let L=`${d}${x?x.cacheKey:""}`;for(const D of b)a.usedDefines.includes(D)&&(L+=`/${D}`);return L}constructor(a,d,b,x,L,D){const P=a.gl;this.program=P.createProgram();const z=(function(ue){const de=[];for(let we=0;we<ue.length;we++){if(ue[we]===null)continue;const xe=ue[we].split(" ");de.push(xe.pop())}return de})(b.staticAttributes),N=x?x.getBinderAttributes():[],V=z.concat(N);let J=x?x.defines():[];J=J.concat(D.map((ue=>`#define ${ue}`)));const oe=J.concat(a.extStandardDerivatives?`#extension GL_OES_standard_derivatives : enable
`.concat(an):an,an,dr,xr.fragmentSource,er.fragmentSource,b.fragmentSource).join(`
`),me=J.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,dr,xr.vertexSource,er.vertexSource,ft.vertexSource,b.vertexSource).join(`
`),pe=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);P.shaderSource(pe,oe),P.compileShader(pe),P.attachShader(this.program,pe);const be=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())this.failedToCreate=!0;else{P.shaderSource(be,me),P.compileShader(be),P.attachShader(this.program,be),this.attributes={},this.numAttributes=V.length;for(let ue=0;ue<this.numAttributes;ue++)V[ue]&&(P.bindAttribLocation(this.program,ue,V[ue]),this.attributes[V[ue]]=ue);P.linkProgram(this.program),P.deleteShader(be),P.deleteShader(pe),this.fixedUniforms=L(a),this.binderUniforms=x?x.getUniforms(a):[],D.includes("TERRAIN")&&(this.terrainUniforms=(ue=>({u_dem:new s.Uniform1i(ue),u_dem_prev:new s.Uniform1i(ue),u_dem_unpack:new s.Uniform4f(ue),u_dem_tl:new s.Uniform2f(ue),u_dem_scale:new s.Uniform1f(ue),u_dem_tl_prev:new s.Uniform2f(ue),u_dem_scale_prev:new s.Uniform1f(ue),u_dem_size:new s.Uniform1f(ue),u_dem_lerp:new s.Uniform1f(ue),u_exaggeration:new s.Uniform1f(ue),u_depth:new s.Uniform1i(ue),u_depth_size_inv:new s.Uniform2f(ue),u_meter_to_dem:new s.Uniform1f(ue),u_label_plane_matrix_inv:new s.UniformMatrix4f(ue)}))(a)),D.includes("GLOBE")&&(this.globeUniforms=(ue=>({u_tile_tl_up:new s.Uniform3f(ue),u_tile_tr_up:new s.Uniform3f(ue),u_tile_br_up:new s.Uniform3f(ue),u_tile_bl_up:new s.Uniform3f(ue),u_tile_up_scale:new s.Uniform1f(ue)}))(a)),D.includes("FOG")&&(this.fogUniforms=(ue=>({u_fog_matrix:new s.UniformMatrix4f(ue),u_fog_range:new s.Uniform2f(ue),u_fog_color:new s.Uniform4f(ue),u_fog_horizon_blend:new s.Uniform1f(ue),u_fog_temporal_offset:new s.Uniform1f(ue),u_frustum_tl:new s.Uniform3f(ue),u_frustum_tr:new s.Uniform3f(ue),u_frustum_br:new s.Uniform3f(ue),u_frustum_bl:new s.Uniform3f(ue),u_globe_pos:new s.Uniform3f(ue),u_globe_radius:new s.Uniform1f(ue),u_globe_transition:new s.Uniform1f(ue),u_is_globe:new s.Uniform1i(ue),u_viewport:new s.Uniform2f(ue)}))(a))}}setTerrainUniformValues(a,d){if(!this.terrainUniforms)return;const b=this.terrainUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const x in d)b[x]&&b[x].set(this.program,x,d[x])}}setGlobeUniformValues(a,d){if(!this.globeUniforms)return;const b=this.globeUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const x in d)b[x]&&b[x].set(this.program,x,d[x])}}setFogUniformValues(a,d){if(!this.fogUniforms)return;const b=this.fogUniforms;if(!this.failedToCreate){a.program.set(this.program);for(const x in d)b[x].set(this.program,x,d[x])}}draw(a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be){const ue=a.gl;if(this.failedToCreate)return;a.program.set(this.program),a.setDepthMode(b),a.setStencilMode(x),a.setColorMode(L),a.setCullFace(D);for(const we of Object.keys(this.fixedUniforms))this.fixedUniforms[we].set(this.program,we,P[we]);pe&&pe.setUniforms(this.program,a,this.binderUniforms,oe,{zoom:me});const de={[ue.LINES]:2,[ue.TRIANGLES]:3,[ue.LINE_STRIP]:1}[d];for(const we of J.get()){const xe=we.vaos||(we.vaos={});(xe[z]||(xe[z]=new cn)).bind(a,this,N,pe?pe.getPaintVertexBuffers():[],V,we.vertexOffset,be||[]),ue.drawElements(d,we.primitiveLength*de,ue.UNSIGNED_SHORT,we.primitiveOffset*de*2)}}}function la(g,a){const d=Math.pow(2,a.tileID.overscaledZ),b=a.tileSize*Math.pow(2,g.transform.tileZoom)/d,x=b*(a.tileID.canonical.x+a.tileID.wrap*d),L=b*a.tileID.canonical.y;return{u_image:0,u_texsize:a.imageAtlasTexture.size,u_tile_units_to_pixels:1/Gr(a,1,g.transform.tileZoom),u_pixel_coord_upper:[x>>16,L>>16],u_pixel_coord_lower:[65535&x,65535&L]}}const uc=s.create(),Mu=(g,a,d,b,x,L,D,P,z,N,V)=>{const J=a.style.light,oe=J.properties.get("position"),me=[oe.x,oe.y,oe.z],pe=s.create$1();J.properties.get("anchor")==="viewport"&&(s.fromRotation(pe,-a.transform.angle),s.transformMat3(me,me,pe));const be=J.properties.get("color"),ue=a.transform,de={u_matrix:g,u_lightpos:me,u_lightintensity:J.properties.get("intensity"),u_lightcolor:[be.r,be.g,be.b],u_vertical_gradient:+d,u_opacity:b,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:uc,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:x,u_edge_radius:L};return ue.projection.name==="globe"&&(de.u_tile_id=[D.canonical.x,D.canonical.y,1<<D.canonical.z],de.u_zoom_transition=z,de.u_inv_rot_matrix=V,de.u_merc_center=N,de.u_up_dir=ue.projection.upVector(new s.CanonicalTileID(0,0,0),N[0]*s.EXTENT,N[1]*s.EXTENT),de.u_height_lift=P),de},Aa=(g,a,d,b,x,L,D,P,z,N,V,J)=>{const oe=Mu(g,a,d,b,x,L,D,z,N,V,J),me={u_height_factor:-Math.pow(2,D.overscaledZ)/P.tileSize/8};return s.extend(oe,la(a,P),me)},is=g=>({u_matrix:g}),Ws=(g,a,d)=>s.extend(is(g),la(a,d)),io=(g,a)=>({u_matrix:g,u_world:a}),wl=(g,a,d,b)=>s.extend(Ws(g,a,d),{u_world:b}),Su=s.create(),Xd=(g,a,d,b,x,L)=>{const D=g.transform,P=D.projection.name==="globe";let z;if(L.paint.get("circle-pitch-alignment")==="map")if(P){const V=s.globePixelsToTileUnits(D.zoom,a.canonical)*D._pixelsPerMercatorPixel;z=Float32Array.from([V,0,0,V])}else z=D.calculatePixelsToTileUnitsMatrix(d);else z=new Float32Array([D.pixelsToGLUnits[0],0,0,D.pixelsToGLUnits[1]]);const N={u_camera_to_center_distance:D.cameraToCenterDistance,u_matrix:g.translatePosMatrix(a.projMatrix,d,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_device_pixel_ratio:s.exported.devicePixelRatio,u_extrude_scale:z,u_inv_rot_matrix:Su,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(P){N.u_inv_rot_matrix=b,N.u_merc_center=x,N.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],N.u_zoom_transition=s.globeToMercatorTransition(D.zoom);const V=x[0]*s.EXTENT,J=x[1]*s.EXTENT;N.u_up_dir=D.projection.upVector(new s.CanonicalTileID(0,0,0),V,J)}return N},Mh=g=>{const a=[];return g.paint.get("circle-pitch-alignment")==="map"&&a.push("PITCH_WITH_MAP"),g.paint.get("circle-pitch-scale")==="map"&&a.push("SCALE_WITH_MAP"),a},cc=(g,a,d,b)=>{const x=s.EXTENT/d.tileSize;return{u_matrix:g,u_camera_to_center_distance:a.getCameraToCenterDistance(b),u_extrude_scale:[a.pixelsToGLUnits[0]/x,a.pixelsToGLUnits[1]/x]}},Lu=(g,a,d=1)=>({u_matrix:g,u_color:a,u_overlay:0,u_overlay_scale:d}),Sh=s.create(),rd=(g,a,d,b,x,L,D)=>{const P=g.transform,z=P.projection.name==="globe",N=z?s.globePixelsToTileUnits(P.zoom,a.canonical)*P._pixelsPerMercatorPixel:Gr(d,1,L),V={u_matrix:a.projMatrix,u_extrude_scale:N,u_intensity:D,u_inv_rot_matrix:Sh,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(z){V.u_inv_rot_matrix=b,V.u_merc_center=x,V.u_tile_id=[a.canonical.x,a.canonical.y,1<<a.canonical.z],V.u_zoom_transition=s.globeToMercatorTransition(P.zoom);const J=x[0]*s.EXTENT,oe=x[1]*s.EXTENT;V.u_up_dir=P.projection.upVector(new s.CanonicalTileID(0,0,0),J,oe)}return V},Kd=(g,a,d,b,x,L,D)=>{const P=g.transform,z=P.calculatePixelsToTileUnitsMatrix(a);return{u_matrix:Jd(g,a,d,b),u_pixels_to_tile_units:z,u_device_pixel_ratio:L,u_units_to_pixels:[1/P.pixelsToGLUnits[0],1/P.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:x,u_texsize:Tu(d)?a.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:nd(a,g.transform),u_alpha_discard_threshold:0,u_trim_offset:D}},qo=(g,a,d,b,x)=>{const L=g.transform;return{u_matrix:Jd(g,a,d,b),u_texsize:a.imageAtlasTexture.size,u_pixels_to_tile_units:L.calculatePixelsToTileUnitsMatrix(a),u_device_pixel_ratio:x,u_image:0,u_tile_units_to_pixels:nd(a,L),u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function nd(g,a){return 1/Gr(g,1,a.tileZoom)}function Jd(g,a,d,b){return g.translatePosMatrix(b||a.tileID.projMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}function Tu(g){const a=g.paint.get("line-dasharray").value;return a.value||a.kind!=="constant"}const Qd=(g,a,d,b,x,L)=>{return{u_matrix:g,u_tl_parent:a,u_scale_parent:d,u_fade_t:b.mix,u_opacity:b.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(P=x.paint.get("raster-saturation"),P>0?1-1/(1.001-P):-P),u_contrast_factor:(D=x.paint.get("raster-contrast"),D>0?1/(1-D):1+D),u_spin_weights:Ms(x.paint.get("raster-hue-rotate")),u_perspective_transform:L};var D,P};function Ms(g){g*=Math.PI/180;const a=Math.sin(g),d=Math.cos(g);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}const dc=s.create(),id=(g,a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be)=>{const ue=x.transform,de={u_is_size_zoom_constant:+(g==="constant"||g==="source"),u_is_size_feature_constant:+(g==="constant"||g==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:ue.cameraToCenterDistance,u_rotate_symbol:+d,u_aspect_ratio:ue.width/ue.height,u_fade_change:x.options.fadeDuration?x.symbolFadeChange:1,u_matrix:L,u_label_plane_matrix:D,u_coord_matrix:P,u_is_text:+z,u_pitch_with_map:+b,u_texsize:N,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:dc,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:dc,u_up_vector:[0,-1,0]};return be.name==="globe"&&(de.u_tile_id=[V.canonical.x,V.canonical.y,1<<V.canonical.z],de.u_zoom_transition=J,de.u_inv_rot_matrix=me,de.u_merc_center=oe,de.u_camera_forward=ue._camera.forward(),de.u_ecef_origin=s.globeECEFOrigin(ue.globeMatrix,V.toUnwrapped()),de.u_tile_matrix=Float32Array.from(ue.globeMatrix),de.u_up_vector=pe),de},Lh=(g,a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be,ue)=>s.extend(id(g,a,d,b,x,L,D,P,z,N,J,oe,me,pe,be,ue),{u_gamma_scale:b?x.transform.cameraToCenterDistance*Math.cos(x.terrain?0:x.transform._pitch):1,u_device_pixel_ratio:s.exported.devicePixelRatio,u_is_halo:1}),od=(g,a,d,b,x,L,D,P,z,N,V,J,oe,me,pe,be)=>s.extend(Lh(g,a,d,b,x,L,D,P,!0,z,!0,V,J,oe,me,pe,be),{u_texsize_icon:N,u_texture_icon:1}),Eu=(g,a,d)=>({u_matrix:g,u_opacity:a,u_color:d}),xa=(g,a,d,b,x)=>s.extend((function(L,D,P){const z=D.imageManager.getPattern(L.toString()),{width:N,height:V}=D.imageManager.getPixelSize(),J=Math.pow(2,P.tileID.overscaledZ),oe=P.tileSize*Math.pow(2,D.transform.tileZoom)/J,me=oe*(P.tileID.canonical.x+P.tileID.wrap*J),pe=oe*P.tileID.canonical.y;return{u_image:0,u_pattern_tl:z.tl,u_pattern_br:z.br,u_texsize:[N,V],u_pattern_size:z.displaySize,u_tile_units_to_pixels:1/Gr(P,1,D.transform.tileZoom),u_pixel_coord_upper:[me>>16,pe>>16],u_pixel_coord_lower:[65535&me,65535&pe]}})(b,d,x),{u_matrix:g,u_opacity:a}),Th={fillExtrusion:g=>({u_matrix:new s.UniformMatrix4f(g),u_lightpos:new s.Uniform3f(g),u_lightintensity:new s.Uniform1f(g),u_lightcolor:new s.Uniform3f(g),u_vertical_gradient:new s.Uniform1f(g),u_opacity:new s.Uniform1f(g),u_edge_radius:new s.Uniform1f(g),u_ao:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_up_dir:new s.Uniform3f(g),u_height_lift:new s.Uniform1f(g)}),fillExtrusionPattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_lightpos:new s.Uniform3f(g),u_lightintensity:new s.Uniform1f(g),u_lightcolor:new s.Uniform3f(g),u_vertical_gradient:new s.Uniform1f(g),u_height_factor:new s.Uniform1f(g),u_edge_radius:new s.Uniform1f(g),u_ao:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_up_dir:new s.Uniform3f(g),u_height_lift:new s.Uniform1f(g),u_image:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_pixel_coord_upper:new s.Uniform2f(g),u_pixel_coord_lower:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g),u_opacity:new s.Uniform1f(g)}),fill:g=>({u_matrix:new s.UniformMatrix4f(g)}),fillPattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_image:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_pixel_coord_upper:new s.Uniform2f(g),u_pixel_coord_lower:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g)}),fillOutline:g=>({u_matrix:new s.UniformMatrix4f(g),u_world:new s.Uniform2f(g)}),fillOutlinePattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_world:new s.Uniform2f(g),u_image:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_pixel_coord_upper:new s.Uniform2f(g),u_pixel_coord_lower:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g)}),circle:g=>({u_camera_to_center_distance:new s.Uniform1f(g),u_extrude_scale:new s.UniformMatrix2f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_up_dir:new s.Uniform3f(g)}),collisionBox:g=>({u_matrix:new s.UniformMatrix4f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_extrude_scale:new s.Uniform2f(g)}),collisionCircle:g=>({u_matrix:new s.UniformMatrix4f(g),u_inv_matrix:new s.UniformMatrix4f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_viewport_size:new s.Uniform2f(g)}),debug:g=>({u_color:new s.UniformColor(g),u_matrix:new s.UniformMatrix4f(g),u_overlay:new s.Uniform1i(g),u_overlay_scale:new s.Uniform1f(g)}),clippingMask:g=>({u_matrix:new s.UniformMatrix4f(g)}),heatmap:g=>({u_extrude_scale:new s.Uniform1f(g),u_intensity:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_up_dir:new s.Uniform3f(g)}),heatmapTexture:g=>({u_image:new s.Uniform1i(g),u_color_ramp:new s.Uniform1i(g),u_opacity:new s.Uniform1f(g)}),hillshade:g=>({u_matrix:new s.UniformMatrix4f(g),u_image:new s.Uniform1i(g),u_latrange:new s.Uniform2f(g),u_light:new s.Uniform2f(g),u_shadow:new s.UniformColor(g),u_highlight:new s.UniformColor(g),u_accent:new s.UniformColor(g)}),hillshadePrepare:g=>({u_matrix:new s.UniformMatrix4f(g),u_image:new s.Uniform1i(g),u_dimension:new s.Uniform2f(g),u_zoom:new s.Uniform1f(g),u_unpack:new s.Uniform4f(g)}),line:g=>({u_matrix:new s.UniformMatrix4f(g),u_pixels_to_tile_units:new s.UniformMatrix2f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_units_to_pixels:new s.Uniform2f(g),u_dash_image:new s.Uniform1i(g),u_gradient_image:new s.Uniform1i(g),u_image_height:new s.Uniform1f(g),u_texsize:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g),u_alpha_discard_threshold:new s.Uniform1f(g),u_trim_offset:new s.Uniform2f(g)}),linePattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_texsize:new s.Uniform2f(g),u_pixels_to_tile_units:new s.UniformMatrix2f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_image:new s.Uniform1i(g),u_units_to_pixels:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g),u_alpha_discard_threshold:new s.Uniform1f(g)}),raster:g=>({u_matrix:new s.UniformMatrix4f(g),u_tl_parent:new s.Uniform2f(g),u_scale_parent:new s.Uniform1f(g),u_fade_t:new s.Uniform1f(g),u_opacity:new s.Uniform1f(g),u_image0:new s.Uniform1i(g),u_image1:new s.Uniform1i(g),u_brightness_low:new s.Uniform1f(g),u_brightness_high:new s.Uniform1f(g),u_saturation_factor:new s.Uniform1f(g),u_contrast_factor:new s.Uniform1f(g),u_spin_weights:new s.Uniform3f(g),u_perspective_transform:new s.Uniform2f(g)}),symbolIcon:g=>({u_is_size_zoom_constant:new s.Uniform1i(g),u_is_size_feature_constant:new s.Uniform1i(g),u_size_t:new s.Uniform1f(g),u_size:new s.Uniform1f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_rotate_symbol:new s.Uniform1i(g),u_aspect_ratio:new s.Uniform1f(g),u_fade_change:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_label_plane_matrix:new s.UniformMatrix4f(g),u_coord_matrix:new s.UniformMatrix4f(g),u_is_text:new s.Uniform1i(g),u_pitch_with_map:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_camera_forward:new s.Uniform3f(g),u_tile_matrix:new s.UniformMatrix4f(g),u_up_vector:new s.Uniform3f(g),u_ecef_origin:new s.Uniform3f(g),u_texture:new s.Uniform1i(g)}),symbolSDF:g=>({u_is_size_zoom_constant:new s.Uniform1i(g),u_is_size_feature_constant:new s.Uniform1i(g),u_size_t:new s.Uniform1f(g),u_size:new s.Uniform1f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_rotate_symbol:new s.Uniform1i(g),u_aspect_ratio:new s.Uniform1f(g),u_fade_change:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_label_plane_matrix:new s.UniformMatrix4f(g),u_coord_matrix:new s.UniformMatrix4f(g),u_is_text:new s.Uniform1i(g),u_pitch_with_map:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_texture:new s.Uniform1i(g),u_gamma_scale:new s.Uniform1f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_camera_forward:new s.Uniform3f(g),u_tile_matrix:new s.UniformMatrix4f(g),u_up_vector:new s.Uniform3f(g),u_ecef_origin:new s.Uniform3f(g),u_is_halo:new s.Uniform1i(g)}),symbolTextAndIcon:g=>({u_is_size_zoom_constant:new s.Uniform1i(g),u_is_size_feature_constant:new s.Uniform1i(g),u_size_t:new s.Uniform1f(g),u_size:new s.Uniform1f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_rotate_symbol:new s.Uniform1i(g),u_aspect_ratio:new s.Uniform1f(g),u_fade_change:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_label_plane_matrix:new s.UniformMatrix4f(g),u_coord_matrix:new s.UniformMatrix4f(g),u_is_text:new s.Uniform1i(g),u_pitch_with_map:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_texsize_icon:new s.Uniform2f(g),u_texture:new s.Uniform1i(g),u_texture_icon:new s.Uniform1i(g),u_gamma_scale:new s.Uniform1f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_is_halo:new s.Uniform1i(g)}),background:g=>({u_matrix:new s.UniformMatrix4f(g),u_opacity:new s.Uniform1f(g),u_color:new s.UniformColor(g)}),backgroundPattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_opacity:new s.Uniform1f(g),u_image:new s.Uniform1i(g),u_pattern_tl:new s.Uniform2f(g),u_pattern_br:new s.Uniform2f(g),u_texsize:new s.Uniform2f(g),u_pattern_size:new s.Uniform2f(g),u_pixel_coord_upper:new s.Uniform2f(g),u_pixel_coord_lower:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g)}),terrainRaster:Gi,terrainDepth:Gi,skybox:g=>({u_matrix:new s.UniformMatrix4f(g),u_sun_direction:new s.Uniform3f(g),u_cubemap:new s.Uniform1i(g),u_opacity:new s.Uniform1f(g),u_temporal_offset:new s.Uniform1f(g)}),skyboxGradient:g=>({u_matrix:new s.UniformMatrix4f(g),u_color_ramp:new s.Uniform1i(g),u_center_direction:new s.Uniform3f(g),u_radius:new s.Uniform1f(g),u_opacity:new s.Uniform1f(g),u_temporal_offset:new s.Uniform1f(g)}),skyboxCapture:g=>({u_matrix_3f:new s.UniformMatrix3f(g),u_sun_direction:new s.Uniform3f(g),u_sun_intensity:new s.Uniform1f(g),u_color_tint_r:new s.Uniform4f(g),u_color_tint_m:new s.Uniform4f(g),u_luminance:new s.Uniform1f(g)}),globeRaster:g=>({u_proj_matrix:new s.UniformMatrix4f(g),u_globe_matrix:new s.UniformMatrix4f(g),u_normalize_matrix:new s.UniformMatrix4f(g),u_merc_matrix:new s.UniformMatrix4f(g),u_zoom_transition:new s.Uniform1f(g),u_merc_center:new s.Uniform2f(g),u_image0:new s.Uniform1i(g),u_grid_matrix:new s.UniformMatrix3f(g),u_frustum_tl:new s.Uniform3f(g),u_frustum_tr:new s.Uniform3f(g),u_frustum_br:new s.Uniform3f(g),u_frustum_bl:new s.Uniform3f(g),u_globe_pos:new s.Uniform3f(g),u_globe_radius:new s.Uniform1f(g),u_viewport:new s.Uniform2f(g)}),globeAtmosphere:g=>({u_frustum_tl:new s.Uniform3f(g),u_frustum_tr:new s.Uniform3f(g),u_frustum_br:new s.Uniform3f(g),u_frustum_bl:new s.Uniform3f(g),u_horizon:new s.Uniform1f(g),u_transition:new s.Uniform1f(g),u_fadeout_range:new s.Uniform1f(g),u_color:new s.Uniform4f(g),u_high_color:new s.Uniform4f(g),u_space_color:new s.Uniform4f(g),u_star_intensity:new s.Uniform1f(g),u_star_density:new s.Uniform1f(g),u_star_size:new s.Uniform1f(g),u_temporal_offset:new s.Uniform1f(g),u_horizon_angle:new s.Uniform1f(g),u_rotation_matrix:new s.UniformMatrix4f(g)})};let ku;function Eh(g,a,d,b,x,L,D){const P=g.context,z=P.gl,N=g.transform,V=g.useProgram("collisionBox"),J=[];let oe=0,me=0;for(let Ie=0;Ie<b.length;Ie++){const Fe=b[Ie],Be=a.getTile(Fe),We=Be.getBucket(d);if(!We)continue;const bt=hl(Fe,We,N);let pt=bt;x[0]===0&&x[1]===0||(pt=g.translatePosMatrix(bt,Be,x,L));const Xe=D?We.textCollisionBox:We.iconCollisionBox,tr=We.collisionCircleArray;if(tr.length>0){const ct=s.create(),Ft=pt;s.mul(ct,We.placementInvProjMatrix,N.glCoordMatrix),s.mul(ct,ct,We.placementViewportMatrix),J.push({circleArray:tr,circleOffset:me,transform:Ft,invTransform:ct,projection:We.getProjection()}),oe+=tr.length/4,me=oe}Xe&&(g.terrain&&g.terrain.setupElevationDraw(Be,V),V.draw(P,z.LINES,s.DepthMode.disabled,s.StencilMode.disabled,g.colorModeForRenderPass(),s.CullFaceMode.disabled,cc(pt,N,Be,We.getProjection()),d.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,null,N.zoom,null,[Xe.collisionVertexBuffer,Xe.collisionVertexBufferExt]))}if(!D||!J.length)return;const pe=g.useProgram("collisionCircle"),be=new s.StructArrayLayout2f1f2i16;be.resize(4*oe),be._trim();let ue=0;for(const Ie of J)for(let Fe=0;Fe<Ie.circleArray.length/4;Fe++){const Be=4*Fe,We=Ie.circleArray[Be+0],bt=Ie.circleArray[Be+1],pt=Ie.circleArray[Be+2],Xe=Ie.circleArray[Be+3];be.emplace(ue++,We,bt,pt,Xe,0),be.emplace(ue++,We,bt,pt,Xe,1),be.emplace(ue++,We,bt,pt,Xe,2),be.emplace(ue++,We,bt,pt,Xe,3)}(!ku||ku.length<2*oe)&&(ku=(function(Ie){const Fe=2*Ie,Be=new s.StructArrayLayout3ui6;Be.resize(Fe),Be._trim();for(let We=0;We<Fe;We++){const bt=6*We;Be.uint16[bt+0]=4*We+0,Be.uint16[bt+1]=4*We+1,Be.uint16[bt+2]=4*We+2,Be.uint16[bt+3]=4*We+2,Be.uint16[bt+4]=4*We+3,Be.uint16[bt+5]=4*We+0}return Be})(oe));const de=P.createIndexBuffer(ku,!0),we=P.createVertexBuffer(be,s.collisionCircleLayout.members,!0);for(const Ie of J){const Fe={u_matrix:Ie.transform,u_inv_matrix:Ie.invTransform,u_camera_to_center_distance:(xe=N).getCameraToCenterDistance(Ie.projection),u_viewport_size:[xe.width,xe.height]};pe.draw(P,z.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,g.colorModeForRenderPass(),s.CullFaceMode.disabled,Fe,d.id,we,de,s.SegmentVector.simpleSegment(0,2*Ie.circleOffset,Ie.circleArray.length,Ie.circleArray.length/2),null,N.zoom)}var xe;we.destroy(),de.destroy()}const fc=s.create();function hm({width:g,height:a,anchor:d,textOffset:b,textScale:x},L){const{horizontalAlign:D,verticalAlign:P}=s.getAnchorAlignment(d),z=-(D-.5)*g,N=-(P-.5)*a,V=s.evaluateVariableOffset(d,b);return new s.pointGeometry((z/x+V[0])*L,(N/x+V[1])*L)}function kh(g,a,d,b,x,L,D,P,z,N,V){const J=g.text.placedSymbolArray,oe=g.text.dynamicLayoutVertexArray,me=g.icon.dynamicLayoutVertexArray,pe={},be=g.getProjection(),ue=Hs(P,be,L),de=L.elevation,we=be.upVectorScale(P.canonical,L.center.lat,L.worldSize).metersToTile;oe.clear();for(let xe=0;xe<J.length;xe++){const Ie=J.get(xe),{tileAnchorX:Fe,tileAnchorY:Be,numGlyphs:We}=Ie,bt=g.allowVerticalPlacement&&!Ie.placedOrientation,pt=Ie.hidden||!Ie.crossTileID||bt?null:b[Ie.crossTileID];if(pt){let Xe=0,tr=0,ct=0;if(de){const Pr=de?de.getAtTileOffset(P,Fe,Be):0,[Qr,Rr,on]=be.upVector(P.canonical,Fe,Be);Xe=Pr*Qr*we,tr=Pr*Rr*we,ct=Pr*on*we}let[Ft,St,Jt,Et]=lo(Ie.projectedAnchorX+Xe,Ie.projectedAnchorY+tr,Ie.projectedAnchorZ+ct,d?ue:D);const $t=br(L.getCameraToCenterDistance(be),Et);let or=x.evaluateSizeForFeature(g.textSizeData,N,Ie)*$t/s.ONE_EM;d&&(or*=g.tilePixelRatio/z);const it=hm(pt,or);d?({x:Ft,y:St,z:Jt}=be.projectTilePoint(Fe+it.x,Be+it.y,P.canonical),[Ft,St,Jt]=lo(Ft+Xe,St+tr,Jt+ct,D)):(a&&it._rotate(-L.angle),Ft+=it.x,St+=it.y,Jt=0);const Mt=g.allowVerticalPlacement&&Ie.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let Pr=0;Pr<We;Pr++)s.addDynamicAttributes(oe,Ft,St,Jt,Mt);V&&Ie.associatedIconIndex>=0&&(pe[Ie.associatedIconIndex]={x:Ft,y:St,z:Jt,angle:Mt})}else uo(We,oe)}if(V){me.clear();const xe=g.icon.placedSymbolArray;for(let Ie=0;Ie<xe.length;Ie++){const Fe=xe.get(Ie),{numGlyphs:Be}=Fe,We=pe[Ie];if(Fe.hidden||!We)uo(Be,me);else{const{x:bt,y:pt,z:Xe,angle:tr}=We;for(let ct=0;ct<Be;ct++)s.addDynamicAttributes(me,bt,pt,Xe,tr)}}g.icon.dynamicLayoutVertexBuffer.updateData(me)}g.text.dynamicLayoutVertexBuffer.updateData(oe)}function Gl(g,a,d){return d.iconsInText&&a?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function nt(g,a,d,b,x,L,D,P,z,N,V,J){const oe=g.context,me=oe.gl,pe=g.transform,be=P==="map",ue=z==="map",de=be&&d.layout.get("symbol-placement")!=="point",we=be&&!ue&&!de,xe=d.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ie=!1;const Fe=g.depthModeForSublayer(0,s.DepthMode.ReadOnly),Be=[s.mercatorXfromLng(pe.center.lng),s.mercatorYfromLat(pe.center.lat)],We=d.layout.get("text-variable-anchor"),bt=pe.projection.name==="globe",pt=[],Xe=[0,-1,0];let tr=Xe;!bt&&!pe.mercatorFromTransition||be||(tr=(function(ct){const Ft=ct._camera.getWorldToCamera(ct.worldSize,1),St=s.multiply([],Ft,ct.globeMatrix);s.invert(St,St);const Jt=[0,0,0],Et=[0,1,0,0];return s.transformMat4$1(Et,Et,St),Jt[0]=Et[0],Jt[1]=Et[1],Jt[2]=Et[2],s.normalize(Jt,Jt),Jt})(pe));for(const ct of b){const Ft=a.getTile(ct),St=Ft.getBucket(d);if(!St||St.projection.name==="mercator"&&bt)continue;const Jt=x?St.text:St.icon;if(!Jt||St.fullyClipped||!Jt.segments.get().length)continue;const Et=Jt.programConfigurations.get(d.id),$t=x||St.sdfIcons,or=x?St.textSizeData:St.iconSizeData,it=ue||pe.pitch!==0,Mt=s.evaluateSizeForZoom(or,pe.zoom);let Pr,Qr,Rr,on,Mn=[0,0],en=null;if(x){if(Qr=Ft.glyphAtlasTexture,Rr=me.LINEAR,Pr=Ft.glyphAtlasTexture.size,St.iconsInText){Mn=Ft.imageAtlasTexture.size,en=Ft.imageAtlasTexture;const Ra=or.kind==="composite"||or.kind==="camera";on=it||g.options.rotating||g.options.zooming||Ra?me.LINEAR:me.NEAREST}}else{const Ra=d.layout.get("icon-size").constantOr(0)!==1||St.iconsNeedLinear;Qr=Ft.imageAtlasTexture,Rr=$t||g.options.rotating||g.options.zooming||Ra||it?me.LINEAR:me.NEAREST,Pr=Ft.imageAtlasTexture.size}const kr=St.projection.name==="globe",oi=kr?tr:Xe,Xn=kr?s.globeToMercatorTransition(pe.zoom):0,ai=Hs(ct,St.getProjection(),pe),li=pe.calculatePixelsToTileUnitsMatrix(Ft),Ro=Uo(ai,Ft.tileID.canonical,ue,be,pe,St.getProjection(),li),ca=g.terrain&&ue&&de?s.invert(s.create(),Ro):fc,Fo=bu(ai,Ft.tileID.canonical,ue,be,pe,St.getProjection(),li),as=We&&St.hasTextData(),ui=d.layout.get("icon-text-fit")!=="none"&&as&&St.hasIconData();if(de){const Ra=pe.elevation,Fa=Ra?Ra.getAtTileOffsetFunc(ct,pe.center.lat,pe.worldSize,St.getProjection()):null,wn=bs(ai,Ft.tileID.canonical,ue,be,pe,St.getProjection(),li);Ln(St,ai,g,x,wn,Fo,ue,N,Fa,ct)}const mi=de||x&&We||ui,Wn=g.translatePosMatrix(ai,Ft,L,D),Vi=mi?fc:Ro,zo=g.translatePosMatrix(Fo,Ft,L,D,!0),_i=St.getProjection().createInversionMatrix(pe,ct.canonical),Zo=[];g.terrainRenderModeElevated()&&ue&&Zo.push("PITCH_WITH_MAP_TERRAIN"),kr&&Zo.push("PROJECTION_GLOBE_VIEW"),mi&&Zo.push("PROJECTED_POS_ON_VIEWPORT");const nu=$t&&d.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Es;Es=$t?St.iconsInText?od(or.kind,Mt,we,ue,g,Wn,Vi,zo,Pr,Mn,ct,Xn,Be,_i,oi,St.getProjection()):Lh(or.kind,Mt,we,ue,g,Wn,Vi,zo,x,Pr,!0,ct,Xn,Be,_i,oi,St.getProjection()):id(or.kind,Mt,we,ue,g,Wn,Vi,zo,x,Pr,ct,Xn,Be,_i,oi,St.getProjection());const ho={program:g.useProgram(Gl($t,x,St),Et,Zo),buffers:Jt,uniformValues:Es,atlasTexture:Qr,atlasTextureIcon:en,atlasInterpolation:Rr,atlasInterpolationIcon:on,isSDF:$t,hasHalo:nu,tile:Ft,labelPlaneMatrixInv:ca};if(xe&&St.canOverlap){Ie=!0;const Ra=Jt.segments.get();for(const Fa of Ra)pt.push({segments:new s.SegmentVector([Fa]),sortKey:Fa.sortKey,state:ho})}else pt.push({segments:Jt.segments,sortKey:0,state:ho})}Ie&&pt.sort(((ct,Ft)=>ct.sortKey-Ft.sortKey));for(const ct of pt){const Ft=ct.state;if(g.terrain&&g.terrain.setupElevationDraw(Ft.tile,Ft.program,{useDepthForOcclusion:!bt,labelPlaneMatrixInv:Ft.labelPlaneMatrixInv}),oe.activeTexture.set(me.TEXTURE0),Ft.atlasTexture.bind(Ft.atlasInterpolation,me.CLAMP_TO_EDGE),Ft.atlasTextureIcon&&(oe.activeTexture.set(me.TEXTURE1),Ft.atlasTextureIcon&&Ft.atlasTextureIcon.bind(Ft.atlasInterpolationIcon,me.CLAMP_TO_EDGE)),Ft.isSDF){const St=Ft.uniformValues;Ft.hasHalo&&(St.u_is_halo=1,Wt(Ft.buffers,ct.segments,d,g,Ft.program,Fe,V,J,St)),St.u_is_halo=0}Wt(Ft.buffers,ct.segments,d,g,Ft.program,Fe,V,J,Ft.uniformValues)}}function Wt(g,a,d,b,x,L,D,P,z){const N=b.context,V=[g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer,g.globeExtVertexBuffer];x.draw(N,N.gl.TRIANGLES,L,D,P,s.CullFaceMode.disabled,z,d.id,g.layoutVertexBuffer,g.indexBuffer,a,d.paint,b.transform.zoom,g.programConfigurations.get(d.id),V)}function Ot(g,a,d,b,x,L,D){const P=g.context.gl,z=d.paint.get("fill-pattern"),N=z&&z.constantOr(1);let V,J,oe,me,pe;D?(J=N&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",V=P.LINES):(J=N?"fillPattern":"fill",V=P.TRIANGLES);for(const be of b){const ue=a.getTile(be);if(N&&!ue.patternsLoaded())continue;const de=ue.getBucket(d);if(!de)continue;g.prepareDrawTile();const we=de.programConfigurations.get(d.id),xe=g.useProgram(J,we);N&&(g.context.activeTexture.set(P.TEXTURE0),ue.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),we.updatePaintBuffers());const Ie=z.constantOr(null);if(Ie&&ue.imageAtlas){const Be=ue.imageAtlas.patternPositions[Ie.toString()];Be&&we.setConstantPatternPositions(Be)}const Fe=g.translatePosMatrix(be.projMatrix,ue,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(D){me=de.indexBuffer2,pe=de.segments2;const Be=g.terrain&&g.terrain.renderingToTexture?g.terrain.drapeBufferSize:[P.drawingBufferWidth,P.drawingBufferHeight];oe=J==="fillOutlinePattern"&&N?wl(Fe,g,ue,Be):io(Fe,Be)}else me=de.indexBuffer,pe=de.segments,oe=N?Ws(Fe,g,ue):is(Fe);g.prepareDrawProgram(g.context,xe,be.toUnwrapped()),xe.draw(g.context,V,x,g.stencilModeForClipping(be),L,s.CullFaceMode.disabled,oe,d.id,de.layoutVertexBuffer,me,pe,d.paint,g.transform.zoom,we)}}function Hr(g,a,d,b,x,L,D){const P=g.context,z=P.gl,N=g.transform,V=d.paint.get("fill-extrusion-pattern"),J=V.constantOr(1),oe=d.paint.get("fill-extrusion-opacity"),me=[d.paint.get("fill-extrusion-ambient-occlusion-intensity"),d.paint.get("fill-extrusion-ambient-occlusion-radius")],pe=d.layout.get("fill-extrusion-edge-radius"),be=N.projection.name==="globe"?s.fillExtrusionHeightLift():0,ue=N.projection.name==="globe",de=ue?s.globeToMercatorTransition(N.zoom):0,we=[s.mercatorXfromLng(N.center.lng),s.mercatorYfromLat(N.center.lat)],xe=[];ue&&(xe.push("PROJECTION_GLOBE_VIEW"),g.style.terrainSetForDrapingOnly()&&xe.push("TERRAIN")),me[0]>0&&xe.push("FAUX_AO");for(const Ie of b){const Fe=a.getTile(Ie),Be=Fe.getBucket(d);if(!Be||Be.projection.name!==N.projection.name)continue;const We=Be.programConfigurations.get(d.id),bt=g.useProgram(J?"fillExtrusionPattern":"fillExtrusion",We,xe);if(g.terrain){const Jt=g.terrain;if(g.style.terrainSetForDrapingOnly())Jt.setupElevationDraw(Fe,bt,{useMeterToDem:!0});else{if(!Be.enableTerrain)continue;if(Jt.setupElevationDraw(Fe,bt,{useMeterToDem:!0}),kn(P,a,Ie,Be,d,Jt),!Be.centroidVertexBuffer){const Et=bt.attributes.a_centroid_pos;Et!==void 0&&z.vertexAttrib2f(Et,0,0)}}}J&&(g.context.activeTexture.set(z.TEXTURE0),Fe.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),We.updatePaintBuffers());const pt=V.constantOr(null);if(pt&&Fe.imageAtlas){const Jt=Fe.imageAtlas.patternPositions[pt.toString()];Jt&&We.setConstantPatternPositions(Jt)}const Xe=g.translatePosMatrix(Ie.projMatrix,Fe,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),tr=N.projection.createInversionMatrix(N,Ie.canonical),ct=d.paint.get("fill-extrusion-vertical-gradient"),Ft=J?Aa(Xe,g,ct,oe,me,pe,Ie,Fe,be,de,we,tr):Mu(Xe,g,ct,oe,me,pe,Ie,be,de,we,tr);g.prepareDrawProgram(P,bt,Ie.toUnwrapped());const St=[];g.terrain&&St.push(Be.centroidVertexBuffer),ue&&St.push(Be.layoutVertexExtBuffer),bt.draw(P,P.gl.TRIANGLES,x,L,D,s.CullFaceMode.backCCW,Ft,d.id,Be.layoutVertexBuffer,Be.indexBuffer,Be.segments,d.paint,g.transform.zoom,We,St)}}function kn(g,a,d,b,x,L){const D=[de=>{let we=de.canonical.x-1,xe=de.wrap;return we<0&&(we=(1<<de.canonical.z)-1,xe--),new s.OverscaledTileID(de.overscaledZ,xe,de.canonical.z,we,de.canonical.y)},de=>{let we=de.canonical.x+1,xe=de.wrap;return we===1<<de.canonical.z&&(we=0,xe++),new s.OverscaledTileID(de.overscaledZ,xe,de.canonical.z,we,de.canonical.y)},de=>new s.OverscaledTileID(de.overscaledZ,de.wrap,de.canonical.z,de.canonical.x,(de.canonical.y===0?1<<de.canonical.z:de.canonical.y)-1),de=>new s.OverscaledTileID(de.overscaledZ,de.wrap,de.canonical.z,de.canonical.x,de.canonical.y===(1<<de.canonical.z)-1?0:de.canonical.y+1)],P=de=>{const we=a.getSource().minzoom,xe=Fe=>{const Be=a.getTileByID(Fe);if(Be&&Be.hasData())return Be.getBucket(x)},Ie=[0,-1,1];for(const Fe of Ie){if(de.overscaledZ+Fe<we)continue;const Be=xe(de.calculateScaledKey(de.overscaledZ+Fe));if(Be)return Be}},z=[0,0,0],N=(de,we)=>(z[0]=Math.min(de.min.y,we.min.y),z[1]=Math.max(de.max.y,we.max.y),z[2]=s.EXTENT-we.min.x>de.max.x?we.min.x-s.EXTENT:de.max.x,z),V=(de,we)=>(z[0]=Math.min(de.min.x,we.min.x),z[1]=Math.max(de.max.x,we.max.x),z[2]=s.EXTENT-we.min.y>de.max.y?we.min.y-s.EXTENT:de.max.y,z),J=[(de,we)=>N(de,we),(de,we)=>N(we,de),(de,we)=>V(de,we),(de,we)=>V(we,de)],oe=new s.pointGeometry(0,0);let me,pe,be;const ue=(de,we,xe,Ie,Fe)=>{const Be=[[Ie?xe:de,Ie?de:xe,0],[Ie?xe:we,Ie?we:xe,0]],We=Fe<0?s.EXTENT+Fe:Fe,bt=[Ie?We:(de+we)/2,Ie?(de+we)/2:We,0];return xe===0&&Fe<0||xe!==0&&Fe>0?L.getForTilePoints(be,[bt],!0,pe):Be.push(bt),L.getForTilePoints(d,Be,!0,me),Math.max(Be[0][2],Be[1][2],bt[2])/L.exaggeration()};for(let de=0;de<4;de++){const we=(de<2?1:5)-de,xe=b.borders[de];if(xe.length===0)continue;const Ie=be=D[de](d),Fe=P(Ie);if(!(Fe&&Fe instanceof s.FillExtrusionBucket&&Fe.enableTerrain)||b.borderDoneWithNeighborZ[de]===Fe.canonical.z&&Fe.borderDoneWithNeighborZ[we]===b.canonical.z||(pe=L.findDEMTileFor(Ie),!pe||!pe.dem))continue;if(!me){const pt=L.findDEMTileFor(d);if(!pt||!pt.dem)return;me=pt}const Be=Fe.borders[we];let We=0;const bt=Fe.borderDoneWithNeighborZ[we]!==b.canonical.z;if(b.canonical.z===Fe.canonical.z){for(let pt=0;pt<xe.length;pt++){const Xe=b.featuresOnBorder[xe[pt]],tr=Xe.borders[de];let ct;for(;We<Be.length&&(ct=Fe.featuresOnBorder[Be[We]],!(ct.borders[we][1]>tr[0]+3));)bt&&Fe.encodeCentroid(void 0,ct,!1),We++;if(ct&&We<Be.length){const Ft=We;let St=0;for(;!(ct.borders[we][0]>tr[1]-3)&&(St++,++We!==Be.length);)ct=Fe.featuresOnBorder[Be[We]];if(ct=Fe.featuresOnBorder[Be[Ft]],Xe.intersectsCount()>1||ct.intersectsCount()>1||St!==1){St!==1&&(We=Ft),b.encodeCentroid(void 0,Xe,!1),bt&&Fe.encodeCentroid(void 0,ct,!1);continue}const Jt=J[de](Xe,ct),Et=de%2?s.EXTENT-1:0;oe.x=ue(Jt[0],Math.min(s.EXTENT-1,Jt[1]),Et,de<2,Jt[2]),oe.y=0,b.encodeCentroid(oe,Xe,!1),bt&&Fe.encodeCentroid(oe,ct,!1)}else b.encodeCentroid(void 0,Xe,!1)}b.borderDoneWithNeighborZ[de]=Fe.canonical.z,b.needsCentroidUpdate=!0,bt&&(Fe.borderDoneWithNeighborZ[we]=b.canonical.z,Fe.needsCentroidUpdate=!0)}else{for(const pt of xe)b.encodeCentroid(void 0,b.featuresOnBorder[pt],!1);if(bt){for(const pt of Be)Fe.encodeCentroid(void 0,Fe.featuresOnBorder[pt],!1);Fe.borderDoneWithNeighborZ[we]=b.canonical.z,Fe.needsCentroidUpdate=!0}b.borderDoneWithNeighborZ[de]=Fe.canonical.z,b.needsCentroidUpdate=!0}}(b.needsCentroidUpdate||!b.centroidVertexBuffer&&b.centroidVertexArray.length!==0)&&b.uploadCentroid(g)}const si=new s.Color(1,0,0,1),co=new s.Color(0,1,0,1),vi=new s.Color(0,0,1,1),hc=new s.Color(1,0,1,1),Ah=new s.Color(0,1,1,1);function Ma(g,a,d){const b=g.context,x=g.transform,L=b.gl,D=x.projection.name==="globe",P=D?["PROJECTION_GLOBE_VIEW"]:null;let z=d.projMatrix;if(D&&s.globeToMercatorTransition(x.zoom)>0){const Xe=s.transitionTileAABBinECEF(d.canonical,x),tr=s.globeDenormalizeECEF(Xe);z=s.multiply(new Float32Array(16),x.globeMatrix,tr),s.multiply(z,x.projMatrix,z)}const N=g.useProgram("debug",null,P),V=a.getTileByID(d.key);g.terrain&&g.terrain.setupElevationDraw(V,N);const J=s.DepthMode.disabled,oe=s.StencilMode.disabled,me=g.colorModeForRenderPass(),pe="$debug";b.activeTexture.set(L.TEXTURE0),g.emptyTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE),D?V._makeGlobeTileDebugBuffers(g.context,x):V._makeDebugTileBoundsBuffers(g.context,x.projection);const be=V._tileDebugBuffer||g.debugBuffer,ue=V._tileDebugIndexBuffer||g.debugIndexBuffer,de=V._tileDebugSegments||g.debugSegments;N.draw(b,L.LINE_STRIP,J,oe,me,s.CullFaceMode.disabled,Lu(z,s.Color.red),pe,be,ue,de,null,null,null,[V._globeTileDebugBorderBuffer]);const we=V.latestRawTileData,xe=Math.floor((we&&we.byteLength||0)/1024),Ie=a.getTile(d).tileSize,Fe=512/Math.min(Ie,512)*(d.overscaledZ/x.zoom)*.5;let Be=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(Be+=` => ${d.overscaledZ}`),Be+=` ${xe}kb`,(function(Xe,tr){Xe.initDebugOverlayCanvas();const ct=Xe.debugOverlayCanvas,Ft=Xe.context.gl,St=Xe.debugOverlayCanvas.getContext("2d");St.clearRect(0,0,ct.width,ct.height),St.shadowColor="white",St.shadowBlur=2,St.lineWidth=1.5,St.strokeStyle="white",St.textBaseline="top",St.font="bold 36px Open Sans, sans-serif",St.fillText(tr,5,5),St.strokeText(tr,5,5),Xe.debugOverlayTexture.update(ct),Xe.debugOverlayTexture.bind(Ft.LINEAR,Ft.CLAMP_TO_EDGE)})(g,Be);const We=V._tileDebugTextBuffer||g.debugBuffer,bt=V._tileDebugTextIndexBuffer||g.quadTriangleIndexBuffer,pt=V._tileDebugTextSegments||g.debugSegments;N.draw(b,L.TRIANGLES,J,oe,s.ColorMode.alphaBlended,s.CullFaceMode.disabled,Lu(z,s.Color.transparent,Fe),pe,We,bt,pt,null,null,null,[V._globeTileDebugTextBuffer])}function Au(g,a,d,b){Go(g,0,a+d/2,g.transform.width,d,b)}function ad(g,a,d,b){Go(g,a-d/2,0,d,g.transform.height,b)}function Go(g,a,d,b,x,L){const D=g.context,P=D.gl;P.enable(P.SCISSOR_TEST),P.scissor(a*s.exported.devicePixelRatio,d*s.exported.devicePixelRatio,b*s.exported.devicePixelRatio,x*s.exported.devicePixelRatio),D.clear({color:L}),P.disable(P.SCISSOR_TEST)}const xl=s.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:pc}=xl;function Rn(g,a,d,b){g.emplaceBack(a,d,b)}class Wl{constructor(a){this.vertexArray=new s.StructArrayLayout3f12,this.indices=new s.StructArrayLayout3ui6,Rn(this.vertexArray,-1,-1,1),Rn(this.vertexArray,1,-1,1),Rn(this.vertexArray,-1,1,1),Rn(this.vertexArray,1,1,1),Rn(this.vertexArray,-1,-1,-1),Rn(this.vertexArray,1,-1,-1),Rn(this.vertexArray,-1,1,-1),Rn(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=a.createVertexBuffer(this.vertexArray,pc),this.indexBuffer=a.createIndexBuffer(this.indices),this.segment=s.SegmentVector.simpleSegment(0,0,36,12)}}function Ml(g,a,d,b,x,L){const D=g.gl,P=a.paint.get("sky-atmosphere-color"),z=a.paint.get("sky-atmosphere-halo-color"),N=a.paint.get("sky-atmosphere-sun-intensity"),V=((J,oe,me,pe,be)=>({u_matrix_3f:J,u_sun_direction:oe,u_sun_intensity:me,u_color_tint_r:[pe.r,pe.g,pe.b,pe.a],u_color_tint_m:[be.r,be.g,be.b,be.a],u_luminance:5e-5}))(s.fromMat4(s.create$1(),b),x,N,P,z);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_CUBE_MAP_POSITIVE_X+L,a.skyboxTexture,0),d.draw(g,D.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.frontCW,V,"skyboxCapture",a.skyboxGeometry.vertexBuffer,a.skyboxGeometry.indexBuffer,a.skyboxGeometry.segment)}const Cu=s.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class ti{constructor(a){const d=new s.StructArrayLayout5f20;d.emplaceBack(-1,1,1,0,0),d.emplaceBack(1,1,1,1,0),d.emplaceBack(1,-1,1,1,1),d.emplaceBack(-1,-1,1,0,1);const b=new s.StructArrayLayout3ui6;b.emplaceBack(0,1,2),b.emplaceBack(2,3,0),this.vertexBuffer=a.createVertexBuffer(d,Cu.members),this.indexBuffer=a.createIndexBuffer(b),this.segments=s.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const mc={symbol:function(g,a,d,b,x){if(g.renderPass!=="translucent")return;const L=s.StencilMode.disabled,D=g.colorModeForRenderPass();d.layout.get("text-variable-anchor")&&(function(P,z,N,V,J,oe,me){const pe=z.transform,be=J==="map",ue=oe==="map";for(const de of P){const we=V.getTile(de),xe=we.getBucket(N);if(!xe||!xe.text||!xe.text.segments.get().length)continue;const Ie=s.evaluateSizeForZoom(xe.textSizeData,pe.zoom),Fe=Hs(de,xe.getProjection(),pe),Be=pe.calculatePixelsToTileUnitsMatrix(we),We=Uo(Fe,we.tileID.canonical,ue,be,pe,xe.getProjection(),Be),bt=N.layout.get("icon-text-fit")!=="none"&&xe.hasIconData();if(Ie){const pt=Math.pow(2,pe.zoom-we.tileID.overscaledZ);kh(xe,be,ue,me,s.symbolSize,pe,We,de,pt,Ie,bt)}}})(b,g,d,a,d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),x),d.paint.get("icon-opacity").constantOr(1)!==0&&nt(g,a,d,b,!1,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),d.layout.get("icon-rotation-alignment"),d.layout.get("icon-pitch-alignment"),d.layout.get("icon-keep-upright"),L,D),d.paint.get("text-opacity").constantOr(1)!==0&&nt(g,a,d,b,!0,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),d.layout.get("text-keep-upright"),L,D),a.map.showCollisionBoxes&&(Eh(g,a,d,b,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),!0),Eh(g,a,d,b,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),!1))},circle:function(g,a,d,b){if(g.renderPass!=="translucent")return;const x=d.paint.get("circle-opacity"),L=d.paint.get("circle-stroke-width"),D=d.paint.get("circle-stroke-opacity"),P=d.layout.get("circle-sort-key").constantOr(1)!==void 0;if(x.constantOr(1)===0&&(L.constantOr(1)===0||D.constantOr(1)===0))return;const z=g.context,N=z.gl,V=g.transform,J=g.depthModeForSublayer(0,s.DepthMode.ReadOnly),oe=s.StencilMode.disabled,me=g.colorModeForRenderPass(),pe=V.projection.name==="globe",be=[s.mercatorXfromLng(V.center.lng),s.mercatorYfromLat(V.center.lat)],ue=[];for(let we=0;we<b.length;we++){const xe=b[we],Ie=a.getTile(xe),Fe=Ie.getBucket(d);if(!Fe||Fe.projection.name!==V.projection.name)continue;const Be=Fe.programConfigurations.get(d.id),We=Mh(d);pe&&We.push("PROJECTION_GLOBE_VIEW");const bt=g.useProgram("circle",Be,We),pt=Fe.layoutVertexBuffer,Xe=Fe.globeExtVertexBuffer,tr=Fe.indexBuffer,ct=V.projection.createInversionMatrix(V,xe.canonical),Ft={programConfiguration:Be,program:bt,layoutVertexBuffer:pt,globeExtVertexBuffer:Xe,indexBuffer:tr,uniformValues:Xd(g,xe,Ie,ct,be,d),tile:Ie};if(P){const St=Fe.segments.get();for(const Jt of St)ue.push({segments:new s.SegmentVector([Jt]),sortKey:Jt.sortKey,state:Ft})}else ue.push({segments:Fe.segments,sortKey:0,state:Ft})}P&&ue.sort(((we,xe)=>we.sortKey-xe.sortKey));const de={useDepthForOcclusion:!pe};for(const we of ue){const{programConfiguration:xe,program:Ie,layoutVertexBuffer:Fe,globeExtVertexBuffer:Be,indexBuffer:We,uniformValues:bt,tile:pt}=we.state,Xe=we.segments;g.terrain&&g.terrain.setupElevationDraw(pt,Ie,de),g.prepareDrawProgram(z,Ie,pt.tileID.toUnwrapped()),Ie.draw(z,N.TRIANGLES,J,oe,me,s.CullFaceMode.disabled,bt,d.id,Fe,We,Xe,d.paint,V.zoom,xe,[Be])}},heatmap:function(g,a,d,b){if(d.paint.get("heatmap-opacity")!==0)if(g.renderPass==="offscreen"){const x=g.context,L=x.gl,D=s.StencilMode.disabled,P=new s.ColorMode([L.ONE,L.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(me,pe,be,ue){const de=me.gl,we=pe.width*ue,xe=pe.height*ue;me.activeTexture.set(de.TEXTURE1),me.viewport.set([0,0,we,xe]);let Ie=be.heatmapFbo;if(!Ie||Ie&&(Ie.width!==we||Ie.height!==xe)){Ie&&Ie.destroy();const Fe=de.createTexture();de.bindTexture(de.TEXTURE_2D,Fe),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.CLAMP_TO_EDGE),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.CLAMP_TO_EDGE),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),Ie=be.heatmapFbo=me.createFramebuffer(we,xe,!1),(function(Be,We,bt,pt,Xe,tr){const ct=Be.gl;ct.texImage2D(ct.TEXTURE_2D,0,ct.RGBA,Xe,tr,0,ct.RGBA,Be.extRenderToTextureHalfFloat?Be.extTextureHalfFloat.HALF_FLOAT_OES:ct.UNSIGNED_BYTE,null),pt.colorAttachment.set(bt)})(me,0,Fe,Ie,we,xe)}else de.bindTexture(de.TEXTURE_2D,Ie.colorAttachment.get()),me.bindFramebuffer.set(Ie.framebuffer)})(x,g,d,g.transform.projection.name==="globe"?.5:.25),x.clear({color:s.Color.transparent});const z=g.transform,N=z.projection.name==="globe",V=N?["PROJECTION_GLOBE_VIEW"]:null,J=N?s.CullFaceMode.frontCCW:s.CullFaceMode.disabled,oe=[s.mercatorXfromLng(z.center.lng),s.mercatorYfromLat(z.center.lat)];for(let me=0;me<b.length;me++){const pe=b[me];if(a.hasRenderableParent(pe))continue;const be=a.getTile(pe),ue=be.getBucket(d);if(!ue||ue.projection.name!==z.projection.name)continue;const de=ue.programConfigurations.get(d.id),we=g.useProgram("heatmap",de,V),{zoom:xe}=g.transform;g.terrain&&g.terrain.setupElevationDraw(be,we),g.prepareDrawProgram(x,we,pe.toUnwrapped());const Ie=z.projection.createInversionMatrix(z,pe.canonical);we.draw(x,L.TRIANGLES,s.DepthMode.disabled,D,P,J,rd(g,pe,be,Ie,oe,xe,d.paint.get("heatmap-intensity")),d.id,ue.layoutVertexBuffer,ue.indexBuffer,ue.segments,d.paint,g.transform.zoom,de,N?[ue.globeExtVertexBuffer]:null)}x.viewport.set([0,0,g.width,g.height])}else g.renderPass==="translucent"&&(g.context.setColorMode(g.colorModeForRenderPass()),(function(x,L){const D=x.context,P=D.gl,z=L.heatmapFbo;if(!z)return;D.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,z.colorAttachment.get()),D.activeTexture.set(P.TEXTURE1);let N=L.colorRampTexture;N||(N=L.colorRampTexture=new s.Texture(D,L.colorRamp,P.RGBA)),N.bind(P.LINEAR,P.CLAMP_TO_EDGE),x.useProgram("heatmapTexture").draw(D,P.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,x.colorModeForRenderPass(),s.CullFaceMode.disabled,((V,J,oe,me)=>({u_image:0,u_color_ramp:1,u_opacity:J.paint.get("heatmap-opacity")}))(0,L),L.id,x.viewportBuffer,x.quadTriangleIndexBuffer,x.viewportSegments,L.paint,x.transform.zoom)})(g,d))},line:function(g,a,d,b){if(g.renderPass!=="translucent")return;const x=d.paint.get("line-opacity"),L=d.paint.get("line-width");if(x.constantOr(1)===0||L.constantOr(1)===0)return;const D=g.depthModeForSublayer(0,s.DepthMode.ReadOnly),P=g.colorModeForRenderPass(),z=g.terrain&&g.terrain.renderingToTexture?1:s.exported.devicePixelRatio,N=d.paint.get("line-dasharray"),V=N.constantOr(1),J=d.layout.get("line-cap"),oe=d.paint.get("line-pattern"),me=oe.constantOr(1),pe=d.paint.get("line-gradient"),be=me?"linePattern":"line",ue=g.context,de=ue.gl,we=(Ie=>{const Fe=[];Tu(Ie)&&Fe.push("RENDER_LINE_DASH"),Ie.paint.get("line-gradient")&&Fe.push("RENDER_LINE_GRADIENT");const Be=Ie.paint.get("line-trim-offset");Be[0]===0&&Be[1]===0||Fe.push("RENDER_LINE_TRIM_OFFSET");const We=Ie.paint.get("line-pattern").constantOr(1),bt=Ie.paint.get("line-opacity").constantOr(1)!==1;return!We&&bt&&Fe.push("RENDER_LINE_ALPHA_DISCARD"),Fe})(d);let xe=we.includes("RENDER_LINE_ALPHA_DISCARD");g.terrain&&g.terrain.clipOrMaskOverlapStencilType()&&(xe=!1);for(const Ie of b){const Fe=a.getTile(Ie);if(me&&!Fe.patternsLoaded())continue;const Be=Fe.getBucket(d);if(!Be)continue;g.prepareDrawTile();const We=Be.programConfigurations.get(d.id),bt=g.useProgram(be,We,we),pt=oe.constantOr(null);if(pt&&Fe.imageAtlas){const $t=Fe.imageAtlas.patternPositions[pt.toString()];$t&&We.setConstantPatternPositions($t)}const Xe=N.constantOr(null),tr=J.constantOr(null);if(!me&&Xe&&tr&&Fe.lineAtlas){const $t=Fe.lineAtlas.getDash(Xe,tr);$t&&We.setConstantPatternPositions($t)}let[ct,Ft]=d.paint.get("line-trim-offset");(tr==="round"||tr==="square")&&ct!==Ft&&(ct===0&&(ct-=1),Ft===1&&(Ft+=1));const St=g.terrain?Ie.projMatrix:null,Jt=me?qo(g,Fe,d,St,z):Kd(g,Fe,d,St,Be.lineClipsArray.length,z,[ct,Ft]);if(pe){const $t=Be.gradients[d.id];let or=$t.texture;if(d.gradientVersion!==$t.version){let it=256;if(d.stepInterpolant){const Mt=a.getSource().maxzoom,Pr=Ie.canonical.z===Mt?Math.ceil(1<<g.transform.maxZoom-Ie.canonical.z):1;it=s.clamp(s.nextPowerOfTwo(Be.maxLineLength/s.EXTENT*1024*Pr),256,ue.maxTextureSize)}$t.gradient=s.renderColorRamp({expression:d.gradientExpression(),evaluationKey:"lineProgress",resolution:it,image:$t.gradient||void 0,clips:Be.lineClipsArray}),$t.texture?$t.texture.update($t.gradient):$t.texture=new s.Texture(ue,$t.gradient,de.RGBA),$t.version=d.gradientVersion,or=$t.texture}ue.activeTexture.set(de.TEXTURE1),or.bind(d.stepInterpolant?de.NEAREST:de.LINEAR,de.CLAMP_TO_EDGE)}V&&(ue.activeTexture.set(de.TEXTURE0),Fe.lineAtlasTexture.bind(de.LINEAR,de.REPEAT),We.updatePaintBuffers()),me&&(ue.activeTexture.set(de.TEXTURE0),Fe.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),We.updatePaintBuffers()),g.prepareDrawProgram(ue,bt,Ie.toUnwrapped());const Et=$t=>{bt.draw(ue,de.TRIANGLES,D,$t,P,s.CullFaceMode.disabled,Jt,d.id,Be.layoutVertexBuffer,Be.indexBuffer,Be.segments,d.paint,g.transform.zoom,We,[Be.layoutVertexBuffer2])};if(xe){const $t=g.stencilModeForClipping(Ie).ref;$t===0&&g.terrain&&ue.clear({stencil:0});const or={func:de.EQUAL,mask:255};Jt.u_alpha_discard_threshold=.8,Et(new s.StencilMode(or,$t,255,de.KEEP,de.KEEP,de.INVERT)),Jt.u_alpha_discard_threshold=0,Et(new s.StencilMode(or,$t,255,de.KEEP,de.KEEP,de.KEEP))}else Et(g.stencilModeForClipping(Ie))}xe&&(g.resetStencilClippingMasks(),g.terrain&&ue.clear({stencil:0}))},fill:function(g,a,d,b){const x=d.paint.get("fill-color"),L=d.paint.get("fill-opacity");if(L.constantOr(1)===0)return;const D=g.colorModeForRenderPass(),P=d.paint.get("fill-pattern"),z=g.opaquePassEnabledForLayer()&&!P.constantOr(1)&&x.constantOr(s.Color.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(g.renderPass===z){const N=g.depthModeForSublayer(1,g.renderPass==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly);Ot(g,a,d,b,N,D,!1)}if(g.renderPass==="translucent"&&d.paint.get("fill-antialias")){const N=g.depthModeForSublayer(d.getPaintProperty("fill-outline-color")?2:0,s.DepthMode.ReadOnly);Ot(g,a,d,b,N,D,!0)}},"fill-extrusion":function(g,a,d,b){const x=d.paint.get("fill-extrusion-opacity");if(x!==0&&g.renderPass==="translucent"){const L=new s.DepthMode(g.context.gl.LEQUAL,s.DepthMode.ReadWrite,g.depthRangeFor3D);if(x!==1||d.paint.get("fill-extrusion-pattern").constantOr(1))Hr(g,a,d,b,L,s.StencilMode.disabled,s.ColorMode.disabled),Hr(g,a,d,b,L,g.stencilModeFor3D(),g.colorModeForRenderPass()),g.resetStencilClippingMasks();else{const D=g.colorModeForRenderPass();Hr(g,a,d,b,L,s.StencilMode.disabled,D)}}},hillshade:function(g,a,d,b){if(g.renderPass!=="offscreen"&&g.renderPass!=="translucent")return;const x=g.context,L=g.depthModeForSublayer(0,s.DepthMode.ReadOnly),D=g.colorModeForRenderPass(),P=g.terrain&&g.terrain.renderingToTexture,[z,N]=g.renderPass!=="translucent"||P?[{},b]:g.stencilConfigForOverlap(b);for(const V of N){const J=a.getTile(V);if(J.needsHillshadePrepare&&g.renderPass==="offscreen")pi(g,J,d,L,s.StencilMode.disabled,D);else if(g.renderPass==="translucent"){const oe=P&&g.terrain?g.terrain.stencilModeForRTTOverlap(V):z[V.overscaledZ];Fi(g,V,J,d,L,oe,D)}}x.viewport.set([0,0,g.width,g.height]),g.resetStencilClippingMasks()},raster:function(g,a,d,b,x,L){if(g.renderPass!=="translucent"||d.paint.get("raster-opacity")===0||!b.length)return;const D=g.context,P=D.gl,z=a.getSource(),N=g.useProgram("raster"),V=g.colorModeForRenderPass(),J=g.terrain&&g.terrain.renderingToTexture,[oe,me]=z instanceof je||J?[{},b]:g.stencilConfigForOverlap(b),pe=me[me.length-1].overscaledZ,be=!g.options.moving;for(const ue of me){const de=J?s.DepthMode.disabled:g.depthModeForSublayer(ue.overscaledZ-pe,d.paint.get("raster-opacity")===1?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly,P.LESS),we=ue.toUnwrapped(),xe=a.getTile(ue);if(J&&(!xe||!xe.hasData()))continue;const Ie=J?ue.projMatrix:g.transform.calculateProjMatrix(we,be),Fe=g.terrain&&J?g.terrain.stencilModeForRTTOverlap(ue):oe[ue.overscaledZ],Be=L?0:d.paint.get("raster-fade-duration");xe.registerFadeDuration(Be);const We=a.findLoadedParent(ue,0),bt=sa(xe,We,a,g.transform,Be);let pt,Xe;g.terrain&&g.terrain.prepareDrawTile();const tr=d.paint.get("raster-resampling")==="nearest"?P.NEAREST:P.LINEAR;D.activeTexture.set(P.TEXTURE0),xe.texture.bind(tr,P.CLAMP_TO_EDGE),D.activeTexture.set(P.TEXTURE1),We?(We.texture.bind(tr,P.CLAMP_TO_EDGE),pt=Math.pow(2,We.tileID.overscaledZ-xe.tileID.overscaledZ),Xe=[xe.tileID.canonical.x*pt%1,xe.tileID.canonical.y*pt%1]):xe.texture.bind(tr,P.CLAMP_TO_EDGE);const ct=Qd(Ie,Xe||[0,0],pt||1,bt,d,z instanceof je?z.perspectiveTransform:[0,0]);if(g.prepareDrawProgram(D,N,we),z instanceof je)z.boundsBuffer&&z.boundsSegments&&N.draw(D,P.TRIANGLES,de,s.StencilMode.disabled,V,s.CullFaceMode.disabled,ct,d.id,z.boundsBuffer,g.quadTriangleIndexBuffer,z.boundsSegments);else{const{tileBoundsBuffer:Ft,tileBoundsIndexBuffer:St,tileBoundsSegments:Jt}=g.getTileBoundsBuffers(xe);N.draw(D,P.TRIANGLES,de,Fe,V,s.CullFaceMode.disabled,ct,d.id,Ft,St,Jt)}}g.resetStencilClippingMasks()},background:function(g,a,d,b){const x=d.paint.get("background-color"),L=d.paint.get("background-opacity");if(L===0)return;const D=g.context,P=D.gl,z=g.transform,N=z.tileSize,V=d.paint.get("background-pattern");if(g.isPatternMissing(V))return;const J=!V&&x.a===1&&L===1&&g.opaquePassEnabledForLayer()?"opaque":"translucent";if(g.renderPass!==J)return;const oe=s.StencilMode.disabled,me=g.depthModeForSublayer(0,J==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly),pe=g.colorModeForRenderPass(),be=g.useProgram(V?"backgroundPattern":"background");let ue,de=b;de||(ue=g.getBackgroundTiles(),de=Object.values(ue).map((we=>we.tileID))),V&&(D.activeTexture.set(P.TEXTURE0),g.imageManager.bind(g.context));for(const we of de){const xe=we.toUnwrapped(),Ie=b?we.projMatrix:g.transform.calculateProjMatrix(xe);g.prepareDrawTile();const Fe=a?a.getTile(we):ue?ue[we.key]:new s.Tile(we,N,z.zoom,g),Be=V?xa(Ie,L,g,V,{tileID:we,tileSize:N}):Eu(Ie,L,x);g.prepareDrawProgram(D,be,xe);const{tileBoundsBuffer:We,tileBoundsIndexBuffer:bt,tileBoundsSegments:pt}=g.getTileBoundsBuffers(Fe);be.draw(D,P.TRIANGLES,me,oe,pe,s.CullFaceMode.disabled,Be,d.id,We,bt,pt)}},sky:function(g,a,d){const b=g.transform,x=b.projection.name==="mercator"||b.projection.name==="globe"?1:s.smoothstep(7,8,b.zoom),L=d.paint.get("sky-opacity")*x;if(L===0)return;const D=g.context,P=d.paint.get("sky-type"),z=new s.DepthMode(D.gl.LEQUAL,s.DepthMode.ReadOnly,[0,1]),N=g.frameCounter/1e3%1;P==="atmosphere"?g.renderPass==="offscreen"?d.needsSkyboxCapture(g)&&((function(V,J,oe,me){const pe=V.context,be=pe.gl;let ue=J.skyboxFbo;if(!ue){ue=J.skyboxFbo=pe.createFramebuffer(32,32,!1),J.skyboxGeometry=new Wl(pe),J.skyboxTexture=pe.gl.createTexture(),be.bindTexture(be.TEXTURE_CUBE_MAP,J.skyboxTexture),be.texParameteri(be.TEXTURE_CUBE_MAP,be.TEXTURE_WRAP_S,be.CLAMP_TO_EDGE),be.texParameteri(be.TEXTURE_CUBE_MAP,be.TEXTURE_WRAP_T,be.CLAMP_TO_EDGE),be.texParameteri(be.TEXTURE_CUBE_MAP,be.TEXTURE_MIN_FILTER,be.LINEAR),be.texParameteri(be.TEXTURE_CUBE_MAP,be.TEXTURE_MAG_FILTER,be.LINEAR);for(let Ie=0;Ie<6;++Ie)be.texImage2D(be.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,be.RGBA,32,32,0,be.RGBA,be.UNSIGNED_BYTE,null)}pe.bindFramebuffer.set(ue.framebuffer),pe.viewport.set([0,0,32,32]);const de=J.getCenter(V,!0),we=V.useProgram("skyboxCapture"),xe=new Float64Array(16);s.identity(xe),s.rotateY(xe,xe,.5*-Math.PI),Ml(pe,J,we,xe,de,0),s.identity(xe),s.rotateY(xe,xe,.5*Math.PI),Ml(pe,J,we,xe,de,1),s.identity(xe),s.rotateX(xe,xe,.5*-Math.PI),Ml(pe,J,we,xe,de,2),s.identity(xe),s.rotateX(xe,xe,.5*Math.PI),Ml(pe,J,we,xe,de,3),s.identity(xe),Ml(pe,J,we,xe,de,4),s.identity(xe),s.rotateY(xe,xe,Math.PI),Ml(pe,J,we,xe,de,5),pe.viewport.set([0,0,V.width,V.height])})(g,d),d.markSkyboxValid(g)):g.renderPass==="sky"&&(function(V,J,oe,me,pe){const be=V.context,ue=be.gl,de=V.transform,we=V.useProgram("skybox");be.activeTexture.set(ue.TEXTURE0),ue.bindTexture(ue.TEXTURE_CUBE_MAP,J.skyboxTexture);const xe=((Ie,Fe,Be,We,bt)=>({u_matrix:Ie,u_sun_direction:Fe,u_cubemap:0,u_opacity:We,u_temporal_offset:bt}))(de.skyboxMatrix,J.getCenter(V,!1),0,me,pe);V.prepareDrawProgram(be,we),we.draw(be,ue.TRIANGLES,oe,s.StencilMode.disabled,V.colorModeForRenderPass(),s.CullFaceMode.backCW,xe,"skybox",J.skyboxGeometry.vertexBuffer,J.skyboxGeometry.indexBuffer,J.skyboxGeometry.segment)})(g,d,z,L,N):P==="gradient"&&g.renderPass==="sky"&&(function(V,J,oe,me,pe){const be=V.context,ue=be.gl,de=V.transform,we=V.useProgram("skyboxGradient");J.skyboxGeometry||(J.skyboxGeometry=new Wl(be)),be.activeTexture.set(ue.TEXTURE0);let xe=J.colorRampTexture;xe||(xe=J.colorRampTexture=new s.Texture(be,J.colorRamp,ue.RGBA)),xe.bind(ue.LINEAR,ue.CLAMP_TO_EDGE);const Ie=((Fe,Be,We,bt,pt)=>({u_matrix:Fe,u_color_ramp:0,u_center_direction:Be,u_radius:s.degToRad(We),u_opacity:bt,u_temporal_offset:pt}))(de.skyboxMatrix,J.getCenter(V,!1),J.paint.get("sky-gradient-radius"),me,pe);V.prepareDrawProgram(be,we),we.draw(be,ue.TRIANGLES,oe,s.StencilMode.disabled,V.colorModeForRenderPass(),s.CullFaceMode.backCW,Ie,"skyboxGradient",J.skyboxGeometry.vertexBuffer,J.skyboxGeometry.indexBuffer,J.skyboxGeometry.segment)})(g,d,z,L,N)},debug:function(g,a,d){for(let b=0;b<d.length;b++)Ma(g,a,d[b])},custom:function(g,a,d){const b=g.context,x=d.implementation;if(g.transform.projection.unsupportedLayers&&g.transform.projection.unsupportedLayers.includes("custom"))s.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(g.renderPass==="offscreen"){const L=x.prerender;L&&(g.setCustomLayerDefaults(),b.setColorMode(g.colorModeForRenderPass()),L.call(x,b.gl,g.transform.customLayerMatrix()),b.setDirty(),g.setBaseState())}else if(g.renderPass==="translucent"){g.setCustomLayerDefaults(),b.setColorMode(g.colorModeForRenderPass()),b.setStencilMode(s.StencilMode.disabled);const L=x.renderingMode==="3d"?new s.DepthMode(g.context.gl.LEQUAL,s.DepthMode.ReadWrite,g.depthRangeFor3D):g.depthModeForSublayer(0,s.DepthMode.ReadOnly);b.setDepthMode(L),x.render(b.gl,g.transform.customLayerMatrix()),b.setDirty(),g.setBaseState(),b.bindFramebuffer.set(null)}}};class pm{constructor(a,d){this.context=new X(a),this.transform=d,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=s.SourceCache.maxUnderzooming+s.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Gs,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(a,d){const b=!!a&&!!a.terrain&&this.transform.projection.supportsTerrain;if(!(b||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Ho(this,a));const x=this._terrain;this.transform.elevation=b?x:null,x.update(a,this.transform,d)}_updateFog(a){const d=a.fog;if(!d||this.transform.projection.name==="globe"||d.getOpacity(this.transform.pitch)<1||d.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[b,x]=d.getFovAdjustedRange(this.transform._fov);if(b>x)return void(this.transform.fogCullDistSq=null);const L=b+.78*(x-b);this.transform.fogCullDistSq=L*L}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(a,d){if(this.width=a*s.exported.devicePixelRatio,this.height=d*s.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const b of this.style.order)this.style._layers[b].resize()}setup(){const a=this.context,d=new s.StructArrayLayout2i4;d.emplaceBack(0,0),d.emplaceBack(s.EXTENT,0),d.emplaceBack(0,s.EXTENT),d.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(d,s.posAttributes.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const b=new s.StructArrayLayout2i4;b.emplaceBack(0,0),b.emplaceBack(s.EXTENT,0),b.emplaceBack(0,s.EXTENT),b.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=a.createVertexBuffer(b,s.posAttributes.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const x=new s.StructArrayLayout2i4;x.emplaceBack(-1,-1),x.emplaceBack(1,-1),x.emplaceBack(-1,1),x.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(x,s.posAttributes.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const L=new s.StructArrayLayout4i8;L.emplaceBack(0,0,0,0),L.emplaceBack(s.EXTENT,0,s.EXTENT,0),L.emplaceBack(0,s.EXTENT,0,s.EXTENT),L.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.mercatorBoundsBuffer=a.createVertexBuffer(L,s.boundsAttributes.members),this.mercatorBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const D=new s.StructArrayLayout3ui6;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(D);const P=new s.StructArrayLayout1ui2;for(const N of[0,1,3,2,0])P.emplaceBack(N);this.debugIndexBuffer=a.createIndexBuffer(P),this.emptyTexture=new s.Texture(a,new s.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),a.gl.RGBA),this.identityMat=s.create();const z=this.context.gl;this.stencilClearMode=new s.StencilMode({func:z.ALWAYS,mask:0},0,255,z.ZERO,z.ZERO,z.ZERO),this.loadTimeStamps.push(s.window.performance.now()),this.atmosphereBuffer=new ti(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(a){return a._makeTileBoundsBuffers(this.context,this.transform.projection),a._tileBoundsBuffer?{tileBoundsBuffer:a._tileBoundsBuffer,tileBoundsIndexBuffer:a._tileBoundsIndexBuffer,tileBoundsSegments:a._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(a,d.TRIANGLES,s.DepthMode.disabled,this.stencilClearMode,s.ColorMode.disabled,s.CullFaceMode.disabled,ns(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(a,d,b){if(!d||this.currentStencilSource===d.id||!a.isTileClipped()||!b||b.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let P=!1;for(const z of b)if(this._tileClippingMaskIDs[z.key]===void 0){P=!0;break}if(!P)return}this.currentStencilSource=d.id;const x=this.context,L=x.gl;this.nextStencilID+b.length>256&&this.clearStencil(),x.setColorMode(s.ColorMode.disabled),x.setDepthMode(s.DepthMode.disabled);const D=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const P of b){const z=d.getTile(P),N=this._tileClippingMaskIDs[P.key]=this.nextStencilID++,{tileBoundsBuffer:V,tileBoundsIndexBuffer:J,tileBoundsSegments:oe}=this.getTileBoundsBuffers(z);D.draw(x,L.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:L.ALWAYS,mask:0},N,255,L.KEEP,L.KEEP,L.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,ns(P.projMatrix),"$clipping",V,J,oe)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,d=this.context.gl;return new s.StencilMode({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(a);const d=this.context.gl;return new s.StencilMode({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){const d=this.context.gl,b=a.sort(((D,P)=>P.overscaledZ-D.overscaledZ)),x=b[b.length-1].overscaledZ,L=b[0].overscaledZ-x+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();const D={};for(let P=0;P<L;P++)D[P+x]=new s.StencilMode({func:d.GEQUAL,mask:255},P+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=L,[D,b]}return[{[x]:s.StencilMode.disabled},b]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new s.ColorMode([a.CONSTANT_COLOR,a.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?s.ColorMode.unblended:s.ColorMode.alphaBlended}depthModeForSublayer(a,d,b){if(!this.opaquePassEnabledForLayer())return s.DepthMode.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new s.DepthMode(b||this.context.gl.LEQUAL,d,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const b=this.style.order,x=this.style._sourceCaches;for(const z in x){const N=x[z];N.used&&N.prepare(this.context)}const L={},D={},P={};for(const z in x){const N=x[z];L[z]=N.getVisibleCoordinates(),D[z]=L[z].slice().reverse(),P[z]=N.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let z=0;z<b.length;z++)if(this.style._layers[b[z]].is3D()){this.opaquePassCutoff=z;break}if(this.terrain&&(this.terrain.updateTileBinding(P),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.GlobeSharedBuffers(this.context)),s.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const z of b){const N=this.style._layers[z],V=a._getLayerSourceCache(N);if(!N.hasOffscreenPass()||N.isHidden(this.transform.zoom))continue;const J=V?D[V.id]:void 0;(N.type==="custom"||N.isSky()||J&&J.length)&&this.renderLayer(this,V,N,J)}if(this.depthRangeFor3D=[0,1-(a.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:d.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){const z=this.style._layers[b[this.currentLayer]],N=a._getLayerSourceCache(z);if(z.isSky())continue;const V=N?D[N.id]:void 0;this._renderTileClippingMasks(z,N,V),this.renderLayer(this,N,z,V)}if(this.style.fog&&this.transform.projection.supportsFog&&(function(z,N){const V=z.context,J=V.gl,oe=z.transform,me=new s.DepthMode(J.LEQUAL,s.DepthMode.ReadOnly,[0,1]),pe=z.useProgram("globeAtmosphere",null,oe.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),be=s.globeToMercatorTransition(oe.zoom),ue=N.properties.get("color").toArray01(),de=N.properties.get("high-color").toArray01(),we=N.properties.get("space-color").toArray01PremultipliedAlpha(),xe=s.identity$1([]);s.rotateY$1(xe,xe,-s.degToRad(oe._center.lng)),s.rotateX$1(xe,xe,s.degToRad(oe._center.lat)),s.rotateZ$1(xe,xe,oe.angle),s.rotateX$1(xe,xe,-oe._pitch);const Ie=s.fromQuat(new Float32Array(16),xe),Fe=s.mapValue(N.properties.get("star-intensity"),0,1,0,.25),Be=5e-4,We=s.mapValue(N.properties.get("horizon-blend"),0,1,Be,.25),bt=s.globeUseCustomAntiAliasing(z,V,oe)&&We===Be?oe.worldSize/(2*Math.PI*1.025)-1:oe.globeRadius,pt=z.frameCounter/1e3%1,Xe=s.length(oe.globeCenterInViewSpace),tr=Math.sqrt(Math.pow(Xe,2)-Math.pow(bt,2)),ct=Math.acos(tr/Xe),Ft=((Jt,Et,$t,or,it,Mt,Pr,Qr,Rr,on,Mn,en,kr,oi)=>({u_frustum_tl:Jt,u_frustum_tr:Et,u_frustum_br:$t,u_frustum_bl:or,u_horizon:it,u_transition:Mt,u_fadeout_range:Pr,u_color:Qr,u_high_color:Rr,u_space_color:on,u_star_intensity:Mn,u_star_size:5*s.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:en,u_horizon_angle:kr,u_rotation_matrix:oi}))(oe.frustumCorners.TL,oe.frustumCorners.TR,oe.frustumCorners.BR,oe.frustumCorners.BL,oe.frustumCorners.horizon,be,We,ue,de,we,Fe,pt,ct,Ie);z.prepareDrawProgram(V,pe);const St=z.atmosphereBuffer;St&&pe.draw(V,J.TRIANGLES,me,s.StencilMode.disabled,s.ColorMode.alphaBlended,s.CullFaceMode.backCW,Ft,"skybox",St.vertexBuffer,St.indexBuffer,St.segments)})(this,this.style.fog),this.renderPass="sky",(s.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){const z=this.style._layers[b[this.currentLayer]],N=a._getLayerSourceCache(z);z.isSky()&&this.renderLayer(this,N,z,N?D[N.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<b.length;){const z=this.style._layers[b[this.currentLayer]],N=a._getLayerSourceCache(z);if(z.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(z)){if(z.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const V=N?(z.type==="symbol"?P:D)[N.id]:void 0;this._renderTileClippingMasks(z,N,N?L[N.id]:void 0),this.renderLayer(this,N,z,V),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let z=null;s.values(this.style._layers).forEach((N=>{const V=a._getLayerSourceCache(N);V&&!N.isHidden(this.transform.zoom)&&(!z||z.getSource().maxzoom<V.getSource().maxzoom)&&(z=V)})),z&&this.options.showTileBoundaries&&mc.debug(this,z,z.getVisibleCoordinates())}this.options.showPadding&&(function(z){const N=z.transform.padding;Au(z,z.transform.height-(N.top||0),3,si),Au(z,N.bottom||0,3,co),ad(z,N.left||0,3,vi),ad(z,z.transform.width-(N.right||0),3,hc);const V=z.transform.centerPoint;(function(J,oe,me,pe){Go(J,oe-1,me-10,2,20,pe),Go(J,oe-10,me-1,20,2,pe)})(z,V.x,z.transform.height-V.y,Ah)})(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(s.window.performance.now()),this.saveCanvasCopy())}}renderLayer(a,d,b,x){b.isHidden(this.transform.zoom)||(b.type==="background"||b.type==="sky"||b.type==="custom"||x&&x.length)&&(this.id=b.id,this.gpuTimingStart(b),a.transform.projection.unsupportedLayers&&a.transform.projection.unsupportedLayers.includes(b.type)||mc[b.type](a,d,b,x,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(a){if(!this.options.gpuTiming)return;const d=this.context.extTimerQuery;let b=this.gpuTimers[a.id];b||(b=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:d.createQueryEXT()}),b.calls++,d.beginQueryEXT(d.TIME_ELAPSED_EXT,b.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const a=this.context.extTimerQuery,d=a.createQueryEXT();this.deferredRenderGpuTimeQueries.push(d),a.beginQueryEXT(a.TIME_ELAPSED_EXT,d)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}collectGpuTimers(){const a=this.gpuTimers;return this.gpuTimers={},a}collectDeferredRenderGpuQueries(){const a=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],a}queryGpuTimers(a){const d={};for(const b in a){const x=a[b],L=this.context.extTimerQuery,D=L.getQueryObjectEXT(x.query,L.QUERY_RESULT_EXT)/1e6;L.deleteQueryEXT(x.query),d[b]=D}return d}queryGpuTimeDeferredRender(a){if(!this.options.gpuTimingDeferredRender)return 0;const d=this.context.extTimerQuery;let b=0;for(const x of a)b+=d.getQueryObjectEXT(x,d.QUERY_RESULT_EXT)/1e6,d.deleteQueryEXT(x);return b}translatePosMatrix(a,d,b,x,L){if(!b[0]&&!b[1])return a;const D=L?x==="map"?this.transform.angle:0:x==="viewport"?-this.transform.angle:0;if(D){const N=Math.sin(D),V=Math.cos(D);b=[b[0]*V-b[1]*N,b[0]*N+b[1]*V]}const P=[L?b[0]:Gr(d,b[0],this.transform.zoom),L?b[1]:Gr(d,b[1],this.transform.zoom),0],z=new Float32Array(16);return s.translate(z,a,P),z}saveTileTexture(a){const d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){return a===null||a!==void 0&&!this.imageManager.getPattern(a.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const a=this.terrain&&this.terrain.renderingToTexture,d=this.terrain&&this.terrain.exaggeration()===0,b=this.style&&this.style.fog,x=[];return this.terrainRenderModeElevated()&&x.push("TERRAIN"),this.transform.projection.name==="globe"&&x.push("GLOBE"),d&&x.push("ZERO_EXAGGERATION"),b&&!a&&b.getOpacity(this.transform.pitch)!==0&&x.push("FOG"),a&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}useProgram(a,d,b){this.cache=this.cache||{};const x=b||[],L=this.currentGlobalDefines().concat(x),D=vl.cacheKey(On[a],a,L,d);return this.cache[D]||(this.cache[D]=new vl(this.context,a,On[a],d,Th[a],L)),this.cache[D]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(a,d,b){if(this.terrain&&this.terrain.renderingToTexture)return;const x=this.style.fog;if(x){const L=x.getOpacity(this.transform.pitch),D=((P,z,N,V,J,oe,me,pe,be,ue,de)=>{const we=P.transform,xe=z.properties.get("color").toArray01();xe[3]=V;const Ie=P.frameCounter/1e3%1;return{u_fog_matrix:N?we.calculateFogTileMatrix(N):P.identityMat,u_fog_range:z.getFovAdjustedRange(we._fov),u_fog_color:xe,u_fog_horizon_blend:z.properties.get("horizon-blend"),u_fog_temporal_offset:Ie,u_frustum_tl:J,u_frustum_tr:oe,u_frustum_br:me,u_frustum_bl:pe,u_globe_pos:be,u_globe_radius:ue,u_viewport:de,u_globe_transition:s.globeToMercatorTransition(we.zoom),u_is_globe:+(we.projection.name==="globe")}})(this,x,b,L,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*s.exported.devicePixelRatio,this.transform.height*s.exported.devicePixelRatio]);d.setFogUniformValues(a,D)}}setTileLoadedFlag(a){this.tileLoaded=a}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const a=this.context.gl,d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.copyTexImage2D(a.TEXTURE_2D,0,a.RGBA,0,0,a.drawingBufferWidth,a.drawingBufferHeight,0),d}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const a=this.style&&this.style.fog;return!!a&&a.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const a=this._backgroundTiles,d=this._backgroundTiles={},b=this.transform.coveringTiles({tileSize:512});for(const x of b)d[x.key]=a[x.key]||new s.Tile(x,512,this.transform.tileZoom,this);return d}clearBackgroundTiles(){this._backgroundTiles={}}}class Zl{constructor(a=0,d=0,b=0,x=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(b)||b<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=b,this.right=x}interpolate(a,d,b){return d.top!=null&&a.top!=null&&(this.top=s.number(a.top,d.top,b)),d.bottom!=null&&a.bottom!=null&&(this.bottom=s.number(a.bottom,d.bottom,b)),d.left!=null&&a.left!=null&&(this.left=s.number(a.left,d.left,b)),d.right!=null&&a.right!=null&&(this.right=s.number(a.right,d.right,b)),this}getCenter(a,d){const b=s.clamp((this.left+a-this.right)/2,0,a),x=s.clamp((this.top+d-this.bottom)/2,0,d);return new s.pointGeometry(b,x)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Zl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Sa(g,a){const d=s.getColumn(g,3);s.fromQuat(g,a),s.setColumn(g,3,d)}function Du(g,a){const d=s.identity$1([]);return s.rotateZ$1(d,d,-a),s.rotateX$1(d,d,-g),d}function ef(g,a){const d=[g[0],g[1],0],b=[a[0],a[1],0];if(s.length(d)>=1e-15){const D=s.normalize([],d);s.scale$2(b,D,s.dot(b,D)),a[0]=b[0],a[1]=b[1]}const x=s.cross([],a,g);if(s.len(x)<1e-15)return null;const L=Math.atan2(-x[1],x[0]);return Du(Math.atan2(Math.sqrt(g[0]*g[0]+g[1]*g[1]),-g[2]),L)}class Iu{constructor(a,d){this.position=a,this.orientation=d}get position(){return this._position}set position(a){if(a){const d=a instanceof s.MercatorCoordinate?a:new s.MercatorCoordinate(a[0],a[1],a[2]);this._renderWorldCopies&&(d.x=s.wrap(d.x,0,1)),this._position=d}else this._position=null}lookAtPoint(a,d){if(this.orientation=null,!this.position)return;const b=this._elevation?this._elevation.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(a)):0,x=this.position,L=s.MercatorCoordinate.fromLngLat(a,b),D=[L.x-x.x,L.y-x.y,L.z-x.z];d||(d=[0,0,1]),d[2]=Math.abs(d[2]),this.orientation=ef(D,d)}setPitchBearing(a,d){this.orientation=Du(s.degToRad(a),s.degToRad(-d))}}class sd{constructor(a,d){this._transform=s.identity([]),this.orientation=d,this.position=a}get mercatorPosition(){const a=this.position;return new s.MercatorCoordinate(a[0],a[1],a[2])}get position(){const a=s.getColumn(this._transform,3);return[a[0],a[1],a[2]]}set position(a){var d;a&&s.setColumn(this._transform,3,[(d=a)[0],d[1],d[2],1])}get orientation(){return this._orientation}set orientation(a){this._orientation=a||s.identity$1([]),a&&Sa(this._transform,this._orientation)}getPitchBearing(){const a=this.forward(),d=this.right();return{bearing:Math.atan2(-d[1],d[0]),pitch:Math.atan2(Math.sqrt(a[0]*a[0]+a[1]*a[1]),-a[2])}}setPitchBearing(a,d){this._orientation=Du(a,d),Sa(this._transform,this._orientation)}forward(){const a=s.getColumn(this._transform,2);return[-a[0],-a[1],-a[2]]}up(){const a=s.getColumn(this._transform,1);return[-a[0],-a[1],-a[2]]}right(){const a=s.getColumn(this._transform,0);return[a[0],a[1],a[2]]}getCameraToWorld(a,d){const b=new Float64Array(16);return s.invert(b,this.getWorldToCamera(a,d)),b}getWorldToCameraPosition(a,d,b){const x=this.position;s.scale$2(x,x,-a);const L=new Float64Array(16);return s.fromScaling(L,[b,b,b]),s.translate(L,L,x),L[10]*=d,L}getWorldToCamera(a,d){const b=new Float64Array(16),x=new Float64Array(4),L=this.position;return s.conjugate(x,this._orientation),s.scale$2(L,L,-a),s.fromQuat(b,x),s.translate(b,b,L),b[1]*=-1,b[5]*=-1,b[9]*=-1,b[13]*=-1,b[8]*=d,b[9]*=d,b[10]*=d,b[11]*=d,b}getCameraToClipPerspective(a,d,b,x){const L=new Float64Array(16);return s.perspective(L,a,d,b,x),L}getDistanceToElevation(a,d=!1){const b=a===0?0:s.mercatorZfromAltitude(a,d?s.latFromMercatorY(this.position[1]):this.position[1]),x=this.forward();return(b-this.position[2])/x[2]}clone(){return new sd([...this.position],[...this.orientation])}}function _c(g,a){const d=Zs(g.projection,g.zoom,g.width,g.height),b=(function(L,D,P,z,N){const V=new s.LngLat(P.lng-180*Ca,P.lat),J=new s.LngLat(P.lng+180*Ca,P.lat),oe=L.project(V.lng,V.lat),me=L.project(J.lng,J.lat),pe=-Math.atan2(me.y-oe.y,me.x-oe.x),be=s.MercatorCoordinate.fromLngLat(P);be.y=s.clamp(be.y,-.999975,.999975);const ue=be.toLngLat(),de=L.project(ue.lng,ue.lat),we=s.MercatorCoordinate.fromLngLat(ue);we.x+=Ca;const xe=we.toLngLat(),Ie=L.project(xe.lng,xe.lat),Fe=Pu(Ie.x-de.x,Ie.y-de.y,pe),Be=s.MercatorCoordinate.fromLngLat(ue);Be.y+=Ca;const We=Be.toLngLat(),bt=L.project(We.lng,We.lat),pt=Pu(bt.x-de.x,bt.y-de.y,pe),Xe=Math.abs(Fe.x)/Math.abs(pt.y),tr=s.identity([]);s.rotateZ(tr,tr,-pe*(1-(N?0:z)));const ct=s.identity([]);return s.scale(ct,ct,[1,1-(1-Xe)*z,1]),ct[4]=-pt.x/pt.y*z,s.rotateZ(ct,ct,pe),s.multiply(ct,tr,ct),ct})(g.projection,0,g.center,d,a),x=Sl(g);return s.scale(b,b,[x,x,1]),b}function Sl(g){const a=g.projection,d=Zs(g.projection,g.zoom,g.width,g.height),b=Ss(a,g.center),x=Ss(a,s.LngLat.convert(a.center));return Math.pow(2,b*d+(1-d)*x)}function Zs(g,a,d,b,x=1/0){const L=g.range;if(!L)return 0;const D=Math.min(x,Math.max(d,b)),P=Math.log(D/1024)/Math.LN2;return s.smoothstep(L[0]+P,L[1]+P,a)}const Ca=1/4e4;function Ss(g,a){const d=s.clamp(a.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),b=new s.LngLat(a.lng-180*Ca,d),x=new s.LngLat(a.lng+180*Ca,d),L=g.project(b.lng,d),D=g.project(x.lng,d),P=s.MercatorCoordinate.fromLngLat(b),z=s.MercatorCoordinate.fromLngLat(x),N=D.x-L.x,V=D.y-L.y,J=z.x-P.x,oe=z.y-P.y,me=Math.sqrt((J*J+oe*oe)/(N*N+V*V));return Math.log(me)/Math.LN2}function Pu(g,a,d){const b=Math.cos(d),x=Math.sin(d);return{x:g*b-a*x,y:g*x+a*b}}class Ou{constructor(a,d,b,x,L,D,P){this.tileSize=512,this._renderWorldCopies=L===void 0||L,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=b??0,this._maxPitch=x??60,this.setProjection(D),this.setMaxBounds(P),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Zl,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new sd,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const a=new Ou(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return a._elevation=this._elevation,a._centerAltitude=this._centerAltitude,a._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,a.tileSize=this.tileSize,a.mercatorFromTransition=this.mercatorFromTransition,a.width=this.width,a.height=this.height,a.cameraElevationReference=this.cameraElevationReference,a._center=this._center,a._setZoom(this.zoom),a._seaLevelZoom=this._seaLevelZoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._nearZ=this._nearZ,a._farZ=this._farZ,a._averageElevation=this._averageElevation,a._unmodified=this._unmodified,a._edgeInsets=this._edgeInsets.clone(),a._camera=this._camera.clone(),a._calcMatrices(),a.freezeTileCoverage=this.freezeTileCoverage,a.frustumCorners=this.frustumCorners,a}get elevation(){return this._elevation}set elevation(a){this._elevation!==a&&(this._elevation=a,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(a,d=!1){const b=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||b)&&this._updateCameraOnTerrain(),(a||b)&&this._constrainCamera(d),this._calcMatrices()}getProjection(){return s.pick(this.projection,["name","center","parallels"])}setProjection(a){this.projectionOptions=a||{name:"mercator"};const d=this.projection?this.getProjection():void 0;this.projection=s.getProjection(this.projectionOptions);const b=!E(d,this.getProjection());return b&&this._calcMatrices(),this.mercatorFromTransition=!1,b}setMercatorFromTransition(){const a=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=s.getProjection({name:"mercator"});const d=a!==this.projection.name;return d&&this._calcMatrices(),d}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get cameraWorldSize(){const a=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(a))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return s.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return s.wrap(this.rotation,-180,180)}set bearing(a){this.rotation=a}get rotation(){return-this.angle/Math.PI*180}set rotation(a){const d=-a*Math.PI/180;var b;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(b=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0),b[0]=1,b[3]=1,b),(function(x,L,D){var P=L[0],z=L[1],N=L[2],V=L[3],J=Math.sin(D),oe=Math.cos(D);x[0]=P*oe+N*J,x[1]=z*oe+V*J,x[2]=P*-J+N*oe,x[3]=z*-J+V*oe})(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const d=s.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const a=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/a)}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=s.degToRad(a),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(a){this._averageElevation=a,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(a){const d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._setZoom(d),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(a){this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const a=this._elevation;this._centerAltitude=a.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=a.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const a=this._elevation,d=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],b=this.horizonLineFromTop();let x=0,L=0;for(let D=0;D<d.length;D++){const P=new s.pointGeometry(d[D][0]*this.width,b+d[D][1]*(this.height-b)),z=a.pointCoordinate(P);if(!z)continue;const N=1/Math.hypot(z[0]-this._camera.position[0],z[1]-this._camera.position[1]);x+=z[3]*N,L+=N}return L===0?NaN:x/L}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const a=this._seaLevelZoom,d=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),b=this.pixelsPerMeter/this.worldSize*d,x=this._mercatorZfromZoom(a),L=this._mercatorZfromZoom(this._maxZoom),D=Math.max(x-b,L);this._setZoom(this._zoomFromMercatorZ(D))}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}computeZoomRelativeTo(a){const d=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,a.toAltitude()));let b;b=a.z<this._camera.position[2]?[d.x,d.y,d.z]:[a.x,a.y,a.z];const x=s.length(s.sub([],this._camera.position,b));return s.clamp(this._zoomFromMercatorZ(x),this._minZoom,this._maxZoom)}setFreeCameraOptions(a){if(!this.height||!a.position&&!a.orientation)return;this._updateCameraState();let d=!1;if(a.orientation&&!s.exactEquals(a.orientation,this._camera.orientation)&&(d=this._setCameraOrientation(a.orientation)),a.position){const b=[a.position.x,a.position.y,a.position.z];s.exactEquals$1(b,this._camera.position)||(this._setCameraPosition(b),d=!0)}d&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const a=this._camera.position,d=new Iu;return d.position=new s.MercatorCoordinate(a[0],a[1],a[2]),d.orientation=this._camera.orientation,d._elevation=this.elevation,d._renderWorldCopies=this.renderWorldCopies,d}_setCameraOrientation(a){if(!s.length$1(a))return!1;s.normalize$1(a,a);const d=s.transformQuat([],[0,0,-1],a),b=s.transformQuat([],[0,-1,0],a);if(b[2]<0)return!1;const x=ef(d,b);return!!x&&(this._camera.orientation=x,!0)}_setCameraPosition(a){const d=this.zoomScale(this.minZoom)*this.tileSize,b=this.zoomScale(this.maxZoom)*this.tileSize,x=this.cameraToCenterDistance;a[2]=s.clamp(a[2],x/b,x/d),this._camera.position=a}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,b){this._unmodified=!1,this._edgeInsets.interpolate(a,d,b),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){const d=[new s.UnwrappedTileID(0,a)];if(this.renderWorldCopies){const b=this.pointCoordinate(new s.pointGeometry(0,0)),x=this.pointCoordinate(new s.pointGeometry(this.width,0)),L=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),D=this.pointCoordinate(new s.pointGeometry(0,this.height)),P=Math.floor(Math.min(b.x,x.x,L.x,D.x)),z=Math.floor(Math.max(b.x,x.x,L.x,D.x)),N=1;for(let V=P-N;V<=z+N;V++)V!==0&&d.push(new s.UnwrappedTileID(V,a))}return d}coveringTiles(a){let d=this.coveringZoomLevel(a);const b=d,x=this.elevation&&!a.isTerrainDEM,L=this.projection.name==="mercator";if(a.minzoom!==void 0&&d<a.minzoom)return[];a.maxzoom!==void 0&&d>a.maxzoom&&(d=a.maxzoom);const D=this.locationCoordinate(this.center),P=this.center.lat,z=1<<d,N=[z*D.x,z*D.y,0],V=this.projection.name==="globe",J=!V,oe=s.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d,J),me=V?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),pe=z*s.mercatorZfromAltitude(1,this.center.lat),be=this._camera.position[2]/s.mercatorZfromAltitude(1,this.center.lat),ue=[z*me.x,z*me.y,be*(J?1:pe)],de=this.cameraToCenterDistance/a.tileSize*(a.roundZoom?1:.502),we=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?d:0,xe=a.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Ie=a.isTerrainDEM?-xe:this._elevation?this._elevation.getMinElevationBelowMSL():0,Fe=this.projection.isReprojectedInTileSpace?Sl(this):1,Be=Et=>{const or=new s.MercatorCoordinate(Et.x+25e-6,Et.y,Et.z),it=new s.MercatorCoordinate(Et.x,Et.y+25e-6,Et.z),Mt=Et.toLngLat(),Pr=or.toLngLat(),Qr=it.toLngLat(),Rr=this.locationCoordinate(Mt),on=this.locationCoordinate(Pr),Mn=this.locationCoordinate(Qr),en=Math.hypot(on.x-Rr.x,on.y-Rr.y),kr=Math.hypot(Mn.x-Rr.x,Mn.y-Rr.y);return Math.sqrt(en*kr)*Fe/25e-6},We=Et=>{const $t=xe,or=Ie;return{aabb:s.tileAABB(this,z,0,0,0,Et,or,$t,this.projection),zoom:0,x:0,y:0,minZ:or,maxZ:$t,wrap:Et,fullyVisible:!1}},bt=[];let pt=[];const Xe=d,tr=a.reparseOverscaled?b:d,ct=Et=>Et*Et,Ft=ct((be-this._centerAltitude)*pe),St=Et=>{if(!this._elevation||!Et.tileID||!L)return;const $t=this._elevation.getMinMaxForTile(Et.tileID),or=Et.aabb;$t?(or.min[2]=$t.min,or.max[2]=$t.max,or.center[2]=(or.min[2]+or.max[2])/2):(Et.shouldSplit=Jt(Et),Et.shouldSplit||(or.min[2]=or.max[2]=or.center[2]=this._centerAltitude))},Jt=Et=>{if(Et.zoom<we)return!0;if(Et.zoom===Xe)return!1;if(Et.shouldSplit!=null)return Et.shouldSplit;const $t=Et.aabb.distanceX(ue),or=Et.aabb.distanceY(ue);let it=Ft,Mt=1;if(V){it=ct(Et.aabb.distanceZ(ue));const Rr=Math.pow(2,Et.zoom),on=s.latFromMercatorY((Et.y+1)/Rr),Mn=s.latFromMercatorY(Et.y/Rr),en=Math.min(Math.max(P,on),Mn),kr=s.circumferenceAtLatitude(en)/s.circumferenceAtLatitude(P);if(Mt=en===P?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,kr/this._mercatorScaleRatio),this.zoom<=s.GLOBE_ZOOM_THRESHOLD_MIN&&Et.zoom===Xe-1&&kr>=.9)return!0}else if(x&&(it=ct(Et.aabb.distanceZ(ue)*pe)),this.projection.isReprojectedInTileSpace&&b<=5){const Rr=Math.pow(2,Et.zoom),on=Be(new s.MercatorCoordinate((Et.x+.5)/Rr,(Et.y+.5)/Rr));Mt=on>.85?1:on}const Pr=$t*$t+or*or+it,Qr=ct((1<<Xe-Et.zoom)*de*Mt*((Rr,on)=>{if(on*ct(.707)<Rr)return 1;const Mn=Math.sqrt(on/Rr);return Mn/(1.4144271570014144+(Math.pow(1.1,Mn-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(it,Ft),Pr));return Pr<Qr};if(this.renderWorldCopies)for(let Et=1;Et<=3;Et++)bt.push(We(-Et)),bt.push(We(Et));for(bt.push(We(0));bt.length>0;){const Et=bt.pop(),$t=Et.x,or=Et.y;let it=Et.fullyVisible;if(!it){const Mt=Et.aabb.intersects(oe);if(Mt===0)continue;it=Mt===2}if(Et.zoom!==Xe&&Jt(Et))for(let Mt=0;Mt<4;Mt++){const Pr=($t<<1)+Mt%2,Qr=(or<<1)+(Mt>>1),Rr={aabb:L?Et.aabb.quadrant(Mt):s.tileAABB(this,z,Et.zoom+1,Pr,Qr,Et.wrap,Et.minZ,Et.maxZ,this.projection),zoom:Et.zoom+1,x:Pr,y:Qr,wrap:Et.wrap,fullyVisible:it,tileID:void 0,shouldSplit:void 0,minZ:Et.minZ,maxZ:Et.maxZ};x&&!V&&(Rr.tileID=new s.OverscaledTileID(Et.zoom+1===Xe?tr:Et.zoom+1,Et.wrap,Et.zoom+1,Pr,Qr),St(Rr)),bt.push(Rr)}else{const Mt=Et.zoom===Xe?tr:Et.zoom;if(a.minzoom&&a.minzoom>Mt)continue;const Pr=N[0]-(.5+$t+(Et.wrap<<Et.zoom))*(1<<d-Et.zoom),Qr=N[1]-.5-or,Rr=Et.tileID?Et.tileID:new s.OverscaledTileID(Mt,Et.wrap,Et.zoom,$t,or);pt.push({tileID:Rr,distanceSq:Pr*Pr+Qr*Qr})}}if(this.fogCullDistSq){const Et=this.fogCullDistSq,$t=this.horizonLineFromTop();pt=pt.filter((or=>{const it=[0,0,0,1],Mt=[s.EXTENT,s.EXTENT,0,1],Pr=this.calculateFogTileMatrix(or.tileID.toUnwrapped());s.transformMat4$1(it,it,Pr),s.transformMat4$1(Mt,Mt,Pr);const Qr=s.getAABBPointSquareDist(it,Mt);if(Qr===0)return!0;let Rr=!1;const on=this._elevation;if(on&&Qr>Et&&$t!==0){const Mn=this.calculateProjMatrix(or.tileID.toUnwrapped());let en;a.isTerrainDEM||(en=on.getMinMaxForTile(or.tileID)),en||(en={min:Ie,max:xe});const kr=s.furthestTileCorner(this.rotation),oi=[kr[0]*s.EXTENT,kr[1]*s.EXTENT,en.max];s.transformMat4(oi,oi,Mn),Rr=(1-oi[1])*this.height*.5<$t}return Qr<Et||Rr}))}return pt.sort(((Et,$t)=>Et.distanceSq-$t.distanceSq)).map((Et=>Et.tileID))}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const d=s.clamp(a.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),b=this.projection.project(a.lng,d);return new s.pointGeometry(b.x*this.worldSize,b.y*this.worldSize)}unproject(a){return this.projection.unproject(a.x/this.worldSize,a.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(a,d){let b,x;const L=this.centerPoint;if(this.projection.name==="globe"){const P=this.worldSize;b=(d.x-L.x)/P,x=(d.y-L.y)/P}else{const P=this.pointCoordinate(d),z=this.pointCoordinate(L);b=P.x-z.x,x=P.y-z.y}const D=this.locationCoordinate(a);this.setLocation(new s.MercatorCoordinate(D.x-b,D.y-x))}setLocation(a){this.center=this.coordinateLocation(a),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(a){return this.projection.locationPoint(this,a)}locationPoint3D(a){return this.projection.locationPoint(this,a,!0)}pointLocation(a){return this.coordinateLocation(this.pointCoordinate(a))}pointLocation3D(a){return this.coordinateLocation(this.pointCoordinate3D(a))}locationCoordinate(a,d){const b=d?s.mercatorZfromAltitude(d,a.lat):void 0,x=this.projection.project(a.lng,a.lat);return new s.MercatorCoordinate(x.x,x.y,b)}coordinateLocation(a){return this.projection.unproject(a.x,a.y)}pointRayIntersection(a,d){const b=d??this._centerAltitude,x=[a.x,a.y,0,1],L=[a.x,a.y,1,1];s.transformMat4$1(x,x,this.pixelMatrixInverse),s.transformMat4$1(L,L,this.pixelMatrixInverse);const D=L[3];s.scale$1(x,x,1/x[3]),s.scale$1(L,L,1/D);const P=x[2],z=L[2];return{p0:x,p1:L,t:P===z?0:(b-P)/(z-P)}}screenPointToMercatorRay(a){const d=[a.x,a.y,0,1],b=[a.x,a.y,1,1];return s.transformMat4$1(d,d,this.pixelMatrixInverse),s.transformMat4$1(b,b,this.pixelMatrixInverse),s.scale$1(d,d,1/d[3]),s.scale$1(b,b,1/b[3]),d[2]=s.mercatorZfromAltitude(d[2],this._center.lat)*this.worldSize,b[2]=s.mercatorZfromAltitude(b[2],this._center.lat)*this.worldSize,s.scale$1(d,d,1/this.worldSize),s.scale$1(b,b,1/this.worldSize),new s.Ray([d[0],d[1],d[2]],s.normalize([],s.sub([],b,d)))}rayIntersectionCoordinate(a){const{p0:d,p1:b,t:x}=a,L=s.mercatorZfromAltitude(d[2],this._center.lat),D=s.mercatorZfromAltitude(b[2],this._center.lat);return new s.MercatorCoordinate(s.number(d[0],b[0],x)/this.worldSize,s.number(d[1],b[1],x)/this.worldSize,s.number(L,D,x))}pointCoordinate(a,d=this._centerAltitude){return this.projection.pointCoordinate(this,a.x,a.y,d)}pointCoordinate3D(a){if(!this.elevation)return this.pointCoordinate(a);let d=this.projection.pointCoordinate3D(this,a.x,a.y);if(d)return new s.MercatorCoordinate(d[0],d[1],d[2]);let b=0,x=this.horizonLineFromTop();if(a.y>x)return this.pointCoordinate(a);const L=.02*x,D=a.clone();for(let P=0;P<10&&x-b>L;P++){D.y=s.number(b,x,.66);const z=this.projection.pointCoordinate3D(this,D.x,D.y);z?(x=D.y,d=z):b=D.y}return d?new s.MercatorCoordinate(d[0],d[1],d[2]):this.pointCoordinate(a)}isPointAboveHorizon(a){return this.projection.isPointAboveHorizon(this,a)}_coordinatePoint(a,d){const b=d&&this.elevation?this.elevation.getAtPointOrZero(a,this._centerAltitude):this._centerAltitude,x=[a.x*this.worldSize,a.y*this.worldSize,b+a.toAltitude(),1];return s.transformMat4$1(x,x,this.pixelMatrix),x[3]>0?new s.pointGeometry(x[0]/x[3],x[1]/x[3]):new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:a,left:d}=this._edgeInsets,b=this.height-this._edgeInsets.bottom,x=this.width-this._edgeInsets.right,L=this.pointCoordinate3D(new s.pointGeometry(d,a)),D=this.pointCoordinate3D(new s.pointGeometry(x,a)),P=this.pointCoordinate3D(new s.pointGeometry(x,b)),z=this.pointCoordinate3D(new s.pointGeometry(d,b));let N=Math.min(L.x,z.x),V=Math.max(D.x,P.x),J=Math.min(L.y,D.y),oe=Math.max(z.y,P.y);const me=Math.pow(2,-this.zoom)/16,pe=(Be,We,bt,pt)=>{const Xe=(Be+bt)/2,tr=(We+pt)/2,ct=new s.pointGeometry(Xe,tr),Ft=this.pointCoordinate3D(ct),St=Math.max(0,N-Ft.x,J-Ft.y,Ft.x-V,Ft.y-oe);N=Math.min(N,Ft.x),V=Math.max(V,Ft.x),J=Math.min(J,Ft.y),oe=Math.max(oe,Ft.y),St>me&&(pe(Be,We,Xe,tr),pe(Xe,tr,bt,pt))};pe(d,a,x,a),pe(x,a,x,b),pe(x,b,d,b),pe(d,b,d,a);const[be,ue]=s.polesInViewport(this),de=be||ue,we=be?90:s.latFromMercatorY(J),xe=de?180:s.lngFromMercatorX(V),Ie=ue?-90:s.latFromMercatorY(oe),Fe=de?-180:s.lngFromMercatorX(N);return new s.LngLatBounds(new s.LngLat(Fe,Ie),new s.LngLat(xe,we))}_getBounds(a,d){if(this.projection.name==="globe")return this._getGlobeBounds();const b=new s.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),x=new s.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),L=new s.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),D=new s.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let P=this.pointCoordinate(b,a),z=this.pointCoordinate(x,a);const N=this.pointCoordinate(L,d),V=this.pointCoordinate(D,d),J=(oe,me)=>(me.y-oe.y)/(me.x-oe.x);return P.y>1&&z.y>=0?P=new s.MercatorCoordinate((1-V.y)/J(V,P)+V.x,1):P.y<0&&z.y<=1&&(P=new s.MercatorCoordinate(-V.y/J(V,P)+V.x,0)),z.y>1&&P.y>=0?z=new s.MercatorCoordinate((1-N.y)/J(N,z)+N.x,1):z.y<0&&P.y<=1&&(z=new s.MercatorCoordinate(-N.y/J(N,z)+N.x,0)),new s.LngLatBounds().extend(this.coordinateLocation(P)).extend(this.coordinateLocation(z)).extend(this.coordinateLocation(V)).extend(this.coordinateLocation(N))}_getBounds3D(){const a=this.elevation;if(!a.visibleDemTiles.length||a.isUsingMockSource())return this._getBounds(0,0);const d=a.visibleDemTiles.reduce(((b,x)=>{if(x.dem){const L=x.dem.tree;b.min=Math.min(b.min,L.minimums[0]),b.max=Math.max(b.max,L.maximums[0])}return b}),{min:Number.MAX_VALUE,max:0});return this._getBounds(d.min*a.exaggeration(),d.max*a.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(a=!0){const d=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,b=this.height/2-d*(1-this._horizonShift);return a?Math.max(0,b):b}getMaxBounds(){return this.maxBounds}setMaxBounds(a){this.maxBounds=a,this.minLat=-s.MAX_MERCATOR_LATITUDE,this.maxLat=s.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,a&&(this.minLat=a.getSouth(),this.maxLat=a.getNorth(),this.minLng=a.getWest(),this.maxLng=a.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=s.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=s.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=s.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(a,d){return this.projection.createTileMatrix(this,d,a)}calculateDistanceTileData(a){const d=a.key,b=this._distanceTileDataCache;if(b[d])return b[d];const x=a.canonical,L=1/this.height,D=this.cameraWorldSize,P=D/this.zoomScale(x.z),z=(x.x+Math.pow(2,x.z)*a.wrap)*P,N=x.y*P,V=this.point;V.x*=D/this.worldSize,V.y*=D/this.worldSize;const J=this.angle,oe=Math.sin(-J),me=-Math.cos(-J);return b[d]={bearing:[oe,me],center:[(V.x-z)*L,(V.y-N)*L],scale:P/s.EXTENT*L},b[d]}calculateFogTileMatrix(a){const d=a.key,b=this._fogTileMatrixCache;if(b[d])return b[d];const x=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,a);return s.multiply(x,this.worldToFogMatrix,x),b[d]=new Float32Array(x),b[d]}calculateProjMatrix(a,d=!1){const b=a.key,x=d?this._alignedProjMatrixCache:this._projMatrixCache;if(x[b])return x[b];const L=this.calculatePosMatrix(a,this.worldSize);return s.multiply(L,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:d?this.alignedProjMatrix:this.projMatrix,L),x[b]=new Float32Array(L),x[b]}calculatePixelsToTileUnitsMatrix(a){const d=a.tileID.key,b=this._pixelsToTileUnitsCache;if(b[d])return b[d];const x=(function(L,D){const{scale:P}=L.tileTransform,z=P*s.EXTENT/(L.tileSize*Math.pow(2,D.zoom-L.tileID.overscaledZ+L.tileID.canonical.z));return N=new Float32Array(4),oe=(V=D.inverseAdjustmentMatrix)[1],me=V[2],pe=V[3],ue=(J=[z,z])[1],N[0]=V[0]*(be=J[0]),N[1]=oe*be,N[2]=me*ue,N[3]=pe*ue,N;var N,V,J,oe,me,pe,be,ue})(a,this);return b[d]=x,b[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const a=this._elevation;this._updateCameraState();const d=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,b=this._computeCameraPosition(d),x=this._camera.forward(),L=s.mercatorZfromAltitude(1,this._center.lat);b[2]/=L,x[2]/=L,s.normalize(x,x);const D=a.raycast(b,x,a.exaggeration());if(D){const P=s.scaleAndAdd([],b,x,D),z=new s.MercatorCoordinate(P[0],P[1],s.mercatorZfromAltitude(P[2],s.latFromMercatorY(P[1]))),N=(z.z+s.length([z.x-b[0],z.y-b[1],z.z-b[2]*L]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(N),this._centerAltitude=z.toAltitude(),this._center=this.coordinateLocation(z),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(a=!1){if(!this._elevation)return;const d=this._elevation,b=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(b),L=d.getAtPointOrZero(new s.MercatorCoordinate(...x)),D=this.pixelsPerMeter/this.worldSize*L,P=this._minimumHeightOverTerrain(),z=x[2]-D;if(z<=P)if(z<0||a){const N=this.locationCoordinate(this._center,this._centerAltitude),V=[x[0],x[1],N.z-x[2]],J=s.length(V);V[2]-=(P-z)/this._pixelsPerMercatorPixel;const oe=s.length(V);if(oe===0)return;s.scale$2(V,V,J/oe*this._pixelsPerMercatorPixel),this._camera.position=[x[0],x[1],N.z*this._pixelsPerMercatorPixel-V[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const a=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||a){const oe=this.center;return oe.lat=s.clamp(oe.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!a)&&(oe.lng=s.clamp(oe.lng,this.minLng,this.maxLng)),this.center=oe,void(this._constraining=!1)}const d=this._unmodified,{x:b,y:x}=this.point;let L=0,D=b,P=x;const z=this.width/2,N=this.height/2,V=this.worldMinY*this.scale,J=this.worldMaxY*this.scale;if(x-N<V&&(P=V+N),x+N>J&&(P=J-N),J-V<this.height&&(L=Math.max(L,this.height/(J-V)),P=(J+V)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const oe=this.worldMinX*this.scale,me=this.worldMaxX*this.scale,pe=this.worldSize/2-(oe+me)/2;D=(b+pe+this.worldSize)%this.worldSize-pe,D-z<oe&&(D=oe+z),D+z>me&&(D=me-z),me-oe<this.width&&(L=Math.max(L,this.width/(me-oe)),D=(me+oe)/2)}D===b&&P===x||(this.center=this.unproject(new s.pointGeometry(D,P))),L&&(this.zoom+=this.scaleZoom(L)),this._constrainCamera(),this._unmodified=d,this._constraining=!1}_minZoomForBounds(){let a=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(a=Math.max(a,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),a}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,d=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=s.mercatorZfromAltitude(1,this.center.lat)/s.mercatorZfromAltitude(1,s.GLOBE_SCALE_MATCH_LATITUDE));const b=Zs(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,b),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?d:1),L=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);L[8]=2*-a.x/this.width,L[9]=2*a.y/this.height;let D=s.mul([],L,x);if(this.projection.isReprojectedInTileSpace){const Fe=this.locationCoordinate(this.center),Be=s.identity([]);s.translate(Be,Be,[Fe.x*this.worldSize,Fe.y*this.worldSize,0]),s.multiply(Be,Be,_c(this)),s.translate(Be,Be,[-Fe.x*this.worldSize,-Fe.y*this.worldSize,0]),s.multiply(D,D,Be),this.inverseAdjustmentMatrix=(function(We){const bt=_c(We,!0);return Re([],[bt[0],bt[1],bt[4],bt[5]])})(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=s.scale([],D,[this.worldSize,this.worldSize,this.worldSize/d,1]),this.projMatrix=D,this.invProjMatrix=s.invert(new Float64Array(16),this.projMatrix);const P=s.invert([],L);this.frustumCorners=s.FrustumCorners.fromInvProjectionMatrix(P,this.horizonLineFromTop(),this.height);const z=new Float32Array(16);s.identity(z),s.scale(z,z,[1,-1,1]),s.rotateX(z,z,this._pitch),s.rotateZ(z,z,this.angle);const N=s.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),V=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;N[8]=2*-a.x/this.width,N[9]=2*(a.y+V)/this.height,this.skyboxMatrix=s.multiply(z,N,z);const J=this.point,oe=J.x,me=J.y,pe=this.width%2/2,be=this.height%2/2,ue=Math.cos(this.angle),de=Math.sin(this.angle),we=oe-Math.round(oe)+ue*pe+de*be,xe=me-Math.round(me)+ue*be+de*pe,Ie=new Float64Array(D);if(s.translate(Ie,Ie,[we>.5?we-1:we,xe>.5?xe-1:xe,0]),this.alignedProjMatrix=Ie,D=s.create(),s.scale(D,D,[this.width/2,-this.height/2,1]),s.translate(D,D,[1,-1,0]),this.labelPlaneMatrix=D,D=s.create(),s.scale(D,D,[1,-1,1]),s.translate(D,D,[-1,-1,0]),s.scale(D,D,[2/this.width,2/this.height,1]),this.glCoordMatrix=D,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},D=s.invert(new Float64Array(16),this.pixelMatrix),!D)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=D,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=s.calculateGlobeMatrix(this);const Fe=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=s.transformMat4(Fe,Fe,x),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=D;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const a=this.cameraWorldSizeForFog,d=this.cameraPixelsPerMeter,b=this._camera.position,x=1/this.height/this._pixelsPerMercatorPixel,L=[a,a,d];s.scale$2(L,L,x),s.scale$2(b,b,-1),s.multiply$2(b,b,L);const D=s.create();s.translate(D,D,b),s.scale(D,D,L),this.mercatorFogMatrix=D,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(a,d,x)}_computeCameraPosition(a){const d=(a=a||this.pixelsPerMeter)/this.pixelsPerMeter,b=this._camera.forward(),x=this.point,L=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*d-a/this.worldSize*this._centerAltitude;return[x.x/this.worldSize-b[0]*L,x.y/this.worldSize-b[1]*L,a/this.worldSize*this._centerAltitude-b[2]*L]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(a){const d=this._maxCameraBoundsDistance()*Math.cos(this._pitch),b=this._camera.position[2],x=a[2];let L=1;this.projection.wrap&&(this.center=this.center.wrap()),x>0&&(L=Math.min((d-b)/x,1)),this._camera.position=s.scaleAndAdd([],this._camera.position,a,L),this._updateStateFromCamera()}_updateStateFromCamera(){const a=this._camera.position,d=this._camera.forward(),{pitch:b,bearing:x}=this._camera.getPitchBearing(),L=s.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,D=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.degToRad(this._maxPitch)),P=Math.max((a[2]-L)/Math.cos(b),D),z=this._zoomFromMercatorZ(P);s.scaleAndAdd(a,a,d,P),this._pitch=s.clamp(b,s.degToRad(this.minPitch),s.degToRad(this.maxPitch)),this.angle=s.wrap(x,-Math.PI,Math.PI),this._setZoom(s.clamp(z,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.MercatorCoordinate(a[0],a[1],a[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(a){return Math.pow(2,a)*this.tileSize}_mercatorZfromZoom(a){return this.cameraToCenterDistance/this._worldSizeFromZoom(a)}_minimumHeightOverTerrain(){const a=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(a)}_zoomFromMercatorZ(a){return this.scaleZoom(this.cameraToCenterDistance/(a*this.tileSize))}zoomFromMercatorZAdjusted(a){const d=D=>{const P=this.getCameraToCenterDistance(this.projection,D);return this.scaleZoom(P/(a*this.tileSize))};let b,x=d(this.zoom),L=Math.abs(x-d(x));for(;b!==L;)x=d(x),b=L,L=Math.abs(x-d(x));return x}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(a,d){const b=Math.min(a.x,d.x),x=Math.max(a.x,d.x),L=Math.min(a.y,d.y),D=Math.max(a.y,d.y);if(L<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const P=[new s.pointGeometry(b,L),new s.pointGeometry(x,D),new s.pointGeometry(b,D),new s.pointGeometry(x,L)],z=this.renderWorldCopies?-3:0,N=this.renderWorldCopies?4:1;for(const V of P){const J=this.pointRayIntersection(V);if(J.t<0)return!0;const oe=this.rayIntersectionCoordinate(J);if(oe.x<z||oe.y<0||oe.x>N||oe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.pointGeometry(0,0),new s.pointGeometry(this.width,this.height))}zoomDeltaToMovement(a,d){const b=s.length(s.sub([],this._camera.position,a)),x=this._zoomFromMercatorZ(b)+d;return b-this._mercatorZfromZoom(x)}getCameraPoint(){if(this.projection.name==="globe"){const a=(function([d,b,x],L){const D=[d,b,x,1];s.transformMat4$1(D,D,L);const P=D[3]=Math.max(D[3],1e-6);return D[0]/=P,D[1]/=P,D[2]/=P,D})([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new s.pointGeometry(a[0],a[1])}{const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,a))}}getCameraToCenterDistance(a,d=this.zoom){const b=Zs(a,d,this.width,this.height,1024),x=a.pixelSpaceConversion(this.center.lat,this.worldSize,b);return .5/Math.tan(.5*this._fov)*this.height*x}getWorldToCameraMatrix(){const a=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&s.multiply(a,a,this.globeMatrix),a}}function gc(g,a){let d=!1,b=null;const x=()=>{b=null,d&&(g(),b=setTimeout(x,a),d=!1)};return()=>(d=!0,b||x(),b)}class Tr{constructor(a){this._hashName=a&&encodeURIComponent(a),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=gc(this._updateHashUnthrottled.bind(this),300)}addTo(a){return this._map=a,s.window.addEventListener("hashchange",this._onHashChange,!1),a.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),s.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const a=this._map;if(!a)return"";const d=Wo(a);if(this._hashName){const b=this._hashName;let x=!1;const L=s.window.location.hash.slice(1).split("&").map((D=>{const P=D.split("=")[0];return P===b?(x=!0,`${P}=${d}`):D})).filter((D=>D));return x||L.push(`${b}=${d}`),`#${L.join("&")}`}return`#${d}`}_getCurrentHash(){const a=s.window.location.hash.replace("#","");if(this._hashName){let d;return a.split("&").map((b=>b.split("="))).forEach((b=>{b[0]===this._hashName&&(d=b)})),(d&&d[1]||"").split("/")}return a.split("/")}_onHashChange(){const a=this._map;if(!a)return!1;const d=this._getCurrentHash();if(d.length>=3&&!d.some((b=>isNaN(b)))){const b=a.dragRotate.isEnabled()&&a.touchZoomRotate.isEnabled()?+(d[3]||0):a.getBearing();return a.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:b,pitch:+(d[4]||0)}),!0}return!1}_updateHashUnthrottled(){const a=s.window.location.href.replace(/(#.+)?$/,this.getHashString());s.window.history.replaceState(s.window.history.state,null,a)}}function Wo(g,a){const d=g.getCenter(),b=Math.round(100*g.getZoom())/100,x=Math.ceil((b*Math.LN2+Math.log(512/360/.5))/Math.LN10),L=Math.pow(10,x),D=Math.round(d.lng*L)/L,P=Math.round(d.lat*L)/L,z=g.getBearing(),N=g.getPitch();let V=a?`/${D}/${P}/${b}`:`${b}/${P}/${D}`;return(z||N)&&(V+="/"+Math.round(10*z)/10),N&&(V+=`/${Math.round(N)}`),V}const Ll={linearity:.3,easing:s.bezier(0,0,.3,1)},ld=s.extend({deceleration:2500,maxSpeed:1400},Ll),Ch=s.extend({deceleration:20,maxSpeed:1400},Ll),Xl=s.extend({deceleration:1e3,maxSpeed:360},Ll),Dh=s.extend({deceleration:1e3,maxSpeed:90},Ll);class ud{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,d=s.exported.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:L}of this._inertiaBuffer)d.zoom+=L.zoomDelta||0,d.bearing+=L.bearingDelta||0,d.pitch+=L.pitchDelta||0,L.panDelta&&d.pan._add(L.panDelta),L.around&&(d.around=L.around),L.pinchAround&&(d.pinchAround=L.pinchAround);const b=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(d.pan.mag()){const L=Wi(d.pan.mag(),b,s.extend({},ld,a||{}));x.offset=d.pan.mult(L.amount/d.pan.mag()),x.center=this._map.transform.center,ji(x,L)}if(d.zoom){const L=Wi(d.zoom,b,Ch);x.zoom=this._map.transform.zoom+L.amount,ji(x,L)}if(d.bearing){const L=Wi(d.bearing,b,Xl);x.bearing=this._map.transform.bearing+s.clamp(L.amount,-179,179),ji(x,L)}if(d.pitch){const L=Wi(d.pitch,b,Dh);x.pitch=this._map.transform.pitch+L.amount,ji(x,L)}if(x.zoom||x.bearing){const L=d.pinchAround===void 0?d.around:d.pinchAround;x.around=L?this._map.unproject(L):this._map.getCenter()}return this.clear(),x.noMoveStart=!0,x}}function ji(g,a){(!g.duration||g.duration<a.duration)&&(g.duration=a.duration,g.easing=a.easing)}function Wi(g,a,d){const{maxSpeed:b,linearity:x,deceleration:L}=d,D=s.clamp(g*x/(a/1e3),-b,b),P=Math.abs(D)/(L*x);return{easing:d.easing,duration:1e3*P,amount:D*(P/2)}}class ua extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,b,x={}){const L=he(d.getCanvasContainer(),b),D=d.unproject(L);super(a,s.extend({point:L,lngLat:D,originalEvent:b},x)),this._defaultPrevented=!1,this.target=d}}class yc extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,b){const x=a==="touchend"?b.changedTouches:b.touches,L=Ge(d.getCanvasContainer(),x),D=L.map((z=>d.unproject(z))),P=L.reduce(((z,N,V,J)=>z.add(N.div(J.length))),new s.pointGeometry(0,0));super(a,{points:L,point:P,lngLats:D,lngLat:d.unproject(P),originalEvent:b}),this._defaultPrevented=!1}}class Kl extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,b){super(a,{originalEvent:b}),this._defaultPrevented=!1}}class mm{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){this._mousedownPos=void 0}wheel(a){return this._firePreventable(new Kl(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new ua(a.type,this._map,a))}mouseup(a){this._map.fire(new ua(a.type,this._map,a))}preclick(a){const d=s.extend({},a);d.type="preclick",this._map.fire(new ua(d.type,this._map,d))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||(this.preclick(a),this._map.fire(new ua(a.type,this._map,a)))}dblclick(a){return this._firePreventable(new ua(a.type,this._map,a))}mouseover(a){this._map.fire(new ua(a.type,this._map,a))}mouseout(a){this._map.fire(new ua(a.type,this._map,a))}touchstart(a){return this._firePreventable(new yc(a.type,this._map,a))}touchmove(a){this._map.fire(new yc(a.type,this._map,a))}touchend(a){this._map.fire(new yc(a.type,this._map,a))}touchcancel(a){this._map.fire(new yc(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class tf{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(a){this._map.fire(new ua(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ua("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._map.fire(new ua(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ru{constructor(a,d){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(te(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;const b=d,x=this._startPos,L=this._lastPos;if(!x||!L||L.equals(b)||!this._box&&b.dist(x)<this._clickTolerance)return;this._lastPos=b,this._box||(this._box=C("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",a));const D=Math.min(x.x,b.x),P=Math.max(x.x,b.x),z=Math.min(x.y,b.y),N=Math.max(x.y,b.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${D}px,${z}px)`,this._box.style.width=P-D+"px",this._box.style.height=N-z+"px")}))}mouseupWindow(a,d){if(!this._active)return;const b=this._startPos,x=d;if(b&&a.button===0){if(this.reset(),Me(),b.x!==x.x||b.y!==x.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:a})),{cameraAnimation:L=>L.fitScreenCoordinates(b,x,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",a)}}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),se(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new s.Event(a,{originalEvent:d}))}}function Tl(g,a){const d={};for(let b=0;b<g.length;b++)d[g[b].identifier]=a[b];return d}class El{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(a,d,b){(this.centroid||b.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=a.timeStamp),b.length===this.numTouches&&(this.centroid=(function(x){const L=new s.pointGeometry(0,0);for(const D of x)L._add(D);return L.div(x.length)})(d),this.touches=Tl(b,d)))}touchmove(a,d,b){if(this.aborted||!this.centroid)return;const x=Tl(b,d);for(const L in this.touches){const D=this.touches[L],P=x[L];(!P||P.dist(D)>30)&&(this.aborted=!0)}}touchend(a,d,b){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),b.length===0){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class kl{constructor(a){this.singleTap=new El(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(a,d,b){this.singleTap.touchstart(a,d,b)}touchmove(a,d,b){this.singleTap.touchmove(a,d,b)}touchend(a,d,b){const x=this.singleTap.touchend(a,d,b);if(x){const L=a.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(x)<30;if(L&&D||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class Fu{constructor(){this._zoomIn=new kl({numTouches:1,numTaps:2}),this._zoomOut=new kl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,b){this._zoomIn.touchstart(a,d,b),this._zoomOut.touchstart(a,d,b)}touchmove(a,d,b){this._zoomIn.touchmove(a,d,b),this._zoomOut.touchmove(a,d,b)}touchend(a,d,b){const x=this._zoomIn.touchend(a,d,b),L=this._zoomOut.touchend(a,d,b);return x?(this._active=!0,a.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(x)},{originalEvent:a})}):L?(this._active=!0,a.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(L)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Jl={0:1,2:2};class Ls{constructor(a){this.reset(),this._clickTolerance=a.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(a,d){return!1}_move(a,d){return{}}mousedown(a,d){if(this._lastPoint)return;const b=st(a);this._correctButton(a,b)&&(this._lastPoint=d,this._eventButton=b)}mousemoveWindow(a,d){const b=this._lastPoint;if(b){if(a.preventDefault(),this._eventButton!=null&&(function(x,L){const D=Jl[L];return x.buttons===void 0||(x.buttons&D)!==D})(a,this._eventButton))this.reset();else if(this._moved||!(d.dist(b)<this._clickTolerance))return this._moved=!0,this._lastPoint=d,this._move(b,d)}}mouseupWindow(a){this._lastPoint&&st(a)===this._eventButton&&(this._moved&&Me(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ih extends Ls{mousedown(a,d){super.mousedown(a,d),this._lastPoint&&(this._active=!0)}_correctButton(a,d){return d===0&&!a.ctrlKey}_move(a,d){return{around:d,panDelta:d.sub(a)}}}class rf extends Ls{_correctButton(a,d){return d===0&&a.ctrlKey||d===2}_move(a,d){const b=.8*(d.x-a.x);if(b)return this._active=!0,{bearingDelta:b}}contextmenu(a){a.preventDefault()}}class nf extends Ls{_correctButton(a,d){return d===0&&a.ctrlKey||d===2}_move(a,d){const b=-.5*(d.y-a.y);if(b)return this._active=!0,{pitchDelta:b}}contextmenu(a){a.preventDefault()}}class Ph{constructor(a,d){this._map=a,this._el=a.getCanvasContainer(),this._minTouches=1,this._clickTolerance=d.clickTolerance||1,this.reset(),s.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0)}touchstart(a,d,b){return this._calculateTransform(a,d,b)}touchmove(a,d,b){if(this._active&&!(b.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(b.length===1&&!s.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return a.cancelable&&a.preventDefault(),this._calculateTransform(a,d,b)}}touchend(a,d,b){this._calculateTransform(a,d,b),this._active&&b.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,b){b.length>0&&(this._active=!0);const x=Tl(b,d),L=new s.pointGeometry(0,0),D=new s.pointGeometry(0,0);let P=0;for(const N in x){const V=x[N],J=this._touches[N];J&&(L._add(V),D._add(V.sub(J)),P++,x[N]=V)}if(this._touches=x,P<this._minTouches||!D.mag())return;const z=D.div(P);return this._sum._add(z),this._sum.mag()<this._clickTolerance?void 0:{around:L.div(P),panDelta:z}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=C("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")}),500)}}class cd{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(a){}_move(a,d,b){return{}}touchstart(a,d,b){this._firstTwoTouches||b.length<2||(this._firstTwoTouches=[b[0].identifier,b[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,b){const x=this._firstTwoTouches;if(!x)return;a.preventDefault();const[L,D]=x,P=Da(b,d,L),z=Da(b,d,D);if(!P||!z)return;const N=this._aroundCenter?null:P.add(z).div(2);return this._move([P,z],N,a)}touchend(a,d,b){if(!this._firstTwoTouches)return;const[x,L]=this._firstTwoTouches,D=Da(b,d,x),P=Da(b,d,L);D&&P||(this._active&&Me(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Da(g,a,d){for(let b=0;b<g.length;b++)if(g[b].identifier===d)return a[b]}function Ql(g,a){return Math.log(g/a)/Math.LN2}class of extends cd{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){const b=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Ql(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ql(this._distance,b),pinchAround:d}}}function ce(g,a){return 180*g.angleWith(a)/Math.PI}class eu extends cd{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d){const b=this._vector;if(this._vector=a[0].sub(a[1]),b&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ce(this._vector,b),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const d=25/(Math.PI*this._minDiameter)*360,b=this._startVector;if(!b)return!1;const x=ce(a,b);return Math.abs(x)<d}}function tu(g){return Math.abs(g.y)>Math.abs(g.x)}class La extends cd{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(a){this._lastPoints=a,tu(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,b){const x=this._lastPoints;if(!x)return;const L=a[0].sub(x[0]),D=a[1].sub(x[1]);return this._map._cooperativeGestures&&!s.isFullscreen()&&b.touches.length<3||(this._valid=this.gestureBeginsVertically(L,D,b.timeStamp),!this._valid)?void 0:(this._lastPoints=a,this._active=!0,{pitchDelta:(L.y+D.y)/2*-.5})}gestureBeginsVertically(a,d,b){if(this._valid!==void 0)return this._valid;const x=a.mag()>=2,L=d.mag()>=2;if(!x&&!L)return;if(!x||!L)return this._firstMove==null&&(this._firstMove=b),b-this._firstMove<100&&void 0;const D=a.y>0==d.y>0;return tu(a)&&tu(d)&&D}}const Gn={panStep:100,bearingStep:15,pitchStep:10};class Oo{constructor(){const a=Gn;this._panStep=a.panStep,this._bearingStep=a.bearingStep,this._pitchStep=a.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,b=0,x=0,L=0,D=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?b=-1:(a.preventDefault(),L=-1);break;case 39:a.shiftKey?b=1:(a.preventDefault(),L=1);break;case 38:a.shiftKey?x=1:(a.preventDefault(),D=-1);break;case 40:a.shiftKey?x=-1:(a.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(b=0,x=0),{cameraAnimation:P=>{const z=P.getZoom();P.easeTo({duration:300,easeId:"keyboardHandler",easing:_m,zoom:d?Math.round(z)+d*(a.shiftKey?2:1):z,bearing:P.getBearing()+b*this._bearingStep,pitch:P.getPitch()+x*this._pitchStep,offset:[-L*this._panStep,-D*this._panStep],center:P.getCenter()},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function _m(g){return g*(2-g)}const af=4.000244140625;class ru{constructor(a,d){this._map=a,this._el=a.getCanvasContainer(),this._handler=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(a.ctrlKey||a.metaKey||this.isZooming()||s.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let d=a.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const b=s.exported.now(),x=b-(this._lastWheelEventTime||0);this._lastWheelEventTime=b,d!==0&&d%af==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(x*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_onTimeout(a){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(a)}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=he(this._el,a);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:d,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._map.transform;this._type==="wheel"&&a.projection.wrap&&(a._center.lng>=180||a._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const d=()=>a._terrainEnabled()&&this._aroundCoord?a.computeZoomRelativeTo(this._aroundCoord):a.zoom;if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>af?this._wheelZoomRate:this._defaultZoomRate;let N=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&N!==0&&(N=1/N);const V=d(),J=Math.pow(2,V),oe=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):J;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(oe*N))),this._type==="wheel"&&(this._startZoom=V,this._easing=this._smoothOutEasing(200)),this._delta=0}const b=typeof this._targetZoom=="number"?this._targetZoom:d(),x=this._startZoom,L=this._easing;let D,P=!1;if(this._type==="wheel"&&x&&L){const z=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),N=L(z);D=s.number(x,b,N),z<1?this._frameId||(this._frameId=!0):P=!0}else D=b,P=!0;return this._active=!0,P&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!P,zoomDelta:D-d(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=s.ease;if(this._prevEase){const b=this._prevEase,x=(s.exported.now()-b.start)/b.duration,L=b.easing(x+.01)-b.easing(x),D=.27/Math.sqrt(L*L+1e-4)*.01,P=Math.sqrt(.0729-D*D);d=s.bezier(D,P,.25,1)}return this._prevEase={start:s.exported.now(),duration:a,easing:d},d}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=C("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(s.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")}),200)}}class gm{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Xs{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(a,d){return a.preventDefault(),{cameraAnimation:b=>{b.easeTo({duration:300,zoom:b.getZoom()+(a.shiftKey?-1:1),around:b.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Oh{constructor(){this._tap=new kl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(a,d,b){this._swipePoint||(this._tapTime&&a.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?b.length>0&&(this._swipePoint=d[0],this._swipeTouch=b[0].identifier):this._tap.touchstart(a,d,b))}touchmove(a,d,b){if(this._tapTime){if(this._swipePoint){if(b[0].identifier!==this._swipeTouch)return;const x=d[0],L=x.y-this._swipePoint.y;return this._swipePoint=x,a.preventDefault(),this._active=!0,{zoomDelta:L/128}}}else this._tap.touchmove(a,d,b)}touchend(a,d,b){this._tapTime?this._swipePoint&&b.length===0&&this.reset():this._tap.touchend(a,d,b)&&(this._tapTime=a.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class zu{constructor(a,d,b){this._el=a,this._mousePan=d,this._touchPan=b}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ts{constructor(a,d,b){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=b}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ia{constructor(a,d,b,x){this._el=a,this._touchZoom=d,this._touchRotate=b,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Dr=g=>g.zoom||g.drag||g.pitch||g.rotate;class Rh extends s.Event{}class Fh{constructor(){this.constants=[1,1,.01],this.radius=0}setup(a,d){const b=s.sub([],d,a);this.radius=s.length(b[2]<0?s.div([],b,this.constants):[b[0],b[1],0])}projectRay(a){s.div(a,a,this.constants),s.normalize(a,a),s.mul$1(a,a,this.constants);const d=s.scale$2([],a,this.radius);if(d[2]>0){const b=s.scale$2([],[0,0,1],s.dot(d,[0,0,1])),x=s.scale$2([],s.normalize([],[d[0],d[1],0]),this.radius),L=s.add([],d,s.scale$2([],s.sub([],s.add([],x,b),d),2));d[0]=L[0],d[1]=L[1]}return d}}function Al(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class bc{constructor(a,d){this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ud(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Fh,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(d),s.bindAll(["handleEvent","handleWindowEvent"],this);const b=this._el;this._listeners=[[b,"touchstart",{passive:!0}],[b,"touchmove",{passive:!1}],[b,"touchend",void 0],[b,"touchcancel",void 0],[b,"mousedown",void 0],[b,"mousemove",void 0],[b,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[b,"mouseover",void 0],[b,"mouseout",void 0],[b,"dblclick",void 0],[b,"click",void 0],[b,"keydown",{capture:!1}],[b,"keyup",void 0],[b,"wheel",{passive:!1}],[b,"contextmenu",void 0],[s.window,"blur",void 0]];for(const[x,L,D]of this._listeners)x.addEventListener(L,x===s.window.document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[a,d,b]of this._listeners)a.removeEventListener(d,a===s.window.document?this.handleWindowEvent:this.handleEvent,b)}_addDefaultHandlers(a){const d=this._map,b=d.getCanvasContainer();this._add("mapEvent",new mm(d,a));const x=d.boxZoom=new Ru(d,a);this._add("boxZoom",x);const L=new Fu,D=new Xs;d.doubleClickZoom=new gm(D,L),this._add("tapZoom",L),this._add("clickZoom",D);const P=new Oh;this._add("tapDragZoom",P);const z=d.touchPitch=new La(d);this._add("touchPitch",z);const N=new rf(a),V=new nf(a);d.dragRotate=new Ts(a,N,V),this._add("mouseRotate",N,["mousePitch"]),this._add("mousePitch",V,["mouseRotate"]);const J=new Ih(a),oe=new Ph(d,a);d.dragPan=new zu(b,J,oe),this._add("mousePan",J),this._add("touchPan",oe,["touchZoom","touchRotate"]);const me=new eu,pe=new of;d.touchZoomRotate=new Ia(b,pe,me,P),this._add("touchRotate",me,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]),this._add("blockableMapEvent",new tf(d));const be=d.scrollZoom=new ru(d,this);this._add("scrollZoom",be,["mousePan"]);const ue=d.keyboard=new Oo;this._add("keyboard",ue);for(const de of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])a.interactive&&a[de]&&d[de].enable(a[de])}_add(a,d,b){this._handlers.push({handlerName:a,handler:d,allowed:b}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Dr(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(a,d,b){for(const x in a)if(x!==b&&(!d||d.indexOf(x)<0))return!0;return!1}handleWindowEvent(a){this.handleEvent(a,`${a.type}Window`)}_getMapTouches(a){const d=[];for(const b of a)this._el.contains(b.target)&&d.push(b);return d}handleEvent(a,d){this._updatingCamera=!0;const b=a.type==="renderFrame",x=b?void 0:a,L={needsRenderFrame:!1},D={},P={},z=a.touches?this._getMapTouches(a.touches):void 0,N=z?Ge(this._el,z):b?void 0:he(this._el,a);for(const{handlerName:oe,handler:me,allowed:pe}of this._handlers){if(!me.isEnabled())continue;let be;this._blockedByActive(P,pe,oe)?me.reset():me[d||a.type]&&(be=me[d||a.type](a,N,z),this.mergeHandlerResult(L,D,be,oe,x),be&&be.needsRenderFrame&&this._triggerRenderFrame()),(be||me.isActive())&&(P[oe]=me)}const V={};for(const oe in this._previousActiveHandlers)P[oe]||(V[oe]=x);this._previousActiveHandlers=P,(Object.keys(V).length||Al(L))&&(this._changes.push([L,D,V]),this._triggerRenderFrame()),(Object.keys(P).length||Al(L))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:J}=L;J&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],J(this._map))}mergeHandlerResult(a,d,b,x,L){if(!b)return;s.extend(a,b);const D={handlerName:x,originalEvent:b.originalEvent||L};b.zoomDelta!==void 0&&(d.zoom=D),b.panDelta!==void 0&&(d.drag=D),b.pitchDelta!==void 0&&(d.pitch=D),b.bearingDelta!==void 0&&(d.rotate=D)}_applyChanges(){const a={},d={},b={};for(const[x,L,D]of this._changes)x.panDelta&&(a.panDelta=(a.panDelta||new s.pointGeometry(0,0))._add(x.panDelta)),x.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+x.pitchDelta),x.around!==void 0&&(a.around=x.around),x.aroundCoord!==void 0&&(a.aroundCoord=x.aroundCoord),x.pinchAround!==void 0&&(a.pinchAround=x.pinchAround),x.noInertia&&(a.noInertia=x.noInertia),s.extend(d,L),s.extend(b,D);this._updateMapTransform(a,d,b),this._changes=[]}_updateMapTransform(a,d,b){const x=this._map,L=x.transform,D=we=>[we.x,we.y,we.z];if((we=>{const xe=this._eventsInProgress.drag;return xe&&!this._handlersById[xe.handlerName].isActive()})()&&!Al(a)){const we=L.zoom;L.cameraElevationReference="sea",L.recenterOnTerrain(),L.cameraElevationReference="ground",we!==L.zoom&&this._map._update(!0)}if(L._isCameraConstrained&&x._stop(!0),!Al(a))return void this._fireEvents(d,b,!0);let{panDelta:P,zoomDelta:z,bearingDelta:N,pitchDelta:V,around:J,aroundCoord:oe,pinchAround:me}=a;L._isCameraConstrained&&(z>0&&(z=0),L._isCameraConstrained=!1),me!==void 0&&(J=me),(we=>d.drag&&!this._eventsInProgress.drag)()&&J&&(this._dragOrigin=D(L.pointCoordinate3D(J)),this._trackingEllipsoid.setup(L._camera.position,this._dragOrigin)),L.cameraElevationReference="sea",x._stop(!0),J=J||x.transform.centerPoint,N&&(L.bearing+=N),V&&(L.pitch+=V),L._updateCameraState();const pe=[0,0,0];if(P)if(L.projection.name==="mercator"){const we=this._trackingEllipsoid.projectRay(L.screenPointToMercatorRay(J).dir),xe=this._trackingEllipsoid.projectRay(L.screenPointToMercatorRay(J.sub(P)).dir);pe[0]=xe[0]-we[0],pe[1]=xe[1]-we[1]}else{const we=L.pointCoordinate(J);if(L.projection.name==="globe"){P=P.rotate(-L.angle);const xe=L._pixelsPerMercatorPixel/L.worldSize;pe[0]=-P.x*s.mercatorScale(s.latFromMercatorY(we.y))*xe,pe[1]=-P.y*s.mercatorScale(L.center.lat)*xe}else{const xe=L.pointCoordinate(J.sub(P));we&&xe&&(pe[0]=xe.x-we.x,pe[1]=xe.y-we.y)}}const be=L.zoom,ue=[0,0,0];if(z){const we=D(oe||L.pointCoordinate3D(J)),xe={dir:s.normalize([],s.sub([],we,L._camera.position))};if(xe.dir[2]<0){const Ie=L.zoomDeltaToMovement(we,z);s.scale$2(ue,xe.dir,Ie)}}const de=s.add(pe,pe,ue);L._translateCameraConstrained(de),z&&Math.abs(L.zoom-be)>1e-4&&L.recenterOnTerrain(),L.cameraElevationReference="ground",this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,b,!0)}_fireEvents(a,d,b){const x=Dr(this._eventsInProgress),L=Dr(a),D={};for(const V in a){const{originalEvent:J}=a[V];this._eventsInProgress[V]||(D[`${V}start`]=J),this._eventsInProgress[V]=a[V]}!x&&L&&this._fireEvent("movestart",L.originalEvent);for(const V in D)this._fireEvent(V,D[V]);L&&this._fireEvent("move",L.originalEvent);for(const V in a){const{originalEvent:J}=a[V];this._fireEvent(V,J)}const P={};let z;for(const V in this._eventsInProgress){const{handlerName:J,originalEvent:oe}=this._eventsInProgress[V];this._handlersById[J].isActive()||(delete this._eventsInProgress[V],z=d[J]||oe,P[`${V}end`]=z)}for(const V in P)this._fireEvent(V,P[V]);const N=Dr(this._eventsInProgress);if(b&&(x||L)&&!N){this._updatingCamera=!0;const V=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),J=oe=>oe!==0&&-this._bearingSnap<oe&&oe<this._bearingSnap;V?(J(V.bearing||this._map.getBearing())&&(V.bearing=0),this._map.easeTo(V,{originalEvent:z})):(this._map.fire(new s.Event("moveend",{originalEvent:z})),J(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new s.Event(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((a=>{this._frameId=void 0,this.handleEvent(new Rh("renderFrame",{timeStamp:a})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const os="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class zh extends s.Evented{constructor(a,d){super(),this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,b){return a=s.pointGeometry.convert(a).mult(-1),this.panTo(this.transform.center,s.extend({offset:a},d),b)}panTo(a,d,b){return this.easeTo(s.extend({center:a},d),b)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,b){return this.easeTo(s.extend({zoom:a},d),b)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,b){return this.easeTo(s.extend({bearing:a},d),b)}resetNorth(a,d){return this.rotateTo(0,s.extend({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=s.LngLatBounds.convert(a);const b=d&&d.bearing||0,x=d&&d.pitch||0,L=a.getNorthWest(),D=a.getSouthEast();return this._cameraForBounds(this.transform,L,D,b,x,d)}_extendCameraOptions(a){const d={top:0,bottom:0,right:0,left:0};if(typeof(a=s.extend({padding:d,offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding=="number"){const b=a.padding;a.padding={top:b,bottom:b,right:b,left:b}}return a.padding=s.extend(d,a.padding),a}_minimumAABBFrustumDistance(a,d){const b=d.max[0]-d.min[0],x=d.max[1]-d.min[1];return b/x>a.aspect?b/(2*Math.tan(.5*a.fovX)*a.aspect):x/(2*Math.tan(.5*a.fovY)*a.aspect)}_cameraForBoundsOnGlobe(a,d,b,x,L,D){const P=a.clone(),z=this._extendCameraOptions(D);P.bearing=x,P.pitch=L;const N=s.LngLat.convert(d),V=s.LngLat.convert(b),J=.5*(N.lat+V.lat),oe=.5*(N.lng+V.lng),me=s.latLngToECEF(J,oe),pe=s.normalize([],me),be=s.normalize([],s.cross([],pe,[0,1,0])),ue=s.cross([],be,pe),de=[be[0],be[1],be[2],0,ue[0],ue[1],ue[2],0,pe[0],pe[1],pe[2],0,0,0,0,1],we=[me,s.latLngToECEF(N.lat,N.lng),s.latLngToECEF(V.lat,N.lng),s.latLngToECEF(V.lat,V.lng),s.latLngToECEF(N.lat,V.lng),s.latLngToECEF(J,N.lng),s.latLngToECEF(J,V.lng),s.latLngToECEF(N.lat,oe),s.latLngToECEF(V.lat,oe)];let xe=s.Aabb.fromPoints(we.map((it=>[s.dot(be,it),s.dot(ue,it),s.dot(pe,it)])));const Ie=s.transformMat4([],xe.center,de);s.squaredLength(Ie)===0&&s.set(Ie,0,0,1),s.normalize(Ie,Ie),s.scale$2(Ie,Ie,s.GLOBE_RADIUS),P.center=s.ecefToLatLng(Ie);const Fe=P.getWorldToCameraMatrix(),Be=s.invert(new Float64Array(16),Fe);xe=s.Aabb.applyTransform(xe,s.multiply([],Fe,de)),s.transformMat4(Ie,Ie,Fe);const We=.5*(xe.max[2]-xe.min[2]),bt=this._minimumAABBFrustumDistance(P,xe),pt=s.scale$2([],[0,0,1],We),Xe=s.add(pt,Ie,pt),tr=bt+(P.pitch===0?0:s.distance(Ie,Xe)),ct=P.globeCenterInViewSpace,Ft=s.sub([],Ie,[ct[0],ct[1],ct[2]]);s.normalize(Ft,Ft),s.scale$2(Ft,Ft,tr);const St=s.add([],Ie,Ft);s.transformMat4(St,St,Be);const Jt=s.earthRadius/s.GLOBE_RADIUS,Et=s.length(St),$t=s.mercatorZfromAltitude(Et*Jt-s.earthRadius,0),or=Math.min(P.zoomFromMercatorZAdjusted($t),z.maxZoom);return or>.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(P.setProjection({name:"mercator"}),P.zoom=or,this._cameraForBounds(P,d,b,x,L,D)):{center:P.center,zoom:or,bearing:x,pitch:L}}queryTerrainElevation(a,d){const b=this.transform.elevation;return b?(d=s.extend({},{exaggerated:!0},d),b.getAtPoint(s.MercatorCoordinate.fromLngLat(a),null,d.exaggerated)):null}_cameraForBounds(a,d,b,x,L,D){if(a.projection.name==="globe")return this._cameraForBoundsOnGlobe(a,d,b,x,L,D);const P=a.clone(),z=this._extendCameraOptions(D),N=P.padding;P.bearing=x,P.pitch=L;const V=s.LngLat.convert(d),J=s.LngLat.convert(b),oe=new s.LngLat(V.lng,J.lat),me=new s.LngLat(J.lng,V.lat),pe=P.project(V),be=P.project(J),ue=this.queryTerrainElevation(V),de=this.queryTerrainElevation(J),we=this.queryTerrainElevation(oe),xe=this.queryTerrainElevation(me),Ie=[[pe.x,pe.y,Math.min(ue||0,de||0,we||0,xe||0)],[be.x,be.y,Math.max(ue||0,de||0,we||0,xe||0)]];let Fe=s.Aabb.fromPoints(Ie);const Be=P.getWorldToCameraMatrix(),We=s.invert(new Float64Array(16),Be);Fe=s.Aabb.applyTransform(Fe,Be);const bt=s.sub([],Fe.max,Fe.min),pt=N.left||0,Xe=N.right||0,tr=N.bottom||0,ct=N.top||0,{left:Ft,right:St,top:Jt,bottom:Et}=z.padding,$t=.5*(pt+Xe),or=.5*(ct+tr),it=Math.min(P.scaleZoom(P.scale*Math.min((P.width-(pt+Xe+Ft+St))/bt[0],(P.height-(tr+ct+Et+Jt))/bt[1])),z.maxZoom),Mt=P.scale/P.zoomScale(it);Fe=new s.Aabb([Fe.min[0]-(Ft+$t)*Mt,Fe.min[1]-(Et+or)*Mt,Fe.min[2]],[Fe.max[0]+(St+$t)*Mt,Fe.max[1]+(Jt+or)*Mt,Fe.max[2]]);const Pr=.5*bt[2],Qr=this._minimumAABBFrustumDistance(P,Fe),Rr=[0,0,1,0];s.transformMat4$1(Rr,Rr,Be),s.normalize$2(Rr,Rr);const on=s.scale$2([],Rr,Qr+Pr),Mn=s.add([],Fe.center,on),en=(typeof z.offset.x=="number"&&typeof z.offset.y=="number"?new s.pointGeometry(z.offset.x,z.offset.y):s.pointGeometry.convert(z.offset)).rotate(-s.degToRad(x));Fe.center[0]-=en.x*Mt,Fe.center[1]+=en.y*Mt,s.transformMat4(Fe.center,Fe.center,We),s.transformMat4(Mn,Mn,We);const kr=[Fe.center[0],Fe.center[1],Mn[2]*P.pixelsPerMeter];s.scale$2(kr,kr,1/P.worldSize);const oi=s.lngFromMercatorX(kr[0]),Xn=s.latFromMercatorY(kr[1]),ai=Math.min(P._zoomFromMercatorZ(kr[2]),z.maxZoom),li=new s.LngLat(oi,Xn);return P.mercatorFromTransition&&ai<.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(P.setProjection({name:"globe"}),P.zoom=ai,this._cameraForBounds(P,d,b,x,L,D)):{center:li,zoom:ai,bearing:x,pitch:L}}fitBounds(a,d,b){const x=this.cameraForBounds(a,d);return this._fitInternal(x,d,b)}fitScreenCoordinates(a,d,b,x,L){const D=s.pointGeometry.convert(a),P=s.pointGeometry.convert(d),z=new s.pointGeometry(Math.min(D.x,P.x),Math.min(D.y,P.y)),N=new s.pointGeometry(Math.max(D.x,P.x),Math.max(D.y,P.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(D,P))return this;const V=this.transform.pointLocation3D(z),J=this.transform.pointLocation3D(N),oe=this.transform.pointLocation3D(new s.pointGeometry(z.x,N.y)),me=this.transform.pointLocation3D(new s.pointGeometry(N.x,z.y)),pe=[Math.min(V.lng,J.lng,oe.lng,me.lng),Math.min(V.lat,J.lat,oe.lat,me.lat)],be=[Math.max(V.lng,J.lng,oe.lng,me.lng),Math.max(V.lat,J.lat,oe.lat,me.lat)],ue=x&&x.pitch?x.pitch:this.getPitch(),de=this._cameraForBounds(this.transform,pe,be,b,ue,x);return this._fitInternal(de,x,L)}_fitInternal(a,d,b){return a?(delete(d=s.extend(a,d)).padding,d.linear?this.easeTo(d,b):this.flyTo(d,b)):this}jumpTo(a,d){this.stop();const b=a.preloadOnly?this.transform.clone():this.transform;let x=!1,L=!1,D=!1;return"zoom"in a&&b.zoom!==+a.zoom&&(x=!0,b.zoom=+a.zoom),a.center!==void 0&&(b.center=s.LngLat.convert(a.center)),"bearing"in a&&b.bearing!==+a.bearing&&(L=!0,b.bearing=+a.bearing),"pitch"in a&&b.pitch!==+a.pitch&&(D=!0,b.pitch=+a.pitch),a.padding==null||b.isPaddingEqual(a.padding)||(b.padding=a.padding),a.preloadOnly?(this._preloadTiles(b),this):(this.fire(new s.Event("movestart",d)).fire(new s.Event("move",d)),x&&this.fire(new s.Event("zoomstart",d)).fire(new s.Event("zoom",d)).fire(new s.Event("zoomend",d)),L&&this.fire(new s.Event("rotatestart",d)).fire(new s.Event("rotate",d)).fire(new s.Event("rotateend",d)),D&&this.fire(new s.Event("pitchstart",d)).fire(new s.Event("pitch",d)).fire(new s.Event("pitchend",d)),this.fire(new s.Event("moveend",d)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.warnOnce(os),this.transform.getFreeCameraOptions()}setFreeCameraOptions(a,d){const b=this.transform;if(!b.projection.supportsFreeCamera)return s.warnOnce(os),this;this.stop();const x=b.zoom,L=b.pitch,D=b.bearing;b.setFreeCameraOptions(a);const P=x!==b.zoom,z=L!==b.pitch,N=D!==b.bearing;return this.fire(new s.Event("movestart",d)).fire(new s.Event("move",d)),P&&this.fire(new s.Event("zoomstart",d)).fire(new s.Event("zoom",d)).fire(new s.Event("zoomend",d)),N&&this.fire(new s.Event("rotatestart",d)).fire(new s.Event("rotate",d)).fire(new s.Event("rotateend",d)),z&&this.fire(new s.Event("pitchstart",d)).fire(new s.Event("pitch",d)).fire(new s.Event("pitchend",d)),this.fire(new s.Event("moveend",d)),this}easeTo(a,d){this._stop(!1,a.easeId),((a=s.extend({offset:[0,0],duration:500,easing:s.ease},a)).animate===!1||!a.essential&&s.exported.prefersReducedMotion)&&(a.duration=0);const b=this.transform,x=this.getZoom(),L=this.getBearing(),D=this.getPitch(),P=this.getPadding(),z="zoom"in a?+a.zoom:x,N="bearing"in a?this._normalizeBearing(a.bearing,L):L,V="pitch"in a?+a.pitch:D,J="padding"in a?a.padding:b.padding,oe=s.pointGeometry.convert(a.offset);let me,pe,be;if(b.projection.name==="globe"){const pt=s.MercatorCoordinate.fromLngLat(b.center),Xe=oe.rotate(-b.angle);pt.x+=Xe.x/b.worldSize,pt.y+=Xe.y/b.worldSize;const tr=pt.toLngLat(),ct=s.LngLat.convert(a.center||tr);this._normalizeCenter(ct),me=b.centerPoint.add(Xe),pe=new s.pointGeometry(pt.x,pt.y).mult(b.worldSize),be=new s.pointGeometry(s.mercatorXfromLng(ct.lng),s.mercatorYfromLat(ct.lat)).mult(b.worldSize).sub(pe)}else{me=b.centerPoint.add(oe);const pt=b.pointLocation(me),Xe=s.LngLat.convert(a.center||pt);this._normalizeCenter(Xe),pe=b.project(pt),be=b.project(Xe).sub(pe)}const ue=b.zoomScale(z-x);let de,we;a.around&&(de=s.LngLat.convert(a.around),we=b.locationPoint(de));const xe=this._zooming||z!==x,Ie=this._rotating||L!==N,Fe=this._pitching||V!==D,Be=!b.isPaddingEqual(J),We=pt=>Xe=>{if(xe&&(pt.zoom=s.number(x,z,Xe)),Ie&&(pt.bearing=s.number(L,N,Xe)),Fe&&(pt.pitch=s.number(D,V,Xe)),Be&&(pt.interpolatePadding(P,J,Xe),me=pt.centerPoint.add(oe)),de)pt.setLocationAtPoint(de,we);else{const tr=pt.zoomScale(pt.zoom-x),ct=z>x?Math.min(2,ue):Math.max(.5,ue),Ft=Math.pow(ct,1-Xe),St=pt.unproject(pe.add(be.mult(Xe*Ft)).mult(tr));pt.setLocationAtPoint(pt.renderWorldCopies?St.wrap():St,me)}return a.preloadOnly||this._fireMoveEvents(d),pt};if(a.preloadOnly){const pt=this._emulate(We,a.duration,b);return this._preloadTiles(pt),this}const bt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=xe,this._rotating=Ie,this._pitching=Fe,this._padding=Be,this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,bt),this._ease(We(b),(pt=>{b.recenterOnTerrain(),this._afterEase(d,pt)}),a),this}_prepareEase(a,d,b={}){this._moving=!0,this.transform.cameraElevationReference="sea",d||b.moving||this.fire(new s.Event("movestart",a)),this._zooming&&!b.zooming&&this.fire(new s.Event("zoomstart",a)),this._rotating&&!b.rotating&&this.fire(new s.Event("rotatestart",a)),this._pitching&&!b.pitching&&this.fire(new s.Event("pitchstart",a))}_fireMoveEvents(a){this.fire(new s.Event("move",a)),this._zooming&&this.fire(new s.Event("zoom",a)),this._rotating&&this.fire(new s.Event("rotate",a)),this._pitching&&this.fire(new s.Event("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const b=this._zooming,x=this._rotating,L=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,b&&this.fire(new s.Event("zoomend",a)),x&&this.fire(new s.Event("rotateend",a)),L&&this.fire(new s.Event("pitchend",a)),this.fire(new s.Event("moveend",a))}flyTo(a,d){if(!a.essential&&s.exported.prefersReducedMotion){const it=s.pick(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(it,d)}this.stop(),a=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},a);const b=this.transform,x=this.getZoom(),L=this.getBearing(),D=this.getPitch(),P=this.getPadding(),z="zoom"in a?s.clamp(+a.zoom,b.minZoom,b.maxZoom):x,N="bearing"in a?this._normalizeBearing(a.bearing,L):L,V="pitch"in a?+a.pitch:D,J="padding"in a?a.padding:b.padding,oe=b.zoomScale(z-x),me=s.pointGeometry.convert(a.offset);let pe=b.centerPoint.add(me);const be=b.pointLocation(pe),ue=s.LngLat.convert(a.center||be);this._normalizeCenter(ue);const de=b.project(be),we=b.project(ue).sub(de);let xe=a.curve;const Ie=Math.max(b.width,b.height),Fe=Ie/oe,Be=we.mag();if("minZoom"in a){const it=s.clamp(Math.min(a.minZoom,x,z),b.minZoom,b.maxZoom),Mt=Ie/b.zoomScale(it-x);xe=Math.sqrt(Mt/Be*2)}const We=xe*xe;function bt(it){const Mt=(Fe*Fe-Ie*Ie+(it?-1:1)*We*We*Be*Be)/(2*(it?Fe:Ie)*We*Be);return Math.log(Math.sqrt(Mt*Mt+1)-Mt)}function pt(it){return(Math.exp(it)-Math.exp(-it))/2}function Xe(it){return(Math.exp(it)+Math.exp(-it))/2}const tr=bt(0);let ct=function(it){return Xe(tr)/Xe(tr+xe*it)},Ft=function(it){return Ie*((Xe(tr)*(pt(Mt=tr+xe*it)/Xe(Mt))-pt(tr))/We)/Be;var Mt},St=(bt(1)-tr)/xe;if(Math.abs(Be)<1e-6||!isFinite(St)){if(Math.abs(Ie-Fe)<1e-6)return this.easeTo(a,d);const it=Fe<Ie?-1:1;St=Math.abs(Math.log(Fe/Ie))/xe,Ft=function(){return 0},ct=function(Mt){return Math.exp(it*xe*Mt)}}a.duration="duration"in a?+a.duration:1e3*St/("screenSpeed"in a?+a.screenSpeed/xe:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0);const Jt=L!==N,Et=V!==D,$t=!b.isPaddingEqual(J),or=it=>Mt=>{const Pr=Mt*St,Qr=1/ct(Pr);it.zoom=Mt===1?z:x+it.scaleZoom(Qr),Jt&&(it.bearing=s.number(L,N,Mt)),Et&&(it.pitch=s.number(D,V,Mt)),$t&&(it.interpolatePadding(P,J,Mt),pe=it.centerPoint.add(me));const Rr=Mt===1?ue:it.unproject(de.add(we.mult(Ft(Pr))).mult(Qr));return it.setLocationAtPoint(it.renderWorldCopies?Rr.wrap():Rr,pe),it._updateCameraOnTerrain(),a.preloadOnly||this._fireMoveEvents(d),it};if(a.preloadOnly){const it=this._emulate(or,a.duration,b);return this._preloadTiles(it),this}return this._zooming=!0,this._rotating=Jt,this._pitching=Et,this._padding=$t,this._prepareEase(d,!1),this._ease(or(b),(()=>this._afterEase(d)),a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const b=this._onEaseEnd;this._onEaseEnd=void 0,b.call(this,d)}if(!a){const b=this.handlers;b&&b.stop(!1)}return this}_ease(a,d,b){b.animate===!1||b.duration===0?(a(1),d()):(this._easeStart=s.exported.now(),this._easeOptions=b,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const a=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1),d=this._onEaseFrame;d&&d(this._easeOptions.easing(a)),a<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(a,d){a=s.wrap(a,-180,180);const b=Math.abs(a-d);return Math.abs(a-360-d)<b&&(a-=360),Math.abs(a+360-d)<b&&(a+=360),a}_normalizeCenter(a){const d=this.transform;if(!d.renderWorldCopies||d.maxBounds)return;const b=a.lng-d.center.lng;a.lng+=b>180?-360:b<-180?360:0}_emulate(a,d,b){const x=Math.ceil(15*d/1e3),L=[],D=a(b.clone());for(let P=0;P<=x;P++){const z=D(P/x);L.push(z.clone())}return L}}class sf{constructor(a={}){this.options=a,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(a){const d=this.options&&this.options.compact;return this._map=a,this._container=C("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=C("button","mapboxgl-ctrl-attrib-button",this._container),C("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),d&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),d===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(a,d){const b=this._map._getUIString(`AttributionControl.${d}`);a.setAttribute("aria-label",b),a.removeAttribute("title"),a.firstElementChild&&a.firstElementChild.setAttribute("title",b)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let a=this._editLink;a||(a=this._editLink=this._container.querySelector(".mapbox-improve-map"));const d=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(a){const b=d.reduce(((x,L,D)=>(L.value&&(x+=`${L.key}=${L.value}${D<d.length-1?"&":""}`),x)),"?");a.href=`${s.config.FEEDBACK_URL}/${b}#${Wo(this._map,!0)}`,a.rel="noopener nofollow",this._setElementTitle(a,"MapFeedback")}}_updateData(a){!a||a.sourceDataType!=="metadata"&&a.sourceDataType!=="visibility"&&a.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let a=[];if(this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const d=this._map.style._sourceCaches;for(const x in d){const L=d[x];if(L.used){const D=L.getSource();D.attribution&&a.indexOf(D.attribution)<0&&a.push(D.attribution)}}a.sort(((x,L)=>x.length-L.length)),a=a.filter(((x,L)=>{for(let D=L+1;D<a.length;D++)if(a[D].indexOf(x)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=[...this.options.customAttribution,...a]:a.unshift(this.options.customAttribution));const b=a.join(" | ");b!==this._attribHTML&&(this._attribHTML=b,a.length?(this._innerContainer.innerHTML=b,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class lf{constructor(){s.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(a){this._map=a,this._container=C("div","mapboxgl-ctrl");const d=C("a","mapboxgl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://www.mapbox.com/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(a){a&&a.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const a=this._map.style._sourceCaches;if(Object.entries(a).length===0)return!0;for(const d in a){const b=a[d].getSource();if(b.hasOwnProperty("mapbox_logo")&&!b.mapbox_logo)return!1}return!0}_updateCompact(){const a=this._container.children;if(a.length){const d=a[0];this._map.getCanvasContainer().offsetWidth<250?d.classList.add("mapboxgl-compact"):d.classList.remove("mapboxgl-compact")}}}class uf{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){const d=this._currentlyRunning,b=d?this._queue.concat(d):this._queue;for(const x of b)if(x.id===a)return void(x.cancelled=!0)}run(a=0){const d=this._currentlyRunning=this._queue;this._queue=[];for(const b of d)if(!b.cancelled&&(b.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function cf(g,a,d){if(g=new s.LngLat(g.lng,g.lat),a){const b=new s.LngLat(g.lng-360,g.lat),x=new s.LngLat(g.lng+360,g.lat),L=360*Math.ceil(Math.abs(g.lng-d.center.lng)/360),D=d.locationPoint(g).distSqr(a),P=a.x<0||a.y<0||a.x>d.width||a.y>d.height;d.locationPoint(b).distSqr(a)<D&&(P||Math.abs(b.lng-d.center.lng)<L)?g=b:d.locationPoint(x).distSqr(a)<D&&(P||Math.abs(x.lng-d.center.lng)<L)&&(g=x)}for(;Math.abs(g.lng-d.center.lng)>180;){const b=d.locationPoint(g);if(b.x>=0&&b.y>=0&&b.x<=d.width&&b.y<=d.height)break;g.lng>d.center.lng?g.lng-=360:g.lng+=360}return g}const Pa={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class vc extends s.Evented{constructor(a,d){if(super(),(a instanceof s.window.HTMLElement||d)&&(a=s.extend({element:a},d)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=a&&a.occludedOpacity||.2,a&&a.element)this._element=a.element,this._offset=s.pointGeometry.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=C("div");const x=41,L=27,D=B("svg",{display:"block",height:x*this._scale+"px",width:L*this._scale+"px",viewBox:`0 0 ${L} ${x}`},this._element),P=B("radialGradient",{id:"shadowGradient"},B("defs",{},D));B("stop",{offset:"10%","stop-opacity":.4},P),B("stop",{offset:"100%","stop-opacity":.05},P),B("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},D),B("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},D),B("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},D),B("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},D),this._offset=s.pointGeometry.convert(a&&a.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(x=>{x.preventDefault()})),this._element.addEventListener("mousedown",(x=>{x.preventDefault()}));const b=this._element.classList;for(const x in Pa)b.remove(`mapboxgl-marker-anchor-${x}`);b.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(a){return a===this._map||(this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._updateMoving),a.on("moveend",this._update),a.on("remove",this._clearFadeTimer),a._addMarker(this),this.setDraggable(this._draggable),this._update(),a.on("click",this._onMapClick)),this}remove(){const a=this._map;return a&&(a.off("click",this._onMapClick),a.off("move",this._updateMoving),a.off("moveend",this._update),a.off("mousedown",this._addDragHandler),a.off("touchstart",this._addDragHandler),a.off("mouseup",this._onUp),a.off("touchend",this._onUp),a.off("mousemove",this._onMove),a.off("touchmove",this._onMove),a.off("remove",this._clearFadeTimer),a._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=s.LngLat.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const x=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(38.1-13.5+x)],"bottom-right":[-x,-1*(38.1-13.5+x)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,a._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(a){const d=a.code,b=a.charCode||a.keyCode;d!=="Space"&&d!=="Enter"&&b!==32&&b!==13||this.togglePopup()}_onMapClick(a){const d=a.originalEvent.target,b=this._element;this._popup&&(d===b||b.contains(d))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?(a.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(a.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const a=this._map,d=this._pos;if(!a||!d)return!1;const b=a.unproject(d),x=a.getFreeCameraOptions();if(!x.position)return!1;const L=x.position.toLngLat();return L.distanceTo(b)<.9*L.distanceTo(this._lngLat)}_evaluateOpacity(){const a=this._map;if(!a)return;const d=this._pos;if(!d||d.x<0||d.x>a.transform.width||d.y<0||d.y>a.transform.height)return void this._clearFadeTimer();const b=a.unproject(d);let x;a._showingGlobe()&&s.isLngLatBehindGlobe(a.transform,this._lngLat)?x=0:(x=1-a._queryFogOpacity(b),a.transform._terrainEnabled()&&a.getTerrain()&&this._behindTerrain()&&(x*=this._occludedOpacity)),this._element.style.opacity=`${x}`,this._element.style.pointerEvents=x>0?"auto":"none",this._popup&&this._popup._setOpacity(x),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const a=this._pos;if(!a||!this._map)return;const d=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${a.x}px,${a.y}px)
            ${Pa[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${d.x}px,${d.y}px)
        `}_calculateXYTransform(){const a=this._pos,d=this._map,b=this.getPitchAlignment();if(!d||!a||b!=="map")return"";if(!d._showingGlobe()){const z=d.getPitch();return z?`rotateX(${z}deg)`:""}const x=s.radToDeg(s.globeTiltAtLngLat(d.transform,this._lngLat)),L=a.sub(s.globeCenterToScreenPoint(d.transform)),D=Math.abs(L.x)+Math.abs(L.y);if(D===0)return"";const P=x/D;return`rotateX(${-L.y*P}deg) rotateY(${L.x*P}deg)`}_calculateZTransform(){const a=this._pos,d=this._map;if(!d||!a)return"";let b=0;const x=this.getRotationAlignment();if(x==="map")if(d._showingGlobe()){const L=d.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),D=d.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(L);b=s.radToDeg(Math.atan2(D.y,D.x))-90}else b=-d.getBearing();else if(x==="horizon"){const L=s.smoothstep(4,6,d.getZoom()),D=s.globeCenterToScreenPoint(d.transform);D.y+=L*d.transform.height;const P=a.sub(D),z=s.radToDeg(Math.atan2(P.y,P.x));b=(z>90?z-270:z+90)*(1-L)}return b+=this._rotation,b?`rotateZ(${b}deg)`:""}_update(a){s.window.cancelAnimationFrame(this._updateFrameId);const d=this._map;d&&(d.transform.renderWorldCopies&&(this._lngLat=cf(this._lngLat,this._pos,d.transform)),this._pos=d.project(this._lngLat),a===!0?this._updateFrameId=s.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())})):this._pos=this._pos.round(),d._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(d._showingGlobe()||d.getTerrain()||d.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})))}getOffset(){return this._offset}setOffset(a){return this._offset=s.pointGeometry.convert(a),this._update(),this}_onMove(a){const d=this._map;if(!d)return;const b=this._pointerdownPos,x=this._positionDelta;if(b&&x){if(!this._isDragging){const L=this._clickTolerance||d._clickTolerance;if(a.point.dist(b)<L)return;this._isDragging=!0}this._pos=a.point.sub(x),this._lngLat=d.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const a=this._map;a&&(a.off("mousemove",this._onMove),a.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(a){const d=this._map,b=this._pos;d&&b&&this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(b),this._pointerdownPos=a.point,this._state="pending",d.on("mousemove",this._onMove),d.on("touchmove",this._onMove),d.once("mouseup",this._onUp),d.once("touchend",this._onUp))}setDraggable(a){this._draggable=!!a;const d=this._map;return d&&(a?(d.on("mousedown",this._addDragHandler),d.on("touchstart",this._addDragHandler)):(d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(a){return this._occludedOpacity=a||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const dd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Oa=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function df(g=new s.pointGeometry(0,0),a="bottom"){if(typeof g=="number"){const d=Math.round(Math.sqrt(.5*Math.pow(g,2)));switch(a){case"top":return new s.pointGeometry(0,g);case"top-left":return new s.pointGeometry(d,d);case"top-right":return new s.pointGeometry(-d,d);case"bottom":return new s.pointGeometry(0,-g);case"bottom-left":return new s.pointGeometry(d,-d);case"bottom-right":return new s.pointGeometry(-d,-d);case"left":return new s.pointGeometry(g,0);case"right":return new s.pointGeometry(-g,0)}return new s.pointGeometry(0,0)}return g instanceof s.pointGeometry||Array.isArray(g)?s.pointGeometry.convert(g):s.pointGeometry.convert(g[a]||[0,0])}class Yh{constructor(a){this.jumpTo(a)}getValue(a){if(a<=this._startTime)return this._start;if(a>=this._endTime)return this._end;const d=s.easeCubicInOut((a-this._startTime)/(this._endTime-this._startTime));return this._start*(1-d)+this._end*d}isEasing(a){return a>=this._startTime&&a<=this._endTime}jumpTo(a){this._startTime=-1/0,this._endTime=-1/0,this._start=a,this._end=a}easeTo(a,d,b){this._start=this.getValue(d),this._end=a,this._startTime=d,this._endTime=d+b}}const Bh={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},jh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},$h={showCompass:!0,showZoom:!0,visualizePitch:!1};class ff{constructor(a,d,b=!1){this._clickTolerance=10,this.element=d,this.mouseRotate=new rf({clickTolerance:a.dragRotate._mouseRotate._clickTolerance}),this.map=a,b&&(this.mousePitch=new nf({clickTolerance:a.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),d.addEventListener("mousedown",this.mousedown),d.addEventListener("touchstart",this.touchstart,{passive:!1}),d.addEventListener("touchmove",this.touchmove),d.addEventListener("touchend",this.touchend),d.addEventListener("touchcancel",this.reset)}down(a,d){this.mouseRotate.mousedown(a,d),this.mousePitch&&this.mousePitch.mousedown(a,d),te()}move(a,d){const b=this.map,x=this.mouseRotate.mousemoveWindow(a,d),L=x&&x.bearingDelta;if(L&&b.setBearing(b.getBearing()+L),this.mousePitch){const D=this.mousePitch.mousemoveWindow(a,d),P=D&&D.pitchDelta;P&&b.setPitch(b.getPitch()+P)}}off(){const a=this.element;a.removeEventListener("mousedown",this.mousedown),a.removeEventListener("touchstart",this.touchstart,{passive:!1}),a.removeEventListener("touchmove",this.touchmove),a.removeEventListener("touchend",this.touchend),a.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){se(),s.window.removeEventListener("mousemove",this.mousemove),s.window.removeEventListener("mouseup",this.mouseup)}mousedown(a){this.down(s.extend({},a,{ctrlKey:!0,preventDefault:()=>a.preventDefault()}),he(this.element,a)),s.window.addEventListener("mousemove",this.mousemove),s.window.addEventListener("mouseup",this.mouseup)}mousemove(a){this.move(a,he(this.element,a))}mouseup(a){this.mouseRotate.mouseupWindow(a),this.mousePitch&&this.mousePitch.mouseupWindow(a),this.offTemp()}touchstart(a){a.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Ge(this.element,a.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>a.preventDefault()},this._startPos))}touchmove(a){a.targetTouches.length!==1?this.reset():(this._lastPos=Ge(this.element,a.targetTouches)[0],this.move({preventDefault:()=>a.preventDefault()},this._lastPos))}touchend(a){a.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const fd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Vh={maxWidth:100,unit:"metric"};function Uh(g,a,d){const b=wc(a),x=b/a,L={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[d];this._map._requestDomTask((()=>{this._container.style.width=g*x+"px",this._container.innerHTML=`${b}&nbsp;${L}`}))}function wc(g){const a=Math.pow(10,`${Math.floor(g)}`.length-1);let d=g/a;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:d>=1?1:(function(b){const x=Math.pow(10,Math.ceil(-Math.log(b)/Math.LN10));return Math.round(b*x)/x})(d),a*d}const Ks={version:s.version,supported:k,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends zh{constructor(g){if(s.LivePerformanceUtils.mark(s.PerformanceMarkers.create),(g=s.extend({},jh,g)).minZoom!=null&&g.maxZoom!=null&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(g.minPitch!=null&&g.maxPitch!=null&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(g.minPitch!=null&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(g.maxPitch!=null&&g.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(g.antialias&&s.isSafariWithAntialiasingBug(s.window)&&(g.antialias=!1,s.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Ou(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies),g),this._interactive=g.interactive,this._minTileCacheSize=g.minTileCacheSize,this._maxTileCacheSize=g.maxTileCacheSize,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=g.crossSourceCollisions,this._collectResourceTiming=g.collectResourceTiming,this._optimizeForTerrain=g.optimizeForTerrain,this._language=this._parseLanguage(g.language),this._worldview=g.worldview,this._renderTaskQueue=new uf,this._domRenderTaskQueue=new uf,this._controls=[],this._markers=[],this._popups=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Bh,g.locale),this._clickTolerance=g.clickTolerance,this._cooperativeGestures=g.cooperativeGestures,this._performanceMetricsCollection=g.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Yh(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new s.RequestManager(g.transformRequest,g.accessToken,g.testMode),this._silenceAuthErrors=!!g.testMode,typeof g.container=="string"){if(this._container=s.window.document.getElementById(g.container),!this._container)throw new Error(`Container '${g.container}' not found.`)}else{if(!(g.container instanceof s.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(this._container.childNodes.length>0&&s.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),g.maxBounds&&this.setMaxBounds(g.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1),s.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new bc(this,g),this._localFontFamily=g.localFontFamily,this._localIdeographFontFamily=g.localIdeographFontFamily,g.style&&this.setStyle(g.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),g.projection&&this.setProjection(g.projection),this._hash=g.hash&&new Tr(typeof g.hash=="string"&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,s.extend({},g.fitBoundsOptions,{duration:0})))),this.resize(),g.attributionControl&&this.addControl(new sf({customAttribution:g.customAttribution})),this._logoControl=new lf,this.addControl(this._logoControl,g.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(a=>{this._update(a.dataType==="style"),this.fire(new s.Event(`${a.dataType}data`,a))})),this.on("dataloading",(a=>{this.fire(new s.Event(`${a.dataType}dataloading`,a))}))}_getMapId(){return this._mapId}addControl(g,a){if(a===void 0&&(a=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=g.onAdd(this);this._controls.push(g);const b=this._controlPositions[a];return a.indexOf("bottom")!==-1?b.insertBefore(d,b.firstChild):b.appendChild(d),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(g);return a>-1&&this._controls.splice(a,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(g){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const a=!this._moving;return a&&this.fire(new s.Event("movestart",g)).fire(new s.Event("move",g)),this.fire(new s.Event("resize",g)),a&&this.fire(new s.Event("moveend",g)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(g){return this.transform.setMaxBounds(s.LngLatBounds.convert(g)),this._update()}setMinZoom(g){if((g=g??-2)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g?this.setZoom(g):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g??22)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g?this.setZoom(g):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g?this.setPitch(g):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g?this.setPitch(g):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(g){return g==="auto"?s.window.navigator.language:Array.isArray(g)?g.length===0?void 0:g.map((a=>a==="auto"?s.window.navigator.language:a)):g}setLanguage(g){const a=this._parseLanguage(g);if(!this.style||a===this._language)return this;this._language=a,this.style._reloadSources();for(const d of this._controls)d._setLanguage&&d._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(g){return this.style&&g!==this._worldview?(this._worldview=g,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(g){return this._lazyInitEmptyStyle(),g?typeof g=="string"&&(g={name:g}):g=null,this._useExplicitProjection=!!g,this._prioritizeAndUpdateProjection(g,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const g=this.transform,a=g.projection.name;let d;a==="globe"&&g.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?(g.setMercatorFromTransition(),d=!0):a==="mercator"&&g.zoom<s.GLOBE_ZOOM_THRESHOLD_MAX&&(g.setProjection({name:"globe"}),d=!0),d&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(g,a){return this._updateProjection(g||a||{name:"mercator"})}_updateProjection(g){let a;if(a=g.name==="globe"&&this.transform.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(g),this.style.applyProjectionUpdate(),a){this.painter.clearBackgroundTiles();for(const d in this.style._sourceCaches)this.style._sourceCaches[d].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(g){return this.transform.locationPoint3D(s.LngLat.convert(g))}unproject(g){return this.transform.pointLocation3D(s.pointGeometry.convert(g))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(g,a,d){if(g==="mouseenter"||g==="mouseover"){let b=!1;const x=D=>{const P=a.filter((N=>this.getLayer(N))),z=P.length?this.queryRenderedFeatures(D.point,{layers:P}):[];z.length?b||(b=!0,d.call(this,new ua(g,this,D.originalEvent,{features:z}))):b=!1},L=()=>{b=!1};return{layers:new Set(a),listener:d,delegates:{mousemove:x,mouseout:L}}}if(g==="mouseleave"||g==="mouseout"){let b=!1;const x=D=>{const P=a.filter((z=>this.getLayer(z)));(P.length?this.queryRenderedFeatures(D.point,{layers:P}):[]).length?b=!0:b&&(b=!1,d.call(this,new ua(g,this,D.originalEvent)))},L=D=>{b&&(b=!1,d.call(this,new ua(g,this,D.originalEvent)))};return{layers:new Set(a),listener:d,delegates:{mousemove:x,mouseout:L}}}{const b=x=>{const L=a.filter((P=>this.getLayer(P))),D=L.length?this.queryRenderedFeatures(x.point,{layers:L}):[];D.length&&(x.features=D,d.call(this,x),delete x.features)};return{layers:new Set(a),listener:d,delegates:{[g]:b}}}}on(g,a,d){if(d===void 0)return super.on(g,a);Array.isArray(a)||(a=[a]);const b=this._createDelegatedListener(g,a,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(b);for(const x in b.delegates)this.on(x,b.delegates[x]);return this}once(g,a,d){if(d===void 0)return super.once(g,a);Array.isArray(a)||(a=[a]);const b=this._createDelegatedListener(g,a,d);for(const x in b.delegates)this.once(x,b.delegates[x]);return this}off(g,a,d){if(d===void 0)return super.off(g,a);a=new Set(Array.isArray(a)?a:[a]);const b=(L,D)=>{if(L.size!==D.size)return!1;for(const P of L)if(!D.has(P))return!1;return!0},x=this._delegatedListeners?this._delegatedListeners[g]:void 0;return x&&(L=>{for(let D=0;D<L.length;D++){const P=L[D];if(P.listener===d&&b(P.layers,a)){for(const z in P.delegates)this.off(z,P.delegates[z]);return L.splice(D,1),this}}})(x),this}queryRenderedFeatures(g,a){return this.style?(a!==void 0||g===void 0||g instanceof s.pointGeometry||Array.isArray(g)||(a=g,g=void 0),this.style.queryRenderedFeatures(g=g||[[0,0],[this.transform.width,this.transform.height]],a=a||{},this.transform)):[]}querySourceFeatures(g,a){return this.style.querySourceFeatures(g,a)}setStyle(g,a){return(a=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&a.localFontFamily===this._localFontFamily&&this.style&&g?(this._diffStyle(g,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._localFontFamily=a.localFontFamily,this._updateStyle(g,a))}_getUIString(g){const a=this._locale[g];if(a==null)throw new Error(`Missing UI string '${g}'`);return a}_updateStyle(g,a){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),g&&(this.style=new Q(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof g=="string"?this.style.loadURL(g):this.style.loadJSON(g)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Q(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,a){if(typeof g=="string"){const d=this._requestManager.normalizeStyleURL(g),b=this._requestManager.transformRequest(d,s.ResourceType.Style);s.getJSON(b,((x,L)=>{x?this.fire(new s.ErrorEvent(x)):L&&this._updateDiff(L,a)}))}else typeof g=="object"&&this._updateDiff(g,a)}_updateDiff(g,a){try{this.style.setState(g)&&this._update(!0)}catch(d){s.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(g,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.warnOnce("There is no style added to the map."),!1)}addSource(g,a){return this._lazyInitEmptyStyle(),this.style.addSource(g,a),this._update(!0)}isSourceLoaded(g){return!!this.style&&this.style._isSourceCacheLoaded(g)}areTilesLoaded(){const g=this.style&&this.style._sourceCaches;for(const a in g){const d=g[a]._tiles;for(const b in d){const x=d[b];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}addSourceType(g,a,d){this._lazyInitEmptyStyle(),this.style.addSourceType(g,a,d)}removeSource(g){return this.style.removeSource(g),this._updateTerrain(),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,a,{pixelRatio:d=1,sdf:b=!1,stretchX:x,stretchY:L,content:D}={}){if(this._lazyInitEmptyStyle(),a instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&a instanceof s.window.ImageBitmap){const{width:P,height:z,data:N}=s.exported.getImageData(a);this.style.addImage(g,{data:new s.RGBAImage({width:P,height:z},N),pixelRatio:d,stretchX:x,stretchY:L,content:D,sdf:b,version:0})}else if(a.width===void 0||a.height===void 0)this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:P,height:z}=a,N=a;this.style.addImage(g,{data:new s.RGBAImage({width:P,height:z},new Uint8Array(N.data)),pixelRatio:d,stretchX:x,stretchY:L,content:D,sdf:b,version:0,userImage:N}),N.onAdd&&N.onAdd(this,g)}}updateImage(g,a){const d=this.style.getImage(g);if(!d)return void this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const b=a instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&a instanceof s.window.ImageBitmap?s.exported.getImageData(a):a,{width:x,height:L}=b;x!==void 0&&L!==void 0?x===d.data.width&&L===d.data.height?(d.data.replace(b.data,!(a instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&a instanceof s.window.ImageBitmap)),this.style.updateImage(g,d)):this.fire(new s.ErrorEvent(new Error(`The width and height of the updated image (${x}, ${L})
                must be that same as the previous version of the image
                (${d.data.width}, ${d.data.height})`))):this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g,a){s.getImage(this._requestManager.transformRequest(g,s.ResourceType.Image),((d,b)=>{a(d,b instanceof s.window.HTMLImageElement?s.exported.getImageData(b):b)}))}listImages(){return this.style.listImages()}addLayer(g,a){return this._lazyInitEmptyStyle(),this.style.addLayer(g,a),this._update(!0)}moveLayer(g,a){return this.style.moveLayer(g,a),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}setLayerZoomRange(g,a,d){return this.style.setLayerZoomRange(g,a,d),this._update(!0)}setFilter(g,a,d={}){return this.style.setFilter(g,a,d),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,a,d,b={}){return this.style.setPaintProperty(g,a,d,b),this._update(!0)}getPaintProperty(g,a){return this.style.getPaintProperty(g,a)}setLayoutProperty(g,a,d,b={}){return this.style.setLayoutProperty(g,a,d,b),this._update(!0)}getLayoutProperty(g,a){return this.style.getLayoutProperty(g,a)}setLight(g,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,a),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(g){return this._lazyInitEmptyStyle(),!g&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(g),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(g){return this._lazyInitEmptyStyle(),this.style.setFog(g),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(g){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.LngLat.convert(g),this.transform):0}setFeatureState(g,a){return this.style.setFeatureState(g,a),this._update()}removeFeatureState(g,a){return this.style.removeFeatureState(g,a),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}_updateContainerDimensions(){if(!this._container)return;const g=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300;let d,b,x,L=this._container;for(;L&&(!b||!x);){const D=s.window.getComputedStyle(L).transform;D&&D!=="none"&&(d=D.match(/matrix.*\((.+)\)/)[1].split(", "),d[0]&&d[0]!=="0"&&d[0]!=="1"&&(b=d[0]),d[3]&&d[3]!=="0"&&d[3]!=="1"&&(x=d[3])),L=L.parentElement}this._containerWidth=b?Math.abs(g/b):g,this._containerHeight=x?Math.abs(a/x):a}_detectMissingCSS(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const g=this._container;g.classList.add("mapboxgl-map"),(this._missingCSSCanary=C("div","mapboxgl-canary",g)).style.visibility="hidden",this._detectMissingCSS();const a=this._canvasContainer=C("div","mapboxgl-canvas-container",g);this._interactive&&a.classList.add("mapboxgl-interactive"),this._canvas=C("canvas","mapboxgl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const d=this._controlContainer=C("div","mapboxgl-control-container",g),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((x=>{b[x]=C("div",`mapboxgl-ctrl-${x}`,d)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(g,a){const d=s.exported.devicePixelRatio||1;this._canvas.width=d*Math.ceil(g),this._canvas.height=d*Math.ceil(a),this._canvas.style.width=`${g}px`,this._canvas.style.height=`${a}px`}_addMarker(g){this._markers.push(g)}_removeMarker(g){const a=this._markers.indexOf(g);a!==-1&&this._markers.splice(a,1)}_addPopup(g){this._popups.push(g)}_removePopup(g){const a=this._popups.indexOf(g);a!==-1&&this._popups.splice(a,1)}_setupPainter(){const g=s.extend({},k.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),a=this._canvas.getContext("webgl",g)||this._canvas.getContext("experimental-webgl",g);a?(s.storeAuthState(a,!0),this.painter=new pm(a,this.transform),this.on("data",(d=>{d.dataType==="source"&&this.painter.setTileLoadedFlag(!0)})),s.exported$1.testSupport(a)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(g){g.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:g}))}_contextRestored(g){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:g}))}_onMapScroll(g){if(g.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_requestDomTask(g){!this.loaded()||this.loaded()&&!this.isMoving()?g():this._domRenderTaskQueue.add(g)}_render(g){let a;const d=this.painter.context.extTimerQuery,b=s.exported.now();if(this.listens("gpu-timing-frame")&&(a=d.createQueryEXT(),d.beginQueryEXT(d.TIME_ELAPSED_EXT,a)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],s.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],s.window.performance.now())),this._renderTaskQueue.run(g),this._domRenderTaskQueue.run(g),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const P=this.transform.zoom,z=this.transform.pitch,N=s.exported.now(),V=new s.EvaluationParameters(P,{now:N,fadeDuration:x,pitch:z,transition:this.style.getTransition()});this.style.update(V)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let L=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),L=this._updateAverageElevation(b),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):L=this._updateAverageElevation(b),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),a){const P=s.exported.now()-b;d.endQueryEXT(d.TIME_ELAPSED_EXT,a),setTimeout((()=>{const z=d.getQueryObjectEXT(a,d.QUERY_RESULT_EXT)/1e6;d.deleteQueryEXT(a),this.fire(new s.Event("gpu-timing-frame",{cpuTime:P,gpuTime:z})),s.window.performance.mark("frame-gpu",{startTime:b,detail:{gpuTime:z}})}),50)}if(this.listens("gpu-timing-layer")){const P=this.painter.collectGpuTimers();setTimeout((()=>{const z=this.painter.queryGpuTimers(P);this.fire(new s.Event("gpu-timing-layer",{layerTimes:z}))}),50)}if(this.listens("gpu-timing-deferred-render")){const P=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const z=this.painter.queryGpuTimeDeferredRender(P);this.fire(new s.Event("gpu-timing-deferred-render",{gpuTime:z}))}),50)}const D=this._sourcesDirty||this._styleDirty||this._placementDirty||L;if(D||this._repaint)this.triggerRepaint();else{const P=!this.isMoving()&&this.loaded();if(P&&(L=this._updateAverageElevation(b,!0)),L)this.triggerRepaint();else if(this._triggerFrame(!1),P&&(this.fire(new s.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const z=this._calculateSpeedIndex();this.fire(new s.Event("speedindexcompleted",{speedIndex:z})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||D||(this._fullyLoaded=!0,s.LivePerformanceUtils.mark(s.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&s.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(g){for(const a of this._markers)g&&!this.getRenderWorldCopies()&&(a._lngLat=a._lngLat.wrap()),a._update();for(const a of this._popups)!g||this.getRenderWorldCopies()||a._trackPointer||(a._lngLat=a._lngLat.wrap()),a._update()}_updateAverageElevation(g,a=!1){const d=b=>(this.transform.averageElevation=b,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&d(0);if((a||g-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(g)){const b=this.transform.averageElevation;let x=this.transform.sampleAverageElevation(),L=!1;this.transform.elevation&&(L=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=g;const D=Math.abs(b-x);if(D>1){if(this._isInitialLoad||L)return this._averageElevation.jumpTo(x),d(x);this._averageElevation.easeTo(x,g,300)}else if(D>1e-4)return this._averageElevation.jumpTo(x),d(x)}return!!this._averageElevation.isEasing(g)&&d(this._averageElevation.getValue(g))}_authenticate(){s.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(g=>{if(g&&(g.message===s.AUTH_ERR_MSG||g.status===401)){const a=this.painter.context.gl;s.storeAuthState(a,!1),this._logoControl instanceof lf&&this._logoControl._updateLogo(),a&&a.clear(a.DEPTH_BUFFER_BIT|a.COLOR_BUFFER_BIT|a.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),s.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}))}_updateTerrain(){const g=this._isDragging();this.painter.updateTerrain(this.style,g)}_calculateSpeedIndex(){const g=this.painter.canvasCopy(),a=this.painter.getCanvasCopiesAndTimestamps();a.timeStamps.push(performance.now());const d=this.painter.context.gl,b=d.createFramebuffer();function x(L){d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,L,0);const D=new Uint8Array(d.drawingBufferWidth*d.drawingBufferHeight*4);return d.readPixels(0,0,d.drawingBufferWidth,d.drawingBufferHeight,d.RGBA,d.UNSIGNED_BYTE,D),D}return d.bindFramebuffer(d.FRAMEBUFFER,b),this._canvasPixelComparison(x(g),a.canvasCopies.map(x),a.timeStamps)}_canvasPixelComparison(g,a,d){let b=d[1]-d[0];const x=g.length/4;for(let L=0;L<a.length;L++){const D=a[L];let P=0;for(let z=0;z<D.length;z+=4)D[z]===g[z]&&D[z+1]===g[z+1]&&D[z+2]===g[z+2]&&D[z+3]===g[z+3]&&(P+=1);b+=(d[L+2]-d[L+1])*(1-P/x)}return b}remove(){this._hash&&this._hash.remove();for(const a of this._controls)a.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1),s.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const g=this.painter.context.gl.getExtension("WEBGL_lose_context");g&&g.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),s.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(g){this._renderNextFrame=this._renderNextFrame||g,this.style&&!this._frame&&(this._frame=s.exported.frame((a=>{const d=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,d&&this._render(a)})))}_preloadTiles(g){const a=this.style?Object.values(this.style._sourceCaches):[];return s.asyncAll(a,((d,b)=>d._preloadTiles(g,b)),(()=>{this.triggerRepaint()})),this}_onWindowOnline(){this._update()}_onWindowResize(g){this._trackResize&&this.resize({originalEvent:g})._update()}_onVisibilityChange(){s.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(g){this._showTerrainWireframe!==g&&(this._showTerrainWireframe=g,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(g){this._speedIndexTiming!==g&&(this._speedIndexTiming=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(g){this._showTileAABBs!==g&&(this._showTileAABBs=g,g&&this._update())}_setCacheLimits(g,a){s.setCacheLimits(g,a)}get version(){return s.version}},NavigationControl:class{constructor(g){this.options=s.extend({},$h,g),this._container=C("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(a=>a.preventDefault())),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(a=>{this._map&&this._map.zoomIn({},{originalEvent:a})})),C("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(a=>{this._map&&this._map.zoomOut({},{originalEvent:a})})),C("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(a=>{const d=this._map;d&&(this.options.visualizePitch?d.resetNorthPitch({},{originalEvent:a}):d.resetNorth({},{originalEvent:a}))})),this._compassIcon=C("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const g=this._map;if(!g)return;const a=g.getZoom(),d=a===g.getMaxZoom(),b=a===g.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=b,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",b.toString())}_rotateCompassArrow(){const g=this._map;if(!g)return;const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(g.transform.pitch*(Math.PI/180)),.5)}) rotateX(${g.transform.pitch}deg) rotateZ(${g.transform.angle*(180/Math.PI)}deg)`:`rotate(${g.transform.angle*(180/Math.PI)}deg)`;g._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=a)}))}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),g.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&g.on("pitch",this._rotateCompassArrow),g.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ff(g,this._compass,this.options.visualizePitch)),this._container}onRemove(){const g=this._map;g&&(this._container.remove(),this.options.showZoom&&g.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&g.off("pitch",this._rotateCompassArrow),g.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(g,a){const d=C("button",g,this._container);return d.type="button",d.addEventListener("click",a),d}_setButtonTitle(g,a){if(!this._map)return;const d=this._map._getUIString(`NavigationControl.${a}`);g.setAttribute("aria-label",d),g.firstElementChild&&g.firstElementChild.setAttribute("title",d)}},GeolocateControl:class extends s.Evented{constructor(g){super(),this.options=s.extend({geolocation:s.window.navigator.geolocation},fd,g),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=gc(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(g){return this._map=g,this._container=C("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(g){const a=(d=!!this.options.geolocation)=>{this._supportsGeolocation=d,g(d)};this._supportsGeolocation!==void 0?g(this._supportsGeolocation):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then((d=>a(d.state!=="denied"))).catch((()=>a())):a()}_isOutOfMapMaxBounds(g){const a=this._map.getMaxBounds(),d=g.coords;return!!a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(g){if(this._map){if(this._isOutOfMapMaxBounds(g))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",g)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=g,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(g),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(g),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",g)),this._finish()}}_updateCamera(g){const a=new s.LngLat(g.coords.longitude,g.coords.latitude),d=g.coords.accuracy,b=this._map.getBearing(),x=s.extend({bearing:b},this.options.fitBoundsOptions);this._map.fitBounds(a.toBounds(d),x,{geolocateSource:!0})}_updateMarker(g){if(g){const a=new s.LngLat(g.coords.longitude,g.coords.latitude);this._accuracyCircleMarker.setLngLat(a).addTo(this._map),this._userLocationDotMarker.setLngLat(a).addTo(this._map),this._accuracy=g.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const g=this._map.transform,a=s.mercatorZfromAltitude(1,g._center.lat)*g.worldSize,d=Math.ceil(2*this._accuracy*a);this._circleElement.style.width=`${d}px`,this._circleElement.style.height=`${d}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(g){if(this._map){if(this.options.trackUserLocation)if(g.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(g.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",g)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(g){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",(a=>a.preventDefault())),this._geolocateButton=C("button","mapboxgl-ctrl-geolocate",this._container),C("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",g===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}else{const a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",a),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C("div","mapboxgl-user-location"),this._dotElement.appendChild(C("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(C("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new vc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=C("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new vc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(a=>{a.geolocateSource||this._watchState!=="ACTIVE_LOCK"||a.originalEvent&&a.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))}))}}_onDeviceOrientation(g){this._userLocationDotMarker&&(g.webkitCompassHeading?this._heading=g.webkitCompassHeading:g.absolute===!0&&(this._heading=-1*g.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let g;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(g={maximumAge:6e5,timeout:0},this._noTimeout=!0):(g=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,g),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const g=()=>{s.window.addEventListener("ondeviceorientationabsolute"in s.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};s.window.DeviceMotionEvent!==void 0&&typeof s.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then((a=>{a==="granted"&&g()})).catch(console.error):g()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),s.window.removeEventListener("deviceorientation",this._onDeviceOrientation),s.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:sf,ScaleControl:class{constructor(g){this.options=s.extend({},Vh,g),(function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch{return!1}})()||(this._setScale=Uh.bind(this)),s.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const g=this.options.maxWidth||100,a=this._map,d=a._containerHeight/2,b=a._containerWidth/2-g/2,x=a.unproject([b,d]),L=a.unproject([b+g,d]),D=x.distanceTo(L);if(this.options.unit==="imperial"){const P=3.2808*D;P>5280?this._setScale(g,P/5280,"mile"):this._setScale(g,P,"foot")}else this.options.unit==="nautical"?this._setScale(g,D/1852,"nautical-mile"):D>=1e3?this._setScale(g,D/1e3,"kilometer"):this._setScale(g,D,"meter")}_setScale(g,a,d){const b=wc(a),x=b/a;this._map._requestDomTask((()=>{this._container.style.width=g*x+"px",this._container.innerHTML=d!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:d}).format(b):`${b}&nbsp;nm`}))}onAdd(g){return this._map=g,this._language=g.getLanguage(),this._container=C("div","mapboxgl-ctrl mapboxgl-ctrl-scale",g.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(g){this._language=g,this._update()}setUnit(g){this.options.unit=g,this._update()}},FullscreenControl:class{constructor(g){this._fullscreen=!1,g&&g.container&&(g.container instanceof s.window.HTMLElement?this._container=g.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in s.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=C("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!s.window.document.fullscreenEnabled&&!s.window.document.webkitFullscreenEnabled)}_setupUI(){const g=this._fullscreenButton=C("button","mapboxgl-ctrl-fullscreen",this._controlContainer);C("span","mapboxgl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",g)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(s.window.document.fullscreenElement||s.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.Evented{constructor(g){super(),this.options=s.extend(Object.create(dd),g),s.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(g&&g.className?g.className.trim().split(/\s+/):[])}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&g.on("preclick",this._onClose),this.options.closeOnMove&&g.on("move",this._onClose),g.on("remove",this.remove),this._update(),g._addPopup(this),this._focusFirstElement(),this._trackPointer?(g.on("mousemove",this._onMouseEvent),g.on("mouseup",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")):g.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const g=this._map;return g&&(g.off("move",this._update),g.off("move",this._onClose),g.off("preclick",this._onClose),g.off("click",this._onClose),g.off("remove",this.remove),g.off("mousemove",this._onMouseEvent),g.off("mouseup",this._onMouseEvent),g.off("drag",this._onMouseEvent),g._canvasContainer&&g._canvasContainer.classList.remove("mapboxgl-track-pointer"),g._removePopup(this),this._map=void 0),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(g){this._lngLat=s.LngLat.convert(g),this._pos=null,this._trackPointer=!1,this._update();const a=this._map;return a&&(a.on("move",this._update),a.off("mousemove",this._onMouseEvent),a._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const g=this._map;return g&&(g.off("move",this._update),g.on("mousemove",this._onMouseEvent),g.on("drag",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(s.window.document.createTextNode(g))}setHTML(g){const a=s.window.document.createDocumentFragment(),d=s.window.document.createElement("body");let b;for(d.innerHTML=g;b=d.firstChild,b;)a.appendChild(b);return this.setDOMContent(a)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){let a=this._content;if(a)for(;a.hasChildNodes();)a.firstChild&&a.removeChild(a.firstChild);else a=this._content=C("div","mapboxgl-popup-content",this._container||void 0);if(a.appendChild(g),this.options.closeButton){const d=this._closeButton=C("button","mapboxgl-popup-close-button",a);d.type="button",d.setAttribute("aria-label","Close popup"),d.setAttribute("aria-hidden","true"),d.innerHTML="&#215;",d.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(g){return this._classList.add(g),this._updateClassList(),this}removeClassName(g){return this._classList.delete(g),this._updateClassList(),this}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){let a;return this._classList.delete(g)?a=!1:(this._classList.add(g),a=!0),this._updateClassList(),a}_onMouseEvent(g){this._update(g.point)}_getAnchor(g){if(this.options.anchor)return this.options.anchor;const a=this._map,d=this._container,b=this._pos;if(!a||!d||!b)return"bottom";const x=d.offsetWidth,L=d.offsetHeight,D=b.x<x/2,P=b.x>a.transform.width-x/2;if(b.y+g<L)return D?"top-left":P?"top-right":"top";if(b.y>a.transform.height-L){if(D)return"bottom-left";if(P)return"bottom-right"}return D?"left":P?"right":"bottom"}_updateClassList(){const g=this._container;if(!g)return;const a=[...this._classList];a.push("mapboxgl-popup"),this._anchor&&a.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&a.push("mapboxgl-popup-track-pointer"),g.className=a.join(" ")}_update(g){const a=this._map,d=this._content;if(!a||!this._lngLat&&!this._trackPointer||!d)return;let b=this._container;if(b||(b=this._container=C("div","mapboxgl-popup",a.getContainer()),this._tip=C("div","mapboxgl-popup-tip",b),b.appendChild(d)),this.options.maxWidth&&b.style.maxWidth!==this.options.maxWidth&&(b.style.maxWidth=this.options.maxWidth),a.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=cf(this._lngLat,this._pos,a.transform)),!this._trackPointer||g){const x=this._pos=this._trackPointer&&g?g:a.project(this._lngLat),L=df(this.options.offset),D=this._anchor=this._getAnchor(L.y),P=df(this.options.offset,D),z=x.add(P).round();a._requestDomTask((()=>{this._container&&D&&(this._container.style.transform=`${Pa[D]} translate(${z.x}px,${z.y}px)`)}))}if(!this._marker&&a._showingGlobe()){const x=s.isLngLatBehindGlobe(a.transform,this._lngLat)?0:1;this._setOpacity(x)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(Oa);g&&g.focus()}_onClose(){this.remove()}_setOpacity(g){this._container&&(this._container.style.opacity=`${g}`),this._content&&(this._content.style.pointerEvents=g?"auto":"none")}},Marker:vc,Style:Q,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,FreeCameraOptions:Iu,Evented:s.Evented,config:s.config,prewarm:function(){Kr().acquire(Yr)},clearPrewarmedResources:function(){const g=Cr;g&&(g.isPreloaded()&&g.numActive()===1?(g.release(Yr),Cr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(g){s.config.ACCESS_TOKEN=g},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(g){s.config.API_URL=g},get workerCount(){return Or.workerCount},set workerCount(g){Or.workerCount=g},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(g){s.config.MAX_PARALLEL_IMAGE_REQUESTS=g},clearStorage(g){s.clearTileCache(g)},workerUrl:"",workerClass:null,setNow:s.exported.setNow,restoreNow:s.exported.restoreNow};return Ks}));var M=h;return M}))})(bx)),bx.exports}var FK=RK();const zK=Ct(FK),YK={mapboxgl:zK};var BK={};const jK={...O_,$on(e,r){bb.on(e,r)},$once(e,r){bb.once(e,r)},$emit(e,...r){e&&bb.emit(e,...r)},$off(e,r){bb.off(e,r)},front:{},$focus:null,env:"production",async initFront({router:e,store:r}){this.front.router=e,this.$store=r,this.wwLog.init(),wwLib.logStore.verbose("Starting the application..."),await this.wwWebsiteData.init(),this.wwLang.init(e),wwLib.wwPluginHelper.registerPlugin("plugin-29809245-a5ea-4687-af79-952998abab22",c8),wwLib.wwPluginHelper.registerPlugin("plugin-832d6f7a-42c3-43f1-a3ce-9a678272f811",fX),wwLib.wwPluginHelper.registerPlugin("plugin-00d22f72-1a03-44f8-ad68-c593dc80b543",wX),wwLib.wwPluginHelper.registerPlugin("plugin-f5856798-485d-47be-b433-d43d771c64e1",xX),wwLib.wwPluginHelper.registerPlugin("plugin-2bd1c688-31c5-443e-ae25-59aa5b6431fb",fK),wwLib.wwPluginHelper.registerPlugin("plugin-cd33cf33-e29f-4e8c-ac26-b997fe507ce7",AK),wwLib.wwPluginHelper.registerPlugin("plugin-fbf0feec-356b-461b-8738-3b1f44edaf02",PK),wwLib.wwPluginHelper.registerPlugin("plugin-2adce8d5-2056-479d-a21a-068f55a8077f",YK),O_.scrollStore.start(),O_.keyboardEventStore.start()},getResponsiveStyleProp({store:e,style:r,uid:n,states:l=[],prop:p}){if(e=e||wwLib.getFrontWindow().wwLib.$store,!r&&n){const s=this.$store.getters["websiteData/getWwObjects"][n];if(!s)return"";r=(s._state||{}).style||{}}const h=e.getters["front/getScreenSizes"],c=e.getters["front/getScreenSize"];let M="";for(const s in h)if(r[s]&&typeof r[s][p]<"u"&&(M=r[s][p]),s===c)break;for(const s of l)for(const E in h)if(r[`${s}_${E}`]&&r[`${s}_${E}`][p]&&(M=r[`${s}_${E}`][p]),E===c)break;return M},globalContext:Mi({page:fr(()=>{const e=wwLib.$store.getters["websiteData/getPage"];if(e){if(!e.cmsDataSetPath)return{...DS(e)}}else return{};return{...DS(e),data:wwLib.$store.getters["data/getPageCollectionData"]}}),pageParameters:fr(()=>{const e=Object.values(wwLib.$store.getters["data/getPageParameterVariables"]),r={};for(const n of e)r[n.id]=n.value;return r}),pages:fr(()=>{const e=wwLib.$store.getters["websiteData/getPages"],r={};for(const n of e)r[n.id]=DS(n);return r}),colors:fr(()=>wwLib.$store.getters["front/getTheme"]==="dark"?{"d583dab0-976b-4da1-bfe4-5d77c69bd0a9":"#323927","e54df739-214a-4371-8c62-0ae9d52b352e":"#93968B","8b8679df-39d5-4f5c-9040-857e0b04c522":"#D4F872","df022159-ebf4-41c4-8ec3-7ff2833acfca":"#F5F3EF","52fd7d3f-f17d-486a-af7e-ee9c7bf2191d":"#F5F3EF","309b3c1b-bc99-44fe-9d7b-91bd1ef0397c":"#ffffff","50d2262e-18d4-4a21-9bd7-891e0b3b8c91":"#FBFAF9","1068cd25-2525-4750-b644-f5c9aef406c5":"#282E1F","a1e96398-1426-4925-8af6-ff8d0275774a":"#CECEC7","ef86019f-7240-41a6-bb75-781f554bd436":"#9FA8FE33","e3e6e43c-39e8-44e1-9dd9-b5d0dae579e2":"#000000"}:{"d583dab0-976b-4da1-bfe4-5d77c69bd0a9":"#323927","e54df739-214a-4371-8c62-0ae9d52b352e":"#93968B","8b8679df-39d5-4f5c-9040-857e0b04c522":"#D4F872","df022159-ebf4-41c4-8ec3-7ff2833acfca":"#F5F3EF","52fd7d3f-f17d-486a-af7e-ee9c7bf2191d":"#F5F3EF","309b3c1b-bc99-44fe-9d7b-91bd1ef0397c":"#ffffff","50d2262e-18d4-4a21-9bd7-891e0b3b8c91":"#FBFAF9","1068cd25-2525-4750-b644-f5c9aef406c5":"#282E1F","a1e96398-1426-4925-8af6-ff8d0275774a":"#CECEC7","ef86019f-7240-41a6-bb75-781f554bd436":"#9FA8FE33","e3e6e43c-39e8-44e1-9dd9-b5d0dae579e2":"#000000"}),spacings:{},typographies:{"304e4f37-d96e-4ad5-8f51-713cbf12207f":"600 64px/77px var(--ww-default-font-family, sans-serif)","72a46fd1-0c62-415e-b0e6-1408eb3d1040":"500 32px/38px var(--ww-default-font-family, sans-serif)","3045682c-6174-4c67-9916-d1ab6d7d64de":"500 24px/32px var(--ww-default-font-family, sans-serif)","a44bfa8c-0e71-4313-87ae-4cbfed1c88c7":"500 24px/29px var(--ww-default-font-family, sans-serif)","f9950655-1c82-4ccb-8477-6299fada3136":"400 18px/24px var(--ww-default-font-family, sans-serif)","788ae87b-314d-46ce-8bea-1b9e85e28c1a":"500 16px/22px var(--ww-default-font-family, sans-serif)","55ba678e-e690-4cf8-99dc-09aef7dc16f3":"500 14px/20px var(--ww-default-font-family, sans-serif)","43a85feb-d089-4268-bd3b-ae5804dcd79b":"500 12px/18px var(--ww-default-font-family, sans-serif)","44fad8a2-1e91-4ffc-a01a-9b10d7ce0e4d":"500 24px/36px var(--ww-default-font-family, sans-serif)","1bfd3c85-215a-42f2-aa70-8f13806723ac":"500 18px/27px var(--ww-default-font-family, sans-serif)","172e4144-7cc7-43c1-837f-c67b2ac74c54":"500 14px/21px var(--ww-default-font-family, sans-serif)","0f40eef7-5314-4973-8b12-0d0e0a270024":"600 32px/120% var(--ww-default-font-family, sans-serif)","2d2a6a18-0a0d-4b86-8efb-6c98daa2e3dd":"600 24px/120% var(--ww-default-font-family, sans-serif)","fb13e5e8-1217-4e09-b2dd-183100dd814b":"600 18px/120% var(--ww-default-font-family, sans-serif)","9c389000-e9c4-45ce-a3c0-f9051a8eafe4":"500 16px/150% var(--ww-default-font-family, sans-serif)","fc6ff9ac-7a17-4600-b5da-6cf503a5056b":"500 14px/150% var(--ww-default-font-family, sans-serif)","5f02ea85-a0f0-466b-b964-3bbaeb7e05ff":"500 12px/150% var(--ww-default-font-family, sans-serif)","cc120755-63d6-4277-8df9-f0ad5f386f4e":"600 24px/120% var(--ww-default-font-family, sans-serif)","09f8874d-ffca-476e-9647-e331a76858fb":"600 16px/150% var(--ww-default-font-family, sans-serif)","30f7abfe-92a3-4b23-908f-6ed85d36ca8f":"600 14px/150% var(--ww-default-font-family, sans-serif)","acde405d-b1c5-4894-9c25-bd503a411a2a":"600 12px/150% var(--ww-default-font-family, sans-serif)","96da0e7f-9896-479e-97ec-43946e650a67":"600 48px/57px var(--ww-default-font-family, sans-serif)","8b9fe1f4-4c08-43df-9e81-ff5783cb482b":"600 18px/150% var(--ww-default-font-family, sans-serif)"},browser:fr(()=>{const r=(wwLib.manager?wwLib.getEditorRouter():wwLib.getFrontRouter()).currentRoute.value;let n=r.query;return{url:window.location.origin+r.fullPath,path:r.path,source:n._source,query:n,domain:window.location.hostname,baseUrl:window.location.origin,breakpoint:wwLib.$store.getters["front/getScreenSize"],environment:wwLib.getEnvironment(),theme:wwLib.$store.getters["front/getTheme"]}}),screen:O_.scrollStore.screen,componentPositionInfo:O_.scrollStore.componentPositionInfo}),pageData:fr(()=>{const e=wwLib.$store.getters["front/getLang"];return wwLib.$store.getters["websiteData/getPage"].cmsDataSetPath?{lang:e,data:wwLib.$store.getters["data/getPageCollectionData"]}:{lang:e}}),getEnvironment(){return wwLib.manager?"editor":window.location.host.includes("-staging."+(BK.WW_ENV==="staging"?"weweb-preview.io":""))?"staging":window.location.host.includes("weweb-preview.io")?"preview":"production"},useBaseTag(){return wwLib.getEnvironment()==="production"&&window.wwg_designInfo.baseTag&&window.wwg_designInfo.baseTag.href},getBaseTag(){var r;let e=((r=window.wwg_designInfo.baseTag)==null?void 0:r.href)||"";return e.startsWith("/")||(e="/"+e),e.endsWith("/")||(e+="/"),e},getFrontWindow(){return document.querySelector(".ww-manager-iframe")?document.querySelector(".ww-manager-iframe").contentWindow:window},getFrontDocument(){return this.getFrontWindow().document},getFrontRouter(){return this.front.router},getEditorWindow(){return null},getEditorDocument(){return null},getEditorRouter(){return this.editor.router},goTo(...e){wwLib.wwLog.warn("wwLib.goTo is DEPRECATED, use wwLib.wwApp.goTo instead"),wwLib.wwApp.goTo(...e)},getStyleFromToken(...e){return wwLib.wwUtils.getStyleFromToken(...e)},getTypoFromToken(...e){return wwLib.wwUtils.getTypoFromToken(...e)},element(e){return wwLib.wwLog.warn("wwLib.element is DEPRECATED"),typeof e=="object"?{isWwObject:!0,...e}:{isWwObject:!0,type:e}},resolveObjectPropertyPath(...e){return wwLib.wwUtils.resolveObjectPropertyPath(...e)},getTextStyleFromContent(...e){return wwLib.wwUtils.getTextStyleFromContent(...e)},async executeWorkflow(...e){return wwLib.wwLog.warn("wwLib.executeWorkflow is DEPRECATED, use wwLib.wwWorkflow.executeGlobal instead"),wwLib.wwWorkflow.executeGlobal(...e)},findParentUidByFlag(...e){return wwLib.wwLog.warn("wwLib.wwEditor.findParentUidByFlag is DEPRECATED, use wwLib.findParentUidByFlag instead"),wwLib.wwEditor.findParentUidByFlag(...e)},selectParentByFlag(...e){return wwLib.wwLog.warn("wwLib.wwEditor.selectParentByFlag is DEPRECATED, use wwLib.selectParentByFlag instead"),wwLib.wwEditor.selectParentByFlag(...e)},useCreateElement(){return wwLib.wwLog.warn("wwLib.useCreateElement is DEPRECATED, use wwLib.wwElement.useCreate instead"),this.wwElement.useCreate()},useLayoutStyle(){return wwLib.wwLog.warn("wwLib.useLayoutStyle is DEPRECATED, use wwLib.wwElement.useLayoutStyle instead"),wwLib.wwElement.useLayoutStyle()},useIcons(){return{getIcon:u8().getIcon}}};function DS(e){const r=["id","name","folder","metaImage","pageLoaded","paths","langs","meta","title","sections","pageUserGroups"],n={};r.forEach(p=>{n[p]=e[p]}),n.meta&&delete n.meta.__typename;for(const p of n.sections||[])delete p.__typename;const l=wwLib.$store.getters["front/getLang"];return n.paths?n.path=n.paths[l]||n.paths.default:n.path=null,n.lang=l,n}function $K({path:e}){var k,R,F,C,B,G,Z,K,te,se,_e,Me,he;const r=Br("componentData",Oi({})),n=Br("componentState",Oi({}));if(!hn.get((R=(k=r.value)==null?void 0:k._state)==null?void 0:R.libraryComponentInjected,"content."+jo(e)))return;const p=(F=r==null?void 0:r.value)==null?void 0:F.parentLibraryComponentId,h=Br("_wwLibraryComponentLayers",{}),c=Br("_wwLibraryComponentContext",{});Br("bindingContext",null)||An("bindingContext",(B=(C=h==null?void 0:h[p])==null?void 0:C.savedContext)==null?void 0:B.bindingContext),An("_wwLibraryComponentContext",(Z=(G=h==null?void 0:h[p])==null?void 0:G.savedContext)==null?void 0:Z.libraryComponentContext);const s=Mi({data:fr(()=>{var Ge;return(Ge=n==null?void 0:n.dropzoneContext)==null?void 0:Ge.data}),libraryComponentId:p,parent:(te=(K=h==null?void 0:h[p])==null?void 0:K.savedContext)==null?void 0:te.dropzoneContext,methods:{executeWorkflow:(_e=(se=c==null?void 0:c.component)==null?void 0:se.methods)==null?void 0:_e.executeWorkflow}});An("_wwDropzoneContext",s);const E=(he=(Me=h==null?void 0:h[p])==null?void 0:Me.savedContext)==null?void 0:he.localContext;An("_wwLocalContext",E)}const VK={mounted(){}};function UK(e,r,n,l,p,h){return fi(),cl("div",null,[Wc(e.$slots,"default")])}const f3=$o(VK,[["render",UK]]),NK={props:{index:{type:Number,required:!0},item:{type:[Object,null],default:null},data:{type:void 0,default:null},isRepeat:{type:Boolean,default:!1},repeatedItems:{type:[Array,null],default:null}},setup(e){const r=oc(e,"index");if(e.isRepeat){const n=Br("bindingContext",null),l=Mi({parent:n,data:oc(e,"data"),index:r,repeatIndex:r,isACopy:fr(()=>n&&n.isACopy||e.index>0),repeatedItems:oc(e,"repeatedItems")});An("bindingContext",l)}}};function HK(e,r,n,l,p,h){return Wc(e.$slots,"default")}const h3=$o(NK,[["render",HK]]),qK={marginTop:"auto"},GK={marginLeft:"auto"};let WK=1;const ZK={name:"wwLayout",components:{wwLayoutItem:f3,wwLayoutItemContext:h3},props:{path:{type:String,required:!1,default:void 0},tag:{type:String,default:"div"},direction:{type:String,default:null},disableDragDrop:{type:Boolean,default:!1},disableEdit:{type:Boolean,default:!1}},emits:["update:list"],setup(e,{emit:r}){const n=WK++,l=Br("_wwElementUid",null);Br("_wwElementComponentId",null);const p=Br("sectionId",null),h=Br("bindingContext",null),c=Br("componentContent"),M=Br("componentStyle"),s=Br("componentConfiguration"),E=Br("componentWwProps"),{rawProperty:k,property:R}=C6(oc(e,"path"));$K({path:oc(e,"path")});const F=fr(()=>k.value&&!!k.value.__wwtype),C=fr(()=>!F.value||!R.value?null:Array.isArray(R.value)?R.value:R.value.data&&Array.isArray(R.value.data)?R.value.data:null),B=fr(()=>{const{__wwtype:he,repeatable:Ge}=k.value||{};return(he?Ge:R.value)||[]}),G=fr(()=>!F.value||!R.value||Array.isArray(R.value)||!R.value.limit||!R.value.total?null:R.value),Z=fr(()=>G.value&&parseInt(G.value.offset)||0),K=fr(()=>{if(!F.value)return B.value.length;if(G.value)if(C.value){const he=Math.min(Z.value+parseInt(wwLib.wwFormula.getValue(G.value.limit)),G.value.total||0),Ge=Math.max(he-Z.value,0);return isNaN(Ge)?0:Ge}else return 0;return C.value?C.value.length:0}),te={content:c,wwProps:E};let se;se=K;const _e=fr(()=>e.direction?{flexDirection:e.direction,display:"flex",justifyContent:"center",alignItems:"center"}:dg(s,"ww-layout")?zR(c,M,s,te):{}),Me=fr(()=>p0(M.display,s,te));return An("__wwContainerType",Me),{layoutId:n,layoutStyle:_e,parentElementUid:l,sectionId:p,rawProperty:k,property:R,bindingContext:h,isBound:F,boundData:C,length:K,internalList:B,offset:Z,paginationOptions:G,componentContent:c,componentStyle:M,restrictedLength:se}},computed:{},watch:{},methods:{getItemStyle(e){if(this.componentContent["_ww-layout_pushLast"])return(this.componentContent["_ww-layout_reverse"]?e===0:e===this.restrictedLength-1)?this.componentContent["_ww-layout_flexDirection"]==="column"?qK:GK:void 0}}};function XK(e,r,n,l,p,h){const c=ta("wwElement"),M=ta("wwLayoutItemContext");return fi(),_o(Eg(n.tag),{class:wh(["ww-layout",{}]),"data-ww-layout-id":l.layoutId,style:Jc(l.layoutStyle)},{default:ac(()=>[Wc(e.$slots,"header"),l.internalList[0]?(fi(!0),cl(ko,{key:0},J_(l.restrictedLength,s=>(fi(),_o(M,{key:l.isBound?`${l.internalList[0].uid}_${s-1}`:`${l.internalList[s-1].uid}`,index:l.offset+s-1,item:l.isBound?l.internalList[0]:l.internalList[s-1],"is-repeat":l.isBound,data:l.isBound&&l.boundData?l.boundData[l.offset+s-1]:null,"repeated-items":l.boundData},{default:ac(()=>[Wc(e.$slots,"default",fl({ref_for:!0},{item:l.isBound?l.internalList[0]:l.internalList[s-1],index:l.offset+s-1,data:l.isBound&&l.boundData?l.boundData[l.offset+s-1]:null,layoutId:l.layoutId,itemStyle:h.getItemStyle(s-1)}),()=>[go(c,fl({ref_for:!0},l.isBound?l.internalList[0]:l.internalList[s-1],{"extra-style":h.getItemStyle(s-1)}),null,16,["extra-style"])])]),_:2},1032,["index","item","is-repeat","data","repeated-items"]))),128)):Hd("",!0)]),_:3},8,["data-ww-layout-id","style"])}const KK=$o(ZK,[["render",XK]]),JK={props:{data:{type:void 0,default:null},methods:{type:Object,default:()=>{}},markdown:{type:String,default:""},elementKey:{type:String,default:"elementKey"}},setup(e){const r=Br("_wwLocalContext",null),n=fr(()=>{var l,p,h;return{data:{...((l=r==null?void 0:r.value)==null?void 0:l.data)||{},[e.elementKey]:e.data},methods:{...((p=r==null?void 0:r.value)==null?void 0:p.methods)||{},[e.elementKey]:e.methods},markdown:{...((h=r==null?void 0:r.value)==null?void 0:h.markdown)||{},[e.elementKey]:e.markdown}}});An("_wwLocalContext",n)}};function QK(e,r,n,l,p,h){return Wc(e.$slots,"default")}const eJ=$o(JK,[["render",QK]]),tJ={name:"wwLinkPopup",props:{content:Object,background:Object,sectionId:String},setup(e){return An("sectionId",e.sectionId),An("_wwCanInteract",Oi({canInteract:!0})),An("_wwCanBeEdited",Oi(!0)),An("dragZoneId","linkPopup"),{}},computed:{backgroundStyle(){let e={};return this.background?typeof this.background=="object"?this.background.type==="none"?{}:this.background.type==="gradient"&&this.background.value&&this.background.value.value?{backgroundImage:this.background.value.value}:{backgroundColor:this.background.value}:this.background.startsWith("var")?{backgroundColor:this.background}:this.background.includes("gradient")?{backgroundImage:this.background}:{backgroundColor:this.background}:e}},methods:{close(){wwLib.$store.dispatch("front/closeActiveLinkPopup",null)},handleWwObjectClick(e){this.$refs.wwObject.$el===e.target&&this.close()}}},rJ=["data-section-uid"],nJ={class:"ww-link-popup__content"};function iJ(e,r,n,l,p,h){const c=ta("wwObject");return fi(),cl("div",{class:"ww-link-popup",style:Jc(h.backgroundStyle),"ww-responsive":"ww-link-bg","data-section-uid":n.sectionId},[Zc("div",{class:"ww-link-popup__background",onClick:r[0]||(r[0]=M=>h.close())}),Zc("div",nJ,[go(c,fl({ref:"wwObject"},n.content,{onClick:h.handleWwObjectClick}),null,16,["onClick"])])],12,rJ)}const oJ=$o(tJ,[["render",iJ],["__scopeId","data-v-25e33e41"]]),aJ={name:"wwElement",components:{wwElementComponent:IR,wwLibraryComponent:OR},inheritAttrs:!1,props:{uid:{type:String,required:!0}},setup(e){var r,n;return{isLibraryComponent:!!((r=wwLib.$store.getters["websiteData/getWwObjects"][e.uid])!=null&&r.libraryComponentBaseId),parentKey:`${(n=wwLib.$store.getters["websiteData/getWwObjects"][e.uid])==null?void 0:n.parentLibraryComponentId}`}},computed:{componentRef(){return this.$refs.elementComponent?this.$refs.elementComponent.$refs.component:null}}};function sJ(e,r,n,l,p,h){const c=ta("wwLibraryComponent"),M=ta("wwElementComponent");return l.isLibraryComponent?(fi(),_o(c,fl({key:n.uid,uid:n.uid},e.$attrs),null,16,["uid"])):(fi(),_o(M,fl({key:1,ref:"elementComponent"},e.$attrs,{key:`${n.uid}_${l.parentKey}`,uid:n.uid}),{default:ac(()=>[Wc(e.$slots,"default")]),_:3},16,["uid"]))}const TI=$o(aJ,[["render",sJ]]),lJ={name:"wwSectionComponent",components:{},props:{uid:{type:String,required:!0},index:{type:Number,required:!0}},setup(e){const r=xx(null),n=xx(null);An("sectionId",e.uid),An("dragZoneId",e.uid);const{currentStates:l,addInternalState:p,removeInternalState:h,toggleInternalState:c}=JL({uid:e.uid,type:"section"},{context:{},propsState:oc(e,"states")}),M=fr(()=>s["_ww-layout_alignItems"]==="stretch"&&s["_ww-layout_flexDirection"]==="column");An("__wwIsInStretchedSection",M);const{content:s,style:E,state:k,configuration:R,name:F}=XL({type:"section",uid:e.uid,currentStates:l}),C=fr(()=>E.conditionalRendering);Ao(C,K=>{K||h("_wwHover",!0)});const{listeners:B,triggerEvent:G}=KL({state:k,componentIdentifier:{type:"section",uid:e.uid},isRenderingRef:C}),Z=Mi({uid:e.uid,name:F,states:l});return DR(k,wwLib.$store.getters["websiteData/getPageId"]),TR({uid:e.uid,type:"section"},{configuration:R,componentRef:r}),{rootElement:n,component:r,content:s,style:E,state:k,configuration:R,listeners:B,triggerEvent:G,addInternalState:p,removeInternalState:h,toggleInternalState:c,vueComponentName:NL("section",e.uid),wwSectionState:Z,wwFrontState:Br("wwFrontState"),anchorId:fr(()=>{const{sectionTitle:K}=wwLib.$store.getters["websiteData/getSections"][e.uid]||{};return wwLib.wwUtils.sanitize(K)}),isRendering:C,containerStyle:fr(()=>{let K={height:js(E.height,"auto"),aspectRatio:E.aspectRatio,margin:E.margin,zIndex:E.zIndex||"unset",overflow:E.overflow,opacity:E.opacity};if(K.minHeight=js(E.minHeight),K.maxHeight=js(E.maxHeight),K.display=p0(E.display,R,{content:s}),E.position==="sticky"||E.position==="fixed"||E.position==="absolute"){K.position=E.position;const te=E.top||E.bottom||E.left||E.right;K.top=E.top||(te?null:"0px"),K.bottom=E.bottom,K.left=E.left,K.right=E.right,K.width=E.position!=="sticky"||!te?js(E.width,void 0):void 0}K.background=UL(E),E.cursor&&(K.cursor=E.cursor),["transition","transform"].forEach(te=>{E[te]&&(K[te]=E[te])});for(const te in E.customCss||{})K[te]=E.customCss[te];return K})}},computed:{elementStyle(){const e={width:js(this.style.width,"100%"),padding:this.style.padding};e.maxWidth=js(this.style.maxWidth),e.minWidth=js(this.style.minWidth),e.minHeight=js(this.style.minHeight),e.maxHeight=js(this.style.maxHeight),["border","borderTop","borderBottom","borderLeft","borderRight","borderRadius","boxShadow","transition","transform"].forEach(l=>{this.style[l]&&(e[l]=this.style[l])});let r=this.style.perspective||0;return wwLib.wwUtils.getLengthUnit(r)[0]&&(e.perspective=r),e},backgroundVideo(){return!dg(this.configuration,"ww-background-video")||!this.content["_ww-backgroundVideo"]?null:{url:this.content["_ww-backgroundVideo"],loop:this.content["_ww-backgroundVideoLoop"],poster:this.content["_ww-backgroundVideoPoster"],preload:this.content["_ww-backgroundVideoPreload"],size:this.content["_ww-backgroundVideoSize"]}},componentAttributes(){let e={...this.listeners};if(this.state.attributes)try{for(const r of this.state.attributes.filter(n=>n.name))e[r.name.replace(/ /g,"")]=r.value}catch{wwLib.wwLog.warn(`Attributes is missbind for section ${h0("section",this.uid)} (${this.uid})`)}return this.state.id&&(e.id=this.state.id),e}},methods:{onTriggerEvent({name:e,event:r}={}){this.triggerEvent(e,r)},onMouseEnter(){this.addInternalState("_wwHover",!0)},onMouseLeave(){this.removeInternalState("_wwHover",!0)}}},uJ=["data-section-uid"],cJ=["id"];function dJ(e,r,n,l,p,h){const c=ta("wwBackgroundVideo");return l.isRendering?(fi(),cl("div",{key:0,ref:"rootElement",style:Jc(l.containerStyle),"ww-responsive":"ww-section",class:wh(["ww-section",[`ww-section-${n.uid}`]]),"data-section-uid":n.uid,onMouseenter:r[0]||(r[0]=(...M)=>h.onMouseEnter&&h.onMouseEnter(...M)),onMouseleave:r[1]||(r[1]=(...M)=>h.onMouseLeave&&h.onMouseLeave(...M))},[h.backgroundVideo?(fi(),_o(c,{key:0,video:h.backgroundVideo},null,8,["video"])):Hd("",!0),Zc("div",{id:l.anchorId,class:"hash-anchor"},null,8,cJ),(fi(),_o(Eg(l.vueComponentName),fl({ref:"component",class:["ww-section-element",[l.state.class||""]]},h.componentAttributes,{style:h.elementStyle,"ww-responsive":"ww-section-element",content:l.content,uid:n.uid,"ww-section-state":l.wwSectionState,"ww-front-state":l.wwFrontState,onTriggerEvent:h.onTriggerEvent,onAddState:l.addInternalState,onRemoveState:l.removeInternalState,onToggleState:l.toggleInternalState}),null,16,["class","style","content","uid","ww-section-state","ww-front-state","onTriggerEvent","onAddState","onRemoveState","onToggleState"]))],46,uJ)):Hd("",!0)}const fJ=$o(lJ,[["render",dJ],["__scopeId","data-v-140d60c3"]]),hJ={name:"wwSection",components:{wwSectionComponent:fJ},inheritAttrs:!1,props:{uid:{type:String,required:!0}}};function pJ(e,r,n,l,p,h){const c=ta("wwSectionComponent");return fi(),_o(c,fl({key:n.uid,uid:n.uid},e.$attrs),null,16,["uid"])}const mJ=$o(hJ,[["render",pJ]]),_J={name:"BackgroundVideo",props:{video:{type:Object,required:!0}},computed:{poster(){return this.video.poster?`${this.video.poster}`:""},attributes(){const e={src:this.video.url,poster:this.poster};return this.video.loop&&(e.loop=!0),this.video.preload&&(e.preload=!0),this.video.size==="contain"?e.style={"max-height":"100%","max-width":"100%"}:e.style={width:"100%",height:"100%","object-fit":"cover"},e}},mounted(){this.interval=setInterval(()=>{const e=this.$refs.video;e.readyState===4&&(e.muted=!0,e.play(),clearInterval(this.interval))},1e3)},unmounted(){clearInterval(this.interval)}},gJ={class:"ww-background-video"};function yJ(e,r,n,l,p,h){return fi(),cl("div",gJ,[Zc("video",fl({ref:"video",muted:"",autoplay:"",playsinline:""},h.attributes,{"ww-responsive":"video"}),null,16)])}const bJ=$o(_J,[["render",yJ],["__scopeId","data-v-a855411b"]]),vJ={props:{link:{type:[Object,String,Number],default:void 0}},setup(e){const{tag:r,properties:n,normalizedLink:l,hasLink:p}=wwLib.wwElement.useLink({isLinkInjected:!1,forcedLinkRef:oc(e,"link")});return{tag:fr(()=>p.value?r.value:"span"),properties:n,normalizedLink:l}}};function wJ(e,r,n,l,p,h){return fi(),_o(Eg(l.tag),fl(l.properties,{class:"text-link"}),{default:ac(()=>[Wc(e.$slots,"default",{},void 0,!0)]),_:3},16)}const xJ=$o(vJ,[["render",wJ],["__scopeId","data-v-165a3ce2"]]);function p3(e,r){const n=e.nodeName.toLowerCase();if(n==="#comment")return;if(n==="#text")return e.textContent;if(n==="script")return null;const l=Array.from(e.childNodes).map(h=>p3(h,r)).filter(h=>!!h);let p={};if(e.attributes)for(let h of e.attributes)h.nodeName.includes("data-ww-link")||(p[h.nodeName]=h.nodeValue);return e.hasAttribute("data-ww-link-id")?rm(xJ,{link:r.links[e.getAttribute("data-ww-link-id")],...p},{default:()=>l}):rm(n,p,l)}const MJ={props:{text:{type:String,required:!0},links:{type:Object,default:()=>({})},tag:{type:String,default:"div"}},computed:{isEditing(){return!1}},render(){let e=this.text;e=e.replace(/<p>/g,"<div>"),e=e.replace(/<\/p>/g,"</div>"),e=e.replace(/<br><\/div>/g,"<br>"),e=e.replace(/<\/div><div>/g,"<br>"),e=e.replace(/\n/g,"<br>"),e=e.replace(/<\/div>/g,""),e=e.replace(/<div>/g,""),e=e.replace(/\u2028/g," ");const r=document.createElement("div");r.innerHTML=e;const n=Array.from(r.childNodes).map(p=>p3(p,{links:this.links,isEditing:this.isEditing})).filter(p=>!!p),l=["div","span","p","h1","h2","h3","h4","h5","h5","button"].includes(this.tag)?this.tag:ta(this.tag);return rm(l,{class:{"ww-text-content":!0,editing:this.isEditing},type:this.tag==="button"?"button":null},n)}},SJ=$o(MJ,[["__scopeId","data-v-91923aeb"]]),LJ={components:{wwTextContent:SJ},inject:{componentStyle:{default:()=>({})}},inheritAttrs:!1,props:{modelValue:[Object,String],textStyle:Object,textClass:String,disabled:Boolean,tag:{type:String,default:"div"},updateLinks:{type:Function},links:{type:Object},sanitize:{type:Boolean,default:!1}},emits:["add-link","remove-link","textbar-visibility-changed","update:modelValue"],computed:{text(){return`${wwLib.wwLang.getText(this.modelValue)}`},sanitizedText(){return this.sanitize?LR(this.text):this.text},style(){return{transition:(this.componentStyle||{}).transition,...this.textStyle,fontFamily:this.textStyle.fontFamily||"var(--ww-default-font-family)"}},displayContent(){return!0}},methods:{}};function TJ(e,r,n,l,p,h){const c=ta("wwTextContent");return h.displayContent?(fi(),_o(c,fl({key:0},e.$attrs,{text:h.sanitizedText,style:h.style,"ww-responsive":"ww-text-content",tag:n.tag,class:n.textClass,links:n.links}),null,16,["text","style","tag","class","links"])):Hd("",!0)}const EJ=$o(LJ,[["render",TJ],["__scopeId","data-v-93a6ca74"]]),kJ={props:{text:{type:[String,Object],default:void 0},tag:{type:String,default:"div"}},setup(){return{content:Br("componentContent"),wwFrontState:Br("wwFrontState")}},computed:{canEditText(){return!1},textStyle(){return wwLib.wwUtils.getTextStyleFromContent(this.content)},internalText(){return(this.text===void 0?this.content["_ww-text_text"]:this.text)||""},sanitize(){return this.content["_ww-text_sanitize"]},links(){if(this.content["_ww-text_links"]){const e={...this.content["_ww-text_links"],...this.content["_ww-text_links"][this.wwFrontState.lang]};return Object.keys(e).forEach(r=>{r.length<=4&&delete e[r]}),e}else return{}}},methods:{updateText(e){},async addLink({id:e,value:r}){},async removeLink(e){}}};function AJ(e,r,n,l,p,h){const c=ta("wwEditableText");return fi(),_o(c,{class:"ww-text",tag:n.tag,disabled:!h.canEditText,"model-value":h.internalText,"text-style":h.textStyle,links:h.links,sanitize:h.sanitize,"onUpdate:modelValue":h.updateText,onAddLink:h.addLink,onRemoveLink:h.removeLink},null,8,["tag","disabled","model-value","text-style","links","sanitize","onUpdate:modelValue","onAddLink","onRemoveLink"])}const CJ=$o(kJ,[["render",AJ]]),DJ={props:{tag:{type:String,default:"div"}},setup(){return{layoutStyle:wwLib.wwElement.useLayoutStyle()}}};function IJ(e,r,n,l,p,h){return fi(),_o(Eg(n.tag),{style:Jc(l.layoutStyle)},{default:ac(()=>[Wc(e.$slots,"default")]),_:3},8,["style"])}const PJ=$o(DJ,[["render",IJ]]),OJ={install(e){e.component("wwLayout",KK),e.component("wwLayoutItem",f3),e.component("wwLayoutItemContext",h3),e.component("wwLocalContext",eJ),e.component("wwLinkPopup",oJ),e.component("wwObject",TI),e.component("wwElement",TI),e.component("wwSection",mJ),e.component("wwBackgroundVideo",bJ),e.component("wwEditableText",EJ),e.component("wwText",CJ),e.component("wwSimpleLayout",PJ)}};function RJ(e,r){const n=[];return Object.keys(e).map(p=>{const h=`(${e[p].query||"min-width: 0px"})`;return{screenSize:p,mediaQueryList:window.matchMedia(h)}}).forEach(({screenSize:p,mediaQueryList:h})=>{if(h.addEventListener||h.addListener){let c=function(M){r(p,M.matches)};h.addEventListener?h.addEventListener("change",c):h.addListener(c),n.push({listener:c,mediaQueryList:h}),r(p,h.matches)}}),function(){n.forEach(({listener:h,mediaQueryList:c})=>{c.removeEventListener(h)})}}const FJ={install(e){e.config.globalProperties.wwLang=wwLib.wwLang}};let mL,m3;var AI,CI;((AI=window.localStorage)==null?void 0:AI.getItem("ww-app-theme"))==="dark"?document.documentElement.classList.add("ww-app-theme-dark"):((CI=window.localStorage)==null?void 0:CI.getItem("ww-app-theme"))==="light"&&document.documentElement.classList.remove("ww-app-theme-dark");mL=k$;m3=pj();window.wwLib=jK;var DI;if("serviceWorker"in navigator)if(window.wwg_disableManifest)navigator.serviceWorker.getRegistrations().then(e=>{for(const r of e)r.unregister()});else{const e=(DI=window.wwg_designInfo)==null?void 0:DI.baseTag;let r=(e==null?void 0:e.href)||null;r&&(r.startsWith("/")||(r=`/${r}`),r.endsWith("/")||(r=`${r}/`)),navigator.serviceWorker.register(`${r??"/"}serviceworker.js?_wwcv=${window.wwg_cacheVersion}`).catch(n=>{console.error("Service worker registration failed:",n)})}window._={isEqual:hn.isEqual,isEmpty:hn.isEmpty,cloneDeep:hn.cloneDeep,get:hn.get,set:hn.set,merge:hn.merge};window.axios=Co.create({});const Ku=N4(CB),zJ=async function(){window.vm=Ku,Ku.use(m3),Ku.use(mL),Ku.use(FO),Ku.use(OJ),Ku.use(FJ),Ku.config.unwrapInjectedRef=!0,Ku.use(EB()),await wwLib.initFront({store:mL,router:DM}),Ku.use(DM),RJ(wwLib.$store.getters["front/getScreenSizes"],(r,n)=>{wwLib.$store.dispatch("front/setIsScreenSizeActive",{screenSize:r,isActive:n})}),await DM.isReady();const e=document.getElementById("app");Ku.mount(e),wwLib.scrollStore.setValues(),wwLib.$emit("wwLib:isMounted"),wwLib.isMounted=!0};zJ();wwLib.getFrontWindow().addEventListener("beforeinstallprompt",e=>{e.preventDefault(),wwLib.installPwaPrompt=e});export{$I as $,An as A,Kx as B,VJ as C,Gx as D,NJ as E,ko as F,$J as G,rF as H,e0 as I,Lg as J,Wc as K,WJ as L,r4 as M,P3 as N,BJ as O,HJ as P,Mi as Q,bP as R,UJ as S,qJ as T,oc as U,lm as V,YJ as W,t4 as X,jJ as Y,m4 as Z,$o as _,Ku as a,O3 as a0,gF as a1,zK as a2,KE as a3,NF as a4,Hd as b,cl as c,Zc as d,J_ as e,go as f,wh as g,fr as h,Ct as i,_o as j,GJ as k,Eg as l,fl as m,Jc as n,fi as o,hg as p,Br as q,ta as r,xx as s,yo as t,jo as u,Ao as v,ac as w,Tg as x,Oi as y,_g as z};
