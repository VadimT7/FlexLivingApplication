!function(){var e,t={"+/QE":function(e,t,n){e.exports=n.dlbpr(2,"fjRb")},"+282":function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var r=n("MJM1"),i=n("Ut5p"),s=n("QYOI"),o=n("bYG+");(0,o.default)("file");const a=(0,o.default)("fileId"),c=(0,o.default)("uploadProgress");var u=n("ughT"),l=n("OIId"),d=n("ffqu"),p=n("eg5p"),f=n("dEXw");const h=new s.Map,g={[l.ATTACHMENT_UPLOAD_START]:(e,t)=>{const{attachment:n,threadId:i}=t.payload;return e.withMutations((e=>{(0,r.default)([i],e)||e.set(i,new s.OrderedMap);e.setIn([i,(0,u.getLocalId)(n)],n)}))},[l.ATTACHMENT_UPLOAD_PROGRESS]:(e,t)=>{const{localId:n,progress:r,threadId:i}=t.payload;return(0,f.fileIsUploadingInThread)({localId:n,threadId:i},e)?e.updateIn([i,n],(e=>c(r,e))):e},[l.ATTACHMENT_UPLOAD_COMPLETE]:(e,t)=>{const{fileId:n,localId:r,threadId:i}=t.payload;return(0,f.fileIsUploadingInThread)({localId:r,threadId:i},e)?e.updateIn([i,r],(e=>e.withMutations((e=>{c(100,e);a(n,e)})))):e},[l.REMOVE_ATTACHMENT]:(e,t)=>{const{localId:n,threadId:r}=t.payload;return e.deleteIn([r,n])},[l.CLEAR_ATTACHMENTS]:(e,t)=>{const{threadId:n}=t.payload;return e.delete(n)},[d.RESET_STUBBED_THREAD]:e=>e.delete(p.STUBBED_THREAD_ID),[l.ATTACHMENT_ERROR]:(e,t)=>{const{threadId:n}=t.payload;return e.deleteIn([n])}};var m=(0,i.handleActions)(g,h)},"+2bk":function(e,t,n){"use strict";n.d(t,{hasBotMessages:function(){return a}});var r=n("xOzo"),i=n("/OK6"),s=n("iPDb"),o=n("kWFB");const a=e=>(0,o.hasMessages)(e)&&(0,r.default)(i.isFromBot,(0,s.getMessages)(e))},"+A8U":function(e,t,n){"use strict";n.d(t,{AIPromptRecommendations:function(){return T}});var r=n("QOxE"),i=n("9f1P"),s=n.n(i),o=n("FfT4"),a=n("VZYW"),c=n("W5Gz");const u=3,l=384,d="fadeIn",p="fadeOut",f=700,h=(0,i.css)(["display:inline-flex;align-items:center;max-width:",";"," word-break:break-word;padding:7px 10px;border-radius:10px;font-weight:600;font-size:12px;line-height:18px;text-align:left;box-sizing:border-box;transition:color 0.2s ease,border-color 0.2s ease;"],(({insideChat:e})=>e?"100%":`${l}px`),(({insideChat:e})=>!e&&"width: max-content;")),g=s().div.withConfig({displayName:"AIPromptRecommendations__AIPromptRecommendationsContainer"})(["display:flex;justify-content:",";@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}@keyframes fadeOut{from{opacity:1;}to{opacity:0;}}animation-name:",";animation-duration:","ms;animation-timing-function:",";"],(e=>e.widgetLocation===o.RIGHT_ALIGNED?"end":"start"),(({isVisible:e})=>e?d:p),f,(({isVisible:e})=>e?"ease-in":"ease-out")),m=s().div.withConfig({displayName:"AIPromptRecommendations__PromptsWrapper"})(["display:flex;flex-direction:column;gap:6px;align-items:",";"],(({widgetLocation:e})=>e===o.RIGHT_ALIGNED?"flex-end":"flex-start")),E=s().button.withConfig({displayName:"AIPromptRecommendations__AIPromptButton"})([""," background:",";color:",";border:1px solid ",";&:hover{color:",";border-color:",";}"],h,a.WHITE,a.OBSIDIAN,a.NEUTRAL_800,(({coloring:e})=>!1===(null==e?void 0:e.useDefaultColor)?null==e?void 0:e.accentColor:a.NEUTRAL_900),(({coloring:e})=>!1===(null==e?void 0:e.useDefaultColor)?null==e?void 0:e.accentColor:a.NEUTRAL_900)),T=({recommendedQuestionsForAgent:e=[],widgetLocation:t=o.RIGHT_ALIGNED,coloring:n,insideChat:i=!1,onPromptClick:s,onPromptTrack:a,shouldShow:l=!1})=>{const[d,f]=(0,r.useState)(!1),h=e=>(e.match(/\s/g)||[]).length,T=Array.isArray(e)?e.slice(0,u).sort(((e,t)=>e.length===t.length?h(e)-h(t):e.length-t.length)):[],y=l&&T.length>0;(0,r.useEffect)((()=>{y&&f(!0)}),[y]);if(!d)return null;const A=e=>{s(e);null==a||a()};return(0,c.jsx)(g,{widgetLocation:t,onAnimationEnd:e=>{e.animationName===p&&f(!1)},isVisible:y,children:(0,c.jsx)(m,{widgetLocation:t,"data-test-id":"ai-prompt-recommendations",children:T.map(((e,t)=>(0,c.jsx)(E,{onClick:()=>A(e),"data-test-id":`ai-prompt-recommendation-${t}`,coloring:n,insideChat:i,children:e},`ai-prompt-${e}`)))})})};T.displayName="AIPromptRecommendations"},"+GKH":function(e,t,n){e.exports=n.dlbpr(1,69)},"+TdC":function(e,t,n){"use strict";n.d(t,{TYPING_MESSAGE_STYLE:function(){return h}});var r=n("QYOI"),i=n("JGJA"),s=n("DdHT"),o=n("bYG+"),a=n("9Mwj"),c=n("8f+m"),u=n("ubOH"),l=n("rA/t"),d=n("BvOu"),p=n("c1C1"),f=n("tY0N");const h={TYPING:"TYPING",THINKING:"THINKING",STILL_THINKING:"STILL_THINKING"};class g extends((0,r.Record)({"@type":f.TYPING,id:null,timestamp:null,echo:!1,sender:(0,r.Map)(),messageDeletedStatus:a.NOT_DELETED,clientType:null,status:(0,u.default)(),genericChannelId:null,senders:(0,r.List)(),recipients:(0,r.List)(),typingMessageTimeoutSeconds:null,style:h.TYPING,shouldDisableUserInput:!1},"TypingIndicatorMessage")){constructor(e={}){const t=(0,l.buildSendersFromLegacySender)(e),n=(0,i.default)("id",e)||(0,d.generateUuid)(),a=(0,i.default)("timestamp",e)||(0,p.generateUniqueClientTimestamp)("buildTypingMessage-timestamp"),f=(0,i.default)("status",e),g=(0,u.default)(f||{}),m=(0,i.default)("recipients",e)||[],E=(0,r.List)(m.filter(Boolean).map((e=>(0,c.default)(e)))),T=(0,i.default)("typingMessageTimeoutSeconds",e)||null,y=(0,i.default)("style",e)||h.TYPING,A=(0,i.default)("shouldDisableUserInput",e)||!1;super((0,s.default)((0,o.default)("id",n),(0,o.default)("timestamp",a),(0,o.default)("status",g),(0,o.default)("recipients",E),(0,o.default)("typingMessageTimeoutSeconds",T),(0,o.default)("style",y),(0,o.default)("shouldDisableUserInput",A))(t))}}t.default=g},"+U1B":function(e,t,n){"use strict";n.d(t,{getVisitorIdentity:function(){return i}});var r=n("JGJA");const i=e=>(0,r.default)("visitorIdentity",e)},"+hQr":function(e,t,n){"use strict";n.d(t,{useButton:function(){return o}});var r=n("Zulv"),i=n("okxY"),s=n("xr6y");function o(e,t){let n,{elementType:o="button",isDisabled:a,onPress:c,onPressStart:u,onPressEnd:l,onPressChange:d,preventFocusOnPress:p,allowFocusWhenDisabled:f,onClick:h,href:g,target:m,rel:E,type:T="button"}=e;n="button"===o?{type:T,disabled:a}:{role:"button",tabIndex:a?void 0:0,href:"a"===o&&a?void 0:g,target:"a"===o?m:void 0,type:"input"===o?T:void 0,disabled:"input"===o?a:void 0,"aria-disabled":a&&"input"!==o?a:void 0,rel:"a"===o?E:void 0};let{pressProps:y,isPressed:A}=(0,s.usePress)({onPressStart:u,onPressEnd:l,onPressChange:d,onPress:c,isDisabled:a,preventFocusOnPress:p,ref:t}),{focusableProps:b}=(0,i.useFocusable)(e,t);f&&(b.tabIndex=a?-1:b.tabIndex);let v=(0,r.mergeProps)(b,y,(0,r.filterDOMProps)(e,{labelable:!0}));return{isPressed:A,buttonProps:(0,r.mergeProps)(n,v,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{if(h){h(e);console.warn("onClick is deprecated, please use onPress")}}})}}},"+lAi":function(e,t,n){"use strict";var r=n("QYOI"),i=n("YQHs"),s=n("7ede");t.default=(0,r.Record)({enabled:!1,usingCustomResponse:!1,standardResponse:i.FEW_MINUTES,customResponseQuantity:5,customResponseUnit:s.MINUTES},"TypicalResponseTime")},"+lXL":function(e,t,n){"use strict";n.d(t,{addTypingTimeoutIdForAgentInThread:function(){return o}});var r=n("dLEV"),i=n("/UYW"),s=n("+TdC");const o=(0,r.createAction)(i.ADD_TYPING_TIMEOUT_ID,((e,t,n,r=s.TYPING_MESSAGE_STYLE.TYPING,i=!1)=>({payload:{threadId:e,senderId:t,timeoutId:n,typingMessageStyle:r,shouldDisableUserInput:i}})))},"+muk":function(e,t,n){"use strict";n.d(t,{COMPLETED_MESSAGE_ID:function(){return r},COMPLETED_MESSAGE_TIMESTAMP:function(){return s},ID:function(){return a},MESSAGE_TEXT:function(){return o},PARTIAL_ORDINAL:function(){return i}});const r="completedMessageId",i="partialOrdinal",s="completedMessageTimestamp",o="text",a="id"},"+tWo":function(e,t,n){"use strict";n.d(t,{FETCH_THREAD_HISTORY:function(){return r},REMOVE_MESSAGE_IN_CONVERSATION:function(){return i}});const r=(0,n("VVfI").createAsyncActionTypes)("FETCH_THREAD_HISTORY"),i="REMOVE_MESSAGE_IN_CONVERSATION"},"+xqs":function(e,t,n){"use strict";var r=n("QYOI");const i=(0,r.Record)({hasFileAttachment:!1,previewText:null,failed:!1,responder:null,visitor:null},"ThreadPreviewRecord");t.default=i},"/5H5":function(e,t,n){"use strict";n.d(t,{getUnpublishedMessages:function(){return r}});const r=(0,n("JGJA").default)("unpublishedMessages")},"/He/":function(e,t,n){"use strict";n.d(t,{ATTACHMENTS:function(){return d},CONVERSATION_TIMELINE_CURSOR:function(){return g},DIRECT_REPLIES:function(){return f},FILE_ATTACHMENTS:function(){return p},FRIENDLY_NAME_RESULTS:function(){return h},MESSAGES:function(){return r},MESSAGE_HAS_MORE:function(){return s},MESSAGE_OFFSET:function(){return o},MESSAGE_RESULTS:function(){return i},NUM_SOFT_DELETED_MESSAGES:function(){return l},OFFSET_ORDINAL:function(){return c},OFFSET_TIMESTAMP:function(){return a},VISITOR_LAST_READ_AT_TIMESTAMP:function(){return u}});const r=["messages"],i=["messages","results"],s=["messages","hasMore"],o=["messages","offset"],a=["messages","offset","timestamp"],c=["messages","offset","ordinal"],u=["visitorLastReadAtTimestamp"],l=["numSoftDeletedMessages"],d=["attachments"],p=["attachments","files"],f=["directReplies","directReplyMessages"],h=["friendlyNameResults"],g=["conversationTimelineCursor"]},"/Jc5":function(e,t,n){"use strict";n.d(t,{fetchCurrentThreadHistory:function(){return a}});var r=n("0PDK"),i=n("FBcP"),s=n("eg5p"),o=n("HiOC");const a=()=>(e,t)=>{const n=(0,i.getSessionId)(t()),a=(0,r.getSelectedThreadId)(t());null!==a&&a!==s.STUBBED_THREAD_ID&&e((0,o.fetchThreadHistory)({threadId:a,sessionId:n}))}},"/KG3":function(e,t,n){"use strict";n.d(t,{realtime:function(){return T}});var r=n("QYOI"),i=n("xZ3y"),s=n("BxyF"),o=n("PpSk"),a=n("Pda3"),c=n("2Sm/"),u=n("rjAk"),l=n("8HpB"),d=n("PaBm"),p=n("mYl/"),f=n("cjt2"),h=n("yb5F"),g=n("lztA"),m=n("t0Ql");const E=[f.PUBSUB_READY,f.RESUBSCRIBE,c.CREATE_NEW_THREAD.SUCCEEDED,i.GET_VISITOR_THREADS_SUCCESS,m.CHANNEL_CHANGE_RECEIVED],T=e=>{const t=t=>t.reduce(((t,n)=>{const r=(0,o.getChannelName)(n),i=(0,o.getThreadId)(n);return t.set(r,{onMessage:t=>e.dispatch((0,p.onMessageReceived)({channel:r,message:t,threadId:i,publishContext:{playback:!1}})),onPlayback:t=>{t.forEach((t=>{e.dispatch((0,p.onMessageReceived)({channel:r,message:t,threadId:i,publishContext:{playback:!0}}))}))},onPresence:e=>{}})}),(0,r.Map)()).toJS();return n=>r=>{const o=n(r),p=(0,s.getAsyncPubSubClient)(e.getState()),f=r.type===c.CREATE_NEW_THREAD.SUCCEEDED,m=r.type===i.GET_VISITOR_THREADS_SUCCESS&&(0,u.hasPersistedThreads)(e.getState());(0,a.isUninitialized)(p)&&(f||m)&&e.dispatch((0,l.startPubSub)({newThreadCreated:f}));if((0,d.isClientReady)(p)&&E.includes(r.type)){const n=(0,g.getThreads)(e.getState()),r=t(n);e.dispatch((0,h.updateSubscriptions)(r))}return o}}},"/LeO":function(e,t,n){"use strict";n.d(t,{shouldRequireExplicitCookieConsent:function(){return l}});var r=n("dLEV"),i=n("49A5"),s=n("V9Gp"),o=n("aLl6");const a=(0,n("JGJA").default)("cookieBannerOnExitVisible");var c=n("GTwN"),u=n("32pP");const l=(0,r.createSelector)([i.getLatestWidgetData,c.getHasMessagesCookieBeenSaved,s.getAPIEnableWidgetCookieBanner,a,u.getVisitorIdentificationEnabled],((e,t,n,r,i)=>{const s=(0,o.gdprCookieConsentOnWidgetLoadEnabled)(e);return Boolean(n||s||r)&&!t&&!i}))},"/OK6":function(e,t,n){"use strict";n.d(t,{isFromAgent:function(){return a},isFromBot:function(){return c},isFromSystem:function(){return u},isFromVisitor:function(){return l}});var r=n("qjq5"),i=n("0IK8"),s=n("Mx3c");const o=(0,r.default)(((e,t)=>(0,i.getSenderType)(t)===e)),a=o(s.AGENT),c=o(s.BOT),u=o(s.SYSTEM),l=o(s.VISITOR);o(s.INTEGRATOR)},"/UYW":function(e,t,n){"use strict";n.d(t,{ADD_TYPING_TIMEOUT_ID:function(){return r},REMOVE_TYPING_TIMEOUT_ID:function(){return i}});const r="ADD_TYPING_TIMEOUT_ID",i="REMOVE_TYPING_TIMEOUT_ID"},"/fsP":function(e,t,n){"use strict";var r=n("QYOI"),i=n("ubOH"),s=n("fPyn"),o=n("l0Ga"),a=n("9Mwj"),c=n("c1C1"),u=n("BvOu");class l extends((0,r.Record)({"@type":o.EMAIL_CAPTURE_RESPONSE,id:null,text:"",timestamp:null,sender:(0,r.Map)(),status:(0,i.default)(),messageDeletedStatus:a.NOT_DELETED,direction:"",channelInstanceId:null,genericChannelId:null,senders:(0,r.List)(),recipients:(0,r.List)()},"EmailCaptureResponseMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,u.generateUuid)(),status:(0,s.buildStatus)(e.status),timestamp:e.timestamp||(0,c.generateUniqueClientTimestamp)("EmailCaptureResponseMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=l},"/kBF":function(e,t,n){"use strict";n.d(t,{buildChatHeadingConfig:function(){return s}});var r=n("kevw"),i=n("7eQh");const s=e=>{const t=(0,r.getType)(e);return(0,i.buildChatHeadingConfigFromType)(t,e)}},"/mXs":function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("9f1P"),a=n.n(o),c=n("CR0J"),u=n("Z/Dw"),l=n("NfCo"),d=n("InFa"),p=n("7719"),f=n("QOxE"),h=n("wjRl"),g=n("aXPX"),m=n("rdz/"),E=n("RXbi"),T=n("VZYW"),y=n("iKGd");const A={baseStyle:(0,o.css)(["flex-shrink:0;display:inline-flex;align-items:center;justify-content:center;border-radius:",";width:","px;height:","px;vertical-align:middle;padding:0;text-align:center;text-overflow:clip;font-size:18px;line-height:18px;outline:none;transition:background-color 150ms ease-out;"," border:none;"," > *{user-select:none;}"],(({shape:e})=>e===d.CIRCLE?"50%":"3px"),(({size:e})=>e&&g.BUTTON_SIZES[e]||40),(({size:e})=>e&&g.BUTTON_SIZES[e]||40),(({use:e,theme:{colors:t}})=>e===l.TRANSPARENT_ON_BACKGROUND||e===l.TRANSPARENT_ON_PRIMARY||e===l.PRIMARY_TRANSPARENT_BACKGROUND||e===l.DEFAULT?"background-color: transparent;":`background-color: ${t.primary};`),(({use:e,theme:{colors:t}})=>e===l.DEFAULT?`color: ${y.DEFAULT_ICON_BUTTON};`:e===l.TRANSPARENT_ON_BACKGROUND||e===l.PRIMARY_TRANSPARENT_BACKGROUND?`color: ${t.transparentOnBackgroundIconButton||t.primary};`:`color: ${t.textOnPrimary};`)),_disabled:(0,o.css)([""," color:",";cursor:not-allowed;"],(({theme:{colors:e},use:t})=>`\n    background-color: ${t===l.TRANSPARENT_ON_BACKGROUND||t===l.TRANSPARENT_ON_PRIMARY||t===l.PRIMARY_TRANSPARENT_BACKGROUND||t===l.DEFAULT?"transparent":e.disabledBackground};\n  `),(({theme:{colors:e},use:t})=>t===l.DEFAULT?y.DEFAULT_ICON_BUTTON_DISABLED:e.disabledText)),_focused:h.focusRing,_hovered:(0,o.css)(["",""],(({theme:{colors:e},use:t})=>t===l.DEFAULT?`background-color: transparent; color: ${y.DEFAULT_ICON_BUTTON_HOVER};`:t===l.TRANSPARENT_ON_BACKGROUND?`background-color: ${(0,E.hexToRgba)(e.transparentOnBackgroundIconButton||e.primary,.1)};`:t===l.PRIMARY_TRANSPARENT_BACKGROUND?`background-color: transparent; color: ${T.NEUTRAL_700};`:t===l.TRANSPARENT_ON_PRIMARY?`background-color: ${(0,E.hexToRgba)(e.textOnPrimary,.1)};`:`background-color: ${(0,m.adjustLuminance)(e.primary,20)};`)),_pressed:(0,o.css)(["",""],(({theme:{colors:e},use:t})=>t===l.DEFAULT?`background-color: transparent; color: ${y.DEFAULT_ICON_BUTTON_HOVER}; opacity: 0.8;`:t===l.TRANSPARENT_ON_BACKGROUND?`background-color: ${(0,E.hexToRgba)(e.transparentOnBackgroundIconButton||e.primary,.4)};`:t===l.TRANSPARENT_ON_PRIMARY?`background-color: ${(0,E.hexToRgba)(e.textOnPrimary,.4)};`:t===l.PRIMARY_TRANSPARENT_BACKGROUND?"opacity: 0.4;":`background-color: ${(0,m.adjustLuminance)(e.primary,-10)};`))};var b=n("W/H/"),v=n("W5Gz");const I=["shape","size","use"],S=a().button.withConfig({displayName:"VizExIconButton__AbstractVizExIconButton"})(["",""],(({theme:e})=>(0,b.default)({component:"IconButton",defaultStyles:A,theme:e}))),C=(0,f.forwardRef)(((e,t)=>{let{shape:n=d.DEFAULT,size:i=p.MEDIUM,use:s=l.PRIMARY}=e,o=(0,r.default)(e,I);return(0,v.jsx)(S,Object.assign({shape:n,size:i,use:s,ref:t},o))}));C.displayName="VizExIconButton";C.propTypes=Object.assign({children:s().node,onClick:s().func,shape:s().oneOf([d.CIRCLE,d.DEFAULT]),size:s().oneOf([p.EXTRA_SMALL,p.SMALL,p.MEDIUM]),theme:c.default,use:s().oneOf(Object.values(l))},u.interactionPropTypes);var _=C},"/u6M":function(e,t,n){"use strict";n.d(t,{RESOLVE_ATTACHMENTS:function(){return r}});const r=(0,n("VVfI").createAsyncActionTypes)("RESOLVE_ATTACHMENTS")},"02LW":function(e,t,n){"use strict";n.d(t,{default:function(){return i}});var r=(e,t)=>e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t;function i(e,t=r){let n,i,s=!1;const o=function(...r){if(!s||r.some(((e,r)=>!t(e,n[r])))){s=!0;n=r;i=e(...r)}return i};o.resetCache=()=>{const e=s?1:0;s=!1;return e};return o}},"05rB":function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var r=n("Ut5p"),i=n("Ozt8"),s=n("mlLV");const o=e=>{(0,i.postExternalApiEvent)({eventType:s.USER_SELECTED_THREAD,payload:{conversation:{conversationId:e}}})};var a=n("Qvwz"),c=n("2Sm/");const u=null;var l=(0,r.handleActions)({[(0,r.combineActions)(a.SELECT_THREAD,c.CREATE_NEW_THREAD.SUCCEEDED)](e,t){const{threadId:n}=t.payload;n&&o(n);return n},[a.CLEAR_SELECTED_THREAD](){return u}},u)},"0934":function(e,t,n){"use strict";n.d(t,{isCrmObjectLifecycleUpdate:function(){return s}});var r=n("0IK8"),i=n("7Qhs");const s=e=>(0,r.getTopLevelType)(e)===i.CRM_OBJECT_LIFECYCLE_UPDATE},"0Aa+":function(e,t,n){var r=n("kmmH"),i=n("FU2H"),s=NaN,o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function d(e){if("number"==typeof e)return e;if(i(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?s:+e}e.exports=d},"0BtU":function(e,t,n){"use strict";n.d(t,{prepareThreadHistoryResponse:function(){return a}});var r=n("3RTs"),i=n("gIaP"),s=n("d+x8");const o=["attachments","hasVisitorEmail"],a=e=>{let{attachments:t,hasVisitorEmail:n}=e,a=(0,r.default)(e,o);return{files:(0,i.buildResolvedAttachmentsMapFromResponse)(t.files),threadHistory:(0,s.buildThreadHistoryFromResponse)(a),hasVisitorEmail:n}}},"0FzD":function(e,t){"use strict";t.default={COMPANY:"company",CUSTOMER:"customer"}},"0G/n":function(e,t,n){"use strict";n.d(t,{CHANNEL_SPECIFIC_OPAQUE_ID:function(){return i},HS_EMAIL_ADDRESS:function(){return r}});const r="HS_EMAIL_ADDRESS",i="CHANNEL_SPECIFIC_OPAQUE_ID"},"0Gf5":function(e,t){e.exports="//static.hsappstatic.net/conversations-visitor-ui/static-1.9449/audio/notification.mp3"},"0GyJ":function(e,t,n){"use strict";n.d(t,{COMMON_MESSAGE:function(){return r}});const r="COMMON_MESSAGE"},"0H74":function(e,t,n){"use strict";var r=n("QYOI"),i=n("3Yas");i.set.implement(Array,((e,t,n)=>{if((0,r.is)(n[e],t))return n;const i=n.concat();i.splice(e,1,t);return i}));i.set.implementInherited(r.Iterable,((e,t,n)=>n.set(e,t)));i.set.implement(Object,((e,t,n)=>{if((0,r.is)(n[e],t))return n;const i=Object.assign({},n);i[e]=t;return i}));t.default=i.set},"0IK8":function(e,t,n){"use strict";n.d(t,{getId:function(){return y},getMessageSendFailure:function(){return x},getPlainText:function(){return A},getRichText:function(){return b},getSenderId:function(){return N},getSenderType:function(){return D},getSenderTypeForCMF:function(){return R},getStatusForCmf:function(){return v},getTimestamp:function(){return O},getTopLevelType:function(){return _},getType:function(){return _}});var r=n("yivD"),i=n("DFoL");function s(e="",t){const n=(0,r.default)("deprecated-function-");return(...r)=>{(0,i.warn)({message:`Deprecation Warning: ${e}`,key:n});return t(...r)}}var o=n("MJM1"),a=n("DdHT"),c=n("2Zef"),u=n("MWj0"),l=n("bWKF"),d=(n("qkre"),n("iapW")),p=n("PJuP"),f=n("cPs9"),h=n("9F2+"),g=n("Zui/"),m=n("JGJA"),E=n("QYOI");const T=e=>{const t=(0,h.getAttachments)(e);if(t){const e=t.find((e=>(0,m.default)("@type",e)===g.INLINE_IMAGES));return e&&e.size>=1?e:(0,E.List)()}return(0,E.List)()};n("L8e7");(0,o.default)(u.CLIENT_TYPE);const y=(0,o.default)(u.ID),A=((0,o.default)(u.CONTENT_TYPE),(0,o.default)(u.TEXT)),b=(0,o.default)(u.RICH_TEXT),v=(0,o.default)(u.MESSAGE_STATUS),I=((0,o.default)(u.MESSAGE_STATUS_TIMESTAMP),(0,o.default)(u.MESSAGE_ID),(0,o.default)(u.MESSAGE_DIRECTION),(0,o.default)(u.AUDIT_PARAMS),(0,o.default)(u.STRIPPED_ATTACHMENT_COUNT)),S=(0,o.default)(u.HAS_STRIPPED_INLINE_IMAGES),C=(0,a.default)(p.getFileAttachments,d.getFileIds),_=((0,a.default)(p.getFileAttachments,I),(0,a.default)(T,S),(0,o.default)(u.TYPE)),O=((0,o.default)(u.IN_REPLY_TO_ID),(0,o.default)(u.DIRECT_REPLY_TO_MESSAGE_ID),(0,o.default)(u.TIMESTAMP)),R=(0,o.default)(u.SENDER_TYPE),x=((0,o.default)(u.MESSAGE_DELETE_STATUS),(0,o.default)(u.MESSAGE_SEND_FAILURE)),w=((0,o.default)(u.MESSAGE_SEND_FAILURE_SUBSCRIPTION_TYPE),(0,o.default)(u.SENDER),e=>{const t=R(e);return(0,f.getSenderKeyFromType)(t)}),N=e=>R(e)===c.SYSTEM_SENDER?null:(0,o.default)(["sender",w(e)],e),D=e=>(0,l.fromCmfSender)(R(e));s("Use fileAttachmentGetters instead.",(e=>C(e))),(0,o.default)(u.LOCALIZED_ERROR_KEY),(0,o.default)(u.ERROR_MESSAGE)},"0JoJ":function(e,t,n){"use strict";var r=n("ZVbf"),i=n("4e8t"),s=n.n(i),o=n("rwJP"),a=n.n(o),c=n("1EKh");const u=(0,r.createStack)(a(),(0,c.checkNetworkOnTimeout)()),l=s()(u);t.default=l},"0Me1":function(e,t,n){"use strict";n.d(t,{isAvailable:function(){return s}});var r=n("LJpC"),i=n("HCGK");const s=(0,r.isAgentState)(i.AVAILABLE)},"0NIc":function(e,t,n){"use strict";var r=n("QYOI"),i=n("TKd0");t.default=(0,r.Record)({assignedAgentId:null,channelDetails:(0,i.default)(),currentUrl:null,latestMessageTimestamp:0,latestReadTimestamp:0,responder:null,originalGenericChannelId:null,status:null,threadId:null,unseenCount:0,hasFileAttachment:!1,previewText:null,previewMessageId:null,hasChannelSwitchedToEmail:!1},"Thread")},"0PDK":function(e,t,n){"use strict";n.d(t,{getSelectedThreadId:function(){return r}});const r=(0,n("JGJA").default)("selectedThreadId")},"0Zm1":function(e,t,n){"use strict";n.d(t,{OverlayProvider:function(){return et},useOverlay:function(){return Je}});n("3RTs");var r=n("QOxE"),i=n.n(r);n("Zulv"),n("Ex4o");new Map,new Map;new Map;new Map;let s=!1;try{s="exceptZero"===new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay}catch(e){}let o=!1;try{o="unit"===new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style}catch(e){}const a=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),c=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function u(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize().script;return a.has(t)}let t=e.split("-")[0];return c.has(t)}function l(){let e="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:u(e)?"rtl":"ltr"}}l(),new Set;new WeakMap;new Map;var d=function(e,t){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};return d(e,t)};function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");d(e,t);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var f,h,g,m=function(){m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};return m.apply(this,arguments)};function E(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)if(r||!(i in t)){r||(r=Array.prototype.slice.call(t,0,i));r[i]=t[i]}return e.concat(r||Array.prototype.slice.call(t))}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE";e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT";e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT";e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE";e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE";e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE";e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON";e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON";e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON";e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON";e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE";e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS";e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE";e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE";e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR";e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR";e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT";e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT";e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR";e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR";e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR";e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE";e[e.INVALID_TAG=23]="INVALID_TAG";e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME";e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG";e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(f||(f={}));!function(e){e[e.literal=0]="literal";e[e.argument=1]="argument";e[e.number=2]="number";e[e.date=3]="date";e[e.time=4]="time";e[e.select=5]="select";e[e.plural=6]="plural";e[e.pound=7]="pound";e[e.tag=8]="tag"}(h||(h={}));!function(e){e[e.number=0]="number";e[e.dateTime=1]="dateTime"}(g||(g={}));function T(e){return e.type===h.literal}function y(e){return e.type===h.argument}function A(e){return e.type===h.number}function b(e){return e.type===h.date}function v(e){return e.type===h.time}function I(e){return e.type===h.select}function S(e){return e.type===h.plural}function C(e){return e.type===h.pound}function _(e){return e.type===h.tag}function O(e){return!(!e||"object"!=typeof e||e.type!==g.number)}function R(e){return!(!e||"object"!=typeof e||e.type!==g.dateTime)}var x=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,w=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function N(e){var t={};e.replace(w,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12";t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23";t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11";t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24";t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}));return t}var D=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function L(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(D).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var s=i[0],o=i.slice(1),a=0,c=o;a<c.length;a++){if(0===c[a].length)throw new Error("Invalid number skeleton")}t.push({stem:s,options:o})}return t}function M(e){return e.replace(/^(.*?)-/,"")}var P=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,k=/^(@+)?(\+|#+)?[rs]?$/g,U=/(\*)(0+)|(#+)(0+)|(0+)/g,B=/^(0+)$/;function H(e){var t={};"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision");e.replace(k,(function(e,n,r){if("string"!=typeof r){t.minimumSignificantDigits=n.length;t.maximumSignificantDigits=n.length}else if("+"===r)t.minimumSignificantDigits=n.length;else if("#"===n[0])t.maximumSignificantDigits=n.length;else{t.minimumSignificantDigits=n.length;t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)}return""}));return t}function F(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function G(e){var t;if("E"===e[0]&&"E"===e[1]){t={notation:"engineering"};e=e.slice(2)}else if("E"===e[0]){t={notation:"scientific"};e=e.slice(1)}if(t){var n=e.slice(0,2);if("+!"===n){t.signDisplay="always";e=e.slice(2)}else if("+?"===n){t.signDisplay="exceptZero";e=e.slice(2)}if(!B.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function j(e){var t={},n=F(e);return n||t}function W(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent";t.scale=100;continue;case"currency":t.style="currency";t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit";t.unit=M(i.options[0]);continue;case"compact-short":case"K":t.notation="compact";t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact";t.compactDisplay="long";continue;case"scientific":t=m(m(m({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return m(m({},e),j(t))}),{}));continue;case"engineering":t=m(m(m({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return m(m({},e),j(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol";t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code";t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name";t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(U,(function(e,n,r,i,s,o){if(n)t.minimumIntegerDigits=r.length;else{if(i&&s)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(B.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(P.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(P,(function(e,n,r,i,s,o){if("*"===r)t.minimumFractionDigits=n.length;else if(i&&"#"===i[0])t.maximumFractionDigits=i.length;else if(s&&o){t.minimumFractionDigits=s.length;t.maximumFractionDigits=s.length+o.length}else{t.minimumFractionDigits=n.length;t.maximumFractionDigits=n.length}return""}));var s=i.options[0];"w"===s?t=m(m({},t),{trailingZeroDisplay:"stripIfInteger"}):s&&(t=m(m({},t),H(s)))}else if(k.test(i.stem))t=m(m({},t),H(i.stem));else{var o=F(i.stem);o&&(t=m(m({},t),o));var a=G(i.stem);a&&(t=m(m({},t),a))}}return t}var V,z={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function K(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if("j"===i){for(var s=0;r+1<e.length&&e.charAt(r+1)===i;){s++;r++}var o=1+(1&s),a=s<2?1:3+(s>>1),c="a",u=Y(t);"H"!=u&&"k"!=u||(a=0);for(;a-- >0;)n+=c;for(;o-- >0;)n=u+n}else n+="J"===i?"H":i}return n}function Y(e){var t=e.hourCycle;void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]);if(t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;"root"!==r&&(n=e.maximize().region);return(z[n||""]||z[r||""]||z["".concat(r,"-001")]||z["001"])[0]}var q=new RegExp("^".concat(x.source,"*")),J=new RegExp("".concat(x.source,"*$"));function $(e,t){return{start:e,end:t}}var Q=!!String.prototype.startsWith,X=!!String.fromCodePoint,Z=!!Object.fromEntries,ee=!!String.prototype.codePointAt,te=!!String.prototype.trimStart,ne=!!String.prototype.trimEnd,re=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},ie=!0;try{ie="a"===(null===(V=pe("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===V?void 0:V[0])}catch(e){ie=!1}var se,oe=Q?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},ae=X?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,s=0;i>s;){if((n=e[s++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},ce=Z?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],s=i[0],o=i[1];t[s]=o}return t},ue=ee?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},le=te?function(e){return e.trimStart()}:function(e){return e.replace(q,"")},de=ne?function(e){return e.trimEnd()}:function(e){return e.replace(J,"")};function pe(e,t){return new RegExp(e,t)}if(ie){var fe=pe("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");se=function(e,t){var n;fe.lastIndex=t;return null!==(n=fe.exec(e)[1])&&void 0!==n?n:""}}else se=function(e,t){for(var n=[];;){var r=ue(e,t);if(void 0===r||Te(r)||ye(r))break;n.push(r);t+=r>=65536?2:1}return ae.apply(void 0,n)};var he=function(){function e(e,t){void 0===t&&(t={});this.message=e;this.position={offset:0,line:1,column:1};this.ignoreTag=!!t.ignoreTag;this.locale=t.locale;this.requiresOtherClause=!!t.requiresOtherClause;this.shouldParseSkeletons=!!t.shouldParseSkeletons}e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)};e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((s=this.parseArgument(e,n)).err)return s;r.push(s.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(f.UNMATCHED_CLOSING_TAG,$(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&ge(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;r.push(s.val)}}else{var o=this.clonePosition();this.bump();r.push({type:h.pound,location:$(o,this.clonePosition())})}}}return{val:r,err:null}};e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();this.bumpSpace();if(this.bumpIf("/>"))return{val:{type:h.literal,value:"<".concat(r,"/>"),location:$(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var s=i.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!ge(this.char()))return this.error(f.INVALID_TAG,$(o,this.clonePosition()));var a=this.clonePosition();if(r!==this.parseTagName())return this.error(f.UNMATCHED_CLOSING_TAG,$(a,this.clonePosition()));this.bumpSpace();return this.bumpIf(">")?{val:{type:h.tag,value:r,children:s,location:$(n,this.clonePosition())},err:null}:this.error(f.INVALID_TAG,$(o,this.clonePosition()))}return this.error(f.UNCLOSED_TAG,$(n,this.clonePosition()))}return this.error(f.INVALID_TAG,$(n,this.clonePosition()))};e.prototype.parseTagName=function(){var e=this.offset();this.bump();for(;!this.isEOF()&&Ee(this.char());)this.bump();return this.message.slice(e,this.offset())};e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var s=this.tryParseUnquoted(e,t);if(s)r+=s;else{var o=this.tryParseLeftAngleBracket();if(!o)break;r+=o}}}var a=$(n,this.clonePosition());return{val:{type:h.literal,value:r,location:a},err:null}};e.prototype.tryParseLeftAngleBracket=function(){if(!this.isEOF()&&60===this.char()&&(this.ignoreTag||!me(this.peek()||0))){this.bump();return"<"}return null};e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:this.bump();this.bump();return"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];this.bump();for(;!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39);this.bump()}else t.push(n);this.bump()}return ae.apply(void 0,t)};e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();if(60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0)return null;this.bump();return ae(n)};e.prototype.parseArgument=function(e,t){var n=this.clonePosition();this.bump();this.bumpSpace();if(this.isEOF())return this.error(f.EXPECT_ARGUMENT_CLOSING_BRACE,$(n,this.clonePosition()));if(125===this.char()){this.bump();return this.error(f.EMPTY_ARGUMENT,$(n,this.clonePosition()))}var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(f.MALFORMED_ARGUMENT,$(n,this.clonePosition()));this.bumpSpace();if(this.isEOF())return this.error(f.EXPECT_ARGUMENT_CLOSING_BRACE,$(n,this.clonePosition()));switch(this.char()){case 125:this.bump();return{val:{type:h.argument,value:r,location:$(n,this.clonePosition())},err:null};case 44:this.bump();this.bumpSpace();return this.isEOF()?this.error(f.EXPECT_ARGUMENT_CLOSING_BRACE,$(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(f.MALFORMED_ARGUMENT,$(n,this.clonePosition()))}};e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=se(this.message,t),r=t+n.length;this.bumpTo(r);return{value:n,location:$(e,this.clonePosition())}};e.prototype.parseArgumentOptions=function(e,t,n,r){var i,s=this.clonePosition(),o=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(o){case"":return this.error(f.EXPECT_ARGUMENT_TYPE,$(s,a));case"number":case"date":case"time":this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var u=this.clonePosition();if((b=this.parseSimpleArgStyleIfPossible()).err)return b;if(0===(E=de(b.val)).length)return this.error(f.EXPECT_ARGUMENT_STYLE,$(this.clonePosition(),this.clonePosition()));c={style:E,styleLocation:$(u,this.clonePosition())}}if((v=this.tryParseArgumentClose(r)).err)return v;var l=$(r,this.clonePosition());if(c&&oe(null==c?void 0:c.style,"::",0)){var d=le(c.style.slice(2));if("number"===o){return(b=this.parseNumberSkeletonFromString(d,c.styleLocation)).err?b:{val:{type:h.number,value:n,location:l,style:b.val},err:null}}if(0===d.length)return this.error(f.EXPECT_DATE_TIME_SKELETON,l);var p=d;this.locale&&(p=K(d,this.locale));var E={type:g.dateTime,pattern:p,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?N(p):{}};return{val:{type:"date"===o?h.date:h.time,value:n,location:l,style:E},err:null}}return{val:{type:"number"===o?h.number:"date"===o?h.date:h.time,value:n,location:l,style:null!==(i=null==c?void 0:c.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var T=this.clonePosition();this.bumpSpace();if(!this.bumpIf(","))return this.error(f.EXPECT_SELECT_ARGUMENT_OPTIONS,$(T,m({},T)));this.bumpSpace();var y=this.parseIdentifierIfPossible(),A=0;if("select"!==o&&"offset"===y.value){if(!this.bumpIf(":"))return this.error(f.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,$(this.clonePosition(),this.clonePosition()));this.bumpSpace();var b;if((b=this.tryParseDecimalInteger(f.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,f.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return b;this.bumpSpace();y=this.parseIdentifierIfPossible();A=b.val}var v,I=this.tryParsePluralOrSelectOptions(e,o,t,y);if(I.err)return I;if((v=this.tryParseArgumentClose(r)).err)return v;var S=$(r,this.clonePosition());return"select"===o?{val:{type:h.select,value:n,options:ce(I.val),location:S},err:null}:{val:{type:h.plural,value:n,options:ce(I.val),offset:A,pluralType:"plural"===o?"cardinal":"ordinal",location:S},err:null};default:return this.error(f.INVALID_ARGUMENT_TYPE,$(s,a))}};e.prototype.tryParseArgumentClose=function(e){if(this.isEOF()||125!==this.char())return this.error(f.EXPECT_ARGUMENT_CLOSING_BRACE,$(e,this.clonePosition()));this.bump();return{val:!0,err:null}};e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(f.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,$(n,this.clonePosition()));this.bump();break;case 123:e+=1;this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}};e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=L(e)}catch(e){return this.error(f.INVALID_NUMBER_SKELETON,t)}return{val:{type:g.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?W(n):{}},err:null}};e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,s=!1,o=[],a=new Set,c=r.value,u=r.location;;){if(0===c.length){var l=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(f.EXPECT_PLURAL_ARGUMENT_SELECTOR,f.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;u=$(l,this.clonePosition());c=this.message.slice(l.offset,this.offset())}if(a.has(c))return this.error("select"===t?f.DUPLICATE_SELECT_ARGUMENT_SELECTOR:f.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===c&&(s=!0);this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?f.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:f.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,$(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var g=this.tryParseArgumentClose(p);if(g.err)return g;o.push([c,{value:h.val,location:$(p,this.clonePosition())}]);a.add(c);this.bumpSpace();c=(i=this.parseIdentifierIfPossible()).value,u=i.location}return 0===o.length?this.error("select"===t?f.EXPECT_SELECT_ARGUMENT_SELECTOR:f.EXPECT_PLURAL_ARGUMENT_SELECTOR,$(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(f.MISSING_OTHER_CLAUSE,$(this.clonePosition(),this.clonePosition())):{val:o,err:null}};e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,s=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;i=!0;s=10*s+(o-48);this.bump()}var a=$(r,this.clonePosition());return i?re(s*=n)?{val:s,err:null}:this.error(t,a):this.error(e,a)};e.prototype.offset=function(){return this.position.offset};e.prototype.isEOF=function(){return this.offset()===this.message.length};e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}};e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=ue(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t};e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}};e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();if(10===e){this.position.line+=1;this.position.column=1;this.position.offset+=1}else{this.position.column+=1;this.position.offset+=e<65536?1:2}}};e.prototype.bumpIf=function(e){if(oe(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1};e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);if(n>=0){this.bumpTo(n);return!0}this.bumpTo(this.message.length);return!1};e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));e=Math.min(e,this.message.length);for(;;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));this.bump();if(this.isEOF())break}};e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Te(this.char());)this.bump()};e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null};return e}();function ge(e){return e>=97&&e<=122||e>=65&&e<=90}function me(e){return ge(e)||47===e}function Ee(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Te(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function ye(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Ae(e){e.forEach((function(e){delete e.location;if(I(e)||S(e))for(var t in e.options){delete e.options[t].location;Ae(e.options[t].value)}else A(e)&&O(e.style)||(b(e)||v(e))&&R(e.style)?delete e.style.location:_(e)&&Ae(e.children)}))}function be(e,t){void 0===t&&(t={});t=m({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new he(e,t).parse();if(n.err){var r=SyntaxError(f[n.err.kind]);r.location=n.err.location;r.originalMessage=n.err.message;throw r}(null==t?void 0:t.captureLocation)||Ae(n.val);return n.val}function ve(e,t){var n=t&&t.cache?t.cache:Le,r=t&&t.serializer?t.serializer:we;return(t&&t.strategy?t.strategy:Oe)(e,{cache:n,serializer:r})}function Ie(e){return null==e||"number"==typeof e||"boolean"==typeof e}function Se(e,t,n,r){var i=Ie(r)?r:n(r),s=t.get(i);if(void 0===s){s=e.call(this,r);t.set(i,s)}return s}function Ce(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),s=t.get(i);if(void 0===s){s=e.apply(this,r);t.set(i,s)}return s}function _e(e,t,n,r,i){return n.bind(t,e,r,i)}function Oe(e,t){return _e(e,this,1===e.length?Se:Ce,t.cache.create(),t.serializer)}function Re(e,t){return _e(e,this,Ce,t.cache.create(),t.serializer)}function xe(e,t){return _e(e,this,Se,t.cache.create(),t.serializer)}var we=function(){return JSON.stringify(arguments)};function Ne(){this.cache=Object.create(null)}Ne.prototype.get=function(e){return this.cache[e]};Ne.prototype.set=function(e,t){this.cache[e]=t};var De,Le={create:function(){return new Ne}},Me={variadic:Re,monadic:xe};!function(e){e.MISSING_VALUE="MISSING_VALUE";e.INVALID_VALUE="INVALID_VALUE";e.MISSING_INTL_API="MISSING_INTL_API"}(De||(De={}));var Pe,ke=function(e){p(t,e);function t(t,n,r){var i=e.call(this,t)||this;i.code=n;i.originalMessage=r;return i}t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)};return t}(Error),Ue=function(e){p(t,e);function t(t,n,r,i){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),De.INVALID_VALUE,i)||this}return t}(ke),Be=function(e){p(t,e);function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),De.INVALID_VALUE,r)||this}return t}(ke),He=function(e){p(t,e);function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),De.MISSING_VALUE,n)||this}return t}(ke);!function(e){e[e.literal=0]="literal";e[e.object=1]="object"}(Pe||(Pe={}));function Fe(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];n&&n.type===Pe.literal&&t.type===Pe.literal?n.value+=t.value:e.push(t);return e}),[])}function Ge(e){return"function"==typeof e}function je(e,t,n,r,i,s,o){if(1===e.length&&T(e[0]))return[{type:Pe.literal,value:e[0].value}];for(var a=[],c=0,u=e;c<u.length;c++){var l=u[c];if(T(l))a.push({type:Pe.literal,value:l.value});else if(C(l))"number"==typeof s&&a.push({type:Pe.literal,value:n.getNumberFormat(t).format(s)});else{var d=l.value;if(!i||!(d in i))throw new He(d,o);var p=i[d];if(y(l)){p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):"");a.push({type:"string"==typeof p?Pe.literal:Pe.object,value:p})}else if(b(l)){var f="string"==typeof l.style?r.date[l.style]:R(l.style)?l.style.parsedOptions:void 0;a.push({type:Pe.literal,value:n.getDateTimeFormat(t,f).format(p)})}else if(v(l)){f="string"==typeof l.style?r.time[l.style]:R(l.style)?l.style.parsedOptions:r.time.medium;a.push({type:Pe.literal,value:n.getDateTimeFormat(t,f).format(p)})}else if(A(l)){(f="string"==typeof l.style?r.number[l.style]:O(l.style)?l.style.parsedOptions:void 0)&&f.scale&&(p*=f.scale||1);a.push({type:Pe.literal,value:n.getNumberFormat(t,f).format(p)})}else{if(_(l)){var h=l.children,g=l.value,m=i[g];if(!Ge(m))throw new Be(g,"function",o);var E=m(je(h,t,n,r,i,s).map((function(e){return e.value})));Array.isArray(E)||(E=[E]);a.push.apply(a,E.map((function(e){return{type:"string"==typeof e?Pe.literal:Pe.object,value:e}})))}if(I(l)){if(!(x=l.options[p]||l.options.other))throw new Ue(l.value,p,Object.keys(l.options),o);a.push.apply(a,je(x.value,t,n,r,i))}else if(S(l)){var x;if(!(x=l.options["=".concat(p)])){if(!Intl.PluralRules)throw new ke('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',De.MISSING_INTL_API,o);var w=n.getPluralRules(t,{type:l.pluralType}).select(p-(l.offset||0));x=l.options[w]||l.options.other}if(!x)throw new Ue(l.value,p,Object.keys(l.options),o);a.push.apply(a,je(x.value,t,n,r,i,p-(l.offset||0)))}else;}}}return Fe(a)}function We(e,t){return t?m(m(m({},e||{}),t||{}),Object.keys(e).reduce((function(n,r){n[r]=m(m({},e[r]),t[r]||{});return n}),{})):e}function Ve(e,t){return t?Object.keys(e).reduce((function(n,r){n[r]=We(e[r],t[r]);return n}),m({},e)):e}function ze(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Ke(e){void 0===e&&(e={number:{},dateTime:{},pluralRules:{}});return{getNumberFormat:ve((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,E([void 0],t,!1)))}),{cache:ze(e.number),strategy:Me.variadic}),getDateTimeFormat:ve((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,E([void 0],t,!1)))}),{cache:ze(e.dateTime),strategy:Me.variadic}),getPluralRules:ve((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,E([void 0],t,!1)))}),{cache:ze(e.pluralRules),strategy:Me.variadic})}}!function(){function e(t,n,r,i){void 0===n&&(n=e.defaultLocale);var s=this;this.formatterCache={number:{},dateTime:{},pluralRules:{}};this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){e.length&&t.type===Pe.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value);return e}),[]);return n.length<=1?n[0]||"":n};this.formatToParts=function(e){return je(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)};this.resolvedOptions=function(){var e;return{locale:(null===(e=s.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}};this.getAst=function(){return s.ast};this.locales=n;this.resolvedLocale=e.resolveLocale(n);if("string"==typeof t){this.message=t;if(!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Ve(e.formats,r);this.formatters=i&&i.formatters||Ke(this.formatterCache)}Object.defineProperty(e,"defaultLocale",{get:function(){e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale);return e.memoizedDefaultLocale},enumerable:!1,configurable:!0});e.memoizedDefaultLocale=null;e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}};e.__parse=be;e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}();new WeakMap;var Ye=n("xr6y");n("khQs"),n("Te0v");"undefined"!=typeof window&&window.visualViewport;new WeakMap;"undefined"!=typeof window&&window.visualViewport;const qe=[];function Je(e,t){let{onClose:n,shouldCloseOnBlur:i,isOpen:s,isDismissable:o=!1,isKeyboardDismissDisabled:a=!1,shouldCloseOnInteractOutside:c}=e;(0,r.useEffect)((()=>{s&&qe.push(t);return()=>{let e=qe.indexOf(t);e>=0&&qe.splice(e,1)}}),[s,t]);let u=()=>{qe[qe.length-1]===t&&n&&n()},l=e=>{if((!c||c(e.target))&&qe[qe.length-1]===t){e.stopPropagation();e.preventDefault()}},d=e=>{if(!c||c(e.target)){if(qe[qe.length-1]===t){e.stopPropagation();e.preventDefault()}u()}},p=e=>{if("Escape"===e.key&&!a){e.stopPropagation();e.preventDefault();u()}};(0,Ye.useInteractOutside)({ref:t,onInteractOutside:o?d:null,onInteractOutsideStart:l});let{focusWithinProps:f}=(0,Ye.useFocusWithin)({isDisabled:!i,onBlurWithin:e=>{c&&!c(e.relatedTarget)||n()}}),h=e=>{e.target===e.currentTarget&&e.preventDefault()};return{overlayProps:Object.assign({onKeyDown:p},f),underlayProps:{onPointerDown:h}}}"undefined"!=typeof window&&window.visualViewport,new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);const $e=i().createContext(null);function Qe(e){let{children:t}=e,n=(0,r.useContext)($e),[s,o]=(0,r.useState)(0),a=(0,r.useMemo)((()=>({parent:n,modalCount:s,addModal(){o((e=>e+1));n&&n.addModal()},removeModal(){o((e=>e-1));n&&n.removeModal()}})),[n,s]);return i().createElement($e.Provider,{value:a},t)}function Xe(){let e=(0,r.useContext)($e);return{modalProviderProps:{"aria-hidden":!!(e&&e.modalCount>0)||null}}}function Ze(e){let{modalProviderProps:t}=Xe();return i().createElement("div",Object.assign({"data-overlay-container":!0},e,t))}function et(e){return i().createElement(Qe,null,i().createElement(Ze,e))}({"ar-AE":{dismiss:""},"bg-BG":{dismiss:""},"cs-CZ":{dismiss:"Odstranit"},"da-DK":{dismiss:"Luk"},"de-DE":{dismiss:"Schlieen"},"el-GR":{dismiss:""},"en-US":{dismiss:"Dismiss"},"es-ES":{dismiss:"Descartar"},"et-EE":{dismiss:"Lpeta"},"fi-FI":{dismiss:"Hylk"},"fr-FR":{dismiss:"Rejeter"},"he-IL":{dismiss:""},"hr-HR":{dismiss:"Odbaci"},"hu-HU":{dismiss:"Elutasts"},"it-IT":{dismiss:"Ignora"},"ja-JP":{dismiss:""},"ko-KR":{dismiss:""},"lt-LT":{dismiss:"Atmesti"},"lv-LV":{dismiss:"Nerdt"},"nb-NO":{dismiss:"Lukk"},"nl-NL":{dismiss:"Negeren"},"pl-PL":{dismiss:"Zignoruj"},"pt-BR":{dismiss:"Descartar"},"pt-PT":{dismiss:"Dispensar"},"ro-RO":{dismiss:"Revocare"},"ru-RU":{dismiss:""},"sk-SK":{dismiss:"Zrui"},"sl-SI":{dismiss:"Opusti"},"sr-SP":{dismiss:"Odbaci"},"sv-SE":{dismiss:"Avvisa"},"tr-TR":{dismiss:"Kapat"},"uk-UA":{dismiss:""},"zh-CN":{dismiss:""},"zh-TW":{dismiss:""}});new WeakMap},"0fuM":function(e,t,n){"use strict";n.d(t,{CATEGORY_VIEW:function(){return a},KNOWLEDGE_BASE:function(){return s},KNOWLEDGE_BASE_ARTICLE:function(){return o},THREAD_LIST:function(){return r},THREAD_VIEW:function(){return i}});const r="thread-list",i="thread-view",s="knowledge-base",o="knowledge-base-article",a="category-view"},"0oBL":function(e,t,n){"use strict";var r=n("GXXt"),i=n("0H74"),s=n("qjq5");function o(e,t,n){const s=(0,r.default)(e,n);return(0,i.default)(e,t(s),n)}t.default=(0,s.default)(o)},"0oGG":function(e,t,n){"use strict";n.d(t,{getCurrentUrl:function(){return r}});const r=(0,n("JGJA").default)("currentUrl")},"0srx":function(e,t,n){"use strict";var r=n("VZYW");const i={tileBackgroundColor:r.NEUTRAL_200,tileBorderColor:r.NEUTRAL_400},s=e=>Object.assign({},i,e);t.default=s},"0wen":function(e,t,n){"use strict";n.r(t);n.d(t,{PRIMARY:function(){return r},SECONDARY:function(){return i},TRANSPARENT_ON_PRIMARY:function(){return s}});const r="primary",i="secondary",s="transparent-on-primary"},"1+S/":function(e,t,n){"use strict";n.d(t,{localStorageKeys:function(){return r}});const r={HUBLYTICS_EVENTS_53:"HUBLYTICS_EVENTS_53",HMPL:"__hmpl"}},"12C0":function(e,t,n){"use strict";n.d(t,{CONTEXT_UPDATE:function(){return r}});const r="CONTEXT_UPDATE"},"19qb":function(e,t,n){e.exports=n.dlbpr(1,65)},"1DSk":function(e,t,n){"use strict";n.d(t,{trackSendMessage:function(){return o}});var r=n("y5/z"),i=n("E9Gc"),s=n("IA0z");const o=({threadId:e})=>t=>{const n={};"number"==typeof e&&(n.threadId=e);(0,i.trackMessageSentMetric)();t((0,r.trackInteraction)(s.EVENT_NAMES.SEND_MESSAGE,n))}},"1EAY":function(e,t,n){"use strict";n.d(t,{isPersistedThread:function(){return o}});var r=n("DdHT"),i=n("PpSk"),s=n("eg5p");const o=(0,r.default)(i.getThreadId,(e=>e!==s.STUBBED_THREAD_ID))},"1EKh":function(e,t,n){"use strict";n.d(t,{checkNetworkOnTimeout:function(){return f}});var r=n("ZVbf"),i=n("LN55"),s=n("yYAF"),o=n("Gpbg"),a=n.n(o);const c=5e3,u=()=>a().get(`${(0,s.getFullUrl)("app")}/network-check/is-the-internet-up.txt`,{timeout:c,query:{rnd:Math.random()}}).then((()=>({online:!0})),(e=>({online:!1,error:e}))),l=(e,...t)=>Object.assign(new Error,...t,{message:e}),d=e=>l("Network Unavailable",Object.assign({},e,{retry:null})),p=["TIMEOUT","NETWORKERROR"],f=()=>{let e=!0;return(0,r.createStack)((0,i.onResponse)((t=>{e=!0;return Promise.resolve(t)})),(0,i.onResponseError)((t=>{const{status:n,errorCode:r}=t;return 0===n&&p.includes(r)?e?u().then((({online:n})=>{if(!n){e=!1;return Promise.reject(d(t))}return Promise.reject(t)})):Promise.reject(d(t)):Promise.reject(t)})))}},"1Hpf":function(e,t,n){"use strict";var r=n("Ut5p"),i=n("QYOI"),s=n("OIId");const o=new i.Map,a={[s.ATTACHMENT_ERROR]:(e,t)=>{const{error:n,threadId:r}=t.payload;return e.set(r,n)},[s.DISMISS_ATTACHMENTS_ERROR]:(e,t)=>{const{threadId:n}=t.payload;return e.delete(n)},[s.ATTACHMENT_UPLOAD_START]:(e,t)=>{const{threadId:n}=t.payload;return e.delete(n)},[s.REMOVE_ATTACHMENT]:(e,t)=>{const{threadId:n}=t.payload;return e.delete(n)}};t.default=(0,r.handleActions)(a,o)},"1UGG":function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-message-history":{responder:{automatic:"Automated",bot:"Bot",unknownResponder:"Unknown user",unknownSender:"Unknown sender",unknownVisitor:"Unknown visitor",unknownVisitorAvatar:"Unknown Visitor"}}}})}},"1UfY":function(e,t,n){"use strict";n.d(t,{historyForThread:function(){return c}});var r=n("dLEV"),i=n("x1JE"),s=n("PpSk"),o=n("o4fP"),a=n("ye6p");const c=(0,r.createSelector)([o.getThreadHistories,a.threadFromProps],((e,t)=>{const n=(0,s.getThreadId)(t);return"number"!=typeof n?null:(0,i.getEntry)(n,e)}))},"1Vek":function(e,t,n){"use strict";n.d(t,{getInitialMessageText:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("8dR1");const o=(0,r.createSelector)(s.getWelcomeMessage,(0,i.default)("initialMessage"))},"1ZlA":function(e,t,n){"use strict";n.d(t,{updateSessionId:function(){return s}});var r=n("dLEV"),i=n("v+ge");const s=(0,r.createAction)(i.UPDATE_SESSION_ID,(e=>({payload:{sessionId:e}})))},"1pGl":function(e,t,n){"use strict";n.d(t,{defaultLanguage:function(){return a},getLangEnabledLocales:function(){return p},getValidLocale:function(){return d},momentMappings:function(){return u},setHtmlLang:function(){return h},setManualOverwrites:function(){return f},setupTimezone:function(){return l}});var r=n("8ASW"),i=n("Rd7q"),s=n("CQiV"),o=n("HY4P");const a="en",c={nb:"no-no",noNO:"no-no",pt:"pt-br",no:"no-no",ca:"ca-es",ar:"ar-eg"},u={pt:"pt-br","en-ie":"en-gb","en-nz":"en-au","es-co":"es-do","es-ar":"es-do","es-mx":"es",de:"de",ja:"ja","en-gb":"en-gb","en-in":"en-au",es:"es","zh-cn":"zh-cn","zh-hk":"zh-hk",nl:"nl","en-au":"en-au","en-ca":"en-ca",fi:"fi",fr:"fr","fr-ca":"fr-ca",it:"it","pt-br":"pt-br",sv:"sv",da:"da",pl:"pl",cs:"cs",ko:"ko",no:"nb","no-no":"nb",noNO:"nb","x-pseudo":"x-pseudo",id:"id",ro:"ro",ru:"ru",th:"th",hr:"hr",vi:"vi",hu:"hu",bn:"bn",af:"af","ar-eg":"ar",bg:"bg","ca-es":"ca",sl:"sl",tr:"tr",uk:"uk","he-il":"he",he:"he",sk:"sk",lt:"lt",ms:"ms","zh-tw":"zh-tw",tl:"tl-ph","pt-pt":"pt"};function l(e,t){if(!r.I18nInternal.moment)return;if(!e||!e.id){r.I18nInternal.moment.portalTz=r.I18nInternal.manualTimezone?r.I18nInternal.moment.portalTz:r.I18nInternal.moment.userTz;r.I18nInternal.timezone=r.I18nInternal.manualTimezone||"US/Eastern";r.I18nInternal.manualTimezone&&r.I18nInternal.moment.tz.setDefault(r.I18nInternal.manualTimezone);return}if(r.I18nInternal.manualTimezone){r.I18nInternal.moment.tz.setDefault(r.I18nInternal.manualTimezone);return}const n=e.id;try{if(e["moment-data"]){r.I18nInternal.moment.tz.zone(n)||r.I18nInternal.moment.tz.add(`${n}|${e["moment-data"]}`);r.I18nInternal.moment.tz(n);r.I18nInternal.timezone=n}else window.Raven&&window.Raven.captureMessage("I18n failed to parse api-verify data");if(t&&t.id){!r.I18nInternal.moment.tz.zone(t.id)&&t["moment-data"]&&r.I18nInternal.moment.tz.add(`${t.id}|${t["moment-data"]}`);r.I18nInternal.moment.tz(t.id);r.I18nInternal.userObjectTimezone=t.id}}catch(e){console.error("Unable to set up timezone",e);window.Raven&&window.Raven.captureException(e)}r.I18nInternal.timezone=r.I18nInternal.manualTimezone||window.I18N_RENDERED_TZ||r.I18nInternal.timezone;r.I18nInternal.userObjectTimezone=r.I18nInternal.manualUserObjectTimezone||window.I18N_RENDERED_USER_OBJECT_TZ||r.I18nInternal.userObjectTimezone}function d(e){let t=(e||a).toLowerCase();const n=c[t]||c[t.substring(0,2)];n&&(t=n);return t||r.I18nInternal.locale}function p(e){return r.I18nInternal.langEnabled?e:[r.I18nInternal.locale,...e]}function f(){r.I18nInternal.manualLocale=window.I18N_MANUAL_LANG;r.I18nInternal.manualTimezone=window.I18N_TZ;try{const e=localStorage&&localStorage.I18N_MANUAL_LANG,t=localStorage&&localStorage.I18N_TZ;if(e){o.Metrics.counter("localStorage-overwrote-locale").increment();r.I18nInternal.manualLocale=e}if(t){o.Metrics.counter("localStorage-overwrote-timezone").increment();r.I18nInternal.manualTimezone=t}}catch(e){r.I18nInternal.debugLog(`Failed access localStorage ${e}`)}}function h(){const e=document.querySelector("html");e.className=e.className.replace(/(^|\b)lang-[a-z]{2}($|\b)/,"");e.className+=` lang-${(0,s.default)()}`;e.setAttribute("lang",(0,i.default)())}},"1qF3":function(e,t,n){"use strict";n.d(t,{postUserInteractedWithWidgetEvent:function(){return s}});var r=n("Ozt8"),i=n("mlLV");const s=()=>{(0,r.postExternalApiEvent)({eventType:i.USER_INTERACTED_WITH_WIDGET,payload:{message:"User has interacted with the widget"}})}},"1sEq":function(e,t,n){"use strict";n.r(t);n.d(t,{default:function(){return i}});var r=n("W/fk");class i extends r.default{constructor(e){super(e);this.resolved={}}report(e){if("COMPONENT_RENDERED"===e.type||this.resolved[e.payload.entry.id]&&"CHECKS_CHANGED"!==e.type)return;const{entry:{pathname:t,timestamp:n,expiredTimestamp:r,checks:i,id:s},routeSpec:o}=e.payload;if(!this.debug)return;const a=(...e)=>console.log(`[${this.libName}]`,t,...e),c=e=>`${e.toFixed(2)}ms`,u=e=>{this.options.timingOffset&&a(`adjusted: ${c(e+this.options.timingOffset)} (offset ${this.options.timingOffset})`)};switch(e.type){case"ROUTE_STARTED":{const{route:e}=o;a(`(${e})`);break}case"ROUTE_UNEXPECTED":a("(unexpected)");break;case"ROUTE_ABANDONED":a("(abandoned)");break;case"ROUTE_PARTIAL_SUCCESS":{const{scenario:t}=e.payload.extra,{duration:r}=this.toTimings(i,n,o.partialSuccess[t]);a(`(Partial Success) ${c(r)}`);u(r);break}case"ROUTE_SUCCEEDED":{const{scenario:t}=e.payload.extra,{duration:r}=this.toTimings(i,n,o.success[t]);a(`(success) ${c(r)}`);u(r);break}case"ROUTE_FAILED":{const{error:e}=o,{duration:t}=this.toTimings(i,n,e);a(`(failure) ${c(t)}`);u(t);break}case"ROUTE_TIMEOUT_EXPIRED":{const e=r-n;a(`(timeout) ${c(e)}`);u(e);break}case"CHECKS_CHANGED":a("(update)")}switch(e.type){case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_UNEXPECTED":case"ROUTE_SUCCEEDED":case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_FAILED":this.resolved[s]=!0}}}},"1urz":function(e,t,n){e.exports=n.dlbpr(2,"TbSW")},"2+C7":function(e,t,n){"use strict";n.d(t,{clearExistingTypingTimeout:function(){return o}});var r=n("0IK8"),i=n("2soH"),s=n("lEMs");const o=(e,t)=>(n,o)=>{const a=(0,r.getSenderId)(e),c=(0,i.typingStates)(o()),u=(0,s.getTypingTimeoutIdForAgentInThread)({threadId:`${t}`,senderId:`${a}`,typingStates:c});"number"==typeof u&&clearTimeout(u)}},"20e/":function(e,t,n){"use strict";n.d(t,{showAvailabilityMessageInWidget:function(){return l}});var r=n("dLEV"),i=n("kWFB"),s=n("0PDK"),o=n("QeSX"),a=n("Avso");const c=(0,r.createSelector)([o.getAssignedResponderInWidget],(e=>!e||(0,a.getIsBot)(e)));var u=n("J4oD");const l=(0,r.createSelector)([s.getSelectedThreadId,c,u.historyDataForThread],((e,t,n)=>null!==e&&t&&Boolean(n)&&(0,i.hasMessages)(n)))},"20uS":function(e,t,n){"use strict";n.d(t,{ALWAYS_ALLOWED_PROPERTIES:function(){return s},DEFAULT_TRACK_ENDPOINT:function(){return u},EVENT_CUTOVER_THRESHOLD:function(){return c},HUBSPOT_DOMAINS_REGEX:function(){return a},NOT_ALLOWED_PROPERTY_TYPES:function(){return o},OPTIONAL_PAYLOAD_FIELDS:function(){return i},SENSITIVE_PROPERTIES:function(){return r},SESSION_REPLAY_ID_PROPERTY:function(){return l}});const r=["email","userId","hubId","hstc","utk","portalId","deviceId","device_id","last_timestamp_checked_against_session"],i=["what_event_subtype","what_value","what_value_str","where_subscreen2"],s=["userId","hubId","hstc","utk","email","lang","deviceId","namespace","[Amplitude] Session Replay ID","[Amplitude] Session Replay Debug",...i],o=["function","object","null","undefined"],a=/(br\.hubpost\.com|wthubspot\.com|connect\.com|hubspot\.(com|es|de|jp))$/,c=5184e5,u="/usage-logging/v1/log/hublytics-multi/no-auth",l="[Amplitude] Session Replay ID"},"21jQ":function(e,t,n){"use strict";n.d(t,{getIsOpen:function(){return s}});var r=n("dLEV"),i=n("vStR");const s=(0,r.createSelector)([i.getWidgetUiState],(e=>e.open))},"2EjV":function(e,t,n){"use strict";n.d(t,{buildPartialMessage:function(){return v}});var r=n("QYOI"),i=n("pHO9"),s=n("MJM1"),o=n("BvOu"),a=n("c1C1"),c=n("MWj0"),u=n("jbWx"),l=n("fPyn"),d=n("0IK8"),p=n("pTe9"),f=n("pxL+"),h=n("Y4h2"),g=n("asw7"),m=n("6O34"),E=n("bYG+"),T=n("+muk");const y=(0,E.default)(T.COMPLETED_MESSAGE_ID),A=(0,E.default)(T.PARTIAL_ORDINAL),b=(0,E.default)(T.COMPLETED_MESSAGE_TIMESTAMP),v=(e={})=>{const t=(0,l.buildStatus)((0,s.default)(c.STATUS,e)),n=(0,g.buildRecipients)(e.recipients),E=(0,m.buildSenders)(e.senders),T=e.direction||"",v=(0,d.getId)(e)||(0,o.generateUuid)(),I=(0,p.getGenericChannelId)(e)||null,S=(0,p.getCompletedMessageId)(e),C=(0,d.getTimestamp)(e)||(0,a.generateUniqueClientTimestamp)("buildPartialMessage-timestamp"),_=(0,p.getCompletedMessageTimestamp)(e)||(0,d.getTimestamp)(e)||(0,a.generateUniqueClientTimestamp)("buildPartialMessage-timestamp"),O=(0,p.getPartialOrdinal)(e);return(0,i.default)((0,f.setId)(v),y(S),A(O),(0,f.setStatus)(t),(0,f.setTimestamp)(C),b(_),(0,h.setRecipients)(n),(0,h.setSenders)(E),(0,h.setMessageDirection)(T),(0,h.setGenericChannelId)(I))(new u.default((0,r.fromJS)(e)))}},"2Nk6":function(e,t,n){"use strict";n.d(t,{getIfSelectedKBIsLatest:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("49A5");const o=(0,r.createSelector)([s.getLatestWidgetData],(0,i.default)("isKnowledgeBaseV3"))},"2Sm/":function(e,t,n){"use strict";n.d(t,{CREATE_NEW_THREAD:function(){return r}});const r=(0,n("VVfI").createAsyncActionTypes)("CREATE_NEW_THREAD")},"2Zef":function(e,t,n){"use strict";n.r(t);n.d(t,{AGENT_SENDER:function(){return i},BOT_SENDER:function(){return s},INTEGRATOR_SENDER:function(){return c},SYSTEM_SENDER:function(){return o},VID_SENDER:function(){return a},VISITOR_SENDER:function(){return r}});const r="VISITOR_SENDER",i="AGENT_SENDER",s="BOT_SENDER",o="SYSTEM_SENDER",a="VID_SENDER",c="INTEGRATOR_SENDER"},"2fjV":function(e,t,n){"use strict";n.d(t,{default:function(){return I}});var r=n("rCfO"),i=n("xZ3y"),s=n("nf9S"),o=n("0IK8"),a=n("uRns");function c(e){const t=(0,o.getType)(e);return a.AUTOMATED_CHAT_MESSAGE_TYPES.includes(t)}var u=n("/OK6"),l=n("elDb"),d=n("Lp6C"),p=n("xwWp"),f=n("jvmB"),h=n("k09d"),g=n("2Sm/"),m=n("PpSk"),E=n("PaBm"),T=n("BxyF"),y=n("QeSX"),A=n("t4ZQ"),b=n("Mx3c");const v=1e3;var I=e=>t=>{const n={},o=e=>clearTimeout(n[e]),a=(0,r.default)(((t,r,i)=>{n[t]=setTimeout((()=>{e.dispatch((0,f.default)({channel:r,threadId:t}))}),i)}));return n=>{switch(n.type){case i.THREAD_CREATED_AND_NETWORK_ONLINE:case g.CREATE_NEW_THREAD.SUCCEEDED:{const t=(0,T.getAsyncPubSubClient)(e.getState());if(!(0,E.isClientReady)(t))break;let r,s;if(n.type===g.CREATE_NEW_THREAD.SUCCEEDED){r=n.payload.threadId;s=n.payload.channel}if(n.type===i.THREAD_CREATED_AND_NETWORK_ONLINE){const t=(0,h.getSelectedThread)(e.getState());s=(0,m.getChannelName)(t);r=(0,m.getThreadId)(t)}const o=(0,p.widgetIsInAwayMode)(e.getState());if(!((0,A.getAgentType)((0,y.getAssignedResponderInWidget)(e.getState()))===b.BOT)&&(0,d.shouldCaptureVisitorEmailAddress)(e.getState())){const t=(0,l.getCustomEmailCaptureDelay)(e.getState());a(r,s,o?v:t||v)}break}case i.RECEIVED_INCOMING_MESSAGE:{const{message:e,threadId:t}=n.payload;(0,s.isConversationalMessage)(e)&&!c(e)&&(0,u.isFromAgent)(e)&&o(t);break}}return t(n)}}},"2kog":function(e,t,n){"use strict";n.d(t,{getInitialResponder:function(){return a}});var r=n("dLEV"),i=n("QeSX"),s=n("QYon"),o=n("7+Fw");const a=(0,r.createSelector)([i.getAssignedResponderInWidget,s.getPotentialResponders,o.getWidgetBotResponder],((e,t,n)=>n||(e||t.get(0))))},"2phz":function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-visitor-experience-components":{emailCapture:{failedToPublish:"Sorry, we couldn't verify your email address."}}}})}},"2soH":function(e,t,n){"use strict";n.d(t,{typingStates:function(){return r}});const r=(0,n("JGJA").default)("typingStates")},"2umt":function(e,t,n){"use strict";n.d(t,{removeTimeOnPageTrigger:function(){return s}});var r=n("SsBI"),i=n("Dt2j");const s=()=>(e,t)=>{const n=(0,r.getTimeOnPageTriggerTimeoutId)(t());clearTimeout(n);e((0,i.removeTimeOnPageTriggerAction)())}},"30KC":function(e,t,n){"use strict";n.d(t,{THREAD_INBOX_UPDATED:function(){return r}});const r="THREAD_INBOX_UPDATED"},"31tl":function(e,t,n){"use strict";n.d(t,{UNKNOWN:function(){return i},WEB:function(){return r}});const r="WEB",i="UNKNOWN"},"32pP":function(e,t,n){"use strict";n.d(t,{getVisitorIdentification:function(){return s},getVisitorIdentificationEnabled:function(){return o}});var r=n("dLEV"),i=n("JGJA");const s=e=>(0,i.default)("visitorIdentification",e),o=(0,r.createSelector)([s],(e=>e.enabled))},"34eX":function(e,t,n){var r=n("TG7G");function i(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}e.exports=i},"38AR":function(e,t,n){"use strict";n.d(t,{default:function(){return Q}});var r=n("3RTs"),i=n("t6nY"),s=n.n(i),o=n("+hQr"),a=n("cFiw"),c=n("okxY"),u=n("0Zm1"),l=n("npjq"),d=n("QOxE"),p=n("9f1P"),f=n.n(p),h=n("3MJX"),g=n("/mXs"),m=n("VZYW"),E=n("P7jJ"),T=n("RXbi"),y=n("W5Gz");const A=(0,T.hexToRgba)(m.NEUTRAL_900,.3),b=m.WHITE,v=10,I=20,S=32,C=12,_=(S-C)/2,O=f().div.withConfig({displayName:"WidgetModal__ModalWrapper"})(["position:absolute;top:0;left:0;width:100%;height:100%;background-color:",";display:flex;align-items:end;z-index:1000;border-radius:","px;"],(({$overlayColor:e})=>e),v),R=f().div.withConfig({displayName:"WidgetModal__ModalBody"})(["background-color:",";border-radius:8px;max-width:100%;width:100%;max-height:50%;overflow:auto;"],(({$backgroundColor:e})=>e)),x=f().div.withConfig({displayName:"WidgetModal__ModalHeader"})(["display:flex;justify-content:space-between;background-color:",";padding:","px ","px 0 ","px;"],(({$backgroundColor:e})=>e),I,_,I),w=f()(g.default).withConfig({displayName:"WidgetModal__CloseButton"})(["flex:0;width:","px;height:","px;font-size:","px;padding:","px;color:",";background-color:",";"],S,S,C,_,m.OBSIDIAN,(({$backgroundColor:e})=>e)),N=f().div.withConfig({displayName:"WidgetModal__ModalContent"})(["padding:0 ","px ","px ","px;background-color:",";"],I,I,I,(({$backgroundColor:e})=>e)),D=({isOpen:e,onClose:t,modalContent:n})=>{const r=(0,d.useRef)(null),{overlayProps:i,underlayProps:s}=(0,u.useOverlay)({isOpen:e,onClose:t,shouldCloseOnBlur:!1},r),{dialogProps:p}=(0,a.useDialog)({id:"live-chat-widget-modal"},r),{buttonProps:f}=(0,o.useButton)({onPress:t},(0,d.useRef)(null)),{colorOverrides:g}=n||{};return e&&n?(0,y.jsx)(O,Object.assign({},s,{$overlayColor:(null==g?void 0:g.overlayColor)||A,children:(0,y.jsx)(c.FocusScope,{contain:!0,autoFocus:!0,children:(0,y.jsxs)(R,Object.assign({},i,p,{ref:r,$backgroundColor:b,children:[(0,y.jsxs)(x,{$backgroundColor:(null==g?void 0:g.headerBackgroundColor)||b,children:[n.headerContent?n.headerContent:null,(0,y.jsx)(w,Object.assign({},f,{"data-test-id":"modal-close-button",onClick:t,use:"primary-transparent-background","aria-label":l.default.text("conversations-visitor-experience-components.widgetModal.close"),$backgroundColor:(null==g?void 0:g.headerBackgroundColor)||b,children:(0,y.jsx)(E.default,{icon:(0,y.jsx)(h.default,{})})}))]}),(0,y.jsx)(N,{$backgroundColor:(null==g?void 0:g.contentBackgroundColor)||b,children:n.bodyContent?n.bodyContent:null})]}))})})):null};D.displayName="WidgetModal";var L=D,M=n("YY0n"),P=n("+/QE"),k=n.n(P),U=n("6Jpi"),B=n("JxxT");function H(e,{showCloseButton:t}){let n=e+B.SPACING_ABOVE_WIDGET;t&&(n+=B.CLOSE_BUTTON_AND_SPACING);return n}function F({showCloseButton:e}){let t=B.SMALLEST_WIDGET_HEIGHT+B.SPACING_ABOVE_WIDGET;e&&(t+=B.CLOSE_BUTTON_AND_SPACING);return t}function G(e,t,{showCloseButton:n}){const r=H(t,{showCloseButton:n}),i=F({showCloseButton:n});return e>=r?0:e<=i?r-i:r-e}function j(e,t,{showCloseButton:n}){return t-G(e,t,{showCloseButton:n})}var W=n("uDjz");const V=["browserWindowHeight","browserWindowWidth","children","className","inline","showCloseButton","size","style","mobile","widgetLocation","forwardedRef","widgetSize"],z={small:"small","extra-small":"extra-small",default:"default"},K=f().div.withConfig({displayName:"VisitorWidgetStyleWrapper__WidgetStyleWrapper"})(["display:flex;flex-direction:column;align-items:flex-end;"," transform-origin:bottom right;"],(({inline:e,mobile:t,size:n})=>(0,p.css)(["height:",";width:",";margin-top:",";transform:",";"],(e||t)&&"100%",t&&"100%",e&&"0",n===z.small?"scale(0.75)":n===z["extra-small"]?"scale(0.5)":void 0))),Y=f().div.withConfig({displayName:"VisitorWidgetStyleWrapper__WidgetContentStyleWrapper"})(["height:",";display:flex;flex-direction:column;background:",";overflow:hidden;border-radius:","px;box-shadow:0 4px 16px rgba(0,0,0,0.1);position:relative;width:",";transition:all 0.25s ease-in-out;&.inline{box-shadow:none;height:100%;margin:0;width:100%;border-radius:0;}"],(({mobile:e,browserWindowHeight:t,showCloseButton:n,widgetSize:r})=>e?"100%":`${j(t,r.height,{showCloseButton:n})}px`),m.WHITE,B.UPDATED_VISITOR_WIDGET_BORDER_RADIUS,(({widgetSize:e,browserWindowWidth:t})=>`${(0,W.calculateChatWidgetWidth)(t||562,e.width||530)}px`)),q="chat-widget-wrapper",J=e=>{const{browserWindowHeight:t,browserWindowWidth:n,children:i,className:o,inline:a=!1,showCloseButton:c=!0,size:u=z.default,style:l,mobile:d,widgetLocation:p=U.RIGHT_ALIGNED,forwardedRef:f,widgetSize:h={width:376,height:530}}=e,g=(0,r.default)(e,V),{isOpen:m,closeModal:E,modalContent:T}=(0,M.useWidgetModalOrContext)();return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(K,{style:l,inline:a,size:u,mobile:!!d,"data-test-id":"widget-style-wrapper",children:(0,y.jsxs)(Y,Object.assign({browserWindowWidth:n,className:s()("chat-widget",o,d&&"mobile",a&&"inline"),"data-test-id":q,widgetSize:h,browserWindowHeight:t,widgetLocation:p,mobile:!!d,showCloseButton:!!c,ref:f},g,{children:[i,(0,y.jsx)(L,{isOpen:m,onClose:E,modalContent:T})]}))})})};J.displayName="VisitorWidgetStyleWrapperContent";const $=e=>(0,y.jsx)(M.WidgetModalProvider,{children:(0,y.jsx)(J,Object.assign({},e))});$.propTypes={browserWindowHeight:k().number.isRequired,browserWindowWidth:k().number.isRequired,children:k().node.isRequired,className:k().string,forwardedRef:k().object,inline:k().bool.isRequired,mobile:k().bool,showCloseButton:k().bool,size:k().oneOf(Object.keys(z)).isRequired,style:k().object,widgetLocation:U.WidgetLocationProp,widgetSize:k().shape({width:k().number.isRequired,height:k().number.isRequired}).isRequired};$.displayName="VisitorWidgetStyleWrapper";var Q=$},"3Ezh":function(e,t,n){"use strict";n.d(t,{DEFAULT_FONT_FAMILY:function(){return r}});const r="Helvetica, Arial, sans-serif"},"3Gdv":function(e,t,n){"use strict";n.d(t,{getSpamProtectionResponse:function(){return a}});var r=n("kHIv"),i=n("mEYk"),s=n.n(i),o=n("d4bX");const a=e=>{var t;if(!(0,o.isInPreview)()&&null!==(t=window)&&void 0!==t&&null!==(t=t.grecaptcha)&&void 0!==t&&t.enterprise){const t=(0,r.getSpamProtectionMetadata)(e);return t?new Promise((e=>{window.grecaptcha.enterprise.ready((()=>{window.grecaptcha.enterprise.execute(t.token,{action:t.action}).then((n=>{e({generatedToken:n,action:t.action})})).catch((t=>{s().captureException(t);e(null)}))}))})):null}return null}},"3HLt":function(e,t,n){"use strict";n.d(t,{COMPANY_LOGO:function(){return c},CUSTOM_CHAT_NAME:function(){return a},FALLBACK:function(){return i},TEAM_IDS:function(){return o},TYPE:function(){return r},USER_IDS:function(){return s},USE_CUSTOM_BRANDING_ALIAS:function(){return u}});const r=["@type"],i=["fallback"],s=["userIds"],o=["teamIds"],a=["customChatName"],c=["companyLogoUrl"],u=["useCustomBrandingAsAgentAlias"]},"3L7e":function(e,t,n){"use strict";n.d(t,{default:function(){return Ae}});var r=n("+GKH"),i=n("uB3n"),s=n("MZef"),o=n("eJ3n"),a=n("4cwC"),c=n("y+PV"),u=n("nt9Q"),l=n("stzZ"),d=n("DrqF");const p=e=>{(0,d.default)("string"==typeof e,"Expected id to be a string not a %s",typeof e)};var f=n("cjt2"),h=n("tXbc");const g=e=>e,m=(0,i.default)({name:"pubSubClient",idInvariant:p,notSetValue:(0,s.default)()}),E=(e=m,t)=>{switch(t.type){case f.INITIALIZE_PUBSUB.STARTED:{const{clientKey:n}=t.payload;return(0,o.updateEntry)(n,c.requestStarted,e)}case f.INITIALIZE_PUBSUB.SUCCEEDED:{const{client:n,clientKey:r}=t.payload;return(0,o.updateEntry)(r,(0,l.requestSucceededWithOperator)((()=>n)),e)}case f.INITIALIZE_PUBSUB.FAILED:{const{clientKey:n}=t.payload;return(0,o.updateEntry)(n,a.requestFailed,e)}case f.PUBSUB_RECONNECTING:{const{clientKey:n}=t.payload;return(0,o.updateEntry)(n,(0,u.requestStateUpdate)(h.RECONNECTING,g),e)}case f.PUBSUB_RECONNECTED:case f.PUBSUB_READY:{const{clientKey:n}=t.payload;return(0,o.updateEntry)(n,(0,u.requestStateUpdate)(h.CONNECTED,g),e)}case f.PUBSUB_DISCONNECTED:{const{clientKey:n}=t.payload;return(0,o.updateEntry)(n,(0,u.requestStateUpdate)(h.DISCONNECTED,g),e)}case f.PUBSUB_SUSPENDED:{const{clientKey:n}=t.payload;return(0,o.updateEntry)(n,(0,u.requestStateUpdate)(h.SUSPENDED,g),e)}default:return e}};var T=n("ImcI"),y=n("9pgs");const A=(0,i.default)({name:"subscriptions",idInvariant:p,notSetValue:(0,s.default)({data:null})}),b=(e=A,t)=>{switch(t.type){case f.UPDATE_SUBSCRIPTIONS.STARTED:{const{clientKey:n,subscriptions:r}=t.payload;return(0,o.updateEntry)(n,(0,T.requestStartedWithOperator)((()=>r)),e)}case f.RESUBSCRIBE.STARTED:{const{clientKey:n,subscriptions:r}=t.payload;return(0,o.updateEntry)(n,(0,u.requestStateUpdate)(h.RESUBSCRIBING,(()=>r)),e)}case f.RESUBSCRIBE.SUCCEEDED:case f.UPDATE_SUBSCRIPTIONS.SUCCEEDED:{const{clientKey:n,subscriptions:r}=t.payload;return(0,o.updateEntry)(n,(0,l.requestSucceededWithOperator)((()=>r)),e)}case f.RESUBSCRIBE.FAILED:case f.UPDATE_SUBSCRIPTIONS.FAILED:{const{clientKey:n,error:r}=t.payload;return(0,o.updateEntry)(n,(0,y.requestFailedWithError)(r),e)}default:return e}},v=b;var I=n("U7wy"),S=n("Ut5p"),C=n("I6ms"),_=n("7/wP"),O=n("bYG+");const R=(0,O.default)("globalCookieOptOut"),x=(0,O.default)("isFirstVisitorSession");var w=(0,S.handleActions)({[C.UPDATE_GLOBAL_COOKIE_OPT_OUT]:(e,t)=>{const{globalCookieOptOut:n}=t.payload;return R(n,e)},[C.UPDATE_IS_FIRST_VISITOR_SESSION]:(e,t)=>{const{isFirstVisitorSession:n}=t.payload;return x(n,e)}},new _.default),N=n("Nsdo"),D=n("ES4X"),L=n("4pOi"),M=n("M5PA"),P=n("WYdz"),k=n("V9Mx"),U=n("+282"),B=n("1Hpf"),H=n("9HFe"),F=n("Rq/r"),G=n("VSQ5");const j=null;var W=(0,S.handleActions)({[G.UPDATE_VIEW]:(e,t)=>{const{view:n}=t.payload;return n}},j),V=n("PU72"),z=n("QYOI"),K=n("VB2T");const Y=(0,z.Map)({timeoutId:0}),q={[K.ADD_TIME_ON_PAGE_TRIGGER](e,t){const{timeoutId:n}=t.payload;return e.set("timeoutId",n,e)},[K.REMOVE_TIME_ON_PAGE_TRIGGER](e){return e.set("timeoutId",0,e)}};var J=(0,S.handleActions)(q,Y),$=n("q6sI");const Q=!1;var X=(0,S.handleActions)({[C.UPDATE_SHOW_EXIT_INTENT_COOKIE_BANNER](e,t){const{visible:n}=t.payload;return n}},Q),Z=n("or04"),ee=n("05rB"),te=n("dIRc"),ne=n("qym/"),re=n("dLEV"),ie=n("AbLd");const se={widgetInputIsOnFocus:!1};var oe=(0,re.createSlice)({name:"widgetInputFocusStatus",initialState:se,reducers:{},extraReducers:e=>{e.addCase(ie.onInputFocusAction,((e,t)=>{e.widgetInputIsOnFocus=t.payload.widgetInputIsOnFocus}))}}).reducer,ae=n("8KHK");const ce={speechPocActive:!1,audioPlaybackStatus:"paused",speechRecordingStatus:"idle"},ue=(e=ce,t)=>{switch(t.type){case ae.SET_SPEECH_POC_ACTIVE:return Object.assign({},e,{speechPocActive:t.payload});case ae.SET_AUDIO_PLAYBACK_STATUS:return Object.assign({},e,{audioPlaybackStatus:t.payload});case ae.SET_SPEECH_RECORDING_STATUS:return Object.assign({},e,{speechRecordingStatus:t.payload});default:return e}};var le=n("sl1+"),de=n("HCbP"),pe=n("dK5d"),fe=n("WzHW"),he=n("N+TY"),ge=n("OV6p"),me=n("n/Ww"),Ee=n("4A01"),Te=n("jnrP"),ye=n("Kwzp"),Ae=(0,r.combineReducers)({typingStates:k.default,typingIndicatorStyle:Ee.default,availabilityMessageTimeouts:L.default,clientData:fe.default,cookieBannerOnExitVisible:X,currentView:W,emailCapture:D.default,fileUploads:U.default,fileUploadsErrors:B.default,gdpr:F.default,initialMessageBubbleVisible:V.default,kbArticle:he.default,messageEditorStaging:le.default,pubSubClient:E,resolvedAttachments:H.default,responders:M.default,selectedThreadId:ee.default,speechPoc:ue,stagedThread:ne.stagedThread,subscriptions:v,threadHistories:P.default,threads:$.default,timeOnPageTrigger:J,unpublishedMessages:te.default,visitorIdentity:w,widgetData:I.default,widgetInputFocusStatus:oe,widgetUi:N.default,feedbackSurveyEnabled:de.default,visitorIdentification:Z.default,widgetSize:pe.default,currentAnimation:ge.default,kbLibrary:me.default,entryUrlMetadata:Te.default,aiPromptsInteraction:ye.default})},"3MJX":function(e,t,n){"use strict";n("QOxE");var r=n("W5Gz");const i=e=>(0,r.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,r.jsxs)("g",{clipPath:"url(#close__clip0_12_2672)",children:[(0,r.jsx)("path",{fillOpacity:.01,d:"M0 0h32v32H0z"}),(0,r.jsx)("mask",{id:"close__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:32,height:32,children:(0,r.jsx)("g",{clipPath:"url(#close__clip1_12_2672)",children:(0,r.jsx)("path",{d:"M3.772 3.759c.445-.445 1.165-.445 1.61 0L16 14.389 26.617 3.77c.445-.446 1.165-.446 1.611 0 .446.446.446 1.166 0 1.611L17.611 16l.023-.013 10.618 10.618c.445.445.445 1.165 0 1.611-.229.217-.515.331-.812.332-.297 0-.583-.103-.811-.332L16.012 17.6 5.394 28.216c-.228.217-.514.331-.81.332-.298 0-.584-.103-.812-.332-.446-.446-.446-1.166 0-1.611l10.616-10.618L3.772 5.37c-.446-.446-.446-1.166 0-1.611z"})})}),(0,r.jsx)("g",{mask:"url(#close__a)",children:(0,r.jsx)("path",{d:"M0 0h32v32H0V0z"})})]}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("clipPath",{id:"close__clip0_12_2672",children:(0,r.jsx)("path",{d:"M0 0h32v32H0z"})}),(0,r.jsx)("clipPath",{id:"close__clip1_12_2672",children:(0,r.jsx)("path",{d:"M0 0h32v32H0z"})})]})]}));i.displayName="SVGClose";t.default=i},"3OTY":function(e,t,n){"use strict";n.d(t,{visitorConsentsToCommunicate:function(){return g}});var r=n("dLEV");const i="CONSENT_TO_COMMUNICATE",s="CONSENT_TO_COMMUNICATE_SUCCEEDED",o="CONSENT_TO_COMMUNICATE_FAILED";var a=n("tlSg"),c=n("1ZlA"),u=n("FBcP"),l=n("0PDK"),d=n("9XKB");const p=(0,r.createAction)(i),f=(0,r.createAction)(s),h=(0,r.createAction)(o,(e=>({payload:{error:e}})));function g(e=!1){return e?(e,t)=>{const n=(0,u.getSessionId)(t()),r=(0,l.getSelectedThreadId)(t()),i=(0,d.getHubspotUtk)();e(p());const s=({sessionId:t}={})=>{e((0,c.updateSessionId)(t));e(f())},o=t=>{e(h(t))};(0,a.sendConsentToCommunicate)({sessionId:n,hubspotUtk:i,threadId:r}).then(s,o).catch((e=>{setTimeout((()=>{throw e}))}))}:null}},"3RDS":function(e,t,n){"use strict";n.d(t,{getGlobalCookieOptOut:function(){return r}});const r=(0,n("JGJA").default)("globalCookieOptOut")},"3RTs":function(e,t,n){"use strict";n.d(t,{default:function(){return r}});function r(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++){n=s[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}},"3S9s":function(e,t,n){"use strict";n.d(t,{createThemeV2:function(){return s}});var r=n("wFcP");function i(e,t){const n=e=>e&&"object"==typeof e;return[e,t].reduce(((e,t)=>{Object.keys(t).forEach((r=>{const s=e[r],o=t[r];Array.isArray(s)&&Array.isArray(o)?e[r]=s.concat(...o):n(s)&&n(o)?e[r]=i(s,o):e[r]=o}));return e}),{})}const s=(e={})=>e.colors||e.font||e.components||e.config?i(r.defaultTheme,e):r.defaultTheme},"3Yas":function(e,t,n){"use strict";n.d(t,{concat:function(){return E},count:function(){return m},every:function(){return T},filter:function(){return y},get:function(){return A},has:function(){return b},keySeq:function(){return v},keyedEquivalent:function(){return I},map:function(){return S},reduce:function(){return C},set:function(){return _},some:function(){return O},sortBy:function(){return R}});function r(e){return()=>e}function i(e){return"function"==typeof e}function s(e){return"number"==typeof e&&!isNaN(e)}var o=n("yivD");function a(e){return"function"==typeof Symbol?Symbol(e):(0,o.default)(e)}var c=n("lTIY");const u=a("protocolType");function l(e,t){switch(t){case null:case void 0:return`${t}`;default:return t.constructor&&t.constructor[e]||t[e]}}function d(e,t){switch(t){case null:return"null";case void 0:return"undefined";default:return t[e]||(0,o.default)()}}function p(e,t){switch(t){case null:return"null";case void 0:return"undefined";default:return t.prototype.hasOwnProperty(e)?t.prototype[e]:(0,o.default)()}}function f(e,t,n){Object.defineProperty(e,t,{configurable:!1,enumerable:!1,value:n,writable:!0});return e}function h({args:e,name:t,fallback:n}){const r=e.indexOf(u),i=a(`__p_${t}`),s={},o=(0,c.default)(e.length,((...e)=>{const o=e[r],a=l(i,o),c=a&&s[a]||n;if(!c)throw new Error(`${t}: not implemented for type \`${o}\``);return c(...e)}));o.implement=(e,t)=>{const n=d(i,e);null==e||e[i]||f(e,i,n);s[n]=t;return t};o.implementInherited=(e,t)=>{const n=p(i,e);null==e||e.prototype.hasOwnProperty(i)||f(e.prototype,i,n);s[n]=t;return t};return o}h.TYPE=u;const g=r(!0),m=(h({args:[h.TYPE],name:"clear"}),h({args:[h.TYPE],name:"count"})),E=h({args:[g,h.TYPE],name:"concat"}),T=(h({args:[h.TYPE],name:"entrySeq"}),h({args:[i,h.TYPE],name:"every"})),y=h({args:[i,h.TYPE],name:"filter"}),A=(h({args:[s,h.TYPE],name:"flattenN"}),h({args:[i,h.TYPE],name:"forEach"}),h({args:[g,h.TYPE],name:"get",fallback:(e,t)=>t[e]})),b=h({args:[g,h.TYPE],name:"has"}),v=h({args:[h.TYPE],name:"keySeq"}),I=h({args:[h.TYPE],name:"keyedEquivalent"}),S=h({args:[i,h.TYPE],name:"map"}),C=h({args:[g,i,h.TYPE],name:"reduce"}),_=h({args:[g,g,h.TYPE],name:"set"}),O=h({args:[i,h.TYPE],name:"some"}),R=h({args:[i,h.TYPE],name:"sortBy"});h({args:[h.TYPE],name:"valueSeq"})},"3ZFB":function(e,t,n){"use strict";n.d(t,{addTimeOnPageTrigger:function(){return a}});var r=n("qqP0"),i=n("OBCX"),s=n("2umt"),o=n("p5It");const a=e=>t=>{t((0,s.removeTimeOnPageTrigger)());const n=(0,r.timeOnPageTriggerDelaySeconds)(e),a=setTimeout((()=>{t((0,o.executeTimeOnPageTrigger)())}),1e3*n);t((0,i.addTimeOnPageTriggerAction)(a))}},"3oj9":function(e,t,n){"use strict";n.d(t,{getCurrentThreadHistoryData:function(){return u}});var r=n("KXN9"),i=n("dLEV"),s=n("ZSXR"),o=n("eEyY"),a=n("si22"),c=n("eg5p");const u=(0,i.createSelector)([o.getCurrentThreadId,s.getCurrentThreadHistoryEntry,a.getStagedThreadHistory],((e,t,n)=>e===c.STUBBED_THREAD_ID?n:(0,r.getData)(t)||null))},"3yBC":function(e,t,n){"use strict";n.d(t,{INVALID_FILE_TYPE:function(){return s},SIZE_LIMIT_EXCEEDED:function(){return r},UPLOAD_ERROR:function(){return i}});const r="SIZE_LIMIT_EXCEEDED",i="UPLOAD_ERROR",s="INVALID_FILE_TYPE"},"3zN8":function(e,t,n){"use strict";n.d(t,{fetchRecommendedArticles:function(){return u}});var r=n("dLEV"),i=n("zTcI"),s=n("mEYk"),o=n.n(s),a=n("xZhp"),c=n("32pP");const u=(0,r.createAsyncThunk)("articles/fetchRecommendedArticles",(({knowledgeBaseId:e,knowledgeBaseUrl:t},{getState:n})=>{const r=n(),s=(0,a.getKnowledgeBaseRecommendationType)(r),u=(0,c.getVisitorIdentification)(r),{identificationToken:l,identificationEmail:d}=u;(0,a.getKnowledgeBaseRecommendationType)(r);return(0,i.getRecommendedArticles)({knowledgeBaseId:e,knowledgeBaseUrl:t,kbRecommendationType:s,identificationToken:l,email:d}).then((e=>e?e.results:[])).catch((e=>{o().captureException(e);throw e}))}))},"43l5":function(e,t,n){"use strict";n.d(t,{updateMessageInConversation:function(){return s}});var r=n("dLEV"),i=n("xZ3y");const s=(0,r.createAction)(i.UPDATE_MESSAGE_IN_CONVERSATION,(({updated:e,channel:t,message:n,threadId:r})=>({payload:{updated:e,channel:t,message:n,threadId:r}})))},"46XF":function(e,t,n){"use strict";n.d(t,{setError:function(){return c},setStatus:function(){return a},touch:function(){return u},updateData:function(){return o}});var r=n("xCrP"),i=n("g4ag"),s=n("N7dr");const o=(0,r.default)(s.DATA),a=(0,i.default)(s.STATUS),c=(0,i.default)(s.ERROR);function u(e){return(0,i.default)(s.UPDATED_AT,Date.now(),e)}},"49A5":function(e,t,n){"use strict";n.d(t,{getLatestWidgetData:function(){return o}});var r=n("dLEV"),i=n("KXN9"),s=n("SNA8");const o=(0,r.createSelector)(s.getWidgetDataAsyncData,(e=>(0,i.getData)(e)))},"4A01":function(e,t,n){"use strict";n.d(t,{clearTypingIndicatorStyle:function(){return o},setTypingIndicatorStyle:function(){return s}});const r={},i=(0,n("dLEV").createSlice)({name:"typingIndicatorStyle",initialState:r,reducers:{setTypingIndicatorStyle:(e,t)=>{const{threadId:n,senderId:r,style:i,shouldDisableUserInput:s}=t.payload;e[n]||(e[n]={});e[n][r]={style:i,shouldDisableUserInput:s}},clearTypingIndicatorStyle:(e,t)=>{const{threadId:n,senderId:r}=t.payload;e[n]&&delete e[n][r]}}}),{setTypingIndicatorStyle:s,clearTypingIndicatorStyle:o}=i.actions;t.default=i.reducer},"4RZQ":function(e,t,n){"use strict";var r=n("9Mwj"),i=n("It+t"),s=n("QYOI");const o=(0,s.Record)({"@type":i.ENGAGEMENT_DETAILS_MESSAGE,senders:(0,s.List)(),timestamp:0,id:"",attachments:(0,s.List)(),messageDeletedStatus:r.NOT_DELETED,clientType:"UNKNOWN",engagement:(0,s.Map)(),echo:!1,ablyTs:0,hiddenFromVisitor:!0,isAsync:!1},"EngagementDetailsRecord");t.default=o},"4SpI":function(e,t,n){"use strict";n.d(t,{publishMessage:function(){return _}});var r=n("BxyF"),i=n("k8Ub"),s=n("0IK8"),o=n("nf9S"),a=n("jguV"),c=n("/OK6"),u=n("UxsU"),l=n("PpSk");function d(e){return(0,l.getStatus)(e)===u.default.ENDED}var p=n("dLEV"),f=n("mEYk"),h=n.n(f),g=n("43l5"),m=n("qQrL"),E=n("vuNk"),T=n("KXN9"),y=n("ZSXR");const A=(0,p.createSelector)(y.getCurrentThreadHistoryEntry,T.getStatus);var b=n("VToG");const v=(0,p.createAction)(m.PUBLISH_MESSAGE.STARTED,(({channel:e,message:t,messageKey:n,threadId:r})=>({payload:{channel:e,message:t,messageKey:n,threadId:r}}))),I=(0,p.createAction)(m.PUBLISH_MESSAGE.SUCCEEDED,(({channel:e,messageKey:t,publishedMessage:n,threadId:r})=>({payload:{channel:e,messageKey:t,publishedMessage:n,threadId:r}}))),S=(0,p.createAction)(m.PUBLISH_MESSAGE.FAILED,(({channel:e,messageKey:t,message:n,threadId:r,error:i})=>({payload:{channel:e,messageKey:t,message:n,threadId:r,error:i}})));let C;const _=({channel:e,message:t,threadId:n})=>(u,l)=>{const p=(0,E.getThreadByThreadId)(l(),{threadId:n});if(t.id===C){h().captureMessage("publishMessage attempted duplicate message",{level:"warning",extra:{messageId:t.id}});return Promise.resolve()}C=t.id;if(A(l())===b.STARTED&&(0,c.isFromVisitor)(t)){u(S({channel:e,messageKey:(0,s.getId)(t),message:t,threadId:n,error:"message sent while threads fetching"}));return Promise.resolve()}if(d(p))return Promise.resolve();u(v({channel:e,message:t,messageKey:(0,s.getId)(t),threadId:n}));const f=(0,r.getPubSubClient)(l()),m={message:(0,a.serialize)(t),channel:e},T=f.publish(m).then((({data:r})=>{const i=(0,a.deserialize)({json:r});u(I({channel:e,messageKey:(0,s.getId)(t),publishedMessage:i,threadId:n}));u((0,g.updateMessageInConversation)({updated:i,channel:e,message:t,threadId:n}))})).catch((r=>{u(S({channel:e,messageKey:(0,s.getId)(t),message:t,threadId:n,error:r}))}));try{const e=Boolean((0,i.getQuickReply)(t));(0,o.isConversationalMessage)(t)&&!e&&d(p)&&h().captureMessage("VISITOR_MESSAGE_PUBLISHED_ON_CLOSED_THREAD",{extra:{threadId:n,publishData:m}})}catch(e){}T.catch((e=>{setTimeout((()=>{throw e}))}));return T}},"4W30":function(e,t,n){"use strict";e.exports=n("OS0G")},"4cgu":function(e,t,n){"use strict";n.d(t,{default:function(){return C}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("9f1P"),a=n.n(o),c=n("uax2"),u=n("0wen"),l=n("54vt");const d="primary",p="secondary",f={PRIMARY:d,SECONDARY:p},h={[d]:u.PRIMARY,[p]:u.SECONDARY},g=e=>h[e],m={[d]:l.SECONDARY,[p]:l.PRIMARY},E=e=>m[e];var T=f,y=n("CR0J"),A=n("W5Gz");const b=["use","children","Button","result","theme","currentState","onClick"],v=a()(c.default).withConfig({displayName:"VizExLoadingButton__Spinner"})(["height:0;position:absolute;top:50%;right:0;transition:opacity 0.2s;opacity:",";"],(({show:e})=>e?1:0)),I=a().div.withConfig({displayName:"VizExLoadingButton__ReadyWrapper"})(["transition:opacity 0.2s;opacity:",";"],(({show:e})=>e?1:0)),S=e=>{let{use:t=T.PRIMARY,children:n,Button:i,result:s,theme:o,currentState:a,onClick:c=(()=>{})}=e,u=(0,r.default)(e,b);const l="ready"===a,d="submitting"===a,p="done"===a;return(0,A.jsxs)(i,Object.assign({theme:o,onClick:d||p?()=>{}:c,use:g(t),style:{position:"relative"},"data-test-id":"loading-button"},u,{children:[(0,A.jsx)(I,{"data-test-id":"VizExLoadingButton-Ready",show:l,children:n}),(0,A.jsx)(v,{size:"xs",grow:!0,use:E(t),theme:o,showResult:p,show:d||p,"data-test-id":"VizExLoadingButton-Spinner",children:s})]}))};S.propTypes={Button:s().elementType.isRequired,children:s().node.isRequired,currentState:s().oneOf(["ready","submitting","done"]),onClick:s().func,result:s().node,theme:y.default,use:s().oneOf(Object.values(T))};S.displayName="VizExLoadingButton";var C=S},"4cwC":function(e,t,n){"use strict";n.d(t,{requestFailed:function(){return s}});var r=n("EN6V"),i=n("VToG");const s=(0,n("nt9Q").requestStateUpdate)(i.FAILED,r.default)},"4e8t":function(e,t,n){e.exports=n.dlbpr(1,12)},"4fgK":function(e,t,n){"use strict";n.d(t,{getIsBot:function(){return a}});var r=n("dLEV"),i=n("kHIv"),s=n("49A5"),o=n("G0k2");const a=(0,r.createSelector)(s.getLatestWidgetData,(e=>(0,o.isTypeBot)((0,i.getBotResponder)(e))))},"4kAq":function(e,t,n){"use strict";n.d(t,{initializeI18n:function(){return f}});var r=n("JGJA"),i=n("Mjoc"),s=n("5ZU4"),o=n("7CK0"),a=e=>Promise.all([(0,s.default)(e),(0,o.default)(e)]),c=n("sonf"),u=n("LZPL"),l=n.n(u);function d(){var e;const t=(null===(e=window)||void 0===e||null===(e=e.navigator)||void 0===e||null===(e=e.languages)||void 0===e?void 0:e[0])||window.navigator.language;return(null==t?void 0:t.toLowerCase())||null}function p(){try{return!l().isProd()&&localStorage&&!localStorage.getItem("TRACK_I18N_FALLBACK_TRANSLATIONS")}catch(e){return!1}}const f=({data:e={}}={})=>{p()&&localStorage.setItem("TRACK_I18N_FALLBACK_TRANSLATIONS","true");const t=(0,r.default)("language",e),n=t?{locale:t,langEnabled:!0}:{locale:d(),langEnabled:!0},s=(0,i.default)({manuallySetLocale:!0}),o=Promise.all([s.register(c.default),a(s)]);s.setLocale(n);return o}},"4nf7":function(e,t,n){"use strict";n.d(t,{getFilteredMessages:function(){return A}});var r=n("8J5U"),i=n("bOW6"),s=n("PpSk"),o=n("QYOI"),a=n("dLEV"),c=n("qjq5"),u=n("3Yas");u.concat.implement(Array,((e,t)=>o.Iterable.isIterable(e)?t.concat(e.toJS()):t.concat(e)));u.concat.implementInherited(o.Seq.Indexed,((e,t)=>t.concat(e)));u.concat.implementInherited(o.Collection.Indexed,((e,t)=>t.concat(e)));u.concat.implement(String,((e,t)=>t.concat(e)));var l=u.concat,d=(0,c.default)(l),p=n("SGjM"),f=n("DdHT"),h=n("6aYC"),g=n("k09d"),m=n("Z6IV"),E=n("3oj9"),T=n("5oUx");let y;const A=(0,a.createSelector)([g.getSelectedThread,E.getCurrentThreadHistoryData,h.getUnpublishedMessagesForCurrentThread,T.getTypingMessages],((e,t,n,a)=>{const c=(0,s.getChannelName)(e),u=(0,s.getThreadId)(e),l=(0,r.getMessages)(t)||(0,o.List)(),h=(0,f.default)(d(l),d(n),(0,p.default)((0,i.wrapFailedMessage)({threadId:u,channel:c})),d(a))((0,o.List)()),g=h.size?h.filter(m.isSupportedMessageType):(0,o.List)();(0,o.is)(y,g)||(y=g);return y}))},"4pOi":function(e,t,n){"use strict";var r=n("QYOI"),i=n("Ut5p"),s=n("SGAL");const o=(0,r.Map)();t.default=(0,i.handleActions)({[s.ADD_AVAILABILITY_MESSAGE_TIMEOUT]:(e,t)=>{const{channel:n,timeout:r}=t.payload;return e.set(n,r)}},o)},"4t9X":function(e,t,n){"use strict";n.d(t,{HELP_DESK_COMMENT_REPLY_SYSTEM_MESSAGE:function(){return r}});const r="HELP_DESK_COMMENT_REPLY_SYSTEM_MESSAGE"},"4vna":function(e,t,n){"use strict";var r=n("QYOI");const i=new r.Record({enabled:!1,scrollPercentage:50},"ScrollPercentageTrigger");t.default=i},"50iM":function(e,t,n){"use strict";n.d(t,{CUSTOMER_AGENT_ACTION_EXECUTION_MESSAGE:function(){return r}});const r="CUSTOMER_AGENT_ACTION_EXECUTION_MESSAGE"},"54vt":function(e,t,n){"use strict";n.r(t);n.d(t,{PRIMARY:function(){return r},SECONDARY:function(){return i}});const r="primary",i="secondary"},"57op":function(e,t,n){"use strict";n.d(t,{getDisabledBackgroundColor:function(){return T},getDisabledTextColor:function(){return A},getErrorTextColor:function(){return m},getHelpTextColor:function(){return L},getInputBackgroundColor:function(){return w},getInputBorderColor:function(){return O},getPlaceholderTextColor:function(){return _},getPrimaryColor:function(){return l},getTextColor:function(){return p},getTextOnPrimaryColor:function(){return h},getThemeColorsProperty:function(){return a},setDisabledBackgroundColor:function(){return y},setDisabledButtonBackground:function(){return v},setDisabledButtonBorderColor:function(){return I},setDisabledButtonTextColor:function(){return S},setDisabledTextColor:function(){return b},setErrorTextColor:function(){return E},setFontFamily:function(){return M},setHelpTextColor:function(){return D},setInputBackgroundColor:function(){return N},setInputBorderColor:function(){return R},setIsUngatedForCustomerAgentPrompts:function(){return P},setPlaceholderTextColor:function(){return C},setPrimaryColor:function(){return d},setTextColor:function(){return f},setTextOnPrimaryColor:function(){return g},setThemeColorsProperty:function(){return o},setUpdatedBorderColor:function(){return x}});var r=n("pdKL");const i=(0,r.curryable)(((e,t,n)=>{if("object"!=typeof n||null===n)throw new Error(`Error getting '${t}': the theme for VizExComponents has not been defined. Please provide a theme through the component props or styled-components ThemeProvider.`);if("object"!=typeof n[e]||null===n[e])throw new Error(`Error getting 'theme.${e}': the theme object is missing ${e} property. Please ensure the ${e} was defined on theme.`);if(!n[e][t])throw new Error(`Error getting '${t}': the property was not defined on theme.`);return n[e][t]})),s=(0,r.curryable)(((e,t,n,r)=>Object.assign({},r,{[e]:Object.assign({},r[e],{[t]:n})})));function o(e){return s("colors")(e)}function a(e){return i("colors")(e)}function c(e){return s("font")(e)}function u(e){return s("config")(e)}const l=a("primary"),d=o("primary"),p=a("text"),f=o("text"),h=a("textOnPrimary"),g=o("textOnPrimary"),m=a("errorText"),E=o("errorText"),T=a("disabledBackground"),y=o("disabledBackground"),A=a("disabledText"),b=o("disabledText"),v=(a("disabledButtonBackground"),o("disabledButtonBackground")),I=(a("disabledButtonBorder"),o("disabledButtonBorder")),S=(a("disabledButtonText"),o("disabledButtonText")),C=o("placeholderText"),_=a("placeholderText"),O=e=>a("updatedInputBorder")(e),R=o("inputBorder"),x=o("updatedInputBorder"),w=a("inputBackground"),N=o("inputBackground"),D=o("helpText"),L=a("helpText"),M=c("fontFamily"),P=(a("fontFamily"),u("isUngatedForCustomerAgentPrompts"))},"5N3d":function(e,t,n){"use strict";n.d(t,{validateAttachmentFile:function(){return o}});var r=n("3yBC"),i=n("HU6Q"),s=n("z4Bj");const o=e=>{const t=(0,s.default)();(0,i.fileExceedsSizeLimit)(e)?t.reject(r.SIZE_LIMIT_EXCEEDED):t.resolve();return t.promise}},"5ZU4":function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r={mode:"lazy",source:"I18n/lang",context:{af:function(){return n.e(3916).then(n.bind(n,"vcA6"))},"ar-eg":function(){return n.e(4193).then(n.bind(n,"n8Pg"))},bg:function(){return n.e(6720).then(n.bind(n,"J9MS"))},bn:function(){return n.e(1361).then(n.bind(n,"Co36"))},"ca-es":function(){return n.e(7770).then(n.bind(n,"0cBY"))},cs:function(){return n.e(6655).then(n.bind(n,"7DNK"))},da:function(){return n.e(9840).then(n.bind(n,"fiUS"))},de:function(){return n.e(2660).then(n.bind(n,"QyOv"))},el:function(){return n.e(9250).then(n.bind(n,"cS46"))},"en-gb":function(){return n.e(6658).then(n.bind(n,"mncG"))},en:function(){return Promise.resolve().then(n.bind(n,"Q+zP"))},"es-mx":function(){return n.e(4969).then(n.bind(n,"bjgM"))},es:function(){return n.e(7429).then(n.bind(n,"70xW"))},et:function(){return n.e(1226).then(n.bind(n,"dkAn"))},fi:function(){return n.e(306).then(n.bind(n,"s3pB"))},"fr-ca":function(){return n.e(5698).then(n.bind(n,"WcOi"))},fr:function(){return n.e(5537).then(n.bind(n,"dZ4r"))},"he-il":function(){return n.e(5574).then(n.bind(n,"nRhW"))},hi:function(){return n.e(8300).then(n.bind(n,"c7OF"))},hr:function(){return n.e(6335).then(n.bind(n,"eeNs"))},hu:function(){return n.e(7312).then(n.bind(n,"g++f"))},id:function(){return n.e(7318).then(n.bind(n,"yUoa"))},it:function(){return n.e(5878).then(n.bind(n,"u5JS"))},ja:function(){return n.e(1358).then(n.bind(n,"lh0j"))},ko:function(){return n.e(2795).then(n.bind(n,"jzP+"))},lt:function(){return n.e(1813).then(n.bind(n,"t4I/"))},ms:function(){return n.e(909).then(n.bind(n,"tv6p"))},nl:function(){return n.e(3223).then(n.bind(n,"WyYv"))},no:function(){return n.e(3212).then(n.bind(n,"SlpN"))},pl:function(){return n.e(553).then(n.bind(n,"axOR"))},"pt-br":function(){return n.e(8450).then(n.bind(n,"r73u"))},"pt-pt":function(){return n.e(4066).then(n.bind(n,"rD1o"))},ro:function(){return n.e(9048).then(n.bind(n,"T+5V"))},ru:function(){return n.e(7922).then(n.bind(n,"sXGt"))},sk:function(){return n.e(6599).then(n.bind(n,"HSov"))},sl:function(){return n.e(7576).then(n.bind(n,"0c/a"))},sv:function(){return n.e(9922).then(n.bind(n,"PHPU"))},th:function(){return n.e(9857).then(n.bind(n,"qXAR"))},tl:function(){return n.e(8869).then(n.bind(n,"YnMt"))},tr:function(){return n.e(5083).then(n.bind(n,"5DvU"))},uk:function(){return n.e(3053).then(n.bind(n,"HKuK"))},vi:function(){return n.e(8274).then(n.bind(n,"EYmz"))},"x-pseudo":function(){return n.e(162).then(n.bind(n,"UUVP"))},"zh-cn":function(){return n.e(9783).then(n.bind(n,"5y/a"))},"zh-hk":function(){return n.e(6787).then(n.bind(n,"1i8u"))},"zh-tw":function(){return n.e(4651).then(n.bind(n,"VvtL"))}}},i=n("1pGl"),s=e=>e.register(r,{getLocales:i.getLangEnabledLocales})},"5izc":function(e,t,n){"use strict";var r=n("QYOI"),i=n("9Mwj"),s=n("c1C1"),o=n("BvOu"),a=n("4t9X");class c extends((0,r.Record)({"@type":a.HELP_DESK_COMMENT_REPLY_SYSTEM_MESSAGE,id:null,timestamp:null,senders:(0,r.List)(),messageDeletedStatus:i.NOT_DELETED,noteCreatedByAgentIdAndType:(0,r.Map)({agentId:null,agentType:null}),noteCreatedByActorId:null,commentCreatedByAgentIdAndType:(0,r.Map)({agentId:null,agentType:null}),commentCreatedByActorId:null,commentCreatedAtTimestamp:null,clientType:null,commentId:null,ablyTs:null,noteId:null},"HelpDeskCommentReplyMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,o.generateUuid)(),timestamp:e.timestamp||(0,s.generateUniqueClientTimestamp)("HelpDeskCommentReplyMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=c},"5jhX":function(e,t,n){"use strict";n.d(t,{removeTypingTimeoutIdForAgentInThread:function(){return s}});var r=n("dLEV"),i=n("/UYW");const s=(0,r.createAction)(i.REMOVE_TYPING_TIMEOUT_ID,((e,t)=>({payload:{threadId:e,senderId:t}})))},"5oUx":function(e,t,n){"use strict";n.d(t,{getTypingMessages:function(){return h}});var r=n("YPLr"),i=n("Avso"),s=n("dLEV"),o=n("k09d"),a=n("Q2fA");const c=(0,s.createSelector)([e=>e,o.getSelectedThread],((e,t)=>(0,a.typingResponder)(e,{thread:t})));var u=n("eEyY"),l=n("QYOI"),d=n("+TdC"),p=n("BvOu"),f=n("cPs9");const h=(0,s.createSelector)([c,u.getCurrentThreadId],((e,t)=>{if(!e||!t)return(0,l.List)();const n=(0,r.agentTypeToCMFSenderType)((0,i.getAgentType)(e),!0),s=(0,f.getSenderKeyFromType)(n);return(0,l.List)([new d.default({id:(0,p.generateUuid)(),typingState:null,sender:{"@type":n,[s]:(0,i.getUserId)(e)}})])}))},"5rZi":function(e,t,n){"use strict";n.d(t,{createNewThread:function(){return B}});var r=n("eFd2"),i=n("dLEV"),s=n("QYOI"),o=n("JGJA"),a=n("mEYk"),c=n.n(a),u=n("N1gu"),l=n("bT+G"),d=n("sWFM"),p=n("sJho"),f=n("FBcP"),h=n("lJFu"),g=n("si22"),m=n("y5/z"),E=n("IA0z"),T=n("9XKB"),y=n("1ZlA"),A=n("wqpO"),b=n("2Sm/"),v=n("PY3R"),I=n("X3o/"),S=n("49A5"),C=n("aLl6"),_=n("cdXU"),O=n("Wt04"),R=n("ik2A"),x=n("CITH"),w=n("E9Gc"),N=n("+TdC"),D=n("KDEO"),L=n("Og8y");const M=(0,i.createAction)(b.CREATE_NEW_THREAD.STARTED),P=(0,i.createAction)(b.CREATE_NEW_THREAD.SUCCEEDED,(({channel:e,threadId:t,conversation:n,threadHistory:r,shouldAskForEmail:i})=>({payload:{channel:e,threadId:t,conversation:n,threadHistory:r,shouldAskForEmail:i}}))),k=(0,i.createAction)(b.CREATE_NEW_THREAD.FAILED,(({status:e,message:t,error:n})=>({payload:{status:e,message:t,error:n}})));let U;function B(){return(e,t)=>{const n=(0,f.getSessionId)(t()),i=(0,d.getMessageId)(t()),a=(0,p.getMessagesPageUri)(t()),b=(0,T.getHubspotUtk)(),B=(0,S.getLatestWidgetData)(t()),H=(0,g.getVisitorInitialThreadHistory)(t()),F=(0,L.getEntryUrlMetadata)(t()),G=(H[0]||[{}]).id;if(void 0===G||U===G){U===G&&c().captureMessage("createNewThread attempted duplicate initial message",{level:"warning",extra:{initialMessageId:G}});return null}U=G;e(M());return(0,A.createVisitorThread)({sessionId:n,hubspotUtk:b,messageId:i,messagesPageUri:a,visitorThreadInitialHistory:H,widgetData:B,zoneId:(0,R.getUserTimezone)(),entryUrlMetadata:F}).then((({channelDetails:n,sessionId:i,id:c,history:d,shouldAskForEmail:p})=>{const f=new r.default(Object.assign({},d,{attachments:(0,s.Map)((0,o.default)("attachments",d))})),g=(0,h.buildCreatedThread)({channelDetails:n,messagesPageUri:a,threadId:c,threadHistory:f});e((0,y.updateSessionId)(i));e((0,m.trackInteraction)(E.EVENT_NAMES.START_CONVERSATION,{action:"new conversation started",threadId:c}));(0,w.trackThreadCreatedMetric)();e(P({channel:(0,I.getChannelName)(n),threadId:c,conversation:g,threadHistory:f,shouldAskForEmail:p}));e((0,u.addAvailabilityMessage)({channel:(0,I.getChannelName)(n),threadId:c}));(0,v.postConversationStartedEvent)({thread:g});const T=B.sendFrom.find((e=>e.isResponderAI));if(T){const t=(0,o.default)("userId",T),n=new N.default({sender:{"@type":"AGENT_SENDER",id:t}});e((0,D.typingMessageReceived)(n,c,1e4))}(0,C.gdprCookieConsentOnExitIntentEnabled)(t(),B)||(0,_.getIsPrivateLoad)(B)||(0,l.handleStoreMessagesCookie)((0,O.getMessagesUtk)())})).catch(((t={})=>{var n;400===t.status&&"OUTDATED_MESSAGE"===(null===(n=t.responseJSON)||void 0===n?void 0:n.errorType)&&(0,x.postMessageToParent)("refresh-widget-data");e(k({status:t.status,message:t.message,error:t}))}))}}},"5tDa":function(e,t,n){"use strict";n.d(t,{buildWelcomeMessage:function(){return g}});var r=n("JGJA"),i=n("QYOI"),s=n("F4Hj"),o=n("/kBF"),a=n("yslo");const c=e=>e?new a.default({userIds:(0,i.List)([(0,r.default)("user_id",e)])}):new a.default,u=e=>e?(0,o.buildChatHeadingConfig)(e):c();var l=n("kg2E"),d=n("Hnb1"),p=n("4vna"),f=n("DmNG");const h=(e={})=>new l.default({displayOnScrollPercentage:new p.default((0,r.default)("displayOnScrollPercentage",e)),displayOnTimeDelay:new f.default((0,r.default)("displayOnTimeDelay",e)),displayOnExitIntent:new d.default((0,r.default)("displayOnExitIntent",e))});function g(e={}){const t=(0,r.default)("clientTriggers",e),n=(0,r.default)("chatHeadingConfig",e);return(0,s.default)((0,i.fromJS)(e)).merge({clientTriggers:h(t),chatHeadingConfig:u(n)})}},"5vQK":function(e,t,n){"use strict";n.d(t,{DEFAULT_CLIENT_KEY:function(){return r}});const r="DEFAULT_CLIENT_KEY"},"6GFX":function(e,t,n){"use strict";n.d(t,{generateIdForFile:function(){return r}});const r=({file:e,timestamp:t})=>`${e?e.name:""}-${t}`},"6HRQ":function(e,t,n){"use strict";n.d(t,{addMessageToThreadHistory:function(){return l}});var r=n("qjq5"),i=n("DdHT"),s=n("Y/B+"),o=n("Hnia"),a=n("eeeG"),c=n("OHie"),u=n("R6gb");const l=(0,r.default)(((e,t,n)=>{(0,s.messageKeyInvariant)(e);(0,u.historyMessageInvariant)(t);(0,o.threadHistoryInvariant)(n);return(0,i.default)((0,a.setMessage)(e,t),c.sortMessages)(n)}))},"6Jpi":function(e,t,n){"use strict";n.d(t,{LEFT_ALIGNED:function(){return s.LEFT_ALIGNED},RIGHT_ALIGNED:function(){return s.RIGHT_ALIGNED},WidgetLocationProp:function(){return o}});var r=n("+/QE"),i=n.n(r),s=n("FfT4");const o=i().oneOf([s.LEFT_ALIGNED,s.RIGHT_ALIGNED])},"6O34":function(e,t,n){"use strict";n.d(t,{buildSenders:function(){return o}});var r=n("QYOI"),i=n("6xui"),s=n("TWJS");const o=(e=[])=>(0,i.default)((0,r.List)(),((e,t)=>e.push((0,s.default)(t))),(0,r.List)(e))},"6OYF":function(e,t,n){"use strict";n.d(t,{TYPICAL_RESPONSE_TIME:function(){return r}});const r="TYPICAL_RESPONSE_TIME"},"6PLn":function(e,t,n){"use strict";n.d(t,{applyGdprConsent:function(){return s}});var r=n("Qf6G"),i=n("FPMu");const s=()=>(e,t)=>{(0,i.shouldRecordImplicitConsentToProcess)(t())&&e((0,r.consentToProcess)());return Promise.resolve()}},"6Y5w":function(e,t,n){"use strict";n.d(t,{sentByVisitorClient:function(){return c}});var r=n("usEm"),i=n("ul3k"),s=n("Euo8"),o=n("UJtG"),a=n("/OK6");const c=e=>(0,a.isFromVisitor)(e)||(0,r.isEmailCapturePromptMessage)(e)||(0,i.isEmailCaptureResponseMessage)(e)||(0,o.isTypicalResponseTimeMessage)(e)||(0,s.isOfficeHoursMessage)(e)},"6aYC":function(e,t,n){"use strict";n.d(t,{getUnpublishedMessagesForCurrentThread:function(){return u}});var r=n("KXN9"),i=n("x1JE"),s=n("dLEV"),o=n("eEyY"),a=n("goEE"),c=n("/5H5");const u=(0,s.createSelector)([c.getUnpublishedMessages,o.getCurrentThreadId],((e,t)=>{const n=(0,i.getEntries)(e).map(r.getData);return(0,a.getSortedMessagesByThreadId)(n,t)}))},"6d8N":function(e,t,n){"use strict";var r=n("QYOI"),i=n("JGJA"),s=n("eXJ2"),o=n("Zui/");class a extends((0,r.Record)({"@type":o.QUICK_REPLIES,quickReplies:(0,r.OrderedSet)(),allowMultiSelect:!1,allowUserInput:!1},"QuickReplyAttachment")){constructor(e=(0,r.Map)()){const t=(0,r.fromJS)((0,i.default)("quickReplies",e));super(Object.assign({},(0,s.default)(e),{quickReplies:(0,r.OrderedSet)(t)}))}}t.default=a},"6pgb":function(e,t,n){"use strict";n.d(t,{setLatestMessage:function(){return d}});var r=n("aYGO"),i=n("g4ag"),s=n("PJuP"),o=n("0IK8"),a=n("VBzW");const c=(0,i.default)(a.HAS_FILE_ATTACHMENT),u=(0,i.default)(a.PREVIEW_TEXT),l=(0,i.default)(a.PREVIEW_MESSAGE_ID),d=((0,i.default)(a.FAILED),(0,i.default)(a.RESPONDER),(0,i.default)(a.VISITOR),(e,t)=>{t=(0,i.default)(r.LATEST_MESSAGE_TIMESTAMP)((0,o.getTimestamp)(e),t);t=c(Boolean((0,s.getFileAttachments)(e)&&(0,s.getFileAttachments)(e).length),t);t=u((0,o.getPlainText)(e),t);return t=l((0,o.getId)(e),t)})},"6sJ9":function(e,t,n){"use strict";n.d(t,{getResponderByIdAndType:function(){return o}});var r=n("x1JE"),i=n("MBJP"),s=n("bXuJ");const o=(0,i.defaultMemoize)((({responders:e,senderId:t,senderType:n})=>{if(!t||!n)return null;const i=(0,s.buildResponderKey)({senderId:t,senderType:n});return(0,r.getEntry)(i,e)}))},"6xui":function(e,t,n){"use strict";var r=n("qjq5"),i=n("gjm2");t.default=(0,r.default)(i.default)},"7+Fw":function(e,t,n){"use strict";n.d(t,{getWidgetBotResponder:function(){return a}});var r=n("dLEV"),i=n("kHIv"),s=n("49A5"),o=n("G0k2");const a=(0,r.createSelector)([s.getLatestWidgetData],(e=>(0,o.isTypeBot)((0,i.getBotResponder)(e))?(0,i.getBotResponder)(e):null))},"7/wP":function(e,t,n){"use strict";var r=n("QYOI");const i={globalCookieOptOut:"",isFirstVisitorSession:!0};t.default=(0,r.Record)(i,"VisitorIdentity")},7719:function(e,t,n){"use strict";n.d(t,{EXTRA_EXTRA_SMALL:function(){return a},EXTRA_LARGE:function(){return u},EXTRA_SMALL:function(){return s},LARGE:function(){return c},MEDIUM:function(){return r},MEDIUM_SMALL:function(){return i},SMALL:function(){return o}});const r="md",i="ms",s="xs",o="sm",a="xxs",c="lg",u="xl"},"7CK0":function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r={mode:"lazy",source:"i18n-data/data/modern/locales",context:{bn:function(){return n.e(4046).then(n.bind(n,"ysKH"))},cs:function(){return n.e(8736).then(n.bind(n,"VVOk"))},da:function(){return n.e(8571).then(n.bind(n,"h9NW"))},de:function(){return n.e(7583).then(n.bind(n,"qZkF"))},el:function(){return n.e(7841).then(n.bind(n,"85sE"))},"en-au":function(){return n.e(890).then(n.bind(n,"keOP"))},"en-ca":function(){return n.e(1908).then(n.bind(n,"1yZC"))},"en-gb":function(){return n.e(3155).then(n.bind(n,"x+lZ"))},"en-ie":function(){return n.e(1378).then(n.bind(n,"ixoX"))},"en-in":function(){return n.e(401).then(n.bind(n,"d9qo"))},"en-nz":function(){return n.e(4996).then(n.bind(n,"bBQG"))},"en-us":function(){return n.e(7888).then(n.bind(n,"8I18"))},en:function(){return Promise.resolve().then(n.bind(n,"Nin7"))},"es-ar":function(){return n.e(6118).then(n.bind(n,"MFp8"))},"es-mx":function(){return n.e(7384).then(n.bind(n,"05KK"))},es:function(){return n.e(9270).then(n.bind(n,"nsOX"))},fi:function(){return n.e(7453).then(n.bind(n,"FD54"))},"fr-ca":function(){return n.e(1867).then(n.bind(n,"GYIG"))},fr:function(){return n.e(1310).then(n.bind(n,"1Dz8"))},"he-il":function(){return n.e(7171).then(n.bind(n,"+o4a"))},hr:function(){return n.e(2076).then(n.bind(n,"Sge2"))},hu:function(){return n.e(9267).then(n.bind(n,"Vyb/"))},id:function(){return n.e(4509).then(n.bind(n,"obQT"))},it:function(){return n.e(3069).then(n.bind(n,"Z4Og"))},ja:function(){return n.e(6785).then(n.bind(n,"y9JL"))},ko:function(){return n.e(4964).then(n.bind(n,"IyDS"))},lt:function(){return n.e(6718).then(n.bind(n,"qvLJ"))},ms:function(){return n.e(4366).then(n.bind(n,"eXsX"))},nl:function(){return n.e(7064).then(n.bind(n,"ChJf"))},"no-no":function(){return n.e(5801).then(n.bind(n,"HUvR"))},pl:function(){return n.e(3530).then(n.bind(n,"1Eal"))},"pt-br":function(){return n.e(6019).then(n.bind(n,"CF2C"))},"pt-pt":function(){return n.e(3103).then(n.bind(n,"vucT"))},ro:function(){return n.e(55).then(n.bind(n,"thYp"))},ru:function(){return n.e(3389).then(n.bind(n,"Qime"))},sk:function(){return n.e(5800).then(n.bind(n,"jHdr"))},sv:function(){return n.e(1037).then(n.bind(n,"11d3"))},th:function(){return n.e(8090).then(n.bind(n,"U1/B"))},tl:function(){return n.e(2334).then(n.bind(n,"1w9K"))},vi:function(){return n.e(7005).then(n.bind(n,"2+fT"))},"zh-cn":function(){return n.e(946).then(n.bind(n,"aYKo"))},"zh-hk":function(){return n.e(5366).then(n.bind(n,"Zcqq"))},"zh-tw":function(){return n.e(910).then(n.bind(n,"VVq2"))}}},i=n("1pGl"),s=e=>e.register(r,{getLocales:i.getLangEnabledLocales,type:"pojo"})},"7KOH":function(e,t,n){"use strict";n.d(t,{networkOnline:function(){return s}});var r=n("dLEV"),i=n("xZ3y");const s=(0,r.createAction)(i.NETWORK_ONLINE)},"7Qhs":function(e,t,n){"use strict";n.d(t,{CRM_OBJECT_LIFECYCLE_UPDATE:function(){return r}});const r="CRM_OBJECT_LIFECYCLE_UPDATE"},"7X4W":function(e,t,n){"use strict";var r=n("+/QE"),i=n.n(r),s=n("QOxE"),o=n("9f1P"),a=n.n(o),c=n("4cgu"),u=n("QGYt"),l=n("sl/w"),d=n("VZYW"),p=n("HtM0"),f=n("X5NR"),h=n("Mcxo"),g=n("Jr27"),m=n("3S9s"),E=n("W5Gz");const T=a().div.withConfig({displayName:"ConsentPrompt__Container"})([""," display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:12px 28px;position:relative;background:",";"],(e=>e.$isOutsideChat?(0,o.css)(["border:1px solid ",";"],d.NEUTRAL_600):(0,o.css)(["border-top:2px solid ",";"],d.CIRRUS)),d.NEUTRAL_200),y=a()(h.default).withConfig({displayName:"ConsentPrompt__SmallNoParagraphPadding"})(["display:block;line-height:24px;word-break:break-word;word-wrap:break-word;-ms-word-break:break-all;p{margin-bottom:0;}"]),A=a()(u.default).withConfig({displayName:"ConsentPrompt__FullWidthButton"})(["margin:0 auto;width:fit-content;flex:0 0 auto;border-radius:999px;&:focus-visible{outline:2px solid ",";outline-offset:-4px;}"],d.WHITE),b=a().div.withConfig({displayName:"ConsentPrompt__FlexWrapper"})(["display:flex;flex-direction:row;width:100%;margin:12px 0 8px 0;"]),v=({message:e,onClick:t,onClose:n=(()=>{}),showButton:r,isPortal53:i=!1,isOutsideChat:o=!1})=>{const[a,u]=(0,s.useState)(!1),h=()=>{t();u(!0)};return(0,E.jsxs)(T,{"data-test-id":"gdpr-consent-prompt",dir:"auto",$isOutsideChat:o,className:r||o?void 0:"m-bottom-4",children:[!r&&i&&(0,E.jsx)(g.default,{size:"sm",onClick:n,theme:o?(0,m.createThemeV2)({colors:{text:d.NEUTRAL_800}}):(0,m.createThemeV2)()}),(0,E.jsx)(y,{use:"help","data-test-id":"gdpr-consent-text",dangerouslySetInnerHTML:{__html:(0,p.formatHtml)(e)}}),r&&(0,E.jsx)(b,{children:(0,E.jsx)(c.default,{currentState:a?"submitting":"ready",Button:A,"data-test-id":"gdpr-consent-agree-button",onClick:h,children:(0,E.jsx)(f.ChatWidgetLocaleContextConsumer,{children:e=>(0,E.jsx)(l.default,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})})})})]})};v.propTypes={checkboxLabel:i().string,isOutsideChat:i().bool,isPortal53:i().bool,message:i().string.isRequired,onClick:i().func.isRequired,onClose:i().func,showButton:i().bool.isRequired};v.displayName="ConsentPrompt";t.default=v},"7eQh":function(e,t,n){"use strict";n.d(t,{buildChatHeadingConfigFromType:function(){return d}});var r=n("uOZ5"),i=n("knjC"),s=n("yslo"),o=n("QYOI"),a=n("JGJA"),c=n("/kBF");class u extends((0,o.Record)({"@type":r.OWNER,fallback:null},"OwnerChatHeadingConfig")){constructor(e){const t=(0,o.fromJS)(e),n=(0,a.default)("fallback",t);super({fallback:(0,c.buildChatHeadingConfig)(n)})}}var l=u;function d(e,t){switch(e){case r.USERS_AND_TEAMS:return new s.default(t);case r.OWNER:return new l(t);case r.COMPANY:default:return new i.default(t)}}},"7ede":function(e,t,n){"use strict";n.d(t,{MINUTES:function(){return r}});const r="MINUTES"},"7jiL":function(e,t,n){"use strict";var r=n("QYOI"),i=n("kdZJ"),s=n("9Mwj"),o=n("BvOu");class a extends((0,r.Record)({"@type":i.READ_THREAD,id:null,timestamp:null,echo:!1,sender:(0,r.Map)(),messageDeletedStatus:s.NOT_DELETED,clientType:null},"ReadThreadMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,o.generateUuid)()})).filterNot((e=>void 0===e)))}}t.default=a},"7pHJ":function(e,t,n){"use strict";n.d(t,{ApolloCacheMetrics:function(){return o},GlobalErrorMetrics:function(){return l},MemoryMetrics:function(){return u},PageLoadMetrics:function(){return a},ReduxStoreSizeMetrics:function(){return c}});var r=n("I5zW"),i=n("InHt");const s=(0,i.isAcceptanceTest)()?"-acceptance-tests":"",o=(0,r.createMetricsFactory)("apollo-cache-metrics",{library:"react-rhumb"}),a=(0,r.createMetricsFactory)(`page-load${(0,i.isPrerendering)()?"-prerendering":s}`,{library:"react-rhumb"}),c=(0,r.createMetricsFactory)(`redux-store-metrics${s}`,{library:"react-rhumb"}),u=(0,r.createMetricsFactory)(`application-memory${s}`,{library:"react-rhumb"}),l=(0,r.createMetricsFactory)(`global-error${s}`,{library:"react-rhumb"})},"7vm7":function(e,t,n){"use strict";n.d(t,{getAvailabilityOfficeHoursWillReturnMessage:function(){return c}});var r=n("dLEV"),i=n("zZzs"),s=n("k4L0"),o=n("yxYB"),a=n("G53s");const c=(0,r.createSelector)([o.getWidgetAvailabilityOptions,a.getWidgetDataLanguage],((e,t)=>{const n=(0,i.getOfficeHoursStartTime)(e);return n?(0,s.formatOfficeHoursWillReturnTimestamp)(n,t):""}))},"7zlR":function(e,t,n){"use strict";n.d(t,{handleArticleClick:function(){return o}});var r=n("Qwrb"),i=n("y5/z"),s=n("IA0z");const o=(e,t,n,o)=>a=>{a((0,i.trackInteraction)(s.EVENT_NAMES.WIDGET_INTERACTION,{action:"clicked-kb-article"}));a((0,r.navigateToKnowledgeBaseArticle)({deepLink:t,hubSpotContentId:`${e}`,hubSpotContentTextFragment:""},n,{searchTerm:o}))}},"8+3E":function(e,t,n){"use strict";var r=n("8Li4");const i={fontFamily:r.DEFAULT_FONT_FAMILY,fallbacks:[],variants:[],fontGroup:r.SYSTEM_FONTS},s=e=>Object.assign({},i,e);t.default=s},"8+iK":function(e,t,n){"use strict";n.d(t,{SIMPLE:function(){return r}});const r="SIMPLE"},"8ASW":function(e,t,n){"use strict";n.d(t,{I18nHMRContext:function(){return o},I18nInternal:function(){return s}});var r=n("npjq"),i=n("QOxE");const s=r.default,o=(0,i.createContext)({})},"8CDR":function(e,t,n){"use strict";n.d(t,{default:function(){return h}});var r=n("LZPL"),i=n.n(r);const s={hubapi:["api","email","etsu","feedback","internal","onboarding","nav","private","users","zorse"],hubspot:["app","developers","cms2","cta","forms","library","login","marketplace","onboarding","payment","services","signup","sites","spitfire","uploads"],hubteam:["graph","mesos","rodan2","tools","bootstrap","test"]},o=["sidekick","sidekickapp","hs-sites","mktg-grader","inbound","signals","private-hubteam","app-api"],a={hubapi:"api",hubspot:"app",hubteam:"tools"},c={sidekick:{true:{true:"local.getsidekick.com",false:"api.getsidekick.com"},false:{true:"local.getsidekickqa.com",false:"api.getsidekickqa.com"}},sidekickapp:{true:{true:"local.getsidekick.com",false:"app.getsidekick.com"},false:{true:"local.getsidekickqa.com",false:"app.getsidekickqa.com"}},"hs-sites":{true:{true:"local.hs-sites.com",false:"hs-sites.com"},false:{true:"local.qa.hs-sites.com",false:"qa.hs-sites.com"}},"mktg-grader":{true:{true:"local.grader.com",false:"marketing.grader.com"},false:{true:"local.graderqa.com",false:"marketing.graderqa.com"}},inbound:{true:{true:"local.inbound.org",false:"inbound.org"},false:{true:"local.dev.inbound.org",false:"dev.inbound.org"}},signals:{true:{true:"local.getsignals.com",false:"api.getsignals.com"},false:{true:"local.getsignalsqa.com",false:"api.getsignalsqa.com"}},"private-hubteam":{true:{true:"local.hubteam.com",false:"private.hubteam.com"},false:{true:"local.hubteamqa.com",false:"private.hubteamqa.com"}},"app-api":{true:{true:"local.hubspot.com",false:"api.hubspot.com"},false:{true:"local.hubspotqa.com",false:"api.hubspotqa.com"}}};class u{constructor(){this.lbDomainMap=u._buildLbDomainMap();this.domainLbMap=u._buildDomainLbMap(this.lbDomainMap)}static _buildLbDomainMap(){const e={};Object.keys(s).forEach((t=>s[t].forEach((n=>e[n]={true:{true:`local.${t}.com`,false:`${n}.${t}.com`},false:{true:`local.${t}qa.com`,false:`${n}.${t}qa.com`}}))));o.forEach((t=>e[t]=c[t]));return e}static _buildDomainLbMap(e){const t=[!0,!1],n={};Object.keys(e).forEach((r=>t.forEach((i=>t.forEach((t=>{let s=e[r][i][t],o=n[s];if(o){o.lbs[r]=!0;o.multiple=!0}else n[s]={defaultLb:r,lbs:{[r]:!0},production:i,local:t}}))))));Object.keys(a).forEach((e=>{let t=a[e];n[`local.${e}qa.com`].defaultLb=t;n[`local.${e}.com`].defaultLb=t}));return n}getDomain(e,t=!1,n=!1){let r=this.lbDomainMap[e];if(r)return r[t][n]}getLbInfo(e,t){let n=this.domainLbMap[e];if(!n)return;let r=n.defaultLb;t&&n.multiple&&n.lbs[t]&&(r=t);return{lb:r,production:n.production,local:n.local}}getLb(e,t=void 0){let n=this.getLbInfo(e,t);if(n)return n.lb}getProduction(e){let t=this.getLbInfo(e);if(t)return t.production}getLocal(e){let t=this.getLbInfo(e);if(t)return t.local}}const l=new u;l.STANDARD_LBS=s;l.NONSTANDARD_LBS=o;var d=l;const p=e=>"boolean"==typeof e||null!=e&&e.valueOf&&"boolean"==typeof e.valueOf();class f{constructor(e,t,n){this._paramIndex={};this._lonelyQMark=!1;this.encodedParamTuples=[];if(null===e||"object"!=typeof e||e instanceof f)(n=n||{}).url=e;else if(e===window.location){(n=n||{}).protocol=e.protocol.slice(0,-1);n.hostname=e.hostname;n.pathname=e.pathname;n.search=e.search;n.hash=e.hash}else n=e;if(n.url instanceof f){this._cloneFrom(n.url);this.upsertParams(n.params||{})}else{n.protocol=n.protocol||window.location.protocol.slice(0,-1);this._set(n,t)}this.update(t)}_set(e={},t={}){let n=e.url||"",r=n.indexOf("#");t.hash||(this.hash=r>=0?n.substr(r):e.hash||"");n=r>=0?n.substr(0,r):n;let i=n.indexOf("?");if(!t.params&&!t.search){this.search=i>=0?n.substr(i):e.search||"";this.upsertParams(e.params||{})}n=i>=0?n.substr(0,i):n;i=n.indexOf("//");i>0&&":"!=n[i-1]&&(i=-1);t.protocol||(this.protocol=i>0?n.substr(0,i-1):e.protocol);let s=i<0?0:i+2,o=n.indexOf("/",s);void 0===t.pathname&&(this.pathname=(o<0?"":n.substr(o))||e.pathname||"");if(void 0===t.hostname){let t=(o<0?n.substr(s):n.substr(s,o-s))||e.hostname;if(t){this._lb=e.lb;this.hostname=t}else e.lb&&this.setLb(e.lb,e)}}update(e={}){e.protocol&&(this.protocol=e.protocol);void 0!==e.hostname&&(this.hostname=e.hostname);void 0!==e.pathname&&(this.pathname=e.pathname);void 0!==e.hash&&(this.hash=e.hash);if(e.lb||void 0!==e.production||void 0!==e.local){let t={production:void 0!==e.production?e.production:this.production,local:void 0!==e.local?e.local:this.local};this.setLb(e.lb||this._lb,t)}if(e.search)this.search=e.search;else if(e.params)this.params=e.params;else if(e.paramTuples)this.paramTuples=e.paramTuples;else if(e.encodedParamTuples){this._lonelyQMark=!1;this.encodedParamTuples=e.encodedParamTuples.slice(0);this._rebuildParamInfo()}}setLb(e,t={}){let n=this.segments[0],r=this._getProduction(t.production,n),i=this._getLocal(t.local,n);this._hostname=d.getDomain(e,r,i);this._lb=this._hostname&&e;this._production=this._hostname&&r;this._local=this._hostname&&i}get href(){return this.protocol+"://"+(this.hostname||"")+this.pathname+this.search+this.hash}set href(e){this._set({url:e})}get search(){let e=this.encodedParamTuples.map((e=>e.join("="))).join("&");return e.length>0||this._lonelyQMark?"?"+e:e}set search(e){this.encodedParamTuples=[];this._lonelyQMark=!1;e.length>1?e.substr(1).split("&").forEach((e=>this.encodedParamTuples.push(e.split("=")))):"?"===e[0]&&(this._lonelyQMark=!0);this._rebuildParamInfo()}normalize(){this._lonelyQMark=!1}set hostname(e){this._hostname=e;let t=d.getLbInfo(e,this._lb);this._lb=t&&t.lb;this._production=t&&t.production;this._local=t&&t.local}get hostname(){return this._hostname}get lb(){return this._lb}set lb(e){this.setLb(e)}get production(){return this._production}set production(e){if(this._lb){this._production=!!e;this._hostname=d.getDomain(this._lb,this._production,this._local)}}get local(){return this._local}set local(e){if(this._lb){this._local=!!e;this._hostname=d.getDomain(this._lb,this._production,this._local)}}get env(){return void 0===this._production?"unknown":this._production?"prod":"qa"}get lbInfo(){return{lb:this._lb,production:this._production,local:this._local}}get segments(){let e=this.pathname.replace(/(^\/)|\/$/g,"");return(e?e.split("/"):[]).map((e=>decodeURIComponent(e)))}_rebuildParamInfo(){this._paramIndex={};this.validParams=!0;this.encodedParamTuples.forEach(((e,t)=>{this.validParams=this.validParams&&2==e.length;let n=decodeURIComponent(e[0]);this._paramIndex[n]?this._paramIndex[n].push(t):this._paramIndex[n]=[t]}))}get paramTuples(){return this.encodedParamTuples.map((e=>[decodeURIComponent(e[0]),decodeURIComponent(e[1])]))}set paramTuples(e){this.encodedParamTuples=[];this._lonelyQMark=!1;e.forEach((e=>this.encodedParamTuples.push([e[0],e[1]])));this._rebuildParamInfo()}get params(){const e={};Object.keys(this._paramIndex).forEach((t=>e[t]=this.paramValue(t)));return e}set params(e){this.encodedParamTuples=[];this._lonelyQMark=!1;Object.keys(e).forEach((t=>this.encodedParamTuples.push([t,encodeURIComponent(e[t])])));this._rebuildParamInfo()}paramValues(e){return(this._paramIndex[e]||[]).map((e=>decodeURIComponent(this.encodedParamTuples[e][1])))}paramValue(e){let t=this.paramValues(e);return t[t.length-1]}encodedParamValues(e){return(this._paramIndex[decodeURIComponent(e)]||[]).map((e=>this.encodedParamTuples[e][1]))}encodedParamValue(e){let t=this.encodedParamValues(e);return t[t.length-1]}insertParamAt(e,t,n){this.insertEncodedParamAt(e,encodeURIComponent(t),encodeURIComponent(n))}insertEncodedParamAt(e,t,n){this.encodedParamTuples.splice(e,0,[t,n]);this._rebuildParamInfo()}pushParam(e,t){this.insertParamAt(this.encodedParamTuples.length,e,t)}pushEncodedParam(e,t){this.insertEncodedParamAt(this.encodedParamTuples.length,e,t)}upsertParam(e,t){let n=this._paramIndex[e]||[];n.length>0?n.forEach((n=>this.updateParamAt(n,e,t))):this.pushParam(e,t)}upsertParams(e){Object.keys(e).forEach((t=>this.upsertParam(t,e[t])))}updateParamAt(e,t,n){this.updateEncodedParamAt(e,encodeURIComponent(t),encodeURIComponent(n))}updateEncodedParamAt(e,t,n){this.encodedParamTuples.splice(e,1,[t,n]);this._rebuildParamInfo()}removeParam(e){let t=this._paramIndex[e]||[];if(t.length>0){t.reverse().forEach((e=>this.encodedParamTuples.splice(e,1)));this._rebuildParamInfo()}}removeParamAt(e){this.encodedParamTuples.splice(e,1);this._rebuildParamInfo()}clearParams(){this.encodedParamTuples=[];this.validParams=!0;this._paramIndex={};this._lonelyQMark=!1}get valid(){return!(!this.protocol||!this._hostname||!this.pathname&&""!==this.pathname||!this.validParams)}get hostplus(){return(this.hostname||"")+this.pathname+this.search+this.hash}get pathplus(){return this.pathname+this.search+this.hash}clone(){return new f(this)}_cloneFrom(e){this.protocol=e.protocol;this._hostname=e._hostname;this._lb=e._lb;this._production=e._production;this._local=e._local;this.pathname=e.pathname;this.hash=e.hash;this.encodedParamTuples=e.encodedParamTuples.slice(0);this.validParams=e.validParams;this._paramIndex={};Object.keys(e._paramIndex).forEach((t=>{this._paramIndex[t]=e._paramIndex[t].slice(0)}));this._lonelyQMark=e._lonelyQMark;return this}_getProduction(e,t){return p(e)?e:p(this._production)?this._production:"production"==i().get(t)}_getLocal(e,t){return p(e)?e:p(this._local)?this._local:!!t&&("local"==i().get(t)||f.localService(t))}static localService(e){try{if(window.localStorage){let t=`${e.toUpperCase()}_LOCAL`;return"true"==window.localStorage.getItem(t)}}catch(e){}return!1}}f.loaded=new f(window.location);var h=f},"8Es2":function(e){var t=Object.prototype.toString;function n(e){return t.call(e)}e.exports=n},"8HpB":function(e,t,n){"use strict";n.d(t,{startPubSub:function(){return y}});var r=n("Sj+C"),i=n("mEYk"),s=n.n(i),o=n("E4Gm");const a=()=>n.e(1248).then(n.bind(n,"ZH0a"));var c=n("pjpP"),u=n("FBcP"),l=n("7KOH"),d=n("CPMP"),p=n("/Jc5"),f=n("fT+s"),h=n("lztA");const g=(e,t)=>e.filter((e=>!t.includes(e)));var m=n("PpSk"),E=n("9ZbV"),T=n("9XKB");const y=({newThreadCreated:e}={})=>(t,n)=>{t((0,c.trackUserInteraction)());const i={skipSubscribeReauth:!1,authCallback:(e,t)=>{const r=(0,u.getSessionId)(n()),i=(0,T.getHubspotUtk)();(0,o.getToken)({sessionId:r,hubspotUtk:i}).then((e=>{try{const t=(0,h.getThreads)(n()).map(m.getChannelName).valueSeq().toJS(),i=JSON.parse(e.capability),o=Object.keys(i),a=g(t,o);a.length&&s().capturePageEvent("capability mismatch",{level:"error",extra:{channels:t,grantedChannels:o,difference:a,sessionId:r}})}catch(e){}t(null,e)}),(e=>t(e))).catch((e=>{s().captureException(e)}))}},y={onConnect({connectionWasSuspended:n,reconnected:r}){t((0,l.networkOnline)());e&&t((0,E.onThreadCreatedAndNetworkOnline)());(n||r)&&t((0,p.fetchCurrentThreadHistory)());n&&t((0,f.fetchVisitorThreads)())},onDisconnect(){t((0,d.networkOffline)())},onFailure(){t((0,d.networkOffline)())}};t((0,r.initializePubSub)({clientOptions:i,lifecycleHooks:y,resolveBuilder:a}))}},"8J5U":function(e,t,n){"use strict";n.d(t,{getAttachments:function(){return c},getDirectReplies:function(){return u},getFriendlyNameResults:function(){return l},getMessages:function(){return a},getOffsetOrdinal:function(){return o},getOffsetTimestamp:function(){return s}});var r=n("MJM1"),i=n("/He/");(0,r.default)(i.MESSAGE_HAS_MORE),(0,r.default)(i.MESSAGE_OFFSET);const s=(0,r.default)(i.OFFSET_TIMESTAMP),o=(0,r.default)(i.OFFSET_ORDINAL),a=(0,r.default)(i.MESSAGE_RESULTS),c=((0,r.default)(i.VISITOR_LAST_READ_AT_TIMESTAMP),(0,r.default)(i.NUM_SOFT_DELETED_MESSAGES),(0,r.default)(i.ATTACHMENTS)),u=((0,r.default)(i.FILE_ATTACHMENTS),(0,r.default)(i.DIRECT_REPLIES)),l=(0,r.default)(i.FRIENDLY_NAME_RESULTS);(0,r.default)(i.CONVERSATION_TIMELINE_CURSOR)},"8KHK":function(e,t,n){"use strict";n.d(t,{SET_AUDIO_PLAYBACK_STATUS:function(){return i},SET_SPEECH_POC_ACTIVE:function(){return r},SET_SPEECH_RECORDING_STATUS:function(){return s},setAudioPlaybackStatus:function(){return a},setSpeechPocActive:function(){return o},setSpeechRecordingStatus:function(){return c}});const r="SET_SPEECH_POC_ACTIVE",i="SET_AUDIO_PLAYBACK_STATUS",s="SET_SPEECH_RECORDING_STATUS",o=e=>({type:r,payload:e}),a=e=>({type:i,payload:e}),c=e=>({type:s,payload:e})},"8Li4":function(e,t,n){"use strict";n.d(t,{DEFAULT_FONT_FAMILY:function(){return r},SYSTEM_FONTS:function(){return s},WEB_FONTS:function(){return i}});const r="Helvetica, Arial, sans-serif",i="Web Fonts",s="System Fonts"},"8Ma8":function(e,t,n){"use strict";n.d(t,{AccessibilityContext:function(){return a},AccessibilityContextProvider:function(){return c},useAccessibilityContext:function(){return u}});var r=n("QOxE"),i=n("0Zm1"),s=n("W5Gz");const o={shouldTrapFocus:!1,setShouldTrapFocus:e=>{},launcherRef:null,setLauncherRef:()=>{},disableAutoFocus:!1,disableWidgetClose:!1,disableWidgetDialog:!1},a=(0,r.createContext)(o),c=({children:e,disableFocusTrap:t=!1,disableAutoFocus:n=!1,disableWidgetClose:c=!1,disableWidgetDialog:u=!1})=>{const[l,d]=(0,r.useState)(!1),[p,f]=(0,r.useState)(o.launcherRef);return(0,s.jsx)(a.Provider,{value:{launcherRef:p,setLauncherRef:f,shouldTrapFocus:l,setShouldTrapFocus:t?o.setShouldTrapFocus:d,disableAutoFocus:n,disableWidgetClose:c,disableWidgetDialog:u},children:(0,s.jsx)(i.OverlayProvider,{style:{height:"100%"},children:e})})};c.displayName="AccessibilityContextProvider";const u=()=>(0,r.useContext)(a)},"8Nq+":function(e,t,n){"use strict";n.d(t,{default:function(){return E}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("9f1P"),a=n.n(o);const c=n("VZYW").NORMAN,u=e=>c;var l=n("W5Gz");const d=["badgeDescription","positioning","badgeLabel","children","showBadge"],p=({showBadge:e,positioning:t})=>e&&"on-circle"!==t&&(0,o.css)(["margin-right:14px;"]),f=a().div.withConfig({displayName:"VizExNotificationBadge__Wrapper"})(["position:relative;display:inline-flex;align-items:baseline;",";line-height:1;"],p),h=({positioning:e})=>"on-circle"===e?(0,o.css)(["left:75%;top:5%;"]):(0,o.css)(["right:-12px;top:-4px;"]),g=a().span.withConfig({displayName:"VizExNotificationBadge__CountBadge"})(["background-color:",";border:1px solid white;box-shadow:0 0 0 1px white;display:inline;pointer-events:none;text-align:center;font-size:11px;vertical-align:baseline;border-radius:500px;color:white;padding:1px 4px;position:absolute;",";"],(({theme:e})=>u(e)),h),m=e=>{let{badgeDescription:t="notifications",positioning:n="default",badgeLabel:i,children:s,showBadge:o}=e,a=(0,r.default)(e,d);return(0,l.jsxs)(f,Object.assign({},a,{showBadge:o,positioning:n,children:[s,o&&(0,l.jsx)(g,{"aria-label":t,positioning:n,children:i})]}))};m.displayName="VizExNotificationBadge";m.propTypes={badgeDescription:s().string,badgeLabel:s().node,children:s().node,positioning:s().oneOf(["default","on-circle"]),showBadge:s().bool};var E=m},"8Q5G":function(e,t,n){"use strict";n.d(t,{callIfValid:function(){return r}});const r=(e,...t)=>{"function"==typeof e&&e(...t)}},"8R/H":function(e,t,n){"use strict";n.d(t,{createDeprecatedAsyncAction:function(){return a}});var r=n("MD34"),i=n("VVfI"),s=n("ZdFx");const o=(e,t)=>t||(0,i.createAsyncActionTypes)(e),a=(0,s.default)("`createDeprecatedAsyncAction` is deprecated. Use Data Fetching Client instead (and Immer if you need immutability)",(({requestFn:e,actionName:t,actionTypes:n=null,toRecordFn:i,successMetaActionCreator:s=(()=>({})),failureMetaActionCreator:a=(()=>({}))})=>{if(!t&&!n||t&&n)throw new Error("Either an actionName or actionTypes are required to create an async action");if(!e||"function"!=typeof e)throw new Error(`Invalid requestFn "${e}"`);if(!i||"function"!=typeof i)throw new Error(`Invalid toRecordFn "${i}"`);const{STARTED:c,SUCCEEDED:u,FAILED:l}=o(t,n);return t=>n=>{const o="object"==typeof t&&!Array.isArray(t);if(t&&!o)throw new Error(`Invalid argument "${t}"`);n({type:c,payload:{requestArgs:t}});const d=e(t).then((e=>{const r={requestArgs:t,data:i(e)};return n({type:u,payload:r,meta:s(r)})}),(e=>{const r={requestArgs:t,error:e};return n({type:l,payload:r,meta:a(r)})}));(0,r.default)(d);return d}}))},"8RWs":function(e,t,n){"use strict";n.d(t,{fetchAgentResponderIfNecessary:function(){return f}});var r=n("aLTZ"),i=n("Mx3c"),s=n("kP7l"),o=n("6sJ9"),a=n("W/er"),c=n("KXN9"),u=n("FBcP"),l=n("Avso"),d=n("eEyY");const p=e=>e===i.BOT?r.BOT:r.HUMAN,f=({senderId:e,senderType:t})=>(n,r)=>{const i=(0,a.getResponders)(r()),f=(0,o.getResponderByIdAndType)({responders:i,senderId:e,senderType:t}),h=(0,c.getData)(f),g=(0,l.getUserId)(h),m=(0,d.getCurrentThreadId)(r());if(!e||g||!m)return;const E=p(t);n((0,s.fetchAgentResponder)({senderId:e,agentType:E,sessionId:(0,u.getSessionId)(r()),threadId:(0,d.getCurrentThreadId)(r())}))}},"8X3F":function(e,t,n){var r=n("BEas"),i=n("9wc3"),s=n("8Es2"),o="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;function u(e){return null==e?void 0===e?a:o:c&&c in Object(e)?i(e):s(e)}e.exports=u},"8cLO":function(e,t,n){"use strict";n.d(t,{gdprExplicitConsentRequired:function(){return o}});var r=n("DdHT"),i=n("kHIv"),s=n("VvTX");const o=(0,r.default)(i.getMessage,s.getGdprExplicitConsentRequired)},"8dR1":function(e,t,n){"use strict";n.d(t,{getWelcomeMessage:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("49A5");const o=(0,r.createSelector)(s.getLatestWidgetData,(0,i.default)("message"))},"8f+m":function(e,t,n){"use strict";n.d(t,{default:function(){return p}});var r=n("QYOI"),i=n("JGJA"),s=n("MYjy");function o(e){return e&&"string"==typeof e.type&&"string"==typeof e.value}function a(e){const t=(0,i.default)("deliveryIdentifier",e);return Boolean(t&&!o(t)&&"length"in t&&!r.Map.isMap(t))}function c(e){return{singleDeliveryIdentifier:(0,s.default)((0,i.default)("singleDeliveryIdentifier",e))}}function u(e){return{singleDeliveryIdentifier:(0,i.default)("singleDeliveryIdentifier",e)?(0,s.default)((0,i.default)("singleDeliveryIdentifier",e)):(0,s.default)((0,i.default)("deliveryIdentifier",e))}}function l(e){const t=(0,i.default)("actorId",e),n=(0,i.default)("recipientField",e),{singleDeliveryIdentifier:r}=a(e)?c(e):u(e);return{actorId:t,recipientField:n,singleDeliveryIdentifier:r,deliveryIdentifier:r,name:(0,i.default)("name",e)}}const d=(0,r.Record)({actorId:null,singleDeliveryIdentifier:(0,s.default)(),deliveryIdentifier:(0,s.default)(),recipientField:null,name:null},"Recipient");function p(e){const t=l(e);return d(t)}},"8ghC":function(e,t,n){"use strict";n.d(t,{isOpenThreadMessage:function(){return o}});var r=n("GqTt"),i=n("M1Uo"),s=n("UxsU");const o=e=>(0,r.isThreadStatusUpdateMessage)(e)&&(0,i.getCurrentStatus)(e)===s.default.STARTED},"8i16":function(e,t,n){var r=n("mrEz"),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},"97n4":function(e,t,n){"use strict";n.d(t,{getDisplayOnExitIntent:function(){return u},getDisplayOnScrollPercentage:function(){return a},getDisplayOnTimeDelay:function(){return c}});var r=n("MJM1");const i=["displayOnScrollPercentage"],s=["displayOnTimeDelay"],o=["displayOnExitIntent"],a=(0,r.default)(i),c=(0,r.default)(s),u=(0,r.default)(o)},"9F2+":function(e,t,n){"use strict";n.d(t,{getAttachments:function(){return s}});var r=n("MJM1"),i=n("MWj0");const s=(0,r.default)(i.ATTACHMENTS)},"9HFe":function(e,t,n){"use strict";n.d(t,{default:function(){return w}});var r=n("Ut5p"),i=n("JGJA"),s=n("uB3n"),o=n("MZef"),a=n("QYOI"),c=n("qjq5"),u=n("DrqF"),l=n("dAms"),d=n("JoAZ"),p=n("neHy"),f=n("OPip"),h=n("Sbt9"),g=n("x1JE");const m=g.getEntry;var E=n("Oo4n");const T=(0,c.default)(((e,t,n)=>{(0,d.indexedDataInvariant)(n);(0,p.operatorInvariant)(t);(0,u.default)(a.Iterable.isIterable(e),"Expected ids to be iterable not a `%s`",typeof e);const r=(e,r)=>{(0,f.applyIdInvariant)(r,n);return e.set((0,h.applyIdTransform)(r,n),t(r,m(r,n)))};return(0,E.applyEvict)(n.updateIn(l.ENTRIES,(t=>e.reduce(r,t))))}));var y=n("Pda3"),A=n("eJ3n"),b=n("XkPn"),v=n("y+PV"),I=n("stzZ"),S=n("4cwC"),C=n("/u6M"),_=n("+tWo"),O=n("OIId");const R=(0,s.default)({notSetValue:(0,o.default)({data:null})}),x={[C.RESOLVE_ATTACHMENTS.STARTED](e,t){const{requestArgs:{fileIds:n}}=t.payload,r=(0,g.getEntries)(e),i=n.filter((e=>{const t=r.get(`${e}`);return!(0,y.isSucceeded)(t)}));return T(i,((e,t)=>(0,v.requestStarted)(t)),e)},[C.RESOLVE_ATTACHMENTS.SUCCEEDED](e,t){const{requestArgs:{fileIds:n},data:r}=t.payload;return T(n,((e,t)=>(0,I.requestSucceededWithOperator)((()=>(0,i.default)(e,r)),t)),e)},[O.ATTACHMENT_UPLOAD_COMPLETE](e,t){const{fileId:n,uploadedFile:r}=t.payload,i=new b.default({fileMetadata:r,fileId:n});return(0,A.updateEntry)(n,(e=>(0,I.requestSucceededWithOperator)((()=>i),e)),e)},[_.FETCH_THREAD_HISTORY.SUCCEEDED](e,t){const{data:{files:n}}=t.payload,r=n.keySeq().toList();return T(r,((e,t)=>(0,I.requestSucceededWithOperator)((()=>(0,i.default)(e,n)),t)),e)},[C.RESOLVE_ATTACHMENTS.FAILED](e,t){const{requestArgs:{fileIds:n}}=t.payload;return T(n,((e,t)=>(0,S.requestFailed)(t)),e)}};var w=(0,r.handleActions)(x,R)},"9Mwj":function(e,t,n){"use strict";n.d(t,{NOT_DELETED:function(){return r}});const r="NOT_DELETED"},"9P7L":function(e,t,n){"use strict";n.d(t,{fetchAttachmentUploadUrlClient:function(){return s}});var r=n("eLSo");const i="livechat-public/v1/attachment/upload-url",s=({sessionId:e,threadId:t})=>r.default.get(i,{query:{sessionId:e,threadId:t}})},"9Utk":function(e,t,n){var r=n("kmmH"),i=n("HTmY"),s=n("0Aa+"),o="Expected a function",a=Math.max,c=Math.min;function u(e,t,n){var u,l,d,p,f,h,g=0,m=!1,E=!1,T=!0;if("function"!=typeof e)throw new TypeError(o);t=s(t)||0;if(r(n)){m=!!n.leading;d=(E="maxWait"in n)?a(s(n.maxWait)||0,t):d;T="trailing"in n?!!n.trailing:T}function y(t){var n=u,r=l;u=l=void 0;g=t;return p=e.apply(r,n)}function A(e){g=e;f=setTimeout(I,t);return m?y(e):p}function b(e){var n=t-(e-h);return E?c(n,d-(e-g)):n}function v(e){var n=e-h;return void 0===h||n>=t||n<0||E&&e-g>=d}function I(){var e=i();if(v(e))return S(e);f=setTimeout(I,b(e))}function S(e){f=void 0;if(T&&u)return y(e);u=l=void 0;return p}function C(){void 0!==f&&clearTimeout(f);g=0;u=h=l=f=void 0}function _(){return void 0===f?p:S(i())}function O(){var e=i(),n=v(e);u=arguments;l=this;h=e;if(n){if(void 0===f)return A(h);if(E){f=setTimeout(I,t);return y(h)}}void 0===f&&(f=setTimeout(I,t));return p}O.cancel=C;O.flush=_;return O}e.exports=u},"9XKB":function(e,t,n){"use strict";n.d(t,{getHubspotUtk:function(){return c},setHubspotUtk:function(){return u}});var r=n("q8Gl"),i=n("Syy6");const s=300,o=({key:e,value:t})=>{const n=(0,r.getWindowLocation)();n.upsertParam(e,t);window.history.replaceState(null,"",n.search)},a=n.n(i)()((({key:e,value:t})=>o({key:e,value:t})),s,{leading:!0,trailing:!1}),c=()=>(0,r.getWindowLocation)().paramValue("hubspotUtk"),u=e=>{c()!==e&&a({key:"hubspotUtk",value:e})}},"9ZbV":function(e,t,n){"use strict";n.d(t,{onThreadCreatedAndNetworkOnline:function(){return s}});var r=n("dLEV"),i=n("xZ3y");const s=(0,r.createAction)(i.THREAD_CREATED_AND_NETWORK_ONLINE)},"9f1P":function(e,t,n){e.exports=n.dlbpr(1,70)},"9i6G":function(e,t,n){"use strict";n.d(t,{CHANNEL_CHANGE:function(){return i},ChannelChange:function(){return o}});var r=n("QYOI");const i="CHANNEL_CHANGE",s=(0,r.Record)({"@type":i,oldChannel:(0,r.Map)(),newChannel:(0,r.Map)(),id:null,timestamp:null},"ChannelChange");class o extends s{constructor(e){super(Object.assign({},e,{oldChannel:(0,r.Map)(e.oldChannel),newChannel:(0,r.Map)(e.newChannel),"@type":i}))}}},"9j/6":function(e,t){"use strict";const n={chatConfig:null,client:null,connectionInProgress:!1,forceClientOffline:!1,isAdmin:!0,isInForeground:!0,isPubNubClientConnected:!1,serverTimeOffsetInMs:0,timestamps:null,uuid:null},r=e=>Object.assign({},n,e);t.default=r},"9pgs":function(e,t,n){"use strict";n.d(t,{requestFailedWithError:function(){return a}});var r=n("qjq5"),i=n("DdHT"),s=n("VToG"),o=n("46XF");const a=(0,r.default)(((e,t)=>(0,i.default)((0,o.setError)(e),(0,o.setStatus)(s.FAILED),o.touch)(t)))},"9wc3":function(e,t,n){var r=n("BEas"),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;function c(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=o.call(e);r&&(t?e[a]=n:delete e[a]);return i}e.exports=c},"9zF3":function(e,t,n){"use strict";n.d(t,{calculateUnseenThreadsCount:function(){return a}});var r=n("dLEV"),i=n("PpSk"),s=n("k09d"),o=n("CM4h");const a=(0,r.createSelector)([s.getSelectedThread,o.calculateUnseenThreadsCountExcludeCurrent],((e,t)=>e?t+((0,i.getUnseenCount)(e)?1:0):t))},"A5f/":function(e,t,n){"use strict";var r=n("QYOI"),i=n("nguO");const s=(0,r.Record)({[i.MESSAGE_TYPE_ID]:i.FAILED_TO_PUBLISH,threadId:null,channel:null,channelName:"",genericChannelId:null,message:null,allowRetry:!0},"FailedToPublish");t.default=s},AEyM:function(e,t,n){"use strict";n.d(t,{sendVisitorEmailAddress:function(){return E}});var r=n("dLEV"),i=n("FBcP"),s=n("xZ3y"),o=n("sIRh"),a=n("z96q"),c=n("3OTY"),u=n("y5/z"),l=n("IA0z"),d=n("vuNk"),p=n("9XKB"),f=n("PpSk");const h=(0,r.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS,(e=>({payload:{email:e}}))),g=(0,r.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS_FAILED,(e=>({payload:{error:e}}))),m=(0,r.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS_SUCCEEDED,(e=>({payload:{email:e}})));function E({consentToCommunicate:e=!1,email:t,threadId:n}){return(r,s)=>{r(h(t));const E=(0,d.getThreadByThreadId)(s(),{threadId:n}),T=(0,f.getChannelName)(E),y=(0,i.getSessionId)(s()),A=(0,p.getHubspotUtk)(),b=()=>{r(m(t));r((0,o.default)({channel:T,email:t,threadId:n}));e&&r((0,c.visitorConsentsToCommunicate)(e));r((0,u.trackInteraction)(l.EVENT_NAMES.WIDGET_INTERACTION,{action:"submit email"}));return{error:null}},v=e=>{r(g(e));return{error:e}};return a.sendVisitorEmailAddress({threadId:n,email:t,sessionId:y,hubspotUtk:A}).then(b,v)}}},AFl3:function(e,t,n){"use strict";n.d(t,{getAgentRespondersList:function(){return s}});var r=n("dLEV"),i=n("ncoD");const s=(0,r.createSelector)([i.getAllAgentResponders],(e=>e.toList()))},AaWM:function(e,t,n){"use strict";var r=n("QYOI"),i=n("3Yas");i.has.implement(Array,((e,t)=>t.hasOwnProperty(e)));i.has.implementInherited(r.Iterable,((e,t)=>t.has(e)));i.has.implement(Object,((e,t)=>t.hasOwnProperty(e)));t.default=i.has},AbLd:function(e,t,n){"use strict";n.d(t,{onInputFocusAction:function(){return s},toggleOnAndOffInputFocus:function(){return o}});var r=n("dLEV"),i=n("xZ3y");const s=(0,r.createAction)(i.USER_INPUT_ON_FOCUS,(e=>({payload:{widgetInputIsOnFocus:e}})));function o(e){return t=>{t(s(e))}}},Ae0c:function(e,t,n){"use strict";n.d(t,{KBSearchProvider:function(){return o},useKBSearch:function(){return a}});var r=n("QOxE"),i=n("W5Gz");const s=(0,r.createContext)(void 0),o=({children:e})=>{const[t,n]=(0,r.useState)("");return(0,i.jsx)(s.Provider,{value:{searchTerm:t,setSearchTerm:n},children:e})};o.displayName="KBSearchProvider";const a=()=>{const e=(0,r.useContext)(s);return e||{searchTerm:"",setSearchTerm:()=>{}}}},AgM1:function(e,t,n){"use strict";n.d(t,{useTheme:function(){return o}});var r=n("QOxE"),i=n("pcz0");const s=(0,r.createContext)((0,i.default)()),o=()=>(0,r.useContext)(s);t.default=s},"As+A":function(e,t,n){"use strict";n.d(t,{publishAvailabilityMessage:function(){return p}});var r=n("eH/d"),i=n("tyiq"),s=n("fZy4"),o=n("yxYB"),a=n("vuNk"),c=n("J4oD"),u=n("BlNW"),l=n("PpSk");function d({channel:e,thread:t,state:n,dispatch:r}){const a=(0,o.getWidgetAvailabilityOptions)(n),d=!!(0,i.getTypicalResponseTime)(a),p=(0,l.getThreadId)(t),f=(0,c.historyDataForThread)(n,{thread:t});d&&(0,u.canSendNewTypicalResponseTimeMessage)(f)&&r((0,s.publishTypicalResponseTimeMessage)({channel:e,threadId:p}))}const p=({channel:e,threadId:t})=>(n,i)=>{const s=(0,a.getThreadByThreadId)(i(),{threadId:t}),o=(0,c.historyDataForThread)(i(),{thread:s});o&&(0,r.hasChatMessageFromAgent)(o)||d({channel:e,thread:s,state:i(),dispatch:n})}},Avso:function(e,t,n){"use strict";n.d(t,{getAgentState:function(){return w},getAgentType:function(){return N},getAvatar:function(){return b},getEmail:function(){return S},getFirstName:function(){return v},getFriendlyOrFormalName:function(){return _},getIsBot:function(){return O},getIsOnline:function(){return R},getIsResponderAI:function(){return D},getLastName:function(){return I},getUserId:function(){return x}});var r=n("DdHT"),i=n("JGJA"),s=n("dPcB"),o=n("CQiV");const a="avatar",c="firstName",u="lastName",l="bot",d="userId",p="online",f="email",h="agentState",g="agentType",m="meetingsLinkText",E="meetingsLinkUrl",T="isResponderAI";var y=n("a3lm");const A=["de","ja"],b=(0,i.default)(a),v=(0,i.default)(c),I=(0,i.default)(u),S=(0,i.default)(f),C=e=>(0,s.default)({firstName:v(e),lastName:I(e)}),_=(e,t)=>{const n=t||(0,o.default)();return A.indexOf(n)>=0?C(e):v(e)},O=(0,i.default)(l),R=(0,i.default)(p),x=e=>(0,r.default)((0,i.default)(d),(e=>e&&`${e}`))(e),w=(0,i.default)(h),N=(0,i.default)(g),D=((0,i.default)(m),(0,i.default)(E),(0,i.default)(y.AGENT),(0,i.default)(T))},B39b:function(e,t,n){"use strict";n.d(t,{getIsFirstVisitorSession:function(){return r}});const r=(0,n("JGJA").default)("isFirstVisitorSession")},B6df:function(e,t,n){"use strict";n.d(t,{hasNewUnseenMessage:function(){return o}});var r=n("npjq"),i=n("b4ad"),s=n("ywGS");const o=({channel:e,threadId:t})=>n=>{n((0,i.incrementUnseenCount)({channel:e,threadId:t}));(0,s.postShowPageTitleNotification)({title:r.default.text("conversationsVisitorUIPageTitleNotifications.newMessage")})}},BDi3:function(e,t,n){"use strict";n.d(t,{buildErrorMetaObject:function(){return r}});const r=({ignore:e=!1,message:t,silent:n=!1,titleText:r,displayEventId:i=!0,isVisibleToUser:s=!0,silenceErrorReporting:o=!1})=>({error:{ignore:e,message:t,silent:n,titleText:r,displayEventId:i,isVisibleToUser:s,silenceErrorReporting:o}})},BEas:function(e,t,n){var r=n("8i16").Symbol;e.exports=r},BEfq:function(e,t,n){"use strict";n.d(t,{removeMessageEditorStagingText:function(){return u},removeMessageEditorStagingTextAction:function(){return a},setMessageEditorStagingText:function(){return c},setMessageEditorTextAction:function(){return o}});var r=n("dLEV"),i=n("xZ3y"),s=n("0PDK");const o=(0,r.createAction)(i.UPDATE_MESSAGE_EDITOR_STAGING_TEXT,(e=>({payload:e}))),a=(0,r.createAction)(i.REMOVE_MESSAGE_EDITOR_STAGING_TEXT,(e=>({payload:e}))),c=e=>(t,n)=>{t(o({stagingText:e,threadId:(0,s.getSelectedThreadId)(n())}))},u=()=>(e,t)=>{e(a((0,s.getSelectedThreadId)(t())))}},BG1d:function(e,t,n){"use strict";n.d(t,{isErrorAction:function(){return s}});var r=n("nSiU");const i=/.+_(FAILED|FAILURE)/,s=e=>!(!i.test(e.type)||(0,r.ignoreError)(e))||!(!(0,r.getErrorMeta)(e)||(0,r.ignoreError)(e))},BGhm:function(e,t,n){"use strict";n.d(t,{numberIdInvariant:function(){return i}});var r=n("DrqF");const i=e=>{const t=parseInt(e,10);(0,r.default)("number"==typeof t&&!isNaN(t),'Expected id to be parsable as a number not a %s. id was "%s".',typeof e,e)}},BOwv:function(e,t,n){"use strict";n.d(t,{SESSION_EXPIRY_TIME_APPROXIMATION_IN_MS:function(){return r}});const r=18e5},BlNW:function(e,t,n){"use strict";n.d(t,{canSendNewTypicalResponseTimeMessage:function(){return l}});var r=n("+2bk"),i=n("mE3N"),s=n("UJtG"),o=n("iPDb"),a=n("kWFB");const c=e=>{if(!(0,a.hasMessages)(e))return!1;const t=(0,o.getMessages)(e).findLast(s.isTypicalResponseTimeMessage);return!(!t||!(0,i.getMessageIsApproximatelyFromCurrentSession)(t))};var u=n("dML/");const l=e=>!(0,r.hasBotMessages)(e)&&(!c(e)||(0,u.enoughTimeHasPassedForNewAutomatedChatMessage)(e))},Blk5:function(e,t,n){"use strict";n.d(t,{TICKET_CREATION_FAILURE:function(){return r}});const r="TICKET_CREATION_FAILURE"},BvOu:function(e,t,n){"use strict";n.d(t,{generateUuid:function(){return s}});function r(){let e=(new Date).getTime();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(e+16*Math.random())%16|0;e=Math.floor(e/16);return("x"===t?n:3&n|8).toString(16)}))}function i(){const e=window.crypto||window.msCrypto,t=new Uint16Array(8);e.getRandomValues(t);const n=e=>{let t=e.toString(16);for(;t.length<4;)t=`0${t}`;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}function s(){const e=window.crypto||window.msCrypto;return void 0!==e&&void 0!==e.getRandomValues&&void 0===window.Uint16Array?i():r()}},BvPy:function(e,t,n){"use strict";n.d(t,{getRecommendedQuestionsForAgent:function(){return o}});var r=n("dLEV"),i=n("49A5"),s=n("kHIv");const o=(0,r.createSelector)(i.getLatestWidgetData,(e=>(0,s.getRecommendedQuestionsForAgent)(e)||[]))},BxyF:function(e,t,n){"use strict";n.d(t,{getAsyncPubSubClient:function(){return l},getPubSubClient:function(){return d}});var r=n("JGJA"),i=n("MBJP"),s=n("KXN9"),o=n("x1JE"),a=n("5vQK");const c=(0,r.default)("pubSubClient"),u=(e,{clientKey:t=a.DEFAULT_CLIENT_KEY}={})=>t,l=(0,i.createSelector)([u,c],o.getEntry),d=(0,i.createSelector)([l],s.getData);(0,i.createSelector)([d],(e=>e&&e.vendor))},C3IS:function(e,t,n){"use strict";n.d(t,{isChatMessage:function(){return u},isCommonMessageFormat:function(){return a},isEmailCMF:function(){return c}});var r=n("JGJA"),i=(n("2Zef"),n("0GyJ")),s=(n("0IK8"),n("rf4d")),o=n("o/5C");const a=e=>(0,r.default)("@type",e)===i.COMMON_MESSAGE,c=e=>a(e)&&(0,o.getGenericChannelId)(e)===s.EMAIL_GENERIC_CHANNEL_ID,u=e=>a(e)&&!c(e)},C5Zv:function(e,t,n){"use strict";n.d(t,{DEFAULT_TIMEOUT:function(){return r},INTERNAL_ERROR_MARKERS:function(){return i},UNEXPECTED_ROUTE_ERROR:function(){return s}});const r=6e4,i=["RHUMB_GLOBAL_ERROR","RHUMB_GLOBAL_ERROR_BOUNDARY"],s=Object.assign(new Error("Unexpected route visited. Please see https://product.hubteam.com/docs/frontend/docs/react-rhumb.html#unexpected-route-tracking for more info."),{stack:void 0})},CITH:function(e,t,n){"use strict";n.d(t,{postMessageToParent:function(){return i}});var r=n("vigZ");const i=(e,t)=>{try{const n=(0,r.getWidgetShellUUID)();window.parent.postMessage(JSON.stringify({type:e,data:t,uuid:n}),"*");return{type:e,data:t}}catch(e){console.error("Error posting message to parent",e)}}},CJvR:function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var r=n();r.withExtraArgument=n;t.default=r},CM48:function(e,t,n){"use strict";n.d(t,{getUserHasGivenConsentToProcess:function(){return a}});var r=n("dLEV");const i=(0,n("JGJA").default)("gdpr"),s=(0,r.createSelector)([i],(e=>e.consentToProcessStatus));var o=n("x56f");const a=(0,r.createSelector)([s],(e=>{switch(e){case o.SHOULD_ASK_FOR_CONSENT:return!1;case o.SHOULD_NOT_ASK_FOR_CONSENT:return!0;case o.UNDETERMINED:default:try{return localStorage.getItem("userHasGivenConsentToProcess")}catch(e){return!1}}}))},CM4h:function(e,t,n){"use strict";n.d(t,{calculateUnseenThreadsCountExcludeCurrent:function(){return a}});var r=n("dLEV"),i=n("PpSk"),s=n("lEkO"),o=n("0PDK");const a=(0,r.createSelector)([s.getThreadList,o.getSelectedThreadId],((e,t)=>e?e.reduce(((e,n)=>(0,i.getThreadId)(n)!==t?e+(n.unseenCount?1:0):e),0):0))},CPMP:function(e,t,n){"use strict";n.d(t,{networkOffline:function(){return s}});var r=n("dLEV"),i=n("xZ3y");const s=(0,r.createAction)(i.NETWORK_OFFLINE)},CQiV:function(e,t,n){"use strict";var r=n("8ASW");t.default=()=>{if(r.I18nInternal.langEnabled&&"zh-cn"===r.I18nInternal.locale)return"zh-cn";const e=r.I18nInternal.locale.split("-")[0];return"en"===e||r.I18nInternal.langEnabled||r.I18nInternal.publicPage?e:"en"}},CR0J:function(e,t,n){"use strict";var r=n("+/QE");const i=n.n(r)().object;t.default=i},CXYT:function(e,t,n){"use strict";var r=n("QYOI"),i=n("31tl"),s=n("9Mwj"),o=n("heCN");const a=(0,r.Record)({"@type":o.THREAD_PAUSED_ON_GENERIC_CHANNEL,id:"",timestamp:0,messageDeletedStatus:s.NOT_DELETED,isPausedOn:0,clientType:i.UNKNOWN},"ThreadPausedOnGenericChannelMessage");t.default=a},CXrm:function(e,t,n){"use strict";n.d(t,{NEVER:function(){return r},ON_EXIT_INTENT:function(){return s},ON_WIDGET_LOAD:function(){return i}});const r="NEVER",i="ON_WIDGET_LOAD",s="ON_EXIT_INTENT"},Cblj:function(e,t,n){"use strict";n.d(t,{isTypingMessage:function(){return s}});var r=n("0IK8"),i=n("tY0N");const s=e=>(0,r.getTopLevelType)(e)===i.TYPING},CuMv:function(e,t,n){"use strict";n.d(t,{escape:function(){return a}});const r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=`(?:${Object.keys(r).join("|")})`,s=RegExp(i),o=RegExp(i,"g");function a(e){e=null==e?"":`${e}`;return s.test(e)?e.replace(o,(e=>r[e])):e}},"D/wX":function(e,t,n){"use strict";n.d(t,{visitorErrorMiddleware:function(){return o}});var r=n("BG1d"),i=n("tcix"),s=n("cnVX");const o=()=>e=>t=>{(0,i.captureActionBreadcrumb)(t);(0,r.isErrorAction)(t)&&(0,s.reportErrorAction)(t);return e(t)}},D2Y9:function(e,t,n){e.exports=n.dlbpr(1,20)},DB67:function(e,t,n){"use strict";n.d(t,{channelChangeReceived:function(){return s}});var r=n("dLEV"),i=n("t0Ql");const s=(0,r.createAction)(i.CHANNEL_CHANGE_RECEIVED,(({channelChange:e,threadId:t})=>({payload:{channelChange:e,threadId:t}})))},DFBY:function(e,t,n){"use strict";n.d(t,{getAssignedAgentId:function(){return l},getAssignedAgentType:function(){return d}});var r=n("MJM1");const i=["assignedAgent","agentId"],s=["assignedAgent","agentType"],o=["auditParams"],a=["assignedAgent"];n("mFyM");var c=n("JGJA"),u=n("K+6d");(0,c.default)(u.AUDIT_TYPE),(0,c.default)(u.AGENT_TYPE),(0,c.default)(u.BOT_ID),(0,c.default)(u.AGENT_ID),(0,c.default)(u.AGENT_TYPE),(0,c.default)(u.BOT_ID),(0,c.default)(u.VISITOR_ID);n("aLTZ");const l=(0,r.default)(i),d=(0,r.default)(s);(0,r.default)(o),(0,r.default)(a)},DFoL:function(e,t,n){"use strict";n.d(t,{warn:function(){return c}});var r=n("LZPL"),i=n.n(r);const s={},o=e=>!(i().deployed()||null!=e&&s[e]),a=e=>{e&&(s[e]=!0)},c=({message:e="",key:t,url:n})=>{n&&(e+=`\nFor details, see: ${n}`);if(o(t)){console.warn(e);a(t)}};t.default={warn:c}},"DK+f":function(e,t){e.exports="//static.hsappstatic.net/conversations-visitor-experience-components/static-1.17999/img/visitor-widget/bot-avatar.svg"},DLkX:function(e,t){"use strict";const n={accentColor:"",textColor:"",useDefaultColor:!1},r=e=>Object.assign({},n,e);t.default=r},DPiE:function(e,t,n){"use strict";n.d(t,{markLastMessageReadByVisitor:function(){return m}});var r=n("3RTs"),i=n("dLEV"),s=n("PpSk"),o=n("fogE"),a=n("xZ3y"),c=n("Mx3c"),u=n("prkp"),l=n("FBcP"),d=n("EjCB");const p=["error"],f=(0,i.createAction)(a.LAST_SEEN_SENT,(({role:e,threadId:t,channel:n,latestMessageTimestamp:r})=>({payload:{role:e,threadId:t,channel:n,latestMessageTimestamp:r}}))),h=(0,i.createAction)(a.LAST_SEEN_SUCCESS,(({role:e,threadId:t,channel:n,latestMessageTimestamp:r})=>({payload:{role:e,threadId:t,channel:n,latestMessageTimestamp:r}}))),g=(0,i.createAction)(a.LAST_SEEN_FAILURE,(e=>{let{error:t}=e,n=(0,r.default)(e,p);return{payload:{error:t},meta:(0,o.silenceErrorAlert)(Object.assign({error:t},n))}}));function m({conversation:e}){return(t,n)=>{const r=(0,s.getThreadId)(e),i=(0,l.getSessionId)(n()),o=(0,s.getLatestReadTimestamp)(e),a=(0,s.getLatestMessageTimestamp)(e),p=(0,s.getPreviewMessageId)(e);if(a&&r&&i&&p&&a>o){const n=(0,s.getChannelName)(e),o={role:c.VISITOR,threadId:r,channel:n,latestMessageTimestamp:a};t(f(o));(0,u.markMessageReadByVisitor)({messageId:p,threadId:r,sessionId:i}).then((()=>{t(h(o));(0,d.postClearPageTitleNotification)()})).catch((e=>{t(g({error:e}))}))}}}},DdHT:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r=n("scKg");function i(e,t){let n=t;for(let t=0;t<e.length;t++)n=e[t](n);return n}function s(...e){e.forEach(r.default);return i.bind(null,e)}},DmNG:function(e,t,n){"use strict";var r=n("QYOI");const i=new r.Record({enabled:!1,timeDelaySeconds:0},"TimeDelayTrigger");t.default=i},DrqF:function(e,t){"use strict";const n=(e,t,n,r,i,s,o,a)=>{if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{const c=[n,r,i,s,o,a];let u=0;e=new Error(`Invariant Violation: ${t.replace(/%s/g,(()=>c[u++]))}`)}e.framesToPop=1;throw e}};t.default=n},Dt2j:function(e,t,n){"use strict";n.d(t,{removeTimeOnPageTriggerAction:function(){return s}});var r=n("dLEV"),i=n("VB2T");const s=(0,r.createAction)(i.REMOVE_TIME_ON_PAGE_TRIGGER)},E4Gm:function(e,t,n){"use strict";n.d(t,{getToken:function(){return i}});var r=n("eLSo");const i=({sessionId:e,hubspotUtk:t})=>r.default.get("livechat-public/v1/pubsub/token/visitor",{query:{sessionId:e,hubspotUtk:t}})},E9A7:function(e,t,n){"use strict";n.d(t,{getShowInitialMessage:function(){return g}});var r=n("dLEV"),i=n("21jQ"),s=n("Iiq6"),o=n("tAuz"),a=n("8dR1");const c=(0,r.createSelector)(a.getWelcomeMessage,((e={})=>!!e.popMessageOnSmallScreens));var u=n("1Vek"),l=n("r8xu"),d=n("kyOS"),p=n("YKTq"),f=n("KqYL"),h=n("G53s");const g=(0,r.createSelector)([s.getPopOpenWelcomeMessage,c,u.getInitialMessageText,l.getAvailabilityAwayMessage,i.getIsOpen,o.getIsMobile,d.getShouldHideWelcomeMessage,p.getPopOpenWidget,f.getIsAIChatbot,h.getIsUngatedForCustomerAgentPrompts],((e,t,n,r,i,s,o,a,c,u)=>{if(o&&(!u||!c))return!1;const l=s?Boolean(t):a||Boolean(e);return Boolean(l&&!!n&&!r&&!i)}))},E9Gc:function(e,t,n){"use strict";n.d(t,{setGlobalDimension:function(){return o},trackApiEventListenerRegistered:function(){return h},trackApiMethodUsed:function(){return f},trackEmbedScriptPerfAttributes:function(){return l},trackMessageSentMetric:function(){return c},trackOnReadyUsed:function(){return d},trackPageViewMetric:function(){return a},trackSettingsUsed:function(){return p},trackThreadCreatedMetric:function(){return u}});var r=n("I5zW");const i=(0,r.createMetricsFactory)("conversations-visitor-ui");function s(){const e=navigator.userAgent;return/Edge\/\d+/.test(e)?"Edge":/OPR\/\d+/.test(e)||/Opera/.test(e)?"Opera":/Chrome/.test(e)&&/Google Inc/.test(navigator.vendor)?"Chrome":/Safari/.test(e)&&/Apple Computer/.test(navigator.vendor)?"Safari":/Firefox\/\d+/.test(e)?"Firefox":/MSIE \d|Trident\/\d/.test(e)?"Internet Explorer":"Unknown"}const o=(e,t)=>{i.globalDimensions=Object.assign({},i.globalDimensions,{[e]:t,browser:s()})},a=()=>{i.counter("page-view").increment()},c=()=>{i.counter("message-sent").increment()},u=()=>{i.counter("thread-created").increment()},l=e=>{i.histogram("embed-script-perf",e)},d=()=>{i.counter("on-ready-used").increment()},p=()=>{i.counter("settings-used").increment()},f=e=>{i.counter("api-method-used",{method:e})},h=e=>{i.counter("api-event-listener-registered",{event:e})}},EN6V:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});function r(e){return e}},ENCh:function(e,t,n){"use strict";n.d(t,{uploadAttachment:function(){return m}});var r=n("ughT"),i=n("y5/z"),s=n("IA0z"),o=n("FBcP"),a=n("9P7L"),c=n("xAl4"),u=n("JIa2"),l=n("VXRw"),d=n("lnDz"),p=n("3yBC"),f=n("gygH"),h=n("Wnz4"),g=n("gQ5O");const m=({attachment:e,threadId:t,source:n})=>(m,E)=>{const T=Date.now();m((0,l.attachmentUploadStart)({attachment:e,threadId:t}));const y=(0,o.getSessionId)(E()),A=(0,r.getLocalId)(e),b=(0,r.getFile)(e),v=(0,u.createFormDataForAttachment)({file:b});return(0,a.fetchAttachmentUploadUrlClient)({sessionId:y,threadId:t}).then((({uploadUrl:e})=>(0,c.uploadAttachmentClient)({formData:v,onProgress:({loaded:e,total:n})=>{m((0,f.handleAttachmentUploadProgress)({localId:A,threadId:t,loaded:e,total:n}))},uploadUrl:`${g.FILE_MANAGER_API_PREFIX}/${e}`}))).then((({objects:[e]})=>{const r=Date.now();m((0,d.attachmentUploadComplete)({localId:A,threadId:t,fileId:e.id,uploadedFile:e}));m((0,i.trackInteraction)(s.EVENT_NAMES.WIDGET_INTERACTION,{action:"attached file","attachment-type":e.extension,"attachment-size-bytes":null==b?void 0:b.size,"upload-time-ms":r-T,source:n},void 0,void 0,s.EVENT_KEYS.ATTACHED_FILE))})).catch((e=>{var r;if(null!=e&&null!==(r=e.responseJSON)&&void 0!==r&&null!==(r=r.message)&&void 0!==r&&r.includes("not allowed")){m((0,h.attachmentError)(p.INVALID_FILE_TYPE,t));m((0,i.trackInteraction)(s.EVENT_NAMES.WIDGET_INTERACTION,{action:"failed to attach file","failure-type":"invalid file type",source:n},void 0,void 0,s.EVENT_KEYS.FAILED_TO_ATTACH_FILE))}else{m((0,h.attachmentError)(p.UPLOAD_ERROR,t));m((0,i.trackInteraction)(s.EVENT_NAMES.WIDGET_INTERACTION,{action:"failed to attach file","failure-type":"upload error",source:n},void 0,void 0,s.EVENT_KEYS.FAILED_TO_ATTACH_FILE))}}))}},EQzX:function(e,t,n){"use strict";n.d(t,{isCloseThreadMessage:function(){return a}});var r=n("GqTt"),i=n("M1Uo"),s=n("UxsU");const o=e=>{const t=(0,i.getPreviousStatus)(e),n=(0,i.getCurrentStatus)(e);return t===s.default.STARTED&&n===s.default.ENDED},a=e=>(0,r.isThreadStatusUpdateMessage)(e)&&o(e)},ES4X:function(e,t,n){"use strict";var r=n("QYOI"),i=n("Ut5p"),s=n("xZ3y"),o=n("2Sm/"),a=n("+tWo");const c=(0,r.Map)({hasVisitorEmail:!1}),u=(0,i.handleActions)({[o.CREATE_NEW_THREAD.SUCCEEDED](e,t){const{shouldAskForEmail:n}=t.payload;return e.set("hasVisitorEmail",!n)},[a.FETCH_THREAD_HISTORY.SUCCEEDED](e,t){const{data:{hasVisitorEmail:n}}=t.payload;return e.set("hasVisitorEmail",n)},[s.SEND_VISITOR_EMAIL_ADDRESS_SUCCEEDED](e){return e.set("hasVisitorEmail",!0)}},c);t.default=u},ET5w:function(e,t,n){"use strict";n.d(t,{createTheme:function(){return d}});function r(...e){return t=>e.reduce(((e,t)=>t(e)),t)}var i=n("iKGd"),s=n("3Ezh"),o=n("57op");(0,o.getThemeColorsProperty)("sadColor"),(0,o.getThemeColorsProperty)("neutralColor"),(0,o.getThemeColorsProperty)("happyColor");const a=(0,o.setThemeColorsProperty)("sadColor"),c=(0,o.setThemeColorsProperty)("neutralColor"),u=(0,o.setThemeColorsProperty)("happyColor");var l=n("wFcP");const d=(...e)=>{const t=r((0,o.setPrimaryColor)(i.DEFAULT_PRIMARY_COLOR),(0,o.setTextColor)(i.DEFAULT_TEXT_COLOR),(0,o.setErrorTextColor)(i.DEFAULT_ERROR_TEXT_COLOR),(0,o.setDisabledBackgroundColor)(i.DISABLED_BACKGROUND_COLOR),(0,o.setDisabledTextColor)(i.DISABLED_TEXT_COLOR),(0,o.setTextOnPrimaryColor)(i.WHITE),(0,o.setPlaceholderTextColor)(i.DEFAULT_PLACEHOLDER_TEXT_COLOR),(0,o.setInputBackgroundColor)(i.DEFAULT_INPUT_BACKGROUND_COLOR),(0,o.setInputBorderColor)(i.DEFAULT_INPUT_BORDER_COLOR),(0,o.setUpdatedBorderColor)(i.UPDATED_INPUT_BORDER_COLOR),(0,o.setHelpTextColor)(i.DEFAULT_HELP_TEXT_COLOR),a(i.DEFAULT_SAD_COLOR),c(i.DEFAULT_NEUTRAL_COLOR),u(i.DEFAULT_HAPPY_COLOR),(0,o.setFontFamily)(s.DEFAULT_FONT_FAMILY),(0,o.setDisabledButtonBackground)(i.DEFAULT_DISABLED_BUTTON_BACKGROUND_COLOR),(0,o.setDisabledButtonBorderColor)(i.DEFAULT_DISABLED_BUTTON_BORDER_COLOR),(0,o.setDisabledButtonTextColor)(i.DEFAULT_DISABLED_BUTTON_TEXT_COLOR),(0,o.setIsUngatedForCustomerAgentPrompts)(!1),...e)({});return Object.assign({components:l.defaultTheme.components},t)}},EjCB:function(e,t,n){"use strict";n.d(t,{postClearPageTitleNotification:function(){return s}});var r=n("n6ol"),i=n("CITH");const s=()=>{(0,i.postMessageToParent)(r.CLEAR_PAGE_TITLE_NOTIFICATION)}},EjiN:function(e,t,n){"use strict";n.d(t,{getShowGdprConsentToProcess:function(){return c}});var r=n("dLEV"),i=n("LgEy"),s=n("8cLO"),o=n("49A5"),a=n("CM48");const c=(0,r.createSelector)([o.getLatestWidgetData,a.getUserHasGivenConsentToProcess],((e,t)=>(0,i.gdprConsentToProcessEnabled)(e)&&!t&&(0,s.gdprExplicitConsentRequired)(e)))},EuUD:function(e,t){"use strict";const n=(e,t)=>{e&&"string"==typeof e||console.error('Required "name" string property not provider for pattern. Provided: '+typeof e);t&&"function"==typeof t||console.error(`Required "validator" callback not provider for "${e} pattern". Provided: ${typeof t}`)},r=(e,t,n,r)=>{const i=typeof n;if(i!==r){console.error(`Invariant error in ${e} pattern. Pattern.${t}() method can only be passed a ${r}. Provided: ${i}`);return!0}return!1};t.default=({name:e="",inputType:t="string",validator:i=null,rules:s=null,matcher:o=null}={})=>{s&&(i=e=>Object.keys(s).every((t=>s[t].test(e))));n(e,i);const a={name:e,inputType:t,test:(n,s={})=>(!t||!r(e,"test",n,t))&&i(n,s)};o&&"function"==typeof o&&(a.match=n=>(!t||!r(e,"match",n,t))&&o(n));s&&(a.testRules=e=>Object.keys(s).map((t=>({rule:t,valid:s[t].test(e)}))));return a}},Euo8:function(e,t,n){"use strict";n.d(t,{isOfficeHoursMessage:function(){return s}});var r=n("0IK8"),i=n("V1/C");const s=e=>(0,r.getTopLevelType)(e)===i.OFFICE_HOURS},Ex4o:function(e,t,n){"use strict";n.d(t,{useIsSSR:function(){return u},useSSRSafeId:function(){return c}});var r=n("QOxE"),i=n.n(r);const s={prefix:String(Math.round(1e10*Math.random())),current:0},o=i().createContext(s);let a=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement);function c(e){let t=(0,r.useContext)(o);t!==s||a||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");return(0,r.useMemo)((()=>e||`react-aria${t.prefix}-${++t.current}`),[e])}function u(){let e=(0,r.useContext)(o)!==s,[t,n]=(0,r.useState)(e);"undefined"!=typeof window&&e&&(0,r.useLayoutEffect)((()=>{n(!1)}),[]);return t}},"F+8x":function(e,t,n){"use strict";n.d(t,{default:function(){return st}});var r=n("QOxE"),i=n("npjq"),s=n("9f1P"),o=n.n(s),a=n("W5Gz");const c=e=>(0,a.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,a.jsxs)("g",{clipPath:"url(#collapse__clip0_5218_10958)",children:[(0,a.jsx)("path",{d:"M3.442 4.613L.259 1.431C.1 1.283 0 1.07 0 .837 0 .39.363.027.81.027c.234 0 .446.1.594.26l3.149 3.148v-2.37c0-.469.38-.85.849-.85.237 0 .452.098.606.256.153.15.248.359.248.59v4.406c0 .467-.378.844-.844.844H1.016c-.468 0-.849-.38-.849-.849 0-.468.38-.849.85-.849h2.425z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.604 7.48l3.182 3.183h.02c.12.142.194.325.194.527 0 .447-.363.81-.81.81-.203 0-.388-.075-.53-.197L7.508 8.63v2.368c0 .468-.38.849-.849.849-.468 0-.849-.38-.849-.85v-4.37c0-.234.097-.445.253-.597.153-.154.366-.25.601-.252h4.363c.023-.002.045-.003.068-.003.471 0 .854.383.854.854 0 .472-.383.854-.854.854-.023 0-.045 0-.065-.002H8.604zm3.201 3.183v-.001.001z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"collapse__clip0_5218_10958",children:(0,a.jsx)("path",{transform:"rotate(-90 6 6)",d:"M0 0h12v12H0z"})})})]}));c.displayName="SVGCollapse";var u=c;const l=e=>(0,a.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,a.jsx)("g",{clipPath:"url(#expand__clip0_5218_10983)",children:(0,a.jsx)("path",{d:"M4.046 5.185c.022.03.047.06.073.087l5.047 5.055h-2.39c-.461 0-.836.375-.836.837 0 .461.375.836.837.836h4.33c.226-.001.432-.092.582-.239.159-.154.257-.369.258-.607V6.83c0-.23-.093-.44-.243-.592-.152-.151-.362-.245-.593-.245-.463 0-.839.375-.841.837v2.328L5.257 4.149c-.032-.033-.066-.062-.102-.088L2.767 1.673h2.39c.461 0 .836-.375.836-.837C5.993.375 5.618 0 5.156 0H.832C.372 0 0 .372 0 .832v4.305c0 .231.093.44.244.593.152.15.361.244.592.244.463 0 .839-.374.841-.837V2.805l2.369 2.38z"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"expand__clip0_5218_10983",children:(0,a.jsx)("path",{transform:"rotate(-90 6 6)",d:"M0 0h12v12H0z"})})})]}));l.displayName="SVGExpand";var d=l;const p=e=>(0,a.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("path",{d:"M8.761 3.69c.765 0 1.384.618 1.384 1.383 0 .764-.619 1.383-1.384 1.383h-5.61c-.212 0-.384.173-.384.384v13.988c0 .211.172.384.384.384h13.987c.212 0 .385-.173.385-.384v-5.61c0-.765.619-1.384 1.383-1.384.765 0 1.384.62 1.384 1.384v5.61c0 1.737-1.414 3.151-3.152 3.151H3.151C1.414 23.98 0 22.565 0 20.828V6.84c0-1.738 1.414-3.15 3.151-3.15zM22.596 0c.178 0 .347.037.504.099l.02.005c.166.069.32.168.453.301.134.134.234.289.301.453l.007.02c.061.157.098.327.098.505v8.393c0 .765-.62 1.383-1.383 1.383-.765 0-1.384-.618-1.384-1.383V4.723l-11.78 11.78c-.27.27-.624.405-.978.405s-.708-.135-.979-.405c-.54-.54-.54-1.417 0-1.956l11.78-11.78h-5.053c-.763 0-1.383-.619-1.383-1.384 0-.764.62-1.383 1.383-1.383z",id:"externalLink__a"})}),(0,a.jsx)("use",{xlinkHref:"#externalLink__a",fillRule:"evenodd"})]}));p.displayName="SVGExternalLink";var f=p,h=n("X2JS"),g=n("/mXs"),m=n("P7jJ"),E=n("PY2H"),T=n("vSPC");const y=(0,s.css)(["",""],(({theme:e})=>`\n    &:focus-visible {\n      outline: 2px solid ${e.colors.textOnPrimary};\n    }\n  `)),A=o().div.withConfig({displayName:"KBArticleHeader__KBArticleHeaderWrapper"})(["display:flex;justify-content:space-between;width:100%;"]),b=o()(g.default).withConfig({displayName:"KBArticleHeader__KBArticleHeaderIconButton"})(["",""],y),v=o()(m.default).withConfig({displayName:"KBArticleHeader__KBArticleHeaderIcon"})(["font-size:16px;"]),I=o().div.withConfig({displayName:"KBArticleHeader__FlexWrapper"})(["display:flex;"]),S=o()(E.default).withConfig({displayName:"KBArticleHeader__StyledVizExLink"})(["display:flex;align-items:center;justify-content:center;width:40px;margin-left:24px;color:",";border-radius:3px;&:hover{color:",";background-color:rgba( "," );}",""],(({theme:e})=>e.colors.textOnPrimary),(({theme:e})=>e.colors.textOnPrimary),(({theme:e})=>(0,T.hexToRgba)(e.colors.textOnPrimary,.1)),y);function C({browserWindowHeight:e,inline:t,kbArticleDeepLink:n,restorePreviousViewFromKBArticle:r,mobile:s,toggleWidgetSizeForKBArticle:o,viewKBArticleExpanded:c,preview:l}){return(0,a.jsxs)(A,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(b,{onClick:()=>r(),use:"transparent-on-primary","aria-label":i.default.text("conversations-visitor-experience-components.knowledgeBase.kbArticle.backToChat"),children:(0,a.jsx)(m.default,{icon:(0,a.jsx)(h.default,{}),size:"md"})})}),(0,a.jsxs)(I,{children:[!(s||t||l)&&(0,a.jsx)(b,{onClick:()=>o(e),use:"transparent-on-primary","aria-label":c?i.default.text("conversations-visitor-experience-components.knowledgeBase.kbArticle.collapse"):i.default.text("conversations-visitor-experience-components.knowledgeBase.kbArticle.expand"),children:c?(0,a.jsx)(v,{icon:(0,a.jsx)(u,{})}):(0,a.jsx)(v,{icon:(0,a.jsx)(d,{})})}),(0,a.jsx)(S,{href:n,"aria-label":i.default.text("conversations-visitor-experience-components.knowledgeBase.kbArticle.openInNewTab"),target:"_blank",children:(0,a.jsx)(v,{icon:(0,a.jsx)(f,{})})})]})]})}C.displayName="KBArticleHeader";var _=C,O=n("QYOI"),R=n("+/QE"),x=n.n(R),w=n("fKJZ"),N=n("X5NR"),D=n("sl/w"),L=n("jt1n"),M=n("tUSi");const P=o().div.withConfig({displayName:"ThreadListHeader__HeaderWrapper"})(["align-items:center;display:flex;justify-content:space-between;width:100%;"]),k=o()(g.default).withConfig({displayName:"ThreadListHeader__NewThreadButton"})(["transition:opacity 0.2s ease-in-out;&:hover:enabled{background:transparent;opacity:0.8;}",""],(({$focusRingColor:e})=>`\n    &:focus-visible {\n      outline: 2px solid ${e};\n    }\n  `));function U({createNewThread:e,customHeaderText:t,focusRingColor:n,showCreateThreadButton:r,textColor:s}){return(0,a.jsxs)(P,{children:[(0,a.jsx)("h4",{"aria-level":1,style:{textAlign:"center",color:s},className:"m-bottom-0",id:M.HEADER_TEXT_TITLE_ID,"data-test-id":M.HEADER_TEXT_TITLE_ID,children:t||(0,a.jsx)(D.default,{message:"conversations-visitor-experience-components.visitorWidget.header.threadListTitle"})}),r?(0,a.jsx)(k,{onClick:e,"aria-label":i.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.createNewThread"),"data-test-id":"new-thread-button",use:"transparent-on-primary",$focusRingColor:n,children:(0,a.jsx)(m.default,{icon:(0,a.jsx)(L.default,{style:{height:"24px",width:"24px"}})})}):null]})}U.propTypes={createNewThread:x().func.isRequired,customHeaderText:x().node,showCreateThreadButton:x().bool.isRequired,textColor:x().string.isRequired};U.displayName="ThreadListHeader";var B=n("V/xu"),H=n("VZYW"),F=n("Avso"),G=n("0Me1"),j=n("t6nY"),W=n.n(j),V=n("mKxs"),z=n("LJpC"),K=n("HCGK");const Y=(0,z.isAgentState)(K.AWAY);var q=n("L82M"),J=n("F3hY"),$=n("GdKg");class Q extends r.Component{renderAvatar(){const{avatar:e,size:t,responder:n,showStatus:r,style:s}=this.props,o={borderRadius:"50%"};let c="";if(r&&n){c=Y(n)?q.OFFLINE:q.ONLINE}const u=i.default.text("conversations-visitor-experience-components.default.agent"),l=i.default.text(c===q.ONLINE?"conversations-visitor-experience-components.default.avatarAvailable":c===q.OFFLINE?"conversations-visitor-experience-components.default.avatarAway":"conversations-visitor-experience-components.default.avatar",{identifier:(0,F.getFriendlyOrFormalName)(n)||u}),d=(0,a.jsx)($.default,{style:s,src:e,className:"chat-head-avatar",size:t,contentStyle:o,alt:l});return c?(0,a.jsx)(J.default,{status:c,size:t,children:d}):d}render(){const{onClick:e,className:t,disabled:n}=this.props,r=W()("chat-head",t,n&&"chat-head-disabled");return(0,a.jsx)("div",{className:r,onClick:e,children:this.renderAvatar()})}}Q.displayName="ChatHead";Q.defaultProps={avatar:null,away:!1,disabled:!1,online:!1,showStatus:!1,isVisitorWidget:!1,size:"md"};Q.propTypes={avatar:x().string,className:x().string,disabled:x().bool,onClick:x().func,responder:(0,V.default)("Responder"),showStatus:x().bool.isRequired,size:x().string.isRequired,style:x().object};var X=Q;const Z=2,ee=(e=H.WHITE)=>({padding:`${Z}px`,background:`${e}`,borderRadius:"50%",zIndex:0}),te=e=>{switch(e){case"sm":default:return-10;case"xs":return-15}},ne=(e,t,n)=>Object.assign({},ee(e),{zIndex:t,marginLeft:te(n)}),re=o().div.withConfig({displayName:"ChatHeadGroup__ChatHeadGroupWrapper"})(["display:flex;flex:0 0 ","px;height:","px;justify-content:center;"],(({size:e})=>e),(({size:e})=>B.AVATAR_SIZES[e]+2*Z));function ie(e,t,n){return e>=1?ne(t,e,n):ee(t)}function se({showStatusIndicator:e=!1,responders:t,borderColor:n,size:r="sm"}){const i=t.map(((t,i)=>{const s=(0,F.getAvatar)(t),o=(0,G.isAvailable)(t),c=(0,F.getIsBot)(t),u=(0,F.getUserId)(t),l=ie(i,n,r),d="chat-head"+(i>=1?" chat-group-head-right":"");return(0,a.jsx)(X,{avatar:s,className:d,isBot:c,isVisitorWidget:!0,online:o,responder:t,showStatus:e,size:r,style:l},`chat-head.${u}`)}));return(0,a.jsx)(re,{size:r,children:i})}se.propTypes={borderColor:x().string.isRequired,responders:x().instanceOf(O.List).isRequired,showStatusIndicator:x().bool,size:x().string};se.displayName="ChatHeadGroup";var oe=se,ae=n("VADA");const ce=2,ue=o().div.withConfig({displayName:"CustomChatHeading__CustomUIAvatarWrapper"})(["display:flex;flex:0 0 ","px;height:","px;justify-content:center;"],(({size:e})=>e),(({size:e})=>B.AVATAR_SIZES[e]+2*ce));class le extends r.Component{render(){const{borderColor:e,chatHeadingConfig:t,size:n}=this.props,r={padding:"2px",background:`${e}`,borderRadius:"50%"},s={borderRadius:"50%"},o=(0,ae.getAnyCompanyLogo)(t),c=i.default.text("conversations-visitor-experience-components.default.agent"),u=i.default.text("conversations-visitor-experience-components.default.avatar",{identifier:t.get("customChatName")||c});return t?(0,a.jsx)(ue,{children:(0,a.jsx)($.default,{className:"chat-head-avatar",size:n,src:o,style:r,contentStyle:s,alt:u})}):null}}le.displayName="CustomChatHeading";le.defaultProps={size:"sm"};le.propTypes={borderColor:x().string.isRequired,chatHeadingConfig:x().oneOfType([(0,V.default)("CompanyChatHeadingConfig"),(0,V.default)("OwnerChatHeadingConfig"),(0,V.default)("UsersAndTeamsChatHeadingConfig")]),size:x().string.isRequired};var de=le;class pe extends r.PureComponent{render(){const{chatHeadingConfig:e,chatHeadingResponders:t,mobile:n,showStatusIndicator:r,borderColor:i,size:s}=this.props,o=t.size?oe:de;return(0,a.jsx)(o,{chatHeadingConfig:e,mobile:n,responders:t,showStatusIndicator:r,borderColor:i,size:s})}}pe.displayName="ChatHeadingAvatars";pe.defaultProps={mobile:!1,showStatusIndicator:!1,size:"sm"};pe.propTypes={borderColor:x().string.isRequired,chatHeadingConfig:w.default.isRequired,chatHeadingResponders:x().instanceOf(O.List).isRequired,mobile:x().bool.isRequired,showStatusIndicator:x().bool.isRequired,size:x().string.isRequired};var fe=pe,he=n("pHbL");const ge=(e,t)=>e.map((e=>(0,F.getFriendlyOrFormalName)(e,t)||(0,F.getEmail)(e))).join(", "),me=(e,t,n)=>ge(t,n)||(0,he.getAnyCustomChatName)(e);var Ee=n("7719");const Te=2,ye=o().div.withConfig({displayName:"WidgetHeaderAvatarWrapper__Wrapper"})(["display:inline-flex;align-items:center;flex:1 1 auto;height:","px;min-width:0;"],B.AVATAR_SIZES[Ee.SMALL]+2*Te),Ae=o().div.withConfig({displayName:"WidgetHeaderAvatarWrapper__HeaderTextWrapper"})(["display:flex;flex-direction:column;height:100%;width:100%;justify-content:center;min-width:0;"]),be=o().h5.withConfig({displayName:"WidgetHeaderAvatarWrapper__HeaderName"})(["line-height:20px;margin-bottom:0;font-size:",";"],(e=>e.titleText&&e.titleText.length>20?"14px":null)),ve=o().div.withConfig({displayName:"WidgetHeaderAvatarWrapper__MutedMessage"})(["font-size:11px;line-height:initial;"]),Ie=o().div.withConfig({displayName:"WidgetHeaderAvatarWrapper__TruncateString"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:700;"]);class Se extends r.PureComponent{render(){const{availabilityMessage:e,chatHeadingConfig:t,chatHeadingResponders:n,locale:r,mobile:s,showAvailabilityMessage:o,showStatusIndicator:c,borderColor:u}=this.props,l=me(t,n,r)||i.default.text("conversations-visitor-experience-components.default.agent"),d=n.some((e=>e.get("isResponderAI")));return(0,a.jsxs)(ye,{children:[(0,a.jsx)("div",{"data-test-id":"chat-heading-avatar",children:(0,a.jsx)(fe,{chatHeadingConfig:t,chatHeadingResponders:n,mobile:s,showStatusIndicator:c,borderColor:u})}),(0,a.jsxs)(Ae,{className:"p-x-3",children:[(0,a.jsx)(be,{titleText:l,"aria-level":"1",children:(0,a.jsx)(Ie,{children:(0,a.jsx)("span",{"data-test-id":"widget-header-name",className:"widget-header-name p-y-0",id:M.HEADER_TEXT_TITLE_ID,children:l})})}),o&&!d&&(0,a.jsx)(ve,{"data-test-type":"timestamp",id:M.HEADER_TEXT_DESCRIPTION_ID,children:e}),d&&(0,a.jsx)(ve,{"data-test-id":"is-responder-ai-msg",children:i.default.text("conversations-visitor-experience-components.isResponderAI")})]})]})}}Se.displayName="WidgetHeaderAvatarWrapper";Se.defaultProps={mobile:!1,showStatusIndicator:!1};Se.propTypes={availabilityMessage:x().string,borderColor:x().string.isRequired,chatHeadingConfig:w.default.isRequired,chatHeadingResponders:x().instanceOf(O.List).isRequired,locale:x().string,mobile:x().bool.isRequired,showAvailabilityMessage:x().bool.isRequired,showStatusIndicator:x().bool.isRequired};var Ce=Se,_e=n("iKGd");class Oe extends r.Component{render(){const{textColor:e,useDefaultColor:t}=this.props.coloring,n=t?_e.DEFAULT_TEXT_COLOR:e,{availabilityMessage:i,chatHeadingConfig:s,chatHeadingResponders:o,createNewThread:c,customHeaderText:u,mobile:l,showAvailabilityMessage:d,showCreateThreadButton:p,showKBArticleHeader:f,showStatusIndicator:h,showThreadListHeader:g}=this.props;return f?null:(0,a.jsx)(r.Fragment,{children:g?(0,a.jsx)(U,{createNewThread:c,customHeaderText:u,textColor:e,focusRingColor:n,showCreateThreadButton:p}):(0,a.jsx)(N.ChatWidgetLocaleContextConsumer,{children:t=>(0,a.jsx)(Ce,{availabilityMessage:i,borderColor:e,chatHeadingConfig:s,chatHeadingResponders:o,locale:t,mobile:l,showAvailabilityMessage:d,showStatusIndicator:h})})})}}Oe.displayName="WidgetHeaderContent";Oe.propTypes={availabilityMessage:x().string,chatHeadingConfig:w.default.isRequired,chatHeadingResponders:x().instanceOf(O.List).isRequired,coloring:x().object.isRequired,createNewThread:x().func.isRequired,customHeaderText:x().string,mobile:x().bool,showAvailabilityMessage:x().bool.isRequired,showCreateThreadButton:x().bool.isRequired,showKBArticleHeader:x().bool,showStatusIndicator:x().bool.isRequired,showThreadListHeader:x().bool.isRequired};var Re=Oe,xe=n("8Nq+");const we=o()(xe.default).withConfig({displayName:"WidgetHeaderBackButton__BadgeWrapper"})(["margin-right:4px;"]),Ne=o()(g.default).withConfig({displayName:"WidgetHeaderBackButton__ShowThreadsButton"})(["",""],(({$focusRingColor:e})=>`\n    &:focus-visible {\n      outline: 2px solid ${e};\n    }\n  `)),De=({disabled:e,focusRingColor:t,navigateToThreadList:n,unseenThreadsCountExcludingCurrentThread:r})=>{const s=Boolean(r);return(0,a.jsx)(we,{badgeLabel:r,showBadge:s,badgeDescription:i.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.badgeDescription"),children:(0,a.jsx)(Ne,{use:"transparent-on-primary",onClick:n,"data-test-id":"show-threads-button","aria-label":i.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.showThreadList",{unreadThreadCount:r}),disabled:e,$focusRingColor:t,children:(0,a.jsx)(m.default,{icon:(0,a.jsx)(h.default,{}),size:"md"})})})};De.displayName="WidgetHeaderBackButton";var Le=De;const Me=o().header.withConfig({displayName:"WidgetHeaderStyleWrapper__BackgroundPanelContent"})(["border-radius:",";"],(({mobile:e,inline:t})=>e||t?"0":"8px 8px 0 0")),Pe=o().nav.withConfig({displayName:"WidgetHeaderStyleWrapper__FullHeightDiv"})(["align-items:center;color:",";display:flex;height:100%;padding:16px 16px;flex-direction:column;"],(({textColor:e})=>e));function ke({inline:e,mobile:t,coloring:{accentColor:n,textColor:r},children:i}){return(0,a.jsx)(Me,{style:(0,T.getBrandStyle)(n),role:"banner","aria-labelledby":M.HEADER_TEXT_TITLE_ID,"aria-describedby":M.HEADER_TEXT_DESCRIPTION_ID,mobile:t,inline:e,"data-test-id":"widget-background-panel",children:(0,a.jsx)(Pe,{textColor:r,"data-test-id":"widget-background-panel-div",children:i})})}ke.displayName="WidgetHeaderStyleWrapper";ke.propTypes={children:x().node,coloring:x().object.isRequired,inline:x().bool.isRequired,mobile:x().bool};var Ue=ke,Be=n("0fuM"),He=n("3MJX"),Fe=n("57op"),Ge=n("ET5w"),je=n("3RTs"),We=n("f3U3");const Ve=e=>(0,a.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 31 28",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("path",{d:"M13.139 17.893c-3.725 0-6.755-3.03-6.755-6.754 0-3.724 3.03-6.755 6.755-6.755 3.724 0 6.754 3.03 6.754 6.755 0 3.724-3.03 6.754-6.754 6.754m0-15.893c5.039 0 9.137 4.1 9.137 9.14 0 2.09-.705 4.018-1.89 5.56l7.265 7.265c.465.466.465 1.22 0 1.686-.466.465-1.22.465-1.686 0L18.7 18.385c-1.542 1.186-3.47 1.891-5.561 1.891C8.099 20.276 4 16.178 4 11.14 4 6.1 8.1 2 13.139 2z",id:"search__a"})}),(0,a.jsx)("use",{xlinkHref:"#search__a",fillRule:"evenodd"})]}));Ve.displayName="SVGSearch";var ze=Ve;const Ke=["onChange"],Ye=o()(m.default).withConfig({displayName:"SearchInput__StyledIcon"})(["margin-left:8px;color:",";"],(({theme:e})=>e.colors.primary)),qe=o().div.withConfig({displayName:"SearchInput__StyledInputWrapper"})(["width:100%;margin-top:0px;transition:width 0.4s ease;"]),Je=o()(We.default).withConfig({displayName:"SearchInput__StyledInput"})(["font-family:",";font-size:16px;line-height:24px;svg{height:16px;width:16px;}"],(({theme:e})=>e.fontFamily)),$e=o().button.withConfig({displayName:"SearchInput__ClearButton"})(["border-radius:100%;background-color:",";color:",";border:none;height:24px;width:24px;flex:0 0 auto;margin-right:8px;padding:0;display:flex;align-items:center;justify-content:center;transition:opacity 0.2s ease-in-out;&:hover:enabled{opacity:0.8;}svg{fill:currentColor;height:12px;width:12px;}"],(({theme:e})=>e.colors.primary),(({theme:e})=>e.colors.textOnPrimary));function Qe(e){let{onChange:t}=e,n=(0,je.default)(e,Ke);const s=(0,r.useRef)(null),o=(0,r.useCallback)((()=>t("")),[t]),c=(0,r.useCallback)((e=>{if("Escape"===e.key&&n.value){e.preventDefault();e.stopPropagation();o()}}),[o,n.value]);(0,r.useEffect)((()=>{null!=s&&s.current&&n.value&&s.current.focus()}),[n.value]);return(0,a.jsx)(qe,{role:"search",children:(0,a.jsx)(Je,Object.assign({containerStyles:{backgroundColor:"white",height:"40px",borderRadius:"20px",border:"none"},onKeyDown:c,onChange:e=>t(e.currentTarget.value),"aria-label":i.default.text("conversations-visitor-experience-components.knowledgeBaseSearch.searchLabel"),placeholder:i.default.text("conversations-visitor-experience-components.knowledgeBaseSearch.searchPlaceholder"),prefix:(0,a.jsx)(Ye,{icon:(0,a.jsx)(ze,{}),size:"sm"}),suffix:n.value&&(0,a.jsx)($e,{"aria-label":i.default.text("conversations-visitor-experience-components.knowledgeBaseSearch.clearSearch"),onClick:o,children:(0,a.jsx)(He.default,{})}),role:"searchbox",ref:s},n))})}Qe.displayName="SearchInput";var Xe=n("Ae0c");const Ze=o().div.withConfig({displayName:"KBSearchInput__KBSearchWrapper"})(["margin-top:16px;width:100%;"]);function et(){const{searchTerm:e,setSearchTerm:t}=(0,Xe.useKBSearch)(),n=e=>{t(e)};return(0,a.jsx)(Ze,{children:(0,a.jsx)(Qe,{value:e,onChange:n})})}et.displayName="KBSearchInput";const tt=o().div.withConfig({displayName:"WidgetHeader__Spacer"})(["flex-grow:1;"]),nt=o()(g.default).withConfig({displayName:"WidgetHeader__CloseButton"})(["font-size:16px;",""],(({$focusRingColor:e})=>`\n    &:focus-visible {\n      outline: 2px solid ${e};\n    }\n  `)),rt=o().div.withConfig({displayName:"WidgetHeader__WidgetHeaderTopLevel"})(["display:flex;width:100%;"]);class it extends r.Component{constructor(e){super(e);this.state={showAvailabilityMessage:!1}}getAvailabilityMessage(){return this.props.preview?this.props.previewResponseTimeText:this.props.typicalResponseTimeMessage||this.props.officeHoursMessage}getShowAvailabilityMessage(){const{showAvailabilityMessage:e,typicalResponseTimeMessage:t,officeHoursMessage:n,preview:r,previewResponseTimeText:i}=this.props;return!(!e||!t&&!n)||Boolean(r&&!!i)}render(){const{backButtonDisabled:e,browserWindowHeight:t,chatHeadingConfig:n,chatHeadingResponders:r,coloring:i,createNewThread:o,customHeaderText:c,inline:u,isThreadAssigned:l,kbArticleDeepLink:d,mobile:p=Boolean(this.props.mobile),navigateToThreadList:f,onClose:h,restorePreviousViewFromKBArticle:g,showBackButton:E,toggleWidgetSizeForKBArticle:T,unseenThreadsCountExcludingCurrentThread:y,view:A,viewKBArticleExpanded:b,theme:v}=this.props,{accentColor:I,useDefaultColor:S}=i,C=A===Be.KNOWLEDGE_BASE_ARTICLE&&d,O=S?_e.DEFAULT_TEXT_COLOR:_e.WHITE,R=[(0,Fe.setPrimaryColor)(I),(0,Fe.setFontFamily)(v.fontFamily)];S&&R.push((0,Fe.setTextOnPrimaryColor)(_e.DEFAULT_TEXT_COLOR));return(0,a.jsx)(s.ThemeProvider,{theme:(0,Ge.createTheme)(...R),children:(0,a.jsxs)(Ue,{mobile:p,coloring:i,inline:u||!1,children:[(0,a.jsxs)(rt,{children:[E&&!C&&(0,a.jsx)(Le,{navigateToThreadList:f,unseenThreadsCountExcludingCurrentThread:y,disabled:e,focusRingColor:O}),C&&(0,a.jsx)(_,{browserWindowHeight:t||0,inline:u||!1,kbArticleDeepLink:d,restorePreviousViewFromKBArticle:g||(()=>{}),mobile:p,toggleWidgetSizeForKBArticle:T||(()=>{}),viewKBArticleExpanded:b||!1,preview:this.props.preview}),(0,a.jsx)(Re,{availabilityMessage:this.getAvailabilityMessage(),chatHeadingConfig:n,createNewThread:o||(()=>{}),coloring:i,customHeaderText:c,showStatusIndicator:l||!1,mobile:p,chatHeadingResponders:r,showAvailabilityMessage:this.getShowAvailabilityMessage(),showCreateThreadButton:A===Be.THREAD_LIST||A===Be.KNOWLEDGE_BASE,showKBArticleHeader:A===Be.KNOWLEDGE_BASE_ARTICLE,showThreadListHeader:A===Be.THREAD_LIST||A===Be.KNOWLEDGE_BASE||A===Be.CATEGORY_VIEW}),(0,a.jsx)(tt,{}),!!h&&(0,a.jsx)(nt,{"data-test-id":"header-close-button",onClick:h,className:"m-left-2",use:"transparent-on-primary",$focusRingColor:O,children:(0,a.jsx)(m.default,{icon:(0,a.jsx)(He.default,{height:20,width:20})})})]}),A===Be.KNOWLEDGE_BASE&&(0,a.jsx)(et,{})]})})}}it.displayName="WidgetHeader";it.defaultProps={createNewThread:()=>{},inline:!1,isThreadAssigned:!1,navigateToThreadList:()=>{},showBackButton:!1,showAvailabilityMessage:!1,unseenThreadsCountExcludingCurrentThread:0,view:Be.THREAD_VIEW,viewKBArticleExpanded:!1,theme:{}};var st=(0,s.withTheme)(it)},"F+zP":function(e,t,n){"use strict";n.d(t,{between:function(){return u},convertEventNameToEventKey:function(){return _},createQueue:function(){return I},debounce:function(){return l},deepFreeze:function(){return O},defaults:function(){return d},dispatchFunctionAsync:function(){return N},ensureFn:function(){return s},getObjectKeys:function(){return o},getRealTypeOf:function(){return f},getScreenWidthSize:function(){return D},isArray:function(){return p},isPromise:function(){return a},lWindow:function(){return i},makeUuid:function(){return h},mapObject:function(){return g},mask:function(){return x},omit:function(){return m},once:function(){return T},pick:function(){return E},pluck:function(){return y},prettyPrint:function(){return C},proxyLogger:function(){return R},reduceObject:function(){return c},replaceSentryValues:function(){return w},safeGetOrDefault:function(){return S},shallowCopy:function(){return b},trim:function(){return A},truncate:function(){return v}});var r=n("20uS");const i=function(){if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;throw new Error("[usage-tracker-js] Unable to determine the global context")}(),s=(e,t=(()=>{}))=>"function"==typeof e?e:t,o=Object.keys,a=e=>Boolean(e)&&"object"==typeof e&&"function"==typeof e.then||e instanceof Promise,c=e=>t=>o(e).reduce(t,{}),u=(e="",t="",n="")=>{const r=e.indexOf(t),i=e.indexOf(n);return e.substr(r+t.length,i-r-n.length)},l=(e,t)=>{let n,r=0;return(...i)=>{r&&clearTimeout(r);r=setTimeout((()=>{r=0;n=e.apply(null,i)}),t);return n}},d=(e={},t={})=>{const n=c(t)(((n,r)=>{void 0===e[r]&&void 0!==t[r]&&(n[r]=t[r]);return n}));return Object.assign({},e,n)},p=e=>"isArray"in Array?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e),f=e=>{let t=typeof e;p(e)&&(t="array");return null===e?"null":t},h=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{let t;const n=16*Math.random()|0;t="x"===e?n:3&n|8;return t.toString(16)})),g=(e={},t)=>c(e)(((n,r)=>{n[r]=t(r,e[r]);return n})),m=(e={},t=[])=>c(e||{})(((n,r)=>{t.includes(r)||(n[r]=e[r]);return n})),E=(e={},t=[])=>Object.assign({},...t.map((t=>({[t]:e[t]})))),T=e=>{let t,n;return(...r)=>{if(!t){t=!0;n=e(...r)}return n}},y=(e,t)=>o(t).reduce(((n,r)=>{const i=t[r];n[r]=i[e];return n}),{}),A=(e="",t="")=>{0===(e=e.replace(/^\s+|\s+$/g,"")).indexOf(t)&&(e=e.substr(t.length));e.indexOf(t)===e.length-t.length&&(e=e.substr(0,e.indexOf(t)));return e},b=(e={})=>c(e)(((t,n)=>{t[n]=e[n];return t})),v=(e="",t=256)=>{let n=e;if(n.length>t){n=n.substr(0,t);n=`${n}[..]`}return n},I=()=>{const e=[];return{enqueue:t=>e.unshift(t),dequeue:()=>e.shift(),peek:()=>e[0]}},S=(e=[],t,n=i)=>{let r=n;e.forEach((e=>{r=r&&e in r?r[e]:void 0}));return void 0===r?t:r},C=(e="")=>e.toString().replace(/(?:^|\.?)([A-Z]+)/g,((e,t)=>`_${t.toLowerCase()}`)).replace(/^_/,"").replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())).replace(/-/g," ").replace(/_/g," ").replace(/\s{2}/g," "),_=(e="")=>e.replace(/[_|-]/g," ").replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>e[0===t?"toLowerCase":"toUpperCase"]())).replace(/\s+/g,""),O=e=>{if(e&&"object"==typeof e&&!Object.isFrozen(e)){Object.freeze(e);Object.getOwnPropertyNames(e).forEach((t=>O(e[t])))}return e},R=e=>t=>(n,r)=>{const i={fingerprint:["usage-tracker-js"],tags:e};return s(t)(n,Object.assign({},i,r))},x=(e,t="**********")=>e.reduce(((e,n)=>Object.assign({},e,{[n]:t})),{}),w=(e={})=>{const t=Object.entries(E(e,r.SENSITIVE_PROPERTIES)).filter((([,e])=>Boolean(e))).map((([e])=>e)),n=Object.entries(e).map((([e,t])=>[e,"function"==typeof t?"Function":t])).map((([e,t])=>[e,void 0===t?null:t]));return Object.assign({},Object.fromEntries(n),x(t))},N=e=>{new Promise((t=>t(e()))).catch((e=>{throw new Error(e)}))},D=e=>e>1280?"xlarge (> 1280)":e>=1024?"large (1024 - 1280)":e>=680?"medium (680 - 1024)":e>0?"small (< 680)":"unknown"},F3hY:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var r=n("iKGd");const i=()=>r.WHITE,s=()=>r.GREEN,o=()=>r.GREY;var a=n("9f1P"),c=n.n(a),u=n("7719"),l=n("+/QE"),d=n.n(l),p=n("L82M");const f=({size:e})=>{switch(e){case u.EXTRA_SMALL:return(0,a.css)(["width:10px;height:10px;"]);case u.MEDIUM:return(0,a.css)(["width:13px;height:13px;"]);case u.SMALL:default:return(0,a.css)(["height:11px;width:11px;"])}},h=({status:e})=>{switch(e){case p.ONLINE:return(0,a.css)(["background:",";"],s());case p.OFFLINE:default:return(0,a.css)(["background:",";"],o())}},g=c().div.withConfig({displayName:"VizExStatusIndicator"})(["position:relative;display:inline-flex;::after{content:'';position:absolute;right:0;bottom:1px;border-radius:50%;border:2px solid;border-color:",";"," ","}"],i,f,h);g.propTypes={size:d().oneOf([u.EXTRA_SMALL,u.MEDIUM,u.SMALL]),status:d().oneOf([p.ONLINE,p.OFFLINE])};var m=g},F4Hj:function(e,t,n){"use strict";n.d(t,{default:function(){return u}});var r=n("QYOI");const i=-1;var s=n("kg2E"),o=n("CXrm");const a="TRENDING",c="DEFAULT";var u=(0,r.Record)({askForEmail:!0,askForEmailMessage:null,captureVisitorEmailAddress:!0,chatHeadingConfig:null,clientTriggers:new s.default,customConsentToProcessCheckboxLabel:null,customConsentToProcessMessage:null,customConsentToCommunicateMessage:null,consentToCommunicateSubscriptionId:null,createdAt:null,creatorId:null,customEmailCaptureDelay:null,id:i,inboxId:null,initialMessage:null,lastEditedAt:null,lastEditorId:null,name:null,popMessageOnSmallScreens:!0,popOpenWelcomeMessage:!0,popOpenWidget:!1,portalId:null,gdprConsentToProcessEnabled:!1,gdprConsentToCommunicateEnabled:!1,cookieConsentPrompt:o.NEVER,cookieConsentPromptMessage:null,gdprExplicitConsentRequired:!0,knowledgeBaseEnabled:!1,knowledgeBaseRecommendationType:a,searchableKnowledgeBaseIds:(0,r.List)(),quickRepliesDisplay:"NONE",launcherType:c},"Message")},FAYk:function(e,t,n){"use strict";n.d(t,{getKnowledgeBaseEnabled:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("8dR1");const o=(0,r.createSelector)(s.getWelcomeMessage,(0,i.default)("knowledgeBaseEnabled"))},FBcP:function(e,t,n){"use strict";n.d(t,{getSessionId:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("49A5");const o=(0,r.createSelector)(s.getLatestWidgetData,(0,i.default)("sessionId"))},FGRv:function(e,t,n){"use strict";n.d(t,{CUSTOMER_AGENT_AUTOMATED_MESSAGE:function(){return r}});const r="CUSTOMER_AGENT_AUTOMATED_MESSAGE"},FPMu:function(e,t,n){"use strict";n.d(t,{shouldRecordImplicitConsentToProcess:function(){return c}});var r=n("dLEV"),i=n("LgEy"),s=n("8cLO"),o=n("49A5"),a=n("CM48");const c=(0,r.createSelector)([o.getLatestWidgetData,a.getUserHasGivenConsentToProcess],((e,t)=>(0,i.gdprConsentToProcessEnabled)(e)&&!(0,s.gdprExplicitConsentRequired)(e)&&!t))},FU2H:function(e,t,n){var r=n("8X3F"),i=n("gwVP"),s="[object Symbol]";function o(e){return"symbol"==typeof e||i(e)&&r(e)==s}e.exports=o},FfT4:function(e,t,n){"use strict";n.d(t,{LEFT_ALIGNED:function(){return i},RIGHT_ALIGNED:function(){return r}});const r="RIGHT_ALIGNED",i="LEFT_ALIGNED"},Fkmh:function(e,t,n){"use strict";n.d(t,{TYPING_INDICATOR_TIMEOUT_MS:function(){return r}});const r=5500},G0k2:function(e,t,n){"use strict";n.d(t,{isTypeBot:function(){return s}});var r=n("a3lm"),i=n("Avso");const s=e=>(0,i.getAgentType)(e)===r.BOT},G53s:function(e,t,n){"use strict";n.d(t,{getChatflowName:function(){return f},getIsUngatedForCustomerAgentPrompts:function(){return E},getIsUngatedForInlineCitations:function(){return T},getIsUngatedForScreenCapture:function(){return m},getIsUngatedForSpeechPoc:function(){return g},getSearchableKnowledgeBaseIds:function(){return d},getUseAskMeAnythingLauncher:function(){return y},getWidgetDataGates:function(){return p},getWidgetDataLanguage:function(){return l}});var r=n("dLEV"),i=n("8dR1"),s=n("kHIv"),o=n("MJM1");const a=e=>(0,o.default)(["message","name"],e);var c=n("49A5"),u=n("JGJA");const l=(0,r.createSelector)(c.getLatestWidgetData,(e=>(0,s.getLanguage)(e))),d=(0,r.createSelector)(i.getWelcomeMessage,(e=>(0,s.getSearchableKnowledgeBaseIds)(e))),p=(0,r.createSelector)(c.getLatestWidgetData,(e=>(0,s.getGates)(e))),f=(0,r.createSelector)(c.getLatestWidgetData,(e=>a(e))),h=(...e)=>(0,r.createSelector)([p],(t=>e.every((e=>!0===(null==t?void 0:t[e])||"true"===(null==t?void 0:t[e]))))),g=h("Conversations:SpeechPoc"),m=h("Conversations:ScreenCapture"),E=h("Chatflows:CustomerAgentPrompts"),T=h("CustomerAgent:ExperimentalInlineCitations"),y=(0,r.createSelector)([c.getLatestWidgetData,E],((e,t)=>t&&((0,u.default)("routingRuleDefinitionAI",e)||!1)))},GHgd:function(e,t,n){"use strict";n.d(t,{timeOnPageTriggerEnabled:function(){return a}});var r=n("kHIv"),i=n("VvTX"),s=n("97n4"),o=n("UBEt");const a=e=>{const t=(0,r.getMessage)(e),n=(0,i.getClientTriggers)(t),a=(0,s.getDisplayOnTimeDelay)(n);return(0,o.getEnabled)(a)}},GOyg:function(e,t,n){"use strict";n.d(t,{getChatHeadingConfig:function(){return o}});var r=n("dLEV"),i=n("8dR1"),s=n("VvTX");const o=(0,r.createSelector)(i.getWelcomeMessage,s.getChatHeadingConfig)},GPZA:function(e,t){"use strict";const n={STARTED:"STARTED",ENDED:"ENDED"};t.default=n},GTwN:function(e,t,n){"use strict";n.d(t,{getHasMessagesCookieBeenSaved:function(){return o}});var r=n("dLEV"),i=n("B39b"),s=n("+U1B");const o=(0,r.createSelector)([s.getVisitorIdentity],(e=>!(0,i.getIsFirstVisitorSession)(e)))},GXXt:function(e,t,n){"use strict";var r=n("3Yas"),i=n("QYOI");const s=()=>{};r.get.implement(null,s);r.get.implement(void 0,s);r.get.implementInherited(i.Iterable,((e,t)=>t.get(e)));t.default=r.get},Gc2C:function(e,t){"use strict";const n=(e,t,n,r,i,s,o,a)=>{if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{const c=[n,r,i,s,o,a];let u=0;e=new Error(`Invariant Violation: ${t.replace(/%s/g,(()=>c[u++]))}`)}e.framesToPop=1;throw e}};t.default=n},GcWH:function(e,t,n){"use strict";n.d(t,{INITIAL_MESSAGE:function(){return r}});const r="INITIAL_MESSAGE"},GdKg:function(e,t,n){"use strict";var r=n("3RTs"),i=n("9f1P"),s=n.n(i),o=n("+/QE"),a=n.n(o),c=n("7719"),u=n("V/xu"),l=n("LWnW"),d=n.n(l),p=n("W5Gz");const f=["size","src","contentStyle","alt"],h=({size:e})=>{const t=u.AVATAR_SIZES[e];return(0,i.css)(["height:","px;width:","px;"],t,t)},g=s().div.withConfig({displayName:"VizExAvatar__VizExAvatarWrapper"})(["display:inline-flex;align-items:center;justify-content:center;box-sizing:content-box;font-size:initial;overflow:hidden;position:relative;border-radius:50%;",";"],h),m=s().div.withConfig({displayName:"VizExAvatar__VizExAvatarContent"})(["background-image:url(",");background-position:center center;background-size:cover;height:100%;width:100%;"],(({src:e})=>`"${e}"`)),E=s().img.withConfig({displayName:"VizExAvatar__VizExAvatarImg"})(["border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;"]),T=e=>{let{size:t=c.MEDIUM,src:n=d(),contentStyle:i,alt:s=""}=e,o=(0,r.default)(e,f);return(0,p.jsxs)(g,Object.assign({},o,{size:t,children:[(0,p.jsx)(m,{src:n,style:i}),(0,p.jsx)(E,{src:n,alt:s})]}))};T.displayName="VizExAvatar";T.propTypes={alt:a().string.isRequired,contentStyle:a().object,size:a().oneOf([c.EXTRA_EXTRA_SMALL,c.EXTRA_SMALL,c.SMALL,c.MEDIUM_SMALL,c.MEDIUM,c.LARGE,c.EXTRA_LARGE]),src:a().string};t.default=T},"GgP/":function(e,t,n){e.exports=n.dlbpr(1,8)},Gpbg:function(e,t,n){e.exports=n.dlbpr(1,77)},GqTt:function(e,t,n){"use strict";n.d(t,{isThreadStatusUpdateMessage:function(){return s}});var r=n("0IK8"),i=n("xfs0");const s=e=>(0,r.getTopLevelType)(e)===i.THREAD_STATUS_UPDATE},H5md:function(e,t,n){"use strict";n.d(t,{closeThreadMessageReceived:function(){return o}});var r=n("PpSk"),i=n("cRNH"),s=n("H7nP");const o=({message:e,channel:t,thread:n})=>o=>{const a=(0,r.getThreadId)(n);(0,i.postConversationClosedEvent)({thread:n});o((0,s.defaultMessageReceived)(e,t,a))}},H7nP:function(e,t,n){"use strict";n.d(t,{defaultMessageReceived:function(){return u}});var r=n("0IK8"),i=n("Mx3c"),s=n("/OK6"),o=n("6sJ9"),a=n("W/er"),c=n("W9Le");function u(e,t,n,u){return(l,d)=>{const p=(0,a.getResponders)(d());let f;const h=(0,s.isFromVisitor)(e);if(!h){const t=(0,r.getSenderId)(e),n=(0,s.isFromBot)(e)?i.BOT:i.AGENT;f=(0,o.getResponderByIdAndType)({responders:p,senderType:n,senderId:t})}l((0,c.receivedIncomingMessage)({message:e,channel:t,responder:f,shouldNotify:!(h||u&&u.playback),threadId:n}))}}},HCGK:function(e,t,n){"use strict";n.d(t,{AVAILABLE:function(){return r},AWAY:function(){return i}});const r="AVAILABLE",i="AWAY"},HCbP:function(e,t,n){"use strict";n.d(t,{default:function(){return h},fetchFeedbackSurvey:function(){return p},getFeedbackSurveyEnabled:function(){return f}});var r=n("mEYk"),i=n.n(r),s=n("eLSo");const o=({id:e,sessionId:t})=>s.default.get(`livechat-public/v1/feedback/survey/${e}`,{query:{sessionId:t}});var a=n("dLEV"),c=n("JGJA");const u=!1,l=(0,a.createSlice)({name:"feedbackSurveyEnabled",initialState:u,reducers:{updateFeedbackSurveyEnabled:(e,t)=>t.payload}}),{updateFeedbackSurveyEnabled:d}=l.actions;function p(e,t){return n=>o({id:e,sessionId:t}).then((({enabled:e})=>{n(d(e))})).catch((e=>{i().captureException(e)}))}const f=e=>(0,c.default)("feedbackSurveyEnabled",e);var h=l.reducer},HD2P:function(e,t,n){"use strict";n.d(t,{getChatHeadGroupStyle:function(){return s}});var r=n("V/xu"),i=n("7719");function s({mobile:e,border:t=0}){return e?{flex:"0 0 32px",height:r.AVATAR_SIZES[i.SMALL]+2*t}:{height:r.AVATAR_SIZES[i.MEDIUM]+2*t}}},HNmU:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{e(n("1UGG"));e(n("g2vQ"));t({en:{"conversations-message-history":{noContent:"This message has no content",default:{repText:"Hi there! Let me know if you have any questions about the product or pricing.",visitorText:"Can you go into a bit more detail about your pricing structure?"},friendlyNames:{DEFAULT_UNKNOWN:"Unknown",DEFAULT_AGENT:"Unknown agent",DEFAULT_CUSTOMER:"Unknown visitor",DEFAULT_INTEGRATOR:"Unknown integrator",DEFAULT_AUTOMATED:"Automated",DEFAULT_EXTERNAL:"Unknown external user",DEFAULT_LLM:"AI Chatbot",maybeName:"Maybe: {{name}}"}}}})}},HTmY:function(e,t,n){var r=n("8i16"),i=function(){return r.Date.now()};e.exports=i},HU6Q:function(e,t,n){"use strict";n.d(t,{fileExceedsSizeLimit:function(){return s}});var r=n("gQ5O"),i=n("yS+k");const s=e=>(0,i.getIsPortal53)()?e.size>r.MAX_FILE_SIZE_PORTAL_53:e.size>r.MAX_FILE_SIZE},HY4P:function(e,t,n){"use strict";n.d(t,{Metrics:function(){return i}});var r=n("I5zW");const i=(0,r.createMetricsFactory)("I18n",{library:"I18n"})},Hc3B:function(e,t,n){"use strict";n.d(t,{audioNotificationManager:function(){return o}});var r=n("0Gf5"),i=n.n(r);class s{constructor(){this.playing=!1;this._url=i();this.audio=null;this.play=async()=>{if(!this.playing&&this.audio&&window.Audio){this.playing=!0;try{await this.audio.play()}catch(e){}this.playing=!1}};this.audio=new Audio(this._url);this.audio.load()}set url(e){this._url=e;if(this._url){this.audio=new Audio(this._url);this.audio.load()}else this.audio=null}get url(){return this._url}}const o=new s},HiOC:function(e,t,n){"use strict";n.d(t,{fetchThreadHistory:function(){return m}});var r=n("MJM1"),i=n("8R/H"),s=n("mEYk"),o=n.n(s),a=n("0BtU"),c=n("nDpY"),u=n.n(c),l=n("eLSo");const d=({sessionId:e,threadId:t,offsetTimestamp:n,offsetOrdinal:r})=>l.default.get(`livechat-public/v1/conversationhistory/visitor/${t}`,{query:{sessionId:e,offsetTimestamp:n,offsetOrdinal:r,portalId:u().get(),sortDirection:"DESCENDING",expectedResponseType:"WRAPPER_V2"}});var p=n("+tWo"),f=n("rLZs"),h=n("8RWs");const g=(0,i.createDeprecatedAsyncAction)({requestFn:d,actionTypes:p.FETCH_THREAD_HISTORY,toRecordFn:a.prepareThreadHistoryResponse});function m({offsetOrdinal:e,offsetTimestamp:t,threadId:n,sessionId:i}){return s=>{s(g({offsetOrdinal:e,offsetTimestamp:t,threadId:n,sessionId:i})).then((({payload:e})=>{const t=(0,r.default)(["data","threadHistory"],e);(0,f.getSenderPairs)(t).forEach((e=>{const t=(0,r.default)(["senderId"],e),n=(0,r.default)(["senderType"],e);s((0,h.fetchAgentResponderIfNecessary)({senderId:t,senderType:n}))}))})).catch((e=>{o().captureException(e)}))}}},Hjp8:function(e,t,n){"use strict";n.d(t,{buildContactRecipients:function(){return u}});var r=n("QYOI"),i=n("qjq5"),s=n("JGJA"),o=n("0G/n"),a=n("8f+m");const c=(0,i.default)(((e,t)=>t.map((t=>{const n=(0,s.default)("address",t);return(0,a.default)({actorId:null,recipientField:e,deliveryIdentifier:{type:o.HS_EMAIL_ADDRESS,value:n}})})).toList())),u=(c("TO"),c("CC"),c("BCC"),({type:e,value:t,vid:n})=>(0,r.List)([(0,a.default)({actorId:n?`V-${n}`:null,deliveryIdentifier:{type:e||o.CHANNEL_SPECIFIC_OPAQUE_ID,value:`${t||n}`},recipientField:null})]))},Hnb1:function(e,t,n){"use strict";var r=n("QYOI");const i=new r.Record({enabled:!1},"ExitIntentTrigger");t.default=i},Hnia:function(e,t,n){"use strict";n.d(t,{threadHistoryInvariant:function(){return s}});var r=n("Gc2C"),i=n("eFd2");const s=e=>(0,r.default)(e instanceof i.default,"Expected threadHistory to be a `ThreadHistory` not a `%s`",typeof e)},HnnE:function(e,t,n){"use strict";n.d(t,{getConsentToProcessMessage:function(){return o}});var r=n("dLEV"),i=n("49A5"),s=n("kHIv");const o=(0,r.createSelector)([i.getLatestWidgetData],(e=>(0,s.getConsentToProcessMessage)(e)))},HtM0:function(e,t,n){"use strict";n.d(t,{formatHtml:function(){return Q}});var r=n("bSHG"),i=n("rCfO"),s=n("OwpT");const o=function(e){let t,n=!1;return function(...r){if(!n){t=e.apply(this,r);n=!0}return t}};var a={get:o((()=>new s.default({stripPrefix:!1}))),getTwitter:o((()=>new s.default({hashtag:"twitter",mention:"twitter",stripPrefix:!1})))},c=n("cSJ2"),u=n("npjq");const l=/\S*cdn2\.hubspot(qa)?\.net\S*\/thumb\.[a-zA-Z]+$/,d=/\/thumb\.[a-zA-Z]+$/,p=/data:/,f=/app(-[a-z0-9]+)?.hubspot(qa)?.com\/login-api/,h=(0,i.default)((e=>l.test(e))),g=(0,i.default)((e=>p.test(e))),m=(0,i.default)((e=>f.test(e))),E=e=>`\n  border: 1px solid var(--trellis-color-border-core-default);\n  justify-content: center;\n  padding: var(--trellis-space-500);\n  display: flex;\n  align-items: center;\n  height: ${e?`${e}px`:"auto"};\n  width: 100%;\n`,T=(0,i.default)((e=>`<h3 style="${E(e)}">${u.default.text("sanitizedEmail.imageError")}</h3>\n  `)),y=({node:e,node_name:t})=>{if(e&&"img"===t&&e.attributes){const t=e.getAttribute("src");if(t&&g(t)&&t.length>2e3){const t=e.getAttribute("height"),n=r.secureDocument.createElement("div");n.innerHTML=T(t);return{node:n}}t&&h(t)&&e.setAttribute("src",t.replace(d,""));m(t)&&e.setAttribute("src","");const n=e.getAttribute("data-original-width");n&&e.setAttribute("width",n);const i=e.getAttribute("data-original-height");i&&e.setAttribute("height",i);return{node:e}}return null},A=(e,t)=>"p"===t&&e&&e.classList&&e.classList.contains("MsoNormal")&&e.children&&e.children.length,b=e=>{const t=r.secureDocument.createElement("o:p");if(e.innerHTML.includes("&nbsp;")){t.innerHTML=e.innerHTML.replace(/&nbsp;/g,"").trim();return t}return e},v=e=>{if(!e||"o:p"!==e.tagName.toLowerCase())return!1;const t=b(e);return!t.children.length&&""===t.innerHTML},I=e=>e&&"span"===e.tagName.toLowerCase()&&v(e.firstElementChild),S=({node:e,node_name:t})=>{if(!A(e,t))return null;const n=e.firstElementChild;if(n&&I(n)&&n.childNodes.length>1){const t=n.firstElementChild;if(t){n.removeChild(t);return S({node:e,node_name:"p"})}}if(n&&(v(n)||I(n))){if(e.childNodes.length>1){e.removeChild(n);return S({node:e,node_name:"p"})}return{node:r.secureDocument.createElement("br")}}const i=r.secureDocument.createElement("div");Object.values(e.attributes).forEach((e=>{try{e.nodeValue&&i.setAttribute(e.nodeName,e.nodeValue)}catch(e){}}));i.innerHTML=e.innerHTML.replace(/&nbsp;/g," ").trim();return{node:i}},C="gmail_quote",_=["gmail_extra",C,"hs_reply","x_hs_reply_wrap"],O="divRplyFwdMsg",R=e=>e.querySelector("div[dir]"),x=(e,t)=>t===O||e&&e.contains&&_.some((t=>e.contains(t))),w=({node:e})=>{const{classList:t,id:n,attributes:i=[]}=e;if(x(t,n)){if(t.contains(C)&&!R(e))return null;const n=r.secureDocument.createElement("span");Object.values(i).forEach((e=>{e.nodeValue&&n.setAttribute(e.nodeName,e.nodeValue)}));n.innerHTML="";n.setAttribute("data-email-reply","");return{node:n}}return null},N=({node:e,node_name:t})=>{if("div"===t&&e&&e.classList&&e.classList.contains("gmail_default")){const t=r.secureDocument.createElement("span");Object.values(e.attributes).forEach((e=>{try{e.nodeValue&&t.setAttribute(e.nodeName,e.nodeValue)}catch(e){}}));t.innerHTML=e.innerHTML.trim();return{node:t}}return null},D=(e,t)=>t===O||e&&e.contains&&_.some((t=>e.contains(t))),L=({node:e})=>{if(!e||!e.tagName||"br"!==e.tagName.toLowerCase())return null;if(!e.nextElementSibling||!e.nextElementSibling.tagName)return null;const{classList:t,id:n}=e.nextElementSibling;if(!D(t,n))return null;const i=r.secureDocument.createElement("span");i.innerHTML="";return{node:i}},M="_blank",P=({node:e,node_name:t})=>{if("a"===t&&e&&e.attributes&&e.getAttribute("target")!==M){e.setAttribute("target",M);return{node:e}}return null},k="gmail_signature",U=["hs_signature"],B=e=>e&&e.contains&&U.some((t=>e.contains(t))),H=e=>Boolean(e&&e.innerHTML&&e.innerHTML.length),F=e=>e.classList&&e.classList.contains&&e.classList.contains(k)&&(H(e.nextElementSibling)||H(e.previousElementSibling)),G=({node:e})=>{const{classList:t}=e;if(F(e)||B(t)){const e=r.secureDocument.createElement("span");e.innerHTML="";return{node:e}}return null},j=({regexes:e=[],string:t=""})=>e.some((e=>t.match(e))),W=({node:e,node_name:t,allowedDomainsForIframe:n})=>{if("iframe"===t&&e&&e.attributes&&e.getAttribute("src")&&!j({regexes:n,string:e.getAttribute("src")||""})){e.removeAttribute("src");return{node:e}}return null};(0,i.default)((e=>(0,c.sanitize)(e,r.config.TEXTONLY)));e=n.hmd(e);(0,i.default)((e=>!![..._,O,...U,k].find((t=>e.includes(t))))),(0,i.default)(((e,t=400)=>{const n=[S,N,w],i=(0,c.sanitize)(e,r.config.TEXTONLY,n);return i&&i.length>t?i.substring(0,t):i}));const V=(0,i.default)((({text:e,shouldRemoveGmailLineBreakBeforeReply:t=!1,shouldRemoveEmailSignature:n=!0,htmlConfig:i=r.config.HTML,shouldOpenLinksInNewTab:s=!1,allowedDomainsForIframe:o=[]})=>{const a=[...t?[L]:[],...n?[G]:[],...s?[P]:[]],u=[S,N,w,y,e=>W(Object.assign({},e,{allowedDomainsForIframe:o})),...a];return(0,c.sanitize)(e,i,u)})),z=(0,i.default)((({text:e,shouldRemoveGmailLineBreakBeforeReply:t=!1,shouldRemoveEmailSignature:n=!1,htmlConfig:i=r.config.HTML,shouldOpenLinksInNewTab:s=!1,allowedDomainsForIframe:o=[]})=>{const a=[...t?[L]:[],...n?[G]:[],...s?[P]:[]],u=[S,N,y,e=>W(Object.assign({},e,{allowedDomainsForIframe:o})),...a];return(0,c.sanitize)(e,i,u)})),K=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Y=e=>e.replace(/&nbsp;\s+</gi,"&nbsp;<"),q=/(?:<|&lt;)\/?(?:svg|math)\b/i,J=e=>q.test(e)?e.replace(/&lt;/g,"<").replace(/&gt;/g,">"):e,$=e=>J(Y(e)),Q=(e,t={})=>{const{allowedDomainsForIframe:n,isPlainText:i,shouldAutolinkTwitter:s,shouldIncludeReplies:o,shouldOpenLinksInNewTab:c,shouldPreserveNewlines:u,shouldPreventAutoLinker:l,shouldRemoveEmailSignature:d,shouldRemoveGmailLineBreakBeforeReply:p,shouldPreserveMathML:f,config:h}=t;if(!e)return"";let g=h||(n?(0,r.getIframeHtmlConfig)():r.config.HTML);f&&g&&"attributes"in g&&(g=(0,r.allowMathML)(g));const m=i?K(e):$(e);let E=o?z({text:m,shouldRemoveGmailLineBreakBeforeReply:p,shouldRemoveEmailSignature:d,shouldOpenLinksInNewTab:c,htmlConfig:g,allowedDomainsForIframe:n}):V({text:m,shouldRemoveEmailSignature:d,shouldRemoveGmailLineBreakBeforeReply:p,shouldOpenLinksInNewTab:c,htmlConfig:g,allowedDomainsForIframe:n});E=null===E||i||u?E:E.replace("\n","");const T=s?a.getTwitter():a.get();return l?E:T.link(E)};e&&e.exports&&(e.exports.default=Object.assign({},e.exports))},I5zW:function(e,t,n){e.exports=n.dlbpr(1,31)},I6ms:function(e,t,n){"use strict";n.d(t,{UPDATE_GLOBAL_COOKIE_OPT_OUT:function(){return r},UPDATE_IS_FIRST_VISITOR_SESSION:function(){return i},UPDATE_SHOW_EXIT_INTENT_COOKIE_BANNER:function(){return s}});const r="UPDATE_GLOBAL_COOKIE_OPT_OUT",i="UPDATE_IS_FIRST_VISITOR_SESSION",s="UPDATE_SHOW_EXIT_INTENT_COOKIE_BANNER"},IA0z:function(e,t,n){"use strict";n.d(t,{EVENT_KEYS:function(){return s},EVENT_NAMES:function(){return i},EVENT_NAMESPACE:function(){return r},EVENT_NAME_TO_KEY_MAPPING:function(){return o}});const r="Conversations Visitor Ui",i={WIDGET_INTERACTION:"Widget Interaction",PAGE_VIEW:"Pageview",SEND_MESSAGE:"Send Message",REPUBLISH_MESSAGE:"Republish Message",PAGE_VIEW_FIFTY_THREE:"Pageviewfiftythree",DRAGGED_WIDGET:"Dragged Widget",START_CONVERSATION:"Start Conversation",METADATA_UPDATED:"Metadata Updated"},s={START_CONVERSATION:"start-conversation",SEND_MESSAGE:"send-message",REPUBLISH_MESSAGE:"republish-message",DRAGGED_WIDGET:"dragged-widget",WIDGET_INTERACTION:"widget-interaction",PAGE_VIEW:"pageview",PAGE_VIEW_FIFTY_THREE:"pageviewFiftyThree",ATTACHED_FILE:"attached-file",FAILED_TO_ATTACH_FILE:"failed-to-attach-file",RETRY_ATTACHMENT_UPLOAD:"retry-attachment-upload",REMOVE_STAGED_ATTACHMENT:"remove-staged-attachment",METADATA_UPDATED:"metadata-updated"},o={[i.WIDGET_INTERACTION]:s.WIDGET_INTERACTION,[i.PAGE_VIEW]:s.PAGE_VIEW,[i.SEND_MESSAGE]:s.SEND_MESSAGE,[i.REPUBLISH_MESSAGE]:s.REPUBLISH_MESSAGE,[i.PAGE_VIEW_FIFTY_THREE]:s.PAGE_VIEW_FIFTY_THREE,[i.DRAGGED_WIDGET]:s.DRAGGED_WIDGET,[i.START_CONVERSATION]:s.START_CONVERSATION,[i.METADATA_UPDATED]:s.METADATA_UPDATED}},"IDM/":function(e,t,n){"use strict";n.d(t,{requestSucceeded:function(){return s}});var r=n("EN6V"),i=n("VToG");const s=(0,n("nt9Q").requestStateUpdate)(i.SUCCEEDED,r.default)},IbXZ:function(e,t,n){"use strict";n.d(t,{getAPIEnableWidgetCookieBanner:function(){return r}});const r=(0,n("JGJA").default)("apiEnableWidgetCookieBanner")},IcZZ:function(e,t,n){"use strict";n.d(t,{buildAttachments:function(){return E}});var r=n("QYOI"),i=n("6xui"),s=n("Zui/"),o=n("Otz9"),a=n("p3n+"),c=n("6d8N"),u=n("NMIh");var l=(0,r.Record)({"@type":s.CALL_METADATA,callId:0,callDurationMs:0,fromNumber:"",fromNumberExt:"",toNumber:"",toNumberExt:"",calleeCrmObjectId:0,calleeCrmObjectTypeId:""},"CallMetadata");var d=(0,r.Record)({"@type":s.LOCATION,address:"",latitude:0,longitude:0,name:"",url:""},"LocationMetadata");var p=(0,r.Record)({"@type":s.CONTACT,contactProfile:{}},"ContactMetadata");var f=(0,r.Record)({"@type":s.MESSAGE_POSITION_DESCRIPTOR,descriptors:(0,r.Map)()},"MessagePositionDescriptor");var h=(0,r.Record)({"@type":s.UNSUPPORTED_CONTENT},"UnsupportedContent");class g extends((0,r.Record)({"@type":s.MESSAGE_HEADER,text:"",fileId:null},"MessageHeaderAttachment")){constructor(e={}){super((0,r.fromJS)(e))}}var m=g;const E=(e,t)=>(0,i.default)((0,r.List)(),((e,n)=>{switch(!t||t[n["@type"]]?n["@type"]:null){case s.EMAIL_METADATA:return e.push((0,o.default)((0,r.fromJS)(n)));case s.CITATION:return e.push((0,r.fromJS)(n));case s.FILES:return e.push((0,a.default)((0,r.fromJS)(n)));case s.QUICK_REPLIES:return e.push(new c.default(n));case s.QUICK_LINKS:return e.push((0,r.fromJS)(n));case s.INLINE_IMAGES:return e.push((0,u.default)((0,r.fromJS)(n)));case s.CALL_METADATA:return e.push(new l(n));case s.LOCATION:return e.push(new d(n));case s.CONTACT:return e.push(new p(n));case s.MESSAGE_POSITION_DESCRIPTOR:return e.push(f((0,r.fromJS)(n)));case s.UNSUPPORTED_CONTENT:return e.push(new h(n));case s.MESSAGE_HEADER:return e.push(new m(n));default:return e}}),e||(0,r.List)())},Iiq6:function(e,t,n){"use strict";n.d(t,{getPopOpenWelcomeMessage:function(){return s}});var r=n("dLEV"),i=n("8dR1");const s=(0,r.createSelector)(i.getWelcomeMessage,((e={})=>!!e.popOpenWelcomeMessage))},ImcI:function(e,t,n){"use strict";n.d(t,{requestStartedWithOperator:function(){return i}});var r=n("VToG");const i=(0,n("nt9Q").requestStateUpdate)(r.STARTED)},InFa:function(e,t,n){"use strict";n.d(t,{CIRCLE:function(){return r},DEFAULT:function(){return i}});const r="circle",i="default"},InHt:function(e,t,n){"use strict";n.d(t,{isAcceptanceTest:function(){return r},isPrerendering:function(){return i}});const r=()=>!!window.navigator.webdriver,i=()=>{var e;return!(null===(e=window)||void 0===e||null===(e=e.document)||void 0===e||!e.prerendering)}},IqZ3:function(e,t,n){"use strict";n.d(t,{clearAttachments:function(){return s}});var r=n("dLEV"),i=n("OIId");const s=(0,r.createAction)(i.CLEAR_ATTACHMENTS,(e=>({payload:{threadId:e}})))},Iqwl:function(e,t,n){"use strict";var r=n("QYOI"),i=n("ubOH"),s=n("fPyn"),o=n("KO+H"),a=n("9Mwj"),c=n("c1C1"),u=n("BvOu");class l extends((0,r.Record)({"@type":o.EMAIL_CAPTURE_PROMPT,id:null,text:"",timestamp:null,sender:(0,r.Map)(),status:(0,i.default)(),messageDeletedStatus:a.NOT_DELETED,direction:"",channelInstanceId:null,genericChannelId:null,senders:(0,r.List)(),recipients:(0,r.List)(),thankYouMessage:""},"EmailCapturePromptMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,u.generateUuid)(),status:(0,s.buildStatus)(e.status),timestamp:e.timestamp||(0,c.generateUniqueClientTimestamp)("EmailCapturePromptMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=l},"It+t":function(e,t,n){"use strict";n.d(t,{ENGAGEMENT_DETAILS_MESSAGE:function(){return r}});const r="ENGAGEMENT_DETAILS_MESSAGE"},"J+m/":function(e,t,n){"use strict";n.d(t,{postUnreadConversationCountChangedEvent:function(){return s}});var r=n("Ozt8"),i=n("mlLV");const s=({unreadCount:e})=>{(0,r.postExternalApiEvent)({eventType:i.UNREAD_CONVERSATION_COUNT_CHANGED,payload:{unreadCount:e}})}},J4oD:function(e,t,n){"use strict";n.d(t,{historyDataForThread:function(){return f}});var r=n("dLEV"),i=n("QYOI"),s=n("KXN9"),o=n("iRE0"),a=n("8J5U"),c=n("1UfY"),u=n("ye6p"),l=n("1EAY"),d=n("XZzj"),p=n("si22");const f=(0,r.createSelector)([c.historyForThread,u.threadFromProps,p.getStagedThreadHistory,d.unpublishedMessagesForThread],((e,t,n,r)=>{if(!(0,l.isPersistedThread)(t))return n;const c=(0,s.getData)(e);if(!c)return null;const u=((0,a.getMessages)(c)||(0,i.OrderedMap)()).concat(r);return(0,o.setMessages)(u,c)}))},JGJA:function(e,t,n){"use strict";var r=n("qjq5"),i=n("GXXt");t.default=(0,r.default)(i.default)},JIa2:function(e,t,n){"use strict";n.d(t,{createFormDataForAttachment:function(){return r}});const r=({file:e})=>{const t=new FormData;t.append("file",e);return t}},Jcmd:function(e,t,n){"use strict";n.d(t,{getFirstMessageText:function(){return d}});var r=n("dLEV"),i=n("r8xu"),s=n("1Vek"),o=n("QeSX"),a=n("Avso"),c=n("RaQM");const u=(0,r.createSelector)([c.getIsWidgetInAwayMode,o.getAssignedResponderInWidget],((e,t)=>Boolean(e&&t&&(0,a.getIsBot)(t))));var l=n("7vm7");const d=(0,r.createSelector)([i.getAvailabilityAwayMessage,s.getInitialMessageText,u,l.getAvailabilityOfficeHoursWillReturnMessage],((e,t,n,r)=>n?e||r:e||t))},"Jk+u":function(e,t,n){"use strict";n.d(t,{isActiveOnThread:function(){return s}});var r=n("0PDK"),i=n("Pozp");function s(e,t){return t===(0,r.getSelectedThreadId)(e)&&(0,i.getIsInForeground)(e)}},JoAZ:function(e,t,n){"use strict";n.d(t,{indexedDataInvariant:function(){return s}});var r=n("DrqF"),i=n("uB3n");const s=e=>(0,r.default)(e instanceof i.default,"Expected indexedData to be a `IndexedAsyncData` not a `%s`",typeof e)},JoGU:function(e,t,n){"use strict";var r=n("QYOI"),i=n("9Mwj"),s=n("ubOH"),o=n("Tt13");const a=(0,r.Record)({"@type":o.FEEDBACK_SUBMISSION,attachments:(0,r.List)(),feedbackTransactionId:null,id:null,messageDeletedStatus:i.NOT_DELETED,recipients:(0,r.List)(),richText:"",sender:(0,r.Map)(),senders:(0,r.List)(),status:(0,s.default)(),text:"",threadId:null,timestamp:null,submissionId:null,direction:"",channelInstanceId:null,genericChannelId:null},"FeedbackSubmissionMessage");t.default=a},Jr27:function(e,t,n){"use strict";n.d(t,{default:function(){return C}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("3MJX"),a=n("/mXs"),c=n("P7jJ"),u=n("9f1P"),l=n.n(u),d=n("CR0J"),p=n("NfCo"),f=n("InFa"),h=n("7719"),g=n("Tbmo"),m=n("57op"),E=n("PUb4");const T=e=>(0,E.get)("closeButton",e)||(0,m.getTextColor)(e),y=((0,m.setThemeColorsProperty)("closeButton"),{[h.EXTRA_SMALL]:h.EXTRA_EXTRA_SMALL,[h.SMALL]:h.EXTRA_SMALL,[h.MEDIUM]:h.SMALL});var A=n("W5Gz");const b=["onClick","theme","size"],v=({size:e})=>{switch(e){case h.EXTRA_SMALL:case h.SMALL:return(0,u.css)(["margin-top:8px;margin-right:8px;"]);case h.MEDIUM:default:return(0,u.css)(["margin-top:12px;margin-right:12px;"])}},I=l()(a.default).withConfig({displayName:"VizExCloseButton__ButtonContainer"})(["right:0;position:absolute;top:0;",""],v),S=e=>{const{onClick:t,theme:n,size:i}=e,s=(0,r.default)(e,b);return(0,A.jsx)(u.ThemeConsumer,{children:e=>(0,A.jsx)(I,Object.assign({},s,{onClick:t,theme:(0,g.setTransparentOnBackgroundIconButton)(T(n||e),n||e),use:p.TRANSPARENT_ON_BACKGROUND,shape:f.CIRCLE,size:i,children:(0,A.jsx)(c.default,{icon:(0,A.jsx)(o.default,{}),size:y[i||h.MEDIUM]})}))})};S.displayName="VizExCloseButton";S.propTypes={onClick:s().func,size:s().oneOf([h.EXTRA_SMALL,h.SMALL,h.MEDIUM]),theme:d.default};var C=S},Jrbl:function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var r=n("+/QE"),i=n.n(r),s=n("QOxE"),o=n("QYOI"),a=n("S5kL"),c=n("3RTs"),u=n("9f1P"),l=n.n(u),d=n("57op");n("iKGd");const p=d.getInputBorderColor,f=d.getInputBackgroundColor,h=(d.getDisabledBackgroundColor,d.getDisabledTextColor,d.getPlaceholderTextColor,d.getInputBorderColor,d.getPrimaryColor,d.getPrimaryColor);d.getPrimaryColor;var g=n("CR0J"),m=n("W5Gz");const E=["options","disabled","value","onChange","placeholder","theme"],T="__PLACEHOLDER_VALUE__",y=l().select.withConfig({displayName:"VizExMobileSelect__StyledSelect"})(["appearance:none;background:none;border-radius:3px;border:1px solid transparent;color:inherit;cursor:inherit;font-size:16px;margin:0;outline:none;padding:8px 32px 10px 10px;width:100%;height:40px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&::-ms-expand{display:none;}:focus::-ms-value{color:",";background:transparent;}"],(({theme:e})=>(0,d.getTextColor)(e))),A=l().div.withConfig({displayName:"VizExMobileSelect__SelectContainer"})(["background-color:",";border-radius:3px;border:1px solid ",";cursor:pointer;display:block;font-size:16px;height:40px;line-height:22px;padding:0;position:relative;text-align:left;transition:all 0.15s ease-out;width:100%;&::after{border-color:transparent;border-style:solid;border-width:0.375em;display:inline-block;vertical-align:middle;border-top-color:",";margin-top:0.375em;margin-top:-3px;content:' ';position:absolute;top:50%;right:1em;z-index:2;pointer-events:none;}"],(({theme:e})=>f(e)),(({theme:e})=>p(e)),(({theme:e})=>h(e))),b=e=>{const{options:t,disabled:n,value:r,onChange:i,placeholder:s,theme:o}=e,a=(0,c.default)(e,E),u=t.map((({value:e,text:t})=>(0,m.jsx)("option",{value:e,children:t},e)));return(0,m.jsx)(A,{theme:o,children:(0,m.jsxs)(y,Object.assign({},a,{"data-test-id":"VizExSelect",disabled:n,defaultValue:T,value:r,onChange:i,theme:o,children:[s&&(0,m.jsx)("option",{disabled:!0,value:T,children:s}),u]}))})};b.displayName="VizExMobileSelect";b.propTypes={disabled:i().bool,onChange:i().func.isRequired,options:i().arrayOf(i().shape({text:i().string,value:i().string})).isRequired,placeholder:i().string,theme:g.default,value:i().string};var v=b,I=n("3S9s");const S="__PLACEHOLDER_VALUE__",C=({quickReplyOptions:e,onChange:t,disabled:n,value:r,placeholder:i,theme:o=(0,I.createThemeV2)()})=>{const c=(0,s.useMemo)((()=>e.map((e=>{const t=(0,a.getOptionValue)(e);return{text:(0,a.getOptionLabel)(e),value:t}})).toJS()),[e]);return(0,m.jsx)(v,{options:c,onChange:t,disabled:n,defaultValue:S,value:r,placeholder:i,theme:o})};C.displayName="QuickReplySelect";C.propTypes={disabled:i().bool,onChange:i().func.isRequired,placeholder:i().string,quickReplyOptions:i().instanceOf(o.OrderedSet).isRequired,theme:i().object,value:i().string};var _=C},Jtfe:function(e,t,n){"use strict";n.d(t,{default:function(){return V}});var r=n("QOxE"),i=n("+/QE"),s=n.n(i),o=n("g/i1"),a=n("19qb"),c=n("ET5w"),u=n("57op"),l=n("iKGd"),d=n("Tbmo"),p=n("9f1P");const f=(0,p.css)(["font-weight:700;font-size:32px;line-height:44px;margin-top:0;margin-bottom:16px;"]),h=(0,p.css)(["font-weight:400;font-size:24px;line-height:30px;margin-top:0;margin-bottom:16px;"]),g=(0,p.css)(["font-weight:700;font-size:22px;line-height:30px;margin-top:0;margin-bottom:16px;"]),m=(0,p.css)(["font-weight:700;font-size:18px;line-height:26px;margin-top:0;margin-bottom:16px;"]),E=(0,p.css)(["font-weight:400;font-size:16px;line-height:26px;margin-top:0;margin-bottom:16px;"]),T=(0,p.css)(["font-weight:400;font-size:14px;line-height:24px;margin-top:0;margin-bottom:16px;"]),y=(0,p.css)(["h1{",";}h2{",";}h3{",";}h4{",";}h5{",";}h6{",";}"],f,h,g,m,E,T);var A=n("x+ne"),b=n("seb2");const v=(0,p.css)(["body{","}"," ",""],b.getBodyTypographyStyles,y,A.getGlobalSmallStyles);var I=n("wjRl");let S,C=e=>e;var _=(0,p.createGlobalStyle)(S||(S=C`
  *:not(math), ::after, ::before {
    font-family: inherit;
  }

  *, ::after, ::before {
    box-sizing: border-box;
  }

  ${0}
  &:focus-visible {
    ${0}
    outline-offset: -2px;
  }
`),v,I.focusRing),O=n("CR0J"),R=n("W5Gz");const x=({theme:e,children:t})=>(0,R.jsxs)(p.ThemeProvider,{theme:e,children:[t,(0,R.jsx)(_,{})]});x.displayName="VizExThemeProvider";x.propTypes={children:s().node,theme:O.default};var w=x,N=n("3Ezh"),D=n("iM72"),L=n("MBJP"),M=n("kHIv"),P=n("49A5");const k=(0,L.createSelector)(P.getLatestWidgetData,(e=>(0,M.getFont)(e))),U="helvetica",B=e=>e.includes(" ")&&!e.includes('"')&&!e.includes("'"),H=e=>B(e)?`"${e}"`:e;function F(e,t){if(e&&e!==`${N.DEFAULT_FONT_FAMILY}`&&(null==e?void 0:e.toLowerCase())!==U){if(Array.isArray(t)){const n=H(e);return t.length?[n,...t].join(", "):`${n}, ${N.DEFAULT_FONT_FAMILY}`}return`${H(e)}, ${t||N.DEFAULT_FONT_FAMILY}`}return N.DEFAULT_FONT_FAMILY}var G=n("8Li4"),j=n("G53s");const W=({children:e})=>{const t=(0,a.useSelector)(o.getColoring),n=(0,a.useSelector)(j.getIsUngatedForCustomerAgentPrompts),{accentColor:i,useDefaultColor:s}=t,p=(0,a.useSelector)(k),{fontFamily:f,fallbacks:h,variants:g,fontGroup:m}=p,E=[(0,u.setFontFamily)(N.DEFAULT_FONT_FAMILY)],T=F(f,h);E.push((0,u.setFontFamily)(T));n&&E.push((0,u.setIsUngatedForCustomerAgentPrompts)(!0));if(s){E.push((0,u.setPrimaryColor)(l.DEFAULT_HELP_TEXT_COLOR));E.push((0,d.setTransparentOnBackgroundIconButton)(l.DEFAULT_HELP_TEXT_COLOR))}else i&&E.push((0,u.setPrimaryColor)(i));(0,r.useEffect)((()=>{let e=null;if(f&&m===G.WEB_FONTS){e=(0,D.generateFontStylesheet)(f,g);document.head.appendChild(e)}return()=>{e instanceof HTMLElement&&document.head.remove(e)}}),[f,g,m]);return(0,R.jsx)(w,{theme:(0,c.createTheme)(...E),children:e})};W.displayName="ThemeProvider";W.propTypes={children:s().node};var V=W},JxGV:function(e,t,n){"use strict";var r=n("QYOI"),i=n("ubOH"),s=n("fPyn"),o=n("V1/C"),a=n("9Mwj"),c=n("c1C1"),u=n("BvOu");class l extends((0,r.Record)({"@type":o.OFFICE_HOURS,id:null,text:"",officeHoursStartTime:null,timestamp:null,sender:(0,r.Map)(),status:(0,i.default)(),messageDeletedStatus:a.NOT_DELETED,direction:"",senders:(0,r.List)(),recipients:(0,r.List)(),genericChannelId:null,channelInstanceId:null},"OfficeHoursMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,u.generateUuid)(),status:(0,s.buildStatus)(e.status),timestamp:e.timestamp||(0,c.generateUniqueClientTimestamp)("OfficeHoursMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=l},JxxT:function(e,t,n){"use strict";n.d(t,{CLOSE_BUTTON_AND_SPACING:function(){return i},COMPOSER_BOTTOM_MARGIN:function(){return a},COMPOSER_INLINE_MARGIN:function(){return o},SMALLEST_WIDGET_HEIGHT:function(){return r},SPACING_ABOVE_WIDGET:function(){return s},UPDATED_VISITOR_WIDGET_BORDER_RADIUS:function(){return c}});const r=247,i=92,s=44,o=16,a=16,c=10},"K+6d":function(e,t,n){"use strict";n.d(t,{AGENT_ID:function(){return r},AGENT_TYPE:function(){return a},AUDIT_TYPE:function(){return i},BOT_ID:function(){return s},VISITOR_ID:function(){return o}});const r="agentId",i="@type",s="botId",o="vid",a="agentType"},"K+CT":function(e,t,n){"use strict";n.d(t,{default:function(){return Z}});var r=n("3RTs"),i=n("QOxE"),s=n("+/QE"),o=n.n(s),a=n("9f1P"),c=n.n(a);const u=["left","right"],l=["top","bottom"],d=["left top","left bottom","right top","right bottom","top left","top right","bottom left","bottom right","top center","bottom center","left middle","right middle"],p=[...u,...l,...d];function f(e){return e.split(" ")[0]}function h(e){return u.includes(e)}function g(e){const t=e.split(" ")[1];return t||(h(f(e))?"middle":"center")}const m=16,E=8,T=({placement:e})=>{switch(f(e)){case"top":return(0,a.css)(["transform:rotate(45deg);top:-","px;"],m+5);case"right":return(0,a.css)(["transform:rotate(135deg);right:-","px;"],m+5);case"bottom":return(0,a.css)(["transform:rotate(-135deg);bottom:-","px;"],m+5);case"left":return(0,a.css)(["transform:rotate(-45deg);left:-","px;"],m+5);default:return""}},y=({placement:e})=>{switch(g(e)){case"top":return(0,a.css)(["top:","px;"],E);case"middle":return(0,a.css)(["top:calc(50% - ","px);"],m/2);case"bottom":return(0,a.css)(["bottom:","px;"],E);case"left":return(0,a.css)(["left:","px;"],E);case"center":return(0,a.css)(["left:calc(50% - ","px);"],m/2);case"right":return(0,a.css)(["right:","px;"],E);default:return""}},A=({placement:e})=>(0,a.css)(["",";",";"],T({placement:e}),y({placement:e}));var b=n("iKGd");const v="#425b76",I=()=>v,S=()=>b.WHITE;var C=c().div.withConfig({displayName:"VizExTooltipArrow"})(["position:absolute;pointer-events:none;border:none;clip-path:polygon(100% 100%,0 100%,100% 0);border-top-left-radius:100%;border-radius:3px;border-top-color:transparent !important;border-left-color:transparent !important;border-bottom-right-radius:3px;width:16px;height:16px;background-color:",";",""],(({backgroundColor:e})=>e||I()),(({placement:e})=>A({placement:e})));const _=16,O=({placement:e})=>{switch(g(e)){case"top":return(0,a.css)(["top:0;"]);case"bottom":return(0,a.css)(["bottom:0;"]);case"left":return(0,a.css)(["left:0;"]);case"right":return(0,a.css)(["right:0;"]);default:return""}},R=({placement:e})=>{switch(f(e)){case"top":return(0,a.css)(["transform:translateY(-100%);top:-","px;"],_-5);case"right":return(0,a.css)(["transform:translateX(100%);right:-","px;"],_-5);case"bottom":return(0,a.css)(["transform:translateY(100%);bottom:-","px;"],_-5);case"left":return(0,a.css)(["transform:translateX(-100%);left:-","px;"],_-5);default:return""}},x=({placement:e})=>{switch(e){case"top center":case"top middle":return(0,a.css)(["transform:translate(-50%,-100%);left:50%;"]);case"bottom middle":case"bottom center":return(0,a.css)(["transform:translate(-50%,100%);left:50%;"]);case"left center":case"left middle":return(0,a.css)(["transform:translate(-100%,-50%);top:50%;"]);case"right center":case"right middle":return(0,a.css)(["transform:translate(100%,-50%);top:50%;"]);default:return""}},w=({placement:e})=>(0,a.css)(["",";",";",""],R({placement:e}),O({placement:e}),x({placement:e}));var N=c().div.withConfig({displayName:"VizExTooltipBody"})(["border-radius:3px;font-size:13px;width:max-content;max-width:232px;display:block;position:absolute;visibility:visible;box-shadow:0 3px 8px rgba(0,0,0,0.1);line-height:1.5;padding:10px 16px;text-decoration:none;word-wrap:break-word;",";background-color:",";color:",";pointer-events:",";"],(({placement:e})=>w({placement:e})),(({backgroundColor:e})=>e||I()),(({textColor:e})=>e||S()),(({open:e})=>e?"all":"none")),D=n("CR0J"),L=n("8Q5G");function M(e,t,n){let[r,s]=(0,i.useState)(e||t),o=(0,i.useRef)(void 0!==e),a=o.current,c=void 0!==e,u=(0,i.useRef)(r);a!==c&&console.warn(`WARN: A component changed from ${a?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}.`);o.current=c;let l=(0,i.useCallback)(((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(u.current,e)||n(e,...t));c||(u.current=e)};if("function"==typeof e){console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320");s(((n,...i)=>{let s=e(c?u.current:n,...i);r(s,...t);return c?n:s}))}else{c||s(e);r(e,...t)}}),[c,n]);c?u.current=e:e=r;return[e,l]}function P(e){let[t,n]=M(e.isOpen,e.defaultOpen||!1,e.onOpenChange);return{isOpen:t,setOpen:n,open(){n(!0)},close(){n(!1)},toggle(){n(!t)}}}const k=1500,U=500;let B={},H=0,F=!1,G=null,j=null;function W(e={}){let{delay:t=k}=e,{isOpen:n,open:r,close:s}=P(e),o=(0,i.useMemo)((()=>""+ ++H),[]),a=(0,i.useRef)(),c=()=>{B[o]=d},u=()=>{for(let e in B)if(e!==o){B[e](!0);delete B[e]}},l=()=>{clearTimeout(a.current);a.current=null;u();c();F=!0;r();if(G){clearTimeout(G);G=null}if(j){clearTimeout(j);j=null}},d=e=>{if(e){clearTimeout(a.current);a.current=null;s()}else a.current||(a.current=setTimeout((()=>{a.current=null;s()}),U));if(G){clearTimeout(G);G=null}if(F){j&&clearTimeout(j);j=setTimeout((()=>{delete B[o];j=null;F=!1}),U)}},p=()=>{u();c();n||G||F?n||l():G=setTimeout((()=>{G=null;F=!0;l()}),t)};(0,i.useEffect)((()=>()=>{clearTimeout(a.current);B[o]&&delete B[o]}),[o]);return{isOpen:n,open:e=>{!e&&t>0&&!a.current?p():l()},close:d}}var V=n("Zulv"),z=n("xr6y"),K=n("okxY");function Y(e,t,n){let{isDisabled:r,trigger:s}=e,o=(0,V.useId)(),a=(0,i.useRef)(!1),c=(0,i.useRef)(!1),u=()=>{(a.current||c.current)&&t.open(c.current)},l=e=>{a.current||c.current||t.close(e)};(0,i.useEffect)((()=>{let e=e=>{n&&n.current&&"Escape"===e.key&&t.close(!0)};if(t.isOpen){document.addEventListener("keydown",e,!0);return()=>{document.removeEventListener("keydown",e,!0)}}}),[n,t]);let d=()=>{if("focus"!==s){"pointer"===(0,z.getInteractionModality)()?a.current=!0:a.current=!1;u()}},p=()=>{if("focus"!==s){c.current=!1;a.current=!1;l()}},f=()=>{c.current=!1;a.current=!1;l(!0)},h=()=>{if((0,z.isFocusVisible)()){c.current=!0;u()}},g=()=>{c.current=!1;a.current=!1;l(!0)},{hoverProps:m}=(0,z.useHover)({isDisabled:r,onHoverStart:d,onHoverEnd:p}),{pressProps:E}=(0,z.usePress)({onPressStart:f}),{focusableProps:T}=(0,K.useFocusable)({isDisabled:r,onFocus:h,onBlur:g},n);return{triggerProps:Object.assign({"aria-describedby":t.isOpen?o:void 0},(0,V.mergeProps)(T,m,E)),tooltipProps:{id:o}}}var q=n("W5Gz");const J=["placement","delay","content","backgroundColor","textColor","children","theme","onOpenChange","open","contentStyle","arrowStyle"],$=c().div.withConfig({displayName:"VizExTooltip__Popover"})(["transition-property:",";transition-duration:","ms;opacity:",";transform:",";position:absolute;pointer-events:none;width:100%;height:100%;"],(({transitioning:e})=>e?"opacity ease-out, transform ease-out":"none"),(({duration:e})=>e),(({open:e})=>e?"1":"0"),(({open:e,transitioning:t})=>e&&!t?"none":e?"scale(1)":"scale(.75)")),Q=c().div.withConfig({displayName:"VizExTooltip__PopoverWrapper"})(["display:inline-block;position:relative;"]),X=e=>{let{placement:t="top right",delay:n=0,content:s,backgroundColor:o,textColor:a,children:c,theme:u,onOpenChange:l,open:d,contentStyle:p,arrowStyle:f}=e,h=(0,r.default)(e,J);const g="boolean"==typeof d,m=Object.assign({delay:n},g&&{isOpen:d}),E=(0,i.useRef)(null),T=W(m),{triggerProps:y,tooltipProps:A}=Y(m,T,E),{keyboardProps:b}=(0,z.useKeyboard)({onKeyUp:y.onKeyUp,onKeyDown:y.onKeyDown});if(!(0,i.isValidElement)(c))return null;if(!s)return c;const v=()=>{if(!g){(0,L.callIfValid)(l,!0);T.open(!0)}},I=()=>{if(!g){(0,L.callIfValid)(l,!1);T.close(!0)}};return(0,q.jsxs)(Q,Object.assign({},h,{onMouseEnter:v,onMouseLeave:I,children:[(0,q.jsxs)($,{open:T.isOpen,duration:250,transitioning:!0,"data-test-id":"tooltip-popover",children:[(0,q.jsx)(N,Object.assign({textColor:a,backgroundColor:o,placement:t,open:T.isOpen,theme:u,"data-test-open":T.isOpen},A,{"aria-hidden":!0,style:p,children:s})),(0,q.jsx)(C,{backgroundColor:o,placement:t,theme:u,style:f})]}),(0,i.cloneElement)(i.Children.only(c),Object.assign({},(0,V.mergeProps)(y,b),{onClick:c.props.onClick,ref:E}))]}))};X.propTypes={arrowStyle:o().object,backgroundColor:o().string,children:o().node.isRequired,content:o().node,contentStyle:o().object,delay:o().number,onOpenChange:o().func,open:o().bool,placement:o().oneOf(p),textColor:o().string,theme:D.default};X.displayName="VizExTooltip";var Z=X},K7Yy:function(e,t,n){"use strict";n.d(t,{FEEDBACK_SURVEY:function(){return r}});const r="FEEDBACK_SURVEY"},KDEO:function(e,t,n){"use strict";n.d(t,{typingMessageReceived:function(){return g}});var r=n("0IK8"),i=n("/OK6"),s=n("JGJA");const o=(0,s.default)("typingMessageTimeoutSeconds"),a=(0,s.default)("style"),c=(0,s.default)("shouldDisableUserInput");var u=n("Fkmh"),l=n("+lXL"),d=n("qg6t"),p=n("2+C7"),f=n("4A01"),h=n("+TdC");const g=(e,t,n=u.TYPING_INDICATOR_TIMEOUT_MS)=>s=>{if((0,i.isFromVisitor)(e))return;const u=a(e)||h.TYPING_MESSAGE_STYLE.TYPING,g=c(e),m=1e3*o(e)||n,E=(0,r.getSenderId)(e);s((0,p.clearExistingTypingTimeout)(e,t));const T=setTimeout((()=>{s((0,d.dismissTypingIndicator)(e,t));s((0,f.clearTypingIndicatorStyle)({threadId:t,senderId:E}))}),m);s((0,f.setTypingIndicatorStyle)({threadId:t,senderId:E,style:u,shouldDisableUserInput:g}));s((0,l.addTypingTimeoutIdForAgentInThread)(t,E,T))}},"KO+H":function(e,t,n){"use strict";n.d(t,{EMAIL_CAPTURE_PROMPT:function(){return r}});const r="EMAIL_CAPTURE_PROMPT"},KXN9:function(e,t,n){"use strict";n.d(t,{getData:function(){return i},getError:function(){return s},getStatus:function(){return o}});var r=n("JGJA");const i=e=>(0,r.default)("data",e),s=e=>(0,r.default)("error",e),o=e=>(0,r.default)("status",e)},KZZz:function(e,t,n){"use strict";n.d(t,{THREAD_COMMENT:function(){return r}});const r="THREAD_COMMENT"},"Kjd/":function(e,t,n){"use strict";n.d(t,{validateMessageClientType:function(){return a}});var r=n("2Zef"),i=n("0IK8");const s=/^AGENT-([0-9]+)(?:$|:.+)/,o="API-republish",a=({message:e,clientId:t})=>{if((0,i.getSenderTypeForCMF)(e)===r.AGENT_SENDER&&t!==o){const n=s.exec(t);if(!n||isNaN(parseInt(n[1],10))||parseInt(n[1],10)!==(0,i.getSenderId)(e))throw new Error("malformed message")}}},KqYL:function(e,t,n){"use strict";n.d(t,{getIsAIChatbot:function(){return o}});var r=n("dLEV"),i=n("49A5"),s=n("JGJA");const o=(0,r.createSelector)(i.getLatestWidgetData,(e=>(0,s.default)("routingRuleDefinitionAI",e)||!1))},Kwzp:function(e,t,n){"use strict";n.d(t,{setHasClickedWelcomePagePrompts:function(){return s}});const r={hasClickedWelcomePagePrompts:!1},i=(0,n("dLEV").createSlice)({name:"aiPromptsInteraction",initialState:r,reducers:{setHasClickedWelcomePagePrompts:(e,t)=>{e.hasClickedWelcomePagePrompts=t.payload.hasClicked}}}),{setHasClickedWelcomePagePrompts:s}=i.actions;t.default=i.reducer},L82M:function(e,t,n){"use strict";n.d(t,{OFFLINE:function(){return i},ONLINE:function(){return r}});const r="online",i="offline"},L8e7:function(e,t,n){"use strict";n.d(t,{getEmailMetadata:function(){return o}});var r=n("JGJA"),i=n("Zui/"),s=n("9F2+");const o=e=>{const t=(0,s.getAttachments)(e);if(t)return t.find((e=>Boolean(e&&(0,r.default)("@type",e)===i.EMAIL_METADATA)))}},L9oQ:function(e,t,n){"use strict";n.d(t,{selectThread:function(){return s}});var r=n("dLEV"),i=n("Qvwz");const s=(0,r.createAction)(i.SELECT_THREAD,(e=>({payload:{threadId:e}})))},LJpC:function(e,t,n){"use strict";n.d(t,{isAgentState:function(){return s}});var r=n("qjq5"),i=n("Avso");const s=(0,r.default)(((e,t)=>(0,i.getAgentState)(t)===e))},LN55:function(e,t,n){e.exports=n.dlbpr(1,18)},LPbX:function(e,t,n){"use strict";n.d(t,{CONTACT_ASSOCIATION:function(){return r}});const r="CONTACT_ASSOCIATION"},LWnW:function(e,t){e.exports="//static.hsappstatic.net/visitor-ui-component-library/static-1.4089/img/default-avatar.png"},LZPL:function(e,t,n){e.exports=n.dlbpr(0,"p/lb")},LdnN:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var r=n("EuUD");const i="\\.",s=`\\s\\?\\#\\/\\(\\)\\=\\:\\;\\@\\\\"${i}`,o=`(?:www${i})`,a="(?:[%a-zA-Z0-9_-]+)",c="(?:(?:\\.[%a-zA-Z0-9-]+)[^\\.\\s])",u="\\s\\?\\#\\&";var l=new RegExp(`^(?:.+)@${{www:o,domain:`${o}?(?:(?:[^${s}]+)${i})+(?:[^${s}]+)`,protocol:"(?:(?:https?:)?\\/\\/)",protocolRequired:"(?:https?:\\/\\/)",path:"(?:(?:\\/[^\\s\\/\\#\\&\\?]*)+\\/?)",wildcardPath:"(?:(/(?:[%a-zA-Z0-9_-])*?)*(?:/[\\*]))",file:`${a}${c}`,fileName:a,fileExtension:c,search:`(?:([\\?&#][^${u}]*?=?([^${u}]*))+)`,ungroupedSearch:`(?:(?:[\\?&#][^${u}]*?=?(?:[^${u}]*))+)`}.domain}$`),d=(0,r.default)({name:"EmailAddress",validator:e=>l.test(e)})},LgEy:function(e,t,n){"use strict";n.d(t,{gdprConsentToProcessEnabled:function(){return o}});var r=n("DdHT"),i=n("kHIv"),s=n("VvTX");const o=(0,r.default)(i.getMessage,s.getGdprConsentToProcessEnabled)},Li7z:function(e,t,n){"use strict";n.d(t,{getUrlForMessage:function(){return i}});var r=n("8CDR");const i=()=>{const e=window.location!==window.parent.location?document.referrer:document.location.origin;return new r.default(e).hostplus}},Loon:function(e,t,n){"use strict";n.d(t,{default:function(){return E}});var r=n("ZVbf"),i=n("4e8t"),s=n.n(i),o=n("PJYd"),a=n.n(o),c=n("1EKh"),u=n("GgP/"),l=n.n(u),d=n("LN55");const p="Cookie is not authorized",f=(0,d.onResponseError)((e=>{e instanceof Error&&403===e.status&&e.responseJSON&&e.responseJSON.message===p&&l()({cached:!1});return Promise.reject(e)})),h=(0,r.createStack)(a(),(0,c.checkNetworkOnTimeout)(),f);var g=s()(h),m=n("yK3D");var E={post:(e,t)=>(0,m.default)(g.post,e,t),put:(e,t)=>(0,m.default)(g.put,e,t),get:(e,t)=>(0,m.default)(g.get,e,t),delete:(e,t)=>(0,m.default)(g.delete,e,t)}},Los8:function(e,t,n){"use strict";n.d(t,{parseStringBoolean:function(){return r}});const r=(e,t="true")=>!!e&&t.includes(e)},Lp6C:function(e,t,n){"use strict";n.d(t,{shouldCaptureVisitorEmailAddress:function(){return o}});var r=n("dLEV"),i=n("VvTX"),s=n("8dR1");const o=(0,r.createSelector)(s.getWelcomeMessage,i.getCaptureVisitorEmailAddress)},LrxL:function(e,t,n){"use strict";n.d(t,{default:function(){return y}});var r=n("QYOI"),i=n("7Qhs");const s="TICKET",o=["@type"],a=["pipelineId"],c=["pipelineName"],u=["pipelineStageId"],l=["pipelineStage"];var d=(0,r.Record)({connectedObjectSourceId:null,name:null,objectTypeId:null},"CrmCreationSource");class p extends((0,r.Record)({[o]:null,pipelineId:null,pipelineName:null,pipelineStageId:null,pipelineStage:null,crmCreationSource:null},"TicketUpdateMetadata")){constructor(e={}){super(Object.assign({},e,{crmCreationSource:e.crmCreationSource?d(e.crmCreationSource):null}))}}var f=p;var h=(0,r.Record)({[o]:null,toObjectType:null,toObjectId:null,toObjectName:null,updateType:null,auditParams:null},"TicketAssociationUpdateMetadata");const g="ASSOCIATION_UPDATED";var m=n("MJM1");const E=(0,m.default)(o),T=((0,m.default)(a),(0,m.default)(c),(0,m.default)(u),(0,m.default)(l),(e,t)=>e===s?E(t)===g?new h(t):new f(t):null);class y extends((0,r.Record)({"@type":i.CRM_OBJECT_LIFECYCLE_UPDATE,id:null,objectType:null,objectId:null,objectName:null,source:null,sourceId:null,crmObjectUpdate:null,timestamp:null},"CrmObjectLifecycleUpdate")){constructor(e={}){super(Object.assign({},e,{crmObjectUpdate:T(e.objectType,e.crmObjectUpdate)}))}}},Lu5y:function(e,t,n){"use strict";n.d(t,{buildWidgetData:function(){return y}});var r=n("DdHT"),i=n("qjq5"),s=n("QYOI"),o=n("mEYk"),a=n.n(o),c=n("xe9j"),u=n("wQJz"),l=n("+lAi"),d=n("vSPC"),p=n("Vfyk"),f=n("5tDa"),h=n("G0k2"),g=n("8+3E"),m=n("8Li4");const E={fontFamily:"system-ui",fallbacks:["Segoe UI","Roboto","Helvetica","Arial","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"],variants:[]},T=(0,i.default)(((e,t)=>{var n;const r=!t.fontFamily;return(0,s.Map)(t).merge(e).set("coloring",(0,d.buildWidgetColoring)(t.accentColor)).set("widgetFont",(0,g.default)({fontFamily:r?E.fontFamily:t.fontFamily,fallbacks:r?E.fallbacks:t.fontFallbacks,variants:r?E.variants:t.fontVariants,fontGroup:r?m.SYSTEM_FONTS:t.fontGroup})).set("gates",t.gates).set("recommendedQuestionsForAgent",null!==(n=null==t?void 0:t.recommendedQuestionsForAgent)&&void 0!==n?n:[])})),y=(e={})=>{var t;const n=e.sendFrom||[],i=e.sendFrom||[],o=(0,h.isTypeBot)(null==e||null===(t=e.sendFrom)||void 0===t?void 0:t[0])?(0,u.default)(i[0]):null,d=o||i[0];let g;try{g=(0,r.default)(T({availabilityOptions:new p.default(e.availabilityOptions),botResponder:o,inOfficeHours:e.inOfficeHours,message:(0,f.buildWelcomeMessage)(e.message),messagesPageUri:e.messagesPageUri,nextStartTime:e.nextOfficeHoursStartTime,responder:(0,u.default)(d),responders:(0,s.List)(n).map(u.default),sendFrom:(0,s.List)(i).map(u.default),typicalResponseTime:(0,l.default)(e.typicalResponseTime),widgetLocation:e.widgetLocation}),c.default)(e)}catch(t){a().captureException(t,{extra:{data:e}})}return g}},M1Uo:function(e,t,n){"use strict";n.d(t,{getCurrentStatus:function(){return a},getPreviousStatus:function(){return c}});var r=n("MJM1");const i=["currentStatus"],s=["previousStatus"],o=["auditParams"],a=(0,r.default)(i),c=(0,r.default)(s);(0,r.default)(o)},M5PA:function(e,t,n){"use strict";var r=n("MZef"),i=n("4cwC"),s=n("y+PV"),o=n("stzZ"),a=n("uB3n"),c=n("eJ3n"),u=n("kHIv"),l=n("wQJz"),d=n("PpSk"),p=n("Ut5p"),f=n("xZ3y"),h=n("fjpq"),g=n("bXuJ"),m=n("eSJp");const E=(0,a.default)({name:"responders",idInvariant:m.responderKeyInvariant,idTransform:e=>e,notSetValue:(0,r.default)({data:(0,l.default)()})});t.default=(0,p.handleActions)({[f.GET_WIDGET_DATA_SUCCEEDED](e,t){const{payload:n}=t;return(0,u.getSendFrom)(n).reduce(((e,t)=>{const n=(0,g.buildResponderKeyFromResponder)(t);return(0,c.updateEntry)(n,(0,o.requestSucceededWithOperator)((()=>t)),e)}),e)},[f.GET_VISITOR_THREADS_SUCCESS](e,t){const{threads:n}=t.payload,r=[];n.forEach((e=>{const t=(0,d.getResponder)(e);t&&r.push(t)}));return r.reduce(((e,t)=>{const n=(0,g.buildResponderKeyFromResponder)(t);return(0,c.updateEntry)(n,(0,o.requestSucceededWithOperator)((()=>t)),e)}),e)},[h.FETCH_AGENT_RESPONDER.STARTED](e,{payload:t}){const n=(0,g.buildResponderKeyFromRequest)(t.requestArgs);return(0,c.updateEntry)(n,s.requestStarted,e)},[h.FETCH_AGENT_RESPONDER.FAILED](e,{payload:t}){const n=(0,g.buildResponderKeyFromRequest)(t.requestArgs);return(0,c.updateEntry)(n,i.requestFailed,e)},[h.FETCH_AGENT_RESPONDER.SUCCEEDED](e,{payload:t}){const n=(0,g.buildResponderKeyFromRequest)(t.requestArgs);return(0,c.updateEntry)(n,(0,o.requestSucceededWithOperator)((()=>t.data)),e)}},E)},M9tH:function(e,t,n){"use strict";var r=n("9Utk"),i=n.n(r),s=n("Hc3B"),o=n("C3IS"),a=n("xZ3y"),c=n("Mx3c"),u=n("0IK8"),l=n("JGJA");const d=2e3,p=()=>{const e=i()(s.audioNotificationManager.play,d,{leading:!0,trailing:!1,maxWait:d});function t(e){const t=(0,u.getSenderType)(e);return t===c.AGENT||t===c.BOT}return n=>r=>{switch(r.type){case a.GET_WIDGET_DATA_SUCCEEDED:{const e=(0,l.default)("notificationAudio",r.payload);"string"==typeof e&&(s.audioNotificationManager.url=e);break}case a.RECEIVED_INCOMING_MESSAGE:{const{message:n,shouldNotify:i}=r.payload;i&&t(n)&&(0,o.isCommonMessageFormat)(n)&&!(0,o.isEmailCMF)(n)&&e();break}case a.OPEN_CONVERSATION_FOR_NEW_CHANNEL:{const{shouldNotifyBySound:t}=r.payload;t&&e();break}}return n(r)}};t.default=p},MBJP:function(e,t,n){"use strict";n.d(t,{createSelector:function(){return a},defaultMemoize:function(){return i}});function r(e,t){return e===t}function i(e,t=r){let n=null,i=null;return(...r)=>{null!==n&&n.length===r.length&&r.every(((e,r)=>t(e,n[r])))||(i=e(...r));n=r;return i}}function s(e){const t=Array.isArray(e[0])?e[0]:e;if(!t.every((e=>"function"==typeof e))){const e=t.map((e=>typeof e)).join(", ");throw new Error(`Selector creators expect all input-selectors to be functions, instead received the following types: [${e}]`)}return t}function o(e,...t){return(...n)=>{let r=0;const i=n.pop(),o=s(n),a=e(((...e)=>{r++;return i(...e)}),...t),c=(e,t,...n)=>{const r=o.map((r=>r(e,t,...n)));return a(...r)};c.resultFunc=i;c.recomputations=()=>r;c.resetRecomputations=()=>r=0;return c}}const a=o(i)},MD34:function(e,t){"use strict";function n(e,t,n){(e=arguments.length>1?e.then(t,n):e).then(null,(e=>{setTimeout((()=>{throw e}),0)}))}t.default=n},MJM1:function(e,t,n){"use strict";var r=n("TaVT"),i=n("qjq5");t.default=(0,i.default)(r.default)},MM1n:function(e,t,n){"use strict";var r=n("QYOI"),i=n("3Yas");i.filter.implement(Array,((e,t)=>t.filter(e)));i.filter.implementInherited(r.Iterable,((e,t)=>t.filter(e)));i.filter.implement(Object,((e,t)=>{const n={},r=Object.keys(t),i=r.length;for(let s=0;s<i;s++){const i=r[s],o=t[i];e(o,i,t)&&(n[i]=o)}return n}));i.filter.implementInherited(r.Record,((e,t)=>t.reduce(((n,r,i)=>e(r,i,t)?n.set(i,r):n),(0,r.Map)())));t.default=i.filter},MWj0:function(e,t,n){"use strict";n.d(t,{ATTACHMENTS:function(){return r},AUDIT_PARAMS:function(){return i},CLIENT_TYPE:function(){return s},CONTENT_TYPE:function(){return o},DIRECT_REPLY_TO_MESSAGE_ID:function(){return a},ERROR_MESSAGE:function(){return c},HAS_STRIPPED_INLINE_IMAGES:function(){return f},ID:function(){return u},IN_REPLY_TO_ID:function(){return l},LOCALIZED_ERROR_KEY:function(){return d},MESSAGE_DELETE_STATUS:function(){return h},MESSAGE_DIRECTION:function(){return x},MESSAGE_ID:function(){return g},MESSAGE_SEND_FAILURE:function(){return m},MESSAGE_SEND_FAILURE_SUBSCRIPTION_TYPE:function(){return E},MESSAGE_STATUS:function(){return T},MESSAGE_STATUS_TIMESTAMP:function(){return y},RECIPIENTS:function(){return A},RECIPIENT_FIELD:function(){return R},RICH_TEXT:function(){return b},SENDER:function(){return v},SENDER_TYPE:function(){return I},STATUS:function(){return S},STRIPPED_ATTACHMENT_COUNT:function(){return p},TEXT:function(){return C},TIMESTAMP:function(){return _},TYPE:function(){return O}});const r=["attachments"],i=["auditParams"],s=["clientType"],o=["contentType"],a=["directReplyToMessageId"],c=["status","sendFailure","errorMessage"],u=["id"],l=["inReplyToId"],d=["status","sendFailure","localizedErrorKey"],p=["strippedAttachmentCount"],f=["hasInlineImagesStripped"],h=["messageDeletedStatus"],g=["id"],m=["status","sendFailure"],E=["status","sendFailure","errorMessageTokens","enforcedSubscriptionType"],T=["status","messageStatus"],y=["status","timestamp"],A=["recipients"],b=["richText"],v=["sender"],I=["sender","@type"],S=["status"],C=["text"],_=["timestamp"],O=["@type"],R=["recipientField"],x=["direction"]},MYjy:function(e,t,n){"use strict";var r=n("QYOI");const i=(0,r.Record)({type:"",value:""},"DeliveryIdentifier");t.default=i},MZef:function(e,t,n){"use strict";var r=n("QYOI"),i=n("VToG");const s=(0,r.Record)({data:null,error:null,status:i.UNINITIALIZED,updatedAt:null},"AsyncData");t.default=s},Mclz:function(e,t,n){"use strict";n.d(t,{BATCH_SMS_GENERATED_USER_MESSAGE:function(){return r}});const r="BATCH_SMS_GENERATED_USER_MESSAGE"},Mcxo:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var r=n("9f1P"),i=n.n(r),s=n("57op");const o="help",a="error";var c=n("x+ne");const u=({use:e,theme:t})=>{switch(e){case a:return(0,r.css)(["color:",";"],(0,s.getErrorTextColor)(t));case o:return(0,r.css)(["color:",";"],(0,s.getHelpTextColor)(t));default:return null}};var l=i().small.withConfig({displayName:"VizExSmall"})(["display:block;",";",";"],c.getSmallStyles,u)},MfaD:function(e,t,n){"use strict";var r=n("QYOI"),i=n("ubOH"),s=n("fPyn"),o=n("6OYF"),a=n("9Mwj"),c=n("c1C1"),u=n("BvOu"),l=n("OxGf");class d extends((0,r.Record)({"@type":o.TYPICAL_RESPONSE_TIME,id:null,text:"",timestamp:null,sender:(0,r.Map)(),status:(0,i.default)(),messageDeletedStatus:a.NOT_DELETED,direction:l.OUTGOING,genericChannelId:null,channelInstanceId:null,senders:(0,r.List)(),recipients:(0,r.List)()},"TypicalResponseTimeMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,u.generateUuid)(),status:(0,s.buildStatus)(e.status),timestamp:e.timestamp||(0,c.generateUniqueClientTimestamp)("TypicalResponseTimeMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=d},Mjj8:function(e,t,n){"use strict";n.d(t,{NO_CONTENT:function(){return r}});const r=204},Mjoc:function(e,t,n){"use strict";var r=n("bahz"),i=n("1pGl"),s=n("Wtyj");t.default=e=>{const t=(0,r.default)(Object.assign({},e,{__localesCacheKey:s.PUBLIC_CACHE}));if(!e||e&&!e.manuallySetLocale){let e=i.defaultLanguage;navigator&&navigator.languages&&navigator.languages[0]?e=navigator.languages[0]:navigator&&navigator.language&&(e=navigator.language);t.setLocale({locale:e,langEnabled:!0})}return t}},MmUS:function(e,t,n){"use strict";n.d(t,{fetchArticleCategories:function(){return c}});var r=n("dLEV"),i=n("zTcI"),s=n("mEYk"),o=n.n(s),a=n("32pP");const c=(0,r.createAsyncThunk)("articles/fetchArticleCategories",(({knowledgeBaseId:e,knowledgeBaseUrl:t},{getState:n})=>{const r=n(),s=(0,a.getVisitorIdentification)(r),{identificationToken:c,identificationEmail:u}=s;return(0,i.getArticleCategories)({knowledgeBaseId:e,knowledgeBaseUrl:t,identificationToken:c,email:u}).then((e=>e)).catch((e=>{o().captureException(e);throw e}))}))},Mx3c:function(e,t,n){"use strict";n.r(t);n.d(t,{AGENT:function(){return r},BOT:function(){return s},EMAIL:function(){return c},INTEGRATOR:function(){return a},NEW_SENDER_TYPE_TO_LEGACY_SENDER_TYPE_MAP:function(){return u},SYSTEM:function(){return o},VISITOR:function(){return i}});const r="AGENT",i="VISITOR",s="BOT",o="SYSTEM",a="INTEGRATOR",c="EMAIL",u={AGENT_SENDER:r,VISITOR_SENDER:i,BOT_SENDER:s,SYSTEM_SENDER:o,INTEGRATOR_SENDER:a,VID_SENDER:i}},"N+TY":function(e,t,n){"use strict";n.d(t,{setKBArticle:function(){return o},setOriginViewContext:function(){return a},setViewExpanded:function(){return c}});var r=n("dLEV");const i={data:{deepLink:"",hubSpotContentId:"",hubSpotContentTextFragment:""},originViewContext:{view:n("0fuM").THREAD_VIEW},viewExpanded:!0},s=(0,r.createSlice)({name:"kbArticle",initialState:i,reducers:{setKBArticle(e,t){e.data=t.payload},setOriginViewContext(e,t){e.originViewContext=t.payload},setViewExpanded(e,t){e.viewExpanded=t.payload}}}),{setKBArticle:o,setOriginViewContext:a,setViewExpanded:c}=s.actions;t.default=s.reducer},N1gu:function(e,t,n){"use strict";n.d(t,{addAvailabilityMessage:function(){return a}});var r=n("w/lx"),i=n("As+A"),s=n("gJOx");const o=5e3;function a({channel:e,threadId:t}){return(n,a)=>{if(!(0,s.default)(a()).get(e)){const s=setTimeout((()=>{n((0,i.publishAvailabilityMessage)({channel:e,threadId:t}))}),o);n((0,r.default)(e,s))}}}},N4ZN:function(e,t,n){"use strict";n.d(t,{republishMessage:function(){return d}});var r=n("4SpI"),i=n("q4JX"),s=n("0PDK"),o=n("ng2a"),a=n("vuNk"),c=n("y5/z"),u=n("IA0z"),l=n("PpSk");function d(e){return(t,n)=>{const d=(0,s.getSelectedThreadId)(n()),p=(0,a.getThreadByThreadId)(n(),{threadId:d}),f=(0,l.getChannelName)(p),h=(0,i.getUnpublishedMessage)(e);t((0,o.removeMessageInConversation)({message:h,threadId:d}));t((0,r.publishMessage)({channel:f,message:h,threadId:d}));t((0,c.trackInteraction)(u.EVENT_NAMES.REPUBLISH_MESSAGE))}}},N76F:function(e,t,n){"use strict";n.d(t,{onContactAssociated:function(){return s}});var r=n("Ozt8"),i=n("mlLV");const s=()=>{(0,r.postExternalApiEvent)({eventType:i.CONTACT_ASSOCIATED,payload:{message:"Contact has been associated"}})}},N7dr:function(e,t,n){"use strict";n.d(t,{DATA:function(){return r},ERROR:function(){return i},STATUS:function(){return s},UPDATED_AT:function(){return o}});const r=["data"],i=["error"],s=["status"],o=["updatedAt"]},NDfM:function(e,t,n){"use strict";n.d(t,{postStartTrackExitIntent:function(){return s}});var r=n("n6ol"),i=n("CITH");const s=()=>{(0,i.postMessageToParent)(r.START_TRACK_EXIT_INTENT)}},NIjC:function(e,t,n){"use strict";var r=n("QYOI"),i=n("9Mwj"),s=n("12C0");class o extends((0,r.Record)({"@type":s.CONTEXT_UPDATE,id:null,timestamp:null,contexts:(0,r.Map)(),hiddenFromVisitor:!1,messageDeletedStatus:i.NOT_DELETED},"ContextUpdateMessage")){constructor(e={}){super(Object.assign({},e,{contexts:e.contexts&&e.contexts?(0,r.fromJS)(e.contexts):(0,r.Map)()}))}}t.default=o},NL4B:function(e,t,n){"use strict";n.d(t,{getId:function(){return i},getType:function(){return s}});var r=n("MJM1");const i=(0,r.default)(["senderId"]),s=(0,r.default)(["senderType"])},NLFw:function(e,t,n){"use strict";n.d(t,{BrowserWindowContext:function(){return s},defaultBrowserWindowContext:function(){return i},useBrowserWindowContext:function(){return o}});var r=n("QOxE");const i={browserWindowHeight:1080,browserWindowWidth:1920},s=(0,r.createContext)(i),o=()=>(0,r.useContext)(s)},NMIh:function(e,t,n){"use strict";var r=n("QYOI"),i=n("Zui/");const s=(0,r.Record)({"@type":i.INLINE_IMAGES,fileIdsByStatus:(0,r.Map)(),hasInlineImagesStripped:!1},"InlineImageStatusAttachments");t.default=s},NQPJ:function(e,t,n){"use strict";n.d(t,{fetchVisitorThreads:function(){return s}});var r=n("eLSo");const i="livechat-public/v1";function s({sessionId:e}){return r.default.get(`${i}/thread/visitor/recent`,{query:{sessionId:e}}).then((e=>Array.isArray(e)?e.map((e=>{e.responder?e.assignedAgentId=e.responder.userId:e.assignedAgentId=null;e.channelDetails=e.channel;delete e.channel;e.unseenCount=e.hasUnreadMessages?1:0;return e})):[]))}},NRxt:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n("QYOI"),i=n("JGJA");var s=(0,r.Record)({bouncedEmailAddress:null,enforcedSubscriptionType:null},"ErrorMessageTokens");const o=(0,r.Record)({localizedErrorKey:null,errorMessage:null,errorMessageTokens:null,retryable:!1},"SendFailure");function a(e){if(!e)return o();const t=(0,i.default)("localizedErrorKey",e)||null,n=(0,i.default)("errorMessage",e)||null,r=(0,i.default)("errorMessageTokens",e)||null,a=r&&s(r),c=(0,i.default)("retryable",e)||!1;return o({localizedErrorKey:t,errorMessage:n,errorMessageTokens:a,retryable:c})}},NT8A:function(e,t,n){"use strict";var r=n("QYOI"),i=n("9Mwj"),s=n("30KC");class o extends((0,r.Record)({"@type":s.THREAD_INBOX_UPDATED,id:null,timestamp:null,hiddenFromVisitor:!1,messageDeletedStatus:i.NOT_DELETED,originInboxId:null,auditParams:(0,r.Map)(),destinationInboxId:null},"InboxUpdateMessage")){constructor(e={}){super(Object.assign({},e,{auditParams:(0,r.Map)(e.auditParams)}))}}t.default=o},NfCo:function(e,t,n){"use strict";n.r(t);n.d(t,{DEFAULT:function(){return a},PRIMARY:function(){return r},PRIMARY_TRANSPARENT_BACKGROUND:function(){return o},TRANSPARENT_ON_BACKGROUND:function(){return i},TRANSPARENT_ON_PRIMARY:function(){return s}});const r="primary",i="transparent-on-background",s="transparent-on-primary",o="primary-transparent-background",a="default"},Nin7:function(e,t,n){"use strict";n.r(t);t.default={en:{number:{format:{precision:3,strip_insignificant_zeros:!0},percentage:{format:{delimiter:",",format:"%n%",precision:0}},currency:{format:{precision:2,strip_insignificant_zeros:!1}},human:{storage_units:{units:{byte:{one:" byte",other:" bytes"},kb:"kb",mb:"mb",gb:"gb",tb:"tb"}},array:{inclusive:{wordsConnector:", ",twoWordsConnector:" and ",lastWordConnector:", and "},exclusive:{wordsConnector:", ",twoWordsConnector:" or ",lastWordConnector:", or "}},abbreviated:{long:{1e3:{one:"0 thousand",other:"0 thousand"},1e4:{one:"00 thousand",other:"00 thousand"},1e5:{one:"000 thousand",other:"000 thousand"},1e6:{one:"0 million",other:"0 million"},1e7:{one:"00 million",other:"00 million"},1e8:{one:"000 million",other:"000 million"},1e9:{one:"0 billion",other:"0 billion"},1e10:{one:"00 billion",other:"00 billion"},1e11:{one:"000 billion",other:"000 billion"},1e12:{one:"0 trillion",other:"0 trillion"},1e13:{one:"00 trillion",other:"00 trillion"},1e14:{one:"000 trillion",other:"000 trillion"}},short:{1e3:{one:"0K",other:"0K"},1e4:{one:"00K",other:"00K"},1e5:{one:"000K",other:"000K"},1e6:{one:"0M",other:"0M"},1e7:{one:"00M",other:"00M"},1e8:{one:"000M",other:"000M"},1e9:{one:"0B",other:"0B"},1e10:{one:"00B",other:"00B"},1e11:{one:"000B",other:"000B"},1e12:{one:"0T",other:"0T"},1e13:{one:"00T",other:"00T"},1e14:{one:"000T",other:"000T"}}}}}}}},NqZZ:function(e,t,n){"use strict";n.d(t,{getIsUserTrackingAllowed:function(){return u}});var r=n("dLEV"),i=n("49A5"),s=n("c/Yf"),o=n("xeq1"),a=n("yy6y"),c=n("CM48");const u=(0,r.createSelector)([i.getLatestWidgetData,s.getGlobalCookieOptOut,c.getUserHasGivenConsentToProcess],((e,t,n)=>{const r=(0,o.getIsPortal53Prod)(),i=(0,a.getShouldListenToGdprBannerConsent)(e);return t!==s.OPT_OUT_YES&&(t===s.OPT_OUT_NO||(!r||!i)&&n)}))},Nsdo:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var r=n("xZ3y"),i=n("o3Zl"),s=n("vStR"),o=n("Los8");const{TOGGLE_OPEN:a,RECEIVED_WIDGET_SHELL_DATA:c,TRACK_USER_INTERACTION:u}=r,l=e=>({mobile:(0,o.parseStringBoolean)(`${e.mobile}`),open:(0,o.parseStringBoolean)(`${e.open}`),hideWelcomeMessage:(0,o.parseStringBoolean)(`${e.hideWelcomeMessage}`),domain:e.domain,startOpen:e.startOpen,url:e.url||"",userInteractedWithWidget:!1,isEmbeddedInProduct:(0,o.parseStringBoolean)(`${e.inApp53}`),isIOSMobile:(0,o.parseStringBoolean)(`${e.isIOSMobile}`)});function d(e=(0,s.createWidgetUiState)(),t){switch(t.type){case i.TOGGLE_INITIAL_MESSAGE_BUBBLE:return!t.payload.visible&&t.payload.closedByUser?Object.assign({},e,{startOpen:!1,hideWelcomeMessage:!0}):e;case c:return Object.assign({},e,l(t.payload));case a:return!t.payload.isOpened&&t.payload.isUser?Object.assign({},e,{startOpen:!1,hideWelcomeMessage:!0,open:t.payload.isOpened}):Object.assign({},e,{open:t.payload.isOpened});case u:return Object.assign({},e,{userInteractedWithWidget:!0});default:return e}}},OBCX:function(e,t,n){"use strict";n.d(t,{addTimeOnPageTriggerAction:function(){return s}});var r=n("dLEV"),i=n("VB2T");const s=(0,r.createAction)(i.ADD_TIME_ON_PAGE_TRIGGER,(e=>({payload:{timeoutId:e}})))},OCpJ:function(e,t,n){"use strict";n.d(t,{SendButton:function(){return p}});var r=n("P+E7"),i=n("iKGd"),s=n("npjq"),o=n("9f1P"),a=n.n(o),c=n("QNzx"),u=n("W5Gz");const l=a().button.withConfig({displayName:"SendButton__Button"})(["border:none;padding:0;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;margin:auto;background-color:transparent;&:focus-visible{outline-offset:1px;outline:2px solid #00a4bd;}&:hover{& svg{fill:",";}}&[disabled]{cursor:not-allowed;background-color:transparent;color:",";& svg{fill:",";}}"],i.DEFAULT_ICON_BUTTON_HOVER,i.DEFAULT_ICON_BUTTON_DISABLED,i.DEFAULT_ICON_BUTTON_DISABLED),d=a()(c.default).withConfig({displayName:"SendButton__SendIcon"})(["width:18px;height:18px;margin-right:2px;fill:",";"],i.DEFAULT_ICON_BUTTON);function p(e){let t=Object.assign({},((0,r.default)(e),e));return(0,u.jsx)(l,Object.assign({"aria-label":s.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.send"),"data-test-id":"chat-send-button"},t,{children:(0,u.jsx)(d,{})}))}p.displayName="SendButton"},OHie:function(e,t,n){"use strict";n.d(t,{sortMessages:function(){return d}});var r=n("qjq5"),i=n("QYOI"),s=n("3Yas");s.sortBy.implement(Array,((e,t)=>(0,i.Seq)(t).sortBy(e).toArray()));s.sortBy.implementInherited(i.Iterable,((e,t)=>t.sortBy(e)));s.sortBy.implement(Object,((e,t)=>(0,i.Seq)(t).sortBy(e).toObject()));var o=s.sortBy,a=(0,r.default)(o),c=n("xCrP"),u=n("/He/"),l=n("0IK8");const d=e=>(0,c.default)(u.MESSAGE_RESULTS,a(l.getTimestamp),e)},OIId:function(e,t,n){"use strict";n.d(t,{ATTACHMENT_ERROR:function(){return c},ATTACHMENT_UPLOAD_COMPLETE:function(){return s},ATTACHMENT_UPLOAD_PROGRESS:function(){return r},ATTACHMENT_UPLOAD_START:function(){return i},CLEAR_ATTACHMENTS:function(){return a},DISMISS_ATTACHMENTS_ERROR:function(){return u},REMOVE_ATTACHMENT:function(){return o}});const r="ATTACHMENT_UPLOAD_PROGRESS",i="ATTACHMENT_UPLOAD_START",s="ATTACHMENT_UPLOAD_COMPLETE",o="REMOVE_ATTACHMENT",a="CLEAR_ATTACHMENTS",c="ATTACHMENT_ERROR",u="DISMISS_ATTACHMENTS_ERROR"},OPip:function(e,t,n){"use strict";n.d(t,{applyIdInvariant:function(){return o}});var r=n("qjq5"),i=n("JoAZ"),s=n("x1JE");const o=(0,r.default)(((e,t)=>{(0,i.indexedDataInvariant)(t);const n=(0,s.getIdInvariant)(t),r=(0,s.getName)(t);try{n(e)}catch(t){t.indexedAsyncDataName=r;t.indexedAsyncDataValue=JSON.stringify(e);throw t}}))},OS0G:function(e,t){var n;function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[q]}function s(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===$}(e)||Array.isArray(e)||!!e[Y]||!!e.constructor[Y]||p(e)||f(e))}function o(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:Q)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[q];return t?t.t>3?t.t-4:t.t:Array.isArray(e)?1:p(e)?2:f(e)?3:0}function c(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===a(e)?e.get(t):e[t]}function l(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return W&&e instanceof Map}function f(e){return V&&e instanceof Set}function h(e){return e.i||e.u}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[q];for(var n=Q(t),r=0;r<n.length;r++){var i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),T(e)||i(e)||!s(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=E),Object.freeze(e),t&&o(e,(function(e,t){return m(t,!0)}),!0)),e}function E(){r(2)}function T(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=Z[e];return t||r(18,e),t}function A(e,t){Z[e]||(Z[e]=t)}function b(){return G}function v(e,t){t&&(y("Patches"),e.o=[],e.v=[],e.s=t)}function I(e){S(e),e.p.forEach(_),e.p=null}function S(e){e===G&&(G=e.l)}function C(e){return G={p:[],l:G,h:e,_:!0,m:0}}function _(e){var t=e[q];0===t.t||1===t.t?t.j():t.O=!0}function O(e,t){t.m=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.S||y("ES5").P(t,e,i),i?(n[q].M&&(I(t),r(4)),s(e)&&(e=R(t,e),t.l||w(t,e)),t.o&&y("Patches").g(n[q].u,e,t.o,t.v)):e=R(t,n,[]),I(t),t.o&&t.s(t.o,t.v),e!==K?e:void 0}function R(e,t,n){if(T(t))return t;var r=t[q];if(!r)return o(t,(function(i,s){return x(e,r,t,i,s,n)}),!0),t;if(r.A!==e)return t;if(!r.M)return w(e,r.u,!0),r.u;if(!r.R){r.R=!0,r.A.m--;var i=4===r.t||5===r.t?r.i=g(r.k):r.i;o(3===r.t?new Set(i):i,(function(t,s){return x(e,r,i,t,s,n)})),w(e,i,!1),n&&e.o&&y("Patches").F(r,n,e.o,e.v)}return r.i}function x(e,t,n,r,o,a){if(i(o)){var u=R(e,o,a&&t&&3!==t.t&&!c(t.D,r)?a.concat(r):void 0);if(l(n,r,u),!i(u))return;e._=!1}if(s(o)&&!T(o)){if(!e.h.K&&e.m<1)return;R(e,o),t&&t.A.l||w(e,o)}}function w(e,t,n){void 0===n&&(n=!1),e.h.K&&e._&&m(t,n)}function N(e,t){var n=e[q];return(n?h(n):e)[t]}function D(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function L(e){e.M||(e.M=!0,e.l&&L(e.l))}function M(e){e.i||(e.i=g(e.u))}function P(e,t,n){var r=p(t)?y("MapSet").$(t,n):f(t)?y("MapSet").C(t,n):e.S?function(e,t){var n=Array.isArray(e),r={t:n?1:0,A:t?t.A:b(),M:!1,R:!1,D:{},l:t,u:e,k:null,i:null,j:null,I:!1},i=r,s=ee;n&&(i=[r],s=te);var o=Proxy.revocable(i,s),a=o.revoke,c=o.proxy;return r.k=c,r.j=a,c}(t,n):y("ES5").J(t,n);return(n?n.A:b()).p.push(r),r}function k(e){return i(e)||r(22,e),function e(t){if(!s(t))return t;var n,r=t[q],i=a(t);if(r){if(!r.M&&(r.t<4||!y("ES5").N(r)))return r.u;r.R=!0,n=U(t,i),r.R=!1}else n=U(t,i);return o(n,(function(t,i){r&&u(r.u,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function U(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}function B(){function e(e,t){var n=s[e];return n?n.enumerable=t:s[e]=n={configurable:!0,enumerable:t,get:function(){return ee.get(this[q],e)},set:function(t){ee.set(this[q],e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][q];if(!i.M)switch(i.t){case 5:r(i)&&L(i);break;case 4:n(i)&&L(i)}}}function n(e){for(var t=e.u,n=e.k,r=Q(n),i=r.length-1;i>=0;i--){var s=r[i];if(s!==q){var o=t[s];if(void 0===o&&!c(t,s))return!0;var a=n[s],u=a&&a[q];if(u?u.u!==o:!d(a,o))return!0}}var l=!!t[q];return r.length!==Q(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.u.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var s={};A("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var s=X(n);delete s[q];for(var o=Q(s),a=0;a<o.length;a++){var c=o[a];s[c]=e(c,t||!!s[c].enumerable)}return Object.create(Object.getPrototypeOf(n),s)}(r,t),s={t:r?5:4,A:n?n.A:b(),M:!1,R:!1,D:{},l:n,u:t,k:i,i:null,O:!1,I:!1};return Object.defineProperty(i,q,{value:s,writable:!0}),i},P:function(e,n,s){s?i(n)&&n[q].A===e&&t(e.p):(e.o&&function e(t){if(t&&"object"==typeof t){var n=t[q];if(n){var i=n.u,s=n.k,a=n.D,u=n.t;if(4===u)o(s,(function(t){t!==q&&(void 0!==i[t]||c(i,t)?a[t]||e(s[t]):(a[t]=!0,L(n)))})),o(i,(function(e){void 0!==s[e]||c(s,e)||(a[e]=!1,L(n))}));else if(5===u){if(r(n)&&(L(n),a.length=!0),s.length<i.length)for(var l=s.length;l<i.length;l++)a[l]=!1;else for(var d=i.length;d<s.length;d++)a[d]=!0;for(var p=Math.min(s.length,i.length),f=0;f<p;f++)s.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(s[f])}}}}(e.p[0]),t(e.p))},N:function(e){return 4===e.t?n(e):r(e)}})}function H(){function e(t){if(!s(t))return t;if(Array.isArray(t))return t.map(e);if(p(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(f(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return c(t,Y)&&(n[Y]=t[Y]),n}function t(t){return i(t)?e(t):t}var n="add";A("Patches",{W:function(t,i){return i.forEach((function(i){for(var s=i.path,o=i.op,c=t,l=0;l<s.length-1;l++){var d=a(c),p=""+s[l];0!==d&&1!==d||"__proto__"!==p&&"constructor"!==p||r(24),"function"==typeof c&&"prototype"===p&&r(24),"object"!=typeof(c=u(c,p))&&r(15,s.join("/"))}var f=a(c),h=e(i.value),g=s[s.length-1];switch(o){case"replace":switch(f){case 2:return c.set(g,h);case 3:r(16);default:return c[g]=h}case n:switch(f){case 1:return"-"===g?c.push(h):c.splice(g,0,h);case 2:return c.set(g,h);case 3:return c.add(h);default:return c[g]=h}case"remove":switch(f){case 1:return c.splice(g,1);case 2:return c.delete(g);case 3:return c.delete(i.value);default:return delete c[g]}default:r(17,o)}})),t},F:function(e,r,i,s){switch(e.t){case 0:case 4:case 2:return function(e,r,i,s){var a=e.u,l=e.i;o(e.D,(function(e,o){var d=u(a,e),p=u(l,e),f=o?c(a,e)?"replace":n:"remove";if(d!==p||"replace"!==f){var h=r.concat(e);i.push("remove"===f?{op:f,path:h}:{op:f,path:h,value:p}),s.push(f===n?{op:"remove",path:h}:"remove"===f?{op:n,path:h,value:t(d)}:{op:"replace",path:h,value:t(d)})}}))}(e,r,i,s);case 5:case 1:return function(e,r,i,s){var o=e.u,a=e.D,c=e.i;if(c.length<o.length){var u=[c,o];o=u[0],c=u[1];var l=[s,i];i=l[0],s=l[1]}for(var d=0;d<o.length;d++)if(a[d]&&c[d]!==o[d]){var p=r.concat([d]);i.push({op:"replace",path:p,value:t(c[d])}),s.push({op:"replace",path:p,value:t(o[d])})}for(var f=o.length;f<c.length;f++){var h=r.concat([f]);i.push({op:n,path:h,value:t(c[f])})}o.length<c.length&&s.push({op:"replace",path:r.concat(["length"]),value:o.length})}(e,r,i,s);case 3:return function(e,t,r,i){var s=e.u,o=e.i,a=0;s.forEach((function(e){if(!o.has(e)){var s=t.concat([a]);r.push({op:"remove",path:s,value:e}),i.unshift({op:n,path:s,value:e})}a++})),a=0,o.forEach((function(e){if(!s.has(e)){var o=t.concat([a]);r.push({op:n,path:o,value:e}),i.unshift({op:"remove",path:o,value:e})}a++}))}(e,r,i,s)}},g:function(e,t,n,r){n.push({op:"replace",path:[],value:t===K?void 0:t}),r.push({op:"replace",path:[],value:e})}})}function F(){function e(e,t){function n(){this.constructor=e}a(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.i||(e.D=new Map,e.i=new Map(e.u))}function n(e){e.i||(e.i=new Set,e.u.forEach((function(t){if(s(t)){var n=P(e.A.h,t,e);e.p.set(t,n),e.i.add(n)}else e.i.add(t)})))}function i(e){e.O&&r(3,JSON.stringify(h(e)))}var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},c=function(){function n(e,t){return this[q]={t:2,l:t,A:t?t.A:b(),M:!1,R:!1,i:void 0,D:void 0,u:e,k:this,I:!1,O:!1},this}e(n,Map);var r=n.prototype;return Object.defineProperty(r,"size",{get:function(){return h(this[q]).size}}),r.has=function(e){return h(this[q]).has(e)},r.set=function(e,n){var r=this[q];return i(r),h(r).has(e)&&h(r).get(e)===n||(t(r),L(r),r.D.set(e,!0),r.i.set(e,n),r.D.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var n=this[q];return i(n),t(n),L(n),n.u.has(e)?n.D.set(e,!1):n.D.delete(e),n.i.delete(e),!0},r.clear=function(){var e=this[q];i(e),h(e).size&&(t(e),L(e),e.D=new Map,o(e.u,(function(t){e.D.set(t,!1)})),e.i.clear())},r.forEach=function(e,t){var n=this;h(this[q]).forEach((function(r,i){e.call(t,n.get(i),i,n)}))},r.get=function(e){var n=this[q];i(n);var r=h(n).get(e);if(n.R||!s(r))return r;if(r!==n.u.get(e))return r;var o=P(n.A.h,r,n);return t(n),n.i.set(e,o),o},r.keys=function(){return h(this[q]).keys()},r.values=function(){var e,t=this,n=this.keys();return(e={})[J]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,n=this.keys();return(e={})[J]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},r[J]=function(){return this.entries()},n}(),u=function(){function t(e,t){return this[q]={t:3,l:t,A:t?t.A:b(),M:!1,R:!1,i:void 0,u:e,k:this,p:new Map,O:!1,I:!1},this}e(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return h(this[q]).size}}),r.has=function(e){var t=this[q];return i(t),t.i?!!t.i.has(e)||!(!t.p.has(e)||!t.i.has(t.p.get(e))):t.u.has(e)},r.add=function(e){var t=this[q];return i(t),this.has(e)||(n(t),L(t),t.i.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[q];return i(t),n(t),L(t),t.i.delete(e)||!!t.p.has(e)&&t.i.delete(t.p.get(e))},r.clear=function(){var e=this[q];i(e),h(e).size&&(n(e),L(e),e.i.clear())},r.values=function(){var e=this[q];return i(e),n(e),e.i.values()},r.entries=function(){var e=this[q];return i(e),n(e),e.i.entries()},r.keys=function(){return this.values()},r[J]=function(){return this.values()},r.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();A("MapSet",{$:function(e,t){return new c(e,t)},C:function(e,t){return new u(e,t)}})}({value:!0});var G,j="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,V="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,K=j?Symbol.for("immer-nothing"):((n={})["immer-nothing"]=!0,n),Y=j?Symbol.for("immer-draftable"):"__$immer_draftable",q=j?Symbol.for("immer-state"):"__$immer_state",J="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",$=""+Object.prototype.constructor,Q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return Q(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Z={},ee={get:function(e,t){if(t===q)return e;var n=h(e);if(!c(n,t))return function(e,t,n){var r,i=D(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.R||!s(r)?r:r===N(e.u,t)?(M(e),e.i[t]=P(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=D(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.M){var i=N(h(e),t),s=null==i?void 0:i[q];if(s&&s.u===n)return e.i[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||c(e.u,t)))return!0;M(e),L(e)}return e.i[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.i)||(e.i[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==N(e.u,t)||t in e.u?(e.D[t]=!1,M(e),L(e)):delete e.D[t],e.i&&delete e.i[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.t||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.u)},setPrototypeOf:function(){r(12)}},te={};o(ee,(function(e,t){te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),te.deleteProperty=function(e,t){return te.set.call(this,e,t,void 0)},te.set=function(e,t,n){return ee.set.call(this,e[0],t,n,e[0])};var ne=function(){function e(e){var t=this;this.S=z,this.K=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var c;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),s(e)){var u=C(t),l=P(t,e,void 0),d=!0;try{c=n(l),d=!1}finally{d?I(u):S(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return v(u,i),O(e,u)}),(function(e){throw I(u),e})):(v(u,i),O(c,u))}if(!e||"object"!=typeof e){if(void 0===(c=n(e))&&(c=e),c===K&&(c=void 0),t.K&&m(c,!0),i){var p=[],f=[];y("Patches").g(e,c,p,f),i(p,f)}return c}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,s=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return[e,r,i]})):[s,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){s(e)||r(8),i(e)&&(e=k(e));var t=C(this),n=P(this,e,void 0);return n[q].I=!0,S(t),n},t.finishDraft=function(e,t){var n=(e&&e[q]).A;return v(n,t),O(void 0,n)},t.setAutoFreeze=function(e){this.K=e},t.setUseProxies=function(e){e&&!z&&r(20),this.S=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var s=y("Patches").W;return i(e)?s(e,t):this.produce(e,(function(e){return s(e,t)}))},e}(),re=new ne,ie=re.produce,se=re.produceWithPatches.bind(re),oe=re.setAutoFreeze.bind(re),ae=re.setUseProxies.bind(re),ce=re.applyPatches.bind(re),ue=re.createDraft.bind(re),le=re.finishDraft.bind(re);ne,ce,function(e){return e},function(e){return e},ue,t.current=k,t.default=ie,function(){B(),F(),H()},t.enableES5=B,F,H,le,m,Y,t.isDraft=i,t.isDraftable=s,K,function(e){return i(e)||r(23,e),e[q].u},ie,se,oe,ae},OV6p:function(e,t,n){"use strict";n.d(t,{updateCurrentAnimation:function(){return o}});var r=n("dLEV");const i=n("lu1e").FADE,s=(0,r.createSlice)({name:"currentAnimation",initialState:i,reducers:{updateCurrentAnimation:(e,t)=>t.payload}}),{updateCurrentAnimation:o}=s.actions;t.default=s.reducer},Og8y:function(e,t,n){"use strict";n.d(t,{getEntryUrlMetadata:function(){return r}});const r=e=>e.entryUrlMetadata},Oo4n:function(e,t,n){"use strict";n.d(t,{applyEvict:function(){return d}});var r=n("qjq5"),i=n("JoAZ"),s=n("QYOI"),o=n("dAms"),a=n("OPip"),c=n("Sbt9");const u=(0,r.default)(((e=(0,s.Set)(),t)=>{(0,i.indexedDataInvariant)(t);if(0===e.size)return t;const n=(e,n)=>{(0,a.applyIdInvariant)(n,t);return e.delete((0,c.applyIdTransform)(n,t))},r=t=>e.reduce(n,t);return t.updateIn(o.ENTRIES,r)}));var l=n("x1JE");const d=(0,r.default)((e=>{(0,i.indexedDataInvariant)(e);const t=(0,l.getEvict)(e);try{return u(t((0,l.getEntries)(e)),e)}catch(e){e.indexedAsyncDataName=name;throw e}}))},"Opx+":function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n("VADA"),i=n("HD2P"),s=n("GdKg"),o=n("npjq"),a=n("W5Gz");function c({chatHeadingConfig:e,mobile:t,size:n}){const c=(0,r.getAnyCompanyLogo)(e),u=o.default.text("conversations-visitor-experience-components.default.agent"),l=o.default.text("conversations-visitor-experience-components.default.avatar",{identifier:e.get("customChatName")||u});return e?(0,a.jsx)("div",{className:"justify-center align-center",style:(0,i.getChatHeadGroupStyle)({mobile:t}),children:(0,a.jsx)(s.default,{src:c,className:"chat-head-avatar",size:n,alt:l})}):null}c.displayName="CustomChatHeading"},Or3K:function(e,t,n){"use strict";n.d(t,{exitIntentTriggerEnabled:function(){return c}});var r=n("kHIv"),i=n("VvTX"),s=n("97n4");const o=["enabled"],a=(0,n("MJM1").default)(o),c=e=>{const t=(0,r.getMessage)(e),n=(0,i.getClientTriggers)(t),o=(0,s.getDisplayOnExitIntent)(n);return a(o)}},Otz9:function(e,t,n){"use strict";var r=n("QYOI"),i=n("Zui/");const s=(0,r.Record)({"@type":i.EMAIL_METADATA,to:(0,r.List)(),cc:(0,r.List)(),bcc:(0,r.List)(),clipStatus:"",from:(0,r.Map)({name:"",email:""}),subject:"",connectedAccountAddress:"",hasReplies:!1,previousRepliesHtml:null,previousRepliesPlainText:null,originalSender:(0,r.Map)({name:"",email:""}),memberOfForwardedSubthread:!1,forward:!1,templateId:null,emailAuthenticationStatus:null},"EmailMetadata");t.default=s},OwpT:function(e,t){"use strict";({value:!0});function n(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}function r(e,t,n){var r;if(e.length>t){if(null==n){n="&hellip;";r=3}else r=n.length;e=e.substring(0,t-r)+n}return e}function i(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function s(e,t){for(var n=e.length-1;n>=0;n--)!0===t(e[n])&&e.splice(n,1)}function o(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,r=[],i=0;n=t.exec(e);){r.push(e.substring(i,n.index));r.push(n[0]);i=n.index+n[0].length}r.push(e.substring(i));return r}function a(e){throw new Error("Unhandled case for value: '"+e+"'")}var c=function(){function e(e){void 0===e&&(e={});this.tagName="";this.attrs={};this.innerHTML="";this.whitespaceRegex=/\s+/;this.tagName=e.tagName||"";this.attrs=e.attrs||{};this.innerHTML=e.innerHtml||e.innerHTML||""}e.prototype.setTagName=function(e){this.tagName=e;return this};e.prototype.getTagName=function(){return this.tagName||""};e.prototype.setAttr=function(e,t){this.getAttrs()[e]=t;return this};e.prototype.getAttr=function(e){return this.getAttrs()[e]};e.prototype.setAttrs=function(e){Object.assign(this.getAttrs(),e);return this};e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})};e.prototype.setClass=function(e){return this.setAttr("class",e)};e.prototype.addClass=function(e){for(var t,n=this.getClass(),r=this.whitespaceRegex,s=n?n.split(r):[],o=e.split(r);t=o.shift();)-1===i(s,t)&&s.push(t);this.getAttrs().class=s.join(" ");return this};e.prototype.removeClass=function(e){for(var t,n=this.getClass(),r=this.whitespaceRegex,s=n?n.split(r):[],o=e.split(r);s.length&&(t=o.shift());){var a=i(s,t);-1!==a&&s.splice(a,1)}this.getAttrs().class=s.join(" ");return this};e.prototype.getClass=function(){return this.getAttrs().class||""};e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")};e.prototype.setInnerHTML=function(e){this.innerHTML=e;return this};e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)};e.prototype.getInnerHTML=function(){return this.innerHTML||""};e.prototype.getInnerHtml=function(){return this.getInnerHTML()};e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")};e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")};return e}();function u(e,t,n){var r,i;if(null==n){n="&hellip;";i=3;r=8}else{i=n.length;r=n.length}var s=function(e){var t={},n=e,r=n.match(/^([a-z]+):\/\//i);if(r){t.scheme=r[1];n=n.substr(r[0].length)}if(r=n.match(/^(.*?)(?=(\?|#|\/|$))/i)){t.host=r[1];n=n.substr(r[0].length)}if(r=n.match(/^\/(.*?)(?=(\?|#|$))/i)){t.path=r[1];n=n.substr(r[0].length)}if(r=n.match(/^\?(.*?)(?=(#|$))/i)){t.query=r[1];n=n.substr(r[0].length)}(r=n.match(/^#(.*?)$/i))&&(t.fragment=r[1]);return t},o=function(e){var t="";e.scheme&&e.host&&(t+=e.scheme+"://");e.host&&(t+=e.host);e.path&&(t+="/"+e.path);e.query&&(t+="?"+e.query);e.fragment&&(t+="#"+e.fragment);return t},a=function(e,t){var r=t/2,i=Math.ceil(r),s=-1*Math.floor(r),o="";s<0&&(o=e.substr(s));return e.substr(0,i)+n+o};if(e.length<=t)return e;var c=t-i,u=s(e);if(u.query){var l=u.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);if(l){u.query=u.query.substr(0,l[1].length);e=o(u)}}if(e.length<=t)return e;if(u.host){u.host=u.host.replace(/^www\./,"");e=o(u)}if(e.length<=t)return e;var d="";u.host&&(d+=u.host);if(d.length>=c)return u.host.length==t?(u.host.substr(0,t-i)+n).substr(0,c+r):a(d,c).substr(0,c+r);var p="";u.path&&(p+="/"+u.path);u.query&&(p+="?"+u.query);if(p){if((d+p).length>=c){return(d+p).length==t?(d+p).substr(0,t):(d+a(p,c-d.length)).substr(0,c+r)}d+=p}if(u.fragment){var f="#"+u.fragment;if((d+f).length>=c){return(d+f).length==t?(d+f).substr(0,t):(d+a(f,c-d.length)).substr(0,c+r)}d+=f}if(u.scheme&&u.host){var h=u.scheme+"://";if((d+h).length<c)return(h+d).substr(0,t)}if(d.length<=t)return d;var g="";c>0&&(g=d.substr(-1*Math.floor(c/2)));return(d.substr(0,Math.ceil(c/2))+n+g).substr(0,c+r)}function l(e,t,n){if(e.length<=t)return e;var r,i;if(null==n){n="&hellip;";r=8;i=3}else{r=n.length;i=n.length}var s=t-i,o="";s>0&&(o=e.substr(-1*Math.floor(s/2)));return(e.substr(0,Math.ceil(s/2))+n+o).substr(0,s+r)}function d(e,t,n){return r(e,t,n)}var p=function(){function e(e){void 0===e&&(e={});this.newWindow=!1;this.truncate={};this.className="";this.newWindow=e.newWindow||!1;this.truncate=e.truncate||{};this.className=e.className||""}e.prototype.build=function(e){return new c({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})};e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);n&&(t.class=n);if(this.newWindow){t.target="_blank";t.rel="noopener noreferrer"}this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref());return t};e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var n=[t],r=e.getCssClassSuffixes(),i=0,s=r.length;i<s;i++)n.push(t+"-"+r[i]);return n.join(" ")}return""};e.prototype.processAnchorText=function(e){return e=this.doTruncate(e)};e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var n=t.length,r=t.location;return"smart"===r?u(e,n):"middle"===r?l(e,n):d(e,n)};return e}(),f=function(){function e(e){this.__jsduckDummyDocProp=null;this.matchedText="";this.offset=0;this.tagBuilder=e.tagBuilder;this.matchedText=e.matchedText;this.offset=e.offset}e.prototype.getMatchedText=function(){return this.matchedText};e.prototype.setOffset=function(e){this.offset=e};e.prototype.getOffset=function(){return this.offset};e.prototype.getCssClassSuffixes=function(){return[this.getType()]};e.prototype.buildTag=function(){return this.tagBuilder.build(this)};return e}(),h=function(e,t){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return h(e,t)};function g(e,t){h(e,t);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var m=function(){m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};return m.apply(this,arguments)},E=function(e){g(t,e);function t(t){var n=e.call(this,t)||this;n.email="";n.email=t.email;return n}t.prototype.getType=function(){return"email"};t.prototype.getEmail=function(){return this.email};t.prototype.getAnchorHref=function(){return"mailto:"+this.email};t.prototype.getAnchorText=function(){return this.email};return t}(f),T=function(e){g(t,e);function t(t){var n=e.call(this,t)||this;n.serviceName="";n.hashtag="";n.serviceName=t.serviceName;n.hashtag=t.hashtag;return n}t.prototype.getType=function(){return"hashtag"};t.prototype.getServiceName=function(){return this.serviceName};t.prototype.getHashtag=function(){return this.hashtag};t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: "+e)}};t.prototype.getAnchorText=function(){return"#"+this.hashtag};return t}(f),y=function(e){g(t,e);function t(t){var n=e.call(this,t)||this;n.serviceName="twitter";n.mention="";n.mention=t.mention;n.serviceName=t.serviceName;return n}t.prototype.getType=function(){return"mention"};t.prototype.getMention=function(){return this.mention};t.prototype.getServiceName=function(){return this.serviceName};t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}};t.prototype.getAnchorText=function(){return"@"+this.mention};t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();n&&t.push(n);return t};return t}(f),A=function(e){g(t,e);function t(t){var n=e.call(this,t)||this;n.number="";n.plusSign=!1;n.number=t.number;n.plusSign=t.plusSign;return n}t.prototype.getType=function(){return"phone"};t.prototype.getPhoneNumber=function(){return this.number};t.prototype.getNumber=function(){return this.getPhoneNumber()};t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number};t.prototype.getAnchorText=function(){return this.matchedText};return t}(f),b=function(e){g(t,e);function t(t){var n=e.call(this,t)||this;n.url="";n.urlMatchType="scheme";n.protocolUrlMatch=!1;n.protocolRelativeMatch=!1;n.stripPrefix={scheme:!0,www:!0};n.stripTrailingSlash=!0;n.decodePercentEncoding=!0;n.schemePrefixRegex=/^(https?:\/\/)?/i;n.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i;n.protocolRelativeRegex=/^\/\//;n.protocolPrepended=!1;n.urlMatchType=t.urlMatchType;n.url=t.url;n.protocolUrlMatch=t.protocolUrlMatch;n.protocolRelativeMatch=t.protocolRelativeMatch;n.stripPrefix=t.stripPrefix;n.stripTrailingSlash=t.stripTrailingSlash;n.decodePercentEncoding=t.decodePercentEncoding;return n}t.prototype.getType=function(){return"url"};t.prototype.getUrlMatchType=function(){return this.urlMatchType};t.prototype.getUrl=function(){var e=this.url;if(!this.protocolRelativeMatch&&!this.protocolUrlMatch&&!this.protocolPrepended){e=this.url="http://"+e;this.protocolPrepended=!0}return e};t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")};t.prototype.getAnchorText=function(){var e=this.getMatchedText();this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e));this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e));this.stripPrefix.www&&(e=this.stripWwwPrefix(e));this.stripTrailingSlash&&(e=this.removeTrailingSlash(e));this.decodePercentEncoding&&(e=this.removePercentEncoding(e));return e};t.prototype.stripSchemePrefix=function(e){return e.replace(this.schemePrefixRegex,"")};t.prototype.stripWwwPrefix=function(e){return e.replace(this.wwwPrefixRegex,"$1")};t.prototype.stripProtocolRelativePrefix=function(e){return e.replace(this.protocolRelativeRegex,"")};t.prototype.removeTrailingSlash=function(e){"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1));return e};t.prototype.removePercentEncoding=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}};return t}(f),v=function(){function e(e){this.__jsduckDummyDocProp=null;this.tagBuilder=e.tagBuilder}return e}(),I=/[A-Za-z]/,S=/[0-9]/,C=/\s/,_=/['"]/,O=/[\x00-\x1F\x7F]/,R=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,x=R+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,w=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,N=x+w,D=x+w,L="(?:["+w+"]{1,3}\\.){3}["+w+"]{1,3}",M="["+D+"](?:["+D+"\\-]{0,61}["+D+"])?",P=function(e){return"(?=("+M+"))\\"+e},k=function(e){return"(?:"+P(e)+"(?:\\."+P(e+1)+"){0,126}|"+L+")"},U=new RegExp("["+D+"]"),B=function(e){g(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.localPartCharRegex=new RegExp("["+D+"!#$%&'*+/=?^_`{|}~-]");return t}t.prototype.parseMatches=function(e){for(var t=this.tagBuilder,n=this.localPartCharRegex,r=[],i=e.length,s=new H,o=0,c=0,u=s;o<i;){var l=e.charAt(o);switch(c){case 0:d(l);break;case 1:p(l);break;case 2:f(l);break;case 3:h(l);break;case 4:g(l);break;case 5:T(l);break;case 6:y(l);break;default:a(c)}o++}v();return r;function d(e){n.test(e)&&A()}function p(e){"."===e?c=2:"@"===e?c=3:n.test(e)||b()}function f(e){"."===e||"@"===e?b():n.test(e)?c=1:b()}function h(e){U.test(e)?c=4:b()}function g(e){"."===e?c=6:"-"===e?c=5:U.test(e)||v()}function T(e){"-"===e||"."===e?v():U.test(e)?c=4:v()}function y(e){if("."===e||"-"===e)v();else if(U.test(e)){c=4;u=new H(m({},u,{hasDomainDot:!0}))}else v()}function A(){c=1;u=new H({idx:o})}function b(){c=0;u=s}function v(){if(u.hasDomainDot){var n=e.slice(u.idx,o);/[-.]$/.test(n)&&(n=n.slice(0,-1));r.push(new E({tagBuilder:t,matchedText:n,offset:u.idx,email:n}))}b()}};return t}(v),H=function(){function e(e){void 0===e&&(e={});this.idx=void 0!==e.idx?e.idx:-1;this.hasDomainDot=!!e.hasDomainDot}return e}(),F=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermgensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|etisalat|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|staples|starhub|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|||||||||abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|||||||||||||aarp|able|adac|aero|aigo|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jcp|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)/,G=function(){function e(){}e.isValid=function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))};e.isValidIpAddress=function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)};e.containsMultipleDots=function(e){var t=e;this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]);return t.split("/")[0].indexOf("..")>-1};e.isValidUriScheme=function(e){var t=e.match(this.uriSchemeRegex),n=t&&t[0].toLowerCase();return"javascript:"!==n&&"vbscript:"!==n};e.urlMatchDoesNotHaveProtocolOrDot=function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))};e.urlMatchDoesNotHaveAtLeastOneWordChar=function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)};e.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//;e.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/;e.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+R+"]");e.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/;return e}(),j=function(e){g(t,e);function t(t){var n,r,i,s=e.call(this,t)||this;s.stripPrefix={scheme:!0,www:!0};s.stripTrailingSlash=!0;s.decodePercentEncoding=!0;s.matcherRegex=(n=/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/,r=/(?:www\.)/,i=new RegExp("[/?#](?:["+D+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;]*["+D+"\\-+&@#/%=~_()|'$*\\[\\]])?"),new RegExp(["(?:","(",n.source,k(2),")","|","(","(//)?",r.source,k(6),")","|","(","(//)?",k(10)+"\\.",F.source,"(?![-"+N+"])",")",")","(?::[0-9]+)?","(?:"+i.source+")?"].join(""),"gi"));s.wordCharRegExp=new RegExp("["+D+"]");s.stripPrefix=t.stripPrefix;s.stripTrailingSlash=t.stripTrailingSlash;s.decodePercentEncoding=t.decodePercentEncoding;return s}t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.stripPrefix,i=this.stripTrailingSlash,s=this.decodePercentEncoding,o=this.tagBuilder,a=[];null!==(t=n.exec(e));){var c=t[0],u=t[1],l=t[4],d=t[5],p=t[9],f=t.index,h=d||p,g=e.charAt(f-1);if(G.isValid(c,u)&&!(f>0&&"@"===g||f>0&&h&&this.wordCharRegExp.test(g))){/\?$/.test(c)&&(c=c.substr(0,c.length-1));if(this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var m=this.matchHasInvalidCharAfterTld(c,u);m>-1&&(c=c.substr(0,m))}var E=u?"scheme":l?"www":"tld",T=!!u;a.push(new b({tagBuilder:o,matchedText:c,offset:f,urlMatchType:E,url:c,protocolUrlMatch:T,protocolRelativeMatch:!!h,stripPrefix:r,stripTrailingSlash:i,decodePercentEncoding:s}))}}return a};t.prototype.matchHasUnbalancedClosingParen=function(e){var t,n=e.charAt(e.length-1);if(")"===n)t="(";else{if("]"!==n)return!1;t="["}for(var r=0,i=0,s=e.length-1;i<s;i++){var o=e.charAt(i);o===t?r++:o===n&&(r=Math.max(r-1,0))}return 0===r};t.prototype.matchHasInvalidCharAfterTld=function(e,t){if(!e)return-1;var n=0;if(t){n=e.indexOf(":");e=e.slice(n)}var r=new RegExp("^((.?//)?[-."+D+"]*[-"+D+"]\\.[-"+D+"]+)").exec(e);if(null===r)return-1;n+=r[1].length;e=e.slice(r[1].length);return/^[^-.A-Za-z0-9:\/?#]/.test(e)?n:-1};return t}(v),W=function(e){g(t,e);function t(t){var n=e.call(this,t)||this;n.serviceName="twitter";n.matcherRegex=new RegExp("#[_"+D+"]{1,139}(?![_"+D+"])","g");n.nonWordCharRegex=new RegExp("[^"+D+"]");n.serviceName=t.serviceName;return n}t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.nonWordCharRegex,i=this.serviceName,s=this.tagBuilder,o=[];null!==(t=n.exec(e));){var a=t.index,c=e.charAt(a-1);if(0===a||r.test(c)){var u=t[0],l=t[0].slice(1);o.push(new T({tagBuilder:s,matchedText:u,offset:a,serviceName:i,hashtag:l}))}}return o};return t}(v),V=function(e){g(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.matcherRegex=/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g;return t}t.prototype.parseMatches=function(e){for(var t,n=this.matcherRegex,r=this.tagBuilder,i=[];null!==(t=n.exec(e));){var s=t[0],o=s.replace(/[^0-9,;#]/g,""),a=!(!t[1]&&!t[2]),c=0==t.index?"":e.substr(t.index-1,1),u=e.substr(t.index+s.length,1),l=!c.match(/\d/)&&!u.match(/\d/);this.testMatch(t[3])&&this.testMatch(s)&&l&&i.push(new A({tagBuilder:r,matchedText:s,offset:t.index,number:o,plusSign:a}))}return i};t.prototype.testMatch=function(e){return/\D/.test(e)};return t}(v),z=function(e){g(t,e);function t(t){var n=e.call(this,t)||this;n.serviceName="twitter";n.matcherRegexes={twitter:new RegExp("@[_"+D+"]{1,50}(?![_"+D+"])","g"),instagram:new RegExp("@[_."+D+"]{1,30}(?![_"+D+"])","g"),soundcloud:new RegExp("@[-_."+D+"]{1,50}(?![-_"+D+"])","g")};n.nonWordCharRegex=new RegExp("[^"+D+"]");n.serviceName=t.serviceName;return n}t.prototype.parseMatches=function(e){var t,n=this.serviceName,r=this.matcherRegexes[this.serviceName],i=this.nonWordCharRegex,s=this.tagBuilder,o=[];if(!r)return o;for(;null!==(t=r.exec(e));){var a=t.index,c=e.charAt(a-1);if(0===a||i.test(c)){var u=t[0].replace(/\.+$/g,""),l=u.slice(1);o.push(new y({tagBuilder:s,matchedText:u,offset:a,serviceName:n,mention:l}))}}return o};return t}(v);function K(e,t){for(var n=t.onOpenTag,r=t.onCloseTag,i=t.onText,s=t.onComment,o=t.onDoctype,c=new Y,u=0,l=e.length,d=0,p=0,f=c;u<l;){var h=e.charAt(u);switch(d){case 0:g(h);break;case 1:E(h);break;case 2:y(h);break;case 3:T(h);break;case 4:A(h);break;case 5:b(h);break;case 6:v(h);break;case 7:R(h);break;case 8:x(h);break;case 9:w(h);break;case 10:N(h);break;case 11:D(h);break;case 12:L(h);break;case 13:M(h);break;case 14:P(h);break;case 15:k(h);break;case 16:U(h);break;case 17:B(h);break;case 18:H(h);break;case 19:F(h);break;case 20:G(h);break;default:a(d)}u++}p<u&&z();function g(e){"<"===e&&W()}function E(e){if("!"===e)d=13;else if("/"===e){d=2;f=new Y(m({},f,{isClosing:!0}))}else if("<"===e)W();else if(I.test(e)){d=3;f=new Y(m({},f,{isOpening:!0}))}else{d=0;f=c}}function T(e){if(C.test(e)){f=new Y(m({},f,{name:K()}));d=4}else if("<"===e)W();else if("/"===e){f=new Y(m({},f,{name:K()}));d=12}else if(">"===e){f=new Y(m({},f,{name:K()}));V()}else I.test(e)||S.test(e)||":"===e||j()}function y(e){">"===e?j():I.test(e)?d=3:j()}function A(e){C.test(e)||("/"===e?d=12:">"===e?V():"<"===e?W():"="===e||_.test(e)||O.test(e)?j():d=5)}function b(e){C.test(e)?d=6:"/"===e?d=12:"="===e?d=7:">"===e?V():"<"===e?W():_.test(e)&&j()}function v(e){C.test(e)||("/"===e?d=12:"="===e?d=7:">"===e?V():"<"===e?W():_.test(e)?j():d=5)}function R(e){C.test(e)||('"'===e?d=8:"'"===e?d=9:/[>=`]/.test(e)?j():"<"===e?W():d=10)}function x(e){'"'===e&&(d=11)}function w(e){"'"===e&&(d=11)}function N(e){C.test(e)?d=4:">"===e?V():"<"===e&&W()}function D(e){if(C.test(e))d=4;else if("/"===e)d=12;else if(">"===e)V();else if("<"===e)W();else{d=4;q()}}function L(e){if(">"===e){f=new Y(m({},f,{isClosing:!0}));V()}else d=4}function M(t){if("--"===e.substr(u,2)){u+=2;f=new Y(m({},f,{type:"comment"}));d=14}else if("DOCTYPE"===e.substr(u,7).toUpperCase()){u+=7;f=new Y(m({},f,{type:"doctype"}));d=20}else j()}function P(e){"-"===e?d=15:">"===e?j():d=16}function k(e){"-"===e?d=18:">"===e?j():d=16}function U(e){"-"===e&&(d=17)}function B(e){d="-"===e?18:16}function H(e){">"===e?V():"!"===e?d=19:"-"===e||(d=16)}function F(e){"-"===e?d=17:">"===e?V():d=16}function G(e){">"===e?V():"<"===e&&W()}function j(){d=0;f=c}function W(){d=1;f=new Y({idx:u})}function V(){var t=e.slice(p,f.idx);t&&i(t,p);if("comment"===f.type)s(f.idx);else if("doctype"===f.type)o(f.idx);else{f.isOpening&&n(f.name,f.idx);f.isClosing&&r(f.name,f.idx)}j();p=u+1}function z(){var t=e.slice(p,u);i(t,p);p=u+1}function K(){var t=f.idx+(f.isClosing?2:1);return e.slice(t,u).toLowerCase()}function q(){u--}}var Y=function(){function e(e){void 0===e&&(e={});this.idx=void 0!==e.idx?e.idx:-1;this.type=e.type||"tag";this.name=e.name||"";this.isOpening=!!e.isOpening;this.isClosing=!!e.isClosing}return e}(),q=function(){function e(t){void 0===t&&(t={});this.version=e.version;this.urls={};this.email=!0;this.phone=!0;this.hashtag=!1;this.mention=!1;this.newWindow=!0;this.stripPrefix={scheme:!0,www:!0};this.stripTrailingSlash=!0;this.decodePercentEncoding=!0;this.truncate={length:0,location:"end"};this.className="";this.replaceFn=null;this.context=void 0;this.matchers=null;this.tagBuilder=null;this.urls=this.normalizeUrlsCfg(t.urls);this.email="boolean"==typeof t.email?t.email:this.email;this.phone="boolean"==typeof t.phone?t.phone:this.phone;this.hashtag=t.hashtag||this.hashtag;this.mention=t.mention||this.mention;this.newWindow="boolean"==typeof t.newWindow?t.newWindow:this.newWindow;this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix);this.stripTrailingSlash="boolean"==typeof t.stripTrailingSlash?t.stripTrailingSlash:this.stripTrailingSlash;this.decodePercentEncoding="boolean"==typeof t.decodePercentEncoding?t.decodePercentEncoding:this.decodePercentEncoding;var n=this.mention;if(!1!==n&&"twitter"!==n&&"instagram"!==n&&"soundcloud"!==n)throw new Error("invalid `mention` cfg - see docs");var r=this.hashtag;if(!1!==r&&"twitter"!==r&&"facebook"!==r&&"instagram"!==r)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate);this.className=t.className||this.className;this.replaceFn=t.replaceFn||this.replaceFn;this.context=t.context||this}e.link=function(t,n){return new e(n).link(t)};e.parse=function(t,n){return new e(n).parse(t)};e.prototype.normalizeUrlsCfg=function(e){null==e&&(e=!0);return"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}};e.prototype.normalizeStripPrefixCfg=function(e){null==e&&(e=!0);return"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}};e.prototype.normalizeTruncateCfg=function(e){return"number"==typeof e?{length:e,location:"end"}:n(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})};e.prototype.parse=function(e){var t=this,n=["a","style","script"],r=0,i=[];K(e,{onOpenTag:function(e){n.indexOf(e)>=0&&r++},onText:function(e,n){if(0===r){var s=o(e,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),a=n;s.forEach((function(e,n){if(n%2==0){var r=t.parseText(e,a);i.push.apply(i,r)}a+=e.length}))}},onCloseTag:function(e){n.indexOf(e)>=0&&(r=Math.max(r-1,0))},onComment:function(e){},onDoctype:function(e){}});i=this.compactMatches(i);return i=this.removeUnwantedMatches(i)};e.prototype.compactMatches=function(e){e.sort((function(e,t){return e.getOffset()-t.getOffset()}));for(var t=0;t<e.length-1;t++){var n=e[t],r=n.getOffset(),i=n.getMatchedText().length,s=r+i;if(t+1<e.length){if(e[t+1].getOffset()===r){var o=e[t+1].getMatchedText().length>i?t:t+1;e.splice(o,1);continue}e[t+1].getOffset()<s&&e.splice(t+1,1)}}return e};e.prototype.removeUnwantedMatches=function(e){this.hashtag||s(e,(function(e){return"hashtag"===e.getType()}));this.email||s(e,(function(e){return"email"===e.getType()}));this.phone||s(e,(function(e){return"phone"===e.getType()}));this.mention||s(e,(function(e){return"mention"===e.getType()}));this.urls.schemeMatches||s(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}));this.urls.wwwMatches||s(e,(function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()}));this.urls.tldMatches||s(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}));return e};e.prototype.parseText=function(e,t){void 0===t&&(t=0);t=t||0;for(var n=this.getMatchers(),r=[],i=0,s=n.length;i<s;i++){for(var o=n[i].parseMatches(e),a=0,c=o.length;a<c;a++)o[a].setOffset(t+o[a].getOffset());r.push.apply(r,o)}return r};e.prototype.link=function(e){if(!e)return"";for(var t=this.parse(e),n=[],r=0,i=0,s=t.length;i<s;i++){var o=t[i];n.push(e.substring(r,o.getOffset()));n.push(this.createMatchReturnVal(o));r=o.getOffset()+o.getMatchedText().length}n.push(e.substring(r));return n.join("")};e.prototype.createMatchReturnVal=function(e){var t;this.replaceFn&&(t=this.replaceFn.call(this.context,e));return"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof c?t.toAnchorString():e.buildTag().toAnchorString()};e.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var e=this.getTagBuilder(),t=[new W({tagBuilder:e,serviceName:this.hashtag}),new B({tagBuilder:e}),new V({tagBuilder:e}),new z({tagBuilder:e,serviceName:this.mention}),new j({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t};e.prototype.getTagBuilder=function(){var e=this.tagBuilder;e||(e=this.tagBuilder=new p({newWindow:this.newWindow,truncate:this.truncate,className:this.className}));return e};e.version="3.0.5";e.AnchorTagBuilder=p;e.HtmlTag=c;e.matcher={Email:B,Hashtag:W,Matcher:v,Mention:z,Phone:V,Url:j};e.match={Email:E,Hashtag:T,Match:f,Mention:y,Phone:A,Url:b};return e}();p;q;E;B;T;W;c;f;v;y;z;A;V;b;j;t.default=q},OxGf:function(e,t,n){"use strict";n.d(t,{INCOMING:function(){return i},OUTGOING:function(){return r}});const r="OUTGOING",i="INCOMING"},Ozt8:function(e,t,n){"use strict";n.d(t,{postExternalApiEvent:function(){return s}});var r=n("CITH");const i="external-api-event",s=({eventType:e,payload:t})=>{(0,r.postMessageToParent)(i,{eventType:e,payload:t})}},"P+E7":function(e,t,n){"use strict";n.d(t,{default:function(){return r}});function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}},P0El:function(e,t,n){"use strict";n.d(t,{CRM_OBJECT_WORKFLOW_EMAIL_SENT:function(){return r},MESSAGE_TYPE_ID:function(){return i}});const r="CRM_OBJECT_WORKFLOW_EMAIL_SENT",i="@type"},P5SP:function(e,t,n){"use strict";n.d(t,{shouldRecordUrlContextUpdate:function(){return c}});var r=n("dLEV"),i=n("vuNk"),s=n("0oGG");const o=(0,r.createSelector)([i.getThreadByThreadId],s.getCurrentUrl);var a=n("sJho");const c=(0,r.createSelector)([o,a.getMessagesPageUri],((e,t)=>e!==t))},P7jJ:function(e,t,n){"use strict";n.d(t,{default:function(){return y}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("9f1P"),a=n.n(o),c=n("7719");const u={[c.EXTRA_EXTRA_SMALL]:8,[c.EXTRA_SMALL]:12,[c.SMALL]:16,[c.MEDIUM]:20,[c.LARGE]:24};var l=n("CR0J"),d=n("57op");const p=(0,n("PUb4").get)("icon");(0,d.setThemeColorsProperty)("icon");var f=n("W5Gz");const h=["icon","size"];function g(e){return Object.keys(u).includes(e)}const m=e=>(0,o.css)(["font-size:",";height:",";width:",";"],e&&g(e)?`${u[e]}px`:e,e&&g(e)?`${u[e]}px`:e,e&&g(e)?`${u[e]}px`:e),E=a().div.withConfig({displayName:"VizExIcon__IconWrapper"})(["display:inline-flex;vertical-align:middle;fill:",";",""],(({theme:e})=>p(e)||"currentColor"),(({size:e})=>e&&m(e))),T=e=>{const{icon:t,size:n}=e,i=(0,r.default)(e,h);return(0,f.jsx)(E,Object.assign({},i,{size:n,children:t}))};T.displayName="VizExIcon";T.propTypes={icon:s().node.isRequired,size:s().oneOfType([s().oneOf(Object.keys(u)),s().string]),theme:l.default};var y=T},PJYd:function(e,t,n){e.exports=n.dlbpr(1,74)},PJuP:function(e,t,n){"use strict";n.d(t,{getFileAttachments:function(){return a}});var r=n("JGJA"),i=n("QYOI"),s=n("Zui/"),o=n("9F2+");const a=e=>{const t=(0,o.getAttachments)(e);if(t){return t.find((e=>(0,r.default)("@type",e)===s.FILES))}return(0,i.List)()}},PU72:function(e,t,n){"use strict";n.d(t,{default:function(){return p}});var r=n("dLEV"),i=n("j+9m"),s=n("kHIv"),o=n("JGJA");const a=(0,o.default)("popOpenWelcomeMessage"),c=(0,o.default)("popOpenWidget");var u=n("R4L7"),l=n("bMJP");const d=!0;var p=(0,r.createSlice)({name:"isInitialMessageBubbleVisible",initialState:d,reducers:{},extraReducers:e=>{e.addCase(u.toggleInitialMessageBubble,((e,t)=>{const{visible:n}=t.payload;return n}));e.addCase(l.receivedWidgetData,((e,t)=>{const{payload:n}=t,r=(0,i.hasClientTriggers)(n),o=(0,s.getMessage)(n),u=a(o);return!(!c(o)||!r)||(!u||!r)&&e}))}}).reducer},PUb4:function(e,t,n){"use strict";n.d(t,{get:function(){return r}});const r=(0,n("pdKL").curryable)(((e,t)=>t[e]))},PVk8:function(e,t,n){"use strict";n.d(t,{classNameFix:function(){return u},getPassThroughProps:function(){return c},getValue:function(){return a}});var r=n("3RTs"),i=n("npjq"),s=(e,t)=>{const n={};for(const e in t)"string"==typeof t[e]?n[e]=i.default.SafeString(t[e]):n[e]=t[e];return i.default.text(e,n)};const o=["className","class"],a=({useGap:e,message:t,options:n},r=!1)=>{let o=r?s(t,n):i.default.text(t,n);!0===e&&(o=` ${o} `);return o},c=e=>{const t={"data-locale-at-render":e.options&&e.options.locale||i.default.locale,"data-key":e.message};for(const n of Object.keys(e))["message","options","useGap"].indexOf(n)<0&&(t[n]=e[n]);return t},u=e=>{const{className:t,class:n}=e,i=(0,r.default)(e,o);return t&&!n?Object.assign({class:t},i):e}},PY2H:function(e,t,n){"use strict";n.d(t,{default:function(){return R}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("9f1P"),a=n.n(o),c=n("CR0J"),u=n("Z/Dw");const l="on-bright",d="default",p="error";var f=n("Zulv"),h=n("okxY"),g=n("xr6y");const m=["elementType","onPress","onPressStart","onPressEnd","onClick","isDisabled"];function E(e,t){let n,{elementType:i="a",onPress:s,onPressStart:o,onPressEnd:a,onClick:c,isDisabled:u}=e,l=(0,r.default)(e,m);"a"!==i&&(n={role:"link",tabIndex:u?void 0:0});let{focusableProps:d}=(0,h.useFocusable)(e,t),{pressProps:p,isPressed:E}=(0,g.usePress)({onPress:s,onPressStart:o,onPressEnd:a,isDisabled:u,ref:t}),T=(0,f.filterDOMProps)(l,{labelable:!0}),y=(0,f.mergeProps)(d,p);return{isPressed:E,linkProps:(0,f.mergeProps)(T,Object.assign({},y,n,{"aria-disabled":u||void 0,onClick:e=>{p.onClick(e);if(c){c(e);console.warn("onClick is deprecated, please use onPress")}}}))}}var T=n("QOxE"),y=n("wjRl"),A=n("rdz/");const b=({use:e,theme:{colors:t}})=>e===l?t.text:e===p?t.errorText:t.linkText||t.primary,v={baseStyle:(0,o.css)(["cursor:pointer;text-decoration:none;transition:all 0.15s ease-out;font-weight:400;color:",";"," ",""],b,(({use:e})=>e===l&&"text-decoration: underline;"),(({use:e})=>e===p&&"font-weight: bold;")),_hovered:(0,o.css)(["color:",";text-decoration:underline;"],(({use:e,theme:t})=>(0,A.adjustLuminance)(b({use:e,theme:t}),-30))),_focused:y.focusRing,_pressed:(0,o.css)(["color:",";"],(({use:e,theme:t})=>(0,A.adjustLuminance)(b({use:e,theme:t}),30)))};var I=n("W/H/"),S=n("W5Gz");const C=["use","tabIndex","as","onPress"],_=a().a.withConfig({displayName:"VizExLink__StyledATag"})(["",""],(({theme:e})=>(0,I.default)({component:"Link",defaultStyles:v,theme:e}))),O=e=>{let{use:t=d,tabIndex:n=0,as:i,onPress:s}=e,o=(0,r.default)(e,C);const a=(0,T.useRef)(null),{linkProps:c}=E({elementType:i,onPress:s},a);return(0,S.jsx)(_,Object.assign({as:i,ref:a,use:t,tabIndex:n},(0,f.mergeProps)(c,o)))};O.displayName="VizExLink";O.propTypes=Object.assign({as:s().oneOf(["a","span"]),children:s().node,external:s().bool,href:s().string,onClick:s().func,onPress:s().func,theme:c.default,use:s().oneOf([l,d,p])},u.interactionPropTypes);var R=O},PY3R:function(e,t,n){"use strict";n.d(t,{postConversationStartedEvent:function(){return o}});var r=n("Ozt8"),i=n("mlLV"),s=n("wGlN");const o=({thread:e})=>{(0,r.postExternalApiEvent)({eventType:i.CONVERSATION_STARTED,payload:{conversation:(0,s.serializeThreadForExternalEvent)(e)}})}},PYok:function(e,t,n){"use strict";n.d(t,{publishVisitorMessage:function(){return M}});var r=n("PpSk"),i=n("31tl"),s=n("LdnN"),o=n("5rZi"),a=n("6PLn"),c=n("4SpI"),u=n("1EAY"),l=n("IqZ3"),d=n("k09d"),p=n("1DSk"),f=n("UxS0"),h=n("goDm"),g=n("sJho"),m=n("P5SP"),E=n("VVGt"),T=n("AEyM"),y=n("SbeA"),A=n("Wt04"),b=n("gD8A"),v=n("FBcP"),I=n("eg5p"),S=n("jvpr"),C=n("yDuE"),_=n("JGJA"),O=n("Zui/"),R=n("pdIa"),x=n("Ozt8"),w=n("mlLV");const N=()=>(e,t)=>{const n=(0,d.getSelectedThread)(t()),i=(0,g.getMessagesPageUri)(t()),s=(0,r.getThreadId)(n);return(0,m.shouldRecordUrlContextUpdate)(t(),{threadId:s})&&s!==I.STUBBED_THREAD_ID?(0,b.updateVisitorContext)({currentUrl:i,sessionId:(0,v.getSessionId)(t()),threadId:s}).then((()=>{e((0,E.updateThreadCurrentUrl)({threadId:s,currentUrl:i}))})).catch((()=>Promise.resolve())):Promise.resolve()},D=e=>{var t;"playing"===(null===(t=e().speechPoc)||void 0===t?void 0:t.audioPlaybackStatus)&&(0,x.postExternalApiEvent)({eventType:w.PLAY_BUTTON_PAUSE,payload:{}})},L=({text:e,richText:t,quickReply:n,fileAttachment:g})=>(m,E)=>{D(E);const b=(0,d.getSelectedThread)(E()),v=(0,u.isPersistedThread)(b),I=(0,r.getChannelName)(b),_=(0,r.getThreadId)(b),O=(0,A.getMessagesUtk)(),R=v?(0,C.getChannelInstanceIdFromCurrentThreadHistory)(E(),_):(0,S.getChannelInstanceId)(E()),x=(0,f.buildVisitorCommonMessage)({channelInstanceId:R,clientType:i.WEB,fileAttachment:g,quickReply:n,richText:t,senderId:O,text:e});m((0,l.clearAttachments)(_));m((0,p.trackSendMessage)({threadId:_}));if(!v){m((0,h.stageMessageOnStubbedThread)(x));return m((0,o.createNewThread)())}(0,y.getMostRecentMessageIsEmailPrompt)(E())&&s.default.test(e)&&m((0,T.sendVisitorEmailAddress)({email:e,consentToCommunicate:!1,threadId:_}));return m((0,c.publishMessage)({channel:I,message:x,threadId:_})).then((()=>m((0,a.applyGdprConsent)())))};function M({text:e,richText:t,quickReply:n,fileAttachment:r}){return i=>i(N()).then((()=>{i(L({text:e,richText:t,quickReply:n,fileAttachment:r}));n&&(0,_.default)("@type",n)===O.QUICK_REPLIES&&(0,R.postQuickReplyButtonClickEvent)(n)}))}},PaBm:function(e,t,n){"use strict";n.d(t,{isClientReady:function(){return s}});var r=n("KXN9"),i=n("tXbc");const s=e=>(0,r.getStatus)(e)===i.CONNECTED},Pda3:function(e,t,n){"use strict";n.d(t,{isFailed:function(){return E},isStarted:function(){return g},isSucceeded:function(){return m},isUninitialized:function(){return h}});var r=n("qjq5"),i=n("QYOI"),s=n("3Yas");s.every.implement(Array,((e,t)=>t.every(e)));s.every.implementInherited(i.Iterable,((e,t)=>t.every(e)));s.every.implement(Object,((e,t)=>{const n=Object.keys(t),r=n.length;for(let i=0;i<r;i++){const r=n[i];if(!e(t[r],r,t))return!1}return!0}));var o=s.every,a=(0,r.default)(o),c=n("xOzo"),u=n("VToG"),l=n("KXN9");const d=(0,r.default)(((e,t)=>(0,l.getStatus)(t)===e)),p=e=>(...t)=>a(d(e),t),f=e=>(...t)=>(0,c.default)(d(e),t),h=d(u.UNINITIALIZED),g=(d(u.OUT_OF_SYNC),d(u.STARTED)),m=d(u.SUCCEEDED),E=d(u.FAILED);p(u.UNINITIALIZED),p(u.OUT_OF_SYNC),p(u.STARTED),p(u.SUCCEEDED),p(u.FAILED),f(u.UNINITIALIZED),f(u.OUT_OF_SYNC),f(u.STARTED),f(u.SUCCEEDED),f(u.FAILED)},Pk3f:function(e,t,n){"use strict";n.d(t,{getKnowledgeBaseEnabled:function(){return a}});var r=n("dLEV"),i=n("JGJA");const s=e=>(0,i.default)("knowledgeBaseEnabled",e);var o=n("8dR1");const a=(0,r.createSelector)([o.getWelcomeMessage],(e=>s(e)))},Pkdb:function(e,t,n){"use strict";n.d(t,{getStubbedThread:function(){return d}});var r=n("dLEV"),i=n("sJho"),s=n("nzmY"),o=n("1Vek"),a=n("6pgb"),c=n("rf4d"),u=n("eg5p"),l=n("WebA");const d=(0,r.createSelector)([i.getMessagesPageUri,o.getInitialMessageText],((e,t)=>{const n=(0,l.buildCommonMessage)({text:t}),r=(0,s.buildThread)({originalGenericChannelId:c.LIVE_CHAT_GENERIC_CHANNEL_ID,threadId:u.STUBBED_THREAD_ID,currentUrl:e});return(0,a.setLatestMessage)(n,r)}))},Pozp:function(e,t,n){"use strict";n.d(t,{getIsInForeground:function(){return r}});const r=e=>e.clientData.isInForeground},PpSk:function(e,t,n){"use strict";n.d(t,{getAssignedAgentId:function(){return u},getChannelName:function(){return m},getHasChannelSwitchedToEmail:function(){return E},getLatestMessageTimestamp:function(){return h},getLatestReadTimestamp:function(){return a},getPreviewMessageId:function(){return g},getResponder:function(){return p},getStatus:function(){return l},getThreadId:function(){return c},getUnseenCount:function(){return f}});var r=n("MJM1"),i=n("aYGO"),s=n("DdHT"),o=n("X3o/");const a=(0,r.default)(i.LATEST_READ_TIMESTAMP),c=(0,r.default)(i.THREAD_ID),u=(0,r.default)(i.ASSIGNEE),l=(0,r.default)(i.STATUS),d=(0,r.default)(i.CHANNEL_DETAILS),p=(0,r.default)(i.RESPONDER),f=(0,r.default)(i.UNSEEN_COUNT),h=(0,r.default)(i.LATEST_MESSAGE_TIMESTAMP),g=(0,r.default)(i.PREVIEW_MESSAGE_ID),m=(0,s.default)(d,o.getChannelName),E=(0,r.default)(i.HAS_CHANNEL_SWITCHED_TO_EMAIL)},PraE:function(e,t,n){"use strict";n.d(t,{fetchSupplementalInitialMessages:function(){return i}});var r=n("eLSo");function i({botId:e,sessionId:t,hubspotUtk:n}){return r.default.getWithResponse(`livechat-public/v1/bots/public/bot/${e}/welcomeMessages`,{query:{sessionId:t,hubspotUtk:n}})}},"PyK+":function(e){"use strict";e.exports=function(){if(void 0===window.hubspot)throw new Error("Could not find hubspot global variable.");return window.hubspot}()},Pz4q:function(e,t,n){"use strict";var r=n("QYOI"),i=n("0GyJ"),s=n("8+iK"),o=n("9Mwj"),a=n("ubOH"),c=n("rA/t");class u extends((0,r.Record)({"@type":i.COMMON_MESSAGE,attachments:(0,r.List)(),clientType:null,contentType:s.SIMPLE,directReplyToMessageId:null,id:null,inReplyToId:null,messageDeletedStatus:o.NOT_DELETED,richText:"",sender:(0,r.Map)(),status:(0,a.default)(),text:"",timestamp:null,channelInstanceId:null,genericChannelId:null,integrationId:null,recipients:(0,r.List)(),senders:(0,r.List)(),direction:"",hiddenBy:null},"CommonMessage")){constructor(e){super(e&&(0,c.buildSendersFromLegacySender)(e))}}t.default=u},"Q+zP":function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{i18n:{duration:{seconds:"{{ seconds }} sec",minutes:"{{ minutes }} min",hours:"{{ hours }} hr",hoursAndMinutes:"{{ hours }} hr {{ minutes }} min",days:{one:"{{ count }} day",other:"{{ count }} days"},shortForm:{seconds:"{{ seconds }}s",minutes:"{{ minutes }}m",hours:"{{ hours }}h",days:"{{ days }}d",hoursAndMinutes:"{{ hours }}h {{ minutes }}m"}},dateTime:{quarterAndYear:"Q{{quarterNumber}} {{yearNumber}}"},numberRepresentation:{fraction:"{{ numerator }}/{{ denominator }}",numberWithCurrencyCode:"{{currencyCode}} {{amountNumberValue}}",phoneNumberWithExtension:"{{phoneNumber}}, ext. {{extension}}"}}}})}},Q2fA:function(e,t,n){"use strict";n.d(t,{typingResponder:function(){return p}});var r=n("dLEV"),i=n("qjq5"),s=n("AaWM"),o=(0,i.default)(s.default),a=n("JGJA"),c=n("Avso"),u=n("7+Fw"),l=n("ncoD"),d=n("SfUm");const p=(0,r.createSelector)([d.typingTimeoutsForThreadInProps,l.getAllAgentResponders,u.getWidgetBotResponder],((e,t,n)=>{const r=(0,c.getUserId)(n);return(0,a.default)(r,e)?n:t&&t.find((t=>{const n=(0,c.getUserId)(t);return o(n,e)}))}))},Q79t:function(e,t,n){"use strict";n.d(t,{getWidgetLocation:function(){return o}});var r=n("dLEV"),i=n("MJM1"),s=n("49A5");const o=(0,r.createSelector)([s.getLatestWidgetData],(e=>(0,i.default)(["widgetLocation"],e)))},Q7Xa:function(e,t,n){"use strict";var r=n("QYOI"),i=n("ubOH"),s=n("K7Yy");const o=(0,r.Record)({"@type":s.FEEDBACK_SURVEY,attachments:(0,r.List)(),feedbackTransactionId:null,id:null,messageDeletedStatus:null,recipients:(0,r.List)(),richText:null,sender:(0,r.Map)(),senders:(0,r.List)(),status:(0,i.default)(),surveyId:null,text:null,timestamp:null},"FeedbackSurveyMessage");t.default=o},"QB+X":function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-visitor-experience-components":{stagedAttachment:{uploadProgress:"{{uploadedBytes}} of {{totalBytes}}"},fileSizeLimit:"The file can't be larger than {{size}}",screenCapture:"Screen capture"}}})}},QGYt:function(e,t,n){"use strict";n.d(t,{default:function(){return I}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("QOxE"),a=n("9f1P"),c=n.n(a),u=n("7719"),l=n("CR0J"),d=n("Z/Dw"),p=n("0wen"),f=n("W/H/"),h=n("wjRl"),g=n("rdz/"),m=n("aXPX");const E={baseStyle:(0,a.css)(["font-family:inherit;padding:",";font-size:",";flex-shrink:0;border-radius:3px;line-height:16px;outline:none;transition:background-color 150ms ease-out;border-style:solid;border-width:1px;cursor:pointer;text-align:center;word-break:normal;overflow-wrap:break-word;background-color:transparent;",""],(({size:e})=>m.BUTTON_PADDINGS[e]),(({size:e})=>m.BUTTON_FONT_SIZES[e]),(({theme:{colors:e},use:t})=>"primary"===t?`\n          background-color: ${e.primary};\n          border: none;\n          color: ${e.textOnPrimary};\n        `:`\n          background-color: transparent;\n          border-color: ${e.primary};\n          color: ${e.primary};\n        `)),_disabled:(0,a.css)(["background-color:",";border:1px solid ",";color:",";cursor:not-allowed;user-select:none;"],(({theme:{colors:e}})=>e.disabledButtonBackground),(({theme:{colors:e}})=>e.disabledButtonBorder),(({theme:{colors:e}})=>e.disabledButtonText)),_focused:h.focusRing,_hovered:(0,a.css)(["",""],(({theme:{colors:e},use:t})=>`background-color: ${(0,g.adjustLuminance)(e.primary,"primary"===t?20:95)};`)),_pressed:(0,a.css)(["",""],(({theme:{colors:e},use:t})=>`background-color: ${(0,g.adjustLuminance)(e.primary,"primary"===t?-10:90)};`))};var T=n("W5Gz");const y=["use","size","children"],A=c().button.withConfig({displayName:"VizExButton__AbstractVizExButton"})(["",""],(({theme:e})=>(0,f.default)({component:"Button",defaultStyles:E,theme:e}))),b=c().div.withConfig({displayName:"VizExButton__NoSelect"})(["user-select:none;"]),v=(0,o.forwardRef)(((e,t)=>{let{use:n=p.SECONDARY,size:i=u.MEDIUM,children:s}=e,o=(0,r.default)(e,y);return(0,T.jsx)(A,Object.assign({},Object.assign({use:n,size:i},o),{ref:t,children:(0,T.jsx)(b,{children:s})}))}));v.displayName="VizExButton";v.propTypes=Object.assign({children:s().node,onClick:s().func,size:s().oneOf([u.EXTRA_SMALL,u.SMALL,u.MEDIUM]),theme:l.default,use:s().oneOf(Object.values(p))},d.interactionPropTypes);var I=v},QJvi:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});function r(e){if(e>=0&&e<=9)return e;throw new Error(`expected \`arity\` from 0 to 9 but got \`${e}\``)}},QNzx:function(e,t,n){"use strict";n("QOxE");var r=n("W5Gz");const i=e=>(0,r.jsx)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,r.jsx)("path",{d:"M12.377 1.772c.68-.183 1.389.005 1.892.508.503.503.69 1.206.508 1.892l-2.468 9.211c-.183.686-.697 1.2-1.383 1.383-.171.046-.343.068-.514.068h-.006c-.509 0-1-.2-1.372-.571l-2.56-2.56c-.668-.668-.668-1.754 0-2.423l3.229-3.228c.223-.223.583-.223.806 0 .222.223.222.582 0 .805L7.28 10.086c-.108.108-.165.251-.165.406 0 .154.057.297.165.405l2.56 2.56c.206.206.503.286.783.212.286-.074.497-.292.577-.578L13.67 3.88c.074-.286 0-.577-.212-.782-.211-.206-.503-.286-.783-.212L3.463 5.354c-.286.075-.497.292-.577.572-.074.285 0 .577.211.783l1.835 1.834c.223.223.222.583 0 .806-.223.223-.583.223-.806 0L2.292 7.514c-.503-.502-.692-1.205-.509-1.89.183-.68.697-1.2 1.383-1.383l9.211-2.47z"})}));i.displayName="SVGSendOutline";t.default=i},QOxE:function(e,t,n){e.exports=n.dlbpr(2,"pmgf")},QYOI:function(e,t,n){e.exports=n.dlbpr(1,64)},QYon:function(e,t,n){"use strict";n.d(t,{getPotentialResponders:function(){return u}});var r=n("dLEV"),i=n("QYOI");const s=3,o=(e,t)=>{const n=t&&t.size>0,r=e&&e.size>0;return r||n?r?e.take(s):t.take(s):(0,i.List)()};var a=n("hTKa"),c=n("AFl3");const u=(0,r.createSelector)([a.getSendFromResponders,c.getAgentRespondersList],o)},QeSX:function(e,t,n){"use strict";n.d(t,{getAssignedResponderInWidget:function(){return d}});var r=n("dLEV"),i=n("QYOI"),s=n("Avso"),o=n("PpSk");const a=({thread:e,responders:t=(0,i.List)(),botResponder:n})=>{if(!e&&!n)return null;const r=(0,o.getResponder)(e);return(t||(0,i.List)()).find((t=>`${(0,s.getUserId)(t)}`==`${(0,o.getAssignedAgentId)(e)}`))||n||r||null};var c=n("k09d"),u=n("AFl3"),l=n("7+Fw");const d=(0,r.createSelector)([u.getAgentRespondersList,c.getSelectedThread,l.getWidgetBotResponder],((e,t,n)=>a({thread:t,responders:e,botResponder:n})))},Qf6G:function(e,t,n){"use strict";n.d(t,{consentToProcess:function(){return m},saveConsentToProcess:function(){return g}});var r=n("dLEV"),i=n("FBcP"),s=n("nhvA"),o=n("uk/S"),a=n("bT+G"),c=n("aLl6"),u=n("1ZlA"),l=n("9XKB"),d=n("y5/z"),p=n("IA0z"),f=n("49A5"),h=n("Wt04");const g=(0,r.createAsyncThunk)("gdpr/saveConsentToProcess",(({sessionId:e,hubspotUtk:t,welcomeMessageId:n,widgetData:r},{dispatch:i,getState:s})=>(0,o.sendConsentToProcess)({sessionId:e,hubspotUtk:t,welcomeMessageId:n,widgetData:r}).then((e=>{const{sessionId:t}=e,n=(0,c.gdprCookieConsentOnExitIntentEnabled)(s(),r);try{localStorage.setItem("userHasGivenConsentToProcess",!0)}catch(e){console.warn("local storage not set!")}n||(0,a.handleStoreMessagesCookie)((0,h.getMessagesUtk)());i((0,u.updateSessionId)(t));i((0,d.trackInteraction)(p.EVENT_NAMES.WIDGET_INTERACTION,{action:"clicked consent to process button"}))})).catch((e=>{throw e}))));function m(){return(e,t)=>{const n=(0,i.getSessionId)(t()),r=(0,s.getMessageId)(t()),o=(0,l.getHubspotUtk)(),a=(0,f.getLatestWidgetData)(t());e(g({sessionId:n,hubspotUtk:o,welcomeMessageId:r,widgetData:a}))}}},QmIQ:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var r=n("+/QE"),i=n.n(r),s=n("QOxE"),o=n("bhLI"),a=n("eCQl"),c=n("YibP"),u=n("W5Gz");class l extends s.Component{constructor(...e){super(...e);this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){const n=["Component caught",this.props.errorLoggingTitle,e.message].join(": "),r=(0,c.buildError)(n,{name:"ComponentError",componentStack:t.componentStack});(0,a.reportError)({error:r,fingerprint:["{{ default }}","ComponentError"],tags:{componentDidCatch:!0}})}reset(){this.setState({hasError:!1})}render(){const{children:e,renderError:t}=this.props,{hasError:n}=this.state;return n&&!t?(0,u.jsx)(o.NavMarker,{name:"GENERIC_ERROR"}):n&&t?t({reset:this.reset}):e}}l.displayName="ErrorBoundary";l.propTypes={children:i().node.isRequired,errorLoggingTitle:i().string.isRequired,renderError:i().func}},QrEa:function(e,t,n){"use strict";n.d(t,{withBrowserSizeContext:function(){return s}});var r=n("NLFw"),i=n("W5Gz");function s(e){return t=>(0,i.jsx)(r.BrowserWindowContext.Consumer,{children:({browserWindowHeight:n,browserWindowWidth:r})=>(0,i.jsx)(e,Object.assign({},t,{browserWindowHeight:n,browserWindowWidth:r}))})}},Qvwz:function(e,t,n){"use strict";n.d(t,{CLEAR_SELECTED_THREAD:function(){return i},SELECT_THREAD:function(){return r}});const r="SELECT_THREAD",i="CLEAR_SELECTED_THREAD"},Qwrb:function(e,t,n){"use strict";n.d(t,{navigateToKnowledgeBaseArticle:function(){return d}});var r=n("YHaB"),i=n("ombE"),s=n("0fuM"),o=n("enlr"),a=n("N+TY"),c=n("y5/z"),u=n("IA0z"),l=n("dK5d");function d(e,t,n){return(d,p)=>{const f=(0,o.getShouldViewKBArticleExpanded)(p()),h=(0,i.getCurrentView)(p()),g=Object.assign({view:h},n);d((0,a.setKBArticle)(e));d((0,a.setOriginViewContext)(g));f&&d((0,l.setWidgetSize)({width:640,height:t}));d((0,r.updateView)(s.KNOWLEDGE_BASE_ARTICLE));d((0,c.trackInteraction)(u.EVENT_NAMES.WIDGET_INTERACTION,{action:"view KB article in widget"}))}}},R3C8:function(e,t,n){"use strict";n.d(t,{isVisitorTypingMessage:function(){return s}});var r=n("/OK6"),i=n("Cblj");const s=e=>Boolean((0,i.isTypingMessage)(e)&&(0,r.isFromVisitor)(e))},R4L7:function(e,t,n){"use strict";n.d(t,{toggleInitialMessageBubble:function(){return s}});var r=n("dLEV"),i=n("o3Zl");const s=(0,r.createAction)(i.TOGGLE_INITIAL_MESSAGE_BUBBLE,((e,t=!1)=>({payload:{visible:e,closedByUser:t}})))},R6gb:function(e,t,n){"use strict";n.d(t,{historyMessageInvariant:function(){return v}});var r=n("Gc2C"),i=n("Pz4q"),s=n("NIjC"),o=n("rIrL"),a=n("A5f/"),c=n("+TdC"),u=n("Iqwl"),l=n("/fsP"),d=n("JxGV"),p=n("7jiL"),f=n("yuy6"),h=n("MfaD"),g=n("TePN"),m=n("Q7Xa"),E=n("jbWx"),T=n("mZIr"),y=n("y7By"),A=n("au5J");const b=[g.default,i.default,s.default,a.default,o.default,c.default,u.default,l.default,d.default,p.default,f.default,h.default,m.default,E.default,T.default,y.default],v=e=>(0,r.default)(b.some((t=>e instanceof t)),`Expected message to be one of ${b.map((e=>(0,A.getRecordName)(e))).join(", ")}, not a %s`,typeof e)},RXbi:function(e,t,n){"use strict";n.d(t,{hexToRgba:function(){return i}});var r=n("rkZZ");const i=(e,t=1)=>{const{r:n,g:i,b:s}=(0,r.hexToRGB)(e);return`rgba(${n}, ${i}, ${s}, ${t})`}},RaQM:function(e,t,n){"use strict";n.d(t,{getIsWidgetInAwayMode:function(){return u}});var r=n("dLEV"),i=n("xwWp"),s=n("zZzs"),o=n("yxYB"),a=n("tyiq");const c=(0,r.createSelector)([o.getWidgetAvailabilityOptions],(e=>!(0,s.getOfficeHoursStartTime)(e)&&!(0,a.getAwayMessage)(e))),u=(0,r.createSelector)([i.widgetIsInAwayMode,c],((e,t)=>Boolean(e||!t)))},Rd7q:function(e,t,n){"use strict";var r=n("8ASW");t.default=()=>"en-us"===r.I18nInternal.locale||r.I18nInternal.langEnabled||r.I18nInternal.publicPage?r.I18nInternal.locale:"en-us"},"Rq/r":function(e,t,n){"use strict";n.d(t,{setConsentToProcessError:function(){return f},setConsentToProcessStatus:function(){return p}});var r=n("dLEV"),i=n("xZ3y"),s=n("v+ge"),o=n("2Sm/"),a=n("x56f"),c=n("kHIv"),u=n("Qf6G");const l={consentToProcessStatus:a.SHOULD_NOT_ASK_FOR_CONSENT,consentToProcessError:!1},d=(0,r.createSlice)({name:"gdpr",initialState:l,reducers:{setConsentToProcessStatus(e,t){e.consentToProcessStatus=t.payload},setConsentToProcessError(e,t){e.consentToProcessError=t.payload}},extraReducers:e=>{e.addCase(u.saveConsentToProcess.fulfilled,(e=>{e.consentToProcessStatus=a.SHOULD_NOT_ASK_FOR_CONSENT;e.consentToProcessError=!1})).addCase(u.saveConsentToProcess.rejected,(e=>{e.consentToProcessError=!0})).addCase(i.GET_WIDGET_DATA_SUCCEEDED,((e,t)=>{e.consentToProcessStatus=(0,c.getGDPRConsentToProcessStatus)(t.payload)})).addCase(s.REFRESH_WIDGET_DATA,((e,t)=>{e.consentToProcessStatus=(0,c.getGDPRConsentToProcessStatus)(t.payload)})).addCase(o.CREATE_NEW_THREAD.SUCCEEDED,(e=>{e.consentToProcessStatus=a.SHOULD_NOT_ASK_FOR_CONSENT}))}}),{setConsentToProcessStatus:p,setConsentToProcessError:f}=d.actions;t.default=d.reducer},Rrky:function(e,t,n){"use strict";n.d(t,{resolveAttachments:function(){return u}});var r=n("8R/H"),i=n("eLSo");const s="livechat-public/v1/attachment/resolve/thread",o=({sessionId:e,threadId:t,fileIds:n}={})=>i.default.get(`${s}/${t}`,{query:{fileId:n.toArray(),sessionId:e}});var a=n("/u6M"),c=n("gIaP");const u=(0,r.createDeprecatedAsyncAction)({requestFn:o,actionTypes:a.RESOLVE_ATTACHMENTS,toRecordFn:c.buildResolvedAttachmentsMapFromResponse})},S5kL:function(e,t,n){"use strict";n.d(t,{getOptionLabel:function(){return i},getOptionValue:function(){return s}});function r(e){return"string"==typeof e}function i(e){return r(e)?e:e.has("label")?e.get("label"):e.get("value")}function s(e){return r(e)?e:e.get("value")}},SGAL:function(e,t,n){"use strict";n.d(t,{ADD_AVAILABILITY_MESSAGE_TIMEOUT:function(){return r}});const r="ADD_AVAILABILITY_MESSAGE_TIMEOUT"},SGjM:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n("qjq5"),i=n("QYOI"),s=n("3Yas");s.map.implement(Array,((e,t)=>t.map(e)));s.map.implementInherited(i.Iterable,((e,t)=>t.map(e)));s.map.implement(Object,((e,t)=>{const n={},r=Object.keys(t),i=r.length;for(let s=0;s<i;s++){const i=r[s];n[i]=e(t[i],i,t)}return n}));var o=s.map,a=(0,r.default)(o)},SJlx:function(e,t,n){"use strict";n.d(t,{handleResolve:function(){return s}});var r=n("YibP"),i=n("eCQl");const s=e=>t=>{try{e(t)}catch(e){const t=e instanceof Error?e.message:String(e),n=(0,r.buildError)(t,{name:"ResolveError"});(0,i.reportError)({error:n,fingerprint:["{{ default }}","ResolveError"]});throw e}}},SNA8:function(e,t,n){"use strict";n.d(t,{getWidgetDataAsyncData:function(){return i}});var r=n("JGJA");const i=e=>(0,r.default)("widgetData",e)},SbeA:function(e,t,n){"use strict";n.d(t,{getMostRecentMessageIsEmailPrompt:function(){return a}});var r=n("dLEV"),i=n("4nf7"),s=n("0IK8"),o=n("KO+H");const a=(0,r.createSelector)([i.getFilteredMessages],(e=>(0,s.getType)(e.last())===o.EMAIL_CAPTURE_PROMPT))},Sbt9:function(e,t,n){"use strict";n.d(t,{applyIdTransform:function(){return o}});var r=n("qjq5"),i=n("JoAZ"),s=n("x1JE");const o=(0,r.default)(((e,t)=>{(0,i.indexedDataInvariant)(t);return(0,s.getIdTransform)(t)(e)}))},SfUm:function(e,t,n){"use strict";n.d(t,{typingTimeoutsForThreadInProps:function(){return u}});var r=n("QYOI"),i=n("dLEV"),s=n("JGJA"),o=n("PpSk"),a=n("ye6p"),c=n("2soH");const u=(0,i.createSelector)([a.threadFromProps,c.typingStates],((e,t)=>{const n=(0,o.getThreadId)(e);return(0,s.default)(`${n}`,t)||(0,r.Map)()}))},SfpB:function(e,t,n){"use strict";n.d(t,{HELP_DESK_TICKET_SPLIT_UPDATE_MESSAGE:function(){return r}});const r="HELP_DESK_TICKET_SPLIT_UPDATE_MESSAGE"},"Sj+C":function(e,t,n){"use strict";n.d(t,{initializePubSub:function(){return E}});var r=n("eCQl"),i=n("5vQK"),s=n("fogE"),o=n("cjt2");const a=(e,t=i.DEFAULT_CLIENT_KEY)=>({type:o.INITIALIZE_PUBSUB.SUCCEEDED,payload:{client:e,clientKey:t}}),c=(e=i.DEFAULT_CLIENT_KEY)=>({type:o.INITIALIZE_PUBSUB.STARTED,payload:{clientKey:e}}),u=(e,t=i.DEFAULT_CLIENT_KEY)=>({type:o.INITIALIZE_PUBSUB.FAILED,payload:{clientKey:t,error:e},meta:(0,s.silenceErrorAlert)()}),l=(e=i.DEFAULT_CLIENT_KEY)=>({type:o.PUBSUB_READY,payload:{clientKey:e}}),d=(e=i.DEFAULT_CLIENT_KEY)=>({type:o.PUBSUB_RECONNECTED,payload:{clientKey:e}}),p=(e=i.DEFAULT_CLIENT_KEY)=>({type:o.PUBSUB_RECONNECTING,payload:{clientKey:e}}),f=(e=i.DEFAULT_CLIENT_KEY)=>({type:o.PUBSUB_DISCONNECTED,payload:{clientKey:e}}),h=(e=i.DEFAULT_CLIENT_KEY)=>({type:o.PUBSUB_SUSPENDED,payload:{clientKey:e}}),g=()=>{},m={onConnect:g,onConnecting:g,onDisconnect:g,onFailure:g,onSuspended:g},E=({clientOptions:e,lifecycleHooks:t=m,resolveBuilder:n,clientKey:s=i.DEFAULT_CLIENT_KEY})=>i=>{i(c(s));t=Object.assign({},m,t);return n().then((({buildConversationsPubSub:n})=>{const r=n({clientOptions:e,lifecycleHooks:Object.assign({},t,{onConnect(e){e.reconnected?i(d(s)):i(l(s));t.onConnect(e)},onConnecting({reconnecting:e}){e&&i(p(s));t.onConnecting({reconnecting:e})},onDisconnect(){i(f(s));t.onDisconnect()},onSuspended(){i(h(s));t.onSuspended()}})});i(a(r,s));r.connect()}),(e=>{i(u(e,s));(0,r.reportError)({error:e})}))}},SkRU:function(e,t,n){"use strict";var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("QOxE"),a=n("9f1P"),c=n.n(a),u=n("CR0J"),l=n("Mcxo"),d=n("W5Gz");const p=["aria-label","error","validationMessage","required","theme","children"],f={error:!1,required:!1},h=c().div.withConfig({displayName:"VizExFormControl__FormControlWrapper"})(["width:100%;flex-basis:100%;"]);class g extends o.Component{constructor(...e){super(...e);this.getChildProps=({ariaLabel:e,newError:t,newRequired:n,validationMessage:r,fallbackId:i,ref:s})=>{const o={"aria-label":e,required:n,"aria-invalid":t,"aria-required":n,ref:s};i&&(o.id=i);t&&(o.error=r);return o}}render(){const e=this.props,{"aria-label":t,error:n,validationMessage:i,required:s,theme:o,children:a}=e,c=(0,r.default)(e,p),u=a(Object.assign({},this.getChildProps({ariaLabel:t,newError:n,newRequired:s,validationMessage:i})));return(0,d.jsxs)(h,Object.assign({},c,{children:[u,i?(0,d.jsx)(l.default,{use:n?"error":"default",theme:o,children:i}):null]}))}}g.displayName="VizExFormControl";g.propTypes={"aria-label":s().string,children:s().func.isRequired,error:s().bool,required:s().bool,theme:u.default,validationMessage:s().node};g.defaultProps=f;t.default=g},SlUU:function(e,t,n){"use strict";n.d(t,{fileAttachmentIdsInMessage:function(){return u}});var r=n("QYOI"),i=n("JGJA"),s=n("Zui/"),o=n("iapW"),a=n("9F2+"),c=n("ZI4L");const u=e=>{const t=(0,a.getAttachments)(e)||(0,r.List)();let n=(0,r.List)();const u=t.find((e=>(0,i.default)("@type",e)===s.FILES));u&&(n=n.merge((0,o.getFileIds)(u)));const l=t.find((e=>(0,i.default)("@type",e)===s.MESSAGE_HEADER));l&&(0,i.default)(c.FILE_ID,l)&&(n=n.push((0,i.default)(c.FILE_ID,l)));return n}},SmHr:function(e,t,n){"use strict";var r=n("QYOI"),i=n("nguO");const s=(0,r.Record)({"@type":i.ACTIVELY_PUBLISHING,threadId:null,channel:null,message:null},"ActivelyPublishing");t.default=s},SsBI:function(e,t,n){"use strict";n.d(t,{getTimeOnPageTriggerTimeoutId:function(){return r}});const r=(0,n("MJM1").default)(["timeOnPageTrigger","timeoutId"])},Syy6:function(e,t,n){var r=n("9Utk"),i=n("kmmH"),s="Expected a function";function o(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(s);if(i(n)){o="leading"in n?!!n.leading:o;a="trailing"in n?!!n.trailing:a}return r(e,t,{leading:o,maxWait:t,trailing:a})}e.exports=o},T1i4:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-internal-schema":{default:{repText:"Hi there! Let me know if you have any questions about the product or pricing.",visitorText:"Can you go into a bit more detail about your pricing structure?",name:"New chatflow ({{timeStamp}})",qualifiedLead:{initialMessage:"Hi there! I'm happy to help you today."},initialMessage:"Got any questions? I'm happy to help.",askForEmailMessage:"Dont have time to wait for a response? Leave your email and well be in touch as soon as possible.",awayMessage:"I'm away at the moment, but let me know if you have any questions and I'll reply to you soon.",gdpr:{consentToCookies:{messageExternal:'This chat service uses a cookie to interact with you and maintain your chat history. Our service provider, HubSpot, will monitor and record this chat for quality assurance (see their <a target="_blank" href="https://legal.hubspot.com/privacy-policy" rel="nofollow">Privacy Policy</a>).'},consentToProcess:{defaultConsentTextExternal:"By using this chat service, you agree to the monitoring and recording of the chat and the processing of your personal data in accordance with our Privacy Policy."}}}}}})}},T25L:function(e,t,n){"use strict";var r=n("3Yas"),i=n("QYOI");r.count.implement(Array,(e=>e.length));r.count.implementInherited(i.Iterable,(e=>e.count()));r.count.implement(Object,(e=>Object.keys(e).length));r.count.implement(String,(e=>e.length));r.count.implement(Number,(e=>e));t.default=r.count},TBI5:function(e,t,n){"use strict";n.d(t,{default:function(){return f}});var r=n("T25L"),i=n("AaWM"),s=n("GXXt"),o=n("QYOI"),a=n("3Yas");const c=()=>({});a.keyedEquivalent.implement(Array,c);a.keyedEquivalent.implement(Object,c);a.keyedEquivalent.implementInherited(o.Collection,(()=>(0,o.Map)()));a.keyedEquivalent.implementInherited(o.Seq,(()=>o.Seq.Keyed()));var u=a.keyedEquivalent,l=n("gjm2"),d=n("0H74");function p(e,t){return(0,l.default)([],((e,n)=>{if(!e.length){e.push([t,n]);return e}const[r,o]=e[e.length-1],a=(0,s.default)(o,r),c=void 0!==a||(0,i.default)(o,r)?a:u(r);e.push([c,n]);return e}),e)}function f(e,t,n){if(0===(0,r.default)(e))return t;const i=p(e,n);let s=t;for(;i.length>0;){const[e,t]=i.pop();s=(0,d.default)(t,s,e)}return s}},TG7G:function(e,t,n){var r=n("0Aa+"),i=1/0,s=17976931348623157e292;function o(e){if(!e)return 0===e?e:0;if((e=r(e))===i||e===-i){return(e<0?-1:1)*s}return e==e?e:0}e.exports=o},TKd0:function(e,t,n){"use strict";var r=n("QYOI");t.default=(0,r.Record)({name:null,type:null},"ChannelDetails")},TWJS:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n("QYOI"),i=n("JGJA"),s=n("MYjy");const o={actorId:null,deliveryIdentifier:null,senderField:null,name:null,isActive:null,isAuthorized:null},a=(0,r.Record)(o,"Sender");function c(e){if(!e)return a();const t=(0,i.default)("actorId",e)||o.actorId,n=(0,i.default)("deliveryIdentifier",e),r=n?(0,s.default)(n):o.deliveryIdentifier,c=(0,i.default)("senderField",e)||o.senderField,u=(0,i.default)("name",e)||o.name,l=(0,i.default)("isActive",e)||o.isActive,d=(0,i.default)("isAuthorized",e)||o.isAuthorized;return a({actorId:t,deliveryIdentifier:r,senderField:c,name:u,isActive:l,isAuthorized:d})}},TaVT:function(e,t,n){"use strict";n.d(t,{default:function(){return i}});var r=n("GXXt");function i(e,t){let n=t;for(let t=0;t<e.length&&void 0!==n;t++)n=(0,r.default)(e[t],n);return n}},Tbmo:function(e,t,n){"use strict";n.d(t,{setTransparentOnBackgroundIconButton:function(){return i}});var r=n("57op");n("PUb4");r.getPrimaryColor,r.getTextOnPrimaryColor,r.getTextOnPrimaryColor,r.getTextOnPrimaryColor;const i=(0,r.setThemeColorsProperty)("transparentOnBackgroundIconButton");r.getDisabledTextColor,r.getDisabledBackgroundColor},Te0v:function(e,t,n){"use strict";n.d(t,{VisuallyHidden:function(){return d},useVisuallyHidden:function(){return l}});var r=n("3RTs"),i=n("Zulv"),s=n("QOxE"),o=n.n(s),a=n("xr6y");const c=["children","elementType","isFocusable","style"],u={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:1,whiteSpace:"nowrap"};function l(e={}){let{style:t,isFocusable:n}=e,[r,i]=(0,s.useState)(!1),{focusProps:o}=(0,a.useFocus)({isDisabled:!n,onFocusChange:i}),c=(0,s.useMemo)((()=>r?t:t?Object.assign({},u,t):u),[r]);return{visuallyHiddenProps:Object.assign({},o,{style:c})}}function d(e){let{children:t,elementType:n="div"}=e,s=(0,r.default)(e,c),{visuallyHiddenProps:a}=l(e);return o().createElement(n,(0,i.mergeProps)(s,a),t)}},TePN:function(e,t,n){"use strict";var r=n("QYOI"),i=n("9Mwj"),s=n("c1C1"),o=n("BvOu"),a=n("XF21"),c=n("W26t");class u extends((0,r.Record)({"@type":a.ASSIGNMENT_UPDATE,id:null,timestamp:null,sender:(0,r.Map)(),messageDeletedStatus:i.NOT_DELETED,auditParams:(0,c.buildAudit)(),assignedActorId:null,assignedAgent:{agentId:null,agentType:null},unassignedAgent:{agentId:null,agentType:null}},"AssignmentUpdateMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,o.generateUuid)(),auditParams:(0,c.buildAudit)(e.auditParams),timestamp:e.timestamp||(0,s.generateUniqueClientTimestamp)("AssignmentUpdateMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=u},TlnZ:function(e,t,n){"use strict";var r=n("QYOI"),i=n("P0El");const s=(0,r.Record)({[i.MESSAGE_TYPE_ID]:i.CRM_OBJECT_WORKFLOW_EMAIL_SENT,emailMessageId:null,emailSubject:null,id:null,messageDeletedStatus:null,objectId:null,objectType:null,timestamp:null,workflowId:null,recipientVid:null},"CrmObjectWorkflowEmailSent");t.default=s},TmLu:function(e,t){"use strict";function n(){var e,t;t=arguments[0]||{};this.config={};this.config.elements=t.elements?t.elements:[];this.config.attributes=t.attributes?t.attributes:{};this.config.attributes[n.ALL]=this.config.attributes[n.ALL]?this.config.attributes[n.ALL]:[];this.config.allow_comments=!!t.allow_comments&&t.allow_comments;this.allowed_elements={};this.config.protocols=t.protocols?t.protocols:{};this.config.add_attributes=t.add_attributes?t.add_attributes:{};this.dom=t.dom?t.dom:document;for(e=0;e<this.config.elements.length;e++)this.allowed_elements[this.config.elements[e]]=!0;this.config.remove_element_contents={};this.config.remove_all_contents=!1;if(t.remove_contents)if(t.remove_contents instanceof Array)for(e=0;e<t.remove_contents.length;e++)this.config.remove_element_contents[t.remove_contents[e]]=!0;else this.config.remove_all_contents=!0;this.transformers=t.transformers?t.transformers:[]}n.REGEX_PROTOCOL=/^([A-Za-z0-9\+\-\.\&\;\*\s]*?)(?:\:|&*0*58|&*x0*3a)/i;n.RELATIVE="__RELATIVE__";n.ALL="__ALL__";n.prototype.clean_node=function(e){var t,r=this.dom.createDocumentFragment();this.current_element=r;this.whitelist_nodes=[];function i(e,t){var n;for(n=0;n<t.length;n++)if(t[n]==e)return n;return-1}function s(){var e,t,n=[],r={};for(e=0;e<arguments.length;e++)if(arguments[e]&&arguments[e].length)for(t=0;t<arguments[e].length;t++)if(!r[arguments[e][t]]){r[arguments[e][t]]=!0;n.push(arguments[e][t])}return n}function o(e){var t;switch(e.nodeType){case 1:a.call(this,e);break;case 3:case 5:t=e.cloneNode(!1);this.current_element.appendChild(t);break;case 8:if(this.config.allow_comments){t=e.cloneNode(!1);this.current_element.appendChild(t)}break;default:console&&console.log&&console.log("unknown node type",e.nodeType)}}function a(e){var t,r,a,u,l,d,p,f,h,g,m=c.call(this,e);a=(e=m.node).nodeName.toLowerCase();r=this.current_element;if(this.allowed_elements[a]||m.whitelist){this.current_element=this.dom.createElement(e.nodeName);r.appendChild(this.current_element);var E=this.config.attributes;u=s(E[a],E[n.ALL],m.attr_whitelist);for(t=0;t<u.length;t++){d=u[t];if(l=e.attributes[d]){g=!0;if(this.config.protocols[a]&&this.config.protocols[a][d]){f=this.config.protocols[a][d];g=(h=l.value.toLowerCase().match(n.REGEX_PROTOCOL))?-1!=i(h[1],f):-1!=i(n.RELATIVE,f)}if(g){(p=document.createAttribute(d)).value=l.value;this.current_element.setAttributeNode(p)}}}if(this.config.add_attributes[a])for(d in this.config.add_attributes[a]){(p=document.createAttribute(d)).value=this.config.add_attributes[a][d];this.current_element.setAttributeNode(p)}}else if(-1!=i(e,this.whitelist_nodes)){this.current_element=e.cloneNode(!0);for(;this.current_element.childNodes.length>0;)this.current_element.removeChild(this.current_element.firstChild);r.appendChild(this.current_element)}if(!this.config.remove_all_contents&&!this.config.remove_element_contents[a])for(t=0;t<e.childNodes.length;t++)o.call(this,e.childNodes[t]);this.current_element.normalize&&this.current_element.normalize();this.current_element=r}function c(e){var t,n,r,o={attr_whitelist:[],node:e,whitelist:!1};for(t=0;t<this.transformers.length;t++)if(null!=(r=this.transformers[t]({allowed_elements:this.allowed_elements,config:this.config,node:e,node_name:e.nodeName.toLowerCase(),whitelist_nodes:this.whitelist_nodes,dom:this.dom}))){if("object"!=typeof r)throw new Error("transformer output must be an object or null");if(r.whitelist_nodes&&r.whitelist_nodes instanceof Array)for(n=0;n<r.whitelist_nodes.length;n++)-1==i(r.whitelist_nodes[n],this.whitelist_nodes)&&this.whitelist_nodes.push(r.whitelist_nodes[n]);o.whitelist=!!r.whitelist;r.attr_whitelist&&(o.attr_whitelist=s(o.attr_whitelist,r.attr_whitelist));o.node=r.node?r.node:o.node}return o}for(t=0;t<e.childNodes.length;t++)o.call(this,e.childNodes[t]);r.normalize&&r.normalize();return r};t.default=n},TsJf:function(e,t,n){"use strict";n.d(t,{handleInputTextChanged:function(){return o}});var r=n("n6ol"),i=n("CITH"),s=n("yS+k");const o=e=>{if((0,s.getIsPortal53)())return(0,i.postMessageToParent)(r.INPUT_TEXT_CHANGED,{text:e})}},Tt13:function(e,t,n){"use strict";n.d(t,{FEEDBACK_SUBMISSION:function(){return r}});const r="FEEDBACK_SUBMISSION"},Tvz2:function(e,t,n){"use strict";n.d(t,{postWidgetClosedEvent:function(){return s}});var r=n("Ozt8"),i=n("mlLV");const s=()=>{(0,r.postExternalApiEvent)({eventType:i.WIDGET_CLOSED,payload:{message:"widget is closed"}})}},TyWi:function(e,t,n){"use strict";n.d(t,{default:function(){return b},useAppDispatch:function(){return y},useAppSelector:function(){return A}});var r=n("dLEV"),i=n("CJvR"),s=n("QYOI"),o=n.n(s),a=n("2fjV"),c=n("gIOm"),u=n("M9tH"),l=n("D/wX"),d=n("/KG3"),p=n("qQrL"),f=n("TsJf"),h=n("BEfq");const g=e=>{if(h.setMessageEditorTextAction.match(e)){const{stagingText:t}=e.payload;(0,f.handleInputTextChanged)(t)}},m=()=>e=>t=>{const n=e(t);g(t);return n};var E=n("3L7e"),T=n("19qb");const y=T.useDispatch,A=T.useSelector;function b(e,t){const n=[i.default.withExtraArgument(t),l.visitorErrorMiddleware,c.default,u.default,a.default,d.realtime,m];return(0,r.configureStore)({reducer:E.default,preloadedState:e,middleware:n,devTools:{maxAge:200,serialize:{options:{circular:"[CIRCULAR]"},immutable:o()},actionSanitizer:e=>e.type===p.INITIALIZE_PUBSUB.SUCCEEDED?Object.assign({},e,{payload:{client:"<< PUBSUB CLIENT >>"}}):e,stateSanitizer:e=>e.pubSubClient.data?Object.assign({},e,{pubSubClient:e.pubSubClient.set("data","<< PUBSUB CLIENT >>")}):e}})}},U7wy:function(e,t,n){"use strict";n.d(t,{default:function(){return h}});var r=n("Ut5p"),i=n("xZ3y"),s=n("v+ge"),o=n("MZef"),a=n("xe9j"),c=n("xyDt"),u=n("y+PV"),l=n("stzZ");const d=(0,n("bYG+").default)("sessionId");var p=n("DLkX");const f=new o.default({data:new a.default({coloring:(0,p.default)()})});var h=(0,r.handleActions)({[i.GET_WIDGET_DATA]:u.requestStarted,[(0,r.combineActions)(i.GET_WIDGET_DATA_SUCCEEDED,s.REFRESH_WIDGET_DATA)]:(e,t)=>(0,l.requestSucceededWithOperator)((()=>t.payload),e),[s.UPDATE_SESSION_ID]:(e,t)=>{const{sessionId:n}=t.payload;return(0,c.updateAsyncData)(d(n),e)}},f)},UBEt:function(e,t,n){"use strict";n.d(t,{getEnabled:function(){return o},getScrollPercentage:function(){return a}});var r=n("MJM1");const i=["enabled"],s=["scrollPercentage"],o=(0,r.default)(i),a=(0,r.default)(s)},UJtG:function(e,t,n){"use strict";n.d(t,{isTypicalResponseTimeMessage:function(){return s}});var r=n("0IK8"),i=n("6OYF");const s=e=>(0,r.getTopLevelType)(e)===i.TYPICAL_RESPONSE_TIME},Ug6J:function(e,t,n){"use strict";n.d(t,{getTriggerConditions:function(){return h}});var r=n("49A5"),i=n("tLJd"),s=n("wkWz"),o=n("YKTq"),a=n("tAuz"),c=n("kHIv"),u=n("VvTX"),l=n("97n4"),d=n("UBEt");const p=e=>{const t=(0,r.getLatestWidgetData)(e),n=(0,c.getMessage)(t),i=(0,u.getClientTriggers)(n),s=(0,l.getDisplayOnTimeDelay)(i),o=(0,a.getIsMobile)(e),p=(0,d.getEnabled)(s),f=(0,u.getPopMessageOnSmallScreens)(n),h=(0,u.getPopOpenWelcomeMessage)(n),g=(0,u.getPopOpenWidget)(n);return o?p&&!f:!g&&!h&&p};var f=n("kyOS");const h=(e,t)=>{const n=(0,r.getLatestWidgetData)(e),c=!(0,i.shouldOverrideTrigger)((0,s.getWidgetStartOpen)(e));return{hasClientTriggerAlreadyFired:p(e),shouldToggleOpen:t(n)&&(0,o.getPopOpenWidget)(e)&&!(0,a.getIsMobile)(e)&&c,shouldToggleInitialMessageBubble:t(n)&&!(0,f.getShouldHideWelcomeMessage)(e)}}},Ut5p:function(e,t,n){"use strict";n.d(t,{combineActions:function(){return o},createAction:function(){return i},handleActions:function(){return u}});function r(e){return"function"==typeof e}function i(e,t,n){return(...i)=>{const s={type:e};r(t)&&(s.payload=t(...i));r(n)&&(s.meta=n(...i));return s}}const s="||";function o(...e){return e.join(s)}function a(...e){return(t,n)=>e.reduce(((e,t)=>t(e,n)),t)}function c(e,t){const n=e.split(s);return(e,i)=>n.includes(i.type)&&r(t)?t(e,i):e}function u(e,t){const n=a(...Object.getOwnPropertyNames(e).map((t=>c(t,e[t]))));return void 0!==t?(e=t,r)=>n(e,r):n}},UxS0:function(e,t,n){"use strict";n.d(t,{buildVisitorCommonMessage:function(){return g}});var r=n("QYOI"),i=n("Mx3c"),s=n("6d8N"),o=n("cPs9"),a=n("bWKF"),c=n("BvOu"),u=n("v0wH"),l=n("WebA"),d=n("kqCt"),p=n("rf4d"),f=n("OxGf"),h=n("0G/n");const g=({channelInstanceId:e,clientType:t,fileAttachment:n,quickReply:g,richText:m,senderId:E,text:T})=>{const y=(0,a.toCmfSender)(i.VISITOR),A=(0,o.getSenderKeyFromType)(y),b=[],v={type:h.CHANNEL_SPECIFIC_OPAQUE_ID,value:E},I=(0,d.buildCMFSender)({deliveryIdentifier:v}),S=(0,r.List)([I]);n&&b.push(n);g&&b.push(new s.default(g));return(0,l.buildCommonMessage)({status:{messageStatus:u.SENT},clientType:t,attachments:b,text:T,richText:m,id:(0,c.generateUuid)(),sender:{"@type":y,[A]:E},senders:S,channelInstanceId:e,genericChannelId:p.LIVE_CHAT_GENERIC_CHANNEL_ID,direction:f.INCOMING})}},UxsU:function(e,t){"use strict";const n={STARTED:"STARTED",ENDED:"ENDED",SOFT_DELETED:"SOFT_DELETED",INITIALIZING:"INITIALIZING"};t.default=n},"V+nC":function(e,t,n){"use strict";n.d(t,{isInitialMessage:function(){return s}});var r=n("0IK8"),i=n("GcWH");const s=e=>(0,r.getTopLevelType)(e)===i.INITIAL_MESSAGE},"V/xu":function(e,t,n){"use strict";n.d(t,{AVATAR_SIZES:function(){return i}});var r=n("7719");const i={[r.EXTRA_EXTRA_SMALL]:16,[r.EXTRA_SMALL]:24,[r.SMALL]:32,[r.MEDIUM_SMALL]:40,[r.MEDIUM]:48,[r.LARGE]:72,[r.EXTRA_LARGE]:108}},"V1/C":function(e,t,n){"use strict";n.d(t,{OFFICE_HOURS:function(){return r}});const r="OFFICE_HOURS"},V9Gp:function(e,t,n){"use strict";n.d(t,{getAPIEnableWidgetCookieBanner:function(){return c}});var r=n("dLEV"),i=n("vStR"),s=n("IbXZ"),o=n("CXrm"),a=n("Los8");const c=(0,r.createSelector)([i.getWidgetUiState],(e=>(0,s.getAPIEnableWidgetCookieBanner)(e)===o.ON_WIDGET_LOAD||(0,a.parseStringBoolean)((0,s.getAPIEnableWidgetCookieBanner)(e))))},V9Mx:function(e,t,n){"use strict";n.d(t,{default:function(){return g}});var r=n("QYOI"),i=n("Ut5p"),s=n("g4ag"),o=n("qjq5"),a=n("MM1n");function c(e,t){const n=r.Seq.Set(e);return(0,a.default)(((e,t)=>!n.contains(t)),t)}var u=(0,o.default)(c),l=n("xCrP"),d=n("/UYW"),p=n("lEMs");const f=(0,r.Map)(),h={[d.ADD_TYPING_TIMEOUT_ID]:(e,t)=>{const{threadId:n,senderId:r,timeoutId:i}=t.payload;return(0,s.default)([`${n}`,`${r}`],i,e)},[d.REMOVE_TYPING_TIMEOUT_ID]:(e,t)=>{const{threadId:n,senderId:r}=t.payload;return(0,p.getTypingTimeoutIdForAgentInThread)({threadId:`${n}`,senderId:`${r}`,typingStates:e})?(0,l.default)([`${n}`],u([`${r}`]),e):e}};var g=(0,i.handleActions)(h,f)},VADA:function(e,t,n){"use strict";n.d(t,{getAnyCompanyLogo:function(){return o}});var r=n("MJM1"),i=n("3HLt"),s=n("kevw");const o=e=>(0,r.default)(i.COMPANY_LOGO,e)||(0,s.getCompanyLogo)((0,s.getFallback)(e))},VB2T:function(e,t,n){"use strict";n.d(t,{ADD_TIME_ON_PAGE_TRIGGER:function(){return r},REMOVE_TIME_ON_PAGE_TRIGGER:function(){return i}});const r="ADD_TIME_ON_PAGE_TRIGGER",i="REMOVE_TIME_ON_PAGE_TRIGGER"},VBzW:function(e,t,n){"use strict";n.d(t,{FAILED:function(){return o},HAS_FILE_ATTACHMENT:function(){return r},PREVIEW_MESSAGE_ID:function(){return s},PREVIEW_TEXT:function(){return i},RESPONDER:function(){return a},VISITOR:function(){return c}});const r=["hasFileAttachment"],i=["previewText"],s=["previewMessageId"],o=["failed"],a=["responder"],c=["visitor"]},VSQ5:function(e,t,n){"use strict";n.d(t,{UPDATE_VIEW:function(){return r}});const r="UPDATE_VIEW"},VToG:function(e,t,n){"use strict";n.d(t,{FAILED:function(){return r},OUT_OF_SYNC:function(){return i},STARTED:function(){return s},SUCCEEDED:function(){return o},UNINITIALIZED:function(){return a}});const r="FAILED",i="OUT_OF_SYNC",s="STARTED",o="SUCCEEDED",a="UNINITIALIZED"},VVGt:function(e,t,n){"use strict";n.d(t,{updateThreadCurrentUrl:function(){return s}});var r=n("dLEV"),i=n("cXEp");const s=(0,r.createAction)(i.UPDATE_THREAD_CURRENT_URL,(({currentUrl:e,threadId:t})=>({payload:{currentUrl:e,threadId:t}})))},VVfI:function(e,t,n){"use strict";n.d(t,{createAsyncActionTypes:function(){return o}});var r=n("VToG"),i=n("DrqF"),s=n("mc4r");const o=e=>{(0,i.default)((0,s.default)(e),"createAsyncActionTypes requires a valid base actionName");return{[r.FAILED]:`${e}_FAILED`,[r.OUT_OF_SYNC]:`${e}_OUT_OF_SYNC`,[r.STARTED]:`${e}_STARTED`,[r.SUCCEEDED]:`${e}_SUCCEEDED`,[r.UNINITIALIZED]:`${e}_UNINITIALIZED`}}},VXRw:function(e,t,n){"use strict";n.d(t,{attachmentUploadStart:function(){return s}});var r=n("dLEV"),i=n("OIId");const s=(0,r.createAction)(i.ATTACHMENT_UPLOAD_START,(({attachment:e,threadId:t})=>({payload:{attachment:e,threadId:t}})))},VZYW:function(e,t,n){"use strict";n.d(t,{BATTLESHIP:function(){return o},BUTTON_DISABLED_TEXT:function(){return A},CALYPSO:function(){return u},CALYPSO_DARK:function(){return l},CALYPSO_LIGHT:function(){return p},CALYPSO_MEDIUM:function(){return d},CANDY_APPLE:function(){return E},CHART_GREEN:function(){return b},CHART_ORANGE:function(){return v},CHART_RED:function(){return I},CIRRUS:function(){return h},GYPSUM:function(){return i},HEFFALUMP:function(){return c},KOALA:function(){return s},MARIGOLD:function(){return S},MARIGOLD_LIGHT:function(){return _},MARIGOLD_MEDIUM:function(){return C},NEUTRAL_1000:function(){return k},NEUTRAL_1600:function(){return U},NEUTRAL_200:function(){return x},NEUTRAL_400:function(){return w},NEUTRAL_500:function(){return N},NEUTRAL_600:function(){return D},NEUTRAL_700:function(){return L},NEUTRAL_800:function(){return M},NEUTRAL_900:function(){return P},NORMAN:function(){return g},NORMAN_DARK:function(){return m},OBSIDIAN:function(){return f},OLAF:function(){return r},OZ:function(){return T},OZ_MEDIUM:function(){return y},SLINKY:function(){return a},THUNDERDOME_DARK:function(){return O},WHITE:function(){return R}});const r="#ffffff",i="#f5f8fa",s="#eaf0f6",o="#cbd6e2",a="#516f90",c="#425b76",u="#00a4bd",l="#0091ae",d="#7fd1de",p="#e5f5f8",f="#33475b",h="#f2f5f8",g="#f2547d",m="#d94c71",E="#f2545b",T="#00bda5",y="#7fded2",A=o,b="#a2d28f",v="#fea58e",I="#ea90b1",S="#f5c26b",C="#fae0b5",_="#fef8f0",O="#5e6ab8",R="#ffffff",x="#f5f3f2",w="#e7e5e4",N="#cfcccb",D="#b6b1af",L="#9b9897",M="#676565",P="#4d4c4c",k="#333333",U="#141414"},Vfyk:function(e,t,n){"use strict";var r=n("QYOI"),i=n("+lAi");class s extends((0,r.Record)({awayMessage:null,typicalResponseTime:null,officeHoursStartTime:null})){constructor(e={}){super(Object.assign({},e,{typicalResponseTime:e.typicalResponseTime?(0,i.default)(e.typicalResponseTime):null}))}}t.default=s},VvTX:function(e,t,n){"use strict";n.d(t,{getCaptureVisitorEmailAddress:function(){return I},getChatHeadingConfig:function(){return S},getClientTriggers:function(){return C},getDisplayBotQuickRepliesOutsideChat:function(){return M},getGdprConsentToCommunicateEnabled:function(){return _},getGdprConsentToProcessEnabled:function(){return O},getGdprCookieConsentPrompt:function(){return x},getGdprCookieConsentPromptMessage:function(){return w},getGdprExplicitConsentRequired:function(){return R},getPopMessageOnSmallScreens:function(){return N},getPopOpenWelcomeMessage:function(){return D},getPopOpenWidget:function(){return L}});var r=n("MJM1");const i=["id"],s=["type"],o=["captureVisitorEmailAddress"],a=["customEmailCaptureDelay"],c=["inboxId"],u=["routingRules"],l=["sendFromRoutingRules"],d=["gdprExplicitConsentRequired"],p=["gdprConsentToProcessEnabled"],f=["cookieConsentPrompt"],h=["cookieConsentPromptMessage"],g=["gdprConsentToCommunicateEnabled"],m=["consentToCommunicateSubscriptionId"],E=["popOpenWelcomeMessage"],T=["popOpenWidget"],y=["popMessageOnSmallScreens"],A=["language"],b=["clientTriggers"],v=["quickRepliesDisplay"],I=(0,r.default)(o),S=(0,r.default)(["chatHeadingConfig"]),C=(0,r.default)(b),_=((0,r.default)(m),(0,r.default)(a),(0,r.default)(g)),O=(0,r.default)(p),R=(0,r.default)(d),x=(0,r.default)(f),w=e=>(0,r.default)(h,e)||"",N=((0,r.default)(i),(0,r.default)(c),(0,r.default)(A),(0,r.default)(y)),D=(0,r.default)(E),L=(0,r.default)(T),M=((0,r.default)(u),(0,r.default)(l),(0,r.default)(s),(0,r.default)(v))},"W/H/":function(e,t,n){"use strict";var r=n("9f1P");const i=(e,t)=>(0,r.css)(["","{","}"],e,t);function s({baseStyle:e,_disabled:t,_focused:n,_hovered:s,_pressed:o}){return(0,r.css)([""," "," "," "," "," "," "," "," ",""],e,(({disabled:e})=>e?t:""),(({focused:e})=>e?n:""),(({hovered:e})=>e?s:""),(({pressed:e})=>e?o:""),t&&i("&:disabled",t),n&&i("&:focus-visible",n),s&&i(t?"&:hover:enabled":"&:hover",s),o&&i(t?"&:active:enabled":"&:active",o))}function o({component:e,defaultStyles:t,theme:n}){const r=n&&n.components&&n.components[e]||{};return s(Object.assign({},t,r))}t.default=o},"W/er":function(e,t,n){"use strict";n.d(t,{getResponders:function(){return r}});const r=(0,n("MJM1").default)(["responders"])},"W/fk":function(e,t,n){"use strict";n.d(t,{Color:function(){return d},default:function(){return h}});var r=n("LZPL"),i=n.n(r),s=n("PyK+"),o=n.n(s),a=n("mEYk"),c=n.n(a),u=n("7pHJ"),l=n("C5Zv");const d={OBSIDIAN:"#33475b",OZ:"#00bda5",OZ_LIGHT:"#e5f8f6",OZ_DARK:"#00a38d",CANDY_APPLE_DARK:"#d94c53",SLINKY:"#516f90",KOALA:"#eaf0f6",MARIGOLD:"#f5c26b",MARIGOLD_LIGHT:"#fef8f0",CANDY_APPLE_LIGHT:"#fdedee",CANDY_APPLE:"#f2545b",THUNDERDOME:"#6a78d1",THUNDERDOME_LIGHT:"#f0f1fa"};function p(e={}){let t="";e.staticAppInfo&&e.staticAppInfo.staticAppName?t=e.staticAppInfo.staticAppName:o()&&o().bender&&o().bender.currentProject&&(t=o().bender.currentProject);return t}function f(e={}){let t="";e.staticAppInfo&&e.staticAppInfo.staticAppVersion?t=e.staticAppInfo.staticAppVersion:o()&&o().bender&&o().bender.currentProjectVersion&&(t=o().bender.currentProjectVersion);return t}class h{constructor(e={}){this.options=e;this.staticAppName=p(e);this.staticAppVersion=f(e);this.debug="true"===i().debug("react-rhumb")||"true"===i().debug(`${this.staticAppName}.react-rhumb`);this.libName="react-rhumb"}performanceMark(e){"function"==typeof performance.mark&&performance.mark(e)}performanceEntries(){return"function"==typeof performance.getEntries&&performance.getEntries()||[]}toTimings(e,t,n){let r,i=-1/0;n.forEach((t=>{if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].timestamp>i){i=e[t].timestamp;r=t}}));return{duration:Math.max(0,i-t),timestamp:Math.max(0,i),selector:r}}setCustomAttribute(e,t){c().setExtraContext({[e]:String(t)})}captureError(e,t){let n={},r={};if(t){n=t.data;r=t.tags}c().captureException(e,{extra:n,tags:r});u.GlobalErrorMetrics.counter("captured").increment()}report(e){throw new Error("Reporters must define a custom report() function")}labelCss(e,t){return`background-color:${e};color:${d.OBSIDIAN};padding: 0 .5rem;border-left: 4px solid ${t};`}colorCss(e){return`color:${e};`}logGroupWithBadge(e,t,n,r){let i=this.libName;try{window.self!==window.top&&(i+=` (child frame: ${this.staticAppName})`)}catch(e){i+=` (child frame: ${this.staticAppName})`}console.groupCollapsed(`%c${i}%c ${e}`,this.labelCss(t,n),"");r();console.groupEnd()}captureUnexpectedRoute(e){c().captureException(l.UNEXPECTED_ROUTE_ERROR,{level:"error",tags:{pathname:e}})}}},W26t:function(e,t,n){"use strict";n.d(t,{buildAudit:function(){return f}});var r=n("K+6d"),i=n("mFyM"),s=n("QYOI");var o=(0,s.Record)({[r.AUDIT_TYPE]:i.BOT_HANDOFF,botId:null},"BotHandoffAudit");var a=(0,s.Record)({[r.AUDIT_TYPE]:i.MANUAL,agentId:null,agentType:null},"ManualAudit");var c=(0,s.Record)({[r.AUDIT_TYPE]:i.MULTIPLE},"MultipleAudit");var u=(0,s.Record)({[r.AUDIT_TYPE]:i.SYSTEM_MIGRATION},"SystemMigrationAudit");var l=(0,s.Record)({[r.AUDIT_TYPE]:i.SYSTEM_TEST},"SystemTestAudit");var d=(0,s.Record)({[r.AUDIT_TYPE]:i.VISITOR,vid:null},"VisitorAudit");var p=(0,s.Record)({[r.AUDIT_TYPE]:i.UNKNOWN},"UnknownAudit");const f=(e={})=>{const{[r.AUDIT_TYPE]:t}=e;switch(t){case i.BOT_HANDOFF:return o(e);case i.MANUAL:return a(e);case i.MULTIPLE:return c(e);case i.SYSTEM_MIGRATION:return u(e);case i.SYSTEM_TEST:return l(e);case i.VISITOR:return d(e);case i.UNKNOWN:default:return p(e)}}},W5Gz:function(e,t,n){e.exports=n.dlbpr(2,"IBmJ")},W9Le:function(e,t,n){"use strict";n.d(t,{receivedIncomingMessage:function(){return f}});var r=n("dLEV"),i=n("nf9S"),s=n("0IK8"),o=n("Mx3c"),a=n("xZ3y"),c=n("B6df"),u=n("8RWs"),l=n("Jk+u"),d=n("21jQ");const p=(0,r.createAction)(a.RECEIVED_INCOMING_MESSAGE,(({message:e,channel:t,responder:n,shouldNotify:r,threadId:i})=>({payload:{message:e,channel:t,responder:n,shouldNotify:r,threadId:i}})));function f({message:e,channel:t,responder:n,shouldNotify:r,threadId:a}){return(f,h)=>{f(p({message:e,channel:t,responder:n,shouldNotify:r,threadId:a}));const g=!(0,d.getIsOpen)(h()),m=!(0,l.isActiveOnThread)(h(),a),E=(0,s.getSenderType)(e),T=(0,s.getSenderId)(e);(0,i.isConversationalMessage)(e)&&(g||m)&&E!==o.VISITOR&&r&&f((0,c.hasNewUnseenMessage)({channel:t,threadId:a}));E!==o.AGENT&&E!==o.BOT||f((0,u.fetchAgentResponderIfNecessary)({senderId:T,senderType:E}))}}},WUMC:function(e,t,n){"use strict";n.d(t,{WidgetBodyDiv:function(){return D},WidgetBodyDivWrapper:function(){return L},default:function(){return P}});var r=n("+/QE"),i=n.n(r),s=n("QYOI"),o=n("fKJZ"),a=n("6Jpi"),c=n("F+8x"),u=n("38AR"),l=n("9f1P"),d=n.n(l),p=n("0fuM"),f=i().oneOf([p.THREAD_LIST,p.THREAD_VIEW,p.KNOWLEDGE_BASE,p.KNOWLEDGE_BASE_ARTICLE,p.CATEGORY_VIEW]),h=n("vSPC"),g=n("npjq"),m=n("sl/w"),E=n("QOxE"),T=n("jt1n"),y=n("W5Gz");const A=e=>(0,y.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,y.jsxs)("g",{clipPath:"url(#question__clip0_14307_15665)",children:[(0,y.jsx)("path",{fillOpacity:.01,d:"M0 0h24v24H0z"}),(0,y.jsx)("mask",{id:"question__b",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24,children:(0,y.jsx)("g",{clipPath:"url(#question__clip1_14307_15665)",children:(0,y.jsxs)("g",{clipPath:"url(#question__clip2_14307_15665)",children:[(0,y.jsxs)("mask",{id:"question__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24,children:[(0,y.jsx)("path",{d:"M12 17.143c.711 0 1.286.574 1.286 1.286 0 .711-.575 1.285-1.286 1.285-.711 0-1.286-.574-1.286-1.285 0-.712.575-1.286 1.286-1.286zM12.017 4.286c3.008 0 5.108 1.628 5.108 3.96 0 1.98-1.363 3.06-2.468 3.926-1.114.882-1.8 1.474-1.8 2.553 0 .472-.386.857-.857.858v.009c-.471 0-.857-.386-.857-.857 0-1.963 1.354-3.035 2.45-3.901 1.124-.891 1.818-1.491 1.818-2.588 0-1.32-1.397-2.246-3.394-2.246-1.62 0-3.077.9-3.463 2.134-.137.455-.617.703-1.072.566-.454-.137-.702-.617-.565-1.071.608-1.971 2.708-3.343 5.1-3.343z"}),(0,y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0c6.617 0 12 5.383 12 12s-5.383 12-12 12S0 18.617 0 12 5.383 0 12 0zm0 1.714C6.326 1.714 1.714 6.326 1.714 12c0 5.674 4.612 10.286 10.286 10.286 5.674 0 10.286-4.612 10.286-10.286 0-5.674-4.612-10.286-10.286-10.286z"})]}),(0,y.jsx)("g",{mask:"url(#question__a)",children:(0,y.jsx)("path",{d:"M-1.714-1.714h27.429v27.429H-1.714z"})})]})})}),(0,y.jsx)("g",{mask:"url(#question__b)",children:(0,y.jsx)("path",{d:"M0 0h24v24H0V0z"})})]}),(0,y.jsxs)("defs",{children:[(0,y.jsx)("clipPath",{id:"question__clip0_14307_15665",children:(0,y.jsx)("path",{d:"M0 0h24v24H0z"})}),(0,y.jsx)("clipPath",{id:"question__clip1_14307_15665",children:(0,y.jsx)("path",{d:"M0 0h24v24H0z"})}),(0,y.jsx)("clipPath",{id:"question__clip2_14307_15665",children:(0,y.jsx)("path",{transform:"translate(-1.714 -1.714)",d:"M0 0h27.429v27.429H0z"})})]})]}));A.displayName="SVGQuestion";var b=A,v=n("VZYW"),I=n("P7jJ"),S=n("iKGd"),C=n("rdz/");const _=d().div.withConfig({displayName:"KBNavigation__NavigationWrapper"})(["height:76px;width:100%;display:flex;justify-content:center;align-items:center;"]),O=d().div.withConfig({displayName:"KBNavigation__NavigationButtonWrapper"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:",";border-radius:20px;border:1px solid ",";gap:4px;width:292px;height:44px;"],v.NEUTRAL_200,v.NEUTRAL_400),R=d().button.withConfig({displayName:"KBNavigation__NavigationButton"})((({theme:e,$active:t,$useDefaultColor:n})=>{const r=n?S.DEFAULT_TEXT_COLOR:e.colors.primary;return(0,l.css)(["display:flex;gap:6px;border:1px solid ",";background-color:",";padding:0;width:140px;height:42px;align-items:center;justify-content:center;outline:none;color:",";transition:all 0.3s ease;font-size:14px;border-radius:20px;font-weight:600;&:hover:enabled{background-color:",";color:",";}&:focus-visible{background-color:",";color:",";}"],v.NEUTRAL_200,t?r:v.NEUTRAL_200,t?v.WHITE:r,t?(0,C.adjustLuminance)(r,10):r,v.NEUTRAL_200,v.NEUTRAL_200,r)})),x=({coloring:e,updateView:t,view:n})=>{const r=(0,E.useRef)(null),i=(0,E.useRef)(null),s=e.useDefaultColor,o=e=>{if("ArrowRight"===e.key){t(p.KNOWLEDGE_BASE);null!=i&&i.current&&i.current.focus()}if("ArrowLeft"===e.key){t(p.THREAD_LIST);null!=r&&r.current&&r.current.focus()}};return(0,y.jsx)(_,{role:"tablist","aria-label":g.default.text("conversations-visitor-experience-components.visitorWidget.navigation.kbNavigation"),children:(0,y.jsxs)(O,{children:[(0,y.jsxs)(R,{$active:!n||n===p.THREAD_LIST,$useDefaultColor:s,"aria-selected":n===p.THREAD_LIST,onClick:()=>t(p.THREAD_LIST),onKeyDown:o,role:"tab",ref:r,children:[(0,y.jsx)(I.default,{"aria-hidden":"true",icon:(0,y.jsx)(T.default,{height:24,width:24})}),(0,y.jsx)(m.default,{message:"conversations-visitor-experience-components.visitorWidget.navigation.options.chat"})]}),(0,y.jsxs)(R,{$active:n===p.KNOWLEDGE_BASE,$useDefaultColor:s,"aria-selected":n===p.KNOWLEDGE_BASE,onClick:()=>t(p.KNOWLEDGE_BASE),onKeyDown:o,role:"tab",ref:i,children:[(0,y.jsx)(I.default,{"aria-hidden":"true",icon:(0,y.jsx)(b,{height:24,width:24})}),(0,y.jsx)(m.default,{message:"conversations-visitor-experience-components.visitorWidget.navigation.options.help"})]})]})})};x.displayName="KBNavigation";var w=x,N=n("Ae0c");const D=d().div.withConfig({displayName:"VisitorWidget__WidgetBodyDiv"})(["display:flex;flex-direction:column;height:100%;background-color:#fff;overflow:auto;border-start-end-radius:10px;"]),L=d().div.withConfig({displayName:"VisitorWidget__WidgetBodyDivWrapper"})(["flex:1;min-height:0;display:flex;flex-direction:column;",";"],(({$background:e})=>(0,h.getBrandStyle)(e))),M=({backButtonDisabled:e,browserWindowHeight:t,browserWindowWidth:n,chatHeadingConfig:r,chatHeadingResponders:i,children:s,closeWidget:o,coloring:l,createNewThread:d,customHeaderText:f=null,inline:h=!1,isThreadAssigned:g=!1,kbArticleDeepLink:m,restorePreviousViewFromKBArticle:E,mobile:T=!1,navigateToKnowledgeBaseArticle:A,navigateToThreadList:b,officeHoursMessage:v,setWidgetSize:I,showAvailabilityMessage:S,showBackButton:C,size:_="default",style:O,toggleWidgetSizeForKBArticle:R,typicalResponseTimeMessage:x,unseenThreadsCountExcludingCurrentThread:M,view:P=p.THREAD_VIEW,viewKBArticleExpanded:k,widgetLocation:U=a.RIGHT_ALIGNED,widgetSize:B,updateView:H,kbNavigationEnabled:F})=>(0,y.jsx)(u.default,{browserWindowHeight:t,browserWindowWidth:n,inline:h,size:_,style:O,mobile:T,widgetLocation:U,widgetSize:B,children:(0,y.jsxs)(N.KBSearchProvider,{children:[(0,y.jsx)(c.default,{backButtonDisabled:e,browserWindowHeight:t,chatHeadingConfig:r,coloring:l,chatHeadingResponders:i,createNewThread:d,customHeaderText:f,inline:h,isThreadAssigned:g,kbArticleDeepLink:m,restorePreviousViewFromKBArticle:E,mobile:T,navigateToKnowledgeBaseArticle:A,navigateToThreadList:b,officeHoursMessage:v,onClose:o,toggleWidgetSizeForKBArticle:R,setWidgetSize:I,showAvailabilityMessage:S,showBackButton:C,typicalResponseTimeMessage:x,unseenThreadsCountExcludingCurrentThread:M,view:P,viewKBArticleExpanded:k}),(0,y.jsx)(L,{$background:l.accentColor,kbNavigationEnabled:F,children:(0,y.jsx)(D,{children:s})}),F&&(0,y.jsx)(w,{coloring:l,updateView:H,view:P})]})});M.propTypes={backButtonDisabled:i().bool,browserWindowHeight:i().number.isRequired,browserWindowWidth:i().number.isRequired,chatHeadingConfig:o.default.isRequired,chatHeadingResponders:i().instanceOf(s.List),children:i().node.isRequired,closeWidget:i().func,coloring:i().object.isRequired,createNewThread:i().func,customHeaderText:i().string,inline:i().bool.isRequired,isThreadAssigned:i().bool.isRequired,kbArticleDeepLink:i().string,kbNavigationEnabled:i().bool,mobile:i().bool.isRequired,navigateToKnowledgeBaseArticle:i().func,navigateToThreadList:i().func,officeHoursMessage:i().string,restorePreviousViewFromKBArticle:i().func,setWidgetSize:i().func,showAvailabilityMessage:i().bool,showBackButton:i().bool.isRequired,size:i().string,style:i().object,toggleWidgetSizeForKBArticle:i().func,typicalResponseTimeMessage:i().string,unseenThreadsCountExcludingCurrentThread:i().number,updateView:i().func,view:f,viewKBArticleExpanded:i().bool,widgetLocation:a.WidgetLocationProp,widgetSize:i().shape({width:i().number.isRequired,height:i().number.isRequired}).isRequired};M.displayName="VisitorWidget";var P=M},WYdz:function(e,t,n){"use strict";n.d(t,{default:function(){return Ee}});var r=n("MZef"),i=n("4cwC"),s=n("y+PV"),o=n("stzZ"),a=n("xyDt"),c=n("uB3n"),u=n("eJ3n"),l=n("0IK8"),d=n("qjq5"),p=n("DdHT"),f=n("Hnia"),h=n("xCrP"),g=n("/He/");const m=(0,d.default)(((e,t)=>(0,h.default)(g.MESSAGE_RESULTS,(0,p.default)((t=>e.merge(t))),t)));var E=n("OHie"),T=n("8J5U");const y=(0,d.default)(((e,t)=>(0,h.default)(g.ATTACHMENTS,(0,p.default)((t=>e.mergeDeep(t))),t))),A=(0,d.default)(((e,t)=>(0,h.default)(g.DIRECT_REPLIES,(t=>e.mergeDeep(t)),t))),b=(0,d.default)(((e,t)=>(0,h.default)(g.FRIENDLY_NAME_RESULTS,(t=>e&&e.length?[...new Set(t.concat(e).map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e))):t),t))),v=(0,d.default)(((e,t)=>{(0,f.threadHistoryInvariant)(e);(0,f.threadHistoryInvariant)(t);return(0,p.default)(m((0,T.getMessages)(t)),E.sortMessages,y((0,T.getAttachments)(t)),A((0,T.getDirectReplies)(t)),b((0,T.getFriendlyNameResults)(t)))(e)}));var I=n("Y/B+"),S=n("zbS+"),C=n("Pz4q"),_=n("NIjC"),O=n("LrxL"),R=n("rIrL"),x=n("+TdC"),w=n("NT8A"),N=n("Iqwl"),D=n("/fsP"),L=n("JxGV"),M=n("MfaD"),P=n("kTjR"),k=n("yuy6"),U=n("TePN"),B=n("JoGU"),H=n("sA91"),F=n("wO6X"),G=n("fwMr"),j=n("TlnZ"),W=n("Q7Xa"),V=n("kNma"),z=n("CXYT"),K=n("mZIr"),Y=n("y7By"),q=n("Gc2C"),J=n("4RZQ"),$=n("5izc");const Q=[C.default,_.default,O.default,S.default,J.default,R.default,x.default,w.default,N.default,D.default,L.default,M.default,P.default,k.default,U.default,B.default,F.default,G.default,V.default,j.default,W.default,z.default,K.default,Y.default,$.default],X=e=>(0,q.default)(Q.some((t=>e instanceof t)),`Message given is '${(0,H.getRecordName)(e)}', but expected one of ${Q.map(H.getRecordName)}`),Z=(0,d.default)(((e,t)=>t.deleteIn(g.MESSAGE_RESULTS.concat(e)))),ee=(0,d.default)(((e,t,n)=>{(0,I.messageKeyInvariant)(e);X(t);(0,f.threadHistoryInvariant)(n);return Z(e,n)}));var te=n("EN6V");function ne(e,t,n,r){return e(r)?t(r):n(r)}const re=(0,d.default)(ne).operation;function ie(e,t,n){return re(e,t,te.default,n)}var se=(0,d.default)(ie),oe=n("V+nC"),ae=n("eeeG");const ce=(0,d.default)(((e,t,n)=>{(0,I.messageKeyInvariant)(e);X(t);(0,f.threadHistoryInvariant)(n);return(0,p.default)((0,ae.setMessage)(e,t),se((()=>!(0,oe.isInitialMessage)(t)),E.sortMessages))(n)}));var ue=n("eFd2"),le=n("Ut5p"),de=n("xZ3y"),pe=n("qQrL"),fe=n("2Sm/"),he=n("+tWo"),ge=n("6HRQ");const me=(0,c.default)({notSetValue:(0,r.default)({data:new ue.default})});var Ee=(0,le.handleActions)({[fe.CREATE_NEW_THREAD.SUCCEEDED](e,t){const{threadId:n,threadHistory:r}=t.payload;return(0,u.updateEntry)(n,(0,o.requestSucceededWithOperator)((()=>r)),e)},[he.FETCH_THREAD_HISTORY.STARTED](e,t){const{requestArgs:n}=t.payload;return(0,u.updateEntry)(n.threadId,s.requestStarted,e)},[he.FETCH_THREAD_HISTORY.SUCCEEDED](e,t){const{requestArgs:n,data:{threadHistory:r}}=t.payload;return(0,u.updateEntry)(n.threadId,(0,o.requestSucceededWithOperator)(v(r)),e)},[he.FETCH_THREAD_HISTORY.FAILED](e,t){const{requestArgs:n}=t.payload;return(0,u.updateEntry)(n.threadId,i.requestFailed,e)},[de.RECEIVED_INCOMING_MESSAGE](e,t){const{message:n,threadId:r}=t.payload,i=(0,l.getId)(n);return(0,u.updateEntry)(r,(0,a.updateAsyncData)((0,ge.addMessageToThreadHistory)(i,n)),e)},[pe.PUBLISH_MESSAGE.SUCCEEDED](e,t){const{publishedMessage:n,threadId:r}=t.payload,i=(0,l.getId)(n);return(0,u.updateEntry)(r,(0,a.updateAsyncData)((0,ge.addMessageToThreadHistory)(i,n)),e)},[he.REMOVE_MESSAGE_IN_CONVERSATION](e,t){const{message:n,threadId:r}=t.payload,i=(0,l.getId)(n);return(0,u.updateEntry)(r,(0,a.updateAsyncData)(ee(i,n)),e)},[de.UPDATE_MESSAGE_IN_CONVERSATION](e,t){const{message:n,threadId:r,updated:i}=t.payload,s=(0,l.getId)(n);return(0,u.updateEntry)(r,(0,a.updateAsyncData)(ce(s,i)),e)}},me)},WebA:function(e,t,n){"use strict";n.d(t,{buildCommonMessage:function(){return T}});var r=n("QYOI"),i=n("pHO9"),s=n("MJM1"),o=n("BvOu"),a=n("c1C1"),c=n("MWj0"),u=n("Pz4q"),l=n("IcZZ"),d=n("fPyn"),p=n("0IK8"),f=n("o/5C"),h=n("pxL+"),g=n("Y4h2"),m=n("asw7"),E=n("6O34");const T=(e={})=>{const t=(0,d.buildStatus)((0,s.default)(c.STATUS,e)),n=(0,l.buildAttachments)(e.attachments),T=(0,m.buildRecipients)(e.recipients),y=(0,E.buildSenders)(e.senders),A=e.direction||"",b=(0,p.getId)(e)||(0,o.generateUuid)(),v=(0,f.getGenericChannelId)(e)||null,I=(0,p.getTimestamp)(e)||(0,a.generateUniqueClientTimestamp)("buildCommonMessage-timestamp");return(0,i.default)((0,h.setId)(b),(0,h.setStatus)(t),(0,h.setAttachments)(n),(0,h.setTimestamp)(I),(0,g.setRecipients)(T),(0,g.setSenders)(y),(0,g.setMessageDirection)(A),(0,g.setGenericChannelId)(v))(new u.default((0,r.fromJS)(e)))}},Wiow:function(e,t,n){"use strict";n.d(t,{resetStubbedThread:function(){return s}});var r=n("dLEV"),i=n("ffqu");const s=(0,r.createAction)(i.RESET_STUBBED_THREAD,((e=!1)=>({payload:{shouldRetainFailureState:e}})))},Wnz4:function(e,t,n){"use strict";n.d(t,{attachmentError:function(){return s}});var r=n("dLEV"),i=n("OIId");const s=(0,r.createAction)(i.ATTACHMENT_ERROR,((e,t)=>({payload:{error:e,threadId:t}})))},Wt04:function(e,t,n){"use strict";n.d(t,{getMessagesUtk:function(){return i}});var r=n("q8Gl");function i(){const e=(0,r.getWindowLocation)(),t=e.pathname,n=t.indexOf("/utk/"),i=t.slice(n).split("/").pop();return"null"!==i&&-1!==n?i:e.paramValue("messagesUtk")}},Wtyj:function(e,t,n){"use strict";n.d(t,{PUBLIC_CACHE:function(){return i},STANDARD_CACHE:function(){return r}});const r="i18n-cached-standard-locales",i="i18n-cached-public-locales"},WzHW:function(e,t,n){"use strict";var r=n("xZ3y"),i=n("dLEV");const s=(0,n("9j/6").default)({isPubNubClientConnected:!0}),o=(0,i.createSlice)({name:"clientData",initialState:s,reducers:{},extraReducers:e=>{e.addCase(r.APP_IN_FOREGROUND,(e=>{e.isInForeground=!0}));e.addCase(r.APP_IN_BACKGROUND,(e=>{e.isInForeground=!1}));e.addCase(r.NETWORK_ONLINE,(e=>{e.isPubNubClientConnected=!0}));e.addCase(r.NETWORK_OFFLINE,(e=>{e.isPubNubClientConnected=!1}))}});t.default=o.reducer},X2JS:function(e,t,n){"use strict";n("QOxE");var r=n("W5Gz");const i=e=>(0,r.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{children:[(0,r.jsx)("defs",{children:(0,r.jsx)("path",{d:"M18.534.414c-.6-.57-1.55-.55-2.122.052l-10.005 10.5c-.019.02-.029.045-.043.068-.033.051-.063.103-.097.154-.055.083-.12.161-.158.251-.036.09-.044.187-.062.281-.018.094-.047.185-.047.28 0 .095.029.186.047.28.018.094.026.191.062.281.037.09.103.168.158.251.034.051.064.103.097.154.014.023.024.048.043.068l10.005 10.5c.295.31.69.466 1.087.466.372 0 .744-.138 1.035-.414.6-.571.624-1.521.052-2.12L9.566 12l9.02-9.466c.572-.599.548-1.549-.052-2.12",id:"left__a"})}),(0,r.jsx)("use",{xlinkHref:"#left__a",fillRule:"evenodd"})]}));i.displayName="SVGLeft";t.default=i},"X3o/":function(e,t,n){"use strict";n.d(t,{getChannelName:function(){return i}});var r=n("JGJA");const i=(0,r.default)("name");(0,r.default)("type")},X5NR:function(e,t,n){"use strict";n.d(t,{ChatWidgetLocaleContextConsumer:function(){return s},useChatWidgetLocale:function(){return o}});var r=n("QOxE");const i=(0,r.createContext)(void 0),s=i.Consumer,o=(i.Provider,()=>(0,r.useContext)(i))},XF21:function(e,t,n){"use strict";n.d(t,{ASSIGNMENT_UPDATE:function(){return r}});const r="ASSIGNMENT_UPDATE"},XF6m:function(e,t,n){"use strict";n.d(t,{clearUnseenCountForChannel:function(){return l}});var r=n("dLEV"),i=n("vuNk"),s=n("9zF3"),o=n("xZ3y"),a=n("J+m/"),c=n("PpSk");const u=(0,r.createAction)(o.CLEAR_UNSEEN_COUNT_FOR_CHANNEL,(({channel:e,threadId:t})=>({payload:{channel:e,threadId:t}}))),l=({channel:e,threadId:t})=>(n,r)=>{const o=(0,i.getThreadByThreadId)(r(),{threadId:t});if((0,c.getUnseenCount)(o)>0){n(u({channel:e,threadId:t}));const i=(0,s.calculateUnseenThreadsCount)(r());(0,a.postUnreadConversationCountChangedEvent)({unreadCount:i})}}},XSwq:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-visitor-experience-components":{visitorWidget:{header:{threadListTitle:"Your Chats"},threadListCard:{YourChats:"Your Chats",YourChatsV2:"Chat History",oneDayAgo:"One Day ago"},navigation:{kbNavigation:"knowledge base navigation tabs",options:{chat:"Chat",help:"Help"}}}}}})}},XUHx:function(e,t,n){"use strict";n.d(t,{bootstrapInitialWidgetUi:function(){return A}});var r=n("kHIv"),i=n("VvTX"),s=n("wkWz"),o=n("R4L7"),a=n("E9A7"),c=n("tAuz"),u=n("hwHA"),l=n("j+9m"),d=n("tTno"),p=n("n6ol"),f=n("CITH");const h=()=>{(0,f.postMessageToParent)(p.START_TRACK_SCROLL_PERCENTAGE)};var g=n("GHgd"),m=n("3ZFB"),E=n("Or3K"),T=n("aLl6"),y=n("NDfM");const A=e=>(t,n)=>{const p=(0,s.getWidgetStartOpen)(n()),f=(0,r.getMessage)(e),A=(0,c.getIsMobile)(n()),b=(0,i.getPopOpenWidget)(f)&&!A,v=(0,a.getShowInitialMessage)(n()),I=v||b,S=Boolean(p),C=!1===p,_=(0,T.gdprCookieConsentOnExitIntentEnabled)(n(),e);(0,d.scrollTriggerEnabled)(e)&&h();(0,g.timeOnPageTriggerEnabled)(e)&&t((0,m.addTimeOnPageTrigger)(e));((0,E.exitIntentTriggerEnabled)(e)||_)&&(0,y.postStartTrackExitIntent)();if(S){t((0,u.toggleOpen)({isOpened:!0}));t((0,o.toggleInitialMessageBubble)(v))}else if(C){t((0,u.toggleOpen)({isOpened:!1}));t((0,o.toggleInitialMessageBubble)(v))}else if(!I||!(0,l.hasClientTriggers)(e)){t(v?(0,o.toggleInitialMessageBubble)(!0):(0,o.toggleInitialMessageBubble)(!1));t(b?(0,u.toggleOpen)({isOpened:!0}):(0,u.toggleOpen)({isOpened:!1}))}}},XVRE:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{sanitizedEmail:{imageError:"This image is too large to display.",expandEmailButtonText:"Expand",collapseEmailButtonText:"Collapse",hideEmailRepliesButtonText:"Hide trimmed content",showEmailRepliesButtonText:"View trimmed content"}}})}},XZzj:function(e,t,n){"use strict";n.d(t,{unpublishedMessagesForThread:function(){return l}});var r=n("KXN9"),i=n("x1JE"),s=n("PpSk"),o=n("dLEV"),a=n("ye6p"),c=n("goEE"),u=n("/5H5");const l=(0,o.createSelector)([u.getUnpublishedMessages,a.threadFromProps],((e,t)=>{const n=(0,s.getThreadId)(t),o=(0,i.getEntries)(e).map(r.getData);return(0,c.getSortedMessagesByThreadId)(o,n)}))},XkPn:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n("QYOI");const i="OTHER";class s extends((0,r.Record)({expiresAt:0,url:"",name:"",extension:"",type:i,fileSize:0,width:null,height:null},"FileMetadataRecord")){constructor(e={}){super(Object.assign({},e,{fileSize:e.fileSize||e.size||0}))}}var o=s;class a extends((0,r.Record)({fileId:0,fileMetadata:null,fileUsageType:null,thumbnailMetadata:null},"ResolvedAttachmentRecord")){constructor(e={}){super(Object.assign({},e,{fileMetadata:e.fileMetadata?new o(e.fileMetadata):null,thumbnailMetadata:e.thumbnailMetadata?new o(e.thumbnailMetadata):null}))}}var c=a},Xn0f:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{e(n("QB+X"));e(n("kTyA"));e(n("2phz"));e(n("XSwq"));t({en:{"conversations-visitor-experience-components":{knowledgeBaseSearch:{header:"Find answers quickly",seeMoreResults:"See more results",searchLabel:"Search knowledge base articles",searchPlaceholder:"Search articles",clearSearch:"Clear search",noResultsForTerm:'No results for <strong>"{{ searchTerm }}"</strong>.<br/> Try another search term.',didntFindResults:"Didn't find what you were looking for?",goToKnowledgeBase:"Go to knowledge base",announceSearchResults:"{{resultsCount}} results available for {{searchTerm}}",announceEmptySearchResults:"No results available for {{searchTerm}}. Try another search term. Didn't find what you are looking for? Navigate to the Go to knowledge base link to search answers."},"install-code-step":{description:"<p>Copy the code below and paste it into every page youd like chat to appear on. When youre adding the code, make sure its placed just before the end of the &lt;body&gt; tag. You can also add it to your site footer.</p><p>If youre a Marketing customer using the HubSpot CMS, you don't need to do anything. Your tracking code is automatically installed on all HubSpot-hosted pages.</p>",howToLink:"How do I add the code?",copyButton:"Copy",installCodeEmailForm:{title:"Need someone else to install the code?",description:"Email the code snippet to your web developer or admin.",placeholder:"Enter email address",error:"Please enter a valid email address.",send:"Send"}},officeHours:{defaultMessageText:"We'll return tomorrow at 9:00 AM",sameDay:"We'll return today at {{time}}",nextDay:"We'll return tomorrow at {{time}}",nextWeek:"We'll return {{dayOfWeek}} at {{time}}"},alerts:{pubNubStatus:{visiblyOffline:{title:"Sorry. There was an issue connecting to the network. ",description:"Please wait a few seconds and try again."},PNNetworkUpCategory:{title:"The network connection issue is resolved.",description:"Success! You're connected to messages again."},PNRsubscribeLimitReached:{title:"Sorry. We can't connect you to messages right now.",description:"Please refresh your page."}}},errorAlert:{titleText:"Something went wrong.",message_jsx:function(e,t,n){return e(t,"wrapper",null,"Please try again. If it keeps happening, ",e(t,"Link",{onClick:n.onClick},"let us know"),".")},eventId:"Event Id: {{ eventId }}"},unknownVisitor:"Unknown visitor",isResponderAI:"Powered by AI",aiDisclaimer:"AI-generated content may be inaccurate.",aiDisclaimerWithSpamProtection:"Spam protection enabled; AI-generated content may be inaccurate.",notifications:{unknownVisitor:"Unknown visitor",title:{withIdentity:"{{ identifier }} | HubSpot Messages"},newMessage:"New live chat from {{ identifier }}",newEmail:"New email from {{ identifier }}",assignment:"{{ identifier }} assigned a conversation to you.",pushText:"A visitor has sent you a new message."},buttons:{agree:"I agree",disagree:"Decline for now",submit:"Submit"},visitorExperienceAriaLabels:{dismiss:"Dismiss",drag:"Drag",open:"Open live chat",close:"Close live chat",attachment:"attach a file",send:"send message",showThreadList:"View thread list, {{ unreadThreadCount }} unread threads",createNewThread:"Create new thread",badgeDescription:"New notifications",welcomeMessage:"Welcome message",liveChat:"Live Chat",sdkClickToCloseWidget:"Click to close widget"},chatTextArea:{validationMessage:"Message is too long.",placeholderAskMeAnything:"Ask me anything"},welcomeMessageTextArea:{validationMessage:"Message is too long.",placeholder:"Write a message...",tooltip:"Ask me something",close:"Close"},newThreadPrompt:{chatMovedToEmail:"Chat has been moved to email."},botAwayMessage:{heading:"Our team isn't online at the moment.",paragraph:"We'll be back during our business hours and look forward to chatting with you then."},default:{repText:"Hi there! Let me know if you have any questions about the product or pricing.",initialMessage:"Got any questions? I'm happy to help.",askForEmailMessage:"Dont have time to wait for a response? Leave your email and well be in touch as soon as possible.",knowledgeBaseHeaderText:"Help",agent:"Agent",aiAgent:"Powered by AI",avatar:"Avatar of {{ identifier }}",avatarAvailable:"Avatar of {{ identifier }}; agent is available for chat",avatarAway:"Avatar of {{ identifier }}; agent is away"},dateStringWithOn:"on {{ dateString }}",quickReply:{selectionPlaceholder:"Select one",selectionComplete:"Send"},gdpr:{consentToCookies:{pageLoadCookieConsent:"This chat widget uses a cookie to interact with website visitors and to provide your chat history. To find out more about this cookie, see our <a target='_blank' href=\"https://legal.hubspot.com/privacy-policy\" rel='noopener'>Privacy Policy</a>."}},knowledgeBase:{kbHeaderText:"Help",threadListHeaderText:"Chat",articleCategories:{title:"Browse Categories",article:"article",articles:"articles"},mostViewed:{title:"Trending Articles"},highestRated:{title:"Highest Rated Articles"},kbArticle:{backToChat:"Back to chat",backToKB:"Back to Knowledge Base",expand:"Expand",collapse:"Collapse",openInNewTab:"Open article in new tab"},articleNames:{howToSetupYourAccount:"How to setup your account",managingYourSubscriptionPlan:"Managing your subscription plan",dataPrivacyAndSecurity:"Data privacy and security"},categoryNames:{gettingStarted:"Getting Started",accountAndBilling:"Account & Billing",troubleshootingAndFaqs:"Troubleshooting & FAQs"}},askMeAnythingLauncher:{poweredByAI:"Powered by AI",placeholder:"Ask me anything"},customerAgent:{promptRecommendations:{multiDeviceSetupPrompt:"How can I set up multiple devices?",upgradeBenefitsPrompt:"What are the benefits of upgrading?",dataSecurityPrompt:"Best way to secure data and protect my customers"}},widgetModal:{close:"Close modal"},spamProtectionEnabled:"Spam protection enabled"}}})}},Xvzl:function(e,t,n){"use strict";var r=n("qjq5"),i=n("MM1n");t.default=(0,r.default)(i.default)},"Y/B+":function(e,t,n){"use strict";n.d(t,{messageKeyInvariant:function(){return i}});var r=n("Gc2C");const i=e=>(0,r.default)("string"==typeof e,"Expected messageKey to be a `String` not a `%s`",typeof e)},Y4h2:function(e,t,n){"use strict";n.d(t,{setGenericChannelId:function(){return u},setMessageDirection:function(){return l},setRecipients:function(){return d},setSenders:function(){return p}});var r=n("qjq5"),i=n("JGJA"),s=n("bYG+"),o=n("MJM1"),a=n("MWj0"),c=n("o/5C");(0,s.default)("id"),(0,s.default)("text"),(0,s.default)("timestamp"),(0,s.default)("status"),(0,s.default)("richText"),(0,s.default)("channelInstanceId");const u=(0,s.default)("genericChannelId"),l=((0,s.default)("integrationId"),(0,s.default)("direction")),d=(0,s.default)("recipients"),p=(0,s.default)("senders"),f=(0,s.default)("attachments");(0,r.default)(((e,t,n)=>{const r=(0,c.getRecipients)(n).filter((t=>(0,o.default)(a.RECIPIENT_FIELD,t)!==e)).filter((e=>null!==(0,o.default)(a.RECIPIENT_FIELD,e))).concat(t).toList();return d(r,n)})),(0,r.default)(((e,t)=>{const n=(0,i.default)("@type",e),r=(0,c.getAttachments)(t).filter((e=>(0,i.default)("@type",e)!==n)).toList();return f(r.push(e),t)}))},YHaB:function(e,t,n){"use strict";n.d(t,{updateView:function(){return c}});var r=n("Gc2C"),i=n("dLEV"),s=n("VSQ5"),o=n("0fuM");const a=(0,i.createAction)(s.UPDATE_VIEW,(e=>({payload:{view:e}}))),c=e=>t=>{(0,r.default)([o.THREAD_LIST,o.THREAD_VIEW,o.KNOWLEDGE_BASE,o.KNOWLEDGE_BASE_ARTICLE,o.CATEGORY_VIEW].includes(e),'`updateView` expected to be called with a valid `view` argument, but received "%s"',e);t(a(e))}},YICO:function(e,t,n){"use strict";n.d(t,{default:function(){return D}});var r=n("mKxs"),i=n("k8Ub"),s=n("S5kL"),o=n("QYOI"),a=n("+/QE"),c=n.n(a),u=n("QOxE"),l=n("i7jX"),d=n("/mXs"),p=n("P7jJ"),f=n("W5Gz");const h=e=>(0,f.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32"},e,{children:(0,f.jsx)("path",{d:"M29.92 2.58L11.33 21.17l-9.25-9.25c-.362-.362-.862-.586-1.415-.586-1.105 0-2.001.896-2.001 2.001 0 .553.224 1.053.586 1.415L9.92 25.41c.362.362.862.587 1.415.587s1.053-.224 1.415-.587l20-20c.362-.362.586-.862.586-1.415 0-1.105-.896-2.001-2.001-2.001-.553 0-1.053.224-1.415.586z"})}));h.displayName="SVGSuccess";var g=h,m=n("9f1P"),E=n.n(m),T=n("AgM1"),y=n("FfT4"),A=n("3RTs"),b=n("ssUX"),v=n("VZYW"),I=n("r8/6");const S=["accentColor","children","onClick"],C=E().button.withConfig({displayName:"QuickReplyButton__QuickReplyButtonStyled"})([""," background:",";color:",";border:1px solid ",";cursor:pointer;&:hover:not(:disabled){color:",";border-color:",";}&:disabled{opacity:0.6;cursor:not-allowed;}"],I.promptButtonBaseStyles,v.WHITE,v.OBSIDIAN,v.NEUTRAL_800,(({$accentColor:e})=>e||v.NEUTRAL_900),(({$accentColor:e})=>e||v.NEUTRAL_900)),_=e=>{let{accentColor:t,children:n,onClick:r}=e,i=(0,A.default)(e,S);const s=(0,b.getCanReadTextOnce)(t)?t:v.OBSIDIAN;return(0,f.jsx)(C,Object.assign({$accentColor:s,onClick:r},i,{children:n}))};_.displayName="QuickReplyButton";var O=_;const R=E().div.withConfig({displayName:"QuickReplyGroup__ButtonWrapperInsideChat"})(["gap:8px;padding-top:8px;align-items:center;display:flex;flex-wrap:wrap;width:100%;"]),x=E().div.withConfig({displayName:"QuickReplyGroup__ButtonWrapperOutsideChat"})(["flex-wrap:wrap;width:240px;gap:8px;align-items:center;display:flex;flex-direction:row;justify-content:",";"],(({$widgetLocation:e})=>e!==y.RIGHT_ALIGNED?"flex-start":"flex-end")),w=E()(l.default).withConfig({displayName:"QuickReplyGroup__UpdatedCheckbox"})(["> *{color:",";}"],(({theme:e})=>{var t;return null===(t=e.colors)||void 0===t?void 0:t.primary}));class N extends u.Component{constructor(e){super(e);this.handleSendMulti=this.handleSendMulti.bind(this);this.handleQuickReplySend=this.handleQuickReplySend.bind(this);this.handleSendIndividual=this.handleSendIndividual.bind(this);this.handleSelect=this.handleSelect.bind(this);this.state={selected:(0,o.Set)()}}hasSelected(){const{selected:e}=this.state;return e.size>0}handleSelect(e){this.setState((({selected:t})=>({selected:t.includes(e)?t.delete(e):t.add(e)})))}handleSendMulti(){const{selected:e}=this.state;if(this.hasSelected()){const t=e.map(s.getOptionLabel).join(", ");this.handleQuickReplySend(t,e)}}handleSendIndividual(e){const t=(0,o.List)([e]),n=(0,s.getOptionLabel)(e);this.handleQuickReplySend(n,t)}handleQuickReplySend(e,t){const{message:n,publishMessage:r}=this.props;r({text:e,quickReply:(0,i.getQuickReply)(n).set("quickReplies",t.toJS())})}renderOptions(){const{options:e,multiSelect:t,disabled:n,isOutsideChat:r,onSend:i,accentColor:o}=this.props,{selected:a}=this.state,c="function"==typeof i?i:t?this.handleSelect:this.handleSendIndividual;return e.map((e=>{const i=()=>c(e),u=a.includes(e),l=(0,s.getOptionValue)(e),d=(0,s.getOptionLabel)(e);if(!l||!d)return null;const p=t&&!r&&(0,f.jsx)(w,{className:"m-right-2",checked:u,onChange:i,children:d});return(0,f.jsx)(O,{onClick:i,disabled:n,accentColor:o,children:p||d},`quickreply.${l}`)}))}renderSendButton(){const{disabled:e,multiSelect:t}=this.props;if(!t)return null;const n=!this.hasSelected()||e;return(0,f.jsx)(d.default,{disabled:n,onClick:this.handleSendMulti,size:"sm","data-test-id":"quick-reply-send-button",children:(0,f.jsx)(p.default,{icon:(0,f.jsx)(g,{}),size:"sm"})},"send-button")}render(){const{isOutsideChat:e,widgetLocation:t}=this.props,n=e?x:R;return(0,f.jsx)(n,{$widgetLocation:t,"data-test-id":"quick-reply-group",children:[...this.renderOptions(),this.renderSendButton()]})}}N.displayName="QuickReplyGroup";N.contextType=T.default;N.defaultProps={multiSelect:!1,hasSentReply:!1,isOutsideChat:!1};N.propTypes={accentColor:c().string,disabled:c().bool.isRequired,isOutsideChat:c().bool,message:c().oneOfType([(0,r.default)("CommonMessage"),(0,r.default)("InitialMessage")]).isRequired,multiSelect:c().bool.isRequired,onSend:c().func,options:c().instanceOf(o.Set).isRequired,publishMessage:c().func,widgetLocation:c().string};var D=N},YKTq:function(e,t,n){"use strict";n.d(t,{getPopOpenWidget:function(){return o}});var r=n("dLEV"),i=n("VvTX"),s=n("8dR1");const o=(0,r.createSelector)(s.getWelcomeMessage,((e={})=>(0,i.getPopOpenWidget)(e)))},YNiY:function(e,t,n){"use strict";n.d(t,{getThreadsAsyncData:function(){return i}});var r=n("JGJA");const i=e=>(0,r.default)("threads",e)},YPLr:function(e,t,n){"use strict";n.d(t,{agentTypeToCMFSenderType:function(){return u},agentTypeToSenderType:function(){return c}});var r=n("aLTZ"),i=n("Mx3c"),s=n("2Zef");const o={[r.HUMAN]:i.AGENT,[r.BOT]:i.BOT},a={[r.HUMAN]:s.AGENT_SENDER,[r.BOT]:s.BOT_SENDER},c=e=>o[e],u=e=>a[e]},YQHs:function(e,t,n){"use strict";n.d(t,{FEW_MINUTES:function(){return r}});const r="FEW_MINUTES"},YY0n:function(e,t,n){"use strict";n.d(t,{WidgetModalProvider:function(){return a},useWidgetModalOrContext:function(){return c}});var r=n("QOxE"),i=n("W5Gz");const s=(0,r.createContext)(void 0);function o(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)();return{closeModal:(0,r.useCallback)((()=>{t(!1);i(void 0)}),[]),isOpen:e,modalContent:n,openModal:(0,r.useCallback)((e=>{t(!0);i(e)}),[])}}const a=({children:e})=>{const t=o();return(0,i.jsx)(s.Provider,{value:{isOpen:t.isOpen,modalContent:t.modalContent,openModal:t.openModal,closeModal:t.closeModal},children:e})};a.displayName="WidgetModalProvider";const c=()=>{const e=(0,r.useContext)(s),t=o();return e||t};c.displayName="useWidgetModalOrContext"},YZzh:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{conversationsVisitorUIAvailability:{sameDay:"We'll return today at {{time}}",nextDay:"We'll return tomorrow at {{time}}",nextWeek:"We'll return {{dayOfWeek}} at {{time}}"}}})}},YibP:function(e,t,n){"use strict";n.d(t,{buildError:function(){return r}});const r=(e,...t)=>Object.assign(new Error,...t,{message:e})},"Z/Dw":function(e,t,n){"use strict";n.d(t,{interactionPropTypes:function(){return s}});var r=n("+/QE"),i=n.n(r);const s={disabled:i().bool,focused:i().bool,hovered:i().bool,pressed:i().bool}},Z6IV:function(e,t,n){"use strict";n.d(t,{isSupportedMessageType:function(){return l}});var r=n("SmHr"),i=n("A5f/"),s=n("wL7V"),o=n("R3C8"),a=n("0IK8"),c=n("Mx3c"),u=n("x1PU");const l=e=>{if(e instanceof r.default||e instanceof i.default){e=(0,s.getMessage)(e);if((0,a.getSenderType)(e)!==c.VISITOR)return!1}if((0,o.isVisitorTypingMessage)(e))return!1;const t=(0,a.getType)(e);return Object.keys(u.supportedMessageTypes).some((e=>e===t))}},ZI4L:function(e,t,n){"use strict";n.d(t,{FILE_ID:function(){return i},TEXT:function(){return r}});const r="text",i="fileId"},ZSXR:function(e,t,n){"use strict";n.d(t,{getCurrentThreadHistoryEntry:function(){return a}});var r=n("x1JE"),i=n("dLEV"),s=n("o4fP"),o=n("eEyY");const a=(0,i.createSelector)([s.getThreadHistories,o.getCurrentThreadId],((e,t)=>"number"!=typeof t?null:(0,r.getEntry)(t,e)||null))},ZVbf:function(e,t,n){e.exports=n.dlbpr(1,4)},ZdFx:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r=n("yivD"),i=n("DFoL");function s(e="",t){const n=(0,r.default)("deprecated-function-");return(...r)=>{(0,i.warn)({message:`Deprecation Warning: ${e}`,key:n});return t(...r)}}},"Zui/":function(e,t,n){"use strict";n.d(t,{CALL_METADATA:function(){return c},CITATION:function(){return h},CONTACT:function(){return d},EMAIL_METADATA:function(){return i},FILES:function(){return r},INLINE_IMAGES:function(){return a},LOCATION:function(){return l},MESSAGE_HEADER:function(){return f},MESSAGE_POSITION_DESCRIPTOR:function(){return u},QUICK_LINKS:function(){return o},QUICK_REPLIES:function(){return s},UNSUPPORTED_CONTENT:function(){return p}});const r="FILES",i="EMAIL_METADATA",s="QUICK_REPLIES",o="QUICK_LINKS",a="INLINE_IMAGES",c="CALL_METADATA",u="MESSAGE_POSITION_DESCRIPTOR",l="LOCATION",d="CONTACT",p="UNSUPPORTED_CONTENT",f="MESSAGE_HEADER",h="CITATION"},Zulv:function(e,t,n){"use strict";n.d(t,{chain:function(){return f},filterDOMProps:function(){return T},focusWithoutScrolling:function(){return y},getScrollParent:function(){return N},isIOS:function(){return F},isMac:function(){return U},mergeProps:function(){return h},runAfterTransition:function(){return O},useDescription:function(){return P},useEvent:function(){return G},useGlobalListeners:function(){return R},useId:function(){return l},useLabels:function(){return x},useLayoutEffect:function(){return c},useSlotId:function(){return p},useSyncRef:function(){return w}});var r=n("QOxE"),i=n.n(r),s=n("Ex4o");function o(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=o(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function a(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r}const c="undefined"!=typeof window?i().useLayoutEffect:()=>{};let u=new Map;function l(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(null),o=(0,s.useSSRSafeId)(t),a=(0,r.useCallback)((e=>{i.current=e}),[]);u.set(o,a);c((()=>{let e=o;return()=>{u.delete(e)}}),[o]);(0,r.useEffect)((()=>{let e=i.current;if(e){i.current=null;n(e)}}));return o}function d(e,t){if(e===t)return e;let n=u.get(e);if(n){n(t);return t}let r=u.get(t);if(r){r(e);return e}return t}function p(e=[]){let t=l(),[n,i]=j(t),s=(0,r.useCallback)((()=>{i((function*(){yield t;yield document.getElementById(t)?t:null}))}),[t,i]);c(s,[t,s,...e]);return n}function f(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}function h(...e){let t=Object.assign({},e[0]);for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=f(n,i):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof i?"id"===e&&n&&i?t.id=d(n,i):t[e]=void 0!==i?i:n:t[e]=a(n,i)}}return t}const g=new Set(["id"]),m=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),E=/^(data-.*)$/;function T(e,t={}){let{labelable:n,propNames:r}=t,i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(g.has(t)||n&&m.has(t)||(null==r?void 0:r.has(t))||E.test(t))&&(i[t]=e[t]);return i}function y(e){if(b())e.focus({preventScroll:!0});else{let t=v(e);e.focus();I(t)}}let A=null;function b(){if(null==A){A=!1;try{document.createElement("div").focus({get preventScroll(){A=!0;return!0}})}catch(e){}}return A}function v(e){for(var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;t instanceof HTMLElement&&t!==r;){(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft});t=t.parentNode}r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}function I(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e){t.scrollTop=n;t.scrollLeft=r}}let S=new Map,C=new Set;function _(){if("undefined"==typeof window)return;let e=e=>{let n=S.get(e.target);if(!n){n=new Set;S.set(e.target,n);e.target.addEventListener("transitioncancel",t)}n.add(e.propertyName)},t=e=>{let n=S.get(e.target);if(n){n.delete(e.propertyName);if(0===n.size){e.target.removeEventListener("transitioncancel",t);S.delete(e.target)}if(0===S.size){for(let e of C)e();C.clear()}}};document.body.addEventListener("transitionrun",e);document.body.addEventListener("transitionend",t)}"undefined"!=typeof document&&("loading"!==document.readyState?_():document.addEventListener("DOMContentLoaded",_));function O(e){requestAnimationFrame((()=>{0===S.size?e():C.add(e)}))}function R(){let e=(0,r.useRef)(new Map),t=(0,r.useCallback)(((t,n,r,i)=>{let s=(null==i?void 0:i.once)?(...t)=>{e.current.delete(r);r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:s,options:i});t.addEventListener(n,r,i)}),[]),n=(0,r.useCallback)(((t,n,r,i)=>{var s;let o=(null===(s=e.current.get(r))||void 0===s?void 0:s.fn)||r;t.removeEventListener(n,o,i);e.current.delete(r)}),[]),i=(0,r.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);(0,r.useEffect)((()=>i),[i]);return{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}function x(e,t){let{id:n,"aria-label":r,"aria-labelledby":i}=e;n=l(n);if(i&&r){let e=new Set([...i.trim().split(/\s+/),n]);i=[...e].join(" ")}else i&&(i=i.trim().split(/\s+/).join(" "));r||i||!t||(r=t);return{id:n,"aria-label":r,"aria-labelledby":i}}function w(e,t){c((()=>{if(e&&e.ref&&t){e.ref.current=t.current;return()=>{e.ref.current=null}}}),[e,t])}function N(e){for(;e&&!D(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}function D(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}"undefined"!=typeof window&&window.visualViewport;let L=0;const M=new Map;function P(e){let[t,n]=(0,r.useState)(null);c((()=>{if(!e)return;let t=M.get(e);if(t)n(t.element.id);else{let r="react-aria-description-"+L++;n(r);let i=document.createElement("div");i.id=r;i.style.display="none";i.textContent=e;document.body.appendChild(i);t={refCount:0,element:i};M.set(e,t)}t.refCount++;return()=>{if(0==--t.refCount){t.element.remove();M.delete(e)}}}),[e]);return{"aria-describedby":e?t:void 0}}function k(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function U(){return k(/^Mac/i)}function B(){return k(/^iPhone/i)}function H(){return k(/^iPad/i)||U()&&navigator.maxTouchPoints>1}function F(){return B()||H()}function G(e,t,n,i){let s=(0,r.useRef)(n);s.current=n;let o=null==n;(0,r.useEffect)((()=>{if(o)return;let n=e.current,r=e=>s.current.call(this,e);n.addEventListener(t,r,i);return()=>{n.removeEventListener(t,r,i)}}),[e,t,i,o])}function j(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(t),s=(0,r.useRef)(null);i.current=t;let o=(0,r.useRef)(null);o.current=()=>{let e=s.current.next();e.done?s.current=null:t===e.value?o.current():n(e.value)};c((()=>{s.current&&o.current()}));let a=(0,r.useCallback)((e=>{s.current=e(i.current);o.current()}),[s,o]);return[t,a]}},ZyjR:function(e){"use strict";e.exports={mode:"compressed",staticDomainPrefix:"//static.hsappstatic.net",bender:{depVersions:{"ui-images":"static-2.961"},depPathPrefixes:{"ui-images":"/ui-images/static-2.961"},project:"ui-images",staticDomain:"//static.hsappstatic.net",staticDomainPrefix:"//static.hsappstatic.net"}}},a3lm:function(e,t,n){"use strict";n.d(t,{AGENT:function(){return i},BOT:function(){return r}});const r="BOT",i="AGENT"},aLTZ:function(e,t,n){"use strict";n.d(t,{BOT:function(){return i},HUMAN:function(){return r}});const r="HUMAN",i="BOT"},aLl6:function(e,t,n){"use strict";n.d(t,{gdprCookieConsentOnExitIntentEnabled:function(){return a},gdprCookieConsentOnWidgetLoadEnabled:function(){return c}});var r=n("hj2G"),i=n("CXrm"),s=n("49A5"),o=n("du/S");const a=(e,t)=>{const n=(0,s.getLatestWidgetData)(e),a=(0,o.getAPIEnableWidgetCookieBannerOnExitIntent)(e);return(0,r.gdprCookieConsentPrompt)(t||n)===i.ON_EXIT_INTENT||a},c=e=>(0,r.gdprCookieConsentPrompt)(e)===i.ON_WIDGET_LOAD},aXPX:function(e,t,n){"use strict";n.d(t,{BUTTON_FONT_SIZES:function(){return o},BUTTON_PADDINGS:function(){return s},BUTTON_SIZES:function(){return i}});var r=n("7719");const i={[r.EXTRA_SMALL]:18,[r.SMALL]:28,[r.MEDIUM]:40},s={[r.EXTRA_SMALL]:"4px 8px",[r.SMALL]:"8px 16px",[r.MEDIUM]:"11px 24px"},o={[r.EXTRA_SMALL]:"10px",[r.SMALL]:"12px",[r.MEDIUM]:"14px"}},aYGO:function(e,t,n){"use strict";n.d(t,{ASSIGNED_AGENT_ID:function(){return r},ASSIGNEE:function(){return i},CHANNEL_DETAILS:function(){return s},HAS_CHANNEL_SWITCHED_TO_EMAIL:function(){return f},LATEST_MESSAGE_TIMESTAMP:function(){return o},LATEST_READ_TIMESTAMP:function(){return a},PREVIEW_MESSAGE_ID:function(){return c},RESPONDER:function(){return u},STATUS:function(){return l},THREAD_ID:function(){return d},UNSEEN_COUNT:function(){return p}});const r=["assignedAgentId"],i=["assignedAgentId"],s=["channelDetails"],o=["latestMessageTimestamp"],a=["latestReadTimestamp"],c=["previewMessageId"],u=["responder"],l=["status"],d=["threadId"],p=["unseenCount"],f=["hasChannelSwitchedToEmail"]},aiuJ:function(e,t,n){"use strict";n.d(t,{navigateToStagedThread:function(){return o}});var r=n("y5/z"),i=n("scwY"),s=n("IA0z");function o(){return e=>{e((0,i.loadStagedThread)());e((0,r.trackInteraction)(s.EVENT_NAMES.WIDGET_INTERACTION,{action:"create new thread"}))}}},am7t:function(e,t,n){"use strict";n.d(t,{getIsCookieStorageAllowed:function(){return p}});var r=n("aLl6"),i=n("cdXU"),s=n("c/Yf"),o=n("du/S"),a=n("V9Gp"),c=n("49A5"),u=n("GTwN"),l=n("xeq1"),d=n("yy6y");const p=(e,t)=>{const n=t||(0,c.getLatestWidgetData)(e),p=(0,i.getIsPrivateLoad)(e),f=(0,s.getGlobalCookieOptOut)(e),h=(0,o.getAPIEnableWidgetCookieBannerOnExitIntent)(e),g=(0,a.getAPIEnableWidgetCookieBanner)(e),m=(0,r.gdprCookieConsentOnExitIntentEnabled)(e,n),E=(0,r.gdprCookieConsentOnWidgetLoadEnabled)(n),T=(0,u.getHasMessagesCookieBeenSaved)(e),y=(0,l.getIsPortal53Prod)(),A=(0,d.getShouldListenToGdprBannerConsent)(n);return f!==s.OPT_OUT_YES&&(f===s.OPT_OUT_NO||(!!T||(!y||!A)&&!(m||g||E||h||p)))}},amlY:function(e,t,n){"use strict";n.d(t,{assignmentV2MessageReceived:function(){return u}});var r=n("DFBY"),i=n("xW98"),s=n("kP7l"),o=n("ncoD"),a=n("FBcP"),c=n("H7nP");function u(e,t,n){return(u,l)=>{const d=(0,r.getAssignedAgentId)(e),p=(0,o.getAllAgentResponders)(l()),f=(0,i.findResponderByIdFromList)({responders:p,responderId:d});d&&!f&&n&&u((0,s.fetchAgentResponder)({senderId:d,agentType:(0,r.getAssignedAgentType)(e),sessionId:(0,a.getSessionId)(l()),threadId:n}));u((0,c.defaultMessageReceived)(e,t,n))}}},asw7:function(e,t,n){"use strict";n.d(t,{buildRecipients:function(){return s}});var r=n("QYOI"),i=n("8f+m");const s=(e=[])=>e.reduce(((e,t)=>e.push((0,i.default)(t))),(0,r.List)())},au5J:function(e,t,n){"use strict";n.d(t,{getRecordName:function(){return i}});var r=n("QYOI");const i=(e={})=>{if(!(e.prototype instanceof r.Record))return"Object";if(e.prototype._name)return e.prototype._name;new e;return e.prototype._name||"Record"}},b4ad:function(e,t,n){"use strict";n.d(t,{incrementUnseenCount:function(){return l}});var r=n("dLEV"),i=n("vuNk"),s=n("9zF3"),o=n("xZ3y"),a=n("J+m/"),c=n("PpSk");const u=(0,r.createAction)(o.INCREMENT_UNSEEN_COUNT,(({channel:e,threadId:t})=>({payload:{channel:e,threadId:t}}))),l=({channel:e,threadId:t})=>(n,r)=>{const o=(0,i.getThreadByThreadId)(r(),{threadId:t}),l=(0,c.getUnseenCount)(o);n(u({channel:e,threadId:t}));if(0===l){const e=(0,s.calculateUnseenThreadsCount)(r());(0,a.postUnreadConversationCountChangedEvent)({unreadCount:e})}}},b56I:function(e,t,n){"use strict";n.d(t,{useConsentPromptData:function(){return p}});var r=n("19qb"),i=n("HnnE"),s=n("EjiN"),o=n("eLkp"),a=n("CM48"),c=n("/LeO"),u=n("Qf6G"),l=n("k3Ph"),d=n("zs6M");function p(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)(i.getConsentToProcessMessage),n=(0,r.useSelector)(s.getShowGdprConsentToProcess),p=(0,r.useSelector)(c.shouldRequireExplicitCookieConsent),f=(0,r.useSelector)((e=>(0,o.getGdprConsentToProcessEnabledForChatflow)(e)&&!(0,a.getUserHasGivenConsentToProcess)(e)));return{consentToProcessMessage:t,showGdprConsentToProcessButton:n,showingGdprProcess:f,renderCookieConsentPrompt:p,consentToProcess:()=>e((0,u.consentToProcess)()),consentToCookies:()=>e((0,l.consentToCookies)()),closeConsentToProcess:()=>e((0,d.closeConsentToProcess)()),consentPromptEnabled:p||f||n}}},"b9/n":function(e,t,n){"use strict";n.d(t,{DATE_MESSAGE:function(){return i},MESSAGE_TYPE_ID:function(){return r}});const r="@type",i="DATE_MESSAGE"},bMJP:function(e,t,n){"use strict";n.d(t,{default:function(){return A},receivedWidgetData:function(){return T}});var r=n("JGJA"),i=n("dLEV"),s=n("L9oQ"),o=n("eg5p"),a=n("xZ3y"),c=n("y5/z"),u=n("IA0z"),l=n("Lu5y"),d=n("XUHx"),p=n("jFtF"),f=n("E9Gc"),h=n("21jQ"),g=n("tAuz"),m=n("G53s"),E=n("iF/4");const T=(0,i.createAction)(a.GET_WIDGET_DATA_SUCCEEDED,(e=>({payload:e}))),y=(0,i.createAction)(a.RECEIVED_WIDGET_SHELL_DATA,(e=>({payload:e})));function A(e){return(t,n)=>{(0,f.trackPageViewMetric)();const i=(0,l.buildWidgetData)(e);if(!(0,r.default)("sessionId",i)||!(0,r.default)("chatflowId",i))return;t((0,s.selectThread)(o.STUBBED_THREAD_ID));(0,p.messageCookieHandler)({currentState:n(),widgetData:i});t(T(i));t(y(e));t((0,d.bootstrapInitialWidgetUi)(i));const a=n(),A=(0,h.getIsOpen)(a),b=(0,g.getIsMobile)(a),v=(0,m.getUseAskMeAnythingLauncher)(a),I=(0,E.shouldShowAskMeAnythingLauncher)({useAskMeAnythingLauncher:v,hasOpenedWidget:A,mobile:b})?"ask-me-anything":"icon";t((0,c.trackInteraction)(u.EVENT_NAMES.PAGE_VIEW,{screen:"widget",action:"rendered widget",launcherType:I,isOpen:A}))}}},bOW6:function(e,t,n){"use strict";n.d(t,{wrapFailedMessage:function(){return a}});var r=n("v0wH"),i=n("0IK8"),s=n("C3IS"),o=n("A5f/");const a=(0,n("qjq5").default)((({threadId:e,channel:t,allowRetry:n=!0},a)=>{if((0,s.isCommonMessageFormat)(a)&&(0,i.getStatusForCmf)(a)===r.FAILED){const r=(0,i.getMessageSendFailure)(a),s=!r||r.get("retryable");return(0,o.default)({message:a,threadId:e,channel:t,genericChannelId:a.genericChannelId||null,allowRetry:n&&s})}return a}))},bSHG:function(e,t,n){"use strict";n.d(t,{allowMathML:function(){return l},config:function(){return a},getIframeHtmlConfig:function(){return c},secureDocument:function(){return o}});var r=n("TmLu"),i=n("bYG+"),s=n("rCfO");const o=document.implementation.createHTMLDocument("sanitize"),a={HTML:{elements:["a","b","blockquote","br","bdi","caption","cite","code","col","colgroup","dd","dl","dt","em","figure","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","q","small","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","u","ul","font","div","span","s"],dom:o,attributes:{__ALL__:["style","align","valign","color","width","height"],a:["href","title","target"],blockquote:["cite"],col:["span"],colgroup:["span"],math:["xmlns","display"],annotation:["encoding"],div:["dir","data-hs-branding","data-hs-signature","data-unsubscribe","data-hs-unsubscribe-locale","data-hs-linktype","data-meeting-times","data-video-title","data-video-url","data-thumbnail"],font:["size","face"],iframe:["style","src","scrolling","frameborder","allowtransparency","allowfullscreen"],img:["alt","data-original-height","data-original-width","src","title"],ol:["start","type"],q:["cite"],span:["data-at-mention","data-owner-id","data-mention-id","data-mention-name","contenteditable","data-email-reply","data-timestamp","data-value"],table:["summary","bgcolor","cellpadding","cellspacing"],td:["abbr","axis","bgcolor","colspan","rowspan"],th:["abbr","axis","bgcolor","colspan","rowspan","scope"],tr:["bgcolor"],ul:["type"]},add_attributes:{a:{rel:"nofollow noopener noreferrer"}},protocols:{a:{href:["ftp","http","https","mailto","tel","mms","sms","tag",r.default.RELATIVE]},blockquote:{cite:["http","https",r.default.RELATIVE]},img:{src:["data","http","https",r.default.RELATIVE]},q:{cite:["http","https",r.default.RELATIVE]}},remove_contents:["script","style","title"]},TEXTONLY:{dom:o,elements:[],remove_contents:["style","script"]}},c=(0,s.default)((()=>{const e=a.HTML,t=[...e.elements];t.push("iframe");return(0,i.default)("elements",t,e)})),u=["math","maction","annotation","annotation-xml","menclose","merror","mfenced","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mphantom","mprescripts","mroot","mrow","ms","semantics","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],l=e=>Object.assign({},e,{elements:[...e.elements,...u]})},"bT+G":function(e,t,n){"use strict";n.d(t,{handleStoreMessagesCookie:function(){return s}});var r=n("n6ol"),i=n("CITH");const s=e=>(0,i.postMessageToParent)(r.STORE_MESSAGES_COOKIE,e)},bWKF:function(e,t,n){"use strict";n.d(t,{fromCmfSender:function(){return a},toCmfSender:function(){return c}});var r=n("Mx3c"),i=n("2Zef");const s={[i.AGENT_SENDER]:r.AGENT,[i.VISITOR_SENDER]:r.VISITOR,[i.BOT_SENDER]:r.BOT,[i.SYSTEM_SENDER]:r.SYSTEM,[i.INTEGRATOR_SENDER]:r.INTEGRATOR,[i.VID_SENDER]:r.VISITOR},o={[r.AGENT]:i.AGENT_SENDER,[r.VISITOR]:i.VISITOR_SENDER,[r.BOT]:i.BOT_SENDER,[r.SYSTEM]:i.SYSTEM_SENDER,[r.INTEGRATOR]:i.INTEGRATOR_SENDER};function a(e){return s[e]}function c(e){return o[e]}},bXuJ:function(e,t,n){"use strict";n.d(t,{buildResponderKey:function(){return c},buildResponderKeyFromRequest:function(){return l},buildResponderKeyFromResponder:function(){return u}});var r=n("YPLr"),i=n("Mx3c"),s=n("Avso"),o=n("QYOI"),a=n("Gc2C");const c=({senderId:e,senderType:t})=>{(0,a.default)(e&&t,"Responder keys must be set with valid ID and type. Received %s, %s",e,t);return(0,o.Map)({senderId:String(e),senderType:t})},u=e=>{const t=(0,s.getUserId)(e),n=(0,s.getAgentType)(e),o=n?(0,r.agentTypeToSenderType)(n):(0,s.getIsBot)(e)?i.BOT:i.AGENT;return c({senderId:t,senderType:o})},l=e=>{const{senderId:t,agentType:n}=e,i=(0,r.agentTypeToSenderType)(n);return c({senderId:t,senderType:i})}},"bYG+":function(e,t,n){"use strict";var r=n("0H74"),i=n("qjq5");t.default=(0,i.default)(r.default)},bahz:function(e,t,n){"use strict";n.d(t,{default:function(){return Ue}});var r=n("3RTs"),i=n("8ASW"),s=n("1pGl");function o(e,t){let n=(0,s.getValidLocale)(e);const r=n.split("-")[0];t.indexOf(n)<0&&t.indexOf(r)>=0?n=r:t.indexOf(n)<0&&(n=null);return n}function a(e,t){const n=[{source:t,target:e}];for(;n.length>0;){const{source:e,target:t}=n.shift();for(const r in e)e.hasOwnProperty(r)&&("object"==typeof e[r]&&"object"==typeof t[r]?e[r]!==t[r]&&n.push({source:e[r],target:t[r]}):t[r]=e[r])}}function c(e){e.fallbacks=!0;e.fired={};e.currencySymbols||(e.currencySymbols={});e.baseLocales||(e.baseLocales={});e.publicLocales||(e.publicLocales={});e.loaded=!0;const t={};e.Info=new Promise(((e,n)=>{t.resolve=e;t.reject=n}));e.Info.resolve=t.resolve;e.Info.reject=t.reject}var u=n("npjq");const l={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{)\s?(\S*?)\s?(?:\}\})/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};let d,p={},f=[],h=Math.random()<=.05;function g(e,t,n){let r=!1;function i(e){r||(p[e]=p[e]?p[e]+1:1);r=!0}try{if(t&&localStorage.getItem("TRACK_I18N_FALLBACK_TRANSLATIONS")){let t=localStorage.getItem("TRACK_I18N_FALLBACK_TRANSLATIONS");t=t?t.concat(",",e):e;localStorage.setItem("I18N_FALLBACK_TRANSLATIONS",t)}}catch(e){return}if(h){clearTimeout(d);i(e);t&&-1===f.indexOf(e)&&f.push(e);d=setTimeout((()=>{window.Raven&&window.Raven.capturePageEvent("i18nKeysUsed",{extra:{keysUsed:JSON.stringify(p),i18nKeyCount:Object.keys(p).length,fallbackKeys:JSON.stringify(f),englishFallbackCount:f.length,requestedLocaleValue:n}});h=!1;p={}}),6e4)}}const m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},E="(?:&|<|>|\"|'|`)",T=RegExp(E),y=RegExp(E,"g"),A=e=>m[e],b=function(e){return T.test(e)?e.replace(y,A):e},v=function(e){return null!=e},I=function(e){return e===Object(e)},S=function(...e){const t={};for(;e.length;){let n=e.shift();if("object"==typeof n)for(const e in n)n.hasOwnProperty(e)&&(v(t[e])||(t[e]=n[e]))}return t},C=function(e,t){t=S(t);e.constructor===Array&&(e=e.join(l.defaultSeparator));t.scope&&(e=[t.scope,e].join(l.defaultSeparator));return e},_=function(){return u.default.locale||l.defaultLocale},O=function(e,t){t=S(t);const n=u.default.locales.get(t.locale).slice(),r=n[0];let i,s,o,a;e=C(e,t);for(;n.length;){i=n.shift();s=e.split(l.defaultSeparator);o=u.default.translations[i];if(!o)continue;for(;s.length;){o=o[s.shift()];if(null==o)break}const t=function(e){return e.split("-")[0]};a=t(r);if(null!=o){const n=t(i),r=a!==n,s=n===l.defaultLocale;g(e,u.default.langEnabled&&r&&s,a);return o}}g(e,!1,a);if(v(t.defaultValue))return t.defaultValue};var R=n("DFoL");const x={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!0},w={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},N={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},D={type:"short",precision:0};var L=Array.prototype.join;function M(e){if("function"==typeof Math.log10)return Math.floor(Math.log10(e));const t=Math.round(Math.log(e)*Math.LOG10E);return t-(Number("1e"+t)>e)}function P(e,t,n){var r,i,s=e<0;if(0===(e=Math.abs(e))){r=L.call(Array(n+1),"0");i=1}else{i=M(Math.abs(e))+1;const t=Math.round(Math.exp(Math.abs(i-n)*Math.LN10));r=String(Math.round(i-n<0?e*t:e/t))}if(i>n){r+=L.call(Array(i-n+1),"0");return s?"-"+r:r}if(i===n)return s?"-"+r:r;i>0?r=r.slice(0,i)+"."+r.slice(i):i<=0&&(r="0."+L.call(Array(1-i),"0")+r);if(r.indexOf(".")>=0&&n>t){let e=n-t;for(;e>0&&"0"===r.charAt(r.length-1);){r=r.slice(0,-1);e--}"."===r.charAt(r.length-1)&&(r=r.slice(0,-1))}return s?"-"+r:r}function k(e,t,n,r){let i,s,o=Number.prototype.toFixed.call(e,r),a=o.split(".")[0].length,c=r-n;const u=(i=o.indexOf("e"))>-1?o.slice(i+1):0;if(u){o=o.slice(0,i).replace(".","");o+=L.call(Array(u-(o.length-1)+1),"0")+"."+L.call(Array(r+1),"0");a=o.length}for(;c>0&&"0"===o.slice(-1);){o=o.slice(0,-1);c--}"."===o.slice(-1)&&(o=o.slice(0,-1));a<t&&(s=L.call(Array(t-a+1),"0"));return(s||"")+o}const U=e=>!!u.default.currencySymbols[e],B=function(e,t){const n=e<0,r=(t=S(t,O("number.format"),x)).formatNegativeValuesWithParenthesis&&n,i=Math.abs(e).toFixed(t.precision).toString().split("."),s=[];let o,a=t.format||"%n";const c=n?"":"";e=i[0];let u=i[1];for(;e.length>0;){s.unshift(e.substr(Math.max(0,e.length-3),3));e=e.substr(0,e.length-3)}o=s.join(t.delimiter);t.strip_insignificant_zeros&&u&&(u=u.replace(/0+$/,""));t.precision>0&&u&&(o+=t.separator+u);a=t.sign_first?"%s"+a:a.replace("%n","%s%n");if(r){a=a.replace("%s","");a="%parStart"+a+"%parEnd"}o=a.replace("%u",t.unit).replace("%n",o).replace("%s",c).replace("%parStart","(").replace("%parEnd",")");return o},H=function(e,t){const n=(t||{}).locale;t=S(t,O("number.currency.format",{locale:n}),O("number.format",{locale:n}),w);return B(e,t)},F=function(e,t){t=S(t,O("number.percentage.format"),O("number.format"),N);return B(e,t)},G=function(e,t){null==t&&(t={});return F(e,t)},j=/\d|\+|-|e/i,W=function(e,t){t=S(t,O("number.format",{locale:(t||{}).locale}),x);if("number"==typeof e)return e;if("string"!=typeof e)return NaN;e=e.replace(/\s/g,"").replace("","-");let n="";for(let r of Array.from(e))if(r.match(j))n+=r;else{if(r!==t.separator){if(r===t.delimiter)continue;return NaN}n+="."}return parseFloat(n)},V=15,z=Math.pow(10,V),K=1e3,Y=function(e,t){let n;null==t&&(t={});t=S(t,O("number.format",{locale:t.locale}),{separator:".",delimiter:","});let{separator:r,delimiter:i,numDigitsToTruncateTo:s,maxThreshold:o,minThreshold:a,minIntegerDigits:c,maxSignificantDigits:u,minSignificantDigits:l,maxFractionDigits:d,minFractionDigits:p,stripInsignificantZeros:f}=t;const h=e<0;null==a&&(a=Number.NEGATIVE_INFINITY);null==o&&(o=Number.POSITIVE_INFINITY);null!=p||null!=l||null!=d||null!=u?null==f&&(f=!1):null==f&&(f=!0);null==c&&(c=Math.max(null!=s?s:0,1));if(null!=l||null!=u){null==u&&(u=V);null==l&&(l=1)}null==p&&(p=0);null==d&&(d=Math.max(p,0));let g=Math.abs(e);if(null!=s&&a<=g&&g<o){const e=Math.max(0,M(g)+1-s);g/=Math.pow(10,e)}n=null!=l&&null!=u?P(g,l,u):k(g,c,p,d);const m=n.split(".");let E=m[0],T=m[1];const y=[];for(;E.length>0;){y.unshift(E.substr(Math.max(0,E.length-3),3));E=E.substr(0,E.length-3)}let A=y.join(i);f&&T&&(T=T.replace(/0+$/,""));T&&(A+=r+T);h&&(A=`${A}`);return A},q=function(e){e=Math.abs(e);return`1${[...Array(Math.floor(e).toString().length-1).keys()].map((()=>"0")).join("")}`},J=function(e){const t=e.match(/^([^0]*)(0+)(.*)$/);if(t){const[e,n,r,i]=t;return{prefix:n,digitString:r,numDigits:r.length,suffix:i}}throw new Error(`Invalid abbreviation pattern: ${e}`)},$=function(e,t){null==t&&(t={});let{type:n,locale:r,separator:i,delimiter:s,stripInsignificantZeros:o,minIntegerDigits:a,maxSignificantDigits:c,minSignificantDigits:l,maxFractionDigits:d,minFractionDigits:p}=t;null==n&&(n="short");const f=q(e);let h=O(`number.human.abbreviated.${n}.${f}`,t);if(null!=h&&"object"==typeof h){const t=h[Object.keys(h)[0]],n=J(t),i=Y(e,{numDigitsToTruncateTo:n.numDigits,minThreshold:K,maxThreshold:z}),s=u.default.pluralization.get(r)(Math.abs(i));for(;s.length;){const e=s.shift();if(null!=h[e]){h=h[e];break}}}if(["0",0].includes(h)||null==h)return Y(e,{locale:r,numDigitsToTruncateTo:30,minThreshold:K,maxThreshold:z,minIntegerDigits:null!=a?a:1,minSignificantDigits:l,maxSignificantDigits:c,minFractionDigits:p,maxFractionDigits:d,separator:i,delimiter:s,stripInsignificantZeros:o});{const t=J(h),n=Y(e,{locale:r,numDigitsToTruncateTo:t.numDigits,minThreshold:K,maxThreshold:z,minIntegerDigits:a,minSignificantDigits:l,maxSignificantDigits:c,minFractionDigits:p,maxFractionDigits:d,separator:i,delimiter:s,stripInsignificantZeros:o});return`${t.prefix}${n}${t.suffix}`}},Q=function(e,t){null==t&&(t={});if(t.abbreviate){"string"==typeof(t=S(t,D)).abbreviate&&(t.type=t.abbreviate);return $(e,t)}return B(e,t)},X=function(e,t){null==t&&(t={});U("USD")||console.error("It looks like currency data is not available. Are you using the new I18n loader and forgot to import currencies? See go/new-i18n");if(t.currencyCode){const n=u.default.currencySymbols[t.currencyCode];if(n){null==t.unit&&(t.unit=n.symbol);n.format&&(t.format=n.format);let r=n.decimal_digits;if(n.alternative_decimal_digits&&e%1!=0){e.toString().split(".")[1].length>r&&(r=n.alternative_decimal_digits)}null==t.precision&&(t.precision=r)}}if(!t.unit&&!t.useCurrencyCode){if(t.currencyCode){R.default.warn({message:`I18n: Invalid currencyCode: ${t.currencyCode} supplied to call to formatCurrency().`,key:`I18n.formatCurrency-invalid-${t.currencyCode}`,url:"https://git.hubteam.com/HubSpot/faast-ui/issues/248"});return`${t.currencyCode} ${e}`}R.default.warn({message:"I18n: Missing currencyCode in call to formatCurrency().",key:"I18n.formatCurrency-missing",url:"https://git.hubteam.com/HubSpot/I18n/issues/59"})}if(t.abbreviate){"string"==typeof(t=S(t,D)).abbreviate&&(t.type=t.abbreviate);return H(e>=0?2:-2,t).replace("2",$(Math.abs(e),t))}return H(e,t)},Z=function(e,t){if("number"==typeof t){if(isNaN(t))return null;if("count"===e)return Number(t);if("portalid"===e.toLowerCase()){console.warn('The use of params named "portalId" in externalized strings is deprecated. You should wrap it, like so "I18n.t(key, { portalId: I18n.SafeString(portalId) })", to prevent it from being automatically formatted. See HubSpot/I18n#109');return String(t)}return Q(t)}return t instanceof u.default.SafeString?t.toString():null!=t?b(String(t)):t};var ee=n("HY4P");const te=[],ne=function(e){return"[missing "+e+" value]"},re=function(...e){return ne(e)},ie=function(e,t,n,r,i){null==i&&(i={});const s=e.apply(u.default,r),o=i.message||s;if(te.indexOf(o)<0){te.push(o);ee.Metrics.counter(n).increment();const e=new Error(`I18n: ${o}`),r={i18nErrorType:t,currentLocale:u.default.langEnabled?u.default.locale:"en-us",translationKey:i.translationKey,placeholderName:i.placeholderName,hasHadLoadingFailure:u.default.hasHadLoadingFailure};window.Raven&&window.Raven.captureException(e,{extra:r})}"function"==typeof u.default.trigger&&u.default.trigger(t,s);return s},se=function(e,t){if("guess"===u.default.missingBehaviour){const t=e.split(".").slice(-1)[0];return(l.missingTranslationPrefix.length>0?l.missingTranslationPrefix:"")+t.replace("_"," ").replace(/([a-z])([A-Z])/g,((e,t,n)=>t+" "+n.toLowerCase()))}const n=C(e,t);return"[missing "+[_(),n].join(l.defaultSeparator)+" translation]"},oe=function(e){const t='Missing translation: "'+e+'"';console.warn(`I18n: ${t}`);return b(ie(se,"missingTranslation","translate-request-key-missing-translation",[e],{translationKey:e,message:t}))},ae=ne,ce=function(e,t,n){const r=`Missing placeholder: ${e} in "${n.__scope}"`,i={message:r,translationKey:n.__scope,placeholderName:e};console.warn(`I18n: ${r}`);return ie(ae,"missingPlaceholder","translate-request-key-missing-placeholder",[e,t,n],i)},ue=function(e,t){t=S(t);const n=e.match(l.placeholder);let r,i,s,o;if(!n)return e;for(;n.length;){r=n.shift();s=r.replace(l.placeholder,"$1");i=v(t[s])?t[s].toString().replace(/\$/gm,"_#$#_"):s in t?re(r,e,t):ce(r,e,t);o=new RegExp(r.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}"));e=e.replace(o,i)}return e.replace(/_#\$#_/g,"$")},le=function(e,t,n){n=S(n);let r,i,s,o,a;r=I(t)?t:O(t,n);if(!r)return oe(t,n);i=u.default.pluralization.get(n.locale);s=i(e);for(;s.length;){o=s.shift();if(v(r[o])){a=r[o];break}}if("string"==typeof a){"number"==typeof n.count&&(n.count=Q(e));return ue(a,n)}},de=function e(t,n){n=S(n);let r=O(t,n);I(r)&&!v(n.count)&&(r=O(t,S({locale:l.defaultLocale},n)));if(null==r)return oe(t,n);I(r)||"number"!=typeof n.count||(n.count=Q(n.count));if("string"==typeof r)r=ue(r,n);else if(I(r)&&v(n.count)){r=le(n.count,r,n);if(void 0===r&&n.locale!==l.defaultLocale)return e(t,S({locale:l.defaultLocale},n))}return r},pe=function(...e){const t=e[e.length-1],n="string"!=typeof t,r=n&&t?e[e.length-1]:{},i=n?e.slice(0,e.length-1).join("."):e.join("."),s={};for(let e in r)if(r.hasOwnProperty(e)){const t=r[e];null!=t&&(s[e]=Z(e,t))}s.locale||"en"===u.default.locale.split("-")[0]||u.default.langEnabled||u.default.publicPage||(s.locale="en");s.__scope=i;if(u.default.fired&&!u.default.fired.ready){const e=new Error(`I18n.text called before ready with key '${i}' - See go/i18n-help for more info`);setTimeout((()=>{ee.Metrics.counter("translate-request-fired-too-early").increment();throw e}),0)}return de(i,s)},fe={inclusive:{wordsConnector:"|, ",twoWordsConnector:"| and ",lastWordConnector:"|, and "},exclusive:{wordsConnector:"|, ",twoWordsConnector:"| or ",lastWordConnector:"|, or "}},he=function(e,t){const n=t.length-1;return t.reduce(((t,r,i)=>{t.push(r);i!==n&&t.push(e);return t}),[])},ge=function(e,t){let n;null==t&&(t={});let{wordsConnector:r,twoWordsConnector:i,lastWordConnector:s,limit:o,excessKey:a,exclusive:c}=t;if(null!=o&&o<=2)throw new Error("The formatList limit must be 3 or larger");if(null!=o&&null==a)throw new Error("When using a limit in formatList, you must pass excessKey (that is a external, plurlized string reference)");if(null!=Array.isArray){if(!Array.isArray(e))throw new Error("The first argument to I18n.formatList must be an array")}else if(!(e instanceof Array))throw new Error("The first argument to I18n.formatList must be an array");const u="number.human.array";let l="inclusive";!0===c&&(l="exclusive");r=t.wordsConnector||pe(`${u}.${l}.wordsConnector`,{locale:t.locale})||fe[l].wordsConnector;i=t.twoWordsConnector||pe(`${u}.${l}.twoWordsConnector`,{locale:t.locale})||fe[l].twoWordsConnector;s=t.lastWordConnector||pe(`${u}.${l}.lastWordConnector`,{locale:t.locale})||fe[l].lastWordConnector;const{length:d}=e;if(0===d)return[];if(1===d)return[e[0]];if(2===d)return[e[0],i,e[1]];if(null==o||o>=d){n=he(r,e.slice(0,-1));n.push(s);n.push(e[e.length-1]);return n}{const i=pe(a,{count:e.length-o,locale:t.locale});n=he(r,e.slice(0,o));n.push(s);n.push(i);return n}},me=function(e,t){null==t&&(t={});return ge(e,t).join("")},Ee=[null,"kb","mb","gb","tb"],Te=function(e,t){for(var n,r,i=1024,s=e,o=0;s>=i&&o<4;){s/=i;o+=1}if(0===o){n=pe("number.human.storage_units.units.byte",{count:s});r=0}else{n=pe("number.human.storage_units.units."+Ee[o]);r=s-Math.floor(s)==0?0:1}t=S(t,{unit:n,precision:r,format:"%n%u",delimiter:""});return B(s,t)},ye=function(e,t){null==t&&(t={});let n="";!0!==t.useGap&&!1!==t.noGap||(n=" ");return`${n}<i18n-string data-key='${e}' data-locale-at-render='${u.default.locale}'>${pe(e,t)}</i18n-string>${n}`};function Ae(e){(function(){void 0===e.placeholder&&null!==e.placeholder&&(e.placeholder=l.placeholder);void 0===e.fallbacks&&null!==e.fallbacks&&(e.fallbacks=l.fallbacks);void 0===e.translations&&null!==e.translations&&(e.translations=l.translations)})();e.locales={};e.locales.default=function(t){const n=[],r=[];let i;t&&n.push(t);!t&&e.locale&&n.push(e.locale);"noNO"===t||!t&&"noNO"===e.locale?n.push("no-no"):("no-no"===t||!t&&"no-no"===e.locale)&&n.push("noNO");e.fallbacks&&l.defaultLocale&&n.push(l.defaultLocale);n.forEach((t=>{i=t.split("-")[0];~r.indexOf(t)||r.push(t);~r.indexOf(t.toLowerCase())||r.push(t.toLowerCase());e.fallbacks&&i&&i!==t&&!~r.indexOf(i)&&r.push(i)}));n.length||n.push("en");return r};e.locales.get=function(t){let n=this[t]||this[e.locale]||this.default;"function"==typeof n&&(n=n(t));n instanceof Array==!1&&(n=[n]);return n};e.pluralization={};e.pluralization.get=function(t){return this[t]||this[e.locale]||this.default};e.pluralization.default=function(e){switch(Math.abs(e)){case 0:return["zero","other"];case 1:return["one","other"];default:return["other"]}};e.currentLocale=function(){return e.locale||l.defaultLocale};const t=function(t){const n=0===t?1:t;return e.pluralization.default(n)},n=function(e){if(1===e)return["one","other"];const t=e%10,n=e%100;return t>=2&&t<=4&&!(n>=12&&n<=14)?["few","other"]:1!==e&&t>=0&&t<=1||t>=5&&t<=9||n>=12&&n<=14?["many","other"]:["other"]};e.pluralization.fr=t;e.pluralization.pl=n}function be(e){if(!(this instanceof be))return new be(e);this.string=e}be.prototype.toString=be.prototype.toHTML=function(){return""+this.string};const ve=function(...e){if(!document)return;let t=this.I18N_DEBUG_LOG||window.I18N_DEBUG;try{t="true"===localStorage.I18N_DEBUG_LOG||"true"===localStorage.I18N_DEBUG}catch(e){}if(t){e.unshift("I18n:");window.parent!==window&&e.unshift("(IFRAME)");console.log(...e)}};var Ie=()=>u.default.locale;const Se={CLP:2,COP:2},Ce=2,_e=e=>e&&e.locale||Ie(),Oe=e=>{const t={};if(e){if("number"==typeof e.precision){t.maximumFractionDigits=e.precision;!1===e.stripInsignificantZeros&&(t.minimumFractionDigits=e.precision)}"number"==typeof e.maximumFractionDigits&&(t.maximumFractionDigits=e.maximumFractionDigits);if(!0===e.abbreviate){var n;t.notation="compact";t.maximumFractionDigits=null!==(n=t.maximumFractionDigits)&&void 0!==n?n:0;t.trailingZeroDisplay="stripIfInteger"}void 0!==t.maximumFractionDigits&&t.maximumFractionDigits<Ce&&(t.minimumFractionDigits=t.maximumFractionDigits);!0===e.useCurrencyCode&&(t.currencyDisplay="code");!0!==e.simplifyCurrency&&"stripIfInteger"!==e.trailingZeroDisplay||(t.trailingZeroDisplay="stripIfInteger");"string"==typeof e.currencyDisplay&&(t.currencyDisplay=e.currencyDisplay);"string"==typeof e.currencySign&&(t.currencySign=e.currencySign)}return t},Re=e=>{u.default.currencySymbols.USD||console.error("It looks like currency data is not available. Are you using the new I18n loader and forgot to import currencies? See go/new-i18n");const t=O("number.currency.format.unit",{locale:e});if(!t)return"USD";const n=Object.values(u.default.currencySymbols).find((e=>e.symbol===t));if(n)return n.code;const r=Object.values(u.default.currencySymbols).find((e=>e.symbol_native===t));return(null==r?void 0:r.code)||"USD"};function xe(e,t={}){var n;const r=Object.assign({style:"currency",currency:t.currencyCode||Re(_e(t))},Oe(t));r.currency&&Se[r.currency]&&(r.maximumFractionDigits=Se[r.currency]);t.formatNegativeValuesWithParenthesis&&e<0&&(r.currencySign="accounting");if("string"==typeof t.unit){const e={currency:t.unit,literal:t.unit?void 0:""};t.parts="object"==typeof t.parts?Object.assign({},e,t.parts):e}if(!(t.currencyCode||null!==(n=t.parts)&&void 0!==n&&n.currency||"string"==typeof t.unit)){const e=_e(t),n=Re(e);R.default.warn({message:`I18n: Missing currencyCode in call to formatIntlCurrency(). Falling back to using default currency code: "${n}" for the provided locale: "${e}". Please provide a currencyCode to avoid this warning.`,key:"I18n.formatIntlCurrency-missing"})}const i=new Intl.NumberFormat(_e(t),r);return t.parts?i.formatToParts(e).reduce(((e,{type:n,value:r})=>`${e}${t.parts&&void 0!==t.parts[n]?t.parts[n]:r}`),""):i.format(e)}function we(e){Ae(e);c(e);e.lookup=O;e.prepareOptions=S;e.missingTranslation=oe;e.missingPlaceholder=ce;e.formatParam=Z;e.debugLog=ve;e.text=pe;e.formatListArray=ge;e.formatList=me;e.parseNumber=W;e.formatNumber=Q;e.formatPercentage=G;e.formatCurrency=X;e.formatIntlCurrency=xe;e.abbreviateNumber=$;e.advancedFormatNumber=Y;e.formatSize=Te;e.html=ye;e.SafeString=be}we(i.I18nInternal);let Ne=new Set;function De({context:e,source:t,mode:n},r="visit",s=i.I18nInternal){if(!e)throw new Error("invalid provider source");const c=Object.keys(e);function u(e){null!==e&&a(s.translations,e)}function l(e){if(e){"pojo"===r&&u(e.default||e);if("function"==typeof e.visit&&!Ne.has(e.visit)){Ne.add(e.visit);e.visit(l,u)}e.translations&&e.translations.forEach(u)}return e}function d(n){if(c.indexOf(n)<0)throw new Error(`locale ${n} does not exist for ${t}`);return e[n]()}function p(e){if("sync"!==n)throw new Error(`${t} is not sync`);return l(d(e))}function f(e){if("lazy"!==n)throw new Error(`${t} is not lazy`);return d(e).then(l).catch((e=>{s.hasHadLoadingFailure=!0;setTimeout((()=>{throw e}),0)}))}function h(e,t={}){const r=[],i=t.localeMapper||o,s={};e.forEach((e=>{const t=i(e,c),o=t?s[t]:void 0;if(!o&&t&&"lazy"===n){r.push(f(t));s[t]=!0}else if(!o&&t){r.push(Promise.resolve(p(t)));s[t]=!0}}));return Promise.all(r).catch((e=>setTimeout((()=>{throw e}),0)))}return{mode:n,load:h,locales:c,loadSync:p,loadLazy:f,visitModule:l}}function Le(){let e=e=>{throw new Error("`setLocale()` called early")};return{langRegistry:{},localePromise:new Promise((t=>e=t)),setLocale:e,register(e,t={}){if(this.langRegistry[e.source])return Promise.resolve();this.langRegistry[e.source]=e;const n=De(e,t.type);0;return this.localePromise.then((e=>n.load(t.getLocales?t.getLocales(e):e,t))).catch((e=>setTimeout((()=>{throw e}),0)))}}}function Me(e,t){try{localStorage.setItem(e,t)}catch(e){}}var Pe=n("Wtyj");const ke=["setLocale","register"];var Ue=e=>{const t=Le(),{setLocale:n,register:a}=t,c=(0,r.default)(t,ke),u=[];return Object.assign({register(n,r={}){const i=r.localeMapper||o,s=a.call(t,n,Object.assign({},r,{localeMapper(...e){const t=i(...e);t&&!u.includes(t)&&u.push(t);return t}}));s.then((()=>{e&&e.__localesCacheKey===Pe.PUBLIC_CACHE||Me(e&&e.__localesCacheKey||Pe.STANDARD_CACHE,JSON.stringify(u))}));return s},setLocale({locale:t,langEnabled:r,timezone:o,userObjectTimezone:a}){(0,s.setManualOverwrites)();(0,s.setupTimezone)(o,a);i.I18nInternal.locale=i.I18nInternal.manualLocale||(0,s.getValidLocale)(t);i.I18nInternal.lang=i.I18nInternal.locale.split("-")[0];i.I18nInternal.langEnabled=!!i.I18nInternal.manualLocale||r;const c=i.I18nInternal.langEnabled?[i.I18nInternal.locale]:[];i.I18nInternal.langEnabled||i.I18nInternal.locale!==s.defaultLanguage||c.push("en-us");!(e&&e.excludeFallback)&&c.push(s.defaultLanguage);i.I18nInternal.fired.ready=!0;i.I18nInternal.Info.resolve({locale:i.I18nInternal.locale,langEnabled:i.I18nInternal.langEnabled,timezone:i.I18nInternal.timezone,userObjectTimezone:i.I18nInternal.userObjectTimezone});if(i.I18nInternal.moment){let e=s.momentMappings[i.I18nInternal.locale]||s.momentMappings[i.I18nInternal.locale.split("-")[0]];i.I18nInternal.moment.locales().indexOf(e)<0&&(e=s.defaultLanguage);e!==i.I18nInternal.moment.locale()&&i.I18nInternal.moment.locale(e)}(0,s.setHtmlLang)();return n(c)}},c)}},bb8M:function(e,t,n){"use strict";n.d(t,{updateShowExitIntentCookieBanner:function(){return s}});var r=n("dLEV"),i=n("I6ms");const s=(0,r.createAction)(i.UPDATE_SHOW_EXIT_INTENT_COOKIE_BANNER,(e=>({payload:{visible:e}})))},bhLI:function(e,t,n){"use strict";n.d(t,{NavMarker:function(){return h},RhumbProvider:function(){return ct}});var r=n("QOxE"),i=(n("+/QE"),(0,r.createContext)({id:0,dispatch:()=>{},reportAction:()=>{},trackVisibility:!1})),s=n("pCxe");const o=e=>s.unstable_runWithPriority(s.unstable_LowPriority,(()=>{e()}));var a=window.performance||{};const c=Date.now();var u=a.now?()=>a.now():()=>Date.now()-c;var l=(e,t=!0)=>{const n=(0,r.useContext)(i),s=n&&n.id,a=n&&n.dispatch,c=t&&void 0!==a;0;(0,r.useEffect)((()=>{if(c){const t={name:e,id:s},n=u();o((()=>{a({type:"MARKER_MOUNTED",payload:{marker:t,timestamp:n}})}));return()=>{o((()=>{a({type:"MARKER_UNMOUNTED",payload:{marker:t}})}))}}}),[e,s,a,c])};var d=(e,t)=>{const n=(0,r.useContext)(i);(0,r.useEffect)((()=>{if(!n||!n.trackVisibility||"function"!=typeof n.dispatch)return;const{id:r,dispatch:i}=n;i({type:"ADD_MARKER_REF",payload:{marker:{name:e,id:r},ref:t}})}),[n,e,t])},p=n("W5Gz");const f=({name:e})=>{const t=(0,r.useRef)(null),n=(0,r.useContext)(i);l(e);d(e,t);return n&&n.trackVisibility?(0,p.jsx)("div",{"aria-hidden":!0,ref:t}):null};0;0;var h=({children:e,name:t})=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f,{name:t}),e]}),g=n("mEYk"),m=n.n(g),E=n("Gc2C"),T=n("02LW");function y(e){const t=(0,r.useRef)(void 0);(0,r.useEffect)((()=>{t.current=e}));return t.current}var A=n("LZPL"),b=n.n(A);function v(e){var t={};return function(n){t.hasOwnProperty(n)||(t[n]=e.call(null,n));return t[n]}}var I=v,S=n("C5Zv");const C=e=>e.replace(/(^\/+|\/+$)/g,"").split("/").filter(Boolean),_=/^:(.+)/;var O=e=>{const t={};e.forEach((e=>{t[e]=C(e)}));return(e,n)=>{const r=C(n),i=t[e];(0,E.default)(i,`unexpected route ${e}`);if("*"===i[i.length-1]?r.length<i.length:r.length!==i.length)return!1;let s=0;for(;s<i.length;s++){const e=i[s],t=r[s];if("*"===e&&s===i.length-1)return!0;if(e!==t&&!_.exec(e))return!1}return!0}},R=n("yYAF"),x=n("nDpY"),w=n.n(x),N=n("W/fk"),D=n("InHt");const L=3e4,M={Navigation:"rhumb",Performance:"performance"},P=e=>e?"static"===e?"dev":e.replace("static-",""):"unknown",k=(0,T.default)(((e,t,n)=>`${(0,R.getFullUrl)("app-api")}/cartographer/v1/${e}?hs_static_app=${t}&hs_static_app_version=${P(n)}`));class U extends N.default{constructor(e){super(e);this.performanceActions=[];this.navigationActions=[];window.addEventListener("visibilitychange",(()=>{if("hidden"===document.visibilityState){(0,D.isAcceptanceTest)()&&console.log("flushing all cartographer actions");this.flushAllQueues()}}),!1)}sendActions(e,t){try{return navigator.sendBeacon(k(t,this.staticAppName,this.staticAppVersion),JSON.stringify({userAgent:navigator.userAgent,portalId:w().get({preserveGlobalId:!0}),sessionId:window.hubspot&&window.hubspot.sessionId,isAcceptanceTest:(0,D.isAcceptanceTest)(),isPrerendering:(0,D.isPrerendering)(),datapoints:e}))}catch(e){return null}}logActions(e){this.debug&&this.logGroupWithBadge("Cartographer beacon",N.Color.KOALA,N.Color.SLINKY,(()=>{e.forEach(console.log)}))}flushNavigationQueue(){if(this.navigationActions.length)try{if(this.sendActions(this.navigationActions,M.Navigation)){this.logActions(this.navigationActions);this.navigationActions=[]}}catch(e){}}flushPerformanceQueue(){if(this.performanceActions.length)try{if(this.sendActions(this.performanceActions,M.Performance)){this.logActions(this.performanceActions);this.performanceActions=[]}}catch(e){}}flushAllQueues(){this.flushNavigationQueue();this.flushPerformanceQueue()}pushNavigationAction(e){this.navigationActions.push(e)}pushPerformanceAction(e,t,n){this.performanceActions.push({route:e,type:t,data:n})}}const B=()=>document.visibilityState,H=()=>"hidden"===document.visibilityState,F=H(),G=e=>{document.addEventListener("visibilitychange",(()=>{e(document.visibilityState)}))},j=e=>{document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&e()}))};var W=n("7pHJ");const V=()=>{try{const e=a.getEntriesByType("navigation");return e&&e[0]&&e[0].type}catch(e){return null}},z=e=>{try{return a.getEntriesByType(e)}catch(e){return null}},K=()=>"reload"===V(),Y=()=>""!==window.location.hash;var q=n("PyK+"),J=n.n(q);const $=e=>{if("function"==typeof J().getAllHttpRequestStats&&"function"==typeof a.now){const t=t=>({state:n,started:r,finished:i})=>r<e&&("pending"===t?"pending"===n||i>e:n===t&&i<=e),n=10,r=e=>e.slice(0,n).map((e=>e.url)).join(","),i=J().getAllHttpRequestStats(),s=i.filter(t("succeeded")),o=i.filter(t("failed")),a=i.filter(t("aborted")),c=i.filter(t("pending")),u=i.filter(t("timedOut")),l=o.filter((e=>404!==e.status&&!e.willBeRetried)),d=o.filter((e=>404===e.status));return{numSucceededRequests:s.length,numAbortedRequests:a.length,numPendingRequests:c.length,numNotFound:d.length,numTimedoutRequests:u.length,numFailedRequestsMinus404AndRetries:l.length,numRetriedFailures:o.filter((e=>!!e.willBeRetried)).length,failedRequestUrls:r(l),timedOutRequestUrls:r(u),pendingRequestUrls:r(c),notFoundUrls:r(d)}}return null};function Q(){return Boolean(document.querySelector('iframe[name="nav-components:chatspot-sidebar"]'))}const X=/[^a-zA-Z0-9_]/g,Z=/-+/g;function ee(e){(e=e.replace(X,"-").replace(Z,"-")).startsWith("-")&&(e=e.slice(1));return e}const te=/https:\/\/(static|local).hsappstatic.net\//,ne=10;class re extends U{constructor(e){super(e);this.abandonedTimes=[];this.lastAbandonedTimestamp=null;this.finished=!1;this.wasHidden="hidden"===B();this.prerendering=(0,D.isPrerendering)();this.hiddenEntirelyBeforeRhumbFinished=F&&"hidden"===B();this.hiddenWithin1000ms="hidden"===B();this.hiddenWithin500ms="hidden"===B();this.setCustomAttribute("currentVisibility",B());this.setCustomAttribute("visibility",B());let t=!1;G((e=>{this.setCustomAttribute("currentVisibility",e);this.hiddenEntirelyBeforeRhumbFinished&&"visible"===e&&(this.hiddenEntirelyBeforeRhumbFinished=!1);if(this.wasHidden&&"visible"===e){t=!0;this.hiddenWithin1000ms=!1;this.hiddenWithin500ms=!1}if("hidden"===e&&!this.wasHidden){this.wasHidden=!0;this.setCustomAttribute("visibility","hidden");if(!t){const e=performance.now();e<=1e3&&(this.hiddenWithin1000ms=!0);e<=500&&(this.hiddenWithin500ms=!0)}}}))}getCacheStatusData(){const e={};this.performanceEntries().forEach((t=>{if(t.name.endsWith(".js")){const n=t.name.replace(te,"");e[n]={cached:t.duration<=ne,duration:t.duration}}}));return e}getNumFailedImages(){return Array.from(document.getElementsByTagName("img")).reduce(((e,t)=>t.src&&0===t.naturalHeight&&0===t.naturalWidth?e+1:e),0)}finish(e,t){var n;const r=$(e.timestamp),i=this.abandonedTimes.reduce(((e,t)=>e+t/this.abandonedTimes.length),0),s={};Object.keys(t).forEach((e=>{t[e]&&(s[`marker_timing_${e}`]=t[e].timestamp)}));this.setCustomAttribute("numReaganChecksStarted",this.abandonedTimes.length+1);this.setCustomAttribute("numPreviousReaganChecksAborted",this.abandonedTimes.length);this.setCustomAttribute("avgDurationBeforePreviousReaganAborts",i);this.setCustomAttribute("numPreviousReaganChecksFailed",0);this.setCustomAttribute("numPreviousReaganChecksSuccessful",0);const o=(null===(n=z("navigation"))||void 0===n||null===(n=n[0])||void 0===n?void 0:n.activationStart)||0;W.PageLoadMetrics.counter("rhumb-finished",{status:e.status}).increment();m().capturePageEvent("rhumbFinished",{extra:Object.assign({},e,{duration:(e.duration+e.totalTimeFromRouteStart)/1e3},r,{numChecksStarted:this.abandonedTimes.length+1,numPreviousChecksAborted:this.abandonedTimes.length,avgDurationBeforePreviousRhumbAborts:i,numFailedImages:this.getNumFailedImages(),allVisibleMarkers:JSON.stringify(Object.keys(t)),wasPrerendered:this.prerendering||o>0,wasHiddenOnScriptStart:F,wasEverHidden:this.wasHidden,wasHiddenWhenRhumbFinished:"hidden"===B(),hiddenEntirelyBeforeRhumbFinished:this.hiddenEntirelyBeforeRhumbFinished,hiddenWithin1000ms:this.hiddenWithin1000ms,hiddenWithin500ms:this.hiddenWithin500ms},s)});this.sendActions([{to:{pathname:e.pathname,route:e.route,scenario:e.scenario},status:e.status,wasHidden:this.wasHidden,isHidden:"hidden"===B(),duration:(e.duration+e.totalTimeFromRouteStart)/1e3,failureType:e.failureType,isReload:K(),timestamp:e.timestamp}],M.Navigation)}report(e){if("COMPONENT_RENDERED"===e.type||!this||this.finished)return;const{entry:{timestamp:t=0,checks:n,expiredTimestamp:r,pathname:i},routeSpec:s}=e.payload;switch(e.type){case"ROUTE_SUCCEEDED":case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_FAILED":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_UNEXPECTED":this.finished=!0}const o=String(Q());switch(e.type){case"ROUTE_STARTED":this.lastAbandonedTimestamp&&this.abandonedTimes.push(t-this.lastAbandonedTimestamp);break;case"ROUTE_ABANDONED":this.lastAbandonedTimestamp=t;break;case"ROUTE_PARTIAL_SUCCESS":{const{partialSuccess:r,route:a}=s,{extra:{scenario:c}}=e.payload,u=r[c]||[],{duration:l,timestamp:d,selector:p}=this.toTimings(n,t,u);this.wasHidden||W.PageLoadMetrics.timer("partial_success",{scenario:c,route:ee(a),isAiCopilotEnabled:o}).update(t+l);this.finish({status:"partial_success",duration:l,timestamp:d,totalTimeFromRouteStart:t,pathname:i,scenario:c,selector:p,route:a},n);this.performanceMark("mark_all_success");break}case"ROUTE_SUCCEEDED":{var a;const{success:r,route:c}=s,{extra:{scenario:u}}=e.payload;0;const l=r[u]||[],{duration:d,timestamp:p,selector:f}=this.toTimings(n,t,l);this.wasHidden||W.PageLoadMetrics.timer("succeeded",{scenario:u,route:ee(c),isAiCopilotEnabled:o}).update(t+d);const h=(null===(a=z("navigation"))||void 0===a||null===(a=a[0])||void 0===a?void 0:a.activationStart)||0;h>0&&W.PageLoadMetrics.timer("succeeded-prerender",{scenario:u,route:ee(c),isAiCopilotEnabled:o}).update(t+d-h);this.finish({status:"success",duration:d,timestamp:p,totalTimeFromRouteStart:t,pathname:i,scenario:u,selector:f,route:c},n);this.performanceMark("mark_all_success");break}case"ROUTE_FAILED":{const{route:e,error:r}=s,a=r.filter((e=>n[e]));0;const{duration:c,timestamp:u,selector:l}=this.toTimings(n,t,a),d=a.length?a[0]:"";this.wasHidden||W.PageLoadMetrics.counter("failed",{route:ee(e),selector:d,isAiCopilotEnabled:o}).increment();this.finish({status:"failure",failureType:"errorSelector",selector:l,duration:c,timestamp:u,totalTimeFromRouteStart:t,route:e,pathname:i},n);this.performanceMark("mark_all_failure");break}case"ROUTE_TIMEOUT_EXPIRED":{const{route:e}=s;this.wasHidden||W.PageLoadMetrics.counter("timeouts",{route:ee(e),isAiCopilotEnabled:o}).increment();this.hiddenWithin1000ms||W.PageLoadMetrics.counter("timeouts_1000ms_visiblity_threshold",{route:ee(e),isAiCopilotEnabled:o}).increment();this.hiddenWithin500ms||W.PageLoadMetrics.counter("timeouts_500ms_visiblity_threshold",{route:ee(e),isAiCopilotEnabled:o}).increment();this.hiddenEntirelyBeforeRhumbFinished||W.PageLoadMetrics.counter("timeouts_entirely_hidden_filtered_out",{route:ee(e),isAiCopilotEnabled:o}).increment();const i=Math.max(0,(r||0)-t);this.finish({status:"failure",failureType:"watchdogExpired",duration:i,timestamp:r||performance.now(),totalTimeFromRouteStart:t,route:e},n);this.performanceMark("mark_all_failure_watchdog_expired");break}}}}class ie extends U{constructor(e){super(e);this.resolved={};this.stopped=!1;this.flushQueueTimeout=void 0;this.currentActionStartTimestamp=null;this.previousNavigationAction=null;this.wasHidden="hidden"===B();G((e=>{"hidden"!==e||this.wasHidden||(this.wasHidden=!0)}))}pushInAppNavigationAction(e,t,n,r,i,s){this.previousNavigationAction&&this.pushNavigationAction({to:e,from:this.previousNavigationAction,status:t,wasHidden:n,isHidden:r,duration:i,timestamp:s});this.previousNavigationAction=e}report(e){if("COMPONENT_RENDERED"===e.type||this.resolved[e.payload.entry.id]||this.stopped)return;const t=String(Q());switch(e.type){case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_FAILED":{const{entry:n,routeSpec:r}=e.payload,{pathname:i,checks:s,expiredTimestamp:o}=n,{route:a,error:c}=r;!this.wasHidden&&this.previousNavigationAction&&("ROUTE_FAILED"===e.type?W.PageLoadMetrics.counter("transition-failed",{route:ee(a),isAiCopilotEnabled:t}).increment():W.PageLoadMetrics.counter("transition-timeouts",{route:ee(a),isAiCopilotEnabled:t}).increment());const{duration:u,timestamp:l}="ROUTE_FAILED"===e.type?this.toTimings(s,this.currentActionStartTimestamp,c):{duration:o-this.currentActionStartTimestamp,timestamp:o};this.pushInAppNavigationAction({pathname:i,route:a,scenario:"ROUTE_FAILED"===e.type&&c?c.join(","):e.type},"failure",this.wasHidden,"hidden"===B(),u,l);break}case"ROUTE_PARTIAL_SUCCESS":{const{entry:n,routeSpec:r,extra:i}=e.payload,{pathname:s,checks:o}=n,{route:a}=r,{scenario:c}=i,u=r.partialSuccess[c]||[],{duration:l,timestamp:d}=this.toTimings(o,this.currentActionStartTimestamp,u);if(!this.wasHidden&&this.previousNavigationAction){W.PageLoadMetrics.timer("transition-succeeded",{scenario:c,route:ee(a),isAiCopilotEnabled:t}).update(l);W.PageLoadMetrics.timer("transition-partial-success",{scenario:c,route:ee(a),isAiCopilotEnabled:t}).update(l)}this.pushInAppNavigationAction({pathname:s,route:a,scenario:c||u.join(",")},"partial_success",this.wasHidden,"hidden"===B(),l,d);break}case"ROUTE_SUCCEEDED":{const{entry:n,routeSpec:r,extra:i}=e.payload,{pathname:s,checks:o}=n,{route:a}=r,{scenario:c}=i,u=r.success[c]||"",{duration:l,timestamp:d}=this.toTimings(o,this.currentActionStartTimestamp,u);!this.wasHidden&&this.previousNavigationAction&&W.PageLoadMetrics.timer("transition-succeeded",{scenario:c,route:ee(a),isAiCopilotEnabled:t}).update(l);this.pushInAppNavigationAction({pathname:s,route:a,scenario:c||u.join(",")},"success",this.wasHidden,"hidden"===B(),l,d);break}}switch(e.type){case"ROUTE_UNEXPECTED":this.stopped=!0;break;case"ROUTE_STARTED":{const{entry:t}=e.payload,{timestamp:n}=t;this.currentActionStartTimestamp=this.currentActionStartTimestamp||n;break}case"ROUTE_SUCCEEDED":case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_FAILED":this.currentActionStartTimestamp=null;this.resolved[e.payload.entry.id]=!0;clearTimeout(this.flushQueueTimeout);this.flushQueueTimeout=setTimeout((()=>{this.flushNavigationQueue()}),L)}}}class se extends N.default{constructor(){super();this.resolved={};this.notifiedRoutes=new Set}report(e){if("COMPONENT_RENDERED"===e.type||this.resolved[e.payload.entry.id]&&"CHECKS_CHANGED"!==e.type)return;const{entry:{pathname:t}}=e.payload;if("ROUTE_UNEXPECTED"===e.type){if(!this.notifiedRoutes.has(t)){m().capturePageEvent("react-rhumb-event",{extra:{eventName:"UnexpectedRouteVisited",pathname:t}});this.captureUnexpectedRoute(t);this.notifiedRoutes.add(t);W.PageLoadMetrics.counter("unexpected-route").increment()}this.resolved[e.payload.entry.id]=!0}}}const[oe,ae]=S.INTERNAL_ERROR_MARKERS;class ce extends N.default{constructor(){super();this.stopped=!1}report(e){if(!this.stopped&&"GLOBAL_ERROR"===e.type){const{entry:t,extra:n}=e.payload,{error:r}=n,{pathname:i}=t;this.captureError(r,{data:{pathname:i},tags:{[ae]:"true"}});this.stopped=!0}}}var ue=n("3RTs");let le,de,pe,fe;const he={passive:!0,capture:!0},ge=new Date,me=e=>{fe.push(e);ye()},Ee=()=>{fe=[];de=-1;le=null;ve(window.addEventListener)},Te=(e,t)=>{if(!le){le=t;de=e;pe=new Date;ve(window.removeEventListener);ye()}},ye=()=>{if(de>=0&&de<pe-ge){const e={entryType:"first-input",name:le.type,target:le.target,cancelable:le.cancelable,startTime:le.timeStamp,processingStart:le.timeStamp+de};fe.forEach((t=>{t(e)}));fe=[]}},Ae=e=>{if(e.cancelable){const t=(e.timeStamp>1e12?new Date:u())-e.timeStamp;"pointerdown"===e.type?be(t,e):Te(t,e)}},be=(e,t)=>{const n=()=>{Te(e,t);i()},r=()=>{i()},i=()=>{window.removeEventListener("pointerup",n,he);window.removeEventListener("pointercancel",r,he)};window.addEventListener("pointerup",n,he);window.addEventListener("pointercancel",r,he)},ve=e=>{["mousedown","keydown","touchstart","pointerdown"].forEach((t=>e(t,Ae,he)))};function Ie(e){return"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}class Se{constructor(){this.observers=new Map;this.callbacks=new Map;this.bufferedEntries=new Map}static getInstance(){Se.instance||(Se.instance=new Se);return Se.instance}subscribe(e,t){if(!Ie(e))return()=>{};this.callbacks.has(e)||this.callbacks.set(e,new Set);const n=this.callbacks.get(e);n.add(t);if(1===n.size)this.createObserver(e);else if(this.bufferedEntries.has(e)){this.bufferedEntries.get(e).forEach((n=>{n.entryType===e&&t(n)}))}return()=>{const n=this.callbacks.get(e);if(n){n.delete(t);0===n.size&&this.removeObserver(e)}}}getActiveObserverTypes(){return Array.from(this.observers.keys())}reset(){this.observers.forEach((e=>{try{e.disconnect()}catch(e){}}));this.observers.clear();this.callbacks.clear();this.bufferedEntries.clear()}createObserver(e){if(!this.observers.has(e))try{const t=new PerformanceObserver((t=>{const n=t.getEntries();this.bufferedEntries.has(e)||this.bufferedEntries.set(e,[]);const r=this.bufferedEntries.get(e);n.forEach((e=>r.push(e)));r.length>100&&r.splice(0,r.length-100);const i=this.callbacks.get(e);i&&n.forEach((t=>{t.entryType===e&&i.forEach((n=>{try{n(t)}catch(r){m().captureException(new Error("Performance callback failed",{cause:r}),{extra:{entryType:e,entry:t.toJSON(),callbackName:n.name||"anonymous"},tags:{component:"PerformanceEventBus",callbackType:"observer",performanceType:e},fingerprint:["performance-callback-error",e]})}}))}))}));t.observe({type:e,buffered:!0});this.observers.set(e,t);j((()=>{if(this.observers.has(e)){const t=this.observers.get(e).takeRecords(),n=this.callbacks.get(e);n&&t.forEach((t=>{t.entryType===e&&n.forEach((n=>{try{n(t)}catch(r){m().captureException(new Error("Performance callback failed on visibility change",{cause:r}),{extra:{entryType:e,entry:t.toJSON(),callbackName:n.name||"anonymous",visibilityState:"hidden"},tags:{component:"PerformanceEventBus",callbackType:"visibility",performanceType:e},fingerprint:["performance-callback-error",e,"visibility"]})}}))}))}}))}catch(t){m().captureException(new Error("Failed to create PerformanceObserver",{cause:t}),{extra:{entryType:e},tags:{component:"PerformanceEventBus",callbackType:"observer_creation",performanceType:e},fingerprint:["performance-observer-creation-error",e]})}}removeObserver(e){const t=this.observers.get(e);if(t){try{t.disconnect()}catch(t){m().captureException(new Error("Failed to disconnect PerformanceObserver",{cause:t}),{extra:{entryType:e},tags:{component:"PerformanceEventBus",callbackType:"observer_cleanup",performanceType:e},fingerprint:["performance-observer-cleanup-error",e]})}this.observers.delete(e)}}}var Ce=Se;const _e=["processingStart","startTime"],Oe=["attribution"],Re=e=>{window.addEventListener("pageshow",(t=>{t.persisted&&e(t)}),!0)};class xe extends U{constructor(e){super(e);this.resolved={};this.stopped=!1;this.firstHiddenTime="hidden"===document.visibilityState?0:1/0;this.interactionMap=new Map;window.addEventListener("visibilitychange",(e=>{this.firstHiddenTime=Math.min(this.firstHiddenTime,e.timeStamp)}),{once:!0});const t=()=>{clearTimeout(this.flushQueueTimeout);this.flushQueueTimeout=setTimeout((()=>{this.flushPerformanceQueue();this.interactionMap.clear()}),L)},n=e=>{const n=e.toJSON(),{processingStart:r,startTime:i}=n,s=(0,ue.default)(n,_e);if(i<this.firstHiddenTime){const e=r-i;this.pushPerformanceAction(this.lastRouteInfo,"first-input",Object.assign({},s,{processingStart:r,startTime:i,inputDelay:e}));t()}},r=e=>{const{interactionId:n,target:r,name:i}=e;if(n>0){let s=this.interactionMap.get(n);if(!s){s={latency:0,entries:[],interactionNames:""};this.interactionMap.set(n,s)}s.entries.push(e);s.latency=Math.max(e.duration,s.latency);if(s.latency<150)return;const o=r&&null!=r&&r.hasAttribute("data-test-id")?null==r?void 0:r.getAttribute("data-test-id"):"",a=r?null==r?void 0:r.tagName:"";i&&i.length>0&&(s.interactionNames=s.interactionNames.concat(s.interactionNames.length>0?" ":"",i));this.evictPerformanceAction(n);this.pushPerformanceAction(this.lastRouteInfo,"event",{interactionId:n,interactionNames:s.interactionNames,latency:s.latency,elapsedMs:u(),testId:o,tagName:a});t()}},i=e=>{n(e)};Re((()=>{Ee();me(i)}));Ce.getInstance().subscribe("longtask",(e=>{const n=e.toJSON(),r=(0,ue.default)(n,Oe);this.pushPerformanceAction(this.lastRouteInfo,"longtask",r);t()}));Ce.getInstance().subscribe("first-input",(e=>{n(e)}));Ce.getInstance().subscribe("event",(e=>{r(e)}));j((()=>{this.flushPerformanceQueue()}))}evictPerformanceAction(e){this.performanceActions=this.performanceActions.filter((t=>t.data.interactionId!==e))}__setFirstHiddenTime(e){this.firstHiddenTime=e}report(e){if("COMPONENT_RENDERED"!==e.type&&!this.resolved[e.payload.entry.id]&&!this.stopped){switch(e.type){case"ROUTE_TIMEOUT_EXPIRED":{const{routeSpec:{route:t}}=e.payload;this.lastRouteInfo={route:t};break}case"ROUTE_FAILED":{const{entry:{pathname:t},routeSpec:n}=e.payload,{route:r}=n;this.lastRouteInfo={pathname:t,route:r};break}case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_SUCCEEDED":{const{entry:{pathname:t},extra:{scenario:n},routeSpec:r}=e.payload,{route:i}=r;this.lastRouteInfo={pathname:t,route:i,scenario:n};break}}switch(e.type){case"ROUTE_UNEXPECTED":this.stopped=!0;break;case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_SUCCEEDED":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_FAILED":this.resolved[e.payload.entry.id]=!0}}}}class we extends N.default{report(e){if("ROUTE_STARTED"===e.type)try{const{route:t,globalNav:n}=e.payload.routeSpec;window.dispatchEvent(new CustomEvent("rhumb-route-started",{detail:{route:t,globalNav:n}}))}catch(e){}}}const Ne=()=>{let e=1,t="* > *";for(;document.querySelector(t);){t+=" > *";e++}return e},De=24e4;class Le extends U{constructor(e){super(e);this.resolved={};this.stopped=!1;this.candidate=!1;(Math.random()<.1||this.debug)&&(this.candidate=!0);if(!this.candidate||!performance.memory)return;const t=()=>{const e=Math.random()*De;this.timeout=setTimeout((()=>{if(!(this.stopped||u()>36e5)){this.timeout&&this.collectMemoryUsage();t()}}),e)};t();this.flushingInterval=setInterval((()=>{this.stopped&&clearInterval(this.flushingInterval);this.flushPerformanceQueue()}),2*De)}collectMemoryUsage(){const e=performance.memory.usedJSHeapSize;this.pushPerformanceAction(this.lastRouteInfo,"memory",{usedMemBytes:e,elapsedMs:u(),numOfDOMNodes:document.getElementsByTagName("*").length,depthOfDOMTree:Ne()});W.MemoryMetrics.histogram("used-bytes",{scenario:this.lastRouteInfo&&this.lastRouteInfo.scenario||"unknown"}).update(e)}report(e){if(this.candidate&&performance.memory&&"COMPONENT_RENDERED"!==e.type&&!this.resolved[e.payload.entry.id]&&!this.stopped){switch(e.type){case"ROUTE_TIMEOUT_EXPIRED":{const{routeSpec:{route:t}}=e.payload;this.lastRouteInfo={route:t};break}case"ROUTE_FAILED":{const{entry:{pathname:t},routeSpec:n}=e.payload,{route:r}=n;this.lastRouteInfo={pathname:t,route:r};break}case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_SUCCEEDED":{const{entry:{pathname:t},extra:{scenario:n},routeSpec:r}=e.payload,{route:i}=r;this.lastRouteInfo={pathname:t,route:i,scenario:n};break}}switch(e.type){case"ROUTE_UNEXPECTED":this.stopped=!0;break;case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_SUCCEEDED":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_FAILED":this.resolved[e.payload.entry.id]=!0}}}}const Me=new Map([["numSucceededRequests","succeeded-requests"],["numAbortedRequests","aborted-requests"],["numPendingRequests","pending-requests"],["numNotFound","not-found-requests"],["numTimedoutRequests","timed-out-requests"],["numFailedRequestsMinus404AndRetries","failed-requests"],["numRetriedFailures","retried-requests"]]);class Pe extends N.default{constructor(e){super(e);this.finished=!1;this.wasHidden=H();G((e=>{"hidden"===e&&(this.wasHidden=!0)}))}sendMetrics(e,t={}){const n=$(e);n&&Me.forEach(((e,r)=>{const i=Number(n[r]);W.PageLoadMetrics.histogram(e,t).update(i)}))}report(e){if("COMPONENT_RENDERED"===e.type||this.finished||this.wasHidden)return;const{entry:{checks:t,expiredTimestamp:n},routeSpec:r}=e.payload;switch(e.type){case"ROUTE_SUCCEEDED":case"ROUTE_PARTIAL_SUCCESS":case"ROUTE_FAILED":case"ROUTE_TIMEOUT_EXPIRED":case"ROUTE_UNEXPECTED":this.finished=!0}switch(e.type){case"ROUTE_PARTIAL_SUCCESS":{const{partialSuccess:n}=r,{extra:{scenario:i}}=e.payload,s=Math.max(...n[i].map((e=>t[e].timestamp)));this.sendMetrics(s,{scenario:i,status:"partial_success"});break}case"ROUTE_SUCCEEDED":{const{success:n}=r,{extra:{scenario:i}}=e.payload,s=Math.max(...n[i].map((e=>t[e].timestamp)));this.sendMetrics(s,{scenario:i,status:"success"});break}case"ROUTE_FAILED":{const{error:e}=r,n=e.filter((e=>t[e])),[i]=n,s=t[i].timestamp;this.sendMetrics(s,{selector:i,status:"failure"});break}case"ROUTE_TIMEOUT_EXPIRED":n&&this.sendMetrics(n,{status:"failure"})}}}function ke(e){return()=>e}const Ue=()=>{};Ue.thatReturns=ke;Ue.thatReturnsFalse=ke(!1);Ue.thatReturnsTrue=ke(!0);Ue.thatReturnsNull=ke(null);Ue.thatReturnsThis=()=>{};Ue.thatReturnsArgument=e=>e;var Be=Ue;class He extends r.Component{constructor(...e){super(...e);this.state={}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){this.props.onError(e)}render(){return this.state.error?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h,{name:"RHUMB_GLOBAL_ERROR_BOUNDARY"}),this.props.ErrorComponent?(0,p.jsx)(this.props.ErrorComponent,{error:this.state.error}):null]}):this.props.children}}var Fe=He;class Ge extends N.default{report(e){if("ROUTE_STARTED"===e.type)K()&&W.PageLoadMetrics.counter("reloaded").increment()}}class je extends N.default{report(e){switch(e.type){case"NO_VISIBLE_MARKERS":{const{extra:{scenario:t}}=e.payload;W.PageLoadMetrics.counter("no-visible-markers",{scenario:t,isAiCopilotEnabled:String(Q()),hasHash:String(Y()),isReload:String(K())}).increment();break}}}}var We=n("9f1P"),Ve=n.n(We);const ze=Ve().div.withConfig({displayName:"RegressionTracker__RegressionTrackerContainer"})(["position:fixed as const;right:100px;top:100px;z-index:1000;padding:15px;background:#ff7a59;color:#fff;border-radius:3px;"]),Ke=Ve().div.withConfig({displayName:"RegressionTracker__Row"})(["display:flex;justify-content:space-between;"]),Ye=Ve().label.withConfig({displayName:"RegressionTracker__Label"})(["margin-right:3px;"]);0;var qe=({isTrackingVisibility:e,isAutoToggling:t,toggleTrackVisibility:n,setAutoToggle:r})=>(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(ze,{children:[(0,p.jsxs)(Ke,{children:[(0,p.jsx)(Ye,{htmlFor:"toggleTrackVisibility",children:"Toggle Visibility Tracking"}),(0,p.jsx)("input",{id:"toggleTrackVisibility",type:"checkbox",checked:e,onChange:n})]}),(0,p.jsxs)(Ke,{children:[(0,p.jsx)(Ye,{htmlFor:"setAutoToggle",children:"Toggle Visibility Every 2s"}),(0,p.jsx)("input",{id:"setAutoToggle",type:"checkbox",checked:t,onChange:r})]})]})});window.APOLLO_CACHE_EXECUTION_PROFILING={};function Je(e){for(const[t,n]of Object.entries(e))W.ApolloCacheMetrics.timer("method-execution-time",{method:t}).update(n)}class $e extends N.default{report(e){if("ROUTE_SUCCEEDED"===e.type){const e=window.APOLLO_CACHE_EXECUTION_PROFILING;if(e){delete window.APOLLO_CACHE_EXECUTION_PROFILING;Je(e)}}}}function Qe(e){const t=(0,r.useRef)(void 0);t.current||(t.current={value:e()});return t.current.value}const Xe=e=>{0;return Object.keys(e).reduce(((t,n)=>{const r=e[n],{success:i={default:[]},partialSuccess:s={},error:o=[],globalNav:a="default"}=r;t[n]={route:n,globalNav:a,success:i,partialSuccess:s,error:[...o,...S.INTERNAL_ERROR_MARKERS]};return t}),{})},Ze=e=>{const t=Object.keys(e),n=O(t);return I((r=>{const i=t.find((e=>n(e,r)));return e[i]}))},et=e=>{const t=({pathname:t,checks:n,expiredTimestamp:r})=>{const i=e(t);if(r)return{type:"TIMEOUT"};{const e=e=>n[e],t=Object.keys(i.success).filter((t=>i.success[t].length&&i.success[t].every(e)));if(t.length)return{type:"SUCCESS",scenario:t[0]};if(i.partialSuccess){const t=Object.keys(i.partialSuccess).filter((t=>i.partialSuccess[t].length&&i.partialSuccess[t].every(e)));if(t.length)return{type:"PARTIAL_SUCCESS",scenario:t[0]}}if(i.error.some(e))return{type:"FAILURE"}}return{type:"PENDING"}};return(0,T.default)(t)},tt=(e,t)=>(n,r,i)=>{const{pathname:s}=r,o={entry:r,routeSpec:e(s)};i&&Object.assign(o,{extra:i});t({type:n,payload:o})},nt=(e,t)=>{const{entry:n,entry:{pathname:r,id:i,checks:s},entries:o,visibleMarkerRefs:a}=e;switch(t.type){case"HISTORY_CHANGED":{const{pathname:s,timestamp:a}=t.payload;return s!==r?Object.assign({},e,{entry:{id:i+1,pathname:s,referrer:r,timestamp:a,checks:{},expiredTimestamp:null,dirty:!1},entries:[...o,n]}):e}case"MARKER_MOUNTED":{const{marker:{name:r,id:o},timestamp:a}=t.payload;0;return i===o?Object.assign({},e,{entry:Object.assign({},n,{dirty:!0,checks:Object.assign({},s,{[r]:{timestamp:a}})})}):e}case"MARKER_UNMOUNTED":{const{marker:{name:r,id:o}}=t.payload;if(i===o&&s[r]){const t=Object.assign({},s);delete t[r];return Object.assign({},e,{entry:Object.assign({},n,{checks:t})})}return e}case"TIMEDOUT":{const{timestamp:r}=t.payload;return Object.assign({},e,{entry:Object.assign({},n,{expiredTimestamp:r})})}case"ADD_MARKER_REF":{const{marker:{name:n,id:r},ref:s}=t.payload;return i===r?Object.assign({},e,{visibleMarkerRefs:Object.assign({},a,{[n]:s})}):e}default:return e}},rt=()=>{},it=(e,t)=>{const n=(0,r.useRef)([]),i=(0,r.useRef)(Be),s=(0,r.useRef)(Be);(0,r.useEffect)((()=>{s.current=t}));if(i.current===Be){const t=e.listen((({pathname:e})=>{const t=u();n.current.push({pathname:e,timestamp:t})}));i.current=()=>{t();n.current.forEach((e=>s.current(e)));n.current=[];i.current=()=>{}}}(0,r.useEffect)((()=>{i.current();return e.listen(s.current)}),[e])},st=(e,t)=>{const{pathname:n}=e,i=Qe((()=>t(n))),s=e=>{const t=e?e.route:"unknown-route";m().setExtraContext({route:t})};(0,r.useEffect)((()=>{s(i)}),[i]);it(e,(({pathname:e})=>{s(t(e))}))},ot=()=>{const[e,t]=(0,r.useState)(null),n=(0,r.useRef)(null),i=(0,r.useMemo)((()=>new IntersectionObserver((e=>{t(e.some((e=>e.isIntersecting)))}))),[]);(0,r.useEffect)((()=>{n.current=e}),[e]);(0,r.useEffect)((()=>()=>i.disconnect()),[i]);return{observer:i,hasSomeVisibleMarker:e,prevHasSomeVisibleMarker:n.current}},at=e=>{rt(e);const{ErrorComponent:t,history:s,history:{pathname:a},config:c,children:l,timingOffset:d,staticAppInfo:f,captureExceptions:h=!0,trackVisibility:g}=e,m="true"===b().debug("react-rhumb-visibility"),[E,T]=(0,r.useState)(g),[A,v]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(A&&m){const e=setInterval((()=>{T((e=>!e))}),2e3);return()=>clearInterval(e)}}),[A,m]);const I=(0,r.useMemo)((()=>Xe(c)),[c]),C=(0,r.useMemo)((()=>({entry:{id:0,pathname:a,referrer:void 0,timestamp:0,checks:{},expiredTimestamp:null,dirty:!1},entries:[],visibleMarkerRefs:{}})),[a]),[_,O]=(0,r.useReducer)(nt,C),R=(0,r.useMemo)((()=>Ze(I)),[I]);st(s,R);it(s,(({timestamp:e,pathname:t})=>{o((()=>{O({type:"HISTORY_CHANGED",payload:{pathname:t,timestamp:e}})}))}));const x=Qe((()=>{const e=n("1sEq"),t=[new(e.default?e.default:e)({timingOffset:d}),new re({timingOffset:d,staticAppInfo:f}),new $e({staticAppInfo:f}),new ie({staticAppInfo:f}),new se,new ce,new xe({staticAppInfo:f}),new we,new Le({staticAppInfo:f}),new Ge,new je,new Pe];return e=>t.forEach((t=>t.report(e)))})),w=(0,r.useMemo)((()=>tt(R,x)),[R,x]),N=(e,t)=>{w("GLOBAL_ERROR",_.entry,Object.assign({error:e},t))},D=(0,r.useMemo)((()=>et(R)),[R]),L=(0,r.useRef)(void 0),M=y(_),{observer:P,hasSomeVisibleMarker:k,prevHasSomeVisibleMarker:U}=ot();(0,r.useEffect)((()=>{const e=()=>{const e=u();o((()=>{O({type:"TIMEDOUT",payload:{timestamp:e}})}))},t=(e,t)=>{switch(e.type){case"SUCCESS":{const{scenario:n}=e;w("ROUTE_SUCCEEDED",t,{scenario:n});break}case"PARTIAL_SUCCESS":{const{scenario:n}=e;w("ROUTE_PARTIAL_SUCCESS",t,{scenario:n});break}case"TIMEOUT":w("ROUTE_TIMEOUT_EXPIRED",t);break;case"FAILURE":w("ROUTE_FAILED",t);break;default:throw new Error(`unexpected status type ${e.type}`)}};if(M&&_.entries!==M.entries){const{entry:e,entry:{checks:n},entries:r}=M,{entries:i}=_;clearTimeout(L.current);L.current=void 0;const[s,...o]=i.slice(r.length-i.length),{pathname:a,checks:c}=s;if(R(a)){c!==n&&w("CHECKS_CHANGED",s);const r=D(s);s!==e?"PENDING"!==r.type?t(r,s):w("ROUTE_ABANDONED",s):"PENDING"===r.type&&w("ROUTE_ABANDONED",s)}o.forEach((e=>{const{pathname:t}=e;if(R(t)){w("ROUTE_STARTED",e);w("ROUTE_ABANDONED",e)}else w("ROUTE_UNEXPECTED",e)}))}if(!M||M.entries!==_.entries){const{entry:n,entry:{pathname:r,dirty:i}}=_;if(R(r)){w("ROUTE_STARTED",n);i&&w("CHECKS_CHANGED",n);const r=D(n);"PENDING"!==r.type?t(r,n):L.current=setTimeout(e,S.DEFAULT_TIMEOUT)}else w("ROUTE_UNEXPECTED",n)}if(M&&M.entries===_.entries&&M.entry!==_.entry){const{entry:{checks:e}}=M,{entry:n,entry:{checks:r,pathname:i}}=_;if(R(i)){r!==e&&w("CHECKS_CHANGED",n);const i=D(n);if("PENDING"!==i.type){t(i,n);clearTimeout(L.current);L.current=void 0}}}if(M&&M.visibleMarkerRefs!==_.visibleMarkerRefs&&E){const{entry:e,entry:{pathname:t}}=_;if(R(t)){const t=Object.keys(_.entry.checks).every((e=>Object.prototype.hasOwnProperty.call(_.visibleMarkerRefs,e)&&!!_.visibleMarkerRefs[e]&&null!==_.visibleMarkerRefs[e].current));"SUCCESS"===D(e).type&&t&&Object.values(_.visibleMarkerRefs).forEach((e=>!!e.current&&P.observe(e.current)))}}}),[M,_,R,D,w,P,E]);(0,r.useEffect)((()=>{if(null===U&&k!==U&&E){const{entry:e}=_,t=D(e),{scenario:n}=t;k||w("NO_VISIBLE_MARKERS",e,{scenario:n})}}),[k,U,_,D,w,E]);(0,r.useEffect)((()=>{W.PageLoadMetrics.timer("rhumb-provider-mounted").update(u());return()=>{clearTimeout(L.current);L.current=void 0}}),[]);const{entry:{checks:B,id:H}}=_,F=(0,r.useMemo)((()=>Object.keys(B).filter((e=>B[e]))),[B]),G=(0,r.useMemo)((()=>({id:H,dispatch:O,reportAction:x,trackVisibility:E})),[H,x,E]),j=(0,r.useMemo)((()=>F.map(encodeURIComponent).join(",")),[F]);return(0,p.jsxs)(i.Provider,{value:G,children:[h?(0,p.jsx)(Fe,{onError:N,ErrorComponent:t,children:l||null}):l||null,(0,p.jsx)("div",{hidden:!0,"aria-hidden":"true","data-id-markers":j,children:F.map((e=>(0,p.jsx)("mark",{"data-id-marker":e},e)))}),m&&(0,p.jsx)(qe,{isTrackingVisibility:!!E,isAutoToggling:A,toggleTrackVisibility:e=>{T(e.target.checked)},setAutoToggle:e=>{v(e.target.checked)}})]})};0;var ct=(0,r.memo)(at)},byjC:function(e,t,n){"use strict";n.d(t,{hasUnansweredQuickReplyMessage:function(){return l}});var r=n("dLEV"),i=n("k8Ub"),s=n("C3IS"),o=n("V+nC"),a=n("J4oD"),c=n("kWFB"),u=n("iPDb");const l=(0,r.createSelector)(a.historyDataForThread,(e=>{if(!e||!(0,c.hasMessages)(e))return!1;const t=(0,u.getMessages)(e).filter((e=>(0,s.isCommonMessageFormat)(e)&&!(0,s.isEmailCMF)(e)||(0,o.isInitialMessage)(e))).last();return Boolean((0,i.getQuickReply)(t))}))},"c/Yf":function(e,t,n){"use strict";n.d(t,{OPT_OUT_NO:function(){return a},OPT_OUT_YES:function(){return o},getGlobalCookieOptOut:function(){return c}});var r=n("dLEV"),i=n("+U1B"),s=n("3RDS");const o="yes",a="no",c=(0,r.createSelector)(i.getVisitorIdentity,(e=>(0,s.getGlobalCookieOptOut)(e)))},c1C1:function(e,t,n){"use strict";n.d(t,{generateUniqueClientTimestamp:function(){return r}});const r=function e(t="default"){const n=Date.now(),{previousTimestamps:r}=e;if(r&&r[t]&&r[t]>=n){r[t]++;return r[t]}r[t]=n;return n};r.previousTimestamps={};r.reset=function(){this.previousTimestamps={}}},c44P:function(e,t,n){var r=n("34eX"),i="Expected a function";function s(e,t){var n;if("function"!=typeof t)throw new TypeError(i);e=r(e);return function(){--e>0&&(n=t.apply(this,arguments));e<=1&&(t=void 0);return n}}e.exports=s},cFiw:function(e,t,n){"use strict";n.d(t,{useDialog:function(){return o}});var r=n("Zulv"),i=n("okxY"),s=n("QOxE");function o(e,t){let{role:n="dialog"}=e,o=(0,r.useSlotId)();o=e["aria-label"]?void 0:o;(0,s.useEffect)((()=>{if(t.current&&!t.current.contains(document.activeElement)){(0,i.focusSafely)(t.current);let e=setTimeout((()=>{if(document.activeElement===t.current){t.current.blur();(0,i.focusSafely)(t.current)}}),500);return()=>{clearTimeout(e)}}}),[t]);return{dialogProps:Object.assign({},(0,r.filterDOMProps)(e,{labelable:!0}),{role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||o}),titleProps:{id:o}}}},cKdz:function(e,t,n){"use strict";n.d(t,{hasUserAndTeamResponders:function(){return s}});var r=n("uOZ5"),i=n("kevw");const s=e=>(0,i.getType)(e)===r.USERS_AND_TEAMS||(0,i.getType)((0,i.getFallback)(e))===r.USERS_AND_TEAMS},cPs9:function(e,t,n){"use strict";n.d(t,{getSenderKeyFromType:function(){return a}});var r=n("2Zef");const i="vid",s="utk",o="id",a=e=>{switch(e){case r.VID_SENDER:return i;case r.VISITOR_SENDER:return s;case r.BOT_SENDER:case r.AGENT_SENDER:case r.INTEGRATOR_SENDER:return o;case r.SYSTEM_SENDER:default:return null}}},cRNH:function(e,t,n){"use strict";n.d(t,{postConversationClosedEvent:function(){return o}});var r=n("Ozt8"),i=n("mlLV"),s=n("wGlN");const o=({thread:e})=>{(0,r.postExternalApiEvent)({eventType:i.CONVERSATION_CLOSED,payload:{conversation:(0,s.serializeThreadForExternalEvent)(e)}})}},cSJ2:function(e,t,n){"use strict";n.d(t,{sanitize:function(){return f}});var r=n("bSHG"),i=n("rCfO");const s=["background-image","bottom","clear","float","left","opacity","position","right","top","visibility","white-space","z-index"],o=({node:e})=>{if(e&&e.style&&e.style.length>0&&e.style.removeProperty){"0px"===e.style.fontSize&&e.style.setProperty("font-size","14px");"0"===e.style.lineHeight&&e.style.setProperty("line-height","1");"transparent"===e.style.color&&e.style.removeProperty("color");s.forEach((t=>e.style.removeProperty(t)));return{node:e}}return null},a=({node:e})=>{if(e&&"BLOCKQUOTE"===e.tagName){e.style.setProperty("margin","0px 0px 0px .8ex");e.style.setProperty("padding-left","1ex");e.style.setProperty("border-left","1px solid rgb(204,204,204)");return{node:e}}return null},c=["javascript:","vbscript:","data:"],u=({node:e})=>{if(!e||!e.href||"A"!==e.nodeName||!c.includes(e.protocol))return null;const t=document.createElement("span");t.innerText=e.innerText;return{node:t}};var l=n("TmLu");const d=e=>new l.default(e),p=({node:e,config:t})=>{if(!e||!e.href||"A"!==e.tagName)return null;const n=e.href.match("(tel|mms|sms|mailto):[0-9]+");"_self"!==e.getAttribute("target")||n||e.setAttribute("target","_top");const r=n?"_self":e.getAttribute("target");r&&e.setAttribute("target",r);return{node:e,config:t}};e=n.hmd(e);(0,i.default)((e=>/(<img *src="(.*)"(\s)*(\/)?>)/.test(e)));const f=(0,i.default)(((e,t,n=[])=>{const i=r.secureDocument.body;try{r.secureDocument.domain=window.location.hostname.indexOf("qa")>=0?"hubspotqa.com":"hubspot.com"}catch(e){}const s=r.secureDocument.createElement("div");if(e&&""!==e){i.innerHTML=e;const r=Object.assign({},t);r.transformers=[a,o,p,u,...n];try{const e=d(r).clean_node(i).cloneNode(!0);s.appendChild(e)}catch(e){console.error(e)}}return t===r.config.TEXTONLY?s.textContent||"":s.innerHTML}));e&&e.exports&&(e.exports.default=Object.assign({},e.exports))},cXEp:function(e,t,n){"use strict";n.d(t,{SET_THREADS_SUCCESS:function(){return r},UPDATE_THREAD_CURRENT_URL:function(){return i}});const r="SET_THREADS_SUCCESS",i="UPDATE_THREAD_CURRENT_URL"},cdXU:function(e,t,n){"use strict";n.d(t,{getIsPrivateLoad:function(){return i}});var r=n("JGJA");const i=e=>(0,r.default)("privateLoad",e)},cjt2:function(e,t,n){"use strict";n.d(t,{INITIALIZE_PUBSUB:function(){return i},PUBSUB_DISCONNECTED:function(){return l},PUBSUB_READY:function(){return a},PUBSUB_RECONNECTED:function(){return c},PUBSUB_RECONNECTING:function(){return u},PUBSUB_SUSPENDED:function(){return d},RESUBSCRIBE:function(){return o},UPDATE_SUBSCRIPTIONS:function(){return s}});var r=n("VVfI");const i=(0,r.createAsyncActionTypes)("INITIALIZE_PUBSUB"),s=(0,r.createAsyncActionTypes)("UPDATE_SUBSCRIPTIONS"),o=((0,r.createAsyncActionTypes)("RECONNECT"),(0,r.createAsyncActionTypes)("RESUBSCRIBE")),a="PUBSUB_READY",c="PUBSUB_RECONNECTED",u="PUBSUB_RECONNECTING",l="PUBSUB_DISCONNECTED",d="PUBSUB_SUSPENDED"},cnVX:function(e,t,n){"use strict";n.d(t,{reportErrorAction:function(){return o}});var r=n("nSiU"),i=n("eCQl");const s=e=>!(0,r.getErrorTitle)(e)&&!(0,r.isSilent)(e),o=e=>{const t=(0,r.getError)(e)||new Error(`${e.type} is being dispatched without an error`);console.error(`Error report triggered by '${e.type} (Silent: ${!!(0,r.isSilent)(e)})`);const n=(0,r.isVisibleErrorAction)(e),o=n||!1!==n&&!(0,r.isSilent)(e);return(0,i.reportError)({error:t,tags:{actionType:e.type,isGenericErrorMessage:s(e),isVisibleToUser:o}})}},"d+x8":function(e,t,n){"use strict";n.d(t,{buildThreadHistoryFromResponse:function(){return i}});var r=n("eFd2");const i=e=>new r.default(e)},d4bX:function(e,t,n){"use strict";n.d(t,{isInPreview:function(){return r}});const r=()=>"true"===new URLSearchParams(window.location.search).get("preview")},dAms:function(e,t,n){"use strict";n.d(t,{ENTRIES:function(){return r},EVICT:function(){return i},ID_INVARIANT:function(){return s},ID_TRANSFORM:function(){return o},NAME:function(){return a},NOT_SET_VALUE:function(){return c}});const r=["entries"],i=["evict"],s=["idInvariant"],o=["idTransform"],a=["name"],c=["notSetValue"]},dEXw:function(e,t,n){"use strict";n.d(t,{fileIsUploadingInThread:function(){return i}});var r=n("MJM1");const i=({localId:e,threadId:t},n)=>Boolean((0,r.default)([t,e],n))},dIRc:function(e,t,n){"use strict";n.d(t,{default:function(){return I}});var r=n("MZef"),i=n("VToG");const s=(0,n("nt9Q").requestStateUpdate)(i.FAILED);var o=n("ImcI"),a=n("uB3n"),c=n("qjq5"),u=n("dAms"),l=n("JoAZ"),d=n("Sbt9"),p=n("OPip");const f=(0,c.default)(((e,t)=>{(0,l.indexedDataInvariant)(t);(0,p.applyIdInvariant)(e,t);const n=(0,d.applyIdTransform)(e,t);return t.updateIn(u.ENTRIES,(e=>e.delete(n)))}));var h=n("eJ3n"),g=n("Y/B+"),m=n("0IK8"),E=n("SmHr"),T=n("A5f/"),y=n("Ut5p"),A=n("+tWo"),b=n("qQrL");const v=(0,a.default)({notSetValue:(0,r.default)({data:null}),idTransform:e=>e,idInvariant:g.messageKeyInvariant});var I=(0,y.handleActions)({[b.PUBLISH_MESSAGE.STARTED](e,t){const{messageKey:n,threadId:r,channel:i,message:s}=t.payload;return(0,h.updateEntry)(n,(0,o.requestStartedWithOperator)((()=>(0,E.default)({threadId:r,channel:i,message:s}))),e)},[b.PUBLISH_MESSAGE.SUCCEEDED](e,t){const{messageKey:n}=t.payload;return f(n,e)},[b.PUBLISH_MESSAGE.FAILED](e,t){const{messageKey:n,threadId:r,channel:i,message:o}=t.payload;return(0,h.updateEntry)(n,s((()=>(0,T.default)({threadId:r,channel:i,message:o}))),e)},[A.REMOVE_MESSAGE_IN_CONVERSATION](e,t){const{message:n}=t.payload,r=(0,m.getId)(n);return f(r,e)}},v)},dIda:function(e,t,n){e.exports=n.dlbpr(1,62)},dK5d:function(e,t,n){"use strict";n.d(t,{setStandardWidgetSize:function(){return f},setWidgetSize:function(){return p}});var r=n("nDpY"),i=n.n(r),s=n("dLEV"),o=n("xZ3y"),a=n("yS+k");const c={width:376,height:530},u={width:416,height:700},l={size:c,shouldBeOverriden:(0,a.getIsPortal53)()||44300118===i().get()},d=(0,s.createSlice)({name:"widgetSize",initialState:l,reducers:{setWidgetSize(e,t){e.size=t.payload},setStandardWidgetSize(e){const t=u.width,n=e.shouldBeOverriden?c.height:u.height;e.size={width:t,height:n}}},extraReducers:e=>{e.addCase(o.GET_WIDGET_DATA_SUCCEEDED,(e=>{const t=u.width,n=e.shouldBeOverriden?c.height:u.height;e.size={width:t,height:n}}))}}),{setWidgetSize:p,setStandardWidgetSize:f}=d.actions;t.default=d.reducer},dLEV:function(e,t,n){"use strict";n.d(t,{configureStore:function(){return I},createAction:function(){return S},createAsyncThunk:function(){return k},createSelector:function(){return s.createSelector},createSlice:function(){return x}});var r=n("4W30"),i=n("+GKH"),s=n("MBJP"),o=n("CJvR"),a=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&f(e,n,t[n]);if(l)for(var n of l(t))p.call(t,n)&&f(e,n,t[n]);return e},g=(e,t)=>c(e,u(t)),m="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?i.compose:i.compose.apply(null,arguments)};function E(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);if(null===t)return!0;let n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var T=class extends Array{constructor(...e){super(...e);Object.setPrototypeOf(this,T.prototype)}static get[Symbol.species](){return T}concat(...e){return super.concat.apply(this,e)}prepend(...e){return 1===e.length&&Array.isArray(e[0])?new T(...e[0].concat(this)):new T(...e.concat(this))}};function y(e){return"boolean"==typeof e}function A(){return function(e){return b(e)}}function b(e={}){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0}=e;let i=new T;t&&(y(t)?i.push(o.default):i.push(o.default.withExtraArgument(t.extraArgument)));0;return i}var v=!0;function I(e){const t=A(),{reducer:n,middleware:r=t(),devTools:s=!0,preloadedState:o,enhancers:a}=e||{};let c;if("function"==typeof n)c=n;else{if(!E(n))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');c=(0,i.combineReducers)(n)}let u=r;if("function"==typeof u){u=u(t);if(!v&&!Array.isArray(u))throw new Error("when using a middleware builder function, an array of middleware must be returned")}if(!v&&u.some((e=>"function"!=typeof e)))throw new Error("each middleware provided to configureStore must be a function");const l=(0,i.applyMiddleware)(...u);let d=i.compose;s&&(d=m(h({trace:!v},"object"==typeof s&&s)));let p=[l];Array.isArray(a)?p=[l,...a]:"function"==typeof a&&(p=a(p));const f=d(...p);return(0,i.createStore)(c,o,f)}function S(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error("prepareAction did not return an object");return h(h({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}n.toString=()=>`${e}`;n.type=e;n.match=t=>t.type===e;return n}function C(e){const t={},n=[];let r;const i={addCase(e,n){0;const r="string"==typeof e?e:e.type;if(r in t)throw new Error("addCase cannot be called with two reducers for the same action type");t[r]=n;return i},addMatcher(e,t){0;n.push({matcher:e,reducer:t});return i},addDefaultCase(e){0;r=e;return i}};e(i);return[t,n,r]}function _(e){return"function"==typeof e}function O(e,t,n=[],i){let s,[o,a,c]="function"==typeof t?C(t):[t,n,i];if(_(e))s=()=>(0,r.default)(e(),(()=>{}));else{const t=(0,r.default)(e,(()=>{}));s=()=>t}function u(e=s(),t){let n=[o[t.type],...a.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];0===n.filter((e=>!!e)).length&&(n=[c]);return n.reduce(((e,n)=>{if(n){if((0,r.isDraft)(e)){const r=n(e,t);return void 0===r?e:r}if((0,r.isDraftable)(e))return(0,r.default)(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}u.getInitialState=s;return u}function R(e,t){return`${e}/${t}`}function x(e){const{name:t}=e;if(!t)throw new Error("`name` is a required option for createSlice");const n="function"==typeof e.initialState?e.initialState:(0,r.default)(e.initialState,(()=>{})),i=e.reducers||{},s=Object.keys(i),o={},a={},c={};s.forEach((e=>{const n=i[e],r=R(t,e);let s,u;if("reducer"in n){s=n.reducer;u=n.prepare}else s=n;o[e]=s;a[r]=s;c[e]=u?S(r,u):S(r)}));function u(){const[t={},r=[],i]="function"==typeof e.extraReducers?C(e.extraReducers):[e.extraReducers],s=h(h({},t),a);return O(n,s,r,i)}let l;return{name:t,reducer(e,t){l||(l=u());return l(e,t)},actions:c,caseReducers:o,getInitialState(){l||(l=u());return l.getInitialState()}}}var w="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",N=(e=21)=>{let t="",n=e;for(;n--;)t+=w[64*Math.random()|0];return t},D=["name","message","stack","code"],L=class{constructor(e,t){this.payload=e;this.meta=t}},M=class{constructor(e,t){this.payload=e;this.meta=t}},P=e=>{if("object"==typeof e&&null!==e){const t={};for(const n of D)"string"==typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}};function k(e,t,n){const r=S(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:g(h({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}))),i=S(e+"/pending",((e,t,n)=>({payload:void 0,meta:g(h({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}))),s=S(e+"/rejected",((e,t,r,i,s)=>({payload:i,error:(n&&n.serializeError||P)(e||"Rejected"),meta:g(h({},s||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})})));const o="undefined"!=typeof AbortController?AbortController:class{constructor(){this.signal={aborted:!1,addEventListener(){},dispatchEvent(){return!1},onabort(){},removeEventListener(){}}}abort(){0}};function a(e){return(a,c,u)=>{const l=(null==n?void 0:n.idGenerator)?n.idGenerator(e):N(),d=new o;let p;const f=new Promise(((e,t)=>d.signal.addEventListener("abort",(()=>t({name:"AbortError",message:p||"Aborted"})))));let h=!1;function g(e){if(h){p=e;d.abort()}}const m=async function(){var o,p;let g;try{let s=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:c,extra:u});B(s)&&(s=await s);if(!1===s)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};h=!0;a(i(l,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:l,arg:e},{getState:c,extra:u})));g=await Promise.race([f,Promise.resolve(t(e,{dispatch:a,getState:c,extra:u,requestId:l,signal:d.signal,rejectWithValue:(e,t)=>new L(e,t),fulfillWithValue:(e,t)=>new M(e,t)})).then((t=>{if(t instanceof L)throw t;return t instanceof M?r(t.payload,l,e,t.meta):r(t,l,e)}))])}catch(t){g=t instanceof L?s(null,l,e,t.payload,t.meta):s(t,l,e)}n&&!n.dispatchConditionRejection&&s.match(g)&&g.meta.condition||a(g);return g}();return Object.assign(m,{abort:g,requestId:l,arg:e,unwrap(){return m.then(U)}})}}return Object.assign(a,{pending:i,rejected:s,fulfilled:r,typePrefix:e})}function U(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function B(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}var{assign:H}=Object,F="listenerMiddleware";S(`${F}/add`),S(`${F}/removeAll`),S(`${F}/remove`);(0,r.enableES5)()},"dML/":function(e,t,n){"use strict";n.d(t,{enoughTimeHasPassedForNewAutomatedChatMessage:function(){return c}});var r=n("DdHT"),i=n("0IK8"),s=n("iPDb");const o=e=>(0,s.getMessages)(e).last();var a=n("BOwv");const c=e=>{if(!e)return!1;const t=(0,r.default)(o,i.getTimestamp)(e);return Date.now()-t>=a.SESSION_EXPIRY_TIME_APPROXIMATION_IN_MS}},dPcB:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n("Rd7q"),i=n("0FzD"),s={ja:{[i.default.COMPANY]:e=>`${e} `,[i.default.CUSTOMER]:e=>`${e} `}};var o=new RegExp("\\p{scx=Han}|\\p{scx=Hangul}|\\p{scx=Hiragana}|\\p{scx=Katakana}","u"),a=({name:e,firstName:t,lastName:n,email:i,titleType:a},c)=>{const u=t&&t.trim(),l=n&&n.trim(),d=e&&e.trim();let p;u||l?u&&!l?p=u:!u&&l&&(p=l):p=d||i||"";if(void 0===p){const e=o.test(l),t=o.test(u);p=e&&t?`${l} ${u}`:`${u} ${l}`}if(a){const e=c&&c.locale||(0,r.default)(),t=s[e]&&s[e][a];t&&(p=t(p))}return p}},dXr0:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-error-reporting":{errorAlert:{message_jsx:function(e,t,n){return e(t,"wrapper",null,"Please try again. If it keeps happening, ",e(t,"Link",{onClick:n.onClick},"let us know"),".")},eventId:"Event Id: {{ eventId }}",errorCode:"Error Code: {{ errorCode }}"},debugOverlay:{title:"Debug Menu",enableLogs:"Enable Logs",disableLogs:"Disable Logs",sendData:"Send Debug Data to HubSpot",debugClipboard:"Debug Clipboard",lastEventMessage:"Debug data sent. Event Id: {{ lastEventId }}"},fatalError:{refreshThePage:"Something's wrong. <br /> Refresh the page or log in again.",contactSupport:"If this keeps happening, please contact support"},generic:{title:"Something went wrong.",message:"Please check your connection and try again.",button:"Try again"}}}})}},da5k:function(e,t,n){"use strict";n.d(t,{loadExistingThread:function(){return o}});var r=n("L9oQ"),i=n("YHaB"),s=n("0fuM");function o({threadId:e}){return t=>{t((0,r.selectThread)(e));t((0,i.updateView)(s.THREAD_VIEW))}}},"du/S":function(e,t,n){"use strict";n.d(t,{getAPIEnableWidgetCookieBannerOnExitIntent:function(){return a}});var r=n("dLEV"),i=n("vStR"),s=n("IbXZ"),o=n("CXrm");const a=(0,r.createSelector)([i.getWidgetUiState],(e=>(0,s.getAPIEnableWidgetCookieBanner)(e)===o.ON_EXIT_INTENT))},eCQl:function(e,t,n){"use strict";n.d(t,{reportError:function(){return p}});var r=n("mEYk"),i=n.n(r),s=n("MJM1");let o;!function(e){e.error="error";e.warning="warning";e.debug="debug";e.critical="critical";e.info="info"}(o||(o={}));const a=2e3,c=["number","description","line","column"],u=["graphQLErrors","networkError","error"],l=e=>{switch(typeof e){case"boolean":case"number":return e;case"string":{const t=e.length>a?"...":"";return`${e.substr(0,a)}${t}`}case"function":return"function() { /* Function removed */ }";case"object":return null===e?e:"/* Object, Error, or Array removed */";default:return}},d=e=>{if(!e)return null;const t=Object.keys(e).filter((e=>!c.includes(e)));return t.length?t.reduce(((t,n)=>{let r=e[n];u.includes(n)&&(r=JSON.stringify(r));const i=l(r);void 0!==i&&(t[n]=i);return t}),{}):null},p=({error:e,fingerprint:t,tags:n={},componentData:r={},extra:a={},level:c=o.error,shouldIgnoreStatusZero:u=!0})=>{if((0===(0,s.default)(["networkError","status"],e)||0===(0,s.default)(["status"],e))&&u){console.error(`Error with: '${e.message}'`);return""}const l=Object.assign({componentDidCatch:"false"},n),p=d(e)||{},f=Object.assign({},l,p,a);i().captureException(e,{fingerprint:t,tags:l,extra:Object.assign({error:f,componentData:r},a),level:c});const h=i().lastEventId();console.error(`(Event Id: ${h})\nError reported with '${e.message}'`);f&&Object.keys(f).forEach((e=>{f[e]&&console.error(`Extra Data [${e}]: `,f[e])}));return h}},eDjq:function(e,t,n){"use strict";n.d(t,{stageSupplementalInitialMessages:function(){return x}});var r=n("k8Ub"),i=n("gGDi"),s=n("hSXG"),o=n("bWKF"),a=n("2Zef"),c=n("6d8N"),u=n("Mjj8"),l=n("tOKt"),d=n("c1C1"),p=n("Avso"),f=n("dLEV"),h=n("RaQM"),g=n("PraE"),m=n("xZ3y"),E=n("QeSX"),T=n("FBcP"),y=n("goDm"),A=n("9XKB"),b=n("jvpr"),v=n("wihT"),I=n("Hjp8"),S=n("Wt04"),C=n("rf4d");const _=(0,f.createAction)(m.GET_SUPPLEMENTAL_INITIAL_MESSAGES),O=(0,f.createAction)(m.GET_SUPPLEMENTAL_INITIAL_MESSAGES_SUCCEEDED),R=(0,f.createAction)(m.GET_SUPPLEMENTAL_INITIAL_MESSAGES_FAILED,(e=>({payload:{error:e}})));function x(){return(e,t)=>{const n=t();if((0,h.getIsWidgetInAwayMode)(n))return Promise.resolve();const f=(0,E.getAssignedResponderInWidget)(n),m=(0,p.getUserId)(f),x=(0,T.getSessionId)(n),w=(0,A.getHubspotUtk)();e(_());return(0,g.fetchSupplementalInitialMessages)({botId:m,sessionId:x,hubspotUtk:w}).then((n=>{const p=n.status!==u.NO_CONTENT&&Array.isArray(n.data)?n.data:[];e(O());p.forEach((({message:n})=>{const u=[],p=(0,r.getQuickReply)(n);p&&u.push(new c.default(p));const f=(0,l.buildInitialMessage)({id:n.id,clientType:n.clientType,sender:(0,s.buildSender)({senderType:(0,o.toCmfSender)(n.senderType)||a.BOT_SENDER,senderId:n.senderId}),status:Object.assign({},n.status),genericChannelId:C.LIVE_CHAT_GENERIC_CHANNEL_ID,attachments:u,text:(0,i.getText)(n),richText:(0,i.getRichText)(n),timestamp:(0,d.generateUniqueClientTimestamp)(),channelInstanceId:(0,b.getChannelInstanceId)(t()),senders:(0,v.buildHubSpotSystemSender)(),recipients:(0,I.buildContactRecipients)({value:(0,S.getMessagesUtk)()})});e((0,y.stageMessageOnStubbedThread)(f))}))})).catch((t=>{e(R(t))}))}}},eEyY:function(e,t,n){"use strict";n.d(t,{getCurrentThreadId:function(){return o}});var r=n("PpSk"),i=n("dLEV"),s=n("k09d");const o=(0,i.createSelector)([s.getSelectedThread],r.getThreadId)},eF9A:function(e,t,n){"use strict";n.d(t,{isAssignmentUpdateMessage:function(){return s}});var r=n("0IK8"),i=n("XF21");const s=e=>(0,r.getTopLevelType)(e)===i.ASSIGNMENT_UPDATE},eFd2:function(e,t,n){"use strict";n.d(t,{default:function(){return I}});var r=n("3RTs"),i=n("QYOI"),s=n("JGJA"),o=n("3Yas");const a=e=>(0,i.Seq)(e).keySeq();o.keySeq.implement(Array,a);o.keySeq.implementInherited(i.Iterable,(e=>e.keySeq()));o.keySeq.implement(Object,a);var c=o.keySeq,u=n("IcZZ"),l=n("6O34"),d=n("Zui/");const p={[d.FILES]:!0,[d.QUICK_REPLIES]:!0,[d.LOCATION]:!0,[d.CONTACT]:!0},f={attachments:(0,i.List)(),genericChannelId:null,messageStatus:null,messageTimestamp:null,senders:(0,i.List)(),truncatedText:"",id:null,timestamp:null},h=(0,i.Record)(f,"DirectReply");function g(e){return e?h(Object.assign({},f,{attachments:(0,u.buildAttachments)(e.attachments,p),genericChannelId:(0,s.default)("genericChannelId",e),messageStatus:(0,s.default)("messageStatus",e),messageTimestamp:(0,s.default)("messageTimestamp",e),senders:(0,l.buildSenders)(e.senders),truncatedText:(0,s.default)("truncatedText",e)})):h()}const m=e=>{const t=(0,s.default)("directReplyMessages",e);if(!t)return(0,i.Map)({directReplyMessages:(0,i.Map)()});const n=c(t).reduce(((e,n)=>{const r=(0,s.default)(n,t);return e.set(n,g(r))}),(0,i.Map)());return(0,i.Map)({directReplyMessages:n})},E=e=>{const t={};if(e){const[n]=e||[],{inResponseToMessageId:r}=n||{};t[r]=e}return t};var T=n("ma7q");const y=["results"];class A extends((0,i.Record)({results:(0,i.OrderedMap)(),hasMore:!1,offset:(0,i.Map)()},"ThreadHistoryMessages")){constructor(e){const{results:t}=e,n=(0,r.default)(e,y);super(Object.assign({},n,{results:(0,T.buildOrderedMessageMap)(t)}))}}const b=["messages","directReplies","friendlyNameResults","replyRecommendations"];class v extends((0,i.Record)({messages:new A({results:(0,i.OrderedMap)(),hasMore:!1,offset:(0,i.Map)()}),visitorLastReadAtTimestamp:0,numSoftDeletedMessages:0,attachments:(0,i.Map)(),directReplies:(0,i.Map)(),friendlyNameResults:[],replyRecommendationsHistory:{},conversationTimelineCursor:{}},"ThreadHistory")){constructor(e={}){const{messages:t={results:(0,i.OrderedMap)(),hasMore:!1,offset:(0,i.Map)()},directReplies:n=(0,i.Map)(),friendlyNameResults:s=[],replyRecommendations:o}=e,a=(0,r.default)(e,b);super(Object.assign({},a,{messages:new A(t),directReplies:m(n),friendlyNameResults:s,replyRecommendationsHistory:E(o)}))}}var I=v},"eH/d":function(e,t,n){"use strict";n.d(t,{hasChatMessageFromAgent:function(){return o}});var r=n("C3IS"),i=n("/OK6"),s=n("iPDb");const o=e=>(0,s.getMessages)(e).some((e=>(0,r.isChatMessage)(e)&&(0,i.isFromAgent)(e)))},eJ3n:function(e,t,n){"use strict";n.d(t,{updateEntry:function(){return d}});var r=n("qjq5"),i=n("dAms"),s=n("JoAZ"),o=n("neHy"),a=n("Oo4n"),c=n("OPip"),u=n("Sbt9"),l=n("x1JE");const d=(0,r.default)(((e,t,n)=>{(0,s.indexedDataInvariant)(n);(0,o.operatorInvariant)(t);(0,c.applyIdInvariant)(e,n);const r=(0,u.applyIdTransform)(e,n),d=e=>e.update(r,(0,l.getNotSetValue)(n),t);return(0,a.applyEvict)(n.updateIn(i.ENTRIES,d))}))},eLSo:function(e,t,n){"use strict";var r=n("0JoJ"),i=n("yK3D");const s={post(e,t){return(0,i.default)(r.default.post,e,t)},put(e,t){return(0,i.default)(r.default.put,e,t)},get(e,t){return(0,i.default)(r.default.get,e,t)},getWithResponse(e,t){return(0,i.default)(r.default.getWithResponse,e,t)},delete(e,t){return(0,i.default)(r.default.delete,e,t)}};t.default=s},eLkp:function(e,t,n){"use strict";n.d(t,{getGdprConsentToProcessEnabledForChatflow:function(){return o}});var r=n("dLEV"),i=n("LgEy"),s=n("49A5");const o=(0,r.createSelector)([s.getLatestWidgetData],(e=>(0,i.gdprConsentToProcessEnabled)(e)))},eSJp:function(e,t,n){"use strict";n.d(t,{responderKeyInvariant:function(){return o}});var r=n("Gc2C"),i=n("BGhm"),s=n("NL4B");const o=e=>{const t=(0,s.getId)(e),n=(0,s.getType)(e);(0,r.default)(!!t,"Responder ID must be set in the key map");(0,i.numberIdInvariant)(t);(0,r.default)(!!n,"Responder type must be set in the key map")}},eXJ2:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});function r(e){return"object"==typeof e&&e?"function"==typeof e.toJS?e.toJS():"function"==typeof e.toJSON?e.toJSON():e:e}},eeeG:function(e,t,n){"use strict";n.d(t,{setMessage:function(){return a}});var r=n("qjq5"),i=n("bYG+"),s=n("xCrP"),o=n("/He/");const a=(0,r.default)(((e,t,n)=>(0,s.default)(o.MESSAGE_RESULTS,(0,i.default)(e,t),n)))},eg5p:function(e,t,n){"use strict";n.d(t,{STUBBED_THREAD_ID:function(){return r}});const r=0},ejMo:function(e,t,n){"use strict";var r=n("QYOI"),i=n("6GFX");class s extends((0,r.Record)({file:null,localId:"",fileId:-1,uploadProgress:0},"FileUploadRecord")){constructor(e={}){super(Object.assign({},e,{localId:(0,i.generateIdForFile)({file:e.file||null,timestamp:Date.now()})}))}}t.default=s},ejs7:function(e,t,n){"use strict";n.d(t,{getPubSubMessage:function(){return i}});var r=n("wL7V");const i=e=>(0,r.getMessage)(e)||e},elDb:function(e,t,n){"use strict";n.d(t,{getCustomEmailCaptureDelay:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("8dR1");const o=(0,r.createSelector)(s.getWelcomeMessage,(0,i.default)("customEmailCaptureDelay"))},enlr:function(e,t,n){"use strict";n.d(t,{getKBArticle:function(){return i},getOriginViewContext:function(){return s},getShouldViewKBArticleExpanded:function(){return o},useKBArticle:function(){return a},useKBArticleOriginViewContext:function(){return c}});var r=n("TyWi");const i=e=>e.kbArticle.data,s=e=>e.kbArticle.originViewContext,o=e=>e.kbArticle.viewExpanded,a=()=>(0,r.useAppSelector)(i),c=()=>(0,r.useAppSelector)(s)},esZR:function(e,t,n){"use strict";n.d(t,{stageInitialMessage:function(){return y}});var r=n("2Zef"),i=n("v0wH"),s=n("hSXG"),o=n("tOKt"),a=n("c1C1"),c=n("Avso"),u=n("2kog"),l=n("4fgK"),d=n("goDm"),p=n("Jcmd"),f=n("eDjq"),h=n("jvpr"),g=n("wihT"),m=n("Hjp8"),E=n("Wt04"),T=n("rf4d");function y(e){return(t,n)=>{const y=n(),A=(0,l.getIsBot)(y),b=(0,u.getInitialResponder)(y),v=(0,c.getUserId)(b),I=(0,a.generateUniqueClientTimestamp)(),S=(0,o.buildInitialMessage)({sender:(0,s.buildSender)({senderType:A?r.BOT_SENDER:r.AGENT_SENDER,senderId:v}),status:{messageStatus:i.SENT,timestamp:I},genericChannelId:T.LIVE_CHAT_GENERIC_CHANNEL_ID,richText:(0,p.getFirstMessageText)(y),text:(0,p.getFirstMessageText)(y),timestamp:I,channelInstanceId:(0,h.getChannelInstanceId)(n()),senders:(0,g.buildHubSpotSystemSender)(),recipients:(0,m.buildContactRecipients)({value:(0,E.getMessagesUtk)()})});t((0,d.stageMessageOnStubbedThread)(S,e));A&&t((0,f.stageSupplementalInitialMessages)()).catch((e=>{setTimeout((()=>{throw e}))}))}}},f3U3:function(e,t,n){"use strict";n.d(t,{default:function(){return R}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("9f1P"),a=n.n(o),c=n("CR0J");const u="default",l="on-dark";var d=n("seb2"),p=n("57op"),f=n("iKGd");const h=p.getDisabledBackgroundColor,g=p.getDisabledTextColor,m=p.getPlaceholderTextColor,E=p.getPrimaryColor,T=()=>f.WHITE;var y=n("QOxE"),A=n("W5Gz");const b=["placeholder","suffix","prefix","disabled","value","onChange","containerStyles","theme","use","focus"],v=({use:e})=>e===l?(0,o.css)(["background-color:",";"],T()):null,I=({theme:e})=>(0,o.css)(["cursor:not-allowed;background-color:",";"],h(e)),S=({theme:e})=>(0,o.css)(["color:",";cursor:not-allowed;&::after{color:",";}"],g(e),g(e)),C=a().input.withConfig({displayName:"VizExInput__StyledTextInput"})(["",";width:100%;padding-left:10px;padding-right:10px;border:none;background:transparent;",";:focus{outline:none;}::placeholder{color:",";}height:32px;border-radius:4px;font-size:12px;line-height:24px;font-weight:400px;"],d.getBodyTypographyStyles,(e=>e.disabled&&S(e)),(({theme:e})=>m(e))),_=a().div.withConfig({displayName:"VizExInput__InputContainer"})(["line-height:22px;font-size:16px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;border:1px solid;height:32px;border-radius:4px;border-color:",";background-color:",";:focus-within{border-color:",";}"," ",";"],(({theme:e,focus:t})=>t?E(e):(0,p.getInputBorderColor)(e)),(({theme:e})=>(0,p.getInputBackgroundColor)(e)),(({theme:e})=>E(e)),v,(e=>e.disabled&&I(e))),O=(0,y.forwardRef)(((e,t)=>{let{placeholder:n="",suffix:i,prefix:s,disabled:o,value:a,onChange:c,containerStyles:u,theme:l,use:d,focus:p}=e,f=(0,r.default)(e,b);return(0,A.jsxs)(_,{disabled:o,style:u,theme:l,use:d,focus:p,"data-test-id":"VizExInput-Container",children:[s,(0,A.jsx)(C,Object.assign({"aria-disabled":o,disabled:o,placeholder:n,value:a,onChange:c,theme:l,use:d,"data-test-id":"VizExInput-Input",ref:t},f)),i]})}));O.displayName="VizExInput";O.propTypes={containerStyles:s().object,disabled:s().bool,focus:s().bool,onChange:s().func,placeholder:s().string,prefix:s().node,suffix:s().node,theme:c.default,use:s().oneOf([u,l]),value:s().string};var R=O},fKJZ:function(e,t,n){"use strict";var r=n("+/QE"),i=n.n(r),s=n("mKxs");t.default=i().oneOfType([(0,s.default)("CompanyChatHeadingConfig"),(0,s.default)("OwnerChatHeadingConfig"),(0,s.default)("UsersAndTeamsChatHeadingConfig")])},fPyn:function(e,t,n){"use strict";n.d(t,{buildStatus:function(){return o}});var r=n("MJM1"),i=n("NRxt"),s=n("ubOH");const o=e=>{const t=(0,r.default)(["sendFailure"],e),n=t?(0,i.default)(t):null;return(0,s.default)(e).setIn(["sendFailure"],n)}},"fT+s":function(e,t,n){"use strict";n.d(t,{fetchVisitorThreads:function(){return y},navigateToMostRecentThread:function(){return A}});var r=n("3RTs"),i=n("Ut5p"),s=n("xZ3y"),o=n("wQJz"),a=n("da5k"),c=n("scwY"),u=n("NQPJ"),l=n("nzmY"),d=n("FBcP"),p=n("mEYk"),f=n.n(p),h=n("z3H0");const g=["responder","threadId","threadPreview","channelDetails"],m=(0,i.createAction)(s.GET_VISITOR_THREADS_STARTED),E=(0,i.createAction)(s.GET_VISITOR_THREADS_SUCCESS,(({threads:e})=>({threads:e.map((e=>{const{responder:t,threadId:n,threadPreview:i,channelDetails:s}=e,a=(0,r.default)(e,g),c=t?(0,o.default)(t):null;return(0,l.buildThread)(Object.assign({responder:c,threadId:n,threadPreview:i,channelDetails:s},a))}))}))),T=(0,i.createAction)(s.GET_VISITOR_THREADS_FAILURE,(e=>e));function y(){return(e,t)=>{e(m());const n=(0,d.getSessionId)(t());return(0,u.fetchVisitorThreads)({sessionId:n}).then((t=>{e(E({threads:t}))})).catch((t=>{e(T(t));"Network Unavailable"!==t.message&&f().captureException(t)}))}}function A(){return(e,t)=>{const n=(0,h.getMostRecentNonTransferredOpenThread)(t());if(n){const{threadId:t,channel:r}=n;e((0,a.loadExistingThread)({threadId:t,channel:r}))}else e((0,c.loadStagedThread)())}}},fZy4:function(e,t,n){"use strict";n.d(t,{publishTypicalResponseTimeMessage:function(){return m}});var r=n("Mx3c"),i=n("MfaD"),s=n("uXUH"),o=n("nS6h"),a=n("y5/z"),c=n("IA0z"),u=n("BvOu"),l=n("v0wH"),d=n("rf4d"),p=n("wihT"),f=n("jvpr"),h=n("Wt04"),g=n("Hjp8");const m=({channel:e,threadId:t})=>(n,m)=>{const E=r.SYSTEM,T=new i.default({id:(0,u.generateUuid)(),text:(0,s.getAvailabilityTypicalResponseTimeMessage)(m()),sender:{"@type":E},status:{messageStatus:l.SENT},genericChannelId:d.LIVE_CHAT_GENERIC_CHANNEL_ID,channelInstanceId:(0,f.getChannelInstanceId)(m()),senders:(0,p.buildHubSpotSystemSender)(),recipients:(0,g.buildContactRecipients)({value:(0,h.getMessagesUtk)()})});n((0,o.publishMessageToConversation)({channel:e,message:T,threadId:t}));n((0,a.trackInteraction)(c.EVENT_NAMES.WIDGET_INTERACTION,{action:"view reply time"}))}},ffqu:function(e,t,n){"use strict";n.d(t,{RESET_STUBBED_THREAD:function(){return i},STAGE_MESSAGE_ON_STUBBED_THREAD:function(){return r}});const r="STAGE_MESSAGE_ON_STUBBED_THREAD",i="RESET_STUBBED_THREAD"},fjpq:function(e,t,n){"use strict";n.d(t,{FETCH_AGENT_RESPONDER:function(){return r}});const r=(0,n("VVfI").createAsyncActionTypes)("FETCH_AGENT_RESPONDER")},fogE:function(e,t,n){"use strict";n.d(t,{silenceErrorAlert:function(){return i}});var r=n("BDi3");const i=({isVisibleToUser:e=!1,ignoreStatusCodes:t=[0],ignore:n=!1,error:i}={})=>{i&&t.some((e=>e===i.status))&&(n=!0);return(0,r.buildErrorMetaObject)({silent:!0,isVisibleToUser:e,ignore:n})}},fwMr:function(e,t,n){"use strict";var r=n("QYOI"),i=n("Blk5"),s=n("BvOu"),o=n("c1C1");class a extends((0,r.Record)({"@type":i.TICKET_CREATION_FAILURE,id:null,timestamp:null},"TicketCreationFailureMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,s.generateUuid)(),timestamp:e.timestamp||(0,o.generateUniqueClientTimestamp)("ticketCreationFailure-timestamp")})).filterNot((e=>void 0===e)))}}t.default=a},"g/i1":function(e,t,n){"use strict";n.d(t,{getColoring:function(){return o}});var r=n("dLEV"),i=n("kHIv"),s=n("49A5");const o=(0,r.createSelector)(s.getLatestWidgetData,i.getColoring)},g2vQ:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-message-history":{status:{closed:"This thread was closed on {{ dateString }}",restore:"Restore this message",publishing:{UNPUBLISHED:"Sending... ",PUBLISH_FAILED:"Not delivered. Click to retry."}}}}})}},g4ag:function(e,t,n){"use strict";var r=n("TBI5"),i=n("qjq5");t.default=(0,i.default)(r.default)},g9mg:function(e,t,n){"use strict";n.d(t,{FAILED:function(){return o},PENDING:function(){return i},SUCCEEDED:function(){return s},UNINITIALIZED:function(){return r}});const r="UNINITIALIZED",i="PENDING",s="SUCCEEDED",o="FAILED"},gA4F:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{conversationsVisitorUIPageTitleNotifications:{newMessage:"New Message"}}})}},gD8A:function(e,t,n){"use strict";n.d(t,{updateVisitorContext:function(){return i}});var r=n("eLSo");function i({currentUrl:e,sessionId:t,threadId:n}){return r.default.put(`livechat-public/v1/thread/visitor/${n}/currentUrl`,{query:{sessionId:t,threadId:n},data:{currentUrl:e}})}},gGDi:function(e,t,n){"use strict";n.d(t,{getRichText:function(){return d},getText:function(){return p}});var r=n("MJM1");const i=["clientType"],s=["id"],o=["richText"],a=["sender"],c=["status"],u=["text"],l=["timestamp"],d=((0,r.default)(i),(0,r.default)(s),(0,r.default)(o)),p=((0,r.default)(a),(0,r.default)(c),(0,r.default)(u));(0,r.default)(l)},gGhY:function(e){"use strict";e.exports={mode:"compressed",staticDomainPrefix:"//static.hsappstatic.net",bender:{depVersions:{"conversations-visitor-ui":"static-1.26906",ably:"static-2.2","conversations-async-data":"static-2.6964","conversations-error-reporting":"static-1.8236","conversations-internal-pub-sub":"static-1.15322","conversations-internal-schema":"static-1.11964","conversations-message-history":"static-1.10493","conversations-test-sdk":"static-1.9776","conversations-visitor-experience-components":"static-1.20269","head-dlb":"static-1.4360","hs-promise-utils":"static-1.4841","hs-test-utils":"static-1.7320","hubspot-dlb":"static-2.1707",HubStyleTokens:"static-2.10831",I18n:"static-7.1450","jasmine-immutable":"static-1.2281","jasmine-runner":"static-1.5740",quartz:"static-1.6125","react-dlb":"static-1.61","react-transition-group":"static-2.8","redux-thunk":"static-2.43",transmute:"static-2.75",urlinator:"static-1.3856","viral-links-lib":"static-1.6224","visitor-ui-component-library":"static-1.5487","webpack-env":"static-1.54","ably-hubspot-js":"static-2.3883",atom:"static-1.4468",autolinker:"static-3.11",classnames:"static-2.10","conversations-http":"static-1.4109","conversations-infrastructure":"static-1.8256","conversations-prop-types":"static-1.6758","conversations-visibility-tools":"static-1.5088","conversations-visitor-message-history":"static-1.19006",cssUtils:"static-1.596",enviro:"static-4.328","flux-actions":"static-1.286","hs-lodash":"static-4.45","hub-http":"static-1.5499","hubspot-url-utils":"static-1.3531",immer:"static-1.33",immutable:"static-2.19","metrics-js":"static-1.9058",PatternValidationJS:"static-1.437",PortalIdParser:"static-2.306",raven:"static-3.5229",react:"static-7.151","react-aria":"static-1.44","react-dom":"static-7.85","react-redux":"static-7.16","react-rhumb":"static-1.15910","react-select-plus":"static-1.65","react-utils":"static-2.4720",redux:"static-4.16","redux-toolkit":"static-1.7",reselect:"static-2.16",sanitize:"static-1.3693","sanitize-text":"static-1.7469","signup-constants":"static-1.17455","styled-components":"static-2.64",StyleGuideUI:"static-3.475","usage-tracker":"static-1.6756","usage-tracker-core":"static-1.6606","usage-tracker-multi":"static-1.5170","usage-tracker-public":"static-1.6567","visitor-ui-component-library-icons":"static-1.5298","hs-promise-rejection-tracking":"static-1.4750","raven-hubspot":"static-1.5536","hoist-non-react-statics":"static-3.9","bend-plugin-trellis-migration":"static-1.2865",moment:"static-3.26","quartz-core":"static-1.5344","react-immutable-proptypes":"static-2.8","foundations-assets":"static-1.4186","foundations-components":"static-1.6815","foundations-theming":"static-1.3659",UIComponents:"static-3.7778","cv-backend-services":"static-1.1327","immutable-less":"static-1.3876","conversations-skeleton-state":"static-1.6680",icons:"static-2.593","react-input-autosize":"static-2.17","react-virtualized":"static-2.81","rpc-client-utils":"static-1.4024","ui-images":"static-2.961","permission-components":"static-1.4670",HeadJS:"static-2.622","framer-motion":"static-1.52","hs-test-utils-bend-plugin":"static-1.2431",msw:"static-1.39","testing-library":"static-1.134","i18n-data":"static-1.207","moment-timezone":"static-5.67",jasmine:"static-4.3638","quartz-core-utils":"static-1.2992","signup-ui-url-generator":"static-2.7393",HubStyle:"static-2.11139",sassPrefix:"static-1.140",csstype:"static-1.50",history:"static-4.47","usage-tracker-anonymous":"static-1.5173",dispatcher:"static-1.121","general-store":"static-6.20","hub-http-janus":"static-1.696","hub-http-shared-msw-handlers":"static-1.8345","hubspotter-http":"static-1.3981","hubspotter-http-shared-msw-handlers":"static-1.8343","mobile-manifest-mixins":"static-1.393","platform-navigation-bootstrap":"static-1.11809","quick-fetch":"static-1.2772","react-router-dom":"static-5.26","ui-fonts":"static-1.333","hs-story-utils":"static-1.8683","bend-plugin-foundations-components":"static-1.3084","floating-ui":"static-1.40","foundations-theming-specialty":"static-1.1375","tanstack-table":"static-1.23","bend-plugin-foundations-theming":"static-1.2142","foundations-theming-base":"static-1.2644","ts-schema":"static-1.3508","platform-infra-nav-components":"static-1.7091"},depPathPrefixes:{"conversations-visitor-ui":"/conversations-visitor-ui/static-1.26906",ably:"/ably/static-2.2","conversations-async-data":"/conversations-async-data/static-2.6964","conversations-error-reporting":"/conversations-error-reporting/static-1.8236","conversations-internal-pub-sub":"/conversations-internal-pub-sub/static-1.15322","conversations-internal-schema":"/conversations-internal-schema/static-1.11964","conversations-message-history":"/conversations-message-history/static-1.10493","conversations-test-sdk":"/conversations-test-sdk/static-1.9776","conversations-visitor-experience-components":"/conversations-visitor-experience-components/static-1.20269","head-dlb":"/head-dlb/static-1.4360","hs-promise-utils":"/hs-promise-utils/static-1.4841","hs-test-utils":"/hs-test-utils/static-1.7320","hubspot-dlb":"/hubspot-dlb/static-2.1707",HubStyleTokens:"/HubStyleTokens/static-2.10831",I18n:"/I18n/static-7.1450","jasmine-immutable":"/jasmine-immutable/static-1.2281","jasmine-runner":"/jasmine-runner/static-1.5740",quartz:"/quartz/static-1.6125","react-dlb":"/react-dlb/static-1.61","react-transition-group":"/react-transition-group/static-2.8","redux-thunk":"/redux-thunk/static-2.43",transmute:"/transmute/static-2.75",urlinator:"/urlinator/static-1.3856","viral-links-lib":"/viral-links-lib/static-1.6224","visitor-ui-component-library":"/visitor-ui-component-library/static-1.5487","webpack-env":"/webpack-env/static-1.54","ably-hubspot-js":"/ably-hubspot-js/static-2.3883",atom:"/atom/static-1.4468",autolinker:"/autolinker/static-3.11",classnames:"/classnames/static-2.10","conversations-http":"/conversations-http/static-1.4109","conversations-infrastructure":"/conversations-infrastructure/static-1.8256","conversations-prop-types":"/conversations-prop-types/static-1.6758","conversations-visibility-tools":"/conversations-visibility-tools/static-1.5088","conversations-visitor-message-history":"/conversations-visitor-message-history/static-1.19006",cssUtils:"/cssUtils/static-1.596",enviro:"/enviro/static-4.328","flux-actions":"/flux-actions/static-1.286","hs-lodash":"/hs-lodash/static-4.45","hub-http":"/hub-http/static-1.5499","hubspot-url-utils":"/hubspot-url-utils/static-1.3531",immer:"/immer/static-1.33",immutable:"/immutable/static-2.19","metrics-js":"/metrics-js/static-1.9058",PatternValidationJS:"/PatternValidationJS/static-1.437",PortalIdParser:"/PortalIdParser/static-2.306",raven:"/raven/static-3.5229",react:"/react/static-7.151","react-aria":"/react-aria/static-1.44","react-dom":"/react-dom/static-7.85","react-redux":"/react-redux/static-7.16","react-rhumb":"/react-rhumb/static-1.15910","react-select-plus":"/react-select-plus/static-1.65","react-utils":"/react-utils/static-2.4720",redux:"/redux/static-4.16","redux-toolkit":"/redux-toolkit/static-1.7",reselect:"/reselect/static-2.16",sanitize:"/sanitize/static-1.3693","sanitize-text":"/sanitize-text/static-1.7469","signup-constants":"/signup-constants/static-1.17455","styled-components":"/styled-components/static-2.64",StyleGuideUI:"/StyleGuideUI/static-3.475","usage-tracker":"/usage-tracker/static-1.6756","usage-tracker-core":"/usage-tracker-core/static-1.6606","usage-tracker-multi":"/usage-tracker-multi/static-1.5170","usage-tracker-public":"/usage-tracker-public/static-1.6567","visitor-ui-component-library-icons":"/visitor-ui-component-library-icons/static-1.5298","hs-promise-rejection-tracking":"/hs-promise-rejection-tracking/static-1.4750","raven-hubspot":"/raven-hubspot/static-1.5536","hoist-non-react-statics":"/hoist-non-react-statics/static-3.9","bend-plugin-trellis-migration":"/bend-plugin-trellis-migration/static-1.2865",moment:"/moment/static-3.26","quartz-core":"/quartz-core/static-1.5344","react-immutable-proptypes":"/react-immutable-proptypes/static-2.8","foundations-assets":"/foundations-assets/static-1.4186","foundations-components":"/foundations-components/static-1.6815","foundations-theming":"/foundations-theming/static-1.3659",UIComponents:"/UIComponents/static-3.7778","cv-backend-services":"/cv-backend-services/static-1.1327","immutable-less":"/immutable-less/static-1.3876","conversations-skeleton-state":"/conversations-skeleton-state/static-1.6680",icons:"/icons/static-2.593","react-input-autosize":"/react-input-autosize/static-2.17","react-virtualized":"/react-virtualized/static-2.81","rpc-client-utils":"/rpc-client-utils/static-1.4024","ui-images":"/ui-images/static-2.961","permission-components":"/permission-components/static-1.4670",HeadJS:"/HeadJS/static-2.622","framer-motion":"/framer-motion/static-1.52","hs-test-utils-bend-plugin":"/hs-test-utils-bend-plugin/static-1.2431",msw:"/msw/static-1.39","testing-library":"/testing-library/static-1.134","i18n-data":"/i18n-data/static-1.207","moment-timezone":"/moment-timezone/static-5.67",jasmine:"/jasmine/static-4.3638","quartz-core-utils":"/quartz-core-utils/static-1.2992","signup-ui-url-generator":"/signup-ui-url-generator/static-2.7393",HubStyle:"/HubStyle/static-2.11139",sassPrefix:"/sassPrefix/static-1.140",csstype:"/csstype/static-1.50",history:"/history/static-4.47","usage-tracker-anonymous":"/usage-tracker-anonymous/static-1.5173",dispatcher:"/dispatcher/static-1.121","general-store":"/general-store/static-6.20","hub-http-janus":"/hub-http-janus/static-1.696","hub-http-shared-msw-handlers":"/hub-http-shared-msw-handlers/static-1.8345","hubspotter-http":"/hubspotter-http/static-1.3981","hubspotter-http-shared-msw-handlers":"/hubspotter-http-shared-msw-handlers/static-1.8343","mobile-manifest-mixins":"/mobile-manifest-mixins/static-1.393","platform-navigation-bootstrap":"/platform-navigation-bootstrap/static-1.11809","quick-fetch":"/quick-fetch/static-1.2772","react-router-dom":"/react-router-dom/static-5.26","ui-fonts":"/ui-fonts/static-1.333","hs-story-utils":"/hs-story-utils/static-1.8683","bend-plugin-foundations-components":"/bend-plugin-foundations-components/static-1.3084","floating-ui":"/floating-ui/static-1.40","foundations-theming-specialty":"/foundations-theming-specialty/static-1.1375","tanstack-table":"/tanstack-table/static-1.23","bend-plugin-foundations-theming":"/bend-plugin-foundations-theming/static-1.2142","foundations-theming-base":"/foundations-theming-base/static-1.2644","ts-schema":"/ts-schema/static-1.3508","platform-infra-nav-components":"/platform-infra-nav-components/static-1.7091"},project:"conversations-visitor-ui",staticDomain:"//static.hsappstatic.net",staticDomainPrefix:"//static.hsappstatic.net"}}},gIOm:function(e,t,n){"use strict";var r=n("PpSk"),i=n("eg5p"),s=n("xZ3y"),o=n("DPiE"),a=n("21jQ"),c=n("XF6m"),u=n("Jk+u"),l=n("6Y5w"),d=n("0IK8"),p=n("nf9S"),f=n("0PDK"),h=n("vuNk"),g=n("Qvwz");const m=({store:e,conversation:t,messageTimestamp:n})=>{e.dispatch((0,o.markLastMessageReadByVisitor)({conversation:t,messageTimestamp:n}))},E=e=>t=>n=>{const o=e.getState(),E=(0,f.getSelectedThreadId)(o),T=(0,a.getIsOpen)(o);if(n.type===g.SELECT_THREAD){const{threadId:t}=n.payload,s=(0,h.getThreadByThreadId)(o,{threadId:t}),a=(0,r.getChannelName)(s);if(t&&s){const n=(0,f.getSelectedThreadId)(o);if(n!==i.STUBBED_THREAD_ID&&t!==i.STUBBED_THREAD_ID&&n!==t&&T){m({store:e,conversation:s});e.dispatch((0,c.clearUnseenCountForChannel)({channel:a,threadId:t}))}}}if(n.type===s.RECEIVED_INCOMING_MESSAGE){const t=e.getState(),{channel:r,message:i,threadId:s}=n.payload;if(r&&(0,p.isConversationalMessage)(i)&&!(0,l.sentByVisitorClient)(i)&&(0,u.isActiveOnThread)(t,s)){const t=(0,h.getThreadByThreadId)(o,{threadId:s}),n=(0,d.getTimestamp)(i);m({store:e,conversation:t,messageTimestamp:n});e.dispatch((0,c.clearUnseenCountForChannel)({threadId:s}))}}const y=(0,h.getThreadByThreadId)(o,{threadId:E});if(n.type===s.APP_IN_FOREGROUND&&T&&y){m({store:e,conversation:y});e.dispatch((0,c.clearUnseenCountForChannel)({threadId:E}))}if(n.type===s.TOGGLE_OPEN){const{isOpened:t}=n.payload||{};if(t&&y){m({store:e,conversation:y});e.dispatch((0,c.clearUnseenCountForChannel)({threadId:E}))}}return t(n)};t.default=E},gIaP:function(e,t,n){"use strict";n.d(t,{buildResolvedAttachmentsMapFromResponse:function(){return o}});var r=n("6xui"),i=n("QYOI"),s=n("XkPn");const o=e=>(0,r.default)((0,i.Map)(),((e,t={},n)=>{const r=parseInt(n,10),i=new s.default(Object.assign({},t,{fileId:r}));return e.set(r,i)}),e)},gJOx:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});const r=(0,n("JGJA").default)("availabilityMessageTimeouts")},gQ5O:function(e,t,n){"use strict";n.d(t,{FILE_MANAGER_API_PREFIX:function(){return r},MAX_FILE_SIZE:function(){return i},MAX_FILE_SIZE_PORTAL_53:function(){return s},MAX_UPLOAD_PROGRESS_PERCENTAGE:function(){return o}});const r="filemanager/api",i=10485760,s=1e8,o=95},gjm2:function(e,t,n){"use strict";var r=n("QYOI"),i=n("3Yas");i.reduce.implement(Array,((e,t,n)=>n.reduce(t,e)));i.reduce.implement(Object,((e,t,n)=>{const r=Object.keys(n),i=r.length;let s=e;for(let e=0;e<i;e++){const i=r[e];s=t(s,n[i],i,n)}return s}));i.reduce.implementInherited(r.Iterable,((e,t,n)=>n.reduce(t,e)));t.default=i.reduce},glWH:function(e,t,n){"use strict";n.d(t,{fetchCategoryArticles:function(){return c}});var r=n("dLEV"),i=n("zTcI"),s=n("mEYk"),o=n.n(s),a=n("32pP");const c=(0,r.createAsyncThunk)("articles/fetchCategoryArticles",(({categoryId:e,knowledgeBaseId:t,knowledgeBaseUrl:n},{getState:r})=>{const s=r(),c=(0,a.getVisitorIdentification)(s),{identificationToken:u,identificationEmail:l}=c;return(0,i.getCategoryArticles)({categoryId:e,knowledgeBaseId:t,knowledgeBaseUrl:n,identificationToken:u,email:l}).then((e=>e)).catch((e=>{o().captureException(e);throw e}))}))},goDm:function(e,t,n){"use strict";n.d(t,{stageMessageOnStubbedThread:function(){return s}});var r=n("dLEV"),i=n("ffqu");const s=(0,r.createAction)(i.STAGE_MESSAGE_ON_STUBBED_THREAD,((e,t=!1)=>({payload:{message:e,shouldRetainFailureState:t}})))},goEE:function(e,t,n){"use strict";n.d(t,{getSortedMessagesByThreadId:function(){return o}});var r=n("PpSk"),i=n("0IK8"),s=n("wL7V");const o=(e,t)=>e.filter((e=>(0,r.getThreadId)(e)===t)).sort(((e,t)=>{const n=(0,s.getMessage)(e),r=(0,s.getMessage)(t);return(0,i.getTimestamp)(n)-(0,i.getTimestamp)(r)}))},gwVP:function(e){function t(e){return null!=e&&"object"==typeof e}e.exports=t},gygH:function(e,t,n){"use strict";n.d(t,{handleAttachmentUploadProgress:function(){return s}});var r=n("gQ5O"),i=n("qgyf");const s=({localId:e,threadId:t,loaded:n,total:s})=>o=>{const a=n/s*r.MAX_UPLOAD_PROGRESS_PERCENTAGE;o((0,i.attachmentUploadProgress)({localId:e,threadId:t,progress:a}))}},h027:function(e,t,n){"use strict";n.d(t,{hasAgentReplyFromCurrentSession:function(){return l}});function r(e,t,n){return!(!e(n)||!t(n))}var i=(0,n("qjq5").default)(r),s=n("V+nC"),o=n("/OK6"),a=n("mE3N"),c=n("kWFB"),u=n("iPDb");const l=e=>{if(!e||!(0,c.hasMessages)(e))return!1;const t=(0,u.getMessages)(e).findLast(i((e=>!(0,s.isInitialMessage)(e)),o.isFromAgent));return!(!t||!(0,a.getMessageIsApproximatelyFromCurrentSession)(t))}},h4aM:function(e,t,n){"use strict";n.d(t,{hasMinimumMobileSdkVersion:function(){return a},isInSDK:function(){return o}});const r=/Hub[sS]pot ?Mobile ?SDK/,i=/\/(\d+\.\d+\.\d+)/,s=new RegExp(r.source+i.source),o=()=>r.test(window.navigator.userAgent),a=({minMajor:e,minMinor:t,minPatch:n})=>{const r=window.navigator.userAgent.match(s);if(!r)return!1;const[,i]=r,[o,a,c]=i.split(".").map(Number);return o>e||o===e&&a>t||o===e&&a===t&&c>=n}},hSXG:function(e,t,n){"use strict";n.d(t,{buildSender:function(){return c}});var r=n("QYOI"),i=n("Gc2C"),s=n("2Zef"),o=n("cPs9");const a=Object.keys(s).map((e=>s[e])),c=({senderType:e,senderId:t})=>{(0,i.default)(a.includes(e),`Invalid sender type. Should be one of ${a.join(" | ")}. Received %s`,e);const n=(0,o.getSenderKeyFromType)(e);return null===n?(0,r.Map)({"@type":e}):(0,r.Map)({"@type":e,[n]:t})}},hTKa:function(e,t,n){"use strict";n.d(t,{getSendFromResponders:function(){return u}});var r=n("dLEV"),i=n("QYOI"),s=n("kHIv");const o=3,a=e=>{const t=(0,s.getSendFrom)(e);return t&&t.size>0?t.take(o):(0,i.List)()};var c=n("49A5");const u=(0,r.createSelector)([c.getLatestWidgetData],a)},heCN:function(e,t,n){"use strict";n.d(t,{THREAD_PAUSED_ON_GENERIC_CHANNEL:function(){return r}});const r="THREAD_PAUSED_ON_GENERIC_CHANNEL"},hj2G:function(e,t,n){"use strict";n.d(t,{gdprCookieConsentPrompt:function(){return o}});var r=n("DdHT"),i=n("kHIv"),s=n("VvTX");const o=(0,r.default)(i.getMessage,s.getGdprCookieConsentPrompt)},hmFr:function(e,t,n){"use strict";n.d(t,{getIsIOSMobile:function(){return s}});var r=n("dLEV"),i=n("vStR");const s=(0,r.createSelector)([i.getWidgetUiState],(e=>e.isIOSMobile))},hwHA:function(e,t,n){"use strict";n.d(t,{clickedViralLink:function(){return E},toggleOpen:function(){return m}});var r=n("dLEV"),i=n("21jQ"),s=n("xZ3y"),o=n("y5/z"),a=n("zry8"),c=n("Tvz2"),u=n("IA0z"),l=n("FAYk"),d=n("ombE"),p=n("0fuM"),f=n("G53s"),h=n("KqYL");const g=(0,r.createAction)(s.TOGGLE_OPEN,(({isOpened:e,isUser:t})=>({payload:{isOpened:e,isUser:t||!1}})));function m({isOpened:e,isUser:t,openedFrom:n}){return(r,s)=>{const m=(0,f.getIsUngatedForCustomerAgentPrompts)(s()),E=(0,h.getIsAIChatbot)(s());if(e!==(0,i.getIsOpen)(s())){const i=t?"user open widget":"system open widget";r((0,o.trackInteraction)(u.EVENT_NAMES.WIDGET_INTERACTION,{action:e?i:"close widget",openedFrom:n,isUngatedForCustomerAgentPrompts:m,isAIChatbot:E}));r(g({isOpened:e,isUser:t}));(0,a.handleOpenChange)(e,t);e||(0,c.postWidgetClosedEvent)();let f=!1;if(!f&&(0,l.getKnowledgeBaseEnabled)(s())&&(0,d.getCurrentView)(s())===p.THREAD_LIST){f=!0;r((0,o.trackInteraction)(u.EVENT_NAMES.WIDGET_INTERACTION,{action:"view thread list"}))}}}}const E=(0,r.createAction)(s.CLICK_VIRAL_LINK)},i6ES:function(e,t,n){"use strict";n.d(t,{isContactAssociationMessage:function(){return s}});var r=n("0IK8"),i=n("LPbX");const s=e=>(0,r.getTopLevelType)(e)===i.CONTACT_ASSOCIATION},i7jX:function(e,t,n){"use strict";n.d(t,{default:function(){return C}});var r=n("3RTs"),i=n("QOxE"),s=n("9f1P"),o=n.n(s),a=n("+/QE"),c=n.n(a),u=n("CR0J"),l=n("57op");const d=l.getDisabledBackgroundColor,p=l.getInputBorderColor,f=l.getPrimaryColor;var h=n("rdz/"),g=n("W5Gz");const m=["onChange","theme","children","checked","focus","hover"],E=({theme:e})=>(0,s.css)(["box-shadow:0 0 0 1px ",";"],(0,h.adjustLuminance)(f(e),40)),T=({checked:e,theme:t})=>(0,s.css)(["background-color:",";color:",";"],d(t),!e&&(0,h.adjustLuminance)(f(t),40)),y=o().div.withConfig({displayName:"VizExCheckbox__CheckboxBox"})(["flex-shrink:0;height:16px;width:16px;transition:color 0.15s ease-out,background-color 0.15s ease-out;color:",";border-color:currentColor;border:2px solid;border-radius:3px;position:relative;",";",";"],(({checked:e,theme:t})=>e?f(t):p(t)),(({hover:e,theme:t,checked:n})=>e&&T({theme:t,checked:n})),(({focus:e,theme:t})=>e&&E({theme:t}))),A=o().label.withConfig({displayName:"VizExCheckbox__CheckboxWrapper"})(["position:relative;display:inline-flex;flex-direction:row;align-items:center;font-size:16px;cursor:pointer;:hover ","{","}input:focus + ","{","}"],y,T,y,E),b=o().input.withConfig({displayName:"VizExCheckbox__CheckboxInput"})(["position:absolute;top:0;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0;"]),v=o().svg.withConfig({displayName:"VizExCheckbox__Indicator"})(["height:100%;width:100%;top:0;left:0;position:absolute;pointer-events:none;"]),I=o().div.withConfig({displayName:"VizExCheckbox__ContentWrapper"})(["padding-left:8px;user-select:none;cursor:pointer;"]),S=e=>{const{onChange:t,theme:n,children:s,checked:o,focus:a,hover:c}=e,u=(0,r.default)(e,m),l=(0,i.useRef)(null);return(0,g.jsxs)(A,Object.assign({},u,{onClick:()=>{l.current&&l.current.focus()},"data-test-id":"VizExCheckbox",checked:o,theme:n,children:[(0,g.jsx)(b,{ref:l,"data-test-id":"VizExCheckbox-input",type:"checkbox",onChange:t}),(0,g.jsx)(y,{theme:n,checked:o,focus:a,hover:c,children:o&&(0,g.jsx)(v,{viewBox:"0 0 15 15.343",children:(0,g.jsx)("path",{d:"M1.013 8.11c0-.223.078-.412.234-.568l1.14-1.14c.155-.155.345-.233.568-.233s.413.077.57.233l2.46 2.47 5.492-5.5c.156-.156.346-.234.568-.234.224 0 .413.077.57.233l1.138 1.14c.156.155.234.345.234.568 0 .224-.078.414-.234.57l-6.06 6.06-1.14 1.14c-.155.155-.345.233-.568.233s-.413-.078-.57-.234l-1.138-1.14-3.03-3.03c-.156-.156-.234-.346-.234-.57z",fill:"currentColor"})})}),s&&(0,g.jsx)(I,{children:s})]}))};S.displayName="VizExCheckbox";S.propTypes={checked:c().bool,children:c().node,focus:c().bool,hover:c().bool,onChange:c().func,theme:u.default};var C=S},"iF/4":function(e,t,n){"use strict";n.d(t,{shouldShowAskMeAnythingLauncher:function(){return r}});const r=({useAskMeAnythingLauncher:e,hasOpenedWidget:t,mobile:n})=>e&&!t&&!n},iKGd:function(e,t,n){"use strict";n.d(t,{DEFAULT_DISABLED_BUTTON_BACKGROUND_COLOR:function(){return b},DEFAULT_DISABLED_BUTTON_BORDER_COLOR:function(){return v},DEFAULT_DISABLED_BUTTON_TEXT_COLOR:function(){return I},DEFAULT_ERROR_TEXT_COLOR:function(){return u},DEFAULT_HAPPY_COLOR:function(){return T},DEFAULT_HELP_TEXT_COLOR:function(){return p},DEFAULT_ICON_BUTTON:function(){return S},DEFAULT_ICON_BUTTON_DISABLED:function(){return C},DEFAULT_ICON_BUTTON_HOVER:function(){return _},DEFAULT_INPUT_BACKGROUND_COLOR:function(){return g},DEFAULT_INPUT_BORDER_COLOR:function(){return f},DEFAULT_INPUT_BORDER_COLOR_DISABLED:function(){return h},DEFAULT_NEUTRAL_COLOR:function(){return y},DEFAULT_PLACEHOLDER_TEXT_COLOR:function(){return m},DEFAULT_PRIMARY_COLOR:function(){return a},DEFAULT_SAD_COLOR:function(){return A},DEFAULT_TEXT_COLOR:function(){return c},DISABLED_BACKGROUND_COLOR:function(){return l},DISABLED_TEXT_COLOR:function(){return d},GREEN:function(){return s},GREY:function(){return o},UPDATED_INPUT_BORDER_COLOR:function(){return E},WHITE:function(){return i}});var r=n("VZYW");const i=r.OLAF,s=r.OZ,o=r.BATTLESHIP,a=r.NEUTRAL_1600,c=r.NEUTRAL_1600,u=r.CANDY_APPLE,l=r.KOALA,d=r.BUTTON_DISABLED_TEXT,p=r.HEFFALUMP,f=r.NEUTRAL_800,h=r.NEUTRAL_600,g=r.GYPSUM,m=r.NEUTRAL_1000,E=r.NEUTRAL_800,T=r.CHART_GREEN,y=r.CHART_ORANGE,A=r.CHART_RED,b=r.OLAF,v=r.BATTLESHIP,I=r.SLINKY,S=r.NEUTRAL_1600,C=r.NEUTRAL_700,_=r.NEUTRAL_700},iM72:function(e,t,n){"use strict";n.d(t,{generateFontStylesheet:function(){return a}});const r=(e,t)=>`https://cdn1.hubspot.net/googlefonts/fonts/${e}/${t}`,i=/(bold|b|[0-9]{3})?(italic|i)?/,s=e=>e?"bold"===e||"b"===e?"700":e:"400",o=e=>{if("regular"===e)return{weight:"400",style:"normal"};const t=e.match(i);if(!t)return{weight:"400",style:"normal"};const[n,r,o]=t;return{style:o?"italic":"normal",weight:s(r)}};function a(e,t){const n=document.createElement("style");n.setAttribute("id",`live-chat-font-style-${e.toLocaleLowerCase().replace(/ +/g,"-")}`);n.textContent=t.reduce(((t,n)=>{const{weight:i,style:s}=o(n),a=e.replaceAll(" ","_"),c=r(a,n);return`${t}@font-face {\n        font-family: "${e}";\n        src: url("${c}.woff2") format("woff2"), url("${c}.woff") format("woff");\n        font-weight: ${i};\n        font-style: ${s};\n        font-display: swap;\n      }\n`}),"");return n}},iPDb:function(e,t,n){"use strict";n.d(t,{getMessages:function(){return r}});const r=n("8J5U").getMessages},iRE0:function(e,t,n){"use strict";n.d(t,{setMessages:function(){return s}});var r=n("g4ag"),i=n("/He/");(0,r.default)(i.MESSAGES),(0,r.default)(i.MESSAGE_HAS_MORE),(0,r.default)(i.MESSAGE_OFFSET),(0,r.default)(i.OFFSET_TIMESTAMP),(0,r.default)(i.OFFSET_ORDINAL);const s=(0,r.default)(i.MESSAGE_RESULTS);(0,r.default)(i.VISITOR_LAST_READ_AT_TIMESTAMP),(0,r.default)(i.NUM_SOFT_DELETED_MESSAGES),(0,r.default)(i.ATTACHMENTS),(0,r.default)(i.FILE_ATTACHMENTS),(0,r.default)(i.FRIENDLY_NAME_RESULTS)},iSEi:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{cvVisitorUIAttachments:{errors:{fileSizeExceeded:"File exceeds the {{maxSize}} max upload.",uploadError:"Unable to upload attachment.",invalidFileType:"Invalid file type selected.",fileSizeExceededAnnouncement:"File upload failed. File size exceeds the {{maxSize}} max upload.",uploadErrorAnnouncement:"File upload failed. Unable to upload attachment.",invalidFileTypeAnnouncement:"File upload failed. Invalid file type selected."},uploadComplete:"{{fileName}} uploaded",attachmentRemoved:"{{fileName}} removed",tryAgain:"Try again",threadPreview:"An attachment has been sent"}}})}},iapW:function(e,t,n){"use strict";n.d(t,{getFileIds:function(){return o},getFileUsageTypes:function(){return a}});var r=n("MJM1");const i=["fileIds"],s=["fileUsageTypes"],o=(0,r.default)(i),a=(0,r.default)(s)},ibex:function(e,t,n){"use strict";n.d(t,{isPartialMessage:function(){return s}});var r=n("ikhY"),i=n("JGJA");const s=e=>(0,i.default)("@type",e)===r.PARTIAL_MESSAGE},ic5E:function(e,t,n){"use strict";n.d(t,{selectAttachmentFile:function(){return p}});var r=n("ejMo"),i=n("y5/z"),s=n("IA0z"),o=n("3yBC");const a=e=>e===o.SIZE_LIMIT_EXCEEDED?"size limit exceeded":null;var c=n("Wnz4"),u=n("PpSk"),l=n("5N3d"),d=n("ENCh");const p=({file:e,thread:t,source:n})=>o=>{const p=(0,u.getThreadId)(t);return(0,l.validateAttachmentFile)(e).then((()=>{const t=new r.default({file:e,uploadProgress:0});return o((0,d.uploadAttachment)({attachment:t,threadId:p,source:n}))})).catch((e=>{o((0,c.attachmentError)(e,p));o((0,i.trackInteraction)(s.EVENT_NAMES.WIDGET_INTERACTION,{action:"failed to attach file","failure-type":a(e),source:n},void 0,void 0,s.EVENT_KEYS.FAILED_TO_ATTACH_FILE))}))}},ik2A:function(e,t,n){"use strict";n.d(t,{getUserTimezone:function(){return i}});const r=e=>e>=10?e:`0${e}`,i=()=>{const e=(new Date).getTimezoneOffset(),t=Math.sign(e),n=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),s=`${r(n)}:${r(i)}`;return t>0?`-${s}`:`+${s}`}},ikhY:function(e,t,n){"use strict";n.d(t,{PARTIAL_MESSAGE:function(){return r}});const r="PARTIAL_MESSAGE"},ipOz:function(e,t,n){var r=n("c44P");function i(e){return r(2,e)}e.exports=i},"j+9m":function(e,t,n){"use strict";n.d(t,{hasClientTriggers:function(){return a}});var r=n("tTno"),i=n("GHgd"),s=n("Or3K"),o=n("aLl6");const a=e=>(0,r.scrollTriggerEnabled)(e)||(0,i.timeOnPageTriggerEnabled)(e)||(0,s.exitIntentTriggerEnabled)(e)||(0,o.gdprCookieConsentOnExitIntentEnabled)(e)},jFtF:function(e,t,n){"use strict";n.d(t,{messageCookieHandler:function(){return d}});var r=n("1+S/"),i=n("am7t"),s=n("bT+G"),o=n("Wt04"),a=n("GTwN"),c=n("3RDS"),u=n("c/Yf"),l=n("/LeO");const d=({currentState:e,widgetData:t})=>{const n=(0,i.getIsCookieStorageAllowed)(e,t),d=(0,a.getHasMessagesCookieBeenSaved)(e),p=(0,c.getGlobalCookieOptOut)(e)===u.OPT_OUT_YES,f=(0,l.shouldRequireExplicitCookieConsent)(e);if(d&&p)try{localStorage.removeItem(r.localStorageKeys.HUBLYTICS_EVENTS_53);localStorage.removeItem(r.localStorageKeys.HMPL)}catch(e){console.warn("Unable to access localStorage")}else n&&!f&&(0,s.handleStoreMessagesCookie)((0,o.getMessagesUtk)())}},jL37:function(e,t,n){"use strict";n.d(t,{isFunction:function(){return r}});function r(e){return"function"==typeof e||e instanceof Function}},jbWx:function(e,t,n){"use strict";var r=n("QYOI"),i=n("ikhY"),s=n("8+iK"),o=n("9Mwj"),a=n("ubOH"),c=n("rA/t");class u extends((0,r.Record)({"@type":i.PARTIAL_MESSAGE,attachments:(0,r.List)(),clientType:null,contentType:s.SIMPLE,directReplyToMessageId:null,id:null,inReplyToId:null,messageDeletedStatus:o.NOT_DELETED,richText:"",sender:(0,r.Map)(),status:(0,a.default)(),text:"",timestamp:null,channelInstanceId:null,genericChannelId:null,integrationId:null,recipients:(0,r.List)(),senders:(0,r.List)(),direction:"",hiddenBy:null,completedMessageId:null,completedMessageTimestamp:null,partialOrdinal:0},"PartialMessage")){constructor(e){super(e&&(0,c.buildSendersFromLegacySender)(e))}}t.default=u},jguV:function(e,t,n){"use strict";n.d(t,{deserialize:function(){return kt},serialize:function(){return Pt}});var r=n("QYOI"),i=n("6xui"),s=n("ubOH"),o=n("BvOu"),a=n("c1C1");const c="@type",u="MENTIONS",l="FILES";var d=n("zbS+"),p=n("6O34");const f=(e={})=>{const t=e||{},n=(0,s.default)(t.status),{attachments:f=[],senders:h=[]}=t,g=(0,i.default)((0,r.List)(),((e,t)=>{const n=t[c];return n===u||n===l?e.push((0,r.fromJS)(t)):e}),f),m=t.id||(0,o.generateUuid)(),E=t.timestamp||(0,a.generateUniqueClientTimestamp)("buildCommentMessage-timestamp"),T=(0,p.buildSenders)(h);return(0,d.default)((0,r.fromJS)(t)).merge({senders:T,timestamp:E,attachments:g,status:n,id:m})};var h=n("WebA"),g=n("C3IS"),m=n("12C0"),E=n("0IK8");const T=e=>(0,E.getTopLevelType)(e)===m.CONTEXT_UPDATE;var y=n("NIjC"),A=n("0934"),b=n("LrxL"),v=n("tOKt"),I=n("V+nC"),S=n("JGJA");const C="MESSAGES_UPDATED",_=e=>(0,S.default)("@type",e)===C;var O=n("MJM1"),R=n("SGjM");const x="status",w="messageDeletedStatus",N=(e={})=>{const t=(0,r.fromJS)((0,O.default)(["updates"],e));let n=(0,r.Map)();t&&t.size&&(0,R.default)(((e,t)=>{e.keySeq().forEach((r=>{switch(r){case x:n=n.setIn([t,x],(0,s.default)((0,O.default)([x],e)));break;case w:n=n.setIn([t,w],(0,O.default)([w],e))}}))}),t);return n};class D extends((0,r.Record)({"@type":C,auditParams:(0,r.Map)(),updates:(0,r.Map)()},"MessagesUpdates")){constructor(e={}){super({updates:N(e),auditParams:(0,r.Map)((null==e?void 0:e.audit)||{})})}}var L=n("+TdC"),M=n("7jiL"),P=n("NT8A"),k=n("LPbX"),U=n("9Mwj");class B extends((0,r.Record)({"@type":k.CONTACT_ASSOCIATION,id:null,timestamp:null,sender:(0,r.Map)(),messageDeletedStatus:U.NOT_DELETED,clientType:null,newVid:null,newMessagesUtk:{empty:!0,present:!1},threadId:null},"ContactAssociationMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e)).filterNot((e=>void 0===e)))}}var H=B,F=n("Cblj"),G=n("i6ES"),j=n("30KC");const W=e=>(0,E.getTopLevelType)(e)===j.THREAD_INBOX_UPDATED;var V=n("kdZJ");const z=e=>(0,E.getTopLevelType)(e)===V.READ_THREAD;var K=n("KZZz");const Y=e=>(0,E.getTopLevelType)(e)===K.THREAD_COMMENT;var q=n("usEm"),J=n("ul3k"),$=n("Euo8"),Q=n("xrOf");const X=e=>(0,E.getTopLevelType)(e)===Q.FILTERED_CHANGE;var Z=n("GqTt"),ee=n("JxGV"),te=n("UJtG"),ne=n("Iqwl"),re=n("/fsP");const ie="AWAY_MODE_CHANGE";class se extends((0,r.Record)({"@type":ie,agentId:null,awayMode:null,id:"",timestamp:null,updatedByAgentId:null},"AgentAvailabilityMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,o.generateUuid)(),timestamp:e.timestamp||(0,a.generateUniqueClientTimestamp)("buildTypingMessage-timestamp")})).filterNot((e=>void 0===e)))}}var oe=se;const ae=e=>(0,E.getTopLevelType)(e)===ie;var ce=n("MfaD"),ue=n("kTjR"),le=n("yuy6"),de=n("eF9A"),pe=n("TePN"),fe=n("K7Yy");const he=e=>(0,E.getTopLevelType)(e)===fe.FEEDBACK_SURVEY;var ge=n("asw7"),me=n("pHO9"),Ee=n("Y4h2"),Te=n("Q7Xa");const ye=(e={})=>{const t=(0,p.buildSenders)(e.senders),n=(0,ge.buildRecipients)(e.recipients);return(0,me.default)((0,Ee.setRecipients)(n),(0,Ee.setSenders)(t))(new Te.default((0,r.fromJS)(e)))};var Ae=n("Tt13");const be=e=>(0,E.getTopLevelType)(e)===Ae.FEEDBACK_SUBMISSION;var ve=n("xw4j");const Ie=e=>(0,E.getTopLevelType)(e)===ve.CHAT_TRANSCRIPT_SENT;var Se=n("wO6X"),Ce=n("Blk5");const _e=e=>(0,E.getTopLevelType)(e)===Ce.TICKET_CREATION_FAILURE;var Oe=n("fwMr"),Re=n("P+E7"),xe=n("IcZZ"),we=n("fPyn"),Ne=n("JoGU");const De=(e={})=>{let t=Object.assign({},((0,Re.default)(e),e));const n=(0,xe.buildAttachments)(t.attachments),i=(0,ge.buildRecipients)(t.recipients),s=t.sender?(0,r.Map)(t.sender):(0,r.Map)(),o=(0,p.buildSenders)(t.senders),a=(0,we.buildStatus)(t.status);return new Ne.default(Object.assign({},t,{attachments:n,recipients:i,sender:s,senders:o,status:a}))};var Le=n("t+8h");const Me=e=>(0,E.getTopLevelType)(e)===Le.WORKFLOW_GENERATED_USER_MESSAGE;var Pe=n("kNma"),ke=n("MWj0"),Ue=n("pxL+");const Be=(e={})=>{const t=(0,we.buildStatus)((0,O.default)(ke.STATUS,e)),n=(0,xe.buildAttachments)(e.attachments),i=(0,ge.buildRecipients)(e.recipients),s=(0,p.buildSenders)(e.senders),c=e.direction||"",u=(0,E.getId)(e)||(0,o.generateUuid)(),l=(0,E.getTimestamp)(e)||(0,a.generateUniqueClientTimestamp)("buildWorkflowGeneratedUserMessage-timestamp");return(0,me.default)((0,Ue.setId)(u),(0,Ue.setStatus)(t),(0,Ue.setAttachments)(n),(0,Ue.setTimestamp)(l),(0,Ee.setRecipients)(i),(0,Ee.setSenders)(s),(0,Ee.setMessageDirection)(c))((0,Pe.default)((0,r.fromJS)(e)))};var He=n("Mclz");const Fe=e=>(0,E.getTopLevelType)(e)===He.BATCH_SMS_GENERATED_USER_MESSAGE;var Ge=(0,r.Record)({"@type":He.BATCH_SMS_GENERATED_USER_MESSAGE,clientType:null,id:null,messageDeletedStatus:U.NOT_DELETED,richText:"",sender:(0,r.Map)(),status:(0,s.default)(),text:"",timestamp:null,threadId:null,channelInstanceId:null,genericChannelId:null,recipients:(0,r.List)(),senders:(0,r.List)(),direction:"",channelId:null,contentId:0,objectId:0,objectTypeId:""},"BatchSmsGeneratedUserMessage"),je=n("P0El");const We=e=>(0,E.getTopLevelType)(e)===je.CRM_OBJECT_WORKFLOW_EMAIL_SENT;var Ve=n("TlnZ"),ze=n("0oBL"),Ke=n("ibex"),Ye=n("2EjV"),qe=n("It+t");const Je=e=>(0,E.getTopLevelType)(e)===qe.ENGAGEMENT_DETAILS_MESSAGE;var $e=n("4RZQ");const Qe=e=>{const{attachments:t=[],senders:n=[]}=e,i=t.reduce(((e,t)=>e.push((0,r.fromJS)(t))),(0,r.List)()),s=e.id||(0,o.generateUuid)(),c=e.timestamp||(0,a.generateUniqueClientTimestamp)("buildEngagementMessage-timestamp"),u=(0,p.buildSenders)(n);return(0,$e.default)((0,r.fromJS)(e)).merge({senders:u,timestamp:c,attachments:i,id:s,isAsync:!1})};var Xe=n("SfpB");const Ze=e=>(0,E.getTopLevelType)(e)===Xe.HELP_DESK_TICKET_SPLIT_UPDATE_MESSAGE;var et=(0,r.Record)({"@type":Xe.HELP_DESK_TICKET_SPLIT_UPDATE_MESSAGE,id:null,timestamp:null,echo:!1,messageDeletedStatus:"NOT_DELETED",ablyTs:null,originatingTicketId:null,splitTicketId:null,splitTicketCreationTimestamp:null,clientType:null,senders:(0,r.List)(),attachments:(0,r.List)()},"HelpdeskTicketSplitUpdateMessage"),tt=n("heCN");const nt=e=>(0,S.default)("@type",e)===tt.THREAD_PAUSED_ON_GENERIC_CHANNEL;var rt=n("CXYT");const it=(e={})=>{const t=e.id||(0,o.generateUuid)();return new rt.default(Object.assign({},e,{id:t}))};var st=n("50iM");const ot=e=>(0,E.getTopLevelType)(e)===st.CUSTOMER_AGENT_ACTION_EXECUTION_MESSAGE;var at=(0,r.Record)({"@type":"CUSTOMER_AGENT_ACTION_EXECUTION_MESSAGE",ablyTs:null,attachments:(0,r.List)(),clientType:null,customerAgentUserId:null,echo:!1,executedActions:(0,r.List)(),id:null,inReplyToMessageId:null,messageDeletedStatus:"NOT_DELETED",senders:(0,r.List)(),timestamp:null},"CustomerAgentActionExecutionMessage"),ct=n("xw3r");const ut=e=>(0,E.getTopLevelType)(e)===ct.CUSTOMER_AGENT_MAINTENANCE_MODE_MESSAGE;var lt=n("mZIr"),dt=n("FGRv");const pt=e=>(0,E.getTopLevelType)(e)===dt.CUSTOMER_AGENT_AUTOMATED_MESSAGE;var ft=n("y7By"),ht=n("eXJ2").default,gt=n("5izc"),mt=n("4t9X");const Et=["noteCreatedByAgentIdAndType","agentId"],Tt=["noteCreatedByAgentIdAndType","agentType"],yt=["commentCreatedByAgentIdAndType","agentId"],At=["commentCreatedByAgentIdAndType","agentType"],bt=["noteId"],vt=["senders"],It=["messageDeletedStatus"],St=["timestamp"],Ct=["id"],_t=["@type"],Ot=["commentCreatedByActorId"],Rt=["commentCreatedAtTimestamp"],xt=["clientType"],wt=["commentId"],Nt=["ablyTs"],Dt=((0,O.default)(Et),(0,O.default)(Tt),(0,O.default)(yt),(0,O.default)(At),(0,O.default)(bt),(0,O.default)(vt),(0,O.default)(It),(0,O.default)(St),(0,O.default)(Ct),(0,O.default)(_t)),Lt=((0,O.default)(Ot),(0,O.default)(Rt),(0,O.default)(xt),(0,O.default)(wt),(0,O.default)(Nt),e=>Dt(e)===mt.HELP_DESK_COMMENT_REPLY_SYSTEM_MESSAGE);function Mt(e){return e&&e.length?e.map((e=>Object.assign({},e,{deliveryIdentifier:e.singleDeliveryIdentifier}))):e}function Pt(e){const t=ht(e);return(0,ze.default)("recipients",Mt,t)}function kt({json:e}){return _(e)?new D(e):Y(e)?f(e):Je(e)?Qe(e):(0,g.isCommonMessageFormat)(e)?(0,h.buildCommonMessage)(e):(0,Ke.isPartialMessage)(e)?(0,Ye.buildPartialMessage)(e):(0,I.isInitialMessage)(e)?(0,v.buildInitialMessage)(e):(0,A.isCrmObjectLifecycleUpdate)(e)?new b.default(e):We(e)?new Ve.default(e):T(e)?new y.default(e):(0,F.isTypingMessage)(e)?new L.default(e):(0,G.isContactAssociationMessage)(e)?new H(e):(0,J.isEmailCaptureResponseMessage)(e)?new re.default(e):(0,q.isEmailCapturePromptMessage)(e)?new ne.default(e):(0,$.isOfficeHoursMessage)(e)?new ee.default(e):(0,te.isTypicalResponseTimeMessage)(e)?new ce.default(e):X(e)?new ue.default(e):(0,Z.isThreadStatusUpdateMessage)(e)?new le.default(e):z(e)?new M.default(e):W(e)?new P.default(e):ae(e)?new oe(e):(0,de.isAssignmentUpdateMessage)(e)?new pe.default(e):he(e)?ye(e):be(e)?De(e):Ie(e)?new Se.default(e):_e(e)?new Oe.default(e):Me(e)?Be(e):Fe(e)?new Ge(e):Ze(e)?new et(e):Lt(e)?new gt.default(e):ot(e)?new at(e):nt(e)?it(e):pt(e)?new ft.default(e):ut(e)?new lt.default(e):e}},jngL:function(e,t,n){"use strict";n.d(t,{getHasVisitorEmail:function(){return o}});var r=n("JGJA"),i=n("dLEV");const s=(0,r.default)("emailCapture"),o=(0,i.createSelector)(s,(0,r.default)("hasVisitorEmail"))},jnrP:function(e,t,n){"use strict";n.d(t,{setEntryUrlMetadata:function(){return a}});var r=n("dLEV");const i={title:"",description:""},s=2048,o=(0,r.createSlice)({name:"entryUrlMetadata",initialState:i,reducers:{setEntryUrlMetadata(e,t){t.payload.title!==e.title&&(e.title=t.payload.title.substring(0,s));t.payload.description!==e.description&&(e.description=t.payload.description.substring(0,s))}}}),{setEntryUrlMetadata:a}=o.actions;t.default=o.reducer},jt1n:function(e,t,n){"use strict";n("QOxE");var r=n("W5Gz");const i=e=>(0,r.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,r.jsxs)("g",{clipPath:"url(#messages__clip0_14307_15730)",children:[(0,r.jsx)("path",{fillOpacity:.01,d:"M0 0h24v24H0z"}),(0,r.jsx)("mask",{id:"messages__b",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24,children:(0,r.jsx)("g",{clipPath:"url(#messages__clip1_14307_15730)",children:(0,r.jsxs)("g",{clipPath:"url(#messages__clip2_14307_15730)",children:[(0,r.jsxs)("mask",{id:"messages__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:1,y:0,width:23,height:23,children:[(0,r.jsx)("path",{d:"M2.571 22.286h-.008.008z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.143 4.286c1.414 0 2.571 1.157 2.571 2.571v8.572c0 1.414-1.157 2.571-2.571 2.571H7.209l-4.037 4.037c-.162.162-.384.247-.606.248-.11 0-.219-.017-.32-.068-.317-.128-.532-.445-.532-.788V6.857c0-1.414 1.157-2.571 2.572-2.571h12.857zM4.286 6c-.472 0-.857.386-.857.857v12.506l2.82-2.82c.162-.163.377-.249.608-.249h10.286c.471 0 .857-.385.857-.857V6.866c0-.472-.386-.857-.857-.857H4.286V6z"}),(0,r.jsx)("path",{d:"M20.571.857c1.415 0 2.572 1.158 2.572 2.572V12c0 .472-.386.857-.857.857-.472 0-.857-.385-.857-.857V3.43c0-.472-.386-.857-.858-.857H7.714c-.471 0-.857-.386-.857-.857 0-.472.386-.858.857-.858h12.857z"})]}),(0,r.jsx)("g",{mask:"url(#messages__a)",children:(0,r.jsx)("path",{d:"M-1.714-1.714h27.429v27.429H-1.714z"})})]})})}),(0,r.jsx)("g",{mask:"url(#messages__b)",children:(0,r.jsx)("path",{d:"M0 0h24v24H0V0z"})})]}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("clipPath",{id:"messages__clip0_14307_15730",children:(0,r.jsx)("path",{d:"M0 0h24v24H0z"})}),(0,r.jsx)("clipPath",{id:"messages__clip1_14307_15730",children:(0,r.jsx)("path",{d:"M0 0h24v24H0z"})}),(0,r.jsx)("clipPath",{id:"messages__clip2_14307_15730",children:(0,r.jsx)("path",{transform:"translate(-1.714 -1.714)",d:"M0 0h27.429v27.429H0z"})})]})]}));i.displayName="SVGMessages";t.default=i},jvmB:function(e,t,n){"use strict";n.d(t,{default:function(){return D}});var r=n("Iqwl"),i=n("nS6h"),s=n("y9Cc"),o=n("jngL"),a=n("+2bk"),c=n("usEm"),u=n("mE3N"),l=n("kWFB"),d=n("iPDb");const p=e=>{if(!(0,l.hasMessages)(e))return!1;const t=(0,d.getMessages)(e).findLast(c.isEmailCapturePromptMessage);return!(!t||!(0,u.getMessageIsApproximatelyFromCurrentSession)(t))};var f=n("h027"),h=n("dML/");const g=e=>!(0,f.hasAgentReplyFromCurrentSession)(e)&&!(0,a.hasBotMessages)(e)&&(!p(e)||(0,h.enoughTimeHasPassedForNewAutomatedChatMessage)(e));var m=n("J4oD"),E=n("vuNk"),T=n("y5/z"),y=n("IA0z"),A=n("QeSX"),b=n("t4ZQ"),v=n("a3lm"),I=n("2Zef"),S=n("BvOu"),C=n("v0wH"),_=n("jvpr"),O=n("wihT"),R=n("OxGf"),x=n("rf4d"),w=n("Hjp8"),N=n("Wt04");const D=({channel:e,threadId:t})=>(n,a)=>{const c=(0,E.getThreadByThreadId)(a(),{threadId:t}),u=(0,m.historyDataForThread)(a(),{thread:c}),l=(0,b.getAgentType)((0,A.getAssignedResponderInWidget)(a()))===v.BOT;if(!g(u)||(0,o.getHasVisitorEmail)(a())||l)return;const d=I.SYSTEM_SENDER,p=new r.default({id:(0,S.generateUuid)(),text:(0,s.getAskForEmailMessage)(a()),sender:{"@type":d},status:{messageStatus:C.SENT},channelInstanceId:(0,_.getChannelInstanceId)(a()),senders:(0,O.buildHubSpotSystemSender)(),direction:R.OUTGOING,genericChannelId:x.LIVE_CHAT_GENERIC_CHANNEL_ID,recipients:(0,w.buildContactRecipients)({value:(0,N.getMessagesUtk)()})});n((0,i.publishMessageToConversation)({channel:e,message:p,threadId:t}));n((0,T.trackInteraction)(y.EVENT_NAMES.WIDGET_INTERACTION,{action:"view email capture"}))}},jvpr:function(e,t,n){"use strict";n.d(t,{getChannelInstanceId:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("49A5");const o=(0,r.createSelector)([s.getLatestWidgetData],(0,i.default)("channelInstanceId"))},k09d:function(e,t,n){"use strict";n.d(t,{getSelectedThread:function(){return c}});var r=n("dLEV"),i=n("lztA"),s=n("0PDK"),o=n("eg5p"),a=n("Pkdb");const c=(0,r.createSelector)([i.getThreads,s.getSelectedThreadId,a.getStubbedThread],((e,t,n)=>t===o.STUBBED_THREAD_ID?n:e&&e.get(t)||null))},k3Ph:function(e,t,n){"use strict";n.d(t,{consentToCookies:function(){return a}});var r=n("bT+G"),i=n("Wt04"),s=n("y5/z"),o=n("IA0z");function a(){return e=>{(0,r.handleStoreMessagesCookie)((0,i.getMessagesUtk)());e((0,s.trackInteraction)(o.EVENT_NAMES.WIDGET_INTERACTION,{action:"clicked consent to cookies button"}))}}},k4L0:function(e,t,n){"use strict";n.d(t,{formatOfficeHoursWillReturnTimestamp:function(){return o}});var r=n("npjq");const i=e=>{const t=new Date(e),n=new Date;return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()},s=e=>{const t=new Date(e),n=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate()-1).valueOf()===new Date(n.getFullYear(),n.getMonth(),n.getDate()).valueOf()},o=(e,t)=>{const n=new Date(e),o=n.toLocaleTimeString(t,{hour:"2-digit",minute:"2-digit"});return i(e)?r.default.text("conversations-visitor-experience-components.officeHours.sameDay",{time:o}):s(e)?r.default.text("conversations-visitor-experience-components.officeHours.nextDay",{time:o}):r.default.text("conversations-visitor-experience-components.officeHours.nextWeek",{dayOfWeek:n.toLocaleDateString(t,{weekday:"long"}),time:o})}},k8Ub:function(e,t,n){"use strict";n.d(t,{getQuickReply:function(){return h},getQuickReplyAllowMultiSelect:function(){return g},getQuickReplyAllowUserInput:function(){return m},getQuickReplyReplies:function(){return E}});var r=n("JGJA"),i=n("Zui/"),s=n("9F2+"),o=n("MJM1");const a=["allowMultiSelect"],c=["allowUserInput"],u=["quickReplies"],l=(0,o.default)(a),d=(0,o.default)(c),p=(0,o.default)(u),f=e=>{const t=(0,s.getAttachments)(e);if(!t)return;return t.find((e=>(0,r.default)("@type",e)===i.QUICK_REPLIES))},h=e=>f(e),g=e=>{const t=f(e);return l(t)},m=e=>{const t=f(e);return d(t)},E=e=>{const t=f(e);return p(t)}},kHIv:function(e,t,n){"use strict";n.d(t,{getBotResponder:function(){return s},getColoring:function(){return o},getConsentToCommunicateMessage:function(){return a},getConsentToProcessMessage:function(){return c},getEnableSdkCloseButton:function(){return u},getFont:function(){return l},getGDPRConsentToProcessStatus:function(){return p},getGates:function(){return d},getLanguage:function(){return f},getMessage:function(){return h},getRecommendedQuestionsForAgent:function(){return g},getSearchableKnowledgeBaseIds:function(){return E},getSendFrom:function(){return m},getShowPreviousConversations:function(){return T},getSpamProtectionMetadata:function(){return y}});var r=n("JGJA"),i=n("MJM1");const s=(0,i.default)(["sendFrom","0"]),o=((0,i.default)(["message","chatHeadingConfig"]),(0,r.default)("coloring")),a=(0,i.default)(["message","customConsentToCommunicateMessage"]),c=(0,i.default)(["message","customConsentToProcessMessage"]),u=((0,i.default)(["message","launcherType"]),(0,r.default)("enableAttachments"),(0,r.default)("enableSdkCloseButton")),l=(0,r.default)("widgetFont"),d=(0,r.default)("gates"),p=(0,i.default)(["gdprConsentOptions","consentToProcessStatus"]),f=(0,r.default)("language"),h=(0,r.default)("message"),g=(0,r.default)("recommendedQuestionsForAgent"),m=(0,i.default)(["sendFrom"]),E=(0,r.default)("searchableKnowledgeBaseIds"),T=((0,r.default)("sessionId"),(0,r.default)("showPreviousConversations")),y=(0,r.default)("spamProtectionMetadata");(0,r.default)("typicalResponseTime")},"kMm/":function(e,t,n){"use strict";var r=n("VZYW");const i={width:"auto",minHeight:36,borderColor:r.NEUTRAL_700,whitespace:"normal",lineHeight:"1rem",color:r.NEUTRAL_700},s=e=>Object.assign({},i,e);t.default=s},kNma:function(e,t,n){"use strict";var r=n("QYOI"),i=n("t+8h"),s=n("9Mwj"),o=n("ubOH");const a=(0,r.Record)({"@type":i.WORKFLOW_GENERATED_USER_MESSAGE,attachments:(0,r.List)(),clientType:null,id:null,messageDeletedStatus:s.NOT_DELETED,richText:"",sender:(0,r.Map)(),status:(0,o.default)(),text:"",timestamp:null,threadId:null,channelInstanceId:null,genericChannelId:null,recipients:(0,r.List)(),senders:(0,r.List)(),direction:"",channelId:null,flowId:0,objectId:0,objectTypeId:""},"WorkflowGeneratedUserMessage");t.default=a},kP7l:function(e,t,n){"use strict";n.d(t,{fetchAgentResponder:function(){return y}});var r=n("MD34"),i=n("DrqF"),s=n("mc4r"),o=n("ZdFx");const a=e=>"function"==typeof e,c=e=>"object"==typeof e&&!Array.isArray(e),u=e=>c(e)&&(0,s.default)(e.SUCCEEDED)&&(0,s.default)(e.STARTED)&&(0,s.default)(e.FAILED),l=({actionTypes:e,failureMetaActionCreator:t,successMetaActionCreator:n,toRecordFn:i})=>(s,o)=>a=>{const{STARTED:c,SUCCEEDED:u,FAILED:l}=e;a({type:c,payload:{requestArgs:o}});(0,r.default)(s,(e=>{const t={requestArgs:o,data:i(e)};a({type:u,payload:t,meta:n(t)})}),(e=>{const n={requestArgs:o,error:e};a({type:l,payload:n,meta:t(n)})}))},d=(0,o.default)("`createAsyncAction` is deprecated. Use Data Fetching Client instead (and Immer if you need immutability)",(({actionTypes:e,requestFn:t,toRecordFn:n,failureMetaActionCreator:r=(()=>({})),successMetaActionCreator:s=(()=>({}))})=>{(0,i.default)(u(e),`createAsyncAction expected actionTypes to be an Object containing valid type strings for keys: "FAILED", "STARTED", and "SUCCEEDED". Got: ${e}`);(0,i.default)(a(t),`createAsyncAction Expected requestFn to be a Function. Got: "${t}"`);(0,i.default)(a(n),`createAsyncAction expected toRecordFn to be a Function. Got: "${n}"`);const o=l({actionTypes:e,failureMetaActionCreator:r,successMetaActionCreator:s,toRecordFn:n}),d=e=>{(0,i.default)(!e||c(e),"requestArgs must be an Object. Received "+typeof e);return o(t(e),e)};d.asyncActionDispatcher=o;return d}));var p=n("BDi3");const f=({titleText:e,message:t,ignore:n=!1,ignoreStatusCodes:r=[],silenceErrorReportingCodes:i=[0],silenceErrorReporting:s=!1,error:o})=>{if(n||o&&r.some((e=>e===o.status)))return(0,p.buildErrorMetaObject)({ignore:!0});o&&i.some((e=>e===o.status))&&(s=!0);return(0,p.buildErrorMetaObject)({titleText:e,message:t,silenceErrorReporting:s})};var h=n("wQJz"),g=n("nDpY"),m=n.n(g),E=n("eLSo");async function T({senderId:e,agentType:t,sessionId:n,threadId:r}){const i=m().get(),s=await E.default.get("livechat-public/v1/responder/batch",{query:{agentType:t,portalId:i,sessionId:n,threadId:r,agentId:e}});return Array.isArray(s)?s[0]:null}const y=d({actionTypes:n("fjpq").FETCH_AGENT_RESPONDER,requestFn:T,toRecordFn:h.default,failureMetaActionCreator:f})},kTjR:function(e,t,n){"use strict";var r=n("QYOI"),i=n("9Mwj"),s=n("c1C1"),o=n("BvOu"),a=n("xrOf"),c=n("W26t");class u extends((0,r.Record)({"@type":a.FILTERED_CHANGE,id:null,timestamp:null,sender:(0,r.Map)(),messageDeletedStatus:i.NOT_DELETED,auditParams:(0,c.buildAudit)(),filteredChangeInfo:(0,r.Map)()},"FilteredChangeMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,o.generateUuid)(),auditParams:(0,c.buildAudit)(e.auditParams),timestamp:e.timestamp||(0,s.generateUniqueClientTimestamp)("FilteredChangeMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=u},kTyA:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-visitor-experience-components":{"code-splitting":{error:{title:"There was a network connection issue.",message:"Please check your connection and try again.",button:"Try again"}}}}})}},kWFB:function(e,t,n){"use strict";n.d(t,{hasMessages:function(){return o}});var r=n("DdHT"),i=n("Hnia"),s=n("8J5U");const o=e=>{(0,i.threadHistoryInvariant)(e);return(0,r.default)(s.getMessages,(e=>!!(e&&e.size>0)))(e)}},kdZJ:function(e,t,n){"use strict";n.d(t,{READ_THREAD:function(){return r}});const r="READ_THREAD"},kevw:function(e,t,n){"use strict";n.d(t,{getCompanyLogo:function(){return c},getCustomChatName:function(){return s},getFallback:function(){return o},getType:function(){return a}});var r=n("MJM1"),i=n("3HLt");const s=(0,r.default)(i.CUSTOM_CHAT_NAME),o=(0,r.default)(i.FALLBACK),a=((0,r.default)(i.TEAM_IDS),(0,r.default)(i.TYPE)),c=((0,r.default)(i.USER_IDS),(0,r.default)(i.COMPANY_LOGO));(0,r.default)(i.USE_CUSTOM_BRANDING_ALIAS)},kfJr:function(e,t,n){"use strict";n.d(t,{SYSTEM_SENDER_ID:function(){return r}});const r="hubspot"},kg2E:function(e,t,n){"use strict";var r=n("QYOI"),i=n("4vna"),s=n("DmNG"),o=n("Hnb1");const a=new r.Record({displayOnScrollPercentage:new i.default,displayOnTimeDelay:new s.default,displayOnExitIntent:new o.default},"ClientTriggers");t.default=a},khQs:function(e,t,n){e.exports=n.dlbpr(2,"AguI")},kmmH:function(e){function t(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=t},knjC:function(e,t,n){"use strict";var r=n("QYOI"),i=n("uOZ5");t.default=(0,r.Record)({"@type":i.COMPANY,companyLogoUrl:"",customChatName:"",useCustomBrandingAsAgentAlias:!1},"CompanyChatHeadingConfig")},kqCt:function(e,t,n){"use strict";n.d(t,{buildCMFSender:function(){return l}});var r=n("Gc2C"),i=n("Mx3c"),s=n("l7FR");s.AGENT_ACTOR,i.AGENT,s.BOT_ACTOR,i.BOT,s.INTEGRATOR_ACTOR,i.INTEGRATOR,s.SYSTEM_ACTOR,i.SYSTEM,s.VISITOR_ACTOR,i.VISITOR,s.EMAIL_ACTOR,i.EMAIL;const o={[i.AGENT]:s.AGENT_ACTOR,[i.BOT]:s.BOT_ACTOR,[i.INTEGRATOR]:s.INTEGRATOR_ACTOR,[i.SYSTEM]:s.SYSTEM_ACTOR,[i.VISITOR]:s.VISITOR_ACTOR,[i.EMAIL]:s.EMAIL_ACTOR},a=e=>o[e]||null;var c=n("TWJS");const u=Object.keys(i),l=({senderType:e=null,senderId:t=null,senderField:n=null,deliveryIdentifier:i=null})=>{(0,r.default)(null===e||u.includes(e),`Invalid sender type. Should be one of ${u.join(" | ")}. Received %s`,e);const o=null===e?null:a(e);return(0,c.default)({actorId:o&&o!==s.EMAIL_ACTOR&&t?`${o}-${t}`:void 0,senderField:n,deliveryIdentifier:i})}},kyOS:function(e,t,n){"use strict";n.d(t,{getShouldHideWelcomeMessage:function(){return s}});var r=n("dLEV"),i=n("vStR");const s=(0,r.createSelector)([i.getWidgetUiState],(e=>e.hideWelcomeMessage))},l0Ga:function(e,t,n){"use strict";n.d(t,{EMAIL_CAPTURE_RESPONSE:function(){return r}});const r="EMAIL_CAPTURE_RESPONSE"},l7FR:function(e,t,n){"use strict";n.d(t,{AGENT_ACTOR:function(){return r},BOT_ACTOR:function(){return i},EMAIL_ACTOR:function(){return c},INTEGRATOR_ACTOR:function(){return s},SYSTEM_ACTOR:function(){return o},VISITOR_ACTOR:function(){return a}});const r="A",i="B",s="I",o="S",a="V",c="E"},lEMs:function(e,t,n){"use strict";n.d(t,{getTypingTimeoutIdForAgentInThread:function(){return i}});var r=n("MJM1");const i=({threadId:e,senderId:t,typingStates:n})=>(0,r.default)([e,t],n)},lEkO:function(e,t,n){"use strict";n.d(t,{getThreadList:function(){return o}});var r=n("dLEV"),i=n("lztA"),s=n("1EAY");const o=(0,r.createSelector)([i.getThreads],(e=>{if(e)return e.toList().filter((e=>(0,s.isPersistedThread)(e))).sortBy((e=>-e.latestMessageTimestamp))}))},lJFu:function(e,t,n){"use strict";n.d(t,{buildCreatedThread:function(){return f}});var r=n("UxsU"),i=n("rf4d"),s=n("Xvzl"),o=n("DdHT"),a=n("nf9S"),c=n("Hnia"),u=n("8J5U");const l=e=>{(0,c.threadHistoryInvariant)(e);return(0,o.default)(u.getMessages,(0,s.default)(a.isConversationalMessage),(e=>e&&e.last()))(e)};var d=n("nzmY"),p=n("0IK8");const f=({channelDetails:e,messagesPageUri:t,threadHistory:n,threadId:s})=>(0,d.buildThread)({channelDetails:e,currentUrl:t,latestMessageTimestamp:(0,p.getTimestamp)(l(n)),originalGenericChannelId:i.LIVE_CHAT_GENERIC_CHANNEL_ID,status:r.default.STARTED,threadId:s})},lTIY:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r=n("QJvi"),i=n("scKg");function s(e,t){(0,r.default)(e);(0,i.default)(t);switch(e){case 0:return function(){return t(...arguments)};case 1:return function(e){return t(...arguments)};case 2:return function(e,n){return t(...arguments)};case 3:return function(e,n,r){return t(...arguments)};case 4:return function(e,n,r,i){return t(...arguments)};case 5:return function(e,n,r,i,s){return t(...arguments)};case 6:return function(e,n,r,i,s,o){return t(...arguments)};case 7:return function(e,n,r,i,s,o,a){return t(...arguments)};case 8:return function(e,n,r,i,s,o,a,c){return t(...arguments)};case 9:return function(e,n,r,i,s,o,a,c,u){return t(...arguments)};default:return t}}},lkO4:function(e,t,n){"use strict";n.d(t,{makeTypicalResponseTimeText:function(){return o}});var r=n("npjq");function i({customResponseQuantity:e,customResponseUnit:t}){return r.default.text(`conversations-internal-schema.typicalResponseTime.customResponses.${t}`,{count:e})}function s({standardResponse:e}){return r.default.text(`conversations-internal-schema.typicalResponseTime.standardResponses.${e}`)}function o({typicalResponseTime:e}={}){if(!e)return;const{usingCustomResponse:t,standardResponse:n,customResponseQuantity:r,customResponseUnit:o}=e;return t&&!r?"":t?i({customResponseQuantity:r,customResponseUnit:o}):s({standardResponse:n})}},lnDz:function(e,t,n){"use strict";n.d(t,{attachmentUploadComplete:function(){return s}});var r=n("dLEV"),i=n("OIId");const s=(0,r.createAction)(i.ATTACHMENT_UPLOAD_COMPLETE,(({localId:e,threadId:t,fileId:n,uploadedFile:r})=>({payload:{localId:e,threadId:t,fileId:n,uploadedFile:r}})))},ltgT:function(e,t,n){"use strict";n.d(t,{default:function(){return g}});var r=n("QOxE"),i=n("+/QE"),s=n.n(i),o=n("t6nY"),a=n.n(o),c=n("DK+f"),u=n.n(c),l=n("F3hY"),d=n("L82M"),p=n("GdKg"),f=n("npjq"),h=n("W5Gz");class g extends r.Component{constructor(...e){super(...e);this.renderAvatar=()=>{const{isBot:e,avatar:t,avatarAlt:n,avatarName:r,style:i,size:s,online:o,showStatus:a}=this.props;let c=t;null===t&&e&&(c=u());const g=f.default.text("conversations-visitor-experience-components.default.agent"),m={style:i,src:c,className:"chat-head-avatar",size:s,alt:void 0===n?f.default.text("conversations-visitor-experience-components.default.avatar",{identifier:r||g}):n};if(a){const e=o?d.ONLINE:d.OFFLINE;m.alt=f.default.text(e===d.ONLINE?"conversations-visitor-experience-components.default.avatarAvailable":"conversations-visitor-experience-components.default.avatarAway",{identifier:r||g});const t="ms"===s?"sm":s;return(0,h.jsx)(l.default,{status:e,size:t,children:(0,h.jsx)(p.default,Object.assign({},m))})}return(0,h.jsx)(p.default,Object.assign({},m))}}render(){const{onClick:e,className:t,disabled:n}=this.props,r=a()("chat-head",t,n&&"chat-head-disabled");return(0,h.jsx)("div",{className:r,onClick:e,children:this.renderAvatar()})}}g.displayName="ChatHead";g.propTypes={avatar:s().string,avatarAlt:s().string,avatarName:s().string,className:s().string,disabled:s().bool,isBot:s().bool,onClick:s().func,online:s().bool.isRequired,showStatus:s().bool.isRequired,size:s().string.isRequired,style:s().object};g.defaultProps={avatar:null,avatarName:"",away:!1,disabled:!1,online:!1,showStatus:!1,isVisitorWidget:!1,size:"md"}},lu1e:function(e,t,n){"use strict";n.d(t,{FADE:function(){return r},SCALE:function(){return i}});const r="fade",i="scale"},lztA:function(e,t,n){"use strict";n.d(t,{getThreads:function(){return o}});var r=n("dLEV"),i=n("KXN9"),s=n("YNiY");const o=(0,r.createSelector)([s.getThreadsAsyncData],(e=>(0,i.getData)(e)))},mE3N:function(e,t,n){"use strict";n.d(t,{getMessageIsApproximatelyFromCurrentSession:function(){return s}});var r=n("0IK8"),i=n("BOwv");const s=e=>Date.now()-(0,r.getTimestamp)(e)<i.SESSION_EXPIRY_TIME_APPROXIMATION_IN_MS},mEYk:function(e,t,n){e.exports=n.dlbpr(0,"XCKn")},mFyM:function(e,t,n){"use strict";n.d(t,{BOT_HANDOFF:function(){return r},MANUAL:function(){return i},MULTIPLE:function(){return s},SYSTEM_MIGRATION:function(){return a},SYSTEM_TEST:function(){return c},UNKNOWN:function(){return u},VISITOR:function(){return o}});const r="BOT_HANDOFF",i="MANUAL",s="MULTIPLE",o="VISITOR",a="SYSTEM_MIGRATION",c="SYSTEM_TEST",u="UNKNOWN"},mKxs:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});const r=(e,t,n=null)=>Object.assign(e.bind(),{typeName:t,typeChecker:n,isRequired:Object.assign(e.isRequired.bind(),{typeName:t,typeChecker:n,typeRequired:!0})});function i(e){if("string"!=typeof e)throw new TypeError("a string is required for the RecordPropType");const t=function(t,n,r){const i=t[n];if(null==i)return null;const s=i._name;return s?s!==e?new Error(`Invalid Record prop \`${n}\` of type \`${s}\` supplied to \`${r}\`. Expected \`${e}\``):null:new Error(`Invalid prop \`${n}\` of type \`${typeof i}\` supplied to \`${r}\`. Expected Record of type \`${e}\``)};t.isRequired=function(e,n,r){return e[n]?t(e,n,r):new Error(`Required ${n} was not specified in ${r}`)};return r(t,`recordIsType: ${e}`)}var s=i},"mYl/":function(e,t,n){"use strict";n.d(t,{onMessageReceived:function(){return x}});var r=n("EQzX"),i=n("8ghC"),s=n("i6ES"),o=n("Cblj"),a=n("0934"),c=n("C3IS"),u=n("jguV"),l=n("amlY"),d=n("H7nP"),p=n("wZdh"),f=n("vuNk"),h=n("qg6t"),g=n("KDEO"),m=n("H5md");const E=({message:e,channel:t,threadId:n})=>r=>{r((0,d.defaultMessageReceived)(e,t,n))};var T=n("DB67"),y=n("dLEV"),A=n("t0Ql");const b=(0,y.createAction)(A.GENERIC_CHANNEL_CHANGE_RECEIVED,(({threadId:e})=>({payload:{threadId:e}})));var v=n("9i6G"),I=n("0IK8"),S=n("N76F"),C=n("Kjd/"),_=n("eF9A"),O=n("ibex"),R=n("nJcY");const x=({threadId:e,message:t,channel:n,publishContext:y={}})=>(A,x)=>{const{data:w,clientId:N}=t,D=(0,f.getThreadByThreadId)(x(),{threadId:e});if("GENERIC_CHANNEL_CHANGE"===(0,I.getType)(w)||"THREAD_PAUSED_ON_GENERIC_CHANNEL"===(0,I.getType)(w)&&1e3===w.isPausedOn){A(b({threadId:e}));return}if((0,I.getType)(w)===v.CHANNEL_CHANGE){A((0,T.channelChangeReceived)({channelChange:new v.ChannelChange(w),threadId:e}));return}const L=(0,u.deserialize)({json:w});(0,C.validateMessageClientType)({message:L,clientId:N});switch(!0){case(0,O.isPartialMessage)(L):A((0,h.dismissTypingIndicator)(L,e));A((0,R.partialMessageReceived)({message:L,channel:n,threadId:e,publishContext:y}));break;case(0,a.isCrmObjectLifecycleUpdate)(L):break;case(0,c.isCommonMessageFormat)(L):A((0,h.dismissTypingIndicator)(L,e));A((0,d.defaultMessageReceived)(L,n,e,y));A((0,p.resolveAttachmentsForMessage)({message:L,threadId:e}));break;case(0,_.isAssignmentUpdateMessage)(L):A((0,l.assignmentV2MessageReceived)(L,n,e));break;case(0,s.isContactAssociationMessage)(L):(0,S.onContactAssociated)();break;case(0,o.isTypingMessage)(L):y.playback||A((0,g.typingMessageReceived)(L,e));break;case(0,r.isCloseThreadMessage)(L):A((0,m.closeThreadMessageReceived)({message:L,thread:D,channel:n}));break;case(0,i.isOpenThreadMessage)(L):A(E({message:L,channel:n,threadId:e}));break;default:A((0,d.defaultMessageReceived)(L,n,e,y))}}},mZIr:function(e,t,n){"use strict";var r=n("QYOI"),i=n("xw3r"),s=n("8+iK"),o=n("9Mwj"),a=n("ubOH"),c=n("rA/t");class u extends((0,r.Record)({"@type":i.CUSTOMER_AGENT_MAINTENANCE_MODE_MESSAGE,ablyTs:null,attachments:(0,r.List)(),channelInstanceId:null,clientType:null,contentType:s.SIMPLE,direction:"",directReplyToMessageId:null,echo:null,genericChannelId:null,hiddenBy:null,id:null,inReplyToId:null,integrationAppId:null,messageDeletedStatus:o.NOT_DELETED,recipients:(0,r.List)(),richText:"",sender:(0,r.Map)(),senders:(0,r.List)(),status:(0,a.default)(),text:"",timestamp:null},"CustomerAgentMaintenanceModeMessage")){constructor(e){super(e&&(0,c.buildSendersFromLegacySender)(e))}}t.default=u},ma7q:function(e,t,n){"use strict";n.d(t,{buildOrderedMessageMap:function(){return c}});var r=n("QYOI"),i=n("Gc2C"),s=n("0IK8"),o=n("jguV");const a=e=>(0,o.deserialize)({json:e}),c=(e=(0,r.OrderedMap)())=>{(0,i.default)(r.Iterable.isIterable(e)||Array.isArray(e),"Expected messages to be iterable not a `%s`",typeof e);return e.reduce(((e,t)=>{const n=a(t),r=(0,s.getId)(n);return e.set(r,n)}),(0,r.OrderedMap)())}},mbYX:function(e,t,n){"use strict";n.d(t,{getKnowledgeBaseUrl:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("49A5");const o=(0,r.createSelector)([s.getLatestWidgetData],(0,i.default)("knowledgeBaseUrl"))},mc4r:function(e,t){"use strict";const n=e=>Boolean("string"==typeof e&&e.length);t.default=n},mlLV:function(e,t,n){"use strict";n.r(t);n.d(t,{AUDIO_PLAYBACK_COMPLETE:function(){return A},AUDIO_PLAYBACK_STARTED:function(){return y},CONTACT_ASSOCIATED:function(){return a},CONVERSATION_CLOSED:function(){return i},CONVERSATION_STARTED:function(){return r},INPUT_STAGING:function(){return o},MESSAGE_INPUT_STATE_CHANGED:function(){return v},MIC_BUTTON_CLICK:function(){return h},MIC_BUTTON_STOP:function(){return g},PLAY_BUTTON_PAUSE:function(){return E},PLAY_BUTTON_PLAY:function(){return m},QUICK_REPLY_BUTTON_CLICK:function(){return u},SDK_CLOSE_BUTTON_CLICK:function(){return f},SPEECH_POC_ACTIVE:function(){return T},SPEECH_TO_TEXT_RESULT:function(){return b},UNREAD_CONVERSATION_COUNT_CHANGED:function(){return s},USER_INTERACTED_WITH_WIDGET:function(){return c},USER_SELECTED_THREAD:function(){return p},WIDGET_CLOSED:function(){return d},WIDGET_LOADED:function(){return l}});const r="conversationStarted",i="conversationClosed",s="unreadConversationCountChanged",o="inputStaging",a="contactAssociated",c="userInteractedWithWidget",u="quickReplyButtonClick",l="widgetLoaded",d="widgetClosed",p="userSelectedThread",f="sdkCloseButtonClick",h="micButtonClick",g="micButtonStop",m="playButtonPlay",E="playButtonPause",T="speechPocActive",y="audioPlaybackStarted",A="audioPlaybackComplete",b="speechToTextResult",v="messageInputStateChanged"},mrEz:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},"n/Ww":function(e,t,n){"use strict";n.d(t,{setSelectedCategory:function(){return l}});var r=n("dLEV"),i=n("3zN8"),s=n("MmUS"),o=n("glWH"),a=n("g9mg");const c={recommendedArticles:[],articleCategories:[],selectedCategory:{name:"",id:-1,articles:[]},requestStatus:{recommendedArticles:a.UNINITIALIZED,articleCategories:a.UNINITIALIZED,selectedCategoryArticles:a.UNINITIALIZED}},u=(0,r.createSlice)({name:"kbLibrary",initialState:c,reducers:{setSelectedCategory:(e,t)=>{const n=e.selectedCategory.id,r=t.payload.id;e.selectedCategory.name=t.payload.name;e.selectedCategory.id=r;if(-1!==n&&n!==r){e.selectedCategory.articles=[];e.requestStatus.selectedCategoryArticles=a.UNINITIALIZED}}},extraReducers:e=>{e.addCase(i.fetchRecommendedArticles.pending,(e=>{e.requestStatus.recommendedArticles=a.PENDING})).addCase(i.fetchRecommendedArticles.fulfilled,((e,t)=>{e.requestStatus.recommendedArticles=a.SUCCEEDED;e.recommendedArticles=t.payload})).addCase(i.fetchRecommendedArticles.rejected,(e=>{e.requestStatus.recommendedArticles=a.FAILED})).addCase(s.fetchArticleCategories.pending,(e=>{e.requestStatus.articleCategories=a.PENDING})).addCase(s.fetchArticleCategories.fulfilled,((e,t)=>{e.requestStatus.articleCategories=a.SUCCEEDED;e.articleCategories=t.payload})).addCase(s.fetchArticleCategories.rejected,(e=>{e.requestStatus.articleCategories=a.FAILED})).addCase(o.fetchCategoryArticles.pending,(e=>{e.requestStatus.selectedCategoryArticles=a.PENDING})).addCase(o.fetchCategoryArticles.fulfilled,((e,t)=>{var n;e.requestStatus.selectedCategoryArticles=a.SUCCEEDED;e.selectedCategory.articles=Array.isArray(t.payload)?t.payload:Array.isArray(null===(n=t.payload)||void 0===n?void 0:n.results)?t.payload.results:[]})).addCase(o.fetchCategoryArticles.rejected,(e=>{e.requestStatus.selectedCategoryArticles=a.FAILED}))}}),{setSelectedCategory:l}=u.actions;t.default=u.reducer},n6ol:function(e,t,n){"use strict";n.d(t,{API_REQUEST:function(){return E},API_REQUEST_RESULT:function(){return M},BROWSER_WINDOW_RESIZE:function(){return O},CLEAR_PAGE_TITLE_NOTIFICATION:function(){return p},CLOSED_WELCOME_MESSAGE:function(){return a},DRAG_HANDLE_POSITION_CHANGE:function(){return o},ENTRY_URL_METADATA:function(){return B},EXIT_INTENT:function(){return x},FIRST_VISITOR_SESSION:function(){return I},GLOBAL_COOKIE_OPT_OUT:function(){return b},HUBSPOT_UTK:function(){return A},I18N_LABELS:function(){return T},IFRAME_RESIZE:function(){return r},INPUT_TEXT_CHANGED:function(){return i},KB_RELATED_ARTICLE_CLICKED:function(){return k},OPEN_CHANGE:function(){return s},OPEN_TO_NEW_THREAD:function(){return L},PERF_ATTRIBUTES:function(){return w},REFRESH_WIDGET_DATA:function(){return S},REQUEST_CLOSE:function(){return _},REQUEST_OPEN:function(){return C},REQUEST_WIDGET:function(){return u},SCREEN_CAPTURE_BLOB:function(){return v},SCREEN_CAPTURE_REQUEST:function(){return c},SCROLL_PERCENTAGE_CHANGE:function(){return R},SET_INPUT_TEXT:function(){return H},SHOW_PAGE_TITLE_NOTIFICATION:function(){return d},SPEECH_POC:function(){return U},START_TRACK_EXIT_INTENT:function(){return g},START_TRACK_SCROLL_PERCENTAGE:function(){return f},STOP_TRACK_EXIT_INTENT:function(){return m},STOP_TRACK_SCROLL_PERCENTAGE:function(){return h},STORE_MESSAGES_COOKIE:function(){return l},TRACK_API_USAGE:function(){return N},TRACK_WIDGET_DRAGGED:function(){return D},VISITOR_IDENTIFICATION_ATTRIBUTES:function(){return P},WIDGET_DATA:function(){return y}});const r="iframe-resize",i="input-text-changed",s="open-change",o="drag-handle-position-change",a="closed-welcome-message",c="screen-capture-request",u="request-widget",l="store-messages-cookie",d="show-page-title-notification",p="clear-page-title-notification",f="start-track-scroll-percentage",h="stop-track-scroll-percentage",g="start-track-exit-intent",m="stop-track-exit-intent",E="api-request",T="i18n-labels",y="widget-data",A="hubspot-utk",b="global-cookie-opt-out",v="screen-capture-blob",I="first-visitor-session",S="refresh-widget-data",C="request-open",_="request-close",O="browser-window-resize",R="scroll-percentage-change",x="exit-intent",w="perf-attributes",N="track-api-usage",D="track-widget-dragged",L="open-to-new-thread",M="api-request-result",P="visitor-identification-attributes",k="kb-related-article-clicked",U="speech-poc",B="entry-url-metadata",H="set-input-text"},nDpY:function(e,t,n){e.exports=n.dlbpr(0,"ig2a")},nJcY:function(e,t,n){"use strict";n.d(t,{partialMessageReceived:function(){return u}});var r=n("H7nP"),i=n("ZSXR"),s=n("C3IS"),o=n("pTe9"),a=n("0IK8"),c=n("/He/");const u=({message:e,channel:t,threadId:n,publishContext:u})=>(l,d)=>{const p=d(),f=(0,i.getCurrentThreadHistoryEntry)(p).getIn(["data",...c.MESSAGE_RESULTS,e.get("completedMessageId")]);if(f&&(0,s.isCommonMessageFormat)(f))return;if(f&&((0,o.getPartialOrdinal)(f)>(0,o.getPartialOrdinal)(e)||(0,a.getTimestamp)(f)>(0,a.getTimestamp)(e)))return;const h=e.set("id",(0,o.getCompletedMessageId)(e)).set("timestamp",(0,o.getCompletedMessageTimestamp)(e));l((0,r.defaultMessageReceived)(h,t,n,u))}},nS6h:function(e,t,n){"use strict";n.d(t,{publishMessageToConversation:function(){return a}});var r=n("eg5p"),i=n("goDm"),s=n("N1gu"),o=n("4SpI");function a({channel:e,message:t,threadId:n}){return a=>{n===r.STUBBED_THREAD_ID?a((0,i.stageMessageOnStubbedThread)(t)):a((0,o.publishMessage)({channel:e,message:t,threadId:n})).then((()=>a((0,s.addAvailabilityMessage)({channel:e,threadId:n})))).catch((e=>{setTimeout((()=>{throw e}))}))}}},nSiU:function(e,t,n){"use strict";n.d(t,{getError:function(){return l},getErrorMeta:function(){return s},getErrorTitle:function(){return o},ignoreError:function(){return a},isSilent:function(){return c},isVisibleErrorAction:function(){return u}});var r=n("MJM1");const i=(0,r.default)(["payload","error"]),s=(0,r.default)(["meta","error"]),o=(0,r.default)(["meta","error","titleText"]),a=((0,r.default)(["meta","error","message"]),(0,r.default)(["meta","error","ignore"])),c=(0,r.default)(["meta","error","silent"]),u=((0,r.default)(["meta","error","silenceErrorReporting"]),(0,r.default)(["meta","error","isVisibleToUser"])),l=e=>{if(e.payload instanceof Error)return e.payload;const t=i(e);return t instanceof Error?t:null}},"na/J":function(e,t,n){"use strict";n("QOxE");var r=n("W5Gz");const i=e=>(0,r.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,r.jsx)("path",{d:"M12.74 3.995H5.76c-.414 0-.75.336-.75.75v1.99c0 .414.336.75.75.75h6.98c.414 0 .75-.336.75-.75v-1.99c0-.414-.336-.75-.75-.75zM5.755 8.48h6.976l.065-.002c.414 0 .75.335.75.75 0 .414-.336.75-.75.75-.022 0-.043-.001-.062-.003H5.752c-.384-.033-.685-.355-.685-.747 0-.393.301-.715.688-.748zM5.755 10.975h6.977c.022-.002.043-.002.065-.002.414 0 .75.335.75.75 0 .414-.336.75-.75.75-.022 0-.043-.002-.062-.003H5.758l-.065.002c-.414 0-.75-.335-.75-.75 0-.414.336-.75.75-.75.022 0 .044.002.062.003z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.26 1.5h9.995C15.22 1.5 16 2.281 16 3.245v8.96c0 1.515-1.23 2.744-2.745 2.744H1.872C.83 14.889.004 14.026 0 12.969V5.737c.033-.383.355-.685.747-.685.393 0 .715.302.748.688v7.23c0 .281.228.51.51.51.282 0 .51-.229.51-.51V3.245c0-.963.781-1.744 1.745-1.744zm8.98 11.96c.686-.003 1.242-.559 1.245-1.245v-8.96c0-.138-.112-.25-.25-.25H4.26c-.138 0-.25.112-.25.25V13.46h9.23z"})]}));i.displayName="SVGBlog";t.default=i},ncoD:function(e,t,n){"use strict";n.d(t,{getAllAgentResponders:function(){return p}});var r=n("KXN9"),i=n("x1JE"),s=n("Mx3c"),o=n("dLEV"),a=n("Xvzl"),c=n("SGjM"),u=n("DdHT"),l=n("NL4B"),d=n("W/er");const p=(0,o.createSelector)([d.getResponders],(e=>(0,u.default)(i.getEntries,(0,a.default)(((e,t)=>(0,l.getType)(t)===s.AGENT)),(0,c.default)(r.getData))(e)))},neHy:function(e,t,n){"use strict";n.d(t,{operatorInvariant:function(){return i}});var r=n("DrqF");const i=e=>(0,r.default)("function"==typeof e,"Expected an operator to be a `function` not a `%s`",typeof e)},nf9S:function(e,t,n){"use strict";n.d(t,{isConversationalMessage:function(){return s}});var r=n("0IK8"),i=n("uRns");function s(e){const t=(0,r.getType)(e);return i.CONVERSATIONAL_MESSAGE_TYPES.includes(t)}},ng2a:function(e,t,n){"use strict";n.d(t,{removeMessageInConversation:function(){return s}});var r=n("dLEV"),i=n("+tWo");const s=(0,r.createAction)(i.REMOVE_MESSAGE_IN_CONVERSATION,(({message:e,threadId:t})=>({payload:{message:e,threadId:t}})))},nguO:function(e,t,n){"use strict";n.d(t,{ACTIVELY_PUBLISHING:function(){return i},FAILED_TO_PUBLISH:function(){return s},MESSAGE_TYPE_ID:function(){return r}});const r="@type",i="ACTIVELY_PUBLISHING",s="FAILED_TO_PUBLISH"},nhvA:function(e,t,n){"use strict";n.d(t,{getMessageId:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("8dR1");const o=(0,r.createSelector)(s.getWelcomeMessage,(0,i.default)("id"))},npjq:function(e,t){"use strict";let n;n="undefined"!=typeof NO_I18N_GLOBAL&&!0===NO_I18N_GLOBAL?{}:window.I18n=window.I18n||{};t.default=n},nt9Q:function(e,t,n){"use strict";n.d(t,{requestStateUpdate:function(){return o}});var r=n("qjq5"),i=n("DdHT"),s=n("46XF");const o=(0,r.default)(((e,t,n)=>(0,i.default)((0,s.setError)(null),(0,s.setStatus)(e),(0,s.updateData)(t),s.touch)(n)))},nzmY:function(e,t,n){"use strict";n.d(t,{buildThread:function(){return m}});var r=n("P+E7"),i=n("DdHT"),s=n("JGJA"),o=n("nDpY"),a=n.n(o),c=n("GPZA"),u=n("+xqs"),l=n("0NIc"),d=n("qjq5"),p=n("QYOI");const f=(0,d.default)(((e,t)=>(0,p.Map)(e).merge(t))),h=(0,d.default)(((e,t)=>(0,p.Map)(t).merge(e)));(0,d.default)(((e,t)=>(0,p.fromJS)(t).mergeDeep(e)));var g=n("TKd0");function m(e={}){let t=Object.assign({},((0,r.default)(e),e));return(0,i.default)(f({portalId:a().get(),status:c.default.STARTED}),h({unseenCount:(0,s.default)("unseenCount",t)||0,threadPreview:(0,u.default)((0,s.default)("threadPreview",t)),channelDetails:(0,g.default)((0,s.default)("channelDetails",t))}),l.default)(t)}},"o+We":function(e,t,n){"use strict";n.d(t,{closeInitialMessageBubble:function(){return c}});var r=n("R4L7"),i=n("pjpP"),s=n("n6ol"),o=n("CITH");const a=()=>(0,o.postMessageToParent)(s.CLOSED_WELCOME_MESSAGE),c=()=>e=>{a();e((0,r.toggleInitialMessageBubble)(!1,!0));e((0,i.trackUserInteraction)())}},"o/5C":function(e,t,n){"use strict";n.d(t,{getAttachments:function(){return D},getFromSenderEmail:function(){return w},getFromSenderName:function(){return N},getGenericChannelId:function(){return T},getGenericChannelIdForMessage:function(){return M},getHiddenBy:function(){return E},getRecipients:function(){return y},getSenders:function(){return A}});var r=n("QYOI"),i=n("qjq5"),s=n("JGJA"),o=n("DdHT"),a=n("0G/n"),c=n("Mx3c"),u=n("l7FR");u.AGENT_ACTOR,c.AGENT,u.BOT_ACTOR,c.BOT,u.INTEGRATOR_ACTOR,c.INTEGRATOR,u.SYSTEM_ACTOR,c.SYSTEM,u.VISITOR_ACTOR,c.VISITOR,u.EMAIL_ACTOR,c.EMAIL;(0,s.default)("senderField"),(0,s.default)("actorId");const l=(0,s.default)("deliveryIdentifier"),d=(0,s.default)("name");var p=n("Zui/");const f=(0,s.default)("recipientField"),h=((0,s.default)("actorId"),(0,s.default)("singleDeliveryIdentifier")),g=((0,s.default)("deliveryIdentifier"),(0,s.default)("name"),(0,s.default)("value")),m=(0,s.default)("type");n("ZI4L");(0,s.default)("id");const E=(0,s.default)("hiddenBy"),T=((0,s.default)("channelInstanceId"),(0,s.default)("genericChannelId")),y=((0,s.default)("integrationId"),(0,s.default)("recipients")),A=(0,s.default)("senders"),b=f,v=(0,s.default)("senderField"),I=((0,s.default)("direction"),e=>{const t=l(e);return t?t.type:void 0}),S=e=>{const t=l(e);return t?t.value:void 0},C=(e,t)=>e.reduce(((e,n)=>{const r=h(n);return m(r)===t?e.push(g(r)):e}),(0,r.List)()),_=(e,t)=>{const n=y(e);return(0,r.List)(n.filter((e=>b(e)===t)))},O=(e,t)=>{const n=A(e);return n&&n.filter((e=>v(e)===t))||(0,r.List)()},R=(0,i.default)(((e,t,n)=>{const r=_(n,e);return C(r,t)})),x=(0,i.default)(((e,t,n)=>{const r=O(n,e);if(r.size){const e=r.first(),n=I(e);if(n&&n===t){return S(e)||""}}return""}));R("TO",a.HS_EMAIL_ADDRESS),R("CC",a.HS_EMAIL_ADDRESS),R("BCC",a.HS_EMAIL_ADDRESS),(0,o.default)(y,(e=>e.reduce(((e,t)=>{const n=h(t).value;return n&&!Number.isInteger(n)?e.push(n):e}),(0,r.List)())));const w=x("FROM",a.HS_EMAIL_ADDRESS),N=(x("ORIGINAL_FROM",a.HS_EMAIL_ADDRESS),e=>{const t=A(e);return t&&t.size>0&&d(t.first())}),D=(0,s.default)("attachments"),L=(0,i.default)(((e,t)=>{const n=D(t);if(n)return n.find((t=>Boolean(t&&(0,s.default)("@type",t)===e)))})),M=((0,i.default)(((e,t)=>{const n=D(t);if(n)return n.find((t=>Boolean(t&&(0,s.default)("@type",t)===e)))})),L(p.EMAIL_METADATA),L(p.FILES),e=>T(e))},o3Zl:function(e,t,n){"use strict";n.d(t,{TOGGLE_INITIAL_MESSAGE_BUBBLE:function(){return r}});const r="TOGGLE_INITIAL_MESSAGE_BUBBLE"},o4fP:function(e,t,n){"use strict";n.d(t,{getThreadHistories:function(){return r}});const r=(0,n("JGJA").default)("threadHistories")},oehR:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n("9f1P"),i=n.n(r),s=n("uax2"),o=n("W5Gz");const a=i().div.withConfig({displayName:"LoadingState__LoadingStateWrapper"})(["height:100%;"]);function c(){return(0,o.jsx)(a,{children:(0,o.jsx)(s.default,{grow:!0})})}c.displayName="LoadingState"},ogEP:function(e,t,n){"use strict";n.d(t,{setChannelName:function(){return i}});var r=n("bYG+");const i=(0,r.default)("name");(0,r.default)("type")},okjX:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-internal-schema":{typicalResponseTime:{standardResponses:{FEW_MINUTES:"We typically reply in a few minutes",FEW_HOURS:"We typically reply in a few hours",WITHIN_DAY:"We typically reply in a day"},customResponses:{MINUTES:{one:"We typically reply in {{ count }} minute",other:"We typically reply in {{ count }} minutes"},HOURS:{one:"We typically reply in {{ count }} hour",other:"We typically reply in {{ count }} hours"},DAYS:{one:"We typically reply in {{ count }} day",other:"We typically reply in {{ count }} days"}}}}}})}},okxY:function(e,t,n){"use strict";n.d(t,{FocusScope:function(){return g},focusSafely:function(){return u},useFocusManager:function(){return m},useFocusable:function(){return B}});var r=n("3RTs"),i=n("QOxE"),s=n.n(i),o=n("Zulv"),a=n("xr6y");const c=["ref"];function u(e){if("virtual"===(0,a.getInteractionModality)()){let t=document.activeElement;(0,o.runAfterTransition)((()=>{document.activeElement===t&&document.contains(e)&&(0,o.focusWithoutScrolling)(e)}))}else(0,o.focusWithoutScrolling)(e)}function l(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let{display:t,visibility:n}=e.style,r="none"!==t&&"hidden"!==n&&"collapse"!==n;if(r){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:i}=t(e);r="none"!==n&&"hidden"!==i&&"collapse"!==i}return r}function d(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}function p(e,t){return"#comment"!==e.nodeName&&l(e)&&d(e,t)&&(!e.parentElement||p(e.parentElement,e))}const f=s().createContext(null);let h=null;function g(e){let{children:t,contain:n,restoreFocus:r,autoFocus:a}=e,c=(0,i.useRef)(),u=(0,i.useRef)(),l=(0,i.useRef)([]),d=(0,i.useContext)(f);var p;let g=null!==(p=null==d?void 0:d.scopeRef)&&void 0!==p?p:null;(0,o.useLayoutEffect)((()=>{let e=c.current.nextSibling,t=[];for(;e&&e!==u.current;){t.push(e);e=e.nextSibling}l.current=t}),[t,g]);P.getTreeNode(g)&&!P.getTreeNode(l)&&P.addTreeNode(l,g);P.getTreeNode(l).contain=n;I(l,n);N(l,r,n);w(l,a);(0,o.useLayoutEffect)((()=>{if(l&&(g||null==g))return()=>{l!==h&&!O(l,h)||g&&!P.getTreeNode(g)||(h=g);P.removeTreeNode(l)}}),[l,g]);let m=E(l);return s().createElement(f.Provider,{value:{scopeRef:l,focusManager:m}},s().createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:c}),t,s().createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:u}))}function m(){var e;return null===(e=(0,i.useContext)(f))||void 0===e?void 0:e.focusManager}function E(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:i,wrap:s,accept:o}=t,a=r||document.activeElement,c=n[0].previousElementSibling,u=D(b(n),{tabbable:i,accept:o},n);u.currentNode=C(a,n)?a:c;let l=u.nextNode();if(!l&&s){u.currentNode=c;l=u.nextNode()}l&&R(l,!0);return l},focusPrevious(t={}){let n=e.current,{from:r,tabbable:i,wrap:s,accept:o}=t,a=r||document.activeElement,c=n[n.length-1].nextElementSibling,u=D(b(n),{tabbable:i,accept:o},n);u.currentNode=C(a,n)?a:c;let l=u.previousNode();if(!l&&s){u.currentNode=c;l=u.previousNode()}l&&R(l,!0);return l},focusFirst(t={}){let n=e.current,{tabbable:r,accept:i}=t,s=D(b(n),{tabbable:r,accept:i},n);s.currentNode=n[0].previousElementSibling;let o=s.nextNode();o&&R(o,!0);return o},focusLast(t={}){let n=e.current,{tabbable:r,accept:i}=t,s=D(b(n),{tabbable:r,accept:i},n);s.currentNode=n[n.length-1].nextElementSibling;let o=s.previousNode();o&&R(o,!0);return o}}}const T=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],y=T.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";T.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const A=T.join(':not([hidden]):not([tabindex="-1"]),');function b(e){return e[0].parentElement}function v(e){let t=P.getTreeNode(h);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function I(e,t){let n=(0,i.useRef)(),r=(0,i.useRef)(null);(0,o.useLayoutEffect)((()=>{let i=e.current;if(!t){if(r.current){cancelAnimationFrame(r.current);r.current=null}return}let s=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!v(e))return;let n=document.activeElement,r=e.current;if(!C(n,r))return;let i=D(b(r),{tabbable:!0},r);i.currentNode=n;let s=t.shiftKey?i.previousNode():i.nextNode();if(!s){i.currentNode=t.shiftKey?r[r.length-1].nextElementSibling:r[0].previousElementSibling;s=t.shiftKey?i.previousNode():i.nextNode()}t.preventDefault();s&&R(s,!0)},o=t=>{if(!h||O(h,e)){h=e;n.current=t.target}else v(e)&&!_(t.target,e)?n.current?n.current.focus():h&&x(h.current):v(e)&&(n.current=t.target)},a=t=>{r.current=requestAnimationFrame((()=>{if(v(e)&&!_(document.activeElement,e)){h=e;if(document.body.contains(t.target)){n.current=t.target;n.current.focus()}else h&&x(h.current)}}))};document.addEventListener("keydown",s,!1);document.addEventListener("focusin",o,!1);i.forEach((e=>e.addEventListener("focusin",o,!1)));i.forEach((e=>e.addEventListener("focusout",a,!1)));return()=>{document.removeEventListener("keydown",s,!1);document.removeEventListener("focusin",o,!1);i.forEach((e=>e.removeEventListener("focusin",o,!1)));i.forEach((e=>e.removeEventListener("focusout",a,!1)))}}),[e,t]);(0,i.useEffect)((()=>()=>{r.current&&cancelAnimationFrame(r.current)}),[r])}function S(e){return _(e)}function C(e,t){return t.some((t=>t.contains(e)))}function _(e,t=null){for(let{scopeRef:n}of P.traverse(P.getTreeNode(t)))if(C(e,n.current))return!0;return!1}function O(e,t){var n;let r=null===(n=P.getTreeNode(t))||void 0===n?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function R(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{u(e)}catch(e){}}function x(e,t=!0){let n=e[0].previousElementSibling,r=D(b(e),{tabbable:t},e);r.currentNode=n;let i=r.nextNode();if(t&&!i){r=D(b(e),{tabbable:!1},e);r.currentNode=n;i=r.nextNode()}R(i)}function w(e,t){const n=s().useRef(t);(0,i.useEffect)((()=>{if(n.current){h=e;C(document.activeElement,h.current)||x(e.current)}n.current=!1}),[e])}function N(e,t,n){const r=(0,i.useRef)("undefined"!=typeof document?document.activeElement:null);(0,o.useLayoutEffect)((()=>{let r=e.current;if(!t||n)return;let i=()=>{h&&!O(h,e)||(h=e)};document.addEventListener("focusin",i,!1);r.forEach((e=>e.addEventListener("focusin",i,!1)));return()=>{document.removeEventListener("focusin",i,!1);r.forEach((e=>e.removeEventListener("focusin",i,!1)))}}),[e,n]);(0,o.useLayoutEffect)((()=>{P.getTreeNode(e).nodeToRestore=r.current;if(!t)return;let i=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey)return;let n=document.activeElement;if(!C(n,e.current))return;let r=P.getTreeNode(e).nodeToRestore,i=D(document.body,{tabbable:!0});i.currentNode=n;let s=t.shiftKey?i.previousNode():i.nextNode();if(!document.body.contains(r)||r===document.body){r=null;P.getTreeNode(e).nodeToRestore=null}if((!s||!C(s,e.current))&&r){i.currentNode=r;do{s=t.shiftKey?i.previousNode():i.nextNode()}while(C(s,e.current));t.preventDefault();t.stopPropagation();s?R(s,!0):S(r)?R(r,!0):n.blur()}};n||document.addEventListener("keydown",i,!0);return()=>{n||document.removeEventListener("keydown",i,!0);let r=P.getTreeNode(e).nodeToRestore;if(t&&r&&(C(document.activeElement,e.current)||document.activeElement===document.body&&h===e)){let t=P.clone();requestAnimationFrame((()=>{if(document.activeElement===document.body){let n=t.getTreeNode(e);for(;n;){if(n.nodeToRestore&&document.body.contains(n.nodeToRestore)){R(n.nodeToRestore);return}n=n.parent}}}))}}}),[e,t,n])}function D(e,t,n){let r=(null==t?void 0:t.tabbable)?A:y,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var i;return(null==t||null===(i=t.from)||void 0===i?void 0:i.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(r)||!p(e)||n&&!C(e,n)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});(null==t?void 0:t.from)&&(i.currentNode=t.from);return i}class L{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!=t?t:null),i=new M({scopeRef:e});r.addChild(i);i.parent=r;this.fastMap.set(e,i);n&&(i.nodeToRestore=n)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e),n=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef.current&&C(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let r=t.children;n.removeChild(t);r.length>0&&r.forEach((e=>n.addChild(e)));this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){null!=e.scopeRef&&(yield e);if(e.children.length>0)for(let t of e.children)yield*this.traverse(t)}clone(){let e=new L;for(let t of this.traverse())e.addTreeNode(t.scopeRef,t.parent.scopeRef,t.nodeToRestore);return e}constructor(){this.fastMap=new Map;this.root=new M({scopeRef:null});this.fastMap.set(null,this.root)}}class M{addChild(e){this.children.push(e);e.parent=this}removeChild(e){this.children.splice(this.children.indexOf(e),1);e.parent=void 0}constructor(e){this.children=[];this.contain=!1;this.scopeRef=e.scopeRef}}let P=new L;let k=s().createContext(null);function U(e){let t=(0,i.useContext)(k)||{};(0,o.useSyncRef)(t,e);return(0,r.default)(t,c)}function B(e,t){let{focusProps:n}=(0,a.useFocus)(e),{keyboardProps:r}=(0,a.useKeyboard)(e),s=(0,o.mergeProps)(n,r),c=U(t),l=e.isDisabled?{}:c,d=(0,i.useRef)(e.autoFocus);(0,i.useEffect)((()=>{d.current&&t.current&&u(t.current);d.current=!1}),[t]);return{focusableProps:(0,o.mergeProps)(Object.assign({},s,{tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0}),l)}}},ombE:function(e,t,n){"use strict";n.d(t,{getCurrentView:function(){return r}});const r=(0,n("JGJA").default)("currentView")},or04:function(e,t,n){"use strict";n.d(t,{updateVisitorIdentification:function(){return s}});const r={enabled:!1,identificationToken:"",identificationEmail:""},i=(0,n("dLEV").createSlice)({name:"visitorIdentification",initialState:r,reducers:{updateVisitorIdentification:(e,t)=>{const{identificationToken:n,identificationEmail:r}=t.payload;e.enabled=!!n;e.identificationToken=n||"";e.identificationEmail=r||""}}}),{updateVisitorIdentification:s}=i.actions;t.default=i.reducer},"p0/p":function(e,t,n){"use strict";n.d(t,{useAIPromptRecommendations:function(){return E}});var r=n("19qb"),i=n("BvPy"),s=n("g/i1"),o=n("PYok"),a=n("scwY"),c=n("FAYk"),u=n("hwHA"),l=n("y5/z"),d=n("IA0z"),p=n("KqYL"),f=n("tAuz"),h=n("Kwzp"),g=n("mEYk"),m=n.n(g);const E=({clickedFrom:e,shouldOpenWidget:t=!1,shouldLoadStagedThread:n=!0,errorMessage:g="Failed to publish message from AI prompt"})=>{const E=(0,r.useDispatch)(),T=(0,r.useSelector)(i.getRecommendedQuestionsForAgent),y=(0,r.useSelector)(s.getColoring),A=(0,r.useSelector)(c.getKnowledgeBaseEnabled);return{recommendedQuestionsForAgent:T,coloring:y,isAIChatBot:(0,r.useSelector)(p.getIsAIChatbot),isMobile:(0,r.useSelector)(f.getIsMobile),handlePromptClick:e=>{const r=`<div>${e}</div>`;E((0,h.setHasClickedWelcomePagePrompts)({hasClicked:!0}));n&&A&&E((0,a.loadStagedThread)());const i=E((0,o.publishVisitorMessage)({text:e,richText:r,quickReply:null,fileAttachment:null}));t?i.then((()=>{E((0,u.toggleOpen)({isOpened:!0,isUser:!0,openedFrom:"AI prompt recommendations outside chat"}))})).catch((()=>{m().captureMessage(g)})):i.catch((()=>{m().captureMessage(g)}))},handlePromptTrack:()=>{E((0,l.trackInteraction)(d.EVENT_NAMES.WIDGET_INTERACTION,{action:"ai prompt recommendation clicked",clickedFrom:e}))}}}},"p3n+":function(e,t,n){"use strict";var r=n("QYOI"),i=n("Zui/");const s=(0,r.Record)({"@type":i.FILES,fileIds:(0,r.List)(),fileUsageTypes:(0,r.Map)(),strippedAttachmentCount:0},"FileAttachment");t.default=s},p5It:function(e,t,n){"use strict";n.d(t,{executeTimeOnPageTrigger:function(){return c}});var r=n("hwHA"),i=n("R4L7"),s=n("2umt"),o=n("GHgd"),a=n("Ug6J");const c=()=>(e,t)=>{e((0,s.removeTimeOnPageTrigger)());const n=t(),c=(0,a.getTriggerConditions)(n,o.timeOnPageTriggerEnabled);c.hasClientTriggerAlreadyFired||(c.shouldToggleOpen?e((0,r.toggleOpen)({isOpened:!0})):c.shouldToggleInitialMessageBubble&&e((0,i.toggleInitialMessageBubble)(!0)))}},p79U:function(e,t,n){"use strict";n.d(t,{setAssignedAgentFromAssignmentMessage:function(){return c}});var r=n("g4ag"),i=n("aYGO"),s=n("qjq5"),o=n("DFBY");const a=(0,r.default)(i.ASSIGNED_AGENT_ID),c=(0,s.default)(((e,t)=>{const n=(0,o.getAssignedAgentId)(e);return a(n,t)}))},p9k8:function(e,t,n){"use strict";n.d(t,{isStarted:function(){return s}});var r=n("PpSk"),i=n("UxsU");function s(e){return(0,r.getStatus)(e)===i.default.STARTED}},pCxe:function(e,t,n){e.exports=n.dlbpr(2,"l1pX")},pHO9:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r=n("scKg");function i(e,t){let n=t;for(let t=e.length-1;t>=0;t--)n=e[t](n);return n}function s(...e){e.forEach(r.default);return i.bind(null,e)}},pHbL:function(e,t,n){"use strict";n.d(t,{getAnyCustomChatName:function(){return o}});var r=n("MJM1"),i=n("3HLt"),s=n("kevw");const o=e=>(0,r.default)(i.CUSTOM_CHAT_NAME,e)||(0,s.getCustomChatName)((0,s.getFallback)(e))},pTe9:function(e,t,n){"use strict";n.d(t,{getCompletedMessageId:function(){return o},getCompletedMessageTimestamp:function(){return c},getGenericChannelId:function(){return s},getPartialOrdinal:function(){return a}});var r=n("JGJA"),i=n("+muk");const s=(0,r.default)("genericChannelId"),o=(0,r.default)(i.COMPLETED_MESSAGE_ID),a=(0,r.default)(i.PARTIAL_ORDINAL),c=(0,r.default)(i.COMPLETED_MESSAGE_TIMESTAMP);(0,r.default)(i.MESSAGE_TEXT),(0,r.default)(i.ID)},pZpR:function(e,t,n){"use strict";n.d(t,{getUsageTracker:function(){return Mt}});var r=n("ipOz"),i=n.n(r),s=n("Wt04"),o=n("3RTs"),a=n("F+zP");const c=(e=a.lWindow)=>{const t="object"==typeof e&&"object"==typeof e.history,n=()=>t&&e.history.state&&e.history.state.state||{};return{get location(){return t?{pathname:e.location.pathname,search:e.location.search,hash:e.location.hash,state:n(),key:n().key||""}:{pathname:"",search:"",hash:"",state:n(),key:n().key||""}},replace:(n,r={})=>{t&&e.history.replaceState(Object.assign({},r),"","string"==typeof n?`${e.location.origin}${n}`:n.toString())},push:(n,r={})=>{t&&e.history.pushState(Object.assign({},r),"","string"==typeof n?`${e.location.origin}${n}`:n.toString())}}};var u=n("LZPL"),l=n.n(u),d=n("20uS");const p=53,f="USAGE_TRACKER_JS",h="__hstc",g="hubspotutk",m="__hmpl",E="USAGE_TRACKER_JS_RECORDER_ENABLED",T="USAGE_TRACKER_JS_RECORDED_EVENTS",y="USAGE_TRACKER_JS_RECORDED_EVENT_KEYS",A="HUBLYTICS_EVENTS_53",b=e=>{const t=e=>"object"==typeof e.Raven&&"function"==typeof e.Raven.captureException&&"function"==typeof e.Raven.captureMessage;if("undefined"==typeof window||void 0===e){let e=0,n=!1;return{hasRaven:t,addEventListener:()=>!1,dispatchWindowEvent:()=>!1,isDocumentVisible:()=>!1,isDocumentReady:()=>{if(n||e)return n;e=setTimeout((()=>{n=!0}),5e3);return n},isLocalDeployment:!1,isQaDeployment:!1,isProdDeployment:!0,isDebugEnabled:!1,isHubSpotDomain:!1,hasLocalStorage:!1,hasCookieAccess:!1,hasBeaconSupport:!1,isPrerendering:()=>!1}}const n=()=>{try{return Boolean(e.localStorage)}catch(e){return!1}},r=()=>{const{navigator:t,document:n}=e;try{return"object"==typeof t&&t.cookieEnabled||"object"==typeof n&&Boolean(n.cookie)}catch(e){return!1}},i=()=>{const{navigator:t}=e;try{return"object"==typeof t&&"function"==typeof t.sendBeacon}catch(e){return!1}},s=()=>{const{location:t}=e;try{return"object"==typeof t&&"search"in t}catch(e){return!1}},o=()=>{const{document:t}=e;try{return"object"==typeof t&&"string"==typeof t.visibilityState&&"visible"===t.visibilityState}catch(e){return!1}},a=()=>{const{location:t}=e;return"object"==typeof t&&"string"==typeof t.hostname&&d.HUBSPOT_DOMAINS_REGEX.test(t.hostname)},c=()=>{const{document:t}=e;return"object"==typeof t&&"boolean"==typeof t.prerendering&&t.prerendering};return{hasRaven:t,isDocumentReady:()=>{const{document:t}=e;try{return"object"==typeof t&&"string"==typeof t.readyState&&"complete"===t.readyState}catch(e){return!1}},addEventListener:(t,n)=>{const{document:r,addEventListener:i}=e;return"object"==typeof r&&"function"==typeof i&&i(t,n)},dispatchWindowEvent:(t,n)=>{const{document:r,CustomEvent:i}=e;if("object"==typeof r&&"function"==typeof i){const r=new i(t,{detail:n});return e.dispatchEvent(r)}return!1},isLocalDeployment:!l().deployed(),isQaDeployment:l().isQa(),isProdDeployment:l().isProd(),isDebugEnabled:Boolean(l().debug(f)),isHubSpotDomain:a(),hasLocalStorage:n(),hasCookieAccess:r(),hasBeaconSupport:i(),hasLocationApi:s(),isDocumentVisible:o,isPrerendering:c}},{hasRaven:v,isDocumentReady:I,addEventListener:S,dispatchWindowEvent:C,hasLocalStorage:_,hasCookieAccess:O,hasBeaconSupport:R,hasLocationApi:x,isLocalDeployment:w,isQaDeployment:N,isProdDeployment:D,isDebugEnabled:L,isDocumentVisible:M,isHubSpotDomain:P,isPrerendering:k}=b(void 0!==a.lWindow?a.lWindow:void 0);var U=n("yYAF");const B=({getTempStorage:e,setTempStorage:t})=>({addEvents:n=>{try{const r=e(A)||"[]",i=JSON.parse(r).reverse().slice(0,49).reverse();t(A,JSON.stringify(i.concat(n)))}catch(e){t(A,JSON.stringify(n))}},getEvents:()=>{try{const t=e(A)||"[]";return JSON.parse(t)}catch(e){t(A,"[]")}return[]},removeEvents:n=>{try{const r=e(A)||"[]",i=JSON.parse(r).filter((e=>-1===JSON.stringify(n).indexOf(JSON.stringify(e))));t(A,JSON.stringify(i))}catch(e){t(A,"[]")}}}),H=({getTempStorage:e,setTempStorage:t})=>{const n=(0,a.createQueue)(),r=B({getTempStorage:e,setTempStorage:t});return{peek:n.peek,push:e=>{n.enqueue(e);(0,a.dispatchFunctionAsync)((()=>r.addEvents([e])))},flush:()=>{const e=[];do{const t=n.dequeue();t&&e.unshift(t)}while(n.peek());(0,a.dispatchFunctionAsync)((()=>r.removeEvents(e)));return e}}},F=(e,t,n=2e3,r=3)=>{let i=0,s=0,o=e(),c=t();const u=e=>e(),l=a=>{i||(i=setInterval((()=>{const n=s>=r;o=e()||n;c=t();if(!o||c)s+=1;else{clearInterval(i);u(a);i=0;s=0}}),n))},d=a.debounce(u,n);return{scheduleFlush:e=>o&&!c?d(e):l(e)}},G=18e5,j=[{name:"windows 10",pattern:/(Windows 10.0|Windows NT 10.0)/},{name:"windows 8",pattern:/(Windows 8|Windows8.1|Windows NT 6.2|Windows NT 6.3)/},{name:"windows 7",pattern:/(Windows 7|Windows NT 6.1)/},{name:"windows vista",pattern:/Windows NT 6.0/},{name:"windows xp",pattern:/(Windows NT 5.1|Windows XP)/},{name:"android",pattern:/Android/},{name:"linux",pattern:/(Linux|X11)/},{name:"ios",pattern:/(iPhone|iPad|iPod)/},{name:"mac",pattern:/Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh/}],W=e=>({device_id:a.makeUuid(),last_event_id:0,last_sequence_number:0,last_timestamp_checked_against_session:e,session_id:e}),V=e=>{const t=e(m);if(t)try{return JSON.parse(t)}catch(e){}return null},z=(e,t)=>e(m,JSON.stringify(t)),K=(e,{currentTime:t,deviceId:n})=>{const{device_id:r,last_event_id:i=0,last_sequence_number:s=0,last_timestamp_checked_against_session:o=t,session_id:a=t}=e,c={device_id:r,last_event_id:i,last_sequence_number:s,last_timestamp_checked_against_session:o,session_id:a};if(n&&n!==r){const e=W(t);e.device_id=n;return e}if(t-o>G){c.last_event_id=0;c.session_id=t}c.last_event_id=i+1;c.last_sequence_number=s+1;c.last_timestamp_checked_against_session=t;return c},Y=(e,t,{currentTime:n,deviceId:r})=>{const i=V(e)||W(n),s=K(i,{currentTime:n,deviceId:r});z(t,s);return s},q=e=>{const t=j.find((({pattern:t})=>t.test(e)));return t?t.name:"unknown"},J=({deviceId:e,getCurrentHref:t,getNetworkType:n,getNetworkSpeed:r,getTempStorage:i,setTempStorage:s})=>{const o=Date.now(),c=Y(i,s,{currentTime:o,deviceId:e}),u=Object.assign({},c,{timestamp:o,currentPageUrl:"",networkType:"",networkSpeed:"",prerendering:!1});u.prerendering=k();u.currentPageUrl=a.truncate(t(),256);u.networkType=n();u.networkSpeed=r();return u},$=({clientName:e,getReferrer:t,getUserAgent:n,getScreenWidth:r,getScreenHeight:i,getWindowWidth:s,getWindowHeight:o,getDeployableName:c,getDeployableVersion:u,getHubSpotSessionId:l})=>{const d={windowWidth:-1,windowHeight:-1,screenWidth:-1,screenHeight:-1,screenSize:"",lastPageUrl:"",howOsDetailed:"",singlePageAppSessionId:Date.now(),trackingClient:e||"custom",deployableName:"",deployableVersion:"",hubspotSessionId:""};d.windowWidth=s();d.windowHeight=o();d.deployableName=c();d.deployableVersion=u();d.hubspotSessionId=l();d.howOsDetailed=q(a.between(n(),"(",")"));d.screenWidth=r();d.screenHeight=i();d.screenSize=a.getScreenWidthSize(r());d.lastPageUrl=a.truncate(t(),256);return d},Q=(e,t)=>{const n=Object.assign({},t,e),r=a.getObjectKeys(n).filter((e=>!n[e]));return a.omit(n,r)},X=(e,t,n)=>{const r=new Error(t);r.name=e;r.stack=`${e}: ${t}`;r.cause=n;return r},Z=e=>{if(e&&e.name&&e.stack&&"object"==typeof e.cause){const t=e.cause;return Boolean(t&&t.type&&t.dangerLevel)}return!1},ee=(e,t)=>Z(e)?"object"==typeof t&&"object"==typeof t.extra?Object.assign({},t,{extra:Object.assign({},t.extra,e.cause)}):Object.assign({},t,{extra:Object.assign({},e.cause)}):t,te=e=>X("UsageTrackerGenericWarning",e,{type:"generic warning",dangerLevel:"This error does not break tracking or the execution thread."}),ne=e=>X("UsageTrackerError",e,{type:"generic error",dangerLevel:"This error breaks the execution thread."}),re=e=>X("UsageTrackerConfigError",e,{type:"config error",dangerLevel:"This error breaks the execution thread."}),ie=e=>X("UsageTrackerEventError",e,{type:"event error",dangerLevel:"This error breaks tracking, but not the execution thread."}),se=(e,t,n,r=!0)=>{const i=a.shallowCopy(n),s=()=>a.getObjectKeys(i),o=(n,r,o)=>{s().forEach((s=>{const{types:c,oneOf:u,isOptional:l}=i[s],d=n[s],p=void 0!==d,f=a.getRealTypeOf(d);if(!l&&!p)throw t(`Missing required ${e} "${s}". ${r} requires that a value be passed for ${e} "${s}". Received "undefined".`);if(p){if(a.isArray(c)&&!c.includes(f))throw t(`Invalid ${e}. ${r} requires that the "${s}" ${e} type be one of ["${c.join('", "')}"]. Received "${f}".`);if("function"!==f){if(a.isArray(u)&&!u.includes(String(d)))throw t(`Invalid ${e}. ${r} requires that the "${s}" ${e} be one of ["${u.join('", "')}"]. Received "${d}".`);a.ensureFn(o)({key:s,entry:d,isOptional:l})}}}));return!0},c=(e,t)=>{a.getObjectKeys(e).forEach((n=>{const r=e[n];o(r,t)}))},u=e=>{const t=a.pluck("default",i),n=a.defaults(e,t);return r?a.pick(n,s()):n},l=e=>a.reduceObject(e)(((t,n)=>{const r=e[n];t[n]=u(r);return t}));return{getKeys:s,mutate:n=>{const s=n(a.mapObject(i,(e=>a.shallowCopy(i[e]))));return se(e,t,s,r)},normalize:u,normalizeEach:l,validate:o,validateEach:c,_peek:()=>a.deepFreeze(i)}},oe=se("client dependency",re,{clientName:{types:["string"],default:"custom"},getDebug:{types:["function"]},getEmail:{types:["function"]},getHubId:{types:["function"]},getHstc:{types:["function"]},getLang:{types:["function"]},getCurrentHref:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["window","location","href"],"")},getReferrer:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["document","referrer"],"")},getUserAgent:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["navigator","userAgent"],"")},getNetworkType:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["navigator","connection","effectiveType"],"")},getNetworkSpeed:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["navigator","connection","downlink"],"")},getScreenWidth:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["screen","width"],"")},getScreenHeight:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["screen","height"],"")},getWindowWidth:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["window","innerWidth"],"")},getWindowHeight:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["window","innerHeight"],"")},getDeployableName:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["window","hubspot","bender","currentProject"],"")},getDeployableVersion:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["window","hubspot","bender","currentProjectVersion"],"")},getHubSpotSessionId:{types:["function"],isOptional:!0,default:()=>a.safeGetOrDefault(["window","hubspot","sessionId"],"")},logMessage:{types:["function"],isOptional:!0,default:(...e)=>a.safeGetOrDefault(["console","debug"],((...e)=>e))(...e)},logWarning:{types:["function"],isOptional:!0,default:(...e)=>a.safeGetOrDefault(["console","warn"],((...e)=>e))(...e)},logError:{types:["function"],default:(...e)=>a.safeGetOrDefault(["console","error"],((...e)=>e))(...e)},reportError:{types:["function"],isOptional:!0,default:()=>{}},reportWarning:{types:["function"],isOptional:!0,default:()=>{}},getTempStorage:{types:["function"]},setTempStorage:{types:["function"]},send:{types:["function"]}}),ae=se("config option",re,{trackerName:{types:["string"],isOptional:!0,default:"default"},allowUnauthed:{types:["boolean"],isOptional:!0,default:!1},bypassPool:{types:["boolean"],isOptional:!0,default:!1},debug:{types:["boolean","function"],isOptional:!0},events:{types:["object"],isOptional:!0,default:{}},isBeforeUnload:{types:["boolean"],isOptional:!0,default:!1},isExternalHost:{types:["boolean"],isOptional:!0,default:!1},lastKnownEventProperties:{types:["array"],isOptional:!0,default:[]},onError:{types:["function"],isOptional:!0},onWarning:{types:["function"],isOptional:!0},onScheduled:{types:["function"],isOptional:!0,default:()=>{}},preserveTrackerProperties:{types:["boolean"],isOptional:!0,default:!0},preserveTrackerEvents:{types:["boolean"],isOptional:!0,default:!1},properties:{types:["object"],isOptional:!0,default:{}},standalone:{types:["boolean"],isOptional:!0,default:!1}}),ce=se("tracker properties",re,{email:{types:["string","function","object","null"]},hubId:{types:["number","function","object","null"]},hstc:{types:["string","function","object","null"]},lang:{types:["string","function","object","null"]},deviceId:{types:["string","function","object","null"],isOptional:!0,default:void 0}},!1),ue=["activation","creation","error","exposure","funnel","interaction","none","signup","usage","view","warning"],le=se("event property",re,{name:{types:["string"]},namespace:{types:["string"],isOptional:!0,default:""},class:{types:["string"],oneOf:[...ue]},version:{types:["string"],isOptional:!0,default:"v1"},properties:{types:["object"],isOptional:!0,default:{}},meta:{types:["object"],isOptional:!0}}),de=["boolean","string","number","array"],pe=se("event property",re,{type:{types:["string","array"],oneOf:[...de]},isOptional:{types:["boolean"],isOptional:!0,default:!1},description:{types:["string"],isOptional:!0,default:""}}),fe=e=>a.mapObject(e,(t=>{const n=e[t];n.properties=a.mapObject(n.properties,((e,t)=>"string"==typeof t||a.isArray(t)?{type:t,isOptional:!1}:t));n.properties=pe.normalizeEach(n.properties);return n})),he=e=>{const t=Object.freeze(e),n=e=>{const n=t[e];if(!n||"object"!=typeof n)throw ie(`Invalid event key. The event definition for "${e}" is undefined. Check your events.yaml dictionary.`);return n},r=(e,t={})=>{const r=n(e).properties||{},i=t||{},s=[...de,"null"],o=a.mapObject(r,(e=>{const{type:t,isOptional:n}=r[e];if(n)return{types:s,isOptional:!0};if("string"==typeof t){if(de.includes(t))return{types:[t],isOptional:!1};if(t.includes("oneOf")){return{oneOf:a.between(t,"[","]").split(",").map((e=>a.trim(a.trim(e,'"'),"'"))),isOptional:!1}}}return{oneOf:t,isOptional:n}})),c=a.mapObject(i,(()=>({types:s,isOptional:!0}))),u=a.defaults(o,c);return se("event property",ie,u,!1)};return{getDefinition:n,createPropertySchema:r,getAll:()=>t}},ge=(e,t)=>{const n=le.normalizeEach(e);le.validateEach(n,t);return fe(n)},me=(e,t,n)=>{let r=`[usage-tracker-core "${e}"] ${t}`;n&&n.trim().length>0&&(r+=`\n----------------------------------------\n${n}\n----------------------------------------`);return r},Ee=e=>(t,n,r)=>{const{where_app:i,what_event:s}=r||{},o=`eventKey: ${t}\neventType: ${`[${a.prettyPrint(i)}] ${a.prettyPrint(s)}`}`,c=JSON.parse(JSON.stringify(r||{}));c.what_extra_json=JSON.parse(c.what_extra_json||"{}");e(me("debug log",n,o),c)},Te=(e,t)=>(n,r)=>{e(n);a.ensureFn(t)(n,r)},ye=(e,t)=>(n,r)=>{e(n);a.ensureFn(t)(n,r)},Ae=(e,t,n)=>r=>(i,s)=>{e(s);const o=te(`Property "${i}" failed to resolve asynchronously and will fallback to "null".`);t(o);a.ensureFn(n)(s,{extra:{propertyName:i},fingerprint:["usage-tracker-js","tracker:failedResolveProperty",`event:${r}`]})},be=["namespace","lang","screen","subscreen","timestamp","device_id","session_id","last_sequence_number","last_event_id"],ve=(e,t,n)=>{const r=t||n;if(!r||"*"===r)throw ie(`Namespace not found for "${e}".`);return r},Ie=(e,t)=>{!e.who_email&&t.raw.email&&(e.who_email=t.raw.email);!e.who_identifier&&t.raw.userId&&(e.who_identifier=t.raw.userId);e.who_identifier_v2||(e.who_identifier_v2=t.user);e.who_team_identifier||(e.who_team_identifier=t.team);e.utk||(e.utk=t.utk);return e},Se=(e,t)=>{const{namespace:n,lang:r,screen:i,subscreen:s,timestamp:c,device_id:u,session_id:l,last_sequence_number:f,last_event_id:h}=t,g=(0,o.default)(t,be),m=g,E=a.omit(m,[...d.SENSITIVE_PROPERTIES,...d.OPTIONAL_PAYLOAD_FIELDS]),T=a.reduceObject(E)(((e,t)=>{let n=E[t];const r=a.getRealTypeOf(n);if(d.NOT_ALLOWED_PROPERTY_TYPES.includes(r))return e;if("string"===r&&""===n.trim())return e;a.isArray(n)&&(n=n.filter((e=>null!=e)));e[t]=n;return e}));T.locale=r;T[d.SESSION_REPLAY_ID_PROPERTY]=`${u}/${l}`;const y={hublytics_account_id:p,where_app:ve(g.eventKey,e.namespace,n),where_screen:i||"unknown",where_subscreen:s||"",when_timestamp:c,device_id:u,session_id:l,event_id:h,sequence_number:f,language:r,what_event:e.name,what_event_class:e.class.toUpperCase(),what_version:e.version,what_extra_json:JSON.stringify(T),library_name:"usage-tracker-js",library_version:1};"string"==typeof t.subscreen2&&(y.where_subscreen2=t.subscreen2);d.OPTIONAL_PAYLOAD_FIELDS.forEach((e=>{const n=t[e];"string"==typeof n&&(y[e]=n)}));return y},Ce=(e,t,n)=>{const r=Se(e,t);return n?Ie(r,n):r},_e=({deviceId:e,utk:t,email:n,hubId:r},{allowUnauthed:i,isExternalHost:s})=>{let o,a,c;r&&(c=r);n?a=`EMAIL:::${n}:::${p}`:t?o=s?`TEMP_ID:::${t}:::${p}`:`VISITOR:::${t}:::${p}`:e&&(o=`TEMP_ID:::${e}:::${p}`);if(!a&&!i)throw ie("Could not identify an authenticated user. Please specify an email address (email).");if(!c&&!i)throw ie("Could not identify a HubSpot Portal ID. Please specify a Portal ID (hubId).");if(!o&&!a&&i)throw ie("Could not identify the user. Please specify an email address (email) or an __hstc cookie (hstc) or a device id (deviceId).");return{user:a||o,team:c}},Oe=e=>{let t;if("string"==typeof e&&e){const n=e.split(".");n.length>1&&(t=n[1])}return t},Re=({email:e,userId:t,hubId:n,hstc:r,deviceId:i},{allowUnauthed:s,isExternalHost:o})=>{const a=Oe(r),{user:c,team:u}=_e({deviceId:i,utk:a,email:e,hubId:n},{allowUnauthed:s,isExternalHost:o});return{user:c,team:u,utk:a,raw:{email:e,userId:t,hubId:n,hstc:r,deviceId:i}}},xe=e=>{const t=a.proxyLogger({"tracker.client":e.clientName,"tracker.name":e.trackerName}),n=Ee(e.logMessage),r=Te(e.logError,t(e.onError)),i=he(e.events),s=ce.mutate((e=>({email:Object.assign({},e.email,{types:["string","null"]}),hubId:Object.assign({},e.hubId,{types:["number","null"]}),hstc:Object.assign({},e.hstc,{types:["string","null"]}),lang:Object.assign({},e.lang,{types:["string","null"]}),deviceId:Object.assign({},e.deviceId,{types:["string","null"]})}))),o="function"==typeof e.debug?e.debug():e.debug,c=(e,t)=>{try{i.createPropertySchema(e,t).mutate((e=>Object.assign({},e,s._peek()))).validate(t,`Event "${e}"`);return!0}catch(n){r(n,{extra:{eventKey:e,eventProperties:a.replaceSentryValues(t)},fingerprint:["usage-tracker-js","tracker:validateProperties",`event:${e}`]});return!1}},u=e=>{try{return i.getDefinition(e)}catch(t){r(t,{extra:{eventKey:e},fingerprint:["usage-tracker-js","tracker:getDefinition",`event:${e}`]});return null}},l=(t,n)=>{const i={email:n.email,userId:n.userId,hubId:n.hubId,hstc:n.hstc,deviceId:n.deviceId},s={allowUnauthed:e.allowUnauthed,isExternalHost:e.isExternalHost};try{return Re(i,s)}catch(e){r(e,{extra:Object.assign({eventRawIdentifiers:a.replaceSentryValues(i),eventProperties:a.replaceSentryValues(n)},s),fingerprint:["usage-tracker-js","tracker:getIdentifiers",`event:${t}`]});return null}},d=(e,t,n,i)=>{try{return Ce(t,n,i)}catch(t){r(t,{extra:{eventKey:e,eventProperties:a.replaceSentryValues(n),eventIdentifiers:a.replaceSentryValues(i?i.raw:void 0)},fingerprint:["usage-tracker-js","tracker:createEvent",`event:${e}`]});return null}},p=(t,n,i)=>{try{e.scheduleEvent(t,n,a.pick(e,["bypassPool","isBeforeUnload","isExternalHost"]));a.dispatchFunctionAsync((()=>a.ensureFn(e.onScheduled)(t)));return!0}catch(e){r(e,{extra:{eventKey:t,eventIdentifiers:a.replaceSentryValues(i.raw)},fingerprint:["usage-tracker-js","tracker:dispatchEvent",`event:${t}`]});return!1}},f=(e,t,r,i)=>{const s=a.defaults(i,r),c=l(e,s),u=Object.assign({},s,{eventKey:e}),f=d(e,t,u,c||void 0);if(c&&f){o&&n(e,"Event is being dispatched to be sent.",f);return p(e,f,c)}o&&n(e,"Event was not dispatched.",f||void 0);return!1};return{trackStandaloneEvent:(e,t,n,r)=>{const i=a.convertEventNameToEventKey(t),s=ue.includes(r.class)?r.class:void 0,o=null!=s?s:/(pageView|View|pageview)/.test(i)?"view":"interaction";return f(`standalone:::${i}`,{name:t,namespace:e,class:o,version:"v1",properties:{},meta:{}},n,r)},trackDictionaryEvent:(e,t,n)=>{const r=u(e);if(!r)return!1;const i=n(r);return!!c(e,i)&&f(e,r,t,i)}}},we=(e={},t,n)=>{const r={},i=a.getObjectKeys(e),s=i.length,o=i.reduce(((t,n)=>{const i=e[n];if(i&&"function"==typeof i){t.push({key:n,func:i});return t}if(i&&a.isPromise(i)){t.push({key:n,promise:i});return t}r[n]=i;return t}),[]),c=()=>{Object.keys(r).length===s&&t(r)};if(o.length){const e=(e,t)=>{r[e]=t;c()},t=(e,t)=>{r[e]=null;a.ensureFn(n)(e,t);c()};return o.forEach((({key:n,promise:r,func:i})=>{const s=i?new Promise((e=>e(i()))):r;s&&s.then((t=>e(n,t))).catch((e=>t(n,e)))}))}return t(r)},Ne=e=>{let t=Object.assign({},e.properties);const n=a.proxyLogger({"tracker.client":e.clientName,"tracker.name":e.trackerName}),r=Ae(e.logError,e.logWarning,n(e.onError)),i="function"==typeof e.debug?e.debug():e.debug,s=ye(e.logWarning),o=n=>{const r=e.lastKnownEventProperties;r&&r.length&&r.forEach((e=>{const r=n[e],i=a.getRealTypeOf(r);de.includes(i)&&(t[e]=r)}))};return{resolveProperties:(e,n,i)=>{we(t,(e=>{t=a.defaults(e,t);o(n);i(a.reduceObject(t)(((e,n)=>{const r=t[n],i=a.getRealTypeOf(r);return Object.assign({},e,{[n]:d.NOT_ALLOWED_PROPERTY_TYPES.includes(i)?null:r})})))}),r(e))},createPropertiesFilter:(t,n)=>r=>{const o=a.getObjectKeys(r.properties),c=e=>d.ALWAYS_ALLOWED_PROPERTIES.includes(e)||o.includes(e),u=Object.entries(n).filter((([e,t])=>!c(e)&&null!=t));if(u.length){s(te(`Event "${t}" is possibly being tracked with unexpected properties. See go/unexpectedproperties`));i&&e.logMessage(me("debug log",`Event "${t}" has unexpected Properties.`,`unexpectedProperties: ${u.map((e=>`"${e}"`)).join(", ")}`))}return n},getCache:()=>a.shallowCopy(t),addToCache:(e,n)=>{t[e]=n}}},De=(e,t)=>{if(!t||"object"!=typeof t)throw re(`Invalid argument. The "createTracker" function requires to be passed a config argument of type "object". Received type "${typeof t}".`);const n=ae.mutate((t=>Object.assign({},t,{debug:Object.assign({},t.debug,{default:e.getDebug}),onError:Object.assign({},t.onError,{default:e.reportError}),onWarning:Object.assign({},t.onWarning,{default:e.reportWarning})}))),r=ce.mutate((t=>Object.assign({},t,{email:Object.assign({},t.email,{default:e.getEmail}),hubId:Object.assign({},t.hubId,{default:e.getHubId}),hstc:Object.assign({},t.hstc,{default:e.getHstc}),lang:Object.assign({},t.lang,{default:e.getLang})}))),i=n.normalize(t);n.validate(i,'"createTracker"');const s=r.normalize(i.properties||{});r.validate(s,'"createTracker"');const o=ge(i.events,'"createTracker"');return Object.assign({events:o,properties:s},a.omit(i,["events","properties"]),e)},Le=(e,t)=>{const n=De(e,t),{trackDictionaryEvent:r,trackStandaloneEvent:i}=xe(n),s=a.proxyLogger({"tracker.client":n.clientName,"tracker.name":n.trackerName}),o=Te(n.logError,s(n.onError)),c=Ne(n),u=(e,t,r={})=>{try{if(!e||"string"!=typeof e)throw ne(`Invalid argument. The "track" method requires the 1st argument to be of type "string". Received type "${typeof e}".`);if(!t||"string"!=typeof t)throw ne(`Invalid argument. The "track" method requires the 2nd argument to be of type "string". Received type "${typeof t}".`);if(!r||"object"!=typeof r)throw ne(`Invalid argument. The "track" method requires the 3rd argument to be of type "object". Received type "${typeof r}".`);c.resolveProperties(t,r,(s=>i(e,t,n.getMetaProperties(s),a.defaults(r,s))))}catch(n){o(n,{extra:{appName:e,eventName:t},fingerprint:["usage-tracker-js","tracker:track"]})}},l=(e,t={})=>{try{if(!e||"string"!=typeof e)throw ne(`Invalid argument. The "track" method requires the 1st argument to be of type "string". Received type "${typeof e}".`);if(!t||"object"!=typeof t)throw ne(`Invalid argument. The "track" method requires the 2nd argument to be of type "object". Received type "${typeof t}".`);t.deviceId&&c.addToCache("deviceId",t.deviceId);c.resolveProperties(e,t,(i=>r(e,n.getMetaProperties(i),c.createPropertiesFilter(e,a.defaults(t,i)))))}catch(t){o(t,{extra:{eventKey:e},fingerprint:["usage-tracker-js","tracker:track"]})}};return{clone:t=>{try{var r;if(void 0!==t&&"object"!=typeof t)throw ne(`Invalid argument. The "clone" method requires to be passed a valid tracker config of type "object". Received type "${typeof t}".`);const s=a.omit(a.defaults(t,n),a.getObjectKeys(e)),o=a.pick(c.getCache(),ce.getKeys()),u=a.omit(c.getCache(),a.getObjectKeys(o));s.properties=a.defaults(null!==(r=null==t?void 0:t.properties)&&void 0!==r?r:{},o);s.preserveTrackerProperties&&(s.properties=a.defaults(s.properties,u));if(s.preserveTrackerEvents){var i;s.events=a.defaults(null!==(i=s.events)&&void 0!==i?i:{},n.events)}return Le(e,s)}catch(e){o(e,{extra:{overrides:t},fingerprint:["usage-tracker-js","tracker:clone"]})}},getConfig:()=>Object.assign({},a.omit(n,["properties"]),{properties:c.getCache()}),setProperties:(e={})=>{try{if(!e||"object"!=typeof e)throw ne(`Invalid argument. The "setProperties" method requires to be passed a properties argument of type "object". Received type "${typeof e}".`);a.getObjectKeys(e).forEach((t=>{c.addToCache(t,e[t])}))}catch(e){o(e,{fingerprint:["usage-tracker-js","tracker:setProperties"]})}},track:t.standalone?u:l}},Me=(e={})=>{const t=oe.normalize(e);oe.validate(t,'"createClient"');const{clientName:n,getDebug:r,getEmail:i,getHubId:s,getHstc:o,getLang:c,getCurrentHref:u,getReferrer:l,getUserAgent:p,getNetworkType:f,getNetworkSpeed:h,getScreenWidth:g,getScreenHeight:m,getWindowWidth:A,getWindowHeight:b,getDeployableName:v,getDeployableVersion:_,getHubSpotSessionId:O,getTempStorage:R,logMessage:x,logWarning:w,logError:N,reportError:D,reportWarning:L,send:P,setTempStorage:U}=t,G=H({getTempStorage:R,setTempStorage:U}),j=B({getTempStorage:R,setTempStorage:U}),{scheduleFlush:W}=F(I,k),V=(e,t)=>{const{isBeforeUnload:n=!1,isExternalHost:r=!1,discardOnFailure:i=!1}=t;let s=`clientSendTimestamp=${Date.now()}`;r&&(s+="&dil=true");P({events:e,query:s,isBeforeUnload:!!n,onFailure:()=>{!1===i&&j.addEvents(e)}})},z=e=>{const t=G.flush();t&&t.length&&V(t,e)},K=(e,t)=>{e.forEach((e=>G.push(e)));(0,a.dispatchFunctionAsync)((()=>W((()=>z(t)))))},Y={clientName:n,getCurrentHref:u,getReferrer:l,getUserAgent:p,getNetworkType:f,getNetworkSpeed:h,getScreenWidth:g,getScreenHeight:m,getWindowWidth:A,getWindowHeight:b,getDeployableName:v,getDeployableVersion:_,getHubSpotSessionId:O,getTempStorage:R,setTempStorage:U},q=(0,a.once)($),X=({deviceId:e})=>{const t=q(Y),n=J(Object.assign({deviceId:e},Y));return Q(t,n)},Z=(e,t)=>{try{const t=R(y)||"[]",n=JSON.parse(t).reverse().slice(0,49).reverse();U(y,JSON.stringify(n.concat(e)))}catch(e){U(y,"[]")}try{const e=R(T)||"[]",n=JSON.parse(e).reverse().slice(0,49).reverse();U(T,JSON.stringify(n.concat(t)))}catch(e){U(T,"[]")}},ee=e=>{const t=j.getEvents();if((0,a.isArray)(t)&&t.length>0){j.removeEvents(t);const n=Date.now(),r=({when_timestamp:e=0})=>n-e<d.EVENT_CUTOVER_THRESHOLD,i=({what_extra_json:e=""})=>!e.includes('"prerendering":true'),s=t.filter(r).filter(i);V(s,{isExternalHost:e.isExternalHost,isBeforeUnload:!0,discardOnFailure:!0})}},te=(e="",t,n)=>{(n.bypassPool||n.isBeforeUnload?V:K)([t],n);(0,a.dispatchFunctionAsync)((()=>C("usageTrackerEvent",{eventKey:e,eventPayload:t})));(0,a.dispatchFunctionAsync)((()=>{"true"===R(E)&&Z(e,t)}))};return{createTracker:e=>{S("beforeunload",(()=>{k()||z({isExternalHost:e.isExternalHost,isBeforeUnload:!0})}));S("visibilitychange",(()=>{M()||k()||z({isExternalHost:e.isExternalHost,isBeforeUnload:!0})}));(0,a.dispatchFunctionAsync)((()=>ee(e)));return Le({clientName:n,getMetaProperties:X,getDebug:r,getEmail:i,getHubId:s,getHstc:o,getLang:c,logError:N,logMessage:x,logWarning:w,reportError:D,reportWarning:L,scheduleEvent:te},null!=e?e:{})}}},Pe=(e,t)=>{const n=`; ${t}`.split(";");if(n.length)for(let t=0;t<n.length;t++){const r=n[t].split("=");if(2===r.length&&r[0].trim()===e)return r[1]}return null},ke=e=>O?Pe(e,a.lWindow.document.cookie):null;var Ue={getItem:(e="")=>{if(_)try{return a.lWindow.sessionStorage.getItem(e)||""}catch(e){}return null},setItem:(e="",t="")=>{if(_)try{a.lWindow.sessionStorage.setItem(e,t||"")}catch(e){}return t},removeItem:(e="")=>{if(_)try{a.lWindow.sessionStorage.removeItem(e)}catch(e){}}};var Be={getItem:(e="")=>{if(_)try{return a.lWindow.localStorage.getItem(e)||""}catch(e){}return null},setItem:(e="",t="")=>{if(_)try{a.lWindow.localStorage.setItem(e,t||"")}catch(e){}return t},removeItem:(e="")=>{if(_)try{a.lWindow.localStorage.removeItem(e)}catch(e){}}};function He(){return ke(h)||null}function Fe(){const e=He();return ke(g)||e&&e.split(".")[1]||null}function Ge(){const{hubspot:e={portal:{}}}=a.lWindow||{};return"portal"in e&&"id"in e.portal?e.portal.id:null}function je(e=(Fe()||Ge()?Be:Ue)){const{device_id:t}=Y(e.getItem,e.setItem,{currentTime:Date.now()});return t}function We(e,t={}){"object"==typeof a.lWindow&&v(a.lWindow)&&a.lWindow.Raven.captureException(e,ee(e,Object.assign({},t,{level:"error"})))}var Ve=We;var ze={getHstc:He,sendBeacon:(e,t,n=(()=>{}))=>{let r=!1;const i=!x||a.lWindow.location.search.includes("disableBeacon=true");if(R&&!i)try{const n=JSON.stringify(t),i=new Blob([n],{type:"text/plain"});r=a.lWindow.navigator.sendBeacon.bind(a.lWindow.navigator)(e,i)}catch(e){e instanceof Error&&"TypeError"!==e.name&&Ve(e)}r||"function"!=typeof n||n();return r},reportError:Ve,reportWarning:(e,t={})=>"object"==typeof a.lWindow&&v(a.lWindow)&&a.lWindow.Raven.captureException(e,ee(e,Object.assign({},t,{level:"warning"}))),getDebug:()=>L,getLang:(e="en-US")=>{if(void 0!==a.lWindow&&"object"==typeof a.lWindow.navigator){const e=a.lWindow.navigator.languages?a.lWindow.navigator.languages[0]:a.lWindow.navigator.language;if(e)return e.toLocaleLowerCase()}return e},getTempStorage:Be.getItem,setTempStorage:Be.setItem,logError:(...e)=>{(w||N||L)&&console.error(...e)},logWarning:(...e)=>{(w||N||L)&&console.warn(...e)}};const Ke=(e,{data:t})=>fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),Ye=(0,U.getFullUrl)("app-api"),qe=e=>ze.reportError(e,{fingerprint:["usage-tracker-js","network"]});var Je=Me({clientName:"anonymous",getDebug:ze.getDebug,getLang:ze.getLang,getTempStorage:Ue.getItem,setTempStorage:Ue.setItem,logWarning:ze.logWarning,logError:ze.logError,reportWarning:ze.reportWarning,reportError:ze.reportError,getHstc:()=>null,getEmail:()=>null,getHubId:()=>null,send:({events:e,query:t="",onFailure:n})=>{const r=`${Ye}${d.DEFAULT_TRACK_ENDPOINT}?${t}`,i=e=>{qe(e);(0,a.ensureFn)(n)()},s=()=>{Ke(r,{data:e}).catch(i)};ze.sendBeacon(r,e,s)}});const $e=["omitProperties","scrubProperties"],Qe=["viralSourcePortalId","viralSourceUserId","referrerUrl","referrerParams","lastPageUrl"],Xe=[...Qe,"email","userId","hubId","hstc","utk"],Ze={allowUnauthed:!0,isExternalHost:!P,events:void 0,omitProperties:Xe,scrubProperties:Qe},et=(e,t,n)=>new Proxy(t,{get:(t,r)=>"setProperties"===r?e=>t.setProperties((0,a.omit)(e,n)):"track"===r?(...r)=>{const i=e.standalone?r[2]:r[1],s=(0,a.omit)(null!=i?i:{},n);t.track.apply(null,e.standalone?[r[0],r[1],s]:[r[0],s])}:"clone"===r?e=>et(e,t.clone(e),n):t[r]}),tt=e=>{const t=(0,a.defaults)(e||Ze,Ze),{omitProperties:n,scrubProperties:r}=t,i=(0,o.default)(t,$e),s=(0,a.omit)(i.properties,n||Xe),c=(0,a.mask)(r||Qe,null);return et(i,Je.createTracker(Object.assign({},i,{properties:Object.assign({},s,c)})),n||Xe)},nt=e=>new URLSearchParams(e.search).get("uuid")||void 0,rt=e=>{try{const t=V(Be.getItem);t&&t.device_id===e&&Be.removeItem(m)}catch(e){}Ue.removeItem(m)};var it={init:(e,{history:{location:t},storeUuidOnUrl:n})=>{const r=tt(e),i=n?nt(t):void 0;r.setProperties({deviceId:i||je(Ue)});return r},switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if(!0===r){let e=nt(t);(void 0===e||e.length>64)&&(e=je(Ue));const r=new URLSearchParams(t.search);r.set("uuid",e);n(`${t.pathname}?${r}`)}}},st=n("npjq"),ot=n("CQiV"),at=n("GgP/"),ct=n.n(at);const ut=(e=!0)=>ct()({ignoreRedirect:!0,cached:e}).then((({user:e})=>e.email)).catch((()=>null)),lt=(e=!0)=>ct()({ignoreRedirect:!0,cached:e}).then((({portal:e})=>e.portal_id)).catch((()=>null)),dt=()=>Promise.resolve(st.default.Info).then(ot.default).catch(ze.getLang),pt=(0,a.once)(ut),ft=(0,a.once)(lt),ht=(0,a.once)(dt),gt=(0,U.getFullUrl)("app-api"),mt=e=>ze.reportError(e,{fingerprint:["usage-tracker-js","network"]});const Et=Me({clientName:"app",getDebug:ze.getDebug,getHstc:ze.getHstc,getTempStorage:ze.getTempStorage,setTempStorage:ze.setTempStorage,logWarning:ze.logWarning,logError:ze.logError,reportWarning:ze.reportWarning,reportError:ze.reportError,getEmail:pt,getHubId:ft,getLang:ht,send:({events:e,query:t="",onFailure:n})=>{const r=`${gt}${d.DEFAULT_TRACK_ENDPOINT}?${t}`,i=e=>{mt(e);(0,a.ensureFn)(n)()},s=()=>{Ke(r,{data:e}).catch(i)};ze.sendBeacon(r,e,s)}}).createTracker;var Tt={init:e=>Et(e),switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if((void 0===e||"anonymous"===e)&&!0===r){const e=new URLSearchParams(t.search),r=nt(t);if(void 0!==r){rt(r);e.delete("uuid");n(`${t.pathname}?${e}`)}}}};const yt=(e=2e3)=>new Promise((t=>{let n=0,r=0;const i=()=>{const e=ze.getHstc();if(e){clearTimeout(r);clearInterval(n);t(e)}};n=setInterval(i,100);r=setTimeout((()=>{clearInterval(n);t(void 0)}),e);i()})),At=(0,U.getFullUrl)("app-api"),bt=e=>ze.reportError(e,{fingerprint:["usage-tracker-js","network"]});var vt=Me({clientName:"public",getDebug:ze.getDebug,getLang:ze.getLang,getTempStorage:ze.getTempStorage,setTempStorage:ze.setTempStorage,logWarning:ze.logWarning,logError:ze.logError,reportWarning:ze.reportWarning,reportError:ze.reportError,getHstc:yt,getEmail:()=>null,getHubId:()=>null,send:({events:e,query:t="",onFailure:n})=>{const r=`${At}${d.DEFAULT_TRACK_ENDPOINT}?${t}`,i=e=>{bt(e);(0,a.ensureFn)(n)()},s=()=>{Ke(r,{data:e}).catch(i)};ze.sendBeacon(r,e,s)}});const It={allowUnauthed:!0,isExternalHost:!P,events:void 0},St=e=>{const t=(0,a.defaults)(e||It,It);return vt.createTracker(t)};const Ct={anonymous:it,authed:Tt,public:{init:e=>St(e),switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if((void 0===e||"anonymous"===e)&&!0===r){const e=new URLSearchParams(t.search),r=nt(t);if(void 0!==r){rt(r);e.delete("uuid");n(`${t.pathname}?${e}`)}}}}},_t=["trackerType","onBeforeSwitch"],Ot={history:c(),storeUuidOnUrl:!0},Rt=(e={})=>{let t;const n={trackerType:"public",events:void 0,onBeforeSwitch:()=>null},{history:r,storeUuidOnUrl:i}=(0,a.defaults)(e||{},Ot);return{createTracker:e=>{const s=(0,a.defaults)(e||{},n),{trackerType:c,onBeforeSwitch:u}=s,l=(0,o.default)(s,_t),d=Ct[c];t!==c&&(0,a.ensureFn)(u)({from:t,to:c});d.switch(t,{history:r,storeUuidOnUrl:i});const p=d.init(l,{history:r,storeUuidOnUrl:i});t=c;return p}}};var xt=n("nDpY"),wt=n.n(xt);const{createTracker:Nt}=Rt({storeUuidOnUrl:!1});function Dt({messagesUtk:e}){return Nt({standalone:!0,trackerType:e?"public":"anonymous",properties:{hubId:wt().get(),hstc:e?`.${e}`:null}})}const Lt=()=>Dt({messagesUtk:(0,s.getMessagesUtk)()}),Mt=i()(Lt)},pcz0:function(e,t,n){"use strict";n.d(t,{defaultTheme:function(){return o}});var r=n("VZYW"),i=n("0srx"),s=n("kMm/");const o={alignItems:"flex-start",avatarWidth:"32px",backgroundColor:r.NEUTRAL_200,borderColor:r.NEUTRAL_600,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:r.NEUTRAL_1600,fileAttachmentTheme:(0,i.default)(),quickReplyTheme:(0,s.default)(),widgetAccent:r.NEUTRAL_1600,headerBackgroundColor:r.WHITE,headerTextColor:r.OBSIDIAN,avatarBackgroundColor:r.NEUTRAL_600,avatarBorderColor:r.NEUTRAL_600,avatarTextColor:r.OBSIDIAN},a=e=>Object.assign({},o,e);t.default=a},pdIa:function(e,t,n){"use strict";n.d(t,{postQuickReplyButtonClickEvent:function(){return c}});var r=n("Ozt8"),i=n("mlLV"),s=n("Zui/"),o=n("JGJA");const a=({name:e,multiSelect:t,value:n})=>{(0,r.postExternalApiEvent)({eventType:i.QUICK_REPLY_BUTTON_CLICK,payload:{name:e,multiSelect:t,value:n}})},c=e=>{const t=(0,o.default)("quickReplies",e),n=(0,o.default)("allowMultiSelect",e),r={name:s.QUICK_REPLIES,multiSelect:n,value:Array.isArray(t)&&t.length?t.map((e=>e.value)):[]};a(r)}},pdKL:function(e,t,n){"use strict";n.d(t,{curryable:function(){return r}});const r=e=>{const t=(...n)=>n.length>=e.length?e.apply(null,n):t.bind(null,...n);return t}},piVz:function(e,t,n){"use strict";n.d(t,{getShowInitialMessageBubble:function(){return d}});var r=n("dLEV");const i=(0,n("JGJA").default)("initialMessageBubbleVisible");var s=n("E9A7"),o=n("21jQ"),a=n("rjAk"),c=n("YNiY"),u=n("KqYL"),l=n("Pda3");const d=(0,r.createSelector)([s.getShowInitialMessage,i,o.getIsOpen,c.getThreadsAsyncData,a.hasPersistedThreads,u.getIsAIChatbot],((e,t,n,r,i,s)=>!(0,l.isUninitialized)(r)&&!(0,l.isStarted)(r)&&((!(0,l.isSucceeded)(r)||!i)&&(s?e&&!n:e&&t&&!n))))},pjpP:function(e,t,n){"use strict";n.d(t,{trackUserInteraction:function(){return u}});var r=n("dLEV"),i=n("xZ3y"),s=n("vStR");const o=(0,r.createSelector)([s.getWidgetUiState],(e=>e.userInteractedWithWidget));var a=n("1qF3"),c=n("E9Gc");function u(){return(e,t)=>{if(!o(t())){(0,c.setGlobalDimension)("interactedWithWidget","true");(0,a.postUserInteractedWithWidgetEvent)()}e((0,r.createAction)(i.TRACK_USER_INTERACTION)())}}},prkp:function(e,t,n){"use strict";n.d(t,{markMessageReadByVisitor:function(){return a}});var r=n("nDpY"),i=n.n(r),s=n("eLSo");const o="livechat-public/v1";function a({threadId:e,sessionId:t,messageId:n}){return s.default.post(`${o}/visitorReadThread/thread/${e}/message/${n}`,{query:{portalId:i().get(),sessionId:t}})}},"pxL+":function(e,t,n){"use strict";n.d(t,{setAttachments:function(){return u},setId:function(){return s},setMessageStatus:function(){return a},setStatus:function(){return o},setTimestamp:function(){return c}});var r=n("g4ag"),i=(n("JGJA"),n("MWj0"));n("Zui/"),n("QYOI");(0,r.default)(i.CLIENT_TYPE);const s=(0,r.default)(i.ID),o=(0,r.default)(i.STATUS),a=(0,r.default)(i.MESSAGE_STATUS),c=((0,r.default)(i.MESSAGE_STATUS_TIMESTAMP),(0,r.default)(i.MESSAGE_DELETE_STATUS),(0,r.default)(i.TIMESTAMP)),u=(0,r.default)(i.ATTACHMENTS);(0,r.default)(i.CONTENT_TYPE),(0,r.default)(i.SENDER),(0,r.default)(i.SENDER_TYPE),(0,r.default)(i.TEXT),(0,r.default)(i.RICH_TEXT),(0,r.default)(i.IN_REPLY_TO_ID),(0,r.default)(i.RECIPIENTS)},q4JX:function(e,t,n){"use strict";n.d(t,{getUnpublishedMessage:function(){return u}});var r=n("eCQl"),i=n("v0wH"),s=n("WebA"),o=n("C3IS"),a=n("pxL+"),c=n("0IK8");const u=e=>{if(!0===(0,o.isCommonMessageFormat)(e))return(0,a.setMessageStatus)(i.SENT,(0,s.buildCommonMessage)(e));(0,r.reportError)({error:new Error(`UNRESOLVED_REPUBLISH_MESSAGE: ${(0,c.getType)(e)}`),fingerprint:["{{ default }}","UNRESOLVED_REPUBLISH_MESSAGE"]});return null}},q6sI:function(e,t,n){"use strict";n.d(t,{default:function(){return Y}});var r=n("QYOI"),i=n("Ut5p"),s=n("bYG+"),o=n("JGJA"),a=n("gjm2"),c=n("0H74"),u=n("qjq5");function l(e,t){return(0,a.default)(t,((e,t,n)=>(0,c.default)(n,t,e)),e)}var d=(0,u.default)(l),p=n("0oBL"),f=n("mEYk"),h=n.n(f),g=n("KXN9"),m=n("xyDt"),E=n("y+PV"),T=n("IDM/"),y=n("stzZ"),A=n("4cwC"),b=n("MZef"),v=n("nf9S"),I=n("ul3k"),S=n("EQzX"),C=n("8ghC"),_=n("eF9A"),O=n("PpSk"),R=n("aYGO");const x=(0,u.default)(((e,t)=>t.setIn(R.STATUS,e)));var w=n("UxsU");const N=(0,n("g4ag").default)(R.LATEST_READ_TIMESTAMP);var D=n("6pgb"),L=n("p79U");const M=(0,s.default)("currentUrl"),P=(0,s.default)("hasChannelSwitchedToEmail");var k=n("qQrL"),U=n("cXEp"),B=n("2Sm/"),H=n("xZ3y"),F=n("t0Ql"),G=n("MJM1");(0,o.default)("id"),(0,o.default)("timestamp"),(0,o.default)("@type");const j=(0,G.default)(["newChannel","name"]);(0,o.default)("newChannel"),(0,G.default)(["oldChannel","name"]),(0,o.default)("oldChannel");var W=n("ogEP");const V=(0,b.default)({data:(0,r.Map)()});function z(e){return t=>t=(0,D.setLatestMessage)(e,t)}const K=(0,i.handleActions)({[(0,i.combineActions)(H.ADD_CONVERSATION,B.CREATE_NEW_THREAD.SUCCEEDED)]:(e,t)=>{const{conversation:n}=t.payload,r=(0,O.getThreadId)(n);return(0,m.updateAsyncData)((0,s.default)(r,n),e)},[U.SET_THREADS_SUCCESS]:e=>(0,T.requestSucceeded)(e),[H.LAST_SEEN_SUCCESS](e,t){const{threadId:n,latestMessageTimestamp:r}=t.payload,i=(0,g.getData)(e);return(0,o.default)(n,i)&&r?(0,m.updateAsyncData)((0,p.default)(n,N(r)),e):e},[k.PUBLISH_MESSAGE.SUCCEEDED](e,t){const{threadId:n,publishedMessage:r}=t.payload,i=(0,v.isConversationalMessage)(r)&&!(0,I.isEmailCaptureResponseMessage)(r)?z:()=>e=>e;return(0,m.updateAsyncData)((0,p.default)(n,i(r)),e)},[H.RECEIVED_INCOMING_MESSAGE](e,t){const{threadId:n,message:r}=t.payload,i=(0,v.isConversationalMessage)(r)&&!(0,I.isEmailCaptureResponseMessage)(r)?z:()=>e=>e,s=(0,m.updateAsyncData)((0,p.default)(n,i(r)),e);return(0,_.isAssignmentUpdateMessage)(r)?(0,m.updateAsyncData)((0,p.default)(n,(0,L.setAssignedAgentFromAssignmentMessage)(r)),s):(0,S.isCloseThreadMessage)(r)?(0,m.updateAsyncData)((0,p.default)(n,x(w.default.ENDED)),s):(0,C.isOpenThreadMessage)(r)?(0,m.updateAsyncData)((0,p.default)(n,x(w.default.STARTED)),s):s},[H.INCREMENT_UNSEEN_COUNT](e,t){const{threadId:n}=t.payload;return(0,m.updateAsyncData)((0,p.default)(n,(0,p.default)("unseenCount",(e=>e+1))),e)},[H.CLEAR_UNSEEN_COUNT_FOR_CHANNEL](e,t){const{threadId:n}=t.payload;return(0,m.updateAsyncData)((0,p.default)(n,(0,s.default)("unseenCount",0)),e)},[H.GET_VISITOR_THREADS_STARTED]:e=>(0,E.requestStarted)(e),[H.GET_VISITOR_THREADS_SUCCESS]:(e,t)=>{const{threads:n}=t.payload,i=n&&n.length?n.reduce(((e,t)=>{const n=(0,O.getThreadId)(t);return e.set(n,t)}),(0,r.Map)()):(0,r.Map)();return(0,y.requestSucceededWithOperator)(d(i),e)},[H.GET_VISITOR_THREADS_FAILURE]:e=>(0,A.requestFailed)(e),[U.UPDATE_THREAD_CURRENT_URL](e,t){const{threadId:n,currentUrl:r}=t.payload;return(0,m.updateAsyncData)((e=>e.update(n,M(r))),e)},[F.GENERIC_CHANNEL_CHANGE_RECEIVED]:(e,t)=>{const{threadId:n}=t.payload;return(0,m.updateAsyncData)((e=>e.update(n,P(!0))),e)},[F.CHANNEL_CHANGE_RECEIVED]:(e,t)=>{const{threadId:n,channelChange:r}=t.payload,i=j(r);return(0,m.updateAsyncData)((e=>e.updateIn([n,...R.CHANNEL_DETAILS],(0,W.setChannelName)(i))),e)}},V);var Y=(e=>(t,n)=>{try{return e(t,n)}catch(e){h().captureException(e,{extra:{state:t.toJS(),action:n}});return t}})(K)},q8Gl:function(e,t,n){"use strict";n.d(t,{getWindowLocation:function(){return i}});var r=n("8CDR");const i=()=>new r.default(window.location.href)},qQrL:function(e,t,n){"use strict";n.d(t,{INITIALIZE_PUBSUB:function(){return s},PUBLISH_MESSAGE:function(){return i}});var r=n("VVfI");const i=(0,r.createAsyncActionTypes)("PUBLISH_MESSAGE"),s=(0,r.createAsyncActionTypes)("INITIALIZE_PUBSUB")},qg6t:function(e,t,n){"use strict";n.d(t,{dismissTypingIndicator:function(){return a}});var r=n("0IK8"),i=n("2+C7"),s=n("5jhX"),o=n("4A01");const a=(e,t)=>n=>{const a=(0,r.getSenderId)(e);n((0,i.clearExistingTypingTimeout)(e,t));n((0,s.removeTypingTimeoutIdForAgentInThread)(t,a));n((0,o.clearTypingIndicatorStyle)({threadId:t,senderId:a}))}},qgyf:function(e,t,n){"use strict";n.d(t,{attachmentUploadProgress:function(){return s}});var r=n("dLEV"),i=n("OIId");const s=(0,r.createAction)(i.ATTACHMENT_UPLOAD_PROGRESS,(({localId:e,threadId:t,progress:n})=>({payload:{localId:e,threadId:t,progress:n}})))},qjq5:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var r=n("QJvi"),i=n("scKg"),s=n("lTIY");function o(e,t,n){const r=(0,s.default)(t,a.bind(null,e,t,n));r.args=n;r.operation=e;return r}function a(e,t,n,...r){const i=t-r.length,s=n.concat(r);return i<=0?e(...s):o(e,i,s)}function c(e,t){return o((0,i.default)(t),(0,r.default)(e),[])}var u=c(2,c);function l(e){return u(e.length,e)}},qkre:function(e,t,n){"use strict";n.d(t,{getConnectedAccountAddress:function(){return f},getFromAddress:function(){return c},getFromName:function(){return u},getHasReplies:function(){return h},getIsForward:function(){return T},getIsMemberOfForwardedSubthread:function(){return E},getOriginalSenderEmail:function(){return d},getOriginalSenderName:function(){return p},getPreviousRepliesHtml:function(){return g},getPreviousRepliesPlainText:function(){return m},getSubject:function(){return o}});var r=n("JGJA"),i=n("L8e7");const s=e=>t=>{const n=(0,i.getEmailMetadata)(t);return n&&e(n)},o=s((0,r.default)("subject")),a=(0,r.default)("from"),c=(s(a),s((e=>{const t=a(e);return t&&(0,r.default)("email",t)}))),u=s((e=>{const t=a(e);return t&&(0,r.default)("name",t)})),l=(0,r.default)("originalSender"),d=s((e=>{const t=l(e);return t&&(0,r.default)("email",t)})),p=s((e=>{const t=l(e);return t&&(0,r.default)("name",t)})),f=s((0,r.default)("connectedAccountAddress")),h=s((0,r.default)("hasReplies")),g=s((0,r.default)("previousRepliesHtml")),m=s((0,r.default)("previousRepliesPlainText")),E=s((0,r.default)("memberOfForwardedSubthread")),T=s((0,r.default)("forward"));s((0,r.default)("clipStatus")),s((0,r.default)("templateId")),s((0,r.default)("emailAuthenticationStatus"))},qqP0:function(e,t,n){"use strict";n.d(t,{timeOnPageTriggerDelaySeconds:function(){return d}});var r=n("DdHT"),i=n("kHIv"),s=n("VvTX"),o=n("97n4"),a=n("MJM1");const c=["enabled"],u=["timeDelaySeconds"],l=((0,a.default)(c),(0,a.default)(u)),d=e=>(0,r.default)(i.getMessage,s.getClientTriggers,o.getDisplayOnTimeDelay,l)(e)},"qym/":function(e,t,n){"use strict";n.d(t,{stagedThread:function(){return m}});var r=n("MZef"),i=n("9pgs"),s=n("y+PV"),o=n("IDM/"),a=n("46XF"),c=n("xyDt"),u=n("0IK8"),l=n("eFd2"),d=n("Ut5p"),p=n("ffqu"),f=n("6HRQ"),h=n("2Sm/");const g=new r.default({data:new l.default}),m=(0,d.handleActions)({[p.STAGE_MESSAGE_ON_STUBBED_THREAD](e,t){const{message:n,shouldRetainFailureState:r}=t.payload;return r?(0,a.updateData)((e=>(0,f.addMessageToThreadHistory)((0,u.getId)(n),n,e)),e):(0,c.updateAsyncData)((e=>(0,f.addMessageToThreadHistory)((0,u.getId)(n),n,e)),e)},[p.RESET_STUBBED_THREAD](e,t){const{payload:n={}}=t;return n.shouldRetainFailureState?e.set("data",new l.default):g},[h.CREATE_NEW_THREAD.STARTED]:s.requestStarted,[h.CREATE_NEW_THREAD.SUCCEEDED]:o.requestSucceeded,[h.CREATE_NEW_THREAD.FAILED]:(e,t)=>{const n=t.payload;return(0,i.requestFailedWithError)(n,e)}},g)},"r8/6":function(e,t,n){"use strict";n.d(t,{promptButtonBaseStyles:function(){return s}});var r=n("9f1P");const i=384,s=(0,r.css)(["display:inline-flex;align-items:center;max-width:","px;width:max-content;padding:7px 10px;border-radius:10px;font-weight:600;font-size:12px;line-height:18px;text-align:left;box-sizing:border-box;word-break:break-word;transition:color 0.2s ease,border-color 0.2s ease;"],i)},r8xu:function(e,t,n){"use strict";n.d(t,{getAvailabilityAwayMessage:function(){return o}});var r=n("dLEV"),i=n("tyiq"),s=n("yxYB");const o=(0,r.createSelector)([s.getWidgetAvailabilityOptions],(e=>(0,i.getAwayMessage)(e)||""))},"rA/t":function(e,t,n){"use strict";n.d(t,{buildSendersFromLegacySender:function(){return l}});var r=n("eCQl"),i=n("QYOI"),s=n("JGJA"),o=n("DdHT"),a=n("bYG+"),c=n("TWJS");function u(e){const t=(0,s.default)("@type",e)||(0,s.default)("type",e),n=(0,s.default)("utk",e)||(0,s.default)("vid",e)||(0,s.default)("id",e);return t&&n?(0,c.default)({actorId:`${t&&t[0]}-${n}`}):null}function l(e){try{const t=(0,s.default)("sender",e),n=(0,i.fromJS)(t||{}),r=u(n),l=(0,s.default)("senders",e)||[],d=(0,i.List)(l.filter(Boolean).map((e=>(0,c.default)(e)))),p=0===d.size&&r?(0,i.List)([r]):d;return(0,o.default)((0,a.default)("sender",n),(0,a.default)("senders",p))(e)}catch(t){const n=new Error("Unable to build Senders from legacy Sender");(0,r.reportError)({error:n,extra:{message:`${t}`}});return e}}},rCfO:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n("scKg"),i=n("QYOI");function s(...e){return 1===e.length?e[0]:(0,i.Seq)(e)}function o(e,t,n,...r){const i=n(...r);e.has(i)||e.set(i,t(...r));return e.get(i)}function a(e,t,n,...r){const i=n(...r);e.has(i)||e.set(i,t(...r));return e.get(i)}function c(e,t=s){(0,r.default)(e);const n=(0,i.Map)().asMutable(),c=(1===e.length?o:a).bind(null,n,e,t);c.cache=n;return c}},rIrL:function(e,t,n){"use strict";var r=n("QYOI"),i=n("GcWH"),s=n("OxGf"),o=n("rf4d");const a=(0,r.Record)({"@type":i.INITIAL_MESSAGE,clientType:null,id:null,richText:null,sender:null,status:null,text:null,timestamp:null,attachments:(0,r.List)(),direction:s.OUTGOING,channelInstanceId:null,genericChannelId:o.LIVE_CHAT_GENERIC_CHANNEL_ID,senders:(0,r.List)(),recipients:(0,r.List)()},"InitialMessage");t.default=a},rLZs:function(e,t,n){"use strict";n.d(t,{getSenderPairs:function(){return u}});var r=n("QYOI"),i=n("Mx3c"),s=n("iPDb"),o=n("0IK8"),a=n("C3IS"),c=n("V+nC");const u=e=>e&&(0,s.getMessages)(e)?(0,s.getMessages)(e).reduce(((e,t)=>{if((0,a.isCommonMessageFormat)(t)&&!(0,a.isEmailCMF)(t)||(0,c.isInitialMessage)(t)){const n=(0,o.getSenderId)(t),s=(0,o.getSenderType)(t),a=(0,r.Map)({senderId:n,senderType:s});if(n&&(s===i.AGENT||s===i.BOT))return e.add(a)}return e}),(0,r.Set)()):(0,r.Set)()},"rdz/":function(e,t,n){"use strict";n.d(t,{adjustLuminance:function(){return i}});var r=n("rkZZ");const i=(e,t)=>{const{r:n,g:i,b:s}=(0,r.hexToRGB)(e);return`#${`0${(0|256+n+(256-n)*t/100).toString(16).slice(1)}`.slice(-2)}${`0${(0|256+i+(256-i)*t/100).toString(16).slice(1)}`.slice(-2)}${`0${(0|256+s+(256-s)*t/100).toString(16).slice(1)}`.slice(-2)}`}},rf4d:function(e,t,n){"use strict";n.d(t,{EMAIL_GENERIC_CHANNEL_ID:function(){return s},FB_MESSENGER_GENERIC_CHANNEL_ID:function(){return i},FORMS_GENERIC_CHANNEL_ID:function(){return o},LIVE_CHAT_GENERIC_CHANNEL_ID:function(){return r}});const r=1e3,i=1001,s=1002,o=1003},riMc:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-internal-schema":{availability:{awayMessage:{defaultMessageText:"We're away right now, but we'll get back to you as soon as we can."},outsideOfficeHoursMessage:{defaultMessageText:"We're away right now, but we'll get back to you as soon as we can."}}}}})}},rjAk:function(e,t,n){"use strict";n.d(t,{hasPersistedThreads:function(){return s}});var r=n("dLEV"),i=n("lztA");const s=(0,r.createSelector)(i.getThreads,(e=>!!e.size))},rkZZ:function(e,t,n){"use strict";n.d(t,{hexToRGB:function(){return r}});const r=e=>{let t=(e||"#000000").slice(1);3===t.length&&(t=t.replace(/(.)/g,"$1$1"));return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}}},rwJP:function(e,t,n){e.exports=n.dlbpr(1,78)},"s3l/":function(e,t,n){e.exports=n.dlbpr(2,"Cche")},sA91:function(e,t,n){"use strict";n.d(t,{getRecordName:function(){return i}});var r=n("QYOI");const i=(e={})=>{let t=null;e.prototype instanceof r.Record?t=e.prototype:e.constructor&&e.constructor.prototype instanceof r.Record&&(t=e.constructor.prototype);if(t){if(t._name)return t._name;new e;return t._name||"Record"}return"Object"}},sIRh:function(e,t,n){"use strict";n.d(t,{default:function(){return g}});var r=n("/fsP"),i=n("nS6h"),s=n("2Zef"),o=n("BvOu"),a=n("v0wH"),c=n("QYOI"),u=n("jvpr"),l=n("rf4d"),d=n("OxGf"),p=n("Wt04"),f=n("6O34"),h=n("0G/n");const g=({channel:e,email:t,threadId:n})=>(g,m)=>{const E=s.SYSTEM_SENDER,T={type:h.CHANNEL_SPECIFIC_OPAQUE_ID,value:(0,p.getMessagesUtk)()||""},y=(0,c.List)([{deliveryIdentifier:T}]),A=new r.default({id:(0,o.generateUuid)(),text:t,sender:{"@type":E},status:{messageStatus:a.SENT},channelInstanceId:(0,u.getChannelInstanceId)(m()),senders:(0,f.buildSenders)(y),genericChannelId:l.LIVE_CHAT_GENERIC_CHANNEL_ID,direction:d.INCOMING});g((0,i.publishMessageToConversation)({channel:e,message:A,threadId:n}))}},sJho:function(e,t,n){"use strict";n.d(t,{getMessagesPageUri:function(){return o}});var r=n("dLEV"),i=n("JGJA"),s=n("49A5");const o=(0,r.createSelector)(s.getLatestWidgetData,(0,i.default)("messagesPageUri"))},sWFM:function(e,t,n){"use strict";n.d(t,{getMessageId:function(){return s}});var r=n("dLEV"),i=n("49A5");const s=(0,r.createSelector)([i.getLatestWidgetData],(e=>e.message.id))},scKg:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});function r(e,t){if("function"==typeof e)return e;throw new Error(`expected \`${"number"==typeof t?`operation[${t}]`:"operation"}\` to be a function but got \`${String(e)}\``)}},scwY:function(e,t,n){"use strict";n.d(t,{loadStagedThread:function(){return u}});var r=n("eg5p"),i=n("L9oQ"),s=n("Wiow"),o=n("YHaB"),a=n("0fuM"),c=n("esZR");function u({view:e=a.THREAD_VIEW}={}){return t=>{t((0,i.selectThread)(r.STUBBED_THREAD_ID));t((0,s.resetStubbedThread)());t((0,o.updateView)(e));t((0,c.stageInitialMessage)())}}},seb2:function(e,t,n){"use strict";n.d(t,{getBodyTypographyStyles:function(){return s}});var r=n("9f1P"),i=n("57op");const s=({theme:e})=>(0,r.css)(["font-family:",";font-weight:400;font-size:14px;color:",";line-height:24px;"],(({theme:{font:{fontFamily:e}}})=>e),(0,i.getTextColor)(e))},si22:function(e,t,n){"use strict";n.d(t,{didFailToCreateThread:function(){return d},getAsyncStagedThread:function(){return u},getStagedThreadHistory:function(){return p},getVisitorInitialThreadHistory:function(){return f},isCreatingThread:function(){return l}});var r=n("dLEV"),i=n("KXN9"),s=n("Pda3"),o=n("8J5U"),a=n("jguV"),c=n("Cblj");const u=e=>e.stagedThread,l=(0,r.createSelector)(u,s.isStarted),d=(0,r.createSelector)(u,s.isFailed),p=(0,r.createSelector)(u,i.getData),f=(0,r.createSelector)(p,(e=>(0,o.getMessages)(e).toList().filterNot(c.isTypingMessage).map(a.serialize).toJS()))},"sl/w":function(e,t,n){"use strict";n.d(t,{default:function(){return u}});var r=n("QOxE"),i=n("+/QE"),s=n.n(i),o=n("PVk8"),a=n("8ASW"),c=n("W5Gz");class u extends r.Component{render(){const{useGap:e,message:t,options:n}=this.props,r=(0,o.classNameFix)((0,o.getPassThroughProps)(this.props));return(0,c.jsx)("i18n-string",Object.assign({},r,{children:(0,o.getValue)({useGap:e,message:t,options:n},!0)}))}}u.displayName="FormattedMessage";u.contextType=a.I18nHMRContext;u.propTypes={message:s().string.isRequired,options:s().object,useGap:s().bool};u.isI18nElement=!0;u.defaultProps={options:{},useGap:!1}},"sl1+":function(e,t,n){"use strict";var r=n("BEfq"),i=n("xZ3y"),s=n("PpSk");const o={},a=(0,n("dLEV").createSlice)({name:"messageEditorStaging",initialState:o,reducers:{},extraReducers:e=>{e.addCase(r.setMessageEditorTextAction,((e,t)=>{const{threadId:n,stagingText:r}=t.payload;e[n]={stagingText:r}}));e.addCase(r.removeMessageEditorStagingTextAction,((e,t)=>{const n=t.payload;e[n]&&(e[n]={stagingText:""})}));e.addCase(i.GET_VISITOR_THREADS_SUCCESS,((e,t)=>{const{threads:n=[]}=t.payload;n.forEach((t=>{const n=(0,s.getThreadId)(t);e[n]||(e[n]={stagingText:""})}))}))}});t.default=a.reducer},sonf:function(e,t,n){"use strict";t.default={mode:"lazy",source:"conversations-visitor-ui/lang",context:{af:function(){return n.e(7988).then(n.bind(n,"fKAB"))},"ar-eg":function(){return n.e(5657).then(n.bind(n,"9EvF"))},bg:function(){return n.e(7144).then(n.bind(n,"dMeV"))},bn:function(){return n.e(1769).then(n.bind(n,"HhBF"))},"ca-es":function(){return n.e(5810).then(n.bind(n,"seu/"))},cs:function(){return n.e(7079).then(n.bind(n,"qtrH"))},da:function(){return n.e(264).then(n.bind(n,"nHqr"))},de:function(){return n.e(9276).then(n.bind(n,"FDKt"))},el:function(){return n.e(6938).then(n.bind(n,"/li2"))},"en-gb":function(){return n.e(7402).then(n.bind(n,"92Ma"))},en:function(){return Promise.resolve().then(n.bind(n,"w0x9"))},"es-mx":function(){return n.e(3777).then(n.bind(n,"m16K"))},es:function(){return n.e(4973).then(n.bind(n,"JWSJ"))},et:function(){return n.e(4962).then(n.bind(n,"Uz5N"))},fi:function(){return n.e(3882).then(n.bind(n,"nLnb"))},"fr-ca":function(){return n.e(4282).then(n.bind(n,"v+um"))},fr:function(){return n.e(7801).then(n.bind(n,"DDku"))},"he-il":function(){return n.e(670).then(n.bind(n,"ZfIw"))},hi:function(){return n.e(8900).then(n.bind(n,"KxbP"))},hr:function(){return n.e(9460).then(n.bind(n,"iomV"))},hu:function(){return n.e(8056).then(n.bind(n,"OBz0"))},id:function(){return n.e(5182).then(n.bind(n,"x7hO"))},it:function(){return n.e(5038).then(n.bind(n,"JebH"))},ja:function(){return n.e(6998).then(n.bind(n,"ndvx"))},ko:function(){return n.e(8291).then(n.bind(n,"oXn3"))},lt:function(){return n.e(6029).then(n.bind(n,"R2/z"))},ms:function(){return n.e(7845).then(n.bind(n,"ag7H"))},nl:function(){return n.e(2543).then(n.bind(n,"4mFG"))},no:function(){return n.e(6340).then(n.bind(n,"ONee"))},pl:function(){return n.e(833).then(n.bind(n,"c3vT"))},"pt-br":function(){return n.e(6650).then(n.bind(n,"Y+1v"))},"pt-pt":function(){return n.e(8570).then(n.bind(n,"w0EU"))},ro:function(){return n.e(2752).then(n.bind(n,"ZlQv"))},ru:function(){return n.e(1642).then(n.bind(n,"bo0v"))},sk:function(){return n.e(5423).then(n.bind(n,"fPOd"))},sl:function(){return n.e(6400).then(n.bind(n,"mQmr"))},sv:function(){return n.e(3994).then(n.bind(n,"ExV1"))},th:function(){return n.e(8681).then(n.bind(n,"vUmo"))},tl:function(){return n.e(7853).then(n.bind(n,"8xzb"))},tr:function(){return n.e(5347).then(n.bind(n,"8dSC"))},uk:function(){return n.e(1109).then(n.bind(n,"LWvq"))},vi:function(){return n.e(4378).then(n.bind(n,"4zuy"))},"zh-cn":function(){return n.e(4511).then(n.bind(n,"Xjqd"))},"zh-hk":function(){return n.e(587).then(n.bind(n,"YQGA"))},"zh-tw":function(){return n.e(2291).then(n.bind(n,"ZNI6"))}}}},ssUX:function(e,t,n){"use strict";n.d(t,{darken:function(){return T},getCanReadTextOnce:function(){return v},getTextColor:function(){return I},lighten:function(){return E},useDefaultElementColor:function(){return S}});var r=n("EuUD");var i=new RegExp("^#([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})|^#([A-Fa-f0-9]{1})([A-Fa-f0-9]{1})([A-Fa-f0-9]{1})$");const s=(0,r.default)({name:"HexCode",validator:e=>i.test(e)});s.toRGB=e=>{const t=i.exec(e);let n=null;if(t&&7===t.length){void 0!==t[1]&&(n={r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)});void 0!==t[4]&&(n={r:parseInt(t[4]+t[4],16),g:parseInt(t[5]+t[5],16),b:parseInt(t[6]+t[6],16)})}return n};var o=s;const a=/^rgb/i,c="#ffffff",u="#33475b",l=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;let p,f;const h=e=>{let t,n,r;try{if(a.test(e)){const i=e.match(/(\d+)\D+(\d+)\D+(\d+)/)||[];t=parseInt(i[1],10);n=parseInt(i[2],10);r=parseInt(i[3],10)}else{let i=e.toLowerCase().replace(/^#/,"");3===i.length&&(i=i.replace(/([0-9a-f])/g,"$1$1"));t=parseInt(i.substring(0,2),16);n=parseInt(i.substring(2,4),16);r=parseInt(i.substring(4,6),16)}if([t,n,r].some(isNaN))return{}}catch(e){return{}}return{r:t,g:n,b:r}},g=e=>{const{r:t,g:n,b:r}=h(e);if([t,n,r].some((e=>Number.isNaN(Number(e)))))return{hue:0,saturation:0,lightness:0};const i=t/255,s=n/255,o=r/255,a=Math.max(i,s,o),c=Math.min(i,s,o),u=(a+c)/2,l=a-c;if(0===l)return{hue:0,saturation:0,lightness:u};let d;const p=u>.5?l/(2-a-c):l/(a+c);switch(a){case i:d=(s-o)/l+(s<o?6:0);break;case s:d=(o-i)/l+2;break;default:d=(i-s)/l+4}d*=60;d=Math.round(d);return{hue:d,saturation:p,lightness:u}},m=e=>{const t=e<0?0:e>1?1:e;return`${Math.round(100*t)}%`},E=(e,t=.1)=>{const{hue:n,saturation:r,lightness:i}=g(e);return`hsl(${[n,m(r),m(i+t)].join(", ")})`},T=(e,t=.1)=>E(e,-t);function y(e){try{const t=e.replace(l,((e,t,n,r)=>t+t+n+n+r+r)),n=d.exec(t);if(!n)throw new Error("Invalid hex code");return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}catch(t){t instanceof Error&&console.error(`Error converting hex ${e} to rgb: ${t.message}`);return{r:0,g:0,b:0}}}function A(e){const{r:t,g:n,b:r}=y(e),i=t/255,s=n/255,o=r/255;return.2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}function b(e,t){const n=A(e);return(A(t)+.05)/(n+.05)>2}function v(e){if(e!==f){f=e;p=b(e,c)}return p}function I(e){return o.test(e)&&v(e)?c:u}function S(e){return!o.test(e)||!v(e)}},stzZ:function(e,t,n){"use strict";n.d(t,{requestSucceededWithOperator:function(){return i}});var r=n("VToG");const i=(0,n("nt9Q").requestStateUpdate)(r.SUCCEEDED)},"t+8h":function(e,t,n){"use strict";n.d(t,{WORKFLOW_GENERATED_USER_MESSAGE:function(){return r}});const r="WORKFLOW_GENERATED_USER_MESSAGE"},t0Ql:function(e,t,n){"use strict";n.d(t,{CHANNEL_CHANGE_RECEIVED:function(){return r},GENERIC_CHANNEL_CHANGE_RECEIVED:function(){return i}});const r="CHANNEL_CHANGE_RECEIVED",i="GENERIC_CHANNEL_CHANGE_RECEIVED"},t4ZQ:function(e,t,n){"use strict";n.d(t,{getAgentType:function(){return r}});const r=(0,n("MJM1").default)(["agentType"])},t6nY:function(e,t,n){e.exports=n.dlbpr(1,1)},tAuz:function(e,t,n){"use strict";n.d(t,{getIsMobile:function(){return s}});var r=n("dLEV"),i=n("vStR");const s=(0,r.createSelector)([i.getWidgetUiState],(e=>e.mobile||e.isFullscreen))},tLJd:function(e,t,n){"use strict";n.d(t,{shouldOverrideTrigger:function(){return r}});const r=e=>void 0!==e&&!e},tOKt:function(e,t,n){"use strict";n.d(t,{buildInitialMessage:function(){return l}});var r=n("QYOI"),i=n("JGJA"),s=n("IcZZ"),o=n("ubOH"),a=n("BvOu"),c=n("c1C1"),u=n("rIrL");const l=(e={})=>{const t=(0,i.default)("timestamp",e);return(0,u.default)({id:(0,i.default)("id",e)||(0,a.generateUuid)(),sender:(0,r.Map)((0,r.fromJS)((0,i.default)("sender",e))),status:(0,o.default)((0,i.default)("status",e)),attachments:(0,s.buildAttachments)((0,i.default)("attachments",e)),clientType:(0,i.default)("clientType",e),richText:(0,i.default)("richText",e),text:(0,i.default)("text",e),timestamp:t||(0,c.generateUniqueClientTimestamp)(),senders:(0,i.default)("senders",e),channelInstanceId:(0,i.default)("channelInstanceId",e),recipients:(0,i.default)("recipients",e)})}},tTno:function(e,t,n){"use strict";n.d(t,{scrollTriggerEnabled:function(){return a}});var r=n("kHIv"),i=n("VvTX"),s=n("97n4"),o=n("UBEt");const a=e=>{const t=(0,r.getMessage)(e),n=(0,i.getClientTriggers)(t),a=(0,s.getDisplayOnScrollPercentage)(n);return(0,o.getEnabled)(a)}},tUSi:function(e,t,n){"use strict";n.d(t,{HEADER_TEXT_DESCRIPTION_ID:function(){return i},HEADER_TEXT_TITLE_ID:function(){return r}});const r="chat-widget-header-text",i="chat-widget-header-description"},tXbc:function(e,t,n){"use strict";n.d(t,{CONNECTED:function(){return r},DISCONNECTED:function(){return s},RECONNECTING:function(){return i},RESUBSCRIBING:function(){return o},SUSPENDED:function(){return a}});const r="CONNECTED",i="RECONNECTING",s="DISCONNECTED",o="RESUBSCRIBING",a="SUSPENDED"},tY0N:function(e,t,n){"use strict";n.d(t,{TYPING:function(){return r}});const r="TYPING"},tcix:function(e,t,n){"use strict";n.d(t,{captureActionBreadcrumb:function(){return s}});var r=n("mEYk"),i=n.n(r);const s=e=>{i().captureBreadcrumb({message:e.type,category:"redux action"})}},tlSg:function(e,t,n){"use strict";n.d(t,{sendConsentToCommunicate:function(){return a}});var r=n("nDpY"),i=n.n(r),s=n("eLSo");const o="livechat-public/v1/privacy/consentToCommunicate";function a({sessionId:e,hubspotUtk:t,threadId:n}){return s.default.put(o,{query:{sessionId:e,hubspotUtk:t,threadId:n,portalId:i().get()}})}},tyiq:function(e,t,n){"use strict";n.d(t,{getAwayMessage:function(){return l},getTypicalResponseTime:function(){return d}});var r=n("MJM1");const i=["awayInOfficeHoursStrategy"],s=["awayMessage"],o=["officeHours"],a=["outsideOfficeHoursStrategy"],c=["teamMembersAvailabilityStrategy"],u=["typicalResponseTime"],l=((0,r.default)(i),e=>(0,r.default)(s,e)||""),d=((0,r.default)(o),(0,r.default)(a),(0,r.default)(c),(0,r.default)(u))},uB3n:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var r=n("QYOI");const i=e=>`${e}`;var s=n("BGhm");var o=(0,r.Record)({entries:(0,r.Map)(),evict:()=>(0,r.Set)(),idInvariant:s.numberIdInvariant,idTransform:i,name:null,notSetValue:null},"IndexedAsyncData")},uDjz:function(e,t,n){"use strict";n.d(t,{calculateChatWidgetWidth:function(){return i}});const r=32;function i(e,t){return t+r<e?t:e-r}},uOZ5:function(e,t,n){"use strict";n.d(t,{COMPANY:function(){return r},OWNER:function(){return s},USERS_AND_TEAMS:function(){return i}});const r="COMPANY",i="USERS_AND_TEAMS",s="OWNER"},uRns:function(e,t,n){"use strict";n.d(t,{AUTOMATED_CHAT_MESSAGE_TYPES:function(){return L},CONVERSATIONAL_MESSAGE_TYPES:function(){return P}});var r=n("QYOI"),i=n("GcWH"),s=n("KO+H"),o=n("l0Ga"),a=n("V1/C"),c=n("xrOf"),u=n("KZZz"),l=n("P0El"),d=n("12C0"),p=n("nguO"),f=n("7Qhs"),h=n("0GyJ"),g=n("30KC"),m=n("6OYF"),E=n("xfs0"),T=n("XF21"),y=n("Tt13"),A=n("xw4j"),b=n("Blk5"),v=n("t+8h"),I=n("Mclz"),S=n("ikhY"),C=n("It+t"),_=n("SfpB"),O=n("heCN"),R=n("50iM"),x=n("xw3r"),w=n("FGRv"),N=n("4t9X");const D=[s.EMAIL_CAPTURE_PROMPT,o.EMAIL_CAPTURE_RESPONSE,a.OFFICE_HOURS,m.TYPICAL_RESPONSE_TIME],L=(new Set(D),(0,r.List)(D)),M=[i.INITIAL_MESSAGE,u.THREAD_COMMENT,h.COMMON_MESSAGE,p.ACTIVELY_PUBLISHING,v.WORKFLOW_GENERATED_USER_MESSAGE,p.FAILED_TO_PUBLISH,y.FEEDBACK_SUBMISSION,I.BATCH_SMS_GENERATED_USER_MESSAGE,S.PARTIAL_MESSAGE,C.ENGAGEMENT_DETAILS_MESSAGE,x.CUSTOMER_AGENT_MAINTENANCE_MODE_MESSAGE,w.CUSTOMER_AGENT_AUTOMATED_MESSAGE].concat(D),P=(new Set(M),(0,r.List)(M).concat(L)),k=[R.CUSTOMER_AGENT_ACTION_EXECUTION_MESSAGE,d.CONTEXT_UPDATE,c.FILTERED_CHANGE,f.CRM_OBJECT_LIFECYCLE_UPDATE,l.CRM_OBJECT_WORKFLOW_EMAIL_SENT,g.THREAD_INBOX_UPDATED,E.THREAD_STATUS_UPDATE,T.ASSIGNMENT_UPDATE,A.CHAT_TRANSCRIPT_SENT,b.TICKET_CREATION_FAILURE,_.HELP_DESK_TICKET_SPLIT_UPDATE_MESSAGE,O.THREAD_PAUSED_ON_GENERIC_CHANNEL,N.HELP_DESK_COMMENT_REPLY_SYSTEM_MESSAGE].concat(M);new Set(k),(0,r.List)(k).concat(P)},uXUH:function(e,t,n){"use strict";n.d(t,{getAvailabilityTypicalResponseTimeMessage:function(){return a}});var r=n("dLEV"),i=n("lkO4"),s=n("tyiq"),o=n("yxYB");const a=(0,r.createSelector)(o.getWidgetAvailabilityOptions,(e=>{const t=(0,s.getTypicalResponseTime)(e);return t?(0,i.makeTypicalResponseTimeText)({typicalResponseTime:t}):""}))},uax2:function(e,t,n){"use strict";n.d(t,{default:function(){return S}});var r=n("3RTs"),i=n("+/QE"),s=n.n(i),o=n("QOxE"),a=n("9f1P"),c=n.n(a),u=n("7719");const l={[u.EXTRA_SMALL]:24,[u.SMALL]:32,[u.MEDIUM]:48};var d=n("CR0J"),p=n("57op");const f=p.getPrimaryColor,h=p.getTextOnPrimaryColor;var g=n("54vt"),m=n("W5Gz");const E=["grow","showResult","resultAnimationDuration","onResultDisplayFinish","role","size","use","children","theme"],T=(0,a.keyframes)(["100%{transform:rotate(360deg)}"]),y=c().div.withConfig({displayName:"VizExLoadingSpinner__SpinnerOuter"})(["position:relative;align-items:center;display:flex;margin:8px;",";"],(({grow:e})=>e&&(0,a.css)(["justify-content:center;width:100%;height:100%;margin:0;"]))),A=c().div.withConfig({displayName:"VizExLoadingSpinner__SpinnerInner"})(["position:relative;align-items:center;display:flex;justify-content:center;width:",";height:",";color:",";"],(({size:e})=>`${e}px`),(({size:e})=>`${e}px`),(({theme:e,use:t})=>t===g.PRIMARY?f(e):h(e))),b=c().div.withConfig({displayName:"VizExLoadingSpinner__ResultSpinner"})(["align-items:center;display:flex;justify-content:center;opacity:",";position:absolute;transition:opacity 0.2s cubic-bezier(0.42,0,0.58,1) 0.1s,transform 0.2s cubic-bezier(0.2,0.9,0.3,2) 0.1s;transform:scale(1);"],(({showResult:e})=>e?"1":"0")),v=c().div.withConfig({displayName:"VizExLoadingSpinner__Spinner"})(["transition:opacity 0.2s cubic-bezier(0.42,0,0.58,1),transform 0.2s cubic-bezier(0.89,0.03,0.68,0.22);opacity:",";position:absolute;display:block;width:100%;height:100%;&::after{position:relative;box-sizing:border-box;content:'';width:100%;height:100%;display:inline-block;border:2px solid currentColor;border-bottom-color:transparent;border-left-color:transparent;border-radius:100%;background:transparent;animation:"," 0.75s linear infinite;}"],(({showResult:e})=>e?"0":"1"),T),I=e=>{let{grow:t=!1,showResult:n=!1,resultAnimationDuration:i=1500,onResultDisplayFinish:s=(()=>{}),role:a="status",size:c="sm",use:u=g.PRIMARY,children:d,theme:p}=e,f=(0,r.default)(e,E);const h=(0,o.useRef)(void 0);(0,o.useEffect)((()=>{if(n){h.current=setTimeout(s,i);return()=>{clearTimeout(h.current)}}}),[s,i,n]);const T=l[c];return(0,m.jsx)(y,Object.assign({role:a,"data-test-id":"loading-spinner"},f,{grow:t,children:(0,m.jsxs)(A,{size:T,theme:p,use:u,"data-test-id":"spinner-inner",children:[(0,m.jsx)(v,{showResult:n}),(0,m.jsx)(b,{showResult:n,"data-test-id":"spinner-result",children:d})]})}))};I.propTypes={children:s().node,grow:s().bool,onResultDisplayFinish:s().func,resultAnimationDuration:s().number,role:s().string,showResult:s().bool,size:s().oneOf([u.EXTRA_SMALL,u.SMALL,u.MEDIUM]),style:s().object,theme:d.default,use:s().oneOf(Object.values(g))};I.displayName="VizExLoadingSpinner";var S=I},ubOH:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n("QYOI"),i=n("JGJA"),s=n("NRxt");const o=(0,r.Record)({messageStatus:null,timestamp:null,sendFailure:null},"Status");function a(e){if(!e)return o();const t=(0,i.default)("messageStatus",e)||null,n=(0,i.default)("timestamp",e),r="number"==typeof n?n:null,a=(0,i.default)("sendFailure",e)||null,c=a&&(0,s.default)(a);return o({messageStatus:t,timestamp:r,sendFailure:c})}},ughT:function(e,t,n){"use strict";n.d(t,{getFile:function(){return i},getFileId:function(){return o},getLocalId:function(){return s},getUploadProgress:function(){return a}});var r=n("JGJA");const i=(0,r.default)("file"),s=(0,r.default)("localId"),o=(0,r.default)("fileId"),a=(0,r.default)("uploadProgress")},"uk/S":function(e,t,n){"use strict";n.d(t,{sendConsentToProcess:function(){return a}});var r=n("nDpY"),i=n.n(r),s=n("eLSo");const o="livechat-public/v1/privacy/consentToProcess";function a({sessionId:e,hubspotUtk:t,welcomeMessageId:n}){return s.default.put(o,{query:{sessionId:e,hubspotUtk:t,welcomeMessageId:n,portalId:i().get()}})}},ul3k:function(e,t,n){"use strict";n.d(t,{isEmailCaptureResponseMessage:function(){return s}});var r=n("0IK8"),i=n("l0Ga");const s=e=>(0,r.getTopLevelType)(e)===i.EMAIL_CAPTURE_RESPONSE},usEm:function(e,t,n){"use strict";n.d(t,{isEmailCapturePromptMessage:function(){return s}});var r=n("0IK8"),i=n("KO+H");const s=e=>(0,r.getTopLevelType)(e)===i.EMAIL_CAPTURE_PROMPT},uxas:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{t({en:{"conversations-visitor-message-history":{source:{one:"{{count}} Source",other:"{{count}} Sources"},sources:"Sources",summary:"Summary",viewSource:"View source",website:{singular:"Website",plural:"Websites"},knowledgeBase:"Knowledge Base",generatingMessage:"Generating response...","email-capture":{thanks:"Thank you for your email. We'll be in touch as soon as possible.",invalid:"You entered an invalid email.",failed:"Sorry, we couldn't verify your email address.",placeholderText:"Enter email address",consentToCommunicate:"I agree to receive other communications from {{ accountName }}",submitEmailAddress:"Submit email address"},"initial-message":{header:"Welcome message",headerTooltip:"A welcome message is a prompt used to invite your website visitors to start a conversation."},"common-message":{hiddenMessage:"This message is hidden."},status:{publishing:{UNPUBLISHED:"Sending... ",PUBLISH_FAILED:"Not delivered. Click to retry."}},quickReply:{selectionPlaceholder:"Select one",selectionComplete:"Done"},agentSays:"Agent says:",subjectSays:"{{ subject }} says:",iSay:"I say:",subjectIsTyping:"{{ subject }} is typing",typingMessage:"Typing...",thinkingMessage:"Thinking...",stillThinkingMessage:"Still thinking...",systemMessage:"System message:",agent:"Agent",bot:"Bot",system:"System",avatar:"Avatar of {{ identifier }}"}}})}},"v+ge":function(e,t,n){"use strict";n.d(t,{REFRESH_WIDGET_DATA:function(){return i},UPDATE_SESSION_ID:function(){return s}});var r=n("VVfI");const i="REFRESH_WIDGET_DATA",s="UPDATE_SESSION_ID";(0,r.createAsyncActionTypes)("FETCH_SESSION_ID")},v0wH:function(e,t,n){"use strict";n.d(t,{FAILED:function(){return i},SENT:function(){return r}});const r="SENT",i="FAILED"},vSPC:function(e,t,n){"use strict";n.d(t,{buildWidgetColoring:function(){return p},getBrandStyle:function(){return d},hexToRgba:function(){return f}});var r=n("ssUX"),i=n("VZYW"),s=n("DLkX");const o=i.OBSIDIAN,a=i.OZ_MEDIUM,c=i.NORMAN_DARK,u=i.MARIGOLD,l=i.THUNDERDOME_DARK,d=(i.THUNDERDOME_DARK,e=>{switch(e){case o:return{backgroundImage:"linear-gradient(90deg, #33475B 0%, #516F90 101.34%)"};case a:return{backgroundImage:"linear-gradient(90deg, #7FDED2 0%, #7FD1DE 100%)"};case c:return{backgroundImage:"linear-gradient(90deg, #C84676 0%, #965EB8 100%)"};case u:return{backgroundImage:"linear-gradient(92.06deg, #F5C26B 23.41%, #FF9980 100%)"};case l:return{backgroundImage:"linear-gradient(92.06deg, #5E6AB8 42.78%, #2B7ABF 100%)"};default:return{backgroundColor:e}}});function p(e){return null==e?(0,s.default)():(0,s.default)({accentColor:e,textColor:(0,r.getTextColor)(e),useDefaultColor:(0,r.useDefaultElementColor)(e)})}function f(e,t=1){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(n){return`${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)}, ${t}`}return null}},vStR:function(e,t,n){"use strict";n.d(t,{createWidgetUiState:function(){return r},getWidgetUiState:function(){return i}});const r=(e={})=>Object.assign({apiEnableWidgetCookieBanner:"false",domain:void 0,hideScrollToButton:!0,hideWelcomeMessage:!1,isAttachmentDisabled:!1,isEmbeddedInProduct:!1,isFullscreen:!1,isIOSMobile:!1,isInCMS:!1,isInitialInputFocusDisabled:!1,mobile:!1,mode:void 0,open:!1,startOpen:void 0,url:"",userInteractedWithWidget:!1},e),i=e=>e.widgetUi},vigZ:function(e,t,n){"use strict";n.d(t,{getWidgetShellUUID:function(){return i}});var r=n("q8Gl");const i=()=>(0,r.getWindowLocation)().paramValue("uuid")},vuNk:function(e,t,n){"use strict";n.d(t,{getThreadByThreadId:function(){return a}});var r=n("JGJA"),i=n("dLEV"),s=n("lztA");const o=(e,{threadId:t})=>t,a=(0,i.createSelector)([s.getThreads,o],((e,t)=>(0,r.default)(t,e)))},"w/lx":function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r=n("dLEV"),i=n("SGAL");const s=(0,r.createAction)(i.ADD_AVAILABILITY_MESSAGE_TIMEOUT,((e,t)=>({payload:{channel:e,timeout:t}})))},w0x9:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{e(n("XVRE"));e(n("zHo9"));e(n("HNmU"));e(n("Xn0f"));e(n("uxas"));e(n("dXr0"));e(n("iSEi"));e(n("YZzh"));e(n("gA4F"));t({en:{"conversations-visitor-ui":{htmlTitle:"Chat Widget",timeSince:{secondsAgo:"a few seconds ago"},default:{agent:"Agent",meetingsLinkText:"Schedule some time with me"},emailCapture:{outsideOfficeHoursMessage:"Leave your email and well be in touch as soon as possible.",defaultAwayEmailCaptureMessage:"What email address should we use to follow up?"},threadList:{header:"Your chats",seeAllButton:"See all",seeLessButton:"See less",chatEndedMessage:"Your chat has ended."},network:{offline:{title:"Sorry. It looks like there was an issue with your internet connection. Please check your connection and try again."},pubSubFailure:{title:"Sorry. There seems to be a connection issue. Please try again later.",retry:"Refresh"},newThreadFailure:{title:"Sorry. There was a problem loading this message. Please check your connection and try again."},newThreadFailureOutdated:{title:"Sorry. Something went wrong. Please reload the page and try again."}},asyncError:{body:"We're having technical difficulties",noRetry:"Please check your connection and try again.",retry:"Retry"},widgetErrorRetryPanel:{title:"There was a problem loading the chat.",body_jsx:function(e,t,n){return e(t,"wrapper",null,"Please refresh the page or ",e(t,"Link",n.LinkProps,"retry."))}},knowledgeBaseContainer:{headerText:"Help",yourChats:"Your Chats",chat:"Chat"},chatTextArea:{validationMessage:"Message is too long.",placeholderAskMeAnything:"Ask me anything",forceQuickReplyPlaceholder:"Choose an option"},newThreadPrompt:{heading:"Your chat has been ended.",newHeading:"Your chat has ended.",paragraph:"if you want to continue the conversation",button:"start a new chat",newButton:"To start a new chat, click here."},visitorExperienceAriaLabels:{attachment:"attach a file",chatWidget:"Chat Widget",messageHistory:"Message History",microphone:"microphone",playMessageAudio:"play message audio",send:"send message",knowledgeBase:"Knowledge Base",closeChatWindow:"Close chat window",closeWelcomePage:"Close welcome page"},stagedAttachment:{uploadProgress:"{{uploadedBytes}} of {{totalBytes}}"},fileSizeLimit:"The file can't be larger than {{size}}",askForEmailMessage:"Dont have time to wait for a response? Leave your email and well be in touch as soon as possible.",gdpr:{consentToCookies:{promptHeader:"Your chat will be lost if you leave",pageLoadCookieConsent:"This chat widget uses a cookie to interact with website visitors and to provide your chat history. To find out more about this cookie, see our <a target='_blank' href=\"https://legal.hubspot.com/privacy-policy\" rel='noopener'>Privacy Policy</a>.",exitIntentCookieConsent:"Your chat will be lost if you leave this page without consenting to accept cookies. This chat widget stores cookies on your browser to collect information about how you interact with our website and allows us to remember you."}}}}})}},wFcP:function(e,t,n){"use strict";n.d(t,{defaultTheme:function(){return o}});var r=n("iKGd"),i=n("3Ezh");const s={primary:r.DEFAULT_PRIMARY_COLOR,text:r.DEFAULT_TEXT_COLOR,textOnPrimary:r.WHITE,errorText:r.DEFAULT_ERROR_TEXT_COLOR,disabledBackground:r.DISABLED_BACKGROUND_COLOR,disabledText:r.DISABLED_TEXT_COLOR,placeholderText:r.DEFAULT_PLACEHOLDER_TEXT_COLOR,inputBorder:r.DEFAULT_INPUT_BORDER_COLOR,updatedInputBorder:r.UPDATED_INPUT_BORDER_COLOR,inputBackground:r.DEFAULT_INPUT_BACKGROUND_COLOR,helpText:r.DEFAULT_HELP_TEXT_COLOR,happyColor:r.DEFAULT_HAPPY_COLOR,neutralColor:r.DEFAULT_NEUTRAL_COLOR,sadColor:r.DEFAULT_SAD_COLOR,disabledButtonBackground:r.DEFAULT_DISABLED_BUTTON_BACKGROUND_COLOR,disabledButtonBorder:r.DEFAULT_DISABLED_BUTTON_BORDER_COLOR,disabledButtonText:r.DEFAULT_DISABLED_BUTTON_TEXT_COLOR},o={font:{fontFamily:i.DEFAULT_FONT_FAMILY},colors:s,components:{Button:{},IconButton:{},Link:{},List:{},ListItemButton:{}},config:{isUngatedForCustomerAgentPrompts:!1}}},wGlN:function(e,t,n){"use strict";n.d(t,{serializeThreadForExternalEvent:function(){return i}});var r=n("PpSk");const i=e=>({conversationId:(0,r.getThreadId)(e)})},wL7V:function(e,t,n){"use strict";n.d(t,{getMessage:function(){return c}});var r=n("MJM1");const i=["threadId"],s=["channel"],o=["message"],a=["allowRetry"],c=((0,r.default)(a),(0,r.default)(i),(0,r.default)(s),(0,r.default)(o))},wMQ9:function(e,t,n){"use strict";n.d(t,{getArticleCategories:function(){return i},getRecommendedArticles:function(){return r},getRequestStatusArticleCategories:function(){return a},getRequestStatusRecommendedArticles:function(){return o},getRequestStatusSelectedCategoryArticles:function(){return c},getSelectedCategory:function(){return s}});const r=e=>e.kbLibrary.recommendedArticles,i=e=>e.kbLibrary.articleCategories,s=e=>e.kbLibrary.selectedCategory,o=e=>e.kbLibrary.requestStatus.recommendedArticles,a=e=>e.kbLibrary.requestStatus.articleCategories,c=e=>e.kbLibrary.requestStatus.selectedCategoryArticles},wO6X:function(e,t,n){"use strict";var r=n("QYOI"),i=n("xw4j"),s=n("BvOu"),o=n("c1C1");class a extends((0,r.Record)({"@type":i.CHAT_TRANSCRIPT_SENT,id:null,timestamp:null,subject:null,emailAddress:null},"TranscriptSubmissionMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,s.generateUuid)(),subject:e.subject||"",emailAddress:e.emailAddress||"",timestamp:e.timestamp||(0,o.generateUniqueClientTimestamp)("TranscriptSubmissionMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=a},wQJz:function(e,t,n){"use strict";var r=n("QYOI");const i=(0,r.Record)({activationStatus:null,agentState:null,agentType:null,assignable:!0,avatar:null,bot:!1,email:null,firstName:null,lastName:null,meetingsLinkText:null,meetingsLinkUrl:null,online:!1,salesPro:!1,userId:null,isResponderAI:!1},"Responder");t.default=i},wZdh:function(e,t,n){"use strict";n.d(t,{resolveAttachmentsForMessage:function(){return o}});var r=n("SlUU"),i=n("FBcP"),s=n("Rrky");const o=({message:e,threadId:t})=>(n,o)=>{const a=(0,r.fileAttachmentIdsInMessage)(e);if(a.size){const e=(0,i.getSessionId)(o());n((0,s.resolveAttachments)({fileIds:a,sessionId:e,threadId:t}))}}},wihT:function(e,t,n){"use strict";n.d(t,{buildHubSpotSystemSender:function(){return a}});var r=n("kqCt"),i=n("QYOI"),s=n("Mx3c"),o=n("kfJr");const a=()=>(0,i.List)([(0,r.buildCMFSender)({senderType:s.SYSTEM,senderId:o.SYSTEM_SENDER_ID})])},wjRl:function(e,t,n){"use strict";n.d(t,{focusRing:function(){return s}});var r=n("9f1P"),i=n("iKGd");const s=(0,r.css)(["outline-offset:1px;outline:2px solid ",";"],i.DEFAULT_TEXT_COLOR)},wkWz:function(e,t,n){"use strict";n.d(t,{getWidgetStartOpen:function(){return s}});var r=n("dLEV"),i=n("vStR");const s=(0,r.createSelector)([i.getWidgetUiState],(e=>e.startOpen))},"wo5+":function(e,t,n){"use strict";var r=n("9f1P"),i=n.n(r),s=n("na/J"),o=n("VZYW"),a=n("W5Gz");const c=i().ul.withConfig({displayName:"ArticlesList__Wrapper"})(["display:flex;flex-direction:column;gap:8px;padding:0;list-style:none;margin:0;"]),u=i().div.withConfig({displayName:"ArticlesList__Title"})(["font-size:14px;font-weight:600;line-height:18px;"]),l=i().div.withConfig({displayName:"ArticlesList__Subtitle"})(["font-size:12px;line-height:18px;color:",";"],o.NEUTRAL_800),d=i().button.withConfig({displayName:"ArticlesList__ListItemWrapper"})(["padding:8px;color:currentColor;gap:16px;display:flex;justify-content:flex-start;align-items:flex-start;list-style:none;background:none;border:none;width:100%;text-align:left;&:not(:disabled):hover{color:",";}"],(({coloring:{useDefaultColor:e,accentColor:t}})=>e?o.NEUTRAL_900:t)),p=({items:e,hideSubtitle:t=!1,onArticleClick:n,coloring:r,disabled:i=!1})=>(0,a.jsx)(c,{children:e.map((e=>(0,a.jsx)("li",{children:(0,a.jsxs)(d,{coloring:r,onClick:()=>null==n?void 0:n(e),role:"button",disabled:i,children:[(0,a.jsx)(s.default,{style:{flexShrink:0,fill:"currentColor",marginTop:2},width:16,height:16}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{children:e.name}),!t&&e.knowledgeCategoryName&&(0,a.jsx)(l,{children:e.knowledgeCategoryName})]})]})},e.id)))});t.default=p;p.displayName="ArticlesList"},wqpO:function(e,t,n){"use strict";n.d(t,{createVisitorThread:function(){return u}});var r=n("nDpY"),i=n.n(r),s=n("eLSo"),o=n("Loon"),a=n("3Gdv"),c=n("d4bX");async function u({sessionId:e,messageId:t,hubspotUtk:n,messagesPageUri:r,visitorThreadInitialHistory:u,zoneId:l,entryUrlMetadata:d,widgetData:p}){const f=(0,c.isInPreview)(),h=f?"livechat/v1/thread/visitor/preview/create":"livechat-public/v1/thread/visitor/create",g=await(0,a.getSpamProtectionResponse)(p),m={visitorMessage:u[u.length-1],expectedInitialHistory:u.slice(0,-1).map((e=>e.richText||e.text)),entryUrlMetadata:d,spamProtectionResponse:g};return(f?o.default:s.default).post(h,{query:{sessionId:e,welcomeMessageId:t,hubspotUtk:n,portalId:i().get(),expectedResponseType:"WRAPPER_V2",zoneId:l},data:m,headers:{"X-HubSpot-Messages-Uri":r}})}},"x+ne":function(e,t,n){"use strict";n.d(t,{getGlobalSmallStyles:function(){return s},getSmallStyles:function(){return i}});var r=n("9f1P");const i=(0,r.css)(["font-size:12px;line-height:18px;"]),s=(0,r.css)(["small{","}"],i)},x1JE:function(e,t,n){"use strict";n.d(t,{getEntries:function(){return m},getEntry:function(){return g},getEvict:function(){return l},getIdInvariant:function(){return d},getIdTransform:function(){return p},getName:function(){return f},getNotSetValue:function(){return h}});var r=n("QYOI"),i=n("qjq5"),s=n("MJM1"),o=n("dAms"),a=n("JoAZ"),c=n("Sbt9"),u=n("OPip");const l=e=>(0,s.default)(o.EVICT)(e),d=e=>(0,s.default)(o.ID_INVARIANT)(e),p=e=>(0,s.default)(o.ID_TRANSFORM)(e),f=e=>(0,s.default)(o.NAME)(e),h=e=>(0,s.default)(o.NOT_SET_VALUE)(e),g=(0,i.default)(((e,t)=>{(0,a.indexedDataInvariant)(t);(0,u.applyIdInvariant)(e,t);const n=(0,c.applyIdTransform)(e,t);return t.getIn(o.ENTRIES).get(n,h(t))})),m=(e,t=(0,r.Set)())=>{(0,a.indexedDataInvariant)(e);return t.size?t.reduce(((t,n)=>{(0,u.applyIdInvariant)(n,e);const r=(0,c.applyIdTransform)(n,e),i=e.getIn(o.ENTRIES).get(r,h(e));return t.set(r,i)}),(0,r.Map)()):e.getIn(o.ENTRIES)}},x1PU:function(e,t,n){"use strict";n.d(t,{supportedMessageTypes:function(){return g}});var r=n("b9/n"),i=n("0GyJ"),s=n("KO+H"),o=n("GcWH"),a=n("V1/C"),c=n("6OYF"),u=n("tY0N"),l=n("K7Yy"),d=n("nguO"),p=n("ikhY"),f=n("xw3r"),h=n("FGRv");const g={ACTIVELY_PUBLISHING:d.ACTIVELY_PUBLISHING,COMMON_MESSAGE:i.COMMON_MESSAGE,PARTIAL_MESSAGE:p.PARTIAL_MESSAGE,DATE_MESSAGE:r.DATE_MESSAGE,EMAIL_CAPTURE_PROMPT:s.EMAIL_CAPTURE_PROMPT,FAILED_TO_PUBLISH:d.FAILED_TO_PUBLISH,INITIAL_MESSAGE:o.INITIAL_MESSAGE,OFFICE_HOURS:a.OFFICE_HOURS,TYPICAL_RESPONSE_TIME:c.TYPICAL_RESPONSE_TIME,TYPING:u.TYPING,FEEDBACK_SURVEY:l.FEEDBACK_SURVEY,CUSTOMER_AGENT_MAINTENANCE_MODE_MESSAGE:f.CUSTOMER_AGENT_MAINTENANCE_MODE_MESSAGE,CUSTOMER_AGENT_AUTOMATED_MESSAGE:h.CUSTOMER_AGENT_AUTOMATED_MESSAGE}},x56f:function(e,t,n){"use strict";n.d(t,{SHOULD_ASK_FOR_CONSENT:function(){return r},SHOULD_NOT_ASK_FOR_CONSENT:function(){return i},UNDETERMINED:function(){return s}});const r="SHOULD_ASK_FOR_CONSENT",i="SHOULD_NOT_ASK_FOR_CONSENT",s="UNDETERMINED"},xAl4:function(e,t,n){"use strict";n.d(t,{uploadAttachmentClient:function(){return i}});var r=n("0JoJ");const i=({formData:e,uploadUrl:t,onProgress:n=(()=>{})})=>r.default.post(t,{headers:{"content-type":!1},data:e,timeout:0,withXhr:e=>{e.upload.addEventListener("progress",n,!1)}})},xCrP:function(e,t,n){"use strict";var r=n("qjq5"),i=n("TaVT"),s=n("TBI5");function o(e,t,n){const r=(0,i.default)(e,n);return(0,s.default)(e,t(r),n)}t.default=(0,r.default)(o)},xOzo:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n("qjq5"),i=n("QYOI"),s=n("3Yas");s.some.implement(Array,((e,t)=>t.some(e)));s.some.implementInherited(i.Iterable,((e,t)=>t.some(e)));s.some.implement(Object,((e,t)=>{const n=Object.keys(t),r=n.length;for(let i=0;i<r;i++){const r=n[i];if(e(t[r],r,t))return!0}return!1}));var o=s.some,a=(0,r.default)(o)},xTKo:function(e,t,n){"use strict";n.r(t);n.d(t,{default:function(){return Kc}});var r=n("mEYk"),i=n.n(r),s=n("khQs"),o=n.n(s),a=n("bhLI");var c=e=>({pathname:e,listen(){return()=>{}}}),u=n("nDpY"),l=n.n(u),d=n("8CDR"),p=n("zP/g"),f=n.n(p),h=n("19qb"),g=n("hwHA"),m=n("Pda3"),E=n("bMJP"),T=n("4kAq"),y=n("HCbP"),A=n("fT+s"),b=n("dLEV"),v=n("q8Gl"),I=n("Los8");const S=()=>(0,I.parseStringBoolean)((0,v.getWindowLocation)().paramValue("inApp53"));var C=n("vStR"),_=n("B39b"),O=n("+U1B"),R=n("49A5"),x=n("cdXU");const w=(0,b.createSelector)([O.getVisitorIdentity,R.getLatestWidgetData],((e,t)=>!(0,x.getIsPrivateLoad)(t)&&Boolean((0,_.getIsFirstVisitorSession)(e)))),N=(0,b.createSelector)([w,C.getWidgetUiState],(e=>{const t=S();return Boolean(!e||t)}));var D=n("Xvzl"),L=n("p9k8"),M=n("lEkO");const P=(0,b.createSelector)([M.getThreadList],(0,D.default)(L.isStarted)),k=(0,b.createSelector)([P],(e=>e.size>0));var U=n("FAYk"),B=n("scwY"),H=n("y5/z"),F=n("IA0z"),G=n("Qvwz");const j=(0,b.createAction)(G.CLEAR_SELECTED_THREAD);var W=n("YHaB"),V=n("0fuM"),z=n("ombE"),K=n("21jQ");function Y(){return(e,t)=>{const n=(0,z.getCurrentView)(t()),r=(0,K.getIsOpen)(t());e(j());n===V.CATEGORY_VIEW?e((0,W.updateView)(V.KNOWLEDGE_BASE)):e((0,W.updateView)(V.THREAD_LIST));r&&e((0,H.trackInteraction)(F.EVENT_NAMES.WIDGET_INTERACTION,{action:"view thread list"}))}}var q=n("G53s");function J(){return(e,t)=>{const n=(0,U.getKnowledgeBaseEnabled)(t()),r=(0,q.getIsUngatedForCustomerAgentPrompts)(t());if(k(t()))e((0,A.navigateToMostRecentThread)());else if(n){e(Y());e((0,B.loadStagedThread)({view:r?V.THREAD_VIEW:V.THREAD_LIST}))}else e((0,B.loadStagedThread)())}}var $=n("cXEp");const Q=(0,b.createAction)($.SET_THREADS_SUCCESS);var X=n("d4bX");const Z=({data:e})=>(t,n)=>e?(0,T.initializeI18n)({data:e}).then((()=>{var r;const{message:{surveyId:i},sessionId:s}=e;null!==i&&t((0,y.fetchFeedbackSurvey)(i,s));t((0,E.default)(e));const o=null===(r=e.spamProtectionMetadata)||void 0===r?void 0:r.token;if(o&&!(0,X.isInPreview)()){const e=document.createElement("script");e.src=`https://www.google.com/recaptcha/enterprise.js?render=${o}`;document.body.appendChild(e)}if(N(n()))t((0,A.fetchVisitorThreads)()).then((()=>{t(Q());t(J())})).catch((e=>{throw e}));else{t(Q());t(J())}}),(()=>{t((0,E.default)(e))})):null;var ee=n("1+S/"),te=n("xeq1"),ne=n("I6ms"),re=n("c/Yf");const ie=(0,b.createAction)(ne.UPDATE_IS_FIRST_VISITOR_SESSION,(e=>({payload:{isFirstVisitorSession:e}}))),se=(0,b.createAction)(ne.UPDATE_GLOBAL_COOKIE_OPT_OUT,(e=>({payload:{globalCookieOptOut:e}}))),oe=e=>t=>{t(se(e));if((0,te.getIsPortal53Prod)()&&e===re.OPT_OUT_NO){t(ie(!1));t((0,H.trackInteraction)(F.EVENT_NAMES.PAGE_VIEW_FIFTY_THREE,{screen:"widget",action:"rendered widget"}))}if(e===re.OPT_OUT_YES){t(ie(!0));try{localStorage.removeItem(ee.localStorageKeys.HUBLYTICS_EVENTS_53);localStorage.removeItem(ee.localStorageKeys.HMPL)}catch(e){return}}};var ae=n("or04"),ce=n("v+ge"),ue=n("Wiow"),le=n("esZR"),de=n("si22"),pe=n("0PDK"),fe=n("eg5p"),he=n("n6ol"),ge=n("CITH");const me=()=>{(0,ge.postMessageToParent)(he.STOP_TRACK_SCROLL_PERCENTAGE)};var Ee=n("2umt");const Te=()=>{(0,ge.postMessageToParent)(he.STOP_TRACK_EXIT_INTENT)},ye=()=>e=>{me();e((0,Ee.removeTimeOnPageTrigger)());Te()};var Ae=n("XUHx"),be=n("BEfq");const ve=(0,b.createAction)(ce.REFRESH_WIDGET_DATA,(e=>({payload:e})));function Ie(e){return(t,n)=>{t(ve(e));const r=(0,pe.getSelectedThreadId)(n())===fe.STUBBED_THREAD_ID&&!(0,de.isCreatingThread)(n()),i=(0,de.didFailToCreateThread)(n());if(r&&i){const e=(0,de.getStagedThreadHistory)(n()).getIn(["messages","results"]).find((e=>"INCOMING"===e.get("direction")));t((0,ue.resetStubbedThread)(!0));t((0,le.stageInitialMessage)(!0));t((0,be.setMessageEditorStagingText)(e.get("text")))}else{if(r){t((0,ue.resetStubbedThread)());t((0,le.stageInitialMessage)())}t(ye());t((0,Ae.bootstrapInitialWidgetUi)(e))}}}var Se=n("xZ3y");const Ce=(0,b.createAction)(Se.APP_IN_BACKGROUND),_e=(0,b.createAction)(Se.APP_IN_FOREGROUND);function Oe(e){return t=>{t(e?_e():Ce())}}var Re=n("DdHT"),xe=n("kHIv"),we=n("VvTX"),Ne=n("97n4"),De=n("UBEt");const Le=e=>(0,Re.default)(xe.getMessage,we.getClientTriggers,Ne.getDisplayOnScrollPercentage,De.getScrollPercentage)(e);var Me=n("R4L7"),Pe=n("tTno"),ke=n("Ug6J");const Ue=()=>(e,t)=>{me();const n=t(),r=(0,ke.getTriggerConditions)(n,Pe.scrollTriggerEnabled);r.hasClientTriggerAlreadyFired||(r.shouldToggleOpen?e((0,g.toggleOpen)({isOpened:!0})):r.shouldToggleInitialMessageBubble&&e((0,Me.toggleInitialMessageBubble)(!0)))},Be=({scrollPercentage:e})=>(t,n)=>{const r=(0,R.getLatestWidgetData)(n());e>=Le(r)&&t(Ue())};var He=n("tAuz"),Fe=n("Q79t"),Ge=n("SNA8"),je=n("pjpP"),We=n("QOxE"),Ve=n.n(We),ze=n("npjq"),Ke=(e,t)=>{ze.default.Info.then((()=>{document.title=ze.default.text(e,t)}))};function Ye(e=window){const t=e.document,n=["","webkit","moz","ms","o"];for(let e=0;e<n.length;e++){const r=n[e];if(void 0!==t[r?`${r}Hidden`:"hidden"])return r}return null}function qe(e){return e?`${e}Hidden`:"hidden"}function Je(){const e=Ye();if(e){const t=qe(e);return document[t]}return"function"==typeof document.hasFocus&&!document.hasFocus()}function $e(e){return`${e}visibilitychange`}function Qe(e){return({hidden:t=Je()})=>{e({isVisible:!t})}}function Xe(e){const t=Ye();if(t){const n=$e(t);document.addEventListener(n,Qe(e))}else{window.addEventListener("focus",Qe(e));window.addEventListener("blur",Qe(e))}}function Ze(e){const t=Ye();if(t){const n=$e(t);document.removeEventListener(n,Qe(e))}else{window.removeEventListener("focus",Qe(e));window.removeEventListener("blur",Qe(e))}}var et=n("G0k2"),tt=n("h4aM"),nt=n("mlLV"),rt=n("Lu5y"),it=n("yS+k"),st=n("9zF3"),ot=n("g/i1");const at=(0,b.createSelector)([K.getIsOpen,st.calculateUnseenThreadsCount],((e,t)=>Boolean(!e&&!!t)));var ct=n("Avso"),ut=n("TyWi");const lt=e=>e.widgetSize.size;var dt=n("NLFw");const pt=(0,b.createSelector)([R.getLatestWidgetData],(e=>(0,xe.getSendFrom)(e)));var ft=n("W5Gz");const ht=e=>(0,ft.jsxs)("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,ft.jsxs)("g",{clipPath:"url(#breezeSingleStar__clip0_7668_25951)",children:[(0,ft.jsx)("path",{fillOpacity:.01,d:"M0 0h32v32H0z"}),(0,ft.jsx)("mask",{id:"breezeSingleStar__a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:32,height:32,children:(0,ft.jsx)("g",{clipPath:"url(#breezeSingleStar__clip1_7668_25951)",children:(0,ft.jsx)("path",{d:"M16 .011c.631 0 1.143.512 1.143 1.143 0 7.575 6.14 13.714 13.714 13.714.631 0 1.143.512 1.143 1.143s-.512 1.143-1.143 1.143c-7.574 0-13.714 6.14-13.714 13.714 0 .631-.512 1.143-1.143 1.143s-1.143-.512-1.143-1.143c0-7.574-6.14-13.714-13.714-13.714-.631 0-1.143-.512-1.143-1.143 0-.63.512-1.143 1.143-1.143 7.574 0 13.714-6.14 13.714-13.714 0-.631.512-1.143 1.143-1.143z"})})}),(0,ft.jsx)("g",{mask:"url(#breezeSingleStar__a)",children:(0,ft.jsx)("path",{d:"M0 0h32v32H0z"})})]}),(0,ft.jsxs)("defs",{children:[(0,ft.jsx)("clipPath",{id:"breezeSingleStar__clip0_7668_25951",children:(0,ft.jsx)("path",{d:"M0 0h32v32H0z"})}),(0,ft.jsx)("clipPath",{id:"breezeSingleStar__clip1_7668_25951",children:(0,ft.jsx)("path",{d:"M0 0h32v32H0z"})})]})]}));ht.displayName="SVGBreezeSingleStar";var gt=ht,mt=n("P7jJ"),Et=n("9f1P"),Tt=n.n(Et),yt=n("+hQr");const At=e=>{const t=e.cloneNode(!0);t.style.width="max-content";t.style.position="absolute";t.style.visibility="hidden";t.style.top="-9999px";let n=e.parentNode;n||(n=document.body);n.insertBefore(t,e.nextSibling);const r=t.offsetWidth;n.removeChild(t);return r},bt=(e,t={})=>{var n;const{onMeasured:r}=t,i=(0,We.useRef)(null),[s,o]=(0,We.useState)(0),a=null!==(n=null==e?void 0:e())&&void 0!==n?n:[];(0,We.useLayoutEffect)((()=>{if(i.current){const e=requestAnimationFrame((()=>{if(i.current){const e=At(i.current);o(e);null==r||r(e)}}));return()=>cancelAnimationFrame(e)}}),a);return{contentRef:i,measuredWidth:s,isReady:0!==s}},vt=200,It=60,St=60,Ct=40,_t=40,Ot=26,Rt=24,xt=(0,We.createContext)(void 0),wt=({children:e,enableHoverTracking:t})=>{const n=500,[r,i]=(0,We.useState)(!1),[s,o]=(0,We.useState)(0),[a,c]=(0,We.useState)(!1),u=(0,We.useRef)(null),{contentRef:l}=bt((()=>[]),{onMeasured:e=>{o(e);c(!0)}}),d=(0,We.useCallback)((e=>{if(t){if(u.current){clearTimeout(u.current);u.current=null}e?i(!0):u.current=setTimeout((()=>{i(!1);u.current=null}),n)}}),[t]),p=Math.max(s,vt);return(0,ft.jsx)(xt.Provider,{value:{isHoverActive:r,setIsHoverActive:d,reducedLauncherWidth:p,launcherRef:l,hoverReady:a},children:e})};wt.displayName="CustomerAgentHoverProvider";const Nt=()=>{const e=(0,We.useContext)(xt);if(void 0===e)throw new Error("Hover must be used within a HoverProvider");return e};var Dt=n("uDjz"),Lt=n("JxxT");const Mt=(e={},t)=>{const{onTransitionStart:n,onTransitionEnd:r}=e,i=(0,We.useRef)(null),s=t||i;(0,We.useEffect)((()=>{const e=s.current;if(!e)return;const t=()=>{null==n||n()},i=()=>{null==r||r()};e.addEventListener("transitionstart",t,!1);e.addEventListener("transitionend",i,!1);return()=>{e.removeEventListener("transitionstart",t,!1);e.removeEventListener("transitionend",i,!1)}}),[n,r,t,s]);return{ref:s}};var Pt=n("QNzx"),kt=n("VZYW"),Ut=n("X5NR");const Bt=Tt().div.withConfig({displayName:"AskMeAnythingLauncher__LauncherContainer"})(["border:1px solid ",";border-radius:27px;min-width:","px;width:",";padding:0 10px;display:flex;justify-content:space-between;align-items:center;box-shadow:0px 24px 48px 0px rgba(20,20,20,0.08);transition:",";min-height:40px;overflow:hidden;cursor:pointer;position:relative;background-color:white;"],kt.NEUTRAL_700,vt,(({$width:e})=>e),(({$hoverReady:e})=>e?"width 0.7s ease":"none")),Ht=Tt().div.withConfig({displayName:"AskMeAnythingLauncher__PlaceholderWrapper"})(["display:flex;align-items:center;gap:8px;"]),Ft=Tt().span.withConfig({displayName:"AskMeAnythingLauncher__Placeholder"})(["margin:auto 0;white-space:nowrap;padding-right:8px;width:max-content;"]),Gt=({onOpen:e,coloring:t,placeholder:n,browserWindowWidth:r,widgetSize:i,onLauncherAnimationStart:s,onLauncherAnimationFinished:o})=>{const{isHoverActive:a,launcherRef:c,reducedLauncherWidth:u,hoverReady:l}=Nt(),d=(0,Ut.useChatWidgetLocale)(),p=n||ze.default.text("conversations-visitor-experience-components.askMeAnythingLauncher.placeholder",{locale:d});Mt({onTransitionStart:s,onTransitionEnd:o},c);const{buttonProps:f}=(0,yt.useButton)({onPress:e,elementType:"div","aria-label":ze.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.open",{locale:d})},c),h=(0,Dt.calculateChatWidgetWidth)(r,i.width)-2*Lt.COMPOSER_INLINE_MARGIN,g=a?`${h}px`:`${u}px`;return(0,ft.jsxs)(Bt,Object.assign({},f,{ref:c,"data-test-id":"ask-me-anything-launcher",$hovering:a,$width:g,$accentColor:t.accentColor,$hoverReady:l,children:[(0,ft.jsxs)(Ht,{children:[(0,ft.jsx)(mt.default,{size:"sm",icon:(0,ft.jsx)(gt,{}),"data-test-id":"star-icon"}),(0,ft.jsx)(Ft,{children:p})]}),(0,ft.jsx)(mt.default,{size:"sm",icon:(0,ft.jsx)(Pt.default,{})})]}))};Gt.displayName="AskMeAnythingLauncher";var jt=Gt,Wt=n("+/QE"),Vt=n.n(Wt),zt=n("vSPC"),Kt=n("8Nq+"),Yt=n("jt1n");const qt=({height:e,width:t,color:n})=>(0,ft.jsx)(mt.default,{icon:(0,ft.jsx)(Yt.default,{height:e,width:t,fill:n})});qt.displayName="OpenIcon";var Jt=qt,$t=n("8Ma8");var Qt=(0,Et.css)(["box-shadow:0 1px 4px rgba(0,0,0,0.1),0 2px 12px rgba(0,0,0,0.2);&:hover{cursor:pointer;}&:focus-visible{"," outline-offset:-4px;}@media (prefers-reduced-motion:no-preference){transition:box-shadow 100ms ease-in-out;transition:transform 100ms ease-in-out;&:hover{box-shadow:0 2px 6px rgba(0,0,0,0.1),0 4px 16px rgba(0,0,0,0.2);transform:scale(1.1);}&:focus-visible{box-shadow:0 2px 6px rgba(0,0,0,0.1),0 4px 16px rgba(0,0,0,0.2);transform:scale(1.1);}&:active{box-shadow:0 1px 4px rgba(0,0,0,0.1),0 2px 8px rgba(0,0,0,0.1);transform:scale(0.9);}}@media (prefers-reduced-motion){&::after{content:'';position:absolute;top:0;left:0;border-radius:inherit;width:100%;height:100%;display:block;background-color:",";opacity:0;}&:hover{&::after{opacity:0.08;}}&:focus-visible{&::after{opacity:0.12;}}&:active{&::after{opacity:0.12;}}}"],(({isDark:e})=>e?"":`outline: 2px solid ${kt.WHITE};`),(({isDark:e})=>e?"#000":"#fff")),Xt=Object.assign;function Zt(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++){n=s[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}function en(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function tn(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function nn(e,t){e.classList?e.classList.add(t):tn(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function rn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function sn(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=rn(e.className,t):e.setAttribute("class",rn(e.className&&e.className.baseVal||"",t))}var on={disabled:!1},an=Ve().createContext(null),cn="unmounted",un="exited",ln="entering",dn="entered",pn="exiting",fn=function(e){en(t,e);function t(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;r.appearStatus=null;if(t.in)if(s){i=un;r.appearStatus=ln}else i=dn;else i=t.unmountOnExit||t.mountOnEnter?cn:un;r.state={status:i};r.nextCallback=null;return r}t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===cn?{status:un}:null};var n=t.prototype;n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)};n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ln&&n!==dn&&(t=ln):n!==ln&&n!==dn||(t=pn)}this.updateStatus(!1,t)};n.componentWillUnmount=function(){this.cancelNextCallback()};n.getTimeouts=function(){var e,t,n,r=this.props.timeout;e=t=n=r;if(null!=r&&"number"!=typeof r){e=r.exit;t=r.enter;n=void 0!==r.appear?r.appear:t}return{exit:e,enter:t,appear:n}};n.updateStatus=function(e,t){void 0===e&&(e=!1);if(null!==t){this.cancelNextCallback();t===ln?this.performEnter(e):this.performExit()}else this.props.unmountOnExit&&this.state.status===un&&this.setState({status:cn})};n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[o().findDOMNode(this),r],s=i[0],a=i[1],c=this.getTimeouts(),u=r?c.appear:c.enter;if(!e&&!n||on.disabled)this.safeSetState({status:dn},(function(){t.props.onEntered(s)}));else{this.props.onEnter(s,a);this.safeSetState({status:ln},(function(){t.props.onEntering(s,a);t.onTransitionEnd(u,(function(){t.safeSetState({status:dn},(function(){t.props.onEntered(s,a)}))}))}))}};n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o().findDOMNode(this);if(t&&!on.disabled){this.props.onExit(r);this.safeSetState({status:pn},(function(){e.props.onExiting(r);e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:un},(function(){e.props.onExited(r)}))}))}))}else this.safeSetState({status:un},(function(){e.props.onExited(r)}))};n.cancelNextCallback=function(){if(null!==this.nextCallback){this.nextCallback.cancel();this.nextCallback=null}};n.safeSetState=function(e,t){t=this.setNextCallback(t);this.setState(e,t)};n.setNextCallback=function(e){var t=this,n=!0;this.nextCallback=function(r){if(n){n=!1;t.nextCallback=null;e(r)}};this.nextCallback.cancel=function(){n=!1};return this.nextCallback};n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o().findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],a=i[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)};n.render=function(){var e=this.state.status;if(e===cn)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Zt(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return Ve().createElement(an.Provider,{value:null},"function"==typeof n?n(e,r):Ve().cloneElement(Ve().Children.only(n),r))};return t}(Ve().Component);fn.contextType=an;fn.propTypes={};function hn(){}fn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:hn,onEntering:hn,onEntered:hn,onExit:hn,onExiting:hn,onExited:hn};fn.UNMOUNTED=cn;fn.EXITED=un;fn.ENTERING=ln;fn.ENTERED=dn;fn.EXITING=pn;var gn=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return nn(e,t)}))},mn=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return sn(e,t)}))},En=function(e){en(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}};t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1];t.removeClasses(i,"exit");t.addClass(i,s?"appear":"enter","base");t.props.onEnter&&t.props.onEnter(e,n)};t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.addClass(i,s,"active");t.props.onEntering&&t.props.onEntering(e,n)};t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],s=r[1]?"appear":"enter";t.removeClasses(i,s);t.addClass(i,s,"done");t.props.onEntered&&t.props.onEntered(e,n)};t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear");t.removeClasses(n,"enter");t.addClass(n,"exit","base");t.props.onExit&&t.props.onExit(e)};t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active");t.props.onExiting&&t.props.onExiting(e)};t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit");t.addClass(n,"exit","done");t.props.onExited&&t.props.onExited(e)};t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]};t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}};return t}var n=t.prototype;n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i);"active"===n&&e&&e.scrollTop;if(r){this.appliedClasses[t][n]=r;gn(e,r)}};n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,s=n.done;this.appliedClasses[t]={};r&&mn(e,r);i&&mn(e,i);s&&mn(e,s)};n.render=function(){var e=this.props,t=(e.classNames,Zt(e,["classNames"]));return Ve().createElement(fn,Xt({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))};return t}(Ve().Component);En.defaultProps={classNames:""};En.propTypes={};function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e,t){var n=function(e){return t&&(0,We.isValidElement)(e)?t(e):e},r=Object.create(null);e&&We.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=n(e)}));return r}function An(e,t){e=e||{};t=t||{};function n(n){return n in t?t[n]:e[n]}var r,i=Object.create(null),s=[];for(var o in e)if(o in t){if(s.length){i[o]=s;s=[]}}else s.push(o);var a={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];a[i[c][r]]=n(u)}a[c]=n(c)}for(r=0;r<s.length;r++)a[s[r]]=n(s[r]);return a}function bn(e,t,n){return null!=n[t]?n[t]:e.props[t]}function vn(e,t){return yn(e.children,(function(n){return(0,We.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:bn(n,"appear",e),enter:bn(n,"enter",e),exit:bn(n,"exit",e)})}))}function In(e,t,n){var r=yn(e.children),i=An(t,r);Object.keys(i).forEach((function(s){var o=i[s];if((0,We.isValidElement)(o)){var a=s in t,c=s in r,u=t[s],l=(0,We.isValidElement)(u)&&!u.props.in;!c||a&&!l?c||!a||l?c&&a&&(0,We.isValidElement)(u)&&(i[s]=(0,We.cloneElement)(o,{onExited:n.bind(null,o),in:u.props.in,exit:bn(o,"exit",e),enter:bn(o,"enter",e)})):i[s]=(0,We.cloneElement)(o,{in:!1}):i[s]=(0,We.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:bn(o,"exit",e),enter:bn(o,"enter",e)})}}));return i}var Sn=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Cn={component:"div",childFactory:function(e){return e}},_n=function(e){en(t,e);function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Tn(r));r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0};return r}var n=t.prototype;n.componentDidMount=function(){this.mounted=!0;this.setState({contextValue:{isMounting:!1}})};n.componentWillUnmount=function(){this.mounted=!1};t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?vn(e,r):In(e,n,r),firstRender:!1}};n.handleExited=function(e,t){var n=yn(this.props.children);if(!(e.key in n)){e.props.onExited&&e.props.onExited(t);this.mounted&&this.setState((function(t){var n=Xt({},t.children);delete n[e.key];return{children:n}}))}};n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Zt(e,["component","childFactory"]),i=this.state.contextValue,s=Sn(this.state.children).map(n);delete r.appear;delete r.enter;delete r.exit;return null===t?Ve().createElement(an.Provider,{value:i},s):Ve().createElement(an.Provider,{value:i},Ve().createElement(t,r,s))};return t}(Ve().Component);_n.propTypes={};_n.defaultProps=Cn;var On,Rn,xn=function(e){en(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)};t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)};t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)};t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)};t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)};t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)};return t}var n=t.prototype;n.handleLifecycle=function(e,t,n){var r,i=this.props.children,s=Ve().Children.toArray(i)[t];s.props[e]&&(r=s.props)[e].apply(r,n);if(this.props[e]){var a=s.props.nodeRef?void 0:o().findDOMNode(this);this.props[e](a)}};n.render=function(){var e=this.props,t=e.children,n=e.in,r=Zt(e,["children","in"]),i=Ve().Children.toArray(t),s=i[0],o=i[1];delete r.onEnter;delete r.onEntering;delete r.onEntered;delete r.onExit;delete r.onExiting;delete r.onExited;return Ve().createElement(_n,r,n?Ve().cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):Ve().cloneElement(o,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))};return t}(Ve().Component);xn.propTypes={};function wn(e,t){return e!==t&&(!Ve().isValidElement(e)||!Ve().isValidElement(t)||null==e.key||e.key!==t.key)}var Nn={out:"out-in",in:"in-out"},Dn=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments);n()}},Ln=((On={})[Nn.out]=function(e){var t=e.current,n=e.changeState;return Ve().cloneElement(t,{in:!1,onExited:Dn(t,"onExited",(function(){n(ln,null)}))})},On[Nn.in]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,Ve().cloneElement(r,{in:!0,onEntered:Dn(r,"onEntered",(function(){n(ln)}))})]},On),Mn=((Rn={})[Nn.out]=function(e){var t=e.children,n=e.changeState;return Ve().cloneElement(t,{in:!0,onEntered:Dn(t,"onEntered",(function(){n(dn,Ve().cloneElement(t,{in:!0}))}))})},Rn[Nn.in]=function(e){var t=e.current,n=e.children,r=e.changeState;return[Ve().cloneElement(t,{in:!1,onExited:Dn(t,"onExited",(function(){r(dn,Ve().cloneElement(n,{in:!0}))}))}),Ve().cloneElement(n,{in:!0})]},Rn),Pn=function(e){en(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={status:dn,current:null};t.appeared=!1;t.changeState=function(e,n){void 0===n&&(n=t.state.current);t.setState({status:e,current:n})};return t}var n=t.prototype;n.componentDidMount=function(){this.appeared=!0};t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===ln&&e.mode===Nn.in?{status:ln}:t.current&&wn(t.current,e.children)?{status:pn}:{current:Ve().cloneElement(e.children,{in:!0})}};n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,s=i.status,o=i.current,a={children:n,current:o,changeState:this.changeState,status:s};switch(s){case ln:e=Mn[r](a);break;case pn:e=Ln[r](a);break;case dn:e=o}return Ve().createElement(an.Provider,{value:{isMounting:!this.appeared}},e)};return t}(Ve().Component);Pn.propTypes={};Pn.defaultProps={mode:Nn.out};const kn=Tt().div.withConfig({displayName:"TwistFadeTransition__TransitionComponent"})(["transition:transform 0.16s linear 0s,opacity 0.06s linear;opacity:0;"," ",""],(({direction:e})=>"left"===e?"transform: rotate(25deg) scale(0);":"transform: rotate(-25deg) scale(0);"),(({direction:e,transitionState:t})=>"entering"===t||"entered"===t?"opacity: 1; transform: rotate(0deg) scale(1);":"left"!==e||"exiting"!==t&&"exited"!==t?"right"!==e||"exiting"!==t&&"exited"!==t?"":"opacity: 0; transform: rotate(25deg) scale(0.5);":"opacity: 0; transform: rotate(-25deg) scale(0.5);")),Un=({in:e=!0,children:t,direction:n="right"})=>fn?(0,ft.jsx)(fn,{in:e,timeout:200,appear:!0,children:e=>(0,ft.jsx)(kn,{direction:n,transitionState:e,children:t})}):e?t:null;Un.propTypes={children:Vt().node.isRequired,direction:Vt().oneOf(["left","right"]),in:Vt().bool.isRequired};Un.displayName="TwistFadeTransition";var Bn=Un;const Hn=({color:e,height:t,width:n})=>(0,ft.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:t,viewBox:"0 0 19 18",className:"conversations-visitor-close-icon",children:(0,ft.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:(0,ft.jsx)("g",{fill:e,transform:"translate(-927 -991) translate(900.277 962)",children:(0,ft.jsx)("g",{transform:"translate(27 29)",children:(0,ft.jsx)("path",{d:"M10.627 9.013l6.872 6.873.708.707-1.415 1.414-.707-.707-6.872-6.872L2.34 17.3l-.707.707L.22 16.593l.707-.707L7.8 9.013.946 2.161l-.707-.708L1.653.04l.707.707L9.213 7.6 16.066.746l.707-.707 1.414 1.414-.707.708-6.853 6.852z"})})})})});Hn.displayName="CloseIcon";var Fn=Hn;const Gn=Tt().button.withConfig({displayName:"IconLauncher__BaseLauncher"})(["border:none;position:relative;",""],Qt),jn=Tt()(Gn).withConfig({displayName:"IconLauncher__ShapedLauncher"})(["border-radius:50%;height:",";width:",";"],(({$useAskMeAnythingLauncher:e,$mobile:t})=>e&&!t?`${_t}px`:`${St}px`),(({$useAskMeAnythingLauncher:e,$mobile:t})=>e&&!t?`${Ct}px`:`${It}px`)),Wn=Tt().div.withConfig({displayName:"IconLauncher__LauncherIcon"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;"]),Vn=({ariaLabel:e,badgeNumber:t,className:n,onClick:r,showBadge:i=!1,style:s,useDefaultColor:o,open:a,useAskMeAnythingLauncher:c,mobile:u=!1})=>{const l=(0,We.useRef)(null),d=o?kt.OBSIDIAN:kt.WHITE,p=(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Bn,{in:a,direction:"left",children:(0,ft.jsx)(Wn,{children:(0,ft.jsx)(Fn,{color:d,width:20,height:20})})}),(0,ft.jsx)(Bn,{in:!a,direction:"right",children:(0,ft.jsx)(Wn,{children:(0,ft.jsx)(Jt,{color:d,width:c&&!u?Ot:32,height:c&&!u?Rt:30})})})]}),{setLauncherRef:f}=(0,$t.useAccessibilityContext)();(0,We.useEffect)((()=>{c&&l.current&&setTimeout((()=>{l.current&&l.current.focus()}),0)}),[c]);return(0,ft.jsx)(Kt.default,{badgeLabel:t,showBadge:i,positioning:"on-circle",children:(0,ft.jsx)(jn,{"aria-label":e,"aria-haspopup":"dialog",isDark:o,style:s,className:n,onClick:r,ref:c?l:f,$useAskMeAnythingLauncher:c,$mobile:u,children:p})})};Vn.displayName="IconLauncher";Vn.propTypes={ariaLabel:Vt().string.isRequired,badgeNumber:Vt().number,className:Vt().string,onClick:Vt().func,open:Vt().bool.isRequired,showBadge:Vt().bool,style:Vt().object,useDefaultColor:Vt().bool.isRequired};var zn=Vn,Kn=n("t6nY"),Yn=n.n(Kn);const qn=Tt().div.withConfig({displayName:"Launcher__IconLauncherWrapper"})(["display:flex;align-items:center;.launcher-left-align &{flex-direction:row-reverse;}"]),Jn=({badgeNumber:e,coloring:{accentColor:t,useDefaultColor:n},className:r,onClose:i,onOpen:s,open:o,showBadge:a,useAskMeAnythingLauncher:c,mobile:u})=>{const l=(0,We.useCallback)((()=>{o?i():s()}),[o,i,s]),d={className:Yn()("reagan--widget-loaded",r),badgeNumber:e,showBadge:a,ariaLabel:o?ze.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.close"):ze.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.open"),onClick:l};return(0,ft.jsx)(qn,{"data-test-id":"icon-launcher",children:(0,ft.jsx)(zn,Object.assign({style:(0,zt.getBrandStyle)(t),useDefaultColor:n,open:o,useAskMeAnythingLauncher:c,mobile:u},d))})};Jn.propTypes={badgeNumber:Vt().number,className:Vt().string,coloring:Vt().object.isRequired,onClose:Vt().func.isRequired,onOpen:Vt().func.isRequired,open:Vt().bool.isRequired,showBadge:Vt().bool};Jn.displayName="Launcher";var $n=Jn;const Qn=e=>e.showAskMeAnythingLauncher?(0,ft.jsx)(jt,Object.assign({},e)):(0,ft.jsx)($n,Object.assign({},e));Qn.displayName="LauncherContainer";var Xn=Qn;const Zn=()=>{const{browserWindowWidth:e}=(0,We.useContext)(dt.BrowserWindowContext),t=(0,h.useSelector)(st.calculateUnseenThreadsCount),n=(0,h.useSelector)(ot.getColoring),r=(0,h.useSelector)(K.getIsOpen),i=(0,h.useSelector)(at),s=(0,h.useSelector)(pt),o=(0,h.useSelector)(lt);return{badgeNumber:t,coloring:n,open:r,showBadge:i,isResponderAI:s.some((e=>Boolean((0,ct.getIsResponderAI)(e)))),widgetSize:o,browserWindowWidth:e}},er=e=>{const t=Zn();return(0,ft.jsx)(Xn,Object.assign({},e,t))};er.displayName="LauncherContainerWrapper";var tr=er,nr=n("GOyg"),rr=n("zGIQ"),ir=n("1Vek"),sr=n("o+We"),or=n("Hnia"),ar=n("8J5U");const cr=e=>{(0,or.threadHistoryInvariant)(e);return(0,Re.default)(ar.getMessages,(e=>e&&e.toList()))(e)};var ur=n("QYOI"),lr=n("eCQl"),dr=n("fKJZ"),pr=n("/mXs"),fr=n("OCpJ"),hr=n("sl/w"),gr=n("iKGd"),mr=n("SkRU"),Er=n("rdz/"),Tr=n("K+CT"),yr=n("Te0v"),Ar=n("xr6y");const br=400,vr=312,Ir=344,Sr=72,Cr=(e,t)=>e?t?Ir:br:vr,_r=(e,t)=>e?Math.min(t,Sr):Sr,Or=({showInputField:e,defaultWidth:t,defaultHeight:n,hasTextContent:r,isAIChatBot:i,mobile:s})=>{const o=_r(i,n);if(!i)return(0,Et.css)(["min-height:","px;"],o);if(e){const e=Cr(i,s);return r?(0,Et.css)(["width:","px;min-height:","px;height:auto;"],e,o):(0,Et.css)(["width:","px;height:","px;"],e,o)}return(0,Et.css)(["width:","px;height:","px;"],t,n)},Rr=48,xr=4,wr=185,Nr=(e,t)=>Cr(e,t)-Rr-xr+"px",Dr=(e,t)=>t>1&&!e?wr+15*t-Rr-xr+"px":wr-Rr-xr+"PX";var Lr=n("HtM0");const Mr=1024,Pr=Tt().div.withConfig({displayName:"AIWelcomeMessageContent__AIWelcomeMessageContentWrapper"})(["position:relative;"]),kr=Tt().div.attrs((({showWelcomeMessageAsButton:e})=>Object.assign({},e&&{"aria-haspopup":"dialog","aria-label":ze.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.open"),"aria-describedby":"ai-initial-message"}))).withConfig({displayName:"AIWelcomeMessageContent__WelcomeMessageText"})(["border:",";display:flex;align-items:center;",";transition:width 0.5s linear,height 0.5s linear;padding:",";position:relative;background:",";border-radius:40px;flex-wrap:nowrap;justify-content:space-between;cursor:",";"],(({theme:e,useDefaultColor:t})=>`2px solid ${t?gr.DEFAULT_TEXT_COLOR:e.colors.primary}`),(e=>Or(e)),(({mobile:e})=>e?"18px 24px":"18px 32px"),kt.WHITE,(({showWelcomeMessageAsButton:e})=>e?"default":"text")),Ur=Tt()(pr.default).withConfig({displayName:"AIWelcomeMessageContent__StyledIconButton"})(["position:absolute;top:-32px;right:24px;height:24px;width:24px;border-radius:20px;background-color:",";border:1px solid ",";font-size:12px;&:hover:enabled{background-color:",";border-color:",";}&:active:enabled{background-color:",";border-color:",";}"],kt.NEUTRAL_800,kt.NEUTRAL_800,(0,Er.adjustLuminance)(kt.NEUTRAL_800,10),(0,Er.adjustLuminance)(kt.NEUTRAL_800,10),(0,Er.adjustLuminance)(kt.NEUTRAL_800,-10),(0,Er.adjustLuminance)(kt.NEUTRAL_800,-10)),Br=Tt().div.withConfig({displayName:"AIWelcomeMessageContent__InputWrapper"})(["width:100%;align-self:stretch;"]),Hr=Tt().div.withConfig({displayName:"AIWelcomeMessageContent__IntialMessageTextWrapper"})(["flex-direction:column;display:flex;align-items:flex-start;animation:fadeIn 0.75s ease-in forwards;@keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}"]),Fr=Tt().p.withConfig({displayName:"AIWelcomeMessageContent__StyledParagraph"})(["outline:none !important;font-size:",";height:100%;word-break:break-word;border:",";&:empty{::before{content:'","';opacity:0.6;}}"],(({isIOSMobile:e})=>e&&"16px"),(({error:e})=>e?"1px solid red":"none"),(({placeholder:e})=>e)),Gr=Tt().div.withConfig({displayName:"AIWelcomeMessageContent__ToolTipAliasWrapper"})(["position:absolute;top:-5px;display:flex;left:calc((50% - 56px / 2) / 2);"]),jr=({onClose:e,initialMessage:t,publishMessage:n,mobile:r,onClick:i,isAIChatBot:s,isIOSMobile:o,showWelcomeMessageAsButton:a,children:c,avatarsCount:u,widgetLocation:l,isInPreviewMode:d,messageBubbleContainerRef:p,useDefaultColor:f})=>{const h=(0,We.useRef)(null),{buttonProps:g}=(0,yt.useButton)({onPress:i,elementType:"div"},h),{visuallyHiddenProps:m}=(0,yr.useVisuallyHidden)(),E=(0,We.useRef)(null),[T,y]=(0,We.useState)(!1),[A,b]=(0,We.useState)(""),[v,I]=(0,We.useState)(!1),[S,C]=(0,We.useState)(!1),[{width:_,height:O},R]=(0,We.useState)({width:-1,height:-1});(0,We.useEffect)((()=>{if(null!=h&&h.current){let{width:e,height:t}=h.current.getBoundingClientRect();if(d&&r){e*=1/.75;t*=1/.75}R((n=>Object.assign({},n,{width:e,height:t})))}}),[h,d,r]);const x=Boolean(A.trim()),w=(0,We.useCallback)((()=>{C(!0);x||y(!1)}),[x]),{hoverProps:N}=(0,Ar.useHover)({onHoverStart:()=>{x||document.activeElement===E.current||I(!0)},onHoverEnd:()=>{I(!1)}}),D=(0,We.useCallback)((e=>{if(e){e.focus();E.current=e}}),[]),L=A.length>Mr,M=e=>{const{innerText:t}=e.target;b(t)},P=()=>{A&&!L&&n(A)},k=e=>{if("Enter"===e.key&&!1===e.shiftKey){P();e.preventDefault();e.stopPropagation();return!1}return!0},U=(0,We.useCallback)((()=>{I(!1)}),[I]),B=e=>{var t;e.preventDefault();const n=null==e||null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain"),r=window.getSelection();if(null==r||!r.rangeCount)return;r.deleteFromDocument();const i=document.createTextNode(n);r.getRangeAt(0).insertNode(i);const s=[],o=r.getRangeAt(0).commonAncestorContainer.childNodes;for(const e of o)s.push(e.nodeValue);const a=s.join("");b(a||"");r.collapseToEnd()},H=Cr(s,r);return(0,ft.jsxs)(Pr,{children:[!r&&s&&(0,ft.jsx)(Gr,{children:(0,ft.jsx)(Tr.default,{content:ze.default.text("conversations-visitor-experience-components.welcomeMessageTextArea.tooltip"),open:v&&_>=br,placement:"top center",children:(0,ft.jsx)("div",Object.assign({},m))})}),(0,ft.jsxs)(kr,Object.assign({"data-test-id":"ai-welcome-message-text-box",onClick:()=>{if(a)i();else{null!=p&&p.current&&_<H&&(p.current.style.width=`${H}px`);y(!0);T&&null!=E&&E.current&&E.current.focus()}},mobile:r,isAIChatBot:s,showWelcomeMessageAsButton:a,showInputField:T,ref:h,defaultWidth:_,defaultHeight:O,tabIndex:0,hasTextContent:x},r||a?{}:N,a&&g,{useDefaultColor:f,onTransitionEnd:()=>{if(S){null!=p&&p.current&&(p.current.style.width="auto");C(!1)}if(T&&null!=E&&E.current){document.activeElement===E.current||E.current.focus()}},children:[T&&(0,ft.jsx)(Br,{children:(0,ft.jsx)(mr.default,{validationMessage:L?ze.default.text("conversations-visitor-experience-components.welcomeMessageTextArea.validationMessage"):"",error:L,style:{height:L?"auto":"100%"},children:()=>(0,ft.jsx)(Fr,{ref:D,contentEditable:!0,onInput:M,onKeyDown:k,onPaste:B,error:L,onFocus:U,onBlur:w,placeholder:ze.default.text("conversations-visitor-experience-components.welcomeMessageTextArea.placeholder"),tabIndex:0,"data-test-id":"welcome-message-input",isIOSMobile:o})})}),!T&&(0,ft.jsxs)(Hr,{children:[(0,ft.jsx)("p",{id:"ai-initial-message","data-test-id":"initial-message-text",style:{color:kt.OBSIDIAN,fontSize:14,lineHeight:"24px",margin:0,width:"max-content",minWidth:Dr(s,u),maxWidth:Nr(s,r),wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:(0,Lr.formatHtml)(t)}}),s&&(0,ft.jsx)("div",{style:{color:kt.NEUTRAL_800,fontSize:12,lineHeight:"18px"},children:(0,ft.jsx)(hr.default,{message:"conversations-visitor-experience-components.default.aiAgent"})})]}),T&&(0,ft.jsx)(fr.SendButton,{disabled:L||!x,style:{flexShrink:0},onClick:P,className:"m-left-1","data-test-id":"ai-welcome-msg-send-button"})]})),(0,ft.jsx)(Ur,{shape:"circle",onClick:e,"data-test-id":"ai-welcome-msg-close-button",widgetLocation:l,"aria-label":ze.default.text("conversations-visitor-experience-components.welcomeMessageTextArea.close"),children:(0,ft.jsx)(mt.default,{icon:(0,ft.jsx)(Fn,{"aria-label":ze.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.dismiss"),height:8,width:8,color:kt.WHITE})})}),c]})};jr.displayName="AIWelcomeMessageContent";var Wr=jr,Vr=n("6Jpi"),zr=n("V/xu"),Kr=n("ltgT"),Yr=n("0Me1"),qr=n("HD2P");const Jr=(e,t,n)=>{const r=2===n?"-8px":3===n?"-12px":"0";return e&&n>1?`margin-right: ${r};`:t&&n>1?`margin-left: ${r};`:""},$r=Tt()(Kr.default).withConfig({displayName:"InitialMessageChatHeadGroup__StyledChatHead"})(["",""],(({$isFirst:e,$isLast:t,$total:n})=>Jr(e,t,n)));function Qr({showStatusIndicator:e=!1,size:t,responders:n,mobile:r}){const i=n.size,s=n.map(((n,r)=>{const s=(0,ct.getAvatar)(n),o=(0,ct.getFriendlyOrFormalName)(n),a=(0,Yr.isAvailable)(n),c=(0,ct.getIsBot)(n),u=(0,ct.getUserId)(n);return(0,ft.jsx)($r,{$isFirst:0===r,$isLast:r===i-1,$total:i,size:t,avatar:s,avatarName:o,online:a,isBot:c,showStatus:e,isVisitorWidget:!0},`chat-head.${u}`)}));return(0,ft.jsx)("div",{className:"justify-center",style:(0,qr.getChatHeadGroupStyle)({mobile:r}),children:s})}Qr.displayName="InitialMessageChatHeadGroup";var Xr=n("Opx+");function Zr({chatHeadingConfig:e,chatHeadingResponders:t,mobile:n=!1,showStatusIndicator:r=!1}){const i=n?"sm":"ms",s=t.size?Qr:Xr.default;return(0,ft.jsx)(s,{size:i,mobile:n,responders:t,chatHeadingConfig:e,showStatusIndicator:r})}Zr.displayName="InitialMessageAvatars";var ei=n("7719");const ti=e=>e?zr.AVATAR_SIZES[ei.SMALL]-16:zr.AVATAR_SIZES[ei.MEDIUM_SMALL]-16,ni=Tt().div.withConfig({displayName:"WelcomeMessageAvatars__IconWrapper"})(["display:inline-flex;vertical-align:middle;position:absolute;left:50%;top:",";transform:translateX(-50%);"],(({mobile:e})=>`-${ti(e)}px`)),ri=({chatHeadingConfig:e,chatHeadingResponders:t,mobile:n,onClick:r})=>(0,ft.jsx)(ni,{mobile:n,onClick:r,children:(0,ft.jsx)(Zr,{chatHeadingConfig:e,chatHeadingResponders:t,mobile:n})});ri.displayName="WelcomeMessageAvatar";var ii=ri;const si=Tt().div.withConfig({displayName:"InitialMessageBubble__MessageBubbleContainer"})(["display:flex;justify-content:",";"],(({widgetLocation:e})=>e===Vr.LEFT_ALIGNED?"flex-start":"flex-end")),oi=Tt().div.withConfig({displayName:"InitialMessageBubble__StyleWrapper"})(["position:relative;margin-top:40px;"]);Tt()(pr.default).withConfig({displayName:"InitialMessageBubble__CloseButton"})(["position:absolute;top:0;right:0;width:36px;height:36px;color:",";z-index:2;&:focus-visible{outline-offset:-2px;}"],kt.NEUTRAL_800);class ai extends We.Component{constructor(...e){super(...e);this.messageBubbleContainerRef=(0,We.createRef)();this.onClose=()=>{try{this.props.onClose()}catch(e){(0,lr.reportError)({error:"InitialMessageBubble Mysterious Error",fingerprint:["ComponentError"],tags:{componentDidCatch:!0}})}};this.renderWelcomeMessageContent=()=>{const{widgetLocation:e,initialMessage:t,onClick:n,mobile:r,chatHeadingConfig:i,chatHeadingResponders:s,publishAIInitialMessage:o,isAIChatBot:a,gdprConsentEnabled:c,isIOSMobile:u,isInPreviewMode:l=!1,useDefaultColor:d}=this.props,p=!a||a&&c;return(0,ft.jsx)(Wr,{initialMessage:t,onClose:this.onClose,publishMessage:o,widgetLocation:e,mobile:r,isAIChatBot:a,onClick:n,gdprConsentEnabled:c,isIOSMobile:u,showWelcomeMessageAsButton:p,avatarsCount:(null==s?void 0:s.size)||1,isInPreviewMode:l,messageBubbleContainerRef:this.messageBubbleContainerRef,useDefaultColor:d,children:(0,ft.jsx)(ii,{chatHeadingConfig:i,chatHeadingResponders:s,mobile:r,onClick:n})})}}componentDidMount(){this.props.onUpdateSize()}componentDidUpdate(e){e.initialMessage!==this.props.initialMessage&&this.props.onUpdateSize()}render(){const{mobile:e,widgetLocation:t,isAIChatBot:n}=this.props;return(0,ft.jsx)(si,{ref:this.messageBubbleContainerRef,widgetLocation:t,children:(0,ft.jsx)(oi,{className:e?"mobile":"","aria-label":ze.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.welcomeMessage"),role:"status",widgetLocation:t,isAIChatBot:n,mobile:e,children:this.renderWelcomeMessageContent()})})}}ai.displayName="InitialMessageBubble";ai.propTypes={chatHeadingConfig:dr.default.isRequired,chatHeadingResponders:Vt().instanceOf(ur.List).isRequired,gdprConsentEnabled:Vt().bool.isRequired,initialMessage:Vt().string.isRequired,isAIChatBot:Vt().bool.isRequired,isIOSMobile:Vt().bool.isRequired,isInPreviewMode:Vt().bool,mobile:Vt().bool.isRequired,onClick:Vt().func.isRequired,onClose:Vt().func.isRequired,onUpdateSize:Vt().func.isRequired,publishAIInitialMessage:Vt().func.isRequired,useDefaultColor:Vt().bool.isRequired,widgetLocation:Vr.WidgetLocationProp};ai.defaultProps={mobile:!1,onUpdateSize:()=>{}};var ci=n("piVz"),ui=n("MJM1");const li=e=>(0,ui.default)(["widgetData","data","botResponder","bot"],e);var di=n("k09d"),pi=n("k8Ub"),fi=n("byjC"),hi=n("ejs7");const gi=(0,Re.default)(xe.getMessage,we.getDisplayBotQuickRepliesOutsideChat),mi=(0,b.createSelector)([R.getLatestWidgetData,He.getIsMobile],((e,t)=>{const n=gi(e);return["DESKTOP_AND_MOBILE"].concat(t?["MOBILE"]:["DESKTOP"]).includes(n)})),Ei=e=>{const t=(0,di.getSelectedThread)(e),n=cr(e.stagedThread.data),r=(0,hi.getPubSubMessage)(n.last()),i=(0,pi.getQuickReplyAllowMultiSelect)(r),s=mi(e);return(0,ci.getShowInitialMessageBubble)(e)&&li(e)&&(0,fi.hasUnansweredQuickReplyMessage)(e,{thread:t,searchOnlyForInitialMessage:!0})&&s&&!i};var Ti=n("PYok"),yi=n("CuMv"),Ai=n("OwpT"),bi=n("lu1e"),vi=n("OV6p");function Ii(e){const t=`<div>${Ai.default.link((0,yi.escape)(e),{stripPrefix:!1})}</div>`.replace(/\n/g,"<br>");return(n,r)=>{n((0,vi.updateCurrentAnimation)(bi.SCALE));(0,U.getKnowledgeBaseEnabled)(r())&&n((0,B.loadStagedThread)());n((0,Ti.publishVisitorMessage)({text:e,richText:t})).then((()=>{n((0,g.toggleOpen)({isOpened:!0,isUser:!0,openedFrom:"AI welcome message input"}));n((0,H.trackInteraction)(F.EVENT_NAMES.WIDGET_INTERACTION,{action:"sent message from AI welcome message input"}));n((0,vi.updateCurrentAnimation)(bi.FADE))})).catch((e=>{i().captureException(e)}))}}var Si=n("KqYL"),Ci=n("hmFr"),_i=n("eLkp"),Oi=n("/LeO"),Ri=n("CM48");const xi=e=>{const t=cr(e.stagedThread.data),n=Ei(e)?t.reduce(((e,t)=>e+` ${t.text}`),""):(0,ir.getInitialMessageText)(e),r=(0,Oi.shouldRequireExplicitCookieConsent)(e),i=(0,_i.getGdprConsentToProcessEnabledForChatflow)(e)&&!(0,Ri.getUserHasGivenConsentToProcess)(e),s=(0,ot.getColoring)(e);return{chatHeadingConfig:(0,nr.getChatHeadingConfig)(e),chatHeadingResponders:(0,rr.getChatHeadingResponders)(e),initialMessage:n,mobile:(0,He.getIsMobile)(e),isIOSMobile:(0,Ci.getIsIOSMobile)(e),isAIChatBot:(0,Si.getIsAIChatbot)(e),gdprConsentEnabled:r||i,useDefaultColor:s.useDefaultColor}},wi={onClose:sr.closeInitialMessageBubble,publishAIInitialMessage:Ii};var Ni=(0,h.connect)(xi,wi)(ai),Di=n("QrEa"),Li=n("38AR"),Mi=n("8ASW");const Pi={wrapper:"span"};function ki(e,t,...n){return We.createElement(e&&e[t]||Pi[t]||Pi.wrapper,...n)}function Ui(e){console.warn(`I18n: FormattedJSXMessage called with missing or non-JSX message key ${e.message}. See go/i18n-react for more info.`);return(0,ft.jsx)(hr.default,{message:e.message,options:e.options})}const Bi=e=>null!=e,Hi=e=>{var t;We.useContext(Mi.I18nHMRContext);let n=ze.default.lookup(e.message,{locale:(null==e||null===(t=e.options)||void 0===t?void 0:t.locale)||(ze.default.langEnabled?ze.default.locale:"en")});if(!Bi(n))return Ui(e);const r=e.options&&e.options.count,i=Bi(r);if("object"==typeof n&&i){const e=ze.default.pluralization.get()(r);for(;e.length;){const t=e.shift();if(Bi(n[t])){n=n[t];break}}}const s=Object.assign({},e.options);if(i&&"number"==typeof r)s.count=ze.default.formatNumber(r);else if("string"==typeof n)return Ui(e);return n(ki,e.elements,s)};Hi.propTypes={message:Vt().string.isRequired,elements:Vt().object.isRequired,options:Vt().object,jsxMessageValidator:(e,t,n)=>{e.message.endsWith("_jsx")||console.warn(`I18n: ${n} called with invalid message prop not ending in _jsx for ${e.message}`)}};var Fi=Hi,Gi=n("PY2H"),ji=n("Jr27"),Wi=n("okxY");const Vi=e=>{const{disableAutoFocus:t}=(0,$t.useAccessibilityContext)();return(0,ft.jsx)(Wi.FocusScope,Object.assign({contain:!1},e,{autoFocus:!t}))};Vi.displayName="FocusScopeWithContext";var zi=Vi;const Ki=Tt().div.withConfig({displayName:"WidgetErrorRetryPanel__WidgetBodyDiv"})(["display:flex;flex-direction:column;padding:40px;"]);class Yi extends We.Component{render(){const{inline:e,widgetLocation:t,mobile:n,isOpen:r,onClose:i}=this.props;return r?(0,ft.jsx)(zi,{children:(0,ft.jsx)(Li.default,{inline:e,isOpen:!0,mobile:n,widgetLocation:t,browserWindowHeight:0,role:"alert",children:(0,ft.jsxs)(Ki,{children:[(0,ft.jsx)("h4",{children:(0,ft.jsx)(hr.default,{message:"conversations-visitor-ui.widgetErrorRetryPanel.title"})}),!e&&(0,ft.jsx)(ji.default,{onClick:i,"aria-label":ze.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.closeChatWindow")}),(0,ft.jsx)(Fi,{message:"conversations-visitor-ui.widgetErrorRetryPanel.body_jsx",elements:{Link:Gi.default},options:{LinkProps:{use:"on-bright",onClick:this.props.retry}}})]})})}):null}}Yi.displayName="WidgetErrorRetryPanel";Yi.propTypes={inline:Vt().bool.isRequired,isOpen:Vt().bool,mobile:Vt().bool.isRequired,onClose:Vt().func.isRequired,retry:Vt().func.isRequired,widgetLocation:Vr.WidgetLocationProp};var qi=Yi;class Ji extends We.Component{static getDerivedStateFromError(e){return{error:e}}constructor(e){super(e);this.handleRetry=()=>{this.setState({error:!1})};this.explicitlySetError=e=>{this.setState({error:e})};this.state={error:null}}render(){return this.state.error?this.props.renderError(this.handleRetry):this.props.children}}Ji.displayName="AsyncComponentErrorBoundary";Ji.propTypes={children:Vt().node,renderError:Vt().func.isRequired};var $i=Ji,Qi=n("uax2");const Xi=e=>{const[t,n]=(0,We.useState)(!1);(0,We.useEffect)((()=>{const t=setTimeout((()=>n(!0)),e);return()=>{clearTimeout(t)}}),[e]);return t},Zi=Tt().div.withConfig({displayName:"WidgetPlaceholder__WidgetBodyDiv"})(["display:flex;flex-direction:column;height:100%;align-items:center;justify-content:center;"]),es=()=>{const e=Xi(200);return(0,ft.jsx)(Zi,{"data-test-id":"chat-widget-wrapper",children:e&&(0,ft.jsx)(Qi.default,{size:"sm"})})};es.displayName="WidgetPlaceholder";var ts=es,ns=n("WUMC"),rs=n("N4ZN"),is=n("20e/"),ss=n("7vm7"),os=n("uXUH"),as=n("aiuJ"),cs=n("QeSX"),us=n("CM4h");const ls=(0,b.createSelector)([R.getLatestWidgetData],(e=>(0,xe.getShowPreviousConversations)(e))),ds=(0,b.createSelector)([z.getCurrentView],(e=>e===V.THREAD_LIST)),ps=(0,b.createSelector)([z.getCurrentView],(e=>e===V.KNOWLEDGE_BASE)),fs=(0,b.createSelector)([M.getThreadList,ds,ls,ps,U.getKnowledgeBaseEnabled],((e,t,n,r,i)=>{if(t||r)return!1;if(i)return!0;if(!n||!e)return!1;return e.size>0}));var hs=n("enlr"),gs=n("L9oQ"),ms=n("dK5d"),Es=n("eEyY");function Ts(){return(e,t)=>{const{view:n}=(0,hs.getOriginViewContext)(t());e((0,ms.setStandardWidgetSize)());n===V.THREAD_VIEW&&e((0,gs.selectThread)((0,Es.getCurrentThreadId)(t())));e((0,W.updateView)(n))}}function ys(){return e=>{e((0,je.trackUserInteraction)());e(j());e((0,W.updateView)(V.THREAD_LIST));e((0,H.trackInteraction)(F.EVENT_NAMES.WIDGET_INTERACTION,{action:"view thread list"}))}}function As(){return(e,t)=>{(0,U.getKnowledgeBaseEnabled)(t())?e(Y()):e(ys())}}var bs=n("Qwrb"),vs=n("N+TY");function Is(e){return(t,n)=>{const r=(0,hs.getShouldViewKBArticleExpanded)(n());t(r?(0,ms.setStandardWidgetSize)():(0,ms.setWidgetSize)({width:640,height:e}));t((0,vs.setViewExpanded)(!r))}}var Ss=n("Pk3f"),Cs=n("wMQ9");const _s=(0,b.createSelector)([Ss.getKnowledgeBaseEnabled,z.getCurrentView,Cs.getSelectedCategory],((e,t,n)=>{if(e){if(t===V.KNOWLEDGE_BASE)return ze.default.text("conversations-visitor-ui.knowledgeBaseContainer.headerText");if(t===V.THREAD_LIST)return ze.default.text("conversations-visitor-ui.knowledgeBaseContainer.chat");if(t===V.CATEGORY_VIEW)return n.name||ze.default.text("conversations-visitor-ui.knowledgeBaseContainer.articleCategories.defaultHeader")}return null})),Os=(0,b.createSelector)([z.getCurrentView,U.getKnowledgeBaseEnabled],((e,t)=>{const n=e===V.KNOWLEDGE_BASE||e===V.THREAD_LIST;return t&&n})),Rs=e=>{const t=(0,hs.getKBArticle)(e);return{widgetSize:lt(e),chatHeadingConfig:(0,nr.getChatHeadingConfig)(e),chatHeadingResponders:(0,rr.getChatHeadingResponders)(e),coloring:(0,ot.getColoring)(e),customHeaderText:_s(e),isThreadAssigned:Boolean((0,cs.getAssignedResponderInWidget)(e)),mobile:(0,He.getIsMobile)(e),officeHoursMessage:(0,ss.getAvailabilityOfficeHoursWillReturnMessage)(e),showAvailabilityMessage:(0,is.showAvailabilityMessageInWidget)(e,{thread:(0,di.getSelectedThread)(e)}),showBackButton:fs(e),backButtonDisabled:(0,de.isCreatingThread)(e),typicalResponseTimeMessage:(0,os.getAvailabilityTypicalResponseTimeMessage)(e),unseenThreadsCountExcludingCurrentThread:(0,us.calculateUnseenThreadsCountExcludeCurrent)(e),widgetLocation:(0,Fe.getWidgetLocation)(e),viewKBArticleExpanded:(0,hs.getShouldViewKBArticleExpanded)(e),kbArticleDeepLink:t.deepLink,kbNavigationEnabled:Os(e)}},xs={fetchAgentResponderIfNecessary:()=>{},createNewThread:as.navigateToStagedThread,republishMessage:rs.republishMessage,navigateToThreadList:As,navigateToKnowledgeBaseArticle:bs.navigateToKnowledgeBaseArticle,restorePreviousViewFromKBArticle:Ts,toggleWidgetSizeForKBArticle:Is,updateView:W.updateView};var ws=(0,h.connect)(Rs,xs)(ns.default);const Ns=e=>{const t=(0,We.lazy)(e);let n,r;const i=(0,We.forwardRef)(((e,n)=>(0,We.createElement)(r||t,Object.assign(n?{ref:n}:{},e))));i.preload=()=>{n||(n=e().then((e=>{r=e.default})).catch((()=>{})));return n};return i};var Ds=n("3RTs");const Ls=(0,n("JGJA").default)("currentAnimation"),Ms=["in","children","direction","duration"],Ps=(e,t)=>{switch(e){case bi.FADE:return`fade-slide-transition-${t}`;case bi.SCALE:return`scale-y-transition-${t}`;default:return`fade-slide-transition-${t}`}},ks=e=>{let{in:t,children:n,direction:r="bottom",duration:i=500}=e,s=(0,Ds.default)(e,Ms);const o=(0,h.useSelector)(Ls);return(0,ft.jsx)(En,Object.assign({in:t,timeout:o===bi.SCALE?700:i,classNames:Ps(o,r),mountOnEnter:!0,unmountOnExit:!0,appear:!0},s,{children:n}))};ks.displayName="FadeSlideInTransition";ks.propTypes={children:Vt().node.isRequired,direction:Vt().oneOf(["bottom","top"]),in:Vt().bool.isRequired};var Us=ks,Bs=n("glWH"),Hs=n("oehR"),Fs=n("g9mg");const Gs=Tt().div.withConfig({displayName:"Section"})(["padding:8px;"]);Tt().div.withConfig({displayName:"Section__SectionHeader"})(["font-size:14px;font-weight:600;line-height:18px;color:",";padding:8px;"],kt.NEUTRAL_900);var js=n("mbYX"),Ws=n("wo5+"),Vs=n("7zlR");const zs=Tt().div.withConfig({displayName:"CategoryArticles__CategoryArticlesWrapper"})(["height:100%;overflow-y:scroll;"]);function Ks(){const e=(0,h.useDispatch)(),t=(0,h.useSelector)(Cs.getSelectedCategory),{id:n}=t,[r]=(0,h.useSelector)(q.getSearchableKnowledgeBaseIds),i=(0,ut.useAppSelector)(js.getKnowledgeBaseUrl),s=(0,h.useSelector)(Cs.getRequestStatusSelectedCategoryArticles),o=(0,h.useSelector)(ot.getColoring),{browserWindowHeight:a}=(0,dt.useBrowserWindowContext)();(0,We.useEffect)((()=>{var o;null!=t&&null!==(o=t.articles)&&void 0!==o&&o.length||s!==Fs.UNINITIALIZED||-1===n||e((0,Bs.fetchCategoryArticles)({categoryId:n,knowledgeBaseId:r,knowledgeBaseUrl:i}))}),[e,n,r,i,t.articles,s]);const c=(0,We.useCallback)((t=>{e((0,Vs.handleArticleClick)(t.id,t.url,a))}),[e,a]);return s===Fs.PENDING?(0,ft.jsx)(Hs.default,{}):(0,ft.jsx)(zs,{children:(0,ft.jsx)(Gs,{children:(0,ft.jsx)(Ws.default,{hideSubtitle:!0,items:t.articles,coloring:o,onArticleClick:c})})})}Ks.displayName="CategoryArticles";function Ys(e){let t,n=0;if(!e||!e.length)return n;for(let r=0;r<e.length;r++){t=e.charCodeAt(r);n=(n<<5)-n+t;n|=0}return n}var qs=Ys;const Js=Tt().div.withConfig({displayName:"KBArticle__ArticleWrapper"})(["width:100%;height:100%;"]),$s=Tt().div.withConfig({displayName:"KBArticle__LoadingWrapper"})(["display:flex;justify-content:center;align-items:center;height:100%;"]);function Qs({kbArticle:e,visitorIdentification:t,isKnowledgeBaseV3:n=!0}){const[r,i]=(0,We.useState)(!0),{deepLink:s,hubSpotContentId:o,hubSpotContentTextFragment:a}=e,c=l().get(),u=a?`aicitation-${qs(a)}`:`${c}${o}`,d=encodeURIComponent(window.location.origin),p=(0,We.useMemo)((()=>{const e=new URL(s);e.pathname="_hcms/customer-agent-embed";n&&(e.pathname="_hcms/livechat/embedded-content");e.searchParams.set("hubSpotContentType","KB_ARTICLE");e.searchParams.set("portalId",c.toString());e.searchParams.set("hubSpotContentId",o);if(a){e.searchParams.set("contentTextFragment",a);e.hash=u}e.searchParams.set("origin",d);e.searchParams.set("anchorName",u);null!=t&&t.identificationToken&&e.searchParams.set("identificationToken",t.identificationToken);null!=t&&t.identificationEmail&&e.searchParams.set("email",t.identificationEmail);"http:"===e.protocol&&(e.protocol="https:");return e}),[c,o,a,d,u,s,null==t?void 0:t.identificationToken,null==t?void 0:t.identificationEmail,n]);return(0,ft.jsxs)(Js,{children:[r&&(0,ft.jsx)($s,{children:(0,ft.jsx)(Qi.default,{})}),(0,ft.jsx)("iframe",{src:p.toString(),style:{width:"100%",height:"100%",border:"none"},id:"kb-article-iframe",onLoad:()=>i(!1)})]})}Qs.displayName="KBArticle";var Xs=Qs,Zs=n("32pP"),eo=n("2Nk6");function to(){const e=(0,hs.useKBArticle)(),t=(0,h.useSelector)(Zs.getVisitorIdentification),n=(0,h.useSelector)(eo.getIfSelectedKBIsLatest);return(0,ft.jsx)(Xs,{kbArticle:e,visitorIdentification:t,isKnowledgeBaseV3:n})}to.displayName="KBArticleContainer";var no=to,ro=n("Ozt8");const io=()=>{(0,ro.postExternalApiEvent)({eventType:nt.SDK_CLOSE_BUTTON_CLICK,payload:{timestamp:Date.now()}})};class so extends We.PureComponent{constructor(e){super(e);this.ThreadView=Ns((()=>Promise.all([n.e(8837),n.e(9181),n.e(3677)]).then(n.bind(n,"s2wo"))));this.KnowledgeBaseContainer=Ns((()=>Promise.all([n.e(8006),n.e(1882)]).then(n.bind(n,"DvnI"))));this.ThreadListContainer=Ns((()=>n.e(7067).then(n.bind(n,"OxYs"))))}renderView(){const{currentView:e}=this.props;if(!e)return null;switch(e){case V.THREAD_VIEW:return(0,ft.jsx)(this.ThreadView,{onSetMessageTextExternally:this.props.onSetMessageTextExternally});case V.KNOWLEDGE_BASE:return(0,ft.jsx)(this.KnowledgeBaseContainer,{});case V.THREAD_LIST:return(0,ft.jsx)(this.ThreadListContainer,{});case V.CATEGORY_VIEW:return(0,ft.jsx)(Ks,{});case V.KNOWLEDGE_BASE_ARTICLE:return(0,ft.jsx)(no,{});default:return(0,ft.jsx)(ts,{})}}renderContent(){const{closeWidget:e,browserWindowHeight:t,browserWindowWidth:n,inline:r,currentView:i,isUngatedForCustomerAgentPrompts:s,enableSdkCloseButton:o,mobile:a}=this.props,c=(0,tt.isInSDK)();let u;o?u=io:r||c||!s&&!a||(u=e);return(0,ft.jsx)("div",{style:{height:"100%"},id:"current-view-component",children:(0,ft.jsx)(ws,{browserWindowHeight:t,browserWindowWidth:n,closeWidget:u,inline:r,view:i,children:(0,ft.jsx)(We.Suspense,{fallback:(0,ft.jsx)(ts,{}),children:this.renderView()})})},"widget")}render(){const{onOpenAnimationStarted:e,onCloseAnimationStarted:t,onOpenAnimationFinished:n,onCloseAnimationFinished:r,isOpen:i,showAskMeAnythingLauncher:s}=this.props;return(0,ft.jsx)(Us,{addEndListener:()=>{},duration:s?0:500,in:i||!1,onEnter:e,onEntered:n,onExit:t,onExited:r,children:this.renderContent()})}}so.displayName="CurrentView";so.defaultProps={onOpenAnimationFinished:()=>{},onOpenAnimationStarted:()=>{},onCloseAnimationFinished:()=>{},onCloseAnimationStarted:()=>{}};var oo=(0,Di.withBrowserSizeContext)(so);const ao=e=>({currentView:(0,z.getCurrentView)(e),enableSdkCloseButton:(0,xe.getEnableSdkCloseButton)(e)&&(0,tt.hasMinimumMobileSdkVersion)({minMajor:1,minMinor:0,minPatch:6}),isUngatedForCustomerAgentPrompts:(0,q.getIsUngatedForCustomerAgentPrompts)(e),mobile:(0,He.getIsMobile)(e)});var co=(0,h.connect)(ao)(oo),uo=n("0Zm1"),lo=n("cFiw"),po=n("tUSi");const fo=Tt().div.withConfig({displayName:"DialogWindow__Main"})(["&:focus{outline:none;}"]),ho=e=>{const{isOpen:t,onClose:n,children:r}=e,i=(0,We.useRef)(null),{dialogProps:s}=(0,lo.useDialog)({id:"live-chat-widget","aria-labelledby":po.HEADER_TEXT_TITLE_ID,"aria-describedby":po.HEADER_TEXT_DESCRIPTION_ID},i),{setShouldTrapFocus:o,disableWidgetClose:a,launcherRef:c}=(0,$t.useAccessibilityContext)(),{overlayProps:u}=(0,uo.useOverlay)({isOpen:t,isKeyboardDismissDisabled:a,onClose:()=>{n&&n();c&&c.focus()},shouldCloseOnBlur:!0,shouldCloseOnInteractOutside:e=>{!!e&&"BUTTON"===e.tagName||o(!1);return!1}},i);return(0,ft.jsx)(fo,Object.assign({ref:i},u,s,{onClick:()=>o(!0),children:r}))};ho.displayName="DialogWindow";var go=ho;const mo=e=>{const{inline:t,isOpen:n,shouldRenderDialog:r,mobile:i,widgetLocation:s,onClose:o,onOpenAnimationStarted:c,onCloseAnimationFinished:u,onOpenAnimationFinished:l,onCloseAnimationStarted:d,showAskMeAnythingLauncher:p,onSetMessageTextExternally:f}=e,{disableWidgetDialog:h}=(0,$t.useAccessibilityContext)(),{browserWindowHeight:g,browserWindowWidth:m}=(0,dt.useBrowserWindowContext)(),E=h||!r,T=E?We.Fragment:go,y=E?{}:{isOpen:n,onClose:o};return(0,ft.jsx)(T,Object.assign({},y,{children:(0,ft.jsx)($i,{renderError:e=>(0,ft.jsx)(a.NavMarker,{name:"ERROR_WITH_RETRY",children:(0,ft.jsx)(qi,{inline:t,isOpen:n,mobile:i,widgetLocation:s,onClose:o,retry:e})}),children:(0,ft.jsx)(co,{browserWindowHeight:g,browserWindowWidth:m,inline:t,isOpen:n,onOpenAnimationStarted:c,onCloseAnimationFinished:u,onOpenAnimationFinished:l,onCloseAnimationStarted:d,closeWidget:o,showAskMeAnythingLauncher:p,onSetMessageTextExternally:f})})}))};mo.displayName="WidgetWindow";var Eo=mo;function To(e,t){return n=>{const r={"@type":"QUICK_REPLIES",quickReplies:[t.toJS()],allowMultiSelect:!1,allowUserInput:!0};n((0,Ti.publishVisitorMessage)({text:e,quickReply:r})).then((()=>{n((0,g.toggleOpen)({isOpened:!0,isUser:!0,openedFrom:"quick reply outside chat"}));n((0,W.updateView)(V.THREAD_VIEW));n((0,H.trackInteraction)(F.EVENT_NAMES.WIDGET_INTERACTION,{action:"clicked quick reply option outside chat"}))})).catch((()=>{throw new Error("selectQuickReplyOptionOutsideChat failed")}))}}const yo=e=>(0,ui.default)(["stagedThread","data","messages","results"],e);var Ao=e=>{let t=(0,ur.OrderedSet)();e.valueSeq().forEach((e=>{"attachments"in e&&e.attachments.forEach((e=>{"QUICK_REPLIES"===e["@type"]&&"quickReplies"in e&&e.quickReplies.forEach((e=>{t=t.add(e)}))}))}));return t},bo=n("DLkX"),vo=n("S5kL"),Io=n("YICO"),So=n("Jrbl"),Co=n("QGYt"),_o=n("3S9s"),Oo=n("7X4W");const Ro="prompt-recommendations",xo="quick-replies",wo=Tt().div.withConfig({displayName:"ConsentPromptsOutsideChat__ConsentPromptWrapper"})(["background:",";color:",";width:",";"],kt.NEUTRAL_500,kt.OBSIDIAN,(({usageType:e})=>e===Ro?"384px":"100%")),No=Tt().div.withConfig({displayName:"ConsentPromptsOutsideChat__SpamProtectionEnabledMessage"})(["border:1px solid ",";padding:0 12px;background:",";font-size:12px;color:",";"],kt.NEUTRAL_600,kt.NEUTRAL_200,kt.OBSIDIAN),Do=({renderCookieConsentPrompt:e=!1,consentToCookies:t,showingGdprProcess:n=!1,consentToProcessMessage:r,showGdprConsentToProcessButton:i=!1,consentToProcess:s,closeConsentToProcess:o,isPortal53:a=!1,usageType:c=xo,spamProtectionEnabled:u})=>e||n||u?e?(0,ft.jsx)(Ut.ChatWidgetLocaleContextConsumer,{children:e=>(0,ft.jsx)(wo,{usageType:c,children:(0,ft.jsx)(Oo.default,{showButton:!0,message:ze.default.text("conversations-visitor-experience-components.gdpr.consentToCookies.pageLoadCookieConsent",{locale:e}),onClick:t,isPortal53:a,isOutsideChat:!0})})}):n?(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(wo,{usageType:c,children:(0,ft.jsx)(Oo.default,{showButton:i,message:r,onClick:s,onClose:o,isPortal53:a,isOutsideChat:!0})}),!i&&u&&(0,ft.jsx)(No,{children:(0,ft.jsx)(hr.default,{message:"conversations-visitor-experience-components.spamProtectionEnabled"})})]}):u?(0,ft.jsx)(No,{children:(0,ft.jsx)(hr.default,{message:"conversations-visitor-experience-components.spamProtectionEnabled"})}):null:null;Do.displayName="ConsentPromptsOutsideChat";var Lo=Do,Mo=n("ssUX");const Po=Tt().div.withConfig({displayName:"QuickReplyGroupOutsideChat__QuickReplyGroupWrapper"})(["display:flex;justify-content:",";"],(e=>"RIGHT_ALIGNED"===e.widgetLocation?"end":"start")),ko=Tt().div.withConfig({displayName:"QuickReplyGroupOutsideChat__QuickReplySelectContainer"})(["display:inline-flex;flex-direction:column;align-items:",";width:240px;"],(e=>"RIGHT_ALIGNED"===e.widgetLocation?"end":"start")),Uo=Tt()(Co.default).withConfig({displayName:"QuickReplyGroupOutsideChat__QuickReplySelectSendButton"})(["margin-top:8px;"]),Bo=4,Ho=({quickReplyOptions:e=(0,ur.OrderedSet)(),widgetLocation:t="RIGHT_ALIGNED",onQuickReplyOptionClick:n=(()=>{}),message:r,widgetColoring:i=(0,bo.default)(),publishMessage:s=(()=>{}),displayBotQuickRepliesOutsideChat:o=!1,consentToProcessMessage:a,consentToProcess:c,showGdprConsentToProcessButton:u=!1,closeConsentToProcess:l,showingGdprProcess:d=!1,renderCookieConsentPrompt:p=!1,consentToCookies:f,isPortal53:h=!1,spamProtectionEnabled:g})=>{const[m,E]=(0,We.useState)((0,ur.Map)()),T=e=>{const t=(0,vo.getOptionLabel)(e);n(t,e)},y=t=>{const{target:{value:n}}=t,r=e.filter((e=>(0,vo.getOptionValue)(e)===n)).first();E(r)};if(!o)return null;const A=(0,Mo.getCanReadTextOnce)(i.accentColor),b=A?i.accentColor:kt.OBSIDIAN,v=A?i.textColor:kt.WHITE;return(0,ft.jsxs)(ft.Fragment,{children:[!p&&(!d||!u)&&(0,ft.jsx)(Po,{widgetLocation:t,children:e.size<=Bo?(0,ft.jsx)(Io.default,{"data-test-id":"quick-reply-group-outside-chat",disabled:!1,options:e,message:r,publishMessage:s,onSend:T,widgetLocation:t,isOutsideChat:!0,accentColor:i.accentColor,theme:(0,_o.createThemeV2)({colors:{primary:b}})}):(0,ft.jsxs)(ko,{"data-test-id":"quick-reply-select-container-outside-chat",widgetLocation:t,children:[(0,ft.jsx)(So.default,{disabled:!1,quickReplyOptions:e,onChange:y,value:(0,vo.getOptionValue)(m),placeholder:ze.default.text("conversations-visitor-experience-components.quickReply.selectionPlaceholder"),theme:(0,_o.createThemeV2)({colors:{primary:b}})}),!m.isEmpty()&&(0,ft.jsx)(Uo,{use:"primary",onClick:()=>T(m),theme:(0,_o.createThemeV2)({colors:{primary:b,textOnPrimary:v}}),children:(0,ft.jsx)(hr.default,{message:"conversations-visitor-experience-components.quickReply.selectionComplete"})})]})}),(0,ft.jsx)(Lo,{renderCookieConsentPrompt:p,showingGdprProcess:d,consentToProcessMessage:a,showGdprConsentToProcessButton:u,consentToProcess:c,closeConsentToProcess:l,consentToCookies:f,isPortal53:h,spamProtectionEnabled:g})]})};Ho.displayName="QuickReplyGroupOutsideChat";var Fo=Ho,Go=n("Qf6G"),jo=n("HnnE"),Wo=n("EjiN"),Vo=n("k3Ph"),zo=n("zs6M");const Ko=({quickReplyOptions:e,widgetLocation:t="RIGHT_ALIGNED",onQuickReplyOptionClick:n=(()=>{}),message:r,widgetColoring:i,publishMessage:s,displayBotQuickRepliesOutsideChat:o,showGdprConsentToProcessButton:a,consentToProcessMessage:c,consentToProcess:u,showingGdprProcess:l,renderCookieConsentPrompt:d,consentToCookies:p,isPortal53:f,closeConsentToProcess:h,spamProtectionEnabled:g})=>(0,ft.jsx)(Fo,{quickReplyOptions:e,widgetLocation:t,widgetColoring:i,displayBotQuickRepliesOutsideChat:o,message:r,onQuickReplyOptionClick:n,publishMessage:s,showGdprConsentToProcessButton:a,consentToProcessMessage:c,consentToProcess:u,showingGdprProcess:l,renderCookieConsentPrompt:d,consentToCookies:p,isPortal53:f,closeConsentToProcess:h,spamProtectionEnabled:g});Ko.displayName="QuickReplyGroupOutsideChat";const Yo=e=>{const t=yo(e),n=Ao(t),r=(0,ot.getColoring)(e),i=cr(e.stagedThread.data),s=(0,hi.getPubSubMessage)(i.last()),o=Ei(e),a=(0,jo.getConsentToProcessMessage)(e),c=(0,Wo.getShowGdprConsentToProcess)(e),u=(0,_i.getGdprConsentToProcessEnabledForChatflow)(e)&&!(0,Ri.getUserHasGivenConsentToProcess)(e),l=(0,Oi.shouldRequireExplicitCookieConsent)(e),d=(0,it.getIsPortal53)(),p=(0,R.getLatestWidgetData)(e),f=(0,xe.getSpamProtectionMetadata)(p);return{displayBotQuickRepliesOutsideChat:o,quickReplyOptions:n,widgetColoring:r,message:s,consentToProcessMessage:a,showGdprConsentToProcessButton:c,showingGdprProcess:u,renderCookieConsentPrompt:l,isPortal53:d,spamProtectionEnabled:Boolean(null==f?void 0:f.token)}},qo={onQuickReplyOptionClick:To,publishMessage:Ti.publishVisitorMessage,consentToProcess:Go.consentToProcess,consentToCookies:Vo.consentToCookies,closeConsentToProcess:zo.closeConsentToProcess};var Jo=(0,h.connect)(Yo,qo)(Ko);const $o=({dragHandleState:e})=>(0,ge.postMessageToParent)(he.DRAG_HANDLE_POSITION_CHANGE,{dragHandleState:e});var Qo=n("iF/4"),Xo=n("3MJX"),Zo=n("FfT4");const ea=(e,t)=>{const[n,r]=(0,We.useState)(!1),i=(0,We.useRef)({consentPromptEnabled:e,isHoverActive:t});(0,We.useEffect)((()=>{i.current.consentPromptEnabled&&!e&&t?r(!0):i.current.isHoverActive&&!t&&r(!1);i.current={consentPromptEnabled:e,isHoverActive:t}}),[e,t]);return n},ta=["onClick","widgetLocation","promptsHeight","disableAnimation","consentPromptEnabled"],na=6,ra=(e,t,n=!1,r=!1)=>{const i=e?e+na:0;return n||r&&t?{bottom:`${i}px`,transition:"none"}:t?{bottom:"0px",transform:`translateY(-${i}px)`}:{bottom:"0px",transform:"translateY(0px)"}},ia=Tt()(pr.default)((({widgetLocation:e,promptsHeight:t,isHoverActive:n,disableAnimation:r,hasRecentlyGivenConsent:i})=>Object.assign({zIndex:999,position:"absolute",left:e===Zo.LEFT_ALIGNED?"0":"auto",right:e===Zo.RIGHT_ALIGNED?"0":"auto",height:"20px",width:"20px",borderRadius:"20px",backgroundColor:kt.WHITE,color:kt.NEUTRAL_1000,border:`1px solid ${kt.NEUTRAL_700}`,fontSize:"12px",boxShadow:"0px 1px 17px 3px #AC937742","&:hover:enabled":{color:kt.NEUTRAL_1600,borderColor:kt.OBSIDIAN,backgroundColor:(0,Mo.darken)(kt.WHITE,.02)},transition:r?"none":"all .5s ease-in-out"},ra(t,n,r,i)))),sa=e=>{let{onClick:t,widgetLocation:n,promptsHeight:r=0,disableAnimation:i=!1,consentPromptEnabled:s=!1}=e,o=(0,Ds.default)(e,ta);const{isHoverActive:a}=Nt(),c=ea(s,a);return(0,ft.jsx)(ia,Object.assign({shape:"circle",onClick:t,widgetLocation:n,promptsHeight:r,isHoverActive:a,disableAnimation:i,hasRecentlyGivenConsent:c},o,{children:(0,ft.jsx)(mt.default,{icon:(0,ft.jsx)(Xo.default,{width:10,height:10})})}))};sa.displayName="VisitorWidgetCloseButton";var oa=sa;const aa=(0,b.createSelector)([R.getLatestWidgetData],(e=>(0,xe.getSpamProtectionMetadata)(e)));var ca=n("+A8U"),ua=n("b56I"),la=n("p0/p");const da=({children:e,consentPromptEnabled:t,isVisible:n})=>t?(0,ft.jsx)(Us,{in:Boolean(n),duration:400,direction:"bottom",addEndListener:()=>{},children:(0,ft.jsx)(ft.Fragment,{children:e})}):(0,ft.jsx)(ft.Fragment,{children:e});da.displayName="ConsentPromptTransitionWrapper";var pa=da;const fa=({clickedFrom:e})=>{const t=(0,h.useSelector)(Fe.getWidgetLocation),{isHoverActive:n}=Nt(),r=(0,it.getIsPortal53)(),i=(0,h.useSelector)(aa),s=Boolean(null==i?void 0:i.token),{consentPromptEnabled:o,consentToProcessMessage:a,showGdprConsentToProcessButton:c,showingGdprProcess:u,renderCookieConsentPrompt:l,consentToProcess:d,consentToCookies:p,closeConsentToProcess:f}=(0,ua.useConsentPromptData)(),{recommendedQuestionsForAgent:g,coloring:m,isAIChatBot:E,handlePromptClick:T,handlePromptTrack:y}=(0,la.useAIPromptRecommendations)({clickedFrom:e,shouldOpenWidget:!0,shouldLoadStagedThread:!0,errorMessage:"Failed to publish message from AI prompts outside chat"}),A=!l&&!c&&(n||u);return(0,ft.jsxs)(pa,{consentPromptEnabled:o||s,isVisible:E&&n,children:[(0,ft.jsx)(ca.AIPromptRecommendations,{recommendedQuestionsForAgent:g,widgetLocation:t,coloring:m,insideChat:!1,onPromptClick:T,onPromptTrack:y,shouldShow:A}),(0,ft.jsx)(Lo,{renderCookieConsentPrompt:l,showingGdprProcess:u,consentToProcessMessage:a,showGdprConsentToProcessButton:c,consentToProcess:d,closeConsentToProcess:f,consentToCookies:p,isPortal53:r,usageType:"prompt-recommendations",spamProtectionEnabled:s})]})};fa.displayName="AIPromptsContainerOutsideChat";var ha=fa;const ga=Tt().div.withConfig({displayName:"WelcomeMessage__BubbleWrapper"})(["position:relative;margin-top:40px;"]),ma=Tt().div.withConfig({displayName:"WelcomeMessage__Bubble"})(["display:flex;align-items:center;justify-content:center;box-sizing:border-box;position:relative;background:",";border-radius:8px;font-size:14px;line-height:24px;color:",";padding:24px 16px 16px 16px;box-shadow:1px 1px 10px 0px rgba(0,0,0,0.28);min-width:150px;max-width:250px;min-height:80px;"],kt.WHITE,kt.NEUTRAL_1600),Ea=Tt().p.withConfig({displayName:"WelcomeMessage__Text"})(["width:max-content;word-break:break-word;max-width:100%;cursor:default;"]),Ta=Tt()(pr.default).withConfig({displayName:"WelcomeMessage__CloseButton"})(["position:absolute;top:0;right:0;color:",";"],kt.NEUTRAL_1600),ya=({onClick:e,initialMessage:t,isMobile:n=!1,chatHeadingConfig:r,chatHeadingResponders:i,onClose:s})=>{const o=(0,We.useRef)(null),{buttonProps:a}=(0,yt.useButton)({onPress:e,elementType:"div"},o);return(0,ft.jsxs)(ga,{children:[(0,ft.jsxs)(ma,Object.assign({},a,{"aria-label":ze.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.open"),"data-test-id":"welcome-message-button","aria-haspopup":"dialog",ref:o,children:[(0,ft.jsx)(ii,{chatHeadingConfig:r,chatHeadingResponders:i,mobile:n,onClick:e}),(0,ft.jsx)(Ea,{id:"welcome-message","data-test-id":"initial-message-text",dangerouslySetInnerHTML:{__html:(0,Lr.formatHtml)(t||"")}})]})),(0,ft.jsx)(Ta,{"aria-label":ze.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.closeWelcomePage"),onClick:s,use:"primary-transparent-background",size:"sm","data-test-id":"welcome-message-close-button",children:(0,ft.jsx)(mt.default,{size:"xs",icon:(0,ft.jsx)(Xo.default,{})})})]})};ya.displayName="WelcomeMessage";var Aa=ya;const ba=()=>({chatHeadingConfig:(0,h.useSelector)(nr.getChatHeadingConfig),chatHeadingResponders:(0,h.useSelector)(rr.getChatHeadingResponders)}),va=Tt().div.withConfig({displayName:"WelcomePageLayoutComponents__WelcomePageWrapper"})(["position:relative;display:flex;flex-direction:column;width:",";align-items:",";"],(({$width:e})=>`${e}px`),(({widgetLocation:e})=>e===Vr.LEFT_ALIGNED?"flex-start":"flex-end")),Ia=Tt().div.withConfig({displayName:"WelcomePageLayoutComponents__WelcomePageContent"})(["margin-top:25px;display:flex;flex-direction:column;gap:10px;width:",";"],(({$width:e})=>`${e}px`)),Sa=Tt().div.withConfig({displayName:"WelcomePageLayoutComponents__HeightCalcWrapper"})(["display:flex;flex-direction:column;gap:10px;align-items:",";"],(({widgetLocation:e})=>e===Vr.LEFT_ALIGNED?"flex-start":"flex-end")),Ca=e=>{const[t,n]=(0,We.useState)(0),r=(0,We.useRef)(null);(0,We.useEffect)((()=>{if(!r.current)return;const e=new ResizeObserver((e=>{for(const t of e)n(t.contentRect.height)}));e.observe(r.current);r.current&&n(r.current.getBoundingClientRect().height);return()=>e.disconnect()}),[e]);return{height:t,ref:r}},_a=({onClose:e,initialMessage:t,isMobile:n=!1})=>{const r=(0,h.useDispatch)(),{isHoverActive:i,reducedLauncherWidth:s}=Nt(),o=(0,h.useSelector)(Fe.getWidgetLocation),{consentPromptEnabled:a}=(0,ua.useConsentPromptData)(),c=(0,h.useSelector)(Si.getIsAIChatbot),{chatHeadingConfig:u,chatHeadingResponders:l}=ba(),d=!c,p=t&&!c,f=n&&c,{height:m,ref:E}=Ca(i),T=()=>{r((0,g.toggleOpen)({isOpened:!0,isUser:!0,openedFrom:"welcome message click"}))},y=()=>{r((0,sr.closeInitialMessageBubble)());e()};return(0,ft.jsx)(va,{widgetLocation:o,$width:s,children:(0,ft.jsxs)(Ia,{$width:s,children:[!f&&(0,ft.jsx)(oa,{onClick:y,"aria-label":ze.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.closeWelcomePage"),"data-test-id":"ask-me-anything-close-button",widgetLocation:o,promptsHeight:m,disableAnimation:d,consentPromptEnabled:a}),(0,ft.jsxs)(Sa,{ref:E,widgetLocation:o,children:[p&&(0,ft.jsx)(Aa,{onClick:T,initialMessage:t,isMobile:n,chatHeadingConfig:u,chatHeadingResponders:l,onClose:y}),(0,ft.jsx)(ha,{clickedFrom:"customer agent launcher"}),(0,ft.jsx)(Jo,{widgetLocation:o})]})]})})};_a.displayName="WidgetWelcomePage";var Oa=_a;const Ra=({shouldTrapFocus:e,onHoverChange:t})=>{const[n,r]=(0,We.useState)(e),i=(0,Wi.useFocusManager)();(0,We.useEffect)((()=>{r(e)}),[e]);(0,We.useEffect)((()=>{const e=e=>{if("Escape"===e.key){var n;t(!1);r(!1);null==i||null===(n=i.focusLast)||void 0===n||n.call(i)}};document.addEventListener("keydown",e);return()=>{document.removeEventListener("keydown",e)}}),[t,i]);const{hoverProps:s}=(0,Ar.useHover)({onHoverStart:()=>t(!0),onHoverEnd:()=>t(!1)}),{focusWithinProps:o}=(0,Ar.useFocusWithin)({onFocusWithinChange:n=>{if(!n){const e=document.activeElement;e instanceof HTMLElement&&e.blur()}t(n);r(e&&n)}});return{interactionProps:Object.assign({},s,o),shouldContainFocus:n}},xa=Tt().div.withConfig({displayName:"InitialPageContentWrapper__StyledInitialPageContentWrapper"})(["display:flex;flex-direction:column;gap:8px;align-items:",";margin:",";"],(({widgetLocation:e})=>e===Vr.LEFT_ALIGNED?"flex-start":"flex-end"),(({showAskMeAnythingLauncher:e,isMobile:t})=>t?"0px":e?"15px":"18px")),wa=({children:e,widgetLocation:t,showAskMeAnythingLauncher:n,shouldTrapFocus:r,isMobile:i=!1})=>{const{setIsHoverActive:s}=Nt(),{interactionProps:o,shouldContainFocus:a}=Ra({shouldTrapFocus:r,onHoverChange:s});return(0,ft.jsx)(xa,Object.assign({"data-test-id":"initial-page-content-wrapper"},o,{widgetLocation:t,showAskMeAnythingLauncher:n,isMobile:i,children:(0,ft.jsx)(Wi.FocusScope,{contain:a,restoreFocus:!0,children:e})}))};wa.displayName="InitialPageContentWrapper";var Na=wa;const Da=(0,b.createSelector)([ir.getInitialMessageText,Ei,de.getStagedThreadHistory],((e,t,n)=>{if(!t)return e;return(n?cr(n):[]).reduce(((e,t)=>e+` ${t.text}`),"")}));function La({inline:e,isOpen:t,mobile:n,onLauncherHover:r,showInitialMessageBubble:i,speechPocActive:s,toggleOpen:o,trackUserInteraction:a,widgetLocation:c,isAIChatBot:u,onSetMessageTextExternally:l}){const[d,p]=(0,We.useState)(!0),[f,g]=(0,We.useState)(t),[m,E]=(0,We.useState)(!1),T=(0,We.useContext)($t.AccessibilityContext),y=(0,h.useSelector)(q.getUseAskMeAnythingLauncher),{isHoverActive:A}=Nt(),b=(0,Qo.shouldShowAskMeAnythingLauncher)({useAskMeAnythingLauncher:y,hasOpenedWidget:m,mobile:n});(0,We.useEffect)((()=>{const e=(0,Qo.shouldShowAskMeAnythingLauncher)({useAskMeAnythingLauncher:y,hasOpenedWidget:m,mobile:n})?"ask-me-anything-launcher":"icon-launcher";$o({dragHandleState:e})}),[y,m,n]);const v=()=>{p(!1);a();o({isOpened:!0,isUser:!0,openedFrom:b?"ask me anything launcher":"icon launcher"});T.setShouldTrapFocus(!0)},I=()=>{p(!1);E(!0);a();o({isOpened:!1,isUser:!0})},S=()=>{p(!0);E(!0);a()},C=()=>{p(!1);g(!0);$o({dragHandleState:"hidden"})},_=()=>{p(!0);T.setShouldTrapFocus(!0);$o({dragHandleState:"widget-open"})},O=()=>{p(!1);$o({dragHandleState:"hidden"})},R=()=>{p(!0);g(!1);T.setShouldTrapFocus(!1);$o({dragHandleState:"icon-launcher"})},x=()=>{$o({dragHandleState:"hidden"})},w=()=>{$o({dragHandleState:A?"hidden":"ask-me-anything-launcher"})},N=t&&n||e||t&&y,D=!y||y&&d,L=(0,h.useSelector)(Da);return(0,ft.jsx)($t.AccessibilityContext.Consumer,{children:({shouldTrapFocus:o})=>(0,ft.jsxs)(Wi.FocusScope,{contain:o,autoFocus:!1,children:[(0,ft.jsx)(Eo,{inline:e,isOpen:t||e,shouldRenderDialog:f,mobile:n,widgetLocation:c,onOpenAnimationStarted:C,onCloseAnimationFinished:R,onOpenAnimationFinished:_,onCloseAnimationStarted:O,onClose:I,speechPocActive:s,showAskMeAnythingLauncher:b,onSetMessageTextExternally:l}),D&&!y&&(0,ft.jsxs)(ft.Fragment,{children:[i&&(0,ft.jsxs)(ft.Fragment,{children:[(0,ft.jsx)(Ni,{onClick:v,widgetLocation:c}),(0,ft.jsx)(Jo,{widgetLocation:c})]}),!N&&(0,ft.jsx)("span",{"data-test-id":"chat-widget-launcher",onMouseOver:r,children:(0,ft.jsx)(tr,{onClose:I,onOpen:v,showAskMeAnythingLauncher:b,useAskMeAnythingLauncher:y,mobile:n})})]}),D&&y&&!t&&(0,ft.jsxs)(Na,{isMobile:n,widgetLocation:c,showAskMeAnythingLauncher:b,shouldTrapFocus:u&&b&&!n,children:[i&&(b||n)&&(0,ft.jsx)(Oa,{onClose:S,initialMessage:L,isMobile:n}),!N&&(0,ft.jsx)(tr,{onClose:I,onOpen:v,showAskMeAnythingLauncher:b,useAskMeAnythingLauncher:!0,onLauncherAnimationStart:x,onLauncherAnimationFinished:w,mobile:n})]})]})})}La.displayName="ApplicationLayoutContent";function Ma(e){return(0,ft.jsx)(wt,{enableHoverTracking:!e.mobile,children:(0,ft.jsx)(La,Object.assign({},e))})}Ma.displayName="ApplicationLayout";var Pa=(0,Di.withBrowserSizeContext)(Ma),ka=n("wkWz"),Ua=n("YNiY"),Ba=n("mKxs");const Ha=({startOpen:e,widgetDataAsyncData:t,threadsAsyncData:n})=>{const r=[t];e&&r.push(n);const i=r.some((e=>(0,m.isFailed)(e))),s=r.every((e=>(0,m.isSucceeded)(e)));return i?(0,ft.jsx)(a.NavMarker,{name:"VISITOR_ERROR"}):s?(0,ft.jsx)(a.NavMarker,{name:"VISITOR_SUCCESS"}):null};Ha.propTypes={startOpen:Vt().bool,threadsAsyncData:(0,Ba.default)("AsyncData").isRequired,widgetDataAsyncData:(0,Ba.default)("AsyncData").isRequired};Ha.displayName="Checker";var Fa=Ha;const Ga=e=>({startOpen:(0,ka.getWidgetStartOpen)(e),threadsAsyncData:(0,Ua.getThreadsAsyncData)(e),widgetDataAsyncData:(0,Ge.getWidgetDataAsyncData)(e)});var ja=(0,h.connect)(Ga)(Fa),Wa=n("Jtfe");const Va=["HubspotConversations-hsConversationsOnReady-used","HubspotConversations-hsConversationsSettings-used","HubspotConversations-api-method-used","HubspotConversations-api-event-listener-registered"];function za(e){let t,n=!1;return function(...r){if(!n){n=!0;t=e(...r)}return t}}var Ka=n("E9Gc");const Ya=za(Ka.trackOnReadyUsed),qa=za(Ka.trackSettingsUsed),Ja=new Set,$a=new Set(["load","refresh","open","close","remove","status","clear","updateEntryUrlMetadata"]),Qa=(e,t)=>{if(e&&t&&Va.includes(e))if("HubspotConversations-hsConversationsOnReady-used"===e)Ya();else if("HubspotConversations-hsConversationsSettings-used"===e)qa();else if("HubspotConversations-api-method-used"===e){const{method:e}=t;if($a.has(e)){$a.delete(e);(0,Ka.trackApiMethodUsed)(e)}}else if("HubspotConversations-api-event-listener-registered"===e){const e=t.event;if(Object.values(nt).includes(e)&&!Ja.has(e)){Ja.add(e);(0,Ka.trackApiEventListenerRegistered)(e)}}},Xa=()=>(0,ge.postMessageToParent)(he.REQUEST_WIDGET),Za=e=>(0,ge.postMessageToParent)(he.I18N_LABELS,e);var ec=n("9XKB");const tc=e=>{try{return Boolean(new URL(e))}catch(e){return!1}},nc=()=>{const e=new URL(window.location.href),t=e.searchParams.get("url");return t&&tc(t)?new URL(t):e};var rc=n("yYAF");function ic(){const[{width:e,height:t},n]=(0,We.useState)({width:0,height:0}),r=(0,We.useRef)(null),i=(0,We.useCallback)((e=>{if(r.current){r.current.disconnect();r.current=null}if(e&&e.nodeType===Node.ELEMENT_NODE){const t=new ResizeObserver((([t])=>setTimeout((()=>{if(t.borderBoxSize&&t.borderBoxSize[0]){const{inlineSize:e,blockSize:r}=t.borderBoxSize[0];n({width:e,height:r})}else{const{offsetWidth:t,offsetHeight:r}=e;n({width:t,height:r})}}),0)));t.observe(e);r.current=t}}),[]);(0,We.useEffect)((()=>{e&&t&&(0,ge.postMessageToParent)(he.IFRAME_RESIZE,{width:e,height:t})}),[e,t]);return i}const sc=["children","inline","mobile","isOpen"],oc={[Zo.RIGHT_ALIGNED]:(0,Et.css)(["right:0;align-items:flex-end;"]),[Zo.LEFT_ALIGNED]:(0,Et.css)(["left:0;align-items:flex-start;"])},ac=(0,Et.css)(["padding:0;inset:0;"]),cc=Tt().div.withConfig({displayName:"WidgetWrapper__Wrapper"})(["position:absolute;bottom:0;display:flex;padding:",";gap:12px;flex-direction:column;justify-content:flex-end;",";"],(({mobile:e})=>e?"8px":"16px"),(({widgetLocation:e,inline:t})=>t?ac:oc[e]));function uc(e){let{children:t,inline:n,mobile:r,isOpen:i}=e,s=(0,Ds.default)(e,sc);const{browserWindowHeight:o,browserWindowWidth:a}=(0,dt.useBrowserWindowContext)(),c=ic(),[u,l]=(0,We.useState)((()=>r&&i?{height:o,width:a}:{}));(0,We.useEffect)((()=>{if(r){const e=setTimeout((()=>{l(i?{height:o,width:a}:{})}),i?0:500);return()=>clearTimeout(e)}}),[i,r,o,a]);return(0,ft.jsx)(cc,Object.assign({style:u,ref:c,inline:n},s,{mobile:r,children:t}))}uc.displayName="WidgetWrapper";class lc extends We.Component{constructor(e){super(e);this.setMessageTextExternally=null;this.handleI18nLabels=()=>{Za({"conversations-visitor-ui.visitorExperienceAriaLabels.chatWidget":ze.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.chatWidget"),"conversations-visitor-experience-components.visitorExperienceAriaLabels.drag":ze.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.drag")})};this.handleDragover=this.handleDragover.bind(this);this.handleDrop=this.handleDrop.bind(this);this.registerDragDropHandlers=this.registerDragDropHandlers.bind(this);this.unregisterDragDropHandlers=this.unregisterDragDropHandlers.bind(this);this.handleVisibilityChange=this.handleVisibilityChange.bind(this);this.onOpenUpdate=this.onOpenUpdate.bind(this);this.requestWidget=this.requestWidget.bind(this);this.onBrowserWindowResize=this.onBrowserWindowResize.bind(this);this.onScrollPercentageChange=this.onScrollPercentageChange.bind(this);this.onExitIntent=this.onExitIntent.bind(this);this.receiveMessage=this.receiveMessage.bind(this);this.renderContent=this.renderContent.bind(this);this.openToNewThread=this.openToNewThread.bind(this);this.handleSetMessageTextExternally=this.handleSetMessageTextExternally.bind(this);this.state={browserWindowHeight:dt.defaultBrowserWindowContext.browserWindowHeight,browserWindowWidth:dt.defaultBrowserWindowContext.browserWindowWidth};this.requestWidget()}componentDidMount(){window.addEventListener("message",this.receiveMessage,!1);this.registerDragDropHandlers();this.handleI18nLabels();Ke("conversations-visitor-ui.htmlTitle");Je()&&this.props.setWindowVisible(!1);Xe(this.handleVisibilityChange);(0,Ka.setGlobalDimension)("isInlineEmbeddedWidget",this.props.inline.toString());(0,Ka.setGlobalDimension)("location",(0,tt.isInSDK)()?"sdk":"web")}componentWillUnmount(){window.removeEventListener("message",this.receiveMessage);this.unregisterDragDropHandlers();Ze(this.handleVisibilityChange)}handleDragover(e){e.preventDefault()}handleDrop(e){e.preventDefault()}registerDragDropHandlers(){window.addEventListener("dragover",this.handleDragover);window.addEventListener("drop",this.handleDrop)}unregisterDragDropHandlers(){window.removeEventListener("dragover",this.handleDragover);window.removeEventListener("drop",this.handleDrop)}handleVisibilityChange({isVisible:e}){this.props.setWindowVisible(e)}onOpenUpdate(e){this.props.toggleOpen({isOpened:e,isUser:!0})}requestWidget(){Xa()}onBrowserWindowResize(e){this.setState({browserWindowHeight:e.height,browserWindowWidth:e.width})}onScrollPercentageChange(e){this.props.handleScrollPercentageChange({scrollPercentage:e.scrollPercentage})}onExitIntent(){this.props.executeExitIntentTrigger()}onScreenCaptureBlob({dataUrl:e,fileName:t}){const{selectAttachmentFile:n,thread:r}=this.props,[i,s]=e.split(","),o=i.match(/:(.*?);/);if(!o)return;const a=o[1],c=atob(s),u=Uint8Array.from(c,(e=>e.charCodeAt(0)));n({file:new File([u],t,{type:a}),thread:r,source:"screen_capture"})}onTrackApiUsage(e){Qa(e.eventName,e.properties)}onWidgetDragged(e){this.props.trackInteraction(F.EVENT_NAMES.DRAGGED_WIDGET,e,!1,!0)}openToNewThread(){this.props.isViewingStubbedThread||this.props.loadStagedThread()}handleReceiveWidgetData(e){i().setExtraContext({bot:(0,et.isTypeBot)(e.sendFrom[0])});const{handleReceiveWidgetData:t,visitorIdentity:n}=this.props;n.setIsPrivateWidgetLoad(e.privateLoad);t({data:e,isFirstVisitorSession:n.getIsFirstVisitorSession()})}receiveMessage({data:e,origin:t}){if(![nc().origin,window.origin,(0,rc.getFullUrl)("api")].includes(t))return;let n=null;try{n=JSON.parse(e)}catch(e){return}if(!n)return;const{type:r=null,data:i=null}=n;switch(r){case he.PERF_ATTRIBUTES:i.perfAttributes&&(0,Ka.trackEmbedScriptPerfAttributes)(i.perfAttributes);break;case he.WIDGET_DATA:this.handleReceiveWidgetData(i);break;case he.HUBSPOT_UTK:(0,ec.setHubspotUtk)(i.utk);break;case he.GLOBAL_COOKIE_OPT_OUT:this.props.onGlobalCookieOptOut(i.globalCookieOptOut);break;case he.FIRST_VISITOR_SESSION:this.props.updateIsFirstVisitorSession(i.isFirstVisitorSession);this.props.visitorIdentity.setIsFirstVisitorSession(i.isFirstVisitorSession);break;case he.VISITOR_IDENTIFICATION_ATTRIBUTES:this.props.updateVisitorIdentification(i);break;case he.REFRESH_WIDGET_DATA:this.props.refreshWidgetData((0,rt.buildWidgetData)(n.data));break;case he.REQUEST_OPEN:this.onOpenUpdate(!0);break;case he.REQUEST_CLOSE:this.onOpenUpdate(!1);break;case he.BROWSER_WINDOW_RESIZE:this.onBrowserWindowResize(i);break;case he.SCROLL_PERCENTAGE_CHANGE:this.onScrollPercentageChange(i);break;case he.EXIT_INTENT:this.onExitIntent();break;case he.SCREEN_CAPTURE_BLOB:this.onScreenCaptureBlob(i);break;case he.TRACK_API_USAGE:this.onTrackApiUsage(i);break;case he.TRACK_WIDGET_DRAGGED:this.onWidgetDragged(i);break;case he.OPEN_TO_NEW_THREAD:this.openToNewThread();break;case he.KB_RELATED_ARTICLE_CLICKED:this.props.setKBArticle({deepLink:i.hashedLink,hubSpotContentId:i.hubSpotContentId});break;case he.SPEECH_POC:{const e=i;e.eventType===nt.PLAY_BUTTON_PLAY&&"playing"!==this.props.audioPlaybackStatus&&this.props.setAudioPlaybackStatus("loading");e.eventType===nt.AUDIO_PLAYBACK_STARTED&&this.props.setAudioPlaybackStatus("playing");e.eventType!==nt.AUDIO_PLAYBACK_COMPLETE&&e.eventType!==nt.PLAY_BUTTON_PAUSE||this.props.setAudioPlaybackStatus("paused");e.eventType===nt.SPEECH_POC_ACTIVE&&this.props.setSpeechPocActive(e.isActive);e.eventType===nt.MIC_BUTTON_CLICK&&this.props.setSpeechRecordingStatus("recording");e.eventType===nt.MIC_BUTTON_STOP&&this.props.setSpeechRecordingStatus("loading");if(e.eventType===nt.SPEECH_TO_TEXT_RESULT){e.success&&"string"==typeof e.text&&this.props.setMessageEditorStagingText(e.text);this.props.setSpeechRecordingStatus("idle")}break}case he.ENTRY_URL_METADATA:this.props.setEntryUrlMetadata({title:i.title,description:i.description});i.source&&this.props.trackInteraction(F.EVENT_NAMES.METADATA_UPDATED,{action:i.source});break;case he.SET_INPUT_TEXT:if(!(0,it.getIsPortal53)())break;i.text&&this.setMessageTextExternally(i.text)}}handleSetMessageTextExternally(e){this.setMessageTextExternally=e}renderContent(){const{inline:e,isOpen:t,mobile:n,onLauncherHover:r,showInitialMessageBubble:i,speechPocActive:s=!1,toggleOpen:o,trackUserInteraction:a,widgetLocation:c,isAIChatBot:u}=this.props;return(0,ft.jsx)(Pa,{inline:e,isOpen:t,mobile:n,onLauncherHover:r,showInitialMessageBubble:i,speechPocActive:s,toggleOpen:o,trackUserInteraction:a,widgetLocation:c,isAIChatBot:u,onSetMessageTextExternally:this.handleSetMessageTextExternally})}render(){const{shouldRenderContent:e,inline:t,widgetLocation:n,isOpen:r,mobile:i}=this.props;return(0,ft.jsx)(dt.BrowserWindowContext.Provider,{value:{browserWindowHeight:this.state.browserWindowHeight,browserWindowWidth:this.state.browserWindowWidth},children:(0,ft.jsxs)(uc,{isOpen:r,mobile:i,inline:t,widgetLocation:n,children:[(0,ft.jsx)(ja,{}),(0,ft.jsx)(Wa.default,{children:e?this.renderContent():null})]})})}}lc.displayName="Application";lc.contextType=dt.BrowserWindowContext;var dc=lc;const pc=Ns((()=>Promise.all([n.e(8837),n.e(9181),n.e(3677)]).then(n.bind(n,"s2wo")))),fc=Ns((()=>Promise.all([n.e(8006),n.e(3674)]).then(n.bind(n,"DvnI")))),hc=()=>(e,t)=>{(0,U.getKnowledgeBaseEnabled)(t())?fc.preload().catch((e=>{throw e})):pc.preload().catch((e=>{throw e}))};var gc=n("bb8M"),mc=n("aLl6"),Ec=n("Or3K");const Tc=()=>(e,t)=>{Te();const n=t(),r=(0,R.getLatestWidgetData)(n),i=(0,ke.getTriggerConditions)(n,Ec.exitIntentTriggerEnabled);(0,mc.gdprCookieConsentOnExitIntentEnabled)(n,r)&&e((0,gc.updateShowExitIntentCookieBanner)(!0));i.hasClientTriggerAlreadyFired||(i.shouldToggleOpen?e((0,g.toggleOpen)({isOpened:!0})):i.shouldToggleInitialMessageBubble&&e((0,Me.toggleInitialMessageBubble)(!0)))},yc=()=>(0,I.parseStringBoolean)((0,v.getWindowLocation)().paramValue("isFirstVisitorSession")),Ac=()=>{throw new Error("visitorIdentity context was used before its value got instantiated")},bc={getIsFirstVisitorSession:Ac,setIsFirstVisitorSession:Ac,setIsPrivateWidgetLoad:Ac,getIsPrivateWidgetLoad:Ac},vc=(0,We.createContext)(bc),Ic=({children:e})=>{const[t,n]=(0,We.useState)(yc()),[r,i]=(0,We.useState)(!1),s=()=>!r&&t,o=()=>r;return(0,ft.jsx)(vc.Provider,{value:{getIsFirstVisitorSession:s,setIsFirstVisitorSession:n,setIsPrivateWidgetLoad:i,getIsPrivateWidgetLoad:o},children:e})};Ic.displayName="VisitorIdentityContextProvider";Ic.propTypes={children:Vt().node};const Sc=e=>{const t=t=>{const n=(0,We.useContext)(vc);return(0,ft.jsx)(e,Object.assign({},t,{visitorIdentity:n}))};t.displayName=`ConsumeVisitorIdentityContext(${e.displayName})`;return t};Sc.displayName="ConsumeVisitorIdentityContext";var Cc=n("8KHK"),_c=n("ic5E"),Oc=n("jnrP");const Rc=e=>{var t,n;const r=(0,Ge.getWidgetDataAsyncData)(e),i=(0,m.isSucceeded)(r),s=(0,di.getSelectedThread)(e),o=(0,pe.getSelectedThreadId)(e)===fe.STUBBED_THREAD_ID;return{isOpen:(0,K.getIsOpen)(e),mobile:(0,He.getIsMobile)(e),shouldRenderContent:i,showInitialMessageBubble:(0,ci.getShowInitialMessageBubble)(e),speechPocActive:(0,q.getIsUngatedForSpeechPoc)(e)&&(null===(t=e.speechPoc)||void 0===t?void 0:t.speechPocActive),audioPlaybackStatus:null===(n=e.speechPoc)||void 0===n?void 0:n.audioPlaybackStatus,widgetLocation:(0,Fe.getWidgetLocation)(e),isViewingStubbedThread:o,thread:s,isAIChatBot:(0,Si.getIsAIChatbot)(e)}},xc={executeExitIntentTrigger:Tc,updateIsFirstVisitorSession:ie,onGlobalCookieOptOut:oe,handleReceiveWidgetData:Z,handleScrollPercentageChange:Be,onLauncherHover:hc,setWindowVisible:Oe,refreshWidgetData:Ie,setSpeechPocActive:Cc.setSpeechPocActive,setAudioPlaybackStatus:Cc.setAudioPlaybackStatus,setSpeechRecordingStatus:Cc.setSpeechRecordingStatus,toggleOpen:g.toggleOpen,trackInteraction:H.trackInteraction,trackUserInteraction:je.trackUserInteraction,loadStagedThread:B.loadStagedThread,updateVisitorIdentification:ae.updateVisitorIdentification,setKBArticle:vs.setKBArticle,setMessageEditorStagingText:be.setMessageEditorStagingText,selectAttachmentFile:_c.selectAttachmentFile,setEntryUrlMetadata:Oc.setEntryUrlMetadata};var wc=Sc((0,h.connect)(Rc,xc)(dc));class Nc extends We.Component{constructor(e){super(e);this.state={AsyncComponent:null,error:null}}componentDidMount(){Promise.all([Promise.all([n.e(9181),n.e(5460)]).then(n.bind(n,"46oA")),(0,T.initializeI18n)()]).then((([e])=>{this.setState({AsyncComponent:e.default})}),(e=>{this.setState({error:e})})).catch((e=>{i().captureException(e)}))}render(){const e=this.state.AsyncComponent;if(this.state.error){window.parent.postMessage("error");return null}return e?(0,ft.jsx)(e,Object.assign({},this.props)):null}}Nc.displayName="AsyncMessagesPreview";var Dc=Nc,Lc=n("QmIQ");const Mc="preview";var Pc=n("Wt04"),kc=n("7/wP");const Uc=new d.default(window.location);function Bc(e){return Uc.paramValue(e)}function Hc(){const e=Bc("url");try{return decodeURIComponent(e)}catch(t){return e}}let Fc=()=>bc;function Gc(e={}){const t=(0,I.parseStringBoolean)(Bc("startOpen")),n=(0,I.parseStringBoolean)(Bc("inApp53")),r=Object.assign({},e,{visitorIdentity:new kc.default({globalCookieOptOut:Bc("globalCookieOptOut"),isFirstVisitorSession:(0,I.parseStringBoolean)(Bc("isFirstVisitorSession"))}),widgetUi:(0,C.createWidgetUiState)({isAttachmentDisabled:(0,I.parseStringBoolean)(Bc("isAttachmentDisabled")),isInitialInputFocusDisabled:(0,I.parseStringBoolean)(Bc("isInitialInputFocusDisabled")),isFullscreen:(0,I.parseStringBoolean)(Bc("isFullscreen")),mobile:(0,I.parseStringBoolean)(Bc("mobile")),startOpen:t,hideWelcomeMessage:(0,I.parseStringBoolean)(Bc("hideWelcomeMessage")),domain:Bc("domain"),url:Hc(),isEmbeddedInProduct:n,isInCMS:(0,I.parseStringBoolean)(Bc("isInCMS")),mode:Bc("mode"),apiEnableWidgetCookieBanner:Bc("enableWidgetCookieBanner"),hideScrollToButton:(0,I.parseStringBoolean)(Bc("hideScrollToButton")),isIOSMobile:(0,I.parseStringBoolean)(Bc("isIOSMobile"))})});return(0,ut.default)(r,{getVisitorIdentityContext:()=>Fc()})}const jc=Gc(),Wc=({children:e})=>{const t=(0,We.useContext)(vc);Fc=()=>t;return(0,ft.jsx)(h.Provider,{store:jc,children:e})};Wc.displayName="ReduxProvider";var Vc=Wc,zc=n("jL37");class Kc{constructor(){this.widgetShellUrl=new d.default(window.location)}getQueryParam(e){return this.widgetShellUrl.paramValue(e)}setSentryTags(){(0,zc.isFunction)(i().setTagsContext)&&i().setTagsContext({messagesUtk:(0,Pc.getMessagesUtk)(),hubspotUtk:this.getQueryParam("hubspotUtk"),locale:navigator.language||navigator.userLanguage,parentUrl:this.getQueryParam("url"),isAttachmentDisabled:(0,I.parseStringBoolean)(this.getQueryParam("isAttachmentDisabled")),isInitialInputFocusDisabled:(0,I.parseStringBoolean)(this.getQueryParam("isInitialInputFocusDisabled")),isFullscreen:(0,I.parseStringBoolean)(this.getQueryParam("isFullscreen")),mode:this.getQueryParam("mode"),mobile:(0,I.parseStringBoolean)(this.getQueryParam("mobile")),isEmbeddedInProduct:(0,I.parseStringBoolean)(this.getQueryParam("inApp53")),enableWidgetCookieBanner:this.getQueryParam("enableWidgetCookieBanner"),hideNewThreadLink:(0,I.parseStringBoolean)(this.getQueryParam("hideNewThreadLink")||"false")})}renderWidget(){(0,T.initializeI18n)().then((()=>{const e=(0,I.parseStringBoolean)(this.getQueryParam("inline"));(0,s.render)((0,ft.jsx)(a.RhumbProvider,{config:f(),history:c("/"),children:(0,ft.jsx)(Lc.default,{errorLoggingTitle:"visitor-widget",children:(0,ft.jsx)(Ic,{children:(0,ft.jsx)(Vc,{children:(0,ft.jsx)($t.AccessibilityContextProvider,{disableFocusTrap:e,disableAutoFocus:e,disableWidgetDialog:e,children:(0,ft.jsx)(wc,{location:window.location,inline:e})})})})})}),document.getElementsByClassName("widget")[0])})).catch((e=>{i().captureException(e)}))}renderPreview(){(0,s.render)((0,ft.jsx)(Lc.default,{errorLoggingTitle:"message-preview",children:(0,ft.jsx)(Ic,{children:(0,ft.jsx)(Vc,{children:(0,ft.jsx)($t.AccessibilityContextProvider,{disableFocusTrap:!0,disableAutoFocus:!0,disableWidgetDialog:!0,children:(0,ft.jsx)(Dc,{location:window.location,messageId:this.getQueryParam("messageId"),messagesUtk:(0,Pc.getMessagesUtk)()})})})})}),document.getElementsByClassName("widget")[0])}start(){window.AppInstance=this;this.setSentryTags();l().get();this.getQueryParam("mode")!==Mc?this.renderWidget():this.renderPreview()}}(new Kc).start()},xW98:function(e,t,n){"use strict";n.d(t,{findResponderByIdFromList:function(){return i}});var r=n("Avso");function i({responders:e,responderId:t}){return e.find((e=>(0,r.getUserId)(e)===String(t)))}},xXtf:function(e,t,n){"use strict";n.d(t,{PORTAL_53_ID:function(){return r},PORTAL_53_QA_ID:function(){return i}});const r=53,i=99535353},xZ3y:function(e,t,n){"use strict";n.d(t,{ADD_CONVERSATION:function(){return o},APP_IN_BACKGROUND:function(){return i},APP_IN_FOREGROUND:function(){return r},CLEAR_UNSEEN_COUNT_FOR_CHANNEL:function(){return u},CLICKED_MEETINGS_LINK:function(){return A},CLICK_VIRAL_LINK:function(){return m},GET_SUPPLEMENTAL_INITIAL_MESSAGES:function(){return b},GET_SUPPLEMENTAL_INITIAL_MESSAGES_FAILED:function(){return I},GET_SUPPLEMENTAL_INITIAL_MESSAGES_SUCCEEDED:function(){return v},GET_VISITOR_THREADS_FAILURE:function(){return _},GET_VISITOR_THREADS_STARTED:function(){return S},GET_VISITOR_THREADS_SUCCESS:function(){return C},GET_WIDGET_DATA:function(){return h},GET_WIDGET_DATA_SUCCEEDED:function(){return g},INCREMENT_UNSEEN_COUNT:function(){return l},LAST_SEEN_FAILURE:function(){return x},LAST_SEEN_SENT:function(){return O},LAST_SEEN_SUCCESS:function(){return R},NETWORK_OFFLINE:function(){return p},NETWORK_ONLINE:function(){return f},OPEN_CONVERSATION_FOR_NEW_CHANNEL:function(){return a},RECEIVED_INCOMING_MESSAGE:function(){return c},RECEIVED_WIDGET_SHELL_DATA:function(){return w},REMOVE_MESSAGE_EDITOR_STAGING_TEXT:function(){return M},SEND_VISITOR_EMAIL_ADDRESS:function(){return E},SEND_VISITOR_EMAIL_ADDRESS_FAILED:function(){return T},SEND_VISITOR_EMAIL_ADDRESS_SUCCEEDED:function(){return y},THREAD_CREATED_AND_NETWORK_ONLINE:function(){return P},TOGGLE_OPEN:function(){return s},TRACK_USER_INTERACTION:function(){return N},UPDATE_MESSAGE_EDITOR_STAGING_TEXT:function(){return L},UPDATE_MESSAGE_IN_CONVERSATION:function(){return d},USER_INPUT_ON_FOCUS:function(){return D}});const r="APP_IN_FOREGROUND",i="APP_IN_BACKGROUND",s="TOGGLE_OPEN",o="ADD_CONVERSATION",a="OPEN_CONVERSATION_FOR_NEW_CHANNEL",c="RECEIVED_INCOMING_MESSAGE",u="CLEAR_UNSEEN_COUNT_FOR_CHANNEL",l="INCREMENT_UNSEEN_COUNT",d="UPDATE_MESSAGE_IN_CONVERSATION",p="NETWORK_OFFLINE",f="NETWORK_ONLINE",h="GET_WIDGET_DATA",g="GET_WIDGET_DATA_SUCCEEDED",m="CLICK_VIRAL_LINK",E="SEND_VISITOR_EMAIL_ADDRESS",T="SEND_VISITOR_EMAIL_ADDRESS_FAILED",y="SEND_VISITOR_EMAIL_ADDRESS_SUCCEEDED",A="CLICKED_MEETINGS_LINK",b="GET_SUPPLEMENTAL_INITIAL_MESSAGES",v="GET_SUPPLEMENTAL_INITIAL_MESSAGES_SUCCEEDED",I="GET_SUPPLEMENTAL_INITIAL_MESSAGES_FAILED",S="GET_VISITOR_THREADS_STARTED",C="GET_VISITOR_THREADS_SUCCESS",_="GET_VISITOR_THREADS_FAILURE",O="LAST_SEEN_SENT",R="LAST_SEEN_SUCCESS",x="LAST_SEEN_FAILURE",w="RECEIVED_WIDGET_SHELL_DATA",N="TRACK_USER_INTERACTION",D="USER_INPUT_ON_FOCUS",L="UPDATE_MESSAGE_EDITOR_STATING_TEXT",M="REMOVE_MESSAGE_EDITOR_STAGING_TEXT",P="THREAD_CREATED_AND_NETWORK_ONLINE"},xZhp:function(e,t,n){"use strict";n.d(t,{getKnowledgeBaseRecommendationType:function(){return a}});var r=n("dLEV"),i=n("JGJA");const s=e=>(0,i.default)("knowledgeBaseRecommendationType",e);var o=n("8dR1");const a=(0,r.createSelector)([o.getWelcomeMessage],(e=>s(e)))},xe9j:function(e,t,n){"use strict";n.d(t,{default:function(){return g}});var r=n("QYOI"),i=n("F4Hj");var s=(0,r.Record)({accentColor:null,textColor:null,useDefaultColor:!1},"ColoringRecord"),o=n("+lAi"),a=n("Vfyk"),c=n("CXrm"),u=n("x56f"),l=(0,r.Record)({consentToCommunicateSubscriptionId:null,customConsentToCommunicateMessage:null,customConsentToProcessMessage:null,gdprConsentToCommunicateEnabled:!1,gdprConsentToProcessEnabled:!1,gdprExplicitConsentToProcessRequired:!1,consentToProcessStatus:u.SHOULD_NOT_ASK_FOR_CONSENT,cookieConsentPrompt:c.NEVER,cookieConsentPromptMessage:null},"GDPRConsentOptions");const d="V1",p="RIGHT_ALIGNED";var f=n("8+3E");const h="@type";var g=(0,r.Record)({[h]:d,availabilityOptions:new a.default,botResponder:null,channelInstanceId:null,chatflowId:null,coloring:s(),enableAttachments:!0,enableSdkCloseButton:!1,gates:null,gdprConsentOptions:l(),inOfficeHours:!1,isKnowledgeBaseV3:!1,knowledgeBaseUrl:null,language:null,meetingsLinkText:null,meetingsLinkUrl:null,message:(0,i.default)(),messagesPageUri:null,nextOfficeHoursStartTime:0,notificationAudio:null,privateLoad:!1,recommendedQuestionsForAgent:null,routingRuleDefinitionAI:null,sendFrom:null,sessionId:null,shouldListenToGdprBannerConsent:!0,showPreviousConversations:!0,showingHsBranding:!1,spamProtectionMetadata:null,typicalResponseTime:(0,o.default)(),usingOfficeHours:!1,widgetFont:(0,f.default)(),widgetLocation:p},"WidgetData")},xeq1:function(e,t,n){"use strict";n.d(t,{getIsPortal53Prod:function(){return o}});var r=n("nDpY"),i=n.n(r),s=n("xXtf");const o=()=>i().get()===s.PORTAL_53_ID},xfs0:function(e,t,n){"use strict";n.d(t,{THREAD_STATUS_UPDATE:function(){return r}});const r="THREAD_STATUS_UPDATE"},xr6y:function(e,t,n){"use strict";n.d(t,{getInteractionModality:function(){return J},isFocusVisible:function(){return q},useFocus:function(){return L},useFocusVisibleListener:function(){return Q},useFocusWithin:function(){return X},useHover:function(){return ie},useInteractOutside:function(){return se},useKeyboard:function(){return ce},usePress:function(){return y}});var r=n("3RTs"),i=n("Zulv"),s=n("QOxE"),o=n.n(s);const a=["register"],c=["onPress","onPressChange","onPressStart","onPressEnd","onPressUp","isDisabled","isPressed","preventFocusOnPress","shouldCancelOnPointerExit","allowTextSelectionOnPress","ref"];let u="default",l="",d=new WeakMap;function p(e){if((0,i.isIOS)()){if("default"===u){l=document.documentElement.style.webkitUserSelect;document.documentElement.style.webkitUserSelect="none"}u="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){d.set(e,e.style.userSelect);e.style.userSelect="none"}}function f(e){if((0,i.isIOS)()){if("disabled"!==u)return;u="restoring";setTimeout((()=>{(0,i.runAfterTransition)((()=>{if("restoring"===u){"none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=l||"");l="";u="default"}}))}),300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&d.has(e)){let t=d.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t);""===e.getAttribute("style")&&e.removeAttribute("style");d.delete(e)}}function h(e){return!(0!==e.mozInputSource||!e.isTrusted)||0===e.detail&&!e.pointerType}class g{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0;this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation();this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t;this.target=t.target;this.currentTarget=t.currentTarget;this.relatedTarget=t.relatedTarget;this.bubbles=t.bubbles;this.cancelable=t.cancelable;this.defaultPrevented=t.defaultPrevented;this.eventPhase=t.eventPhase;this.isTrusted=t.isTrusted;this.timeStamp=t.timeStamp;this.type=e}}function m(e){let t=(0,s.useRef)({isFocused:!1,onBlur:e,observer:null});t.current.onBlur=e;(0,i.useLayoutEffect)((()=>{const e=t.current;return()=>{if(e.observer){e.observer.disconnect();e.observer=null}}}),[]);return(0,s.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let n=e.target,r=e=>{var r,i;t.current.isFocused=!1;n.disabled&&(null===(i=(r=t.current).onBlur)||void 0===i||i.call(r,new g("blur",e)));if(t.current.observer){t.current.observer.disconnect();t.current.observer=null}};n.addEventListener("focusout",r,{once:!0});t.current.observer=new MutationObserver((()=>{if(t.current.isFocused&&n.disabled){t.current.observer.disconnect();n.dispatchEvent(new FocusEvent("blur"));n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0}))}}));t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}}),[])}const E=o().createContext(null);E.displayName="PressResponderContext";function T(e){let t=(0,s.useContext)(E);if(t){let{register:n}=t,s=(0,r.default)(t,a);e=(0,i.mergeProps)(s,e);n()}(0,i.useSyncRef)(t,e.ref);return e}function y(e){let t=T(e),{onPress:n,onPressChange:o,onPressStart:a,onPressEnd:u,onPressUp:l,isDisabled:d,isPressed:g,preventFocusOnPress:m,shouldCancelOnPointerExit:E,allowTextSelectionOnPress:y}=t,C=(0,r.default)(t,c),_=(0,s.useRef)(null);_.current={onPress:n,onPressChange:o,onPressStart:a,onPressEnd:u,onPressUp:l,isDisabled:d,shouldCancelOnPointerExit:E};let[w,N]=(0,s.useState)(!1),L=(0,s.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:M,removeAllGlobalListeners:P}=(0,i.useGlobalListeners)(),k=(0,s.useMemo)((()=>{let e=L.current,t=(t,n)=>{let{onPressStart:r,onPressChange:i,isDisabled:s}=_.current;if(!s&&!e.didFirePressStart){r&&r({type:"pressstart",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey});i&&i(!0);e.didFirePressStart=!0;N(!0)}},n=(t,n,r=!0)=>{let{onPressEnd:i,onPressChange:s,onPress:o,isDisabled:a}=_.current;if(e.didFirePressStart){e.ignoreClickAfterPress=!0;e.didFirePressStart=!1;i&&i({type:"pressend",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey});s&&s(!1);N(!1);o&&r&&!a&&o({type:"press",pointerType:n,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey})}},r=(e,t)=>{let{onPressUp:n,isDisabled:r}=_.current;r||n&&n({type:"pressup",pointerType:t,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey})},s=t=>{if(e.isPressed){e.isOverTarget&&n(S(e.target,t),e.pointerType,!1);e.isPressed=!1;e.isOverTarget=!1;e.activePointerId=null;e.pointerType=null;P();y||f(e.target)}},o={onKeyDown(n){if(b(n.nativeEvent,n.currentTarget)&&n.currentTarget.contains(n.target)){x(n.target,n.key)&&n.preventDefault();n.stopPropagation();if(!e.isPressed&&!n.repeat){e.target=n.currentTarget;e.isPressed=!0;t(n,"keyboard");M(document,"keyup",a,!1)}}else"Enter"===n.key&&A(n.currentTarget)&&n.stopPropagation()},onKeyUp(t){b(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&r(S(e.target,t),"keyboard")},onClick(s){if((!s||s.currentTarget.contains(s.target))&&s&&0===s.button){s.stopPropagation();d&&s.preventDefault();if(!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&("virtual"===e.pointerType||h(s.nativeEvent))){d||m||(0,i.focusWithoutScrolling)(s.currentTarget);t(s,"virtual");r(s,"virtual");n(s,"virtual")}e.ignoreEmulatedMouseEvents=!1;e.ignoreClickAfterPress=!1}}},a=t=>{if(e.isPressed&&b(t,e.target)){x(t.target,t.key)&&t.preventDefault();t.stopPropagation();e.isPressed=!1;let r=t.target;n(S(e.target,t),"keyboard",e.target.contains(r));P();e.target instanceof HTMLElement&&e.target.contains(r)&&(A(e.target)||"link"===e.target.getAttribute("role"))&&e.target.click()}};if("undefined"!=typeof PointerEvent){o.onPointerDown=n=>{if(0===n.button&&n.currentTarget.contains(n.target))if(D(n.nativeEvent))e.pointerType="virtual";else{R(n.currentTarget)&&n.preventDefault();e.pointerType=n.pointerType;n.stopPropagation();if(!e.isPressed){e.isPressed=!0;e.isOverTarget=!0;e.activePointerId=n.pointerId;e.target=n.currentTarget;d||m||(0,i.focusWithoutScrolling)(n.currentTarget);y||p(e.target);t(n,e.pointerType);M(document,"pointermove",a,!1);M(document,"pointerup",c,!1);M(document,"pointercancel",u,!1)}}};o.onMouseDown=e=>{if(e.currentTarget.contains(e.target)&&0===e.button){R(e.currentTarget)&&e.preventDefault();e.stopPropagation()}};o.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&O(t,t.currentTarget)&&r(t,e.pointerType||t.pointerType)};let a=r=>{if(r.pointerId===e.activePointerId)if(O(r,e.target)){if(!e.isOverTarget){e.isOverTarget=!0;t(S(e.target,r),e.pointerType)}}else if(e.isOverTarget){e.isOverTarget=!1;n(S(e.target,r),e.pointerType,!1);_.current.shouldCancelOnPointerExit&&s(r)}},c=t=>{if(t.pointerId===e.activePointerId&&e.isPressed&&0===t.button){O(t,e.target)?n(S(e.target,t),e.pointerType):e.isOverTarget&&n(S(e.target,t),e.pointerType,!1);e.isPressed=!1;e.isOverTarget=!1;e.activePointerId=null;e.pointerType=null;P();y||f(e.target)}},u=e=>{s(e)};o.onDragStart=e=>{e.currentTarget.contains(e.target)&&s(e)}}else{o.onMouseDown=n=>{if(0===n.button&&n.currentTarget.contains(n.target)){R(n.currentTarget)&&n.preventDefault();n.stopPropagation();if(!e.ignoreEmulatedMouseEvents){e.isPressed=!0;e.isOverTarget=!0;e.target=n.currentTarget;e.pointerType=h(n.nativeEvent)?"virtual":"mouse";d||m||(0,i.focusWithoutScrolling)(n.currentTarget);t(n,e.pointerType);M(document,"mouseup",a,!1)}}};o.onMouseEnter=n=>{if(n.currentTarget.contains(n.target)){n.stopPropagation();if(e.isPressed&&!e.ignoreEmulatedMouseEvents){e.isOverTarget=!0;t(n,e.pointerType)}}};o.onMouseLeave=t=>{if(t.currentTarget.contains(t.target)){t.stopPropagation();if(e.isPressed&&!e.ignoreEmulatedMouseEvents){e.isOverTarget=!1;n(t,e.pointerType,!1);_.current.shouldCancelOnPointerExit&&s(t)}}};o.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||r(t,e.pointerType))};let a=t=>{if(0===t.button){e.isPressed=!1;P();if(e.ignoreEmulatedMouseEvents)e.ignoreEmulatedMouseEvents=!1;else{O(t,e.target)?n(S(e.target,t),e.pointerType):e.isOverTarget&&n(S(e.target,t),e.pointerType,!1);e.isOverTarget=!1}}};o.onTouchStart=n=>{if(!n.currentTarget.contains(n.target))return;n.stopPropagation();let r=v(n.nativeEvent);if(r){e.activePointerId=r.identifier;e.ignoreEmulatedMouseEvents=!0;e.isOverTarget=!0;e.isPressed=!0;e.target=n.currentTarget;e.pointerType="touch";d||m||(0,i.focusWithoutScrolling)(n.currentTarget);y||p(e.target);t(n,e.pointerType);M(window,"scroll",c,!0)}};o.onTouchMove=r=>{if(!r.currentTarget.contains(r.target))return;r.stopPropagation();if(!e.isPressed)return;let i=I(r.nativeEvent,e.activePointerId);if(i&&O(i,r.currentTarget)){if(!e.isOverTarget){e.isOverTarget=!0;t(r,e.pointerType)}}else if(e.isOverTarget){e.isOverTarget=!1;n(r,e.pointerType,!1);_.current.shouldCancelOnPointerExit&&s(r)}};o.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;t.stopPropagation();if(!e.isPressed)return;let i=I(t.nativeEvent,e.activePointerId);if(i&&O(i,t.currentTarget)){r(t,e.pointerType);n(t,e.pointerType)}else e.isOverTarget&&n(t,e.pointerType,!1);e.isPressed=!1;e.activePointerId=null;e.isOverTarget=!1;e.ignoreEmulatedMouseEvents=!0;y||f(e.target);P()};o.onTouchCancel=t=>{if(t.currentTarget.contains(t.target)){t.stopPropagation();e.isPressed&&s(t)}};let c=t=>{e.isPressed&&t.target.contains(e.target)&&s({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};o.onDragStart=e=>{e.currentTarget.contains(e.target)&&s(e)}}return o}),[M,d,m,P,y]);(0,s.useEffect)((()=>()=>{y||f(L.current.target)}),[y]);return{isPressed:g||w,pressProps:(0,i.mergeProps)(C,k)}}function A(e){return"A"===e.tagName&&e.hasAttribute("href")}function b(e,t){const{key:n,code:r}=e,i=t,s=i.getAttribute("role");return!("Enter"!==n&&" "!==n&&"Spacebar"!==n&&"Space"!==r||i instanceof HTMLInputElement&&!N(i,n)||i instanceof HTMLTextAreaElement||i.isContentEditable||A(i)&&("button"!==s||"Enter"===n)||"link"===s&&"Enter"!==n)}function v(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function I(e,t){const n=e.changedTouches;for(let e=0;e<n.length;e++){const r=n[e];if(r.identifier===t)return r}return null}function S(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function C(e){let t=e.width/2||e.radiusX||0,n=e.height/2||e.radiusY||0;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function _(e,t){return!(e.left>t.right||t.left>e.right)&&!(e.top>t.bottom||t.top>e.bottom)}function O(e,t){return _(t.getBoundingClientRect(),C(e))}function R(e){return!(e instanceof HTMLElement&&e.draggable)}function x(e,t){return e instanceof HTMLInputElement?!N(e,t):!(e instanceof HTMLButtonElement)||"submit"!==e.type}const w=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function N(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:w.has(e.type)}function D(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType}function L(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const o=(0,s.useCallback)((e=>{if(e.target===e.currentTarget){r&&r(e);i&&i(!1);return!0}}),[r,i]),a=m(o),c=(0,s.useCallback)((e=>{if(e.target===e.currentTarget){n&&n(e);i&&i(!0);a(e)}}),[i,n,a]);return{focusProps:{onFocus:!t&&(n||i||r)?c:void 0,onBlur:t||!r&&!i?null:o}}}let M=null,P=new Set,k=!1,U=!1,B=!1;const H={Tab:!0,Escape:!0};function F(e,t){for(let n of P)n(e,t)}function G(e){return!(e.metaKey||!(0,i.isMac)()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}function j(e){U=!0;if(G(e)){M="keyboard";F("keyboard",e)}}function W(e){M="pointer";if("mousedown"===e.type||"pointerdown"===e.type){U=!0;F("pointer",e)}}function V(e){if(h(e)){U=!0;M="virtual"}}function z(e){if(e.target!==window&&e.target!==document){if(!U&&!B){M="virtual";F("virtual",e)}U=!1;B=!1}}function K(){U=!1;B=!0}function Y(){if("undefined"==typeof window||k)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){U=!0;e.apply(this,arguments)};document.addEventListener("keydown",j,!0);document.addEventListener("keyup",j,!0);document.addEventListener("click",V,!0);window.addEventListener("focus",z,!0);window.addEventListener("blur",K,!1);if("undefined"!=typeof PointerEvent){document.addEventListener("pointerdown",W,!0);document.addEventListener("pointermove",W,!0);document.addEventListener("pointerup",W,!0)}else{document.addEventListener("mousedown",W,!0);document.addEventListener("mousemove",W,!0);document.addEventListener("mouseup",W,!0)}k=!0}"undefined"!=typeof document&&("loading"!==document.readyState?Y():document.addEventListener("DOMContentLoaded",Y));function q(){return"pointer"!==M}function J(){return M}function $(e,t,n){return!(e&&"keyboard"===t&&n instanceof KeyboardEvent&&!H[n.key])}function Q(e,t,n){Y();(0,s.useEffect)((()=>{let t=(t,r)=>{$(null==n?void 0:n.isTextInput,t,r)&&e(q())};P.add(t);return()=>{P.delete(t)}}),t)}function X(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,o=(0,s.useRef)({isFocusWithin:!1}),a=(0,s.useCallback)((e=>{if(o.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)){o.current.isFocusWithin=!1;n&&n(e);i&&i(!1)}}),[n,i,o]),c=m(a),u=(0,s.useCallback)((e=>{if(!o.current.isFocusWithin){r&&r(e);i&&i(!0);o.current.isFocusWithin=!0;c(e)}}),[r,i,c]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:u,onBlur:a}}}let Z=!1,ee=0;function te(){Z=!0;setTimeout((()=>{Z=!1}),50)}function ne(e){"touch"===e.pointerType&&te()}function re(){if("undefined"!=typeof document){"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",ne):document.addEventListener("touchend",te);ee++;return()=>{ee--;ee>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",ne):document.removeEventListener("touchend",te))}}}function ie(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[o,a]=(0,s.useState)(!1),c=(0,s.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,s.useEffect)(re,[]);let{hoverProps:u,triggerHoverEnd:l}=(0,s.useMemo)((()=>{let e=(e,r)=>{c.pointerType=r;if(i||"touch"===r||c.isHovered||!e.currentTarget.contains(e.target))return;c.isHovered=!0;let s=e.currentTarget;c.target=s;t&&t({type:"hoverstart",target:s,pointerType:r});n&&n(!0);a(!0)},s=(e,t)=>{c.pointerType="";c.target=null;if("touch"===t||!c.isHovered)return;c.isHovered=!1;let i=e.currentTarget;r&&r({type:"hoverend",target:i,pointerType:t});n&&n(!1);a(!1)},o={};if("undefined"!=typeof PointerEvent){o.onPointerEnter=t=>{Z&&"mouse"===t.pointerType||e(t,t.pointerType)};o.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&s(e,e.pointerType)}}else{o.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0};o.onMouseEnter=t=>{c.ignoreEmulatedMouseEvents||Z||e(t,"mouse");c.ignoreEmulatedMouseEvents=!1};o.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&s(e,"mouse")}}return{hoverProps:o,triggerHoverEnd:s}}),[t,n,r,i,c]);(0,s.useEffect)((()=>{i&&l({currentTarget:c.target},c.pointerType)}),[i]);return{hoverProps:u,isHovered:o}}function se(e){let{ref:t,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:i}=e,o=(0,s.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1,onInteractOutside:n,onInteractOutsideStart:i}).current;o.onInteractOutside=n;o.onInteractOutsideStart=i;(0,s.useEffect)((()=>{if(r)return;let e=e=>{if(oe(e,t)&&o.onInteractOutside){o.onInteractOutsideStart&&o.onInteractOutsideStart(e);o.isPointerDown=!0}};if("undefined"!=typeof PointerEvent){let n=e=>{if(o.isPointerDown&&o.onInteractOutside&&oe(e,t)){o.isPointerDown=!1;o.onInteractOutside(e)}};document.addEventListener("pointerdown",e,!0);document.addEventListener("pointerup",n,!0);return()=>{document.removeEventListener("pointerdown",e,!0);document.removeEventListener("pointerup",n,!0)}}{let n=e=>{if(o.ignoreEmulatedMouseEvents)o.ignoreEmulatedMouseEvents=!1;else if(o.isPointerDown&&o.onInteractOutside&&oe(e,t)){o.isPointerDown=!1;o.onInteractOutside(e)}},r=e=>{o.ignoreEmulatedMouseEvents=!0;if(o.onInteractOutside&&o.isPointerDown&&oe(e,t)){o.isPointerDown=!1;o.onInteractOutside(e)}};document.addEventListener("mousedown",e,!0);document.addEventListener("mouseup",n,!0);document.addEventListener("touchstart",e,!0);document.addEventListener("touchend",r,!0);return()=>{document.removeEventListener("mousedown",e,!0);document.removeEventListener("mouseup",n,!0);document.removeEventListener("touchstart",e,!0);document.removeEventListener("touchend",r,!0)}}}),[t,o,r])}function oe(e,t){if(e.button>0)return!1;if(e.target){const t=e.target.ownerDocument;if(!t||!t.documentElement.contains(e.target))return!1}return t.current&&!t.current.contains(e.target)}function ae(e){if(!e)return;let t=!0;return n=>{let r=Object.assign({},n,{preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}});e(r);t&&n.stopPropagation()}}function ce(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:ae(e.onKeyDown),onKeyUp:ae(e.onKeyUp)}}}},xrOf:function(e,t,n){"use strict";n.d(t,{FILTERED_CHANGE:function(){return r}});const r="FILTERED_CHANGE"},xw3r:function(e,t,n){"use strict";n.d(t,{CUSTOMER_AGENT_MAINTENANCE_MODE_MESSAGE:function(){return r}});const r="CUSTOMER_AGENT_MAINTENANCE_MODE_MESSAGE"},xw4j:function(e,t,n){"use strict";n.d(t,{CHAT_TRANSCRIPT_SENT:function(){return r}});const r="CHAT_TRANSCRIPT_SENT"},xwWp:function(e,t,n){"use strict";n.d(t,{widgetIsInAwayMode:function(){return s}});var r=n("dLEV"),i=n("r8xu");const s=(0,r.createSelector)([i.getAvailabilityAwayMessage],(e=>Boolean(e)))},xyDt:function(e,t,n){"use strict";n.d(t,{updateAsyncData:function(){return o}});var r=n("qjq5"),i=n("DdHT"),s=n("46XF");const o=(0,r.default)(((e,t)=>(0,i.default)((0,s.setError)(null),(0,s.updateData)(e),s.touch)(t)))},"y+PV":function(e,t,n){"use strict";n.d(t,{requestStarted:function(){return s}});var r=n("EN6V"),i=n("VToG");const s=(0,n("nt9Q").requestStateUpdate)(i.STARTED,r.default)},"y5/z":function(e,t,n){"use strict";n.d(t,{trackInteraction:function(){return D}});var r=n("JGJA"),i=n("dLEV"),s=n("Iiq6"),o=n("4fgK"),a=n("MBJP"),c=n("kHIv"),u=n("49A5");const l=(0,a.createSelector)(u.getLatestWidgetData,(e=>{var t;const n=(0,c.getFont)(e);return Boolean(n&&"system-ui"!==(null===(t=n.fontFamily)||void 0===t?void 0:t.toLowerCase()))}));var d=n("Li7z"),p=n("xwWp");const f="online",h="offline;",g=(0,i.createSelector)(p.widgetIsInAwayMode,(e=>e?h:f));var m=n("32pP"),E=n("HCbP"),T=n("Pk3f"),y=n("KqYL"),A=n("tAuz"),b=n("Q79t"),v=n("BvPy"),I=n("G53s");const S=(0,i.createSelector)([g,o.getIsBot,s.getPopOpenWelcomeMessage,u.getLatestWidgetData,T.getKnowledgeBaseEnabled,m.getVisitorIdentificationEnabled,E.getFeedbackSurveyEnabled,l,y.getIsAIChatbot,A.getIsMobile,b.getWidgetLocation,v.getRecommendedQuestionsForAgent,I.getWidgetDataGates],((e,t,n,i,s,o,a,c,u,l,p,f,h)=>{const g=Boolean((null==f?void 0:f.length)>0),m=null==h?void 0:h["Chatflows:CustomerAgentPrompts"];return{state:e,botEnabled:t,promptEnabled:n,path:(0,d.getUrlForMessage)(),chatflowId:(0,r.default)("chatflowId",i),knowledgeBaseEnabled:s,visitorIdentificationEnabled:o,feedbackSurveyEnabled:a,hasCustomFont:c,isAIChatBot:u,mobile:l,widgetLocation:p,hasRecommendedQuestionsForAgent:g,isUngatedForCustomerAgentPrompts:m}}));var C=n("cdXU");const _=(0,i.createSelector)(u.getLatestWidgetData,(e=>(0,C.getIsPrivateLoad)(e)));var O=n("pZpR"),R=n("NqZZ"),x=n("IA0z");let w=!1;const N=new Set;function D(e,t={},n=!1,r=!1,i){return(s,o)=>{const a=(0,O.getUsageTracker)(),c=_(o()),u=(0,R.getIsUserTrackingAllowed)(o());if(!r||!N.has(e)){r&&N.add(e);if(u&&!w){let r=i;r||(r=x.EVENT_NAME_TO_KEY_MAPPING[e]);const s=Object.assign({},t,S(o()),{privateLoad:c},r&&{key:r});a.track(x.EVENT_NAMESPACE,e,s);w=n}}}}},y7By:function(e,t,n){"use strict";var r=n("QYOI"),i=n("FGRv"),s=n("8+iK"),o=n("9Mwj"),a=n("ubOH"),c=n("rA/t");class u extends((0,r.Record)({"@type":i.CUSTOMER_AGENT_AUTOMATED_MESSAGE,ablyTs:null,attachments:(0,r.List)(),channelInstanceId:null,clientType:null,contentType:s.SIMPLE,direction:"",directReplyToMessageId:null,echo:null,genericChannelId:null,hiddenBy:null,id:null,inReplyToId:null,integrationAppId:null,messageDeletedStatus:o.NOT_DELETED,recipients:(0,r.List)(),richText:"",sender:(0,r.Map)(),senders:(0,r.List)(),status:(0,a.default)(),text:"",timestamp:null},"CustomerAgentAutomatedMessage")){constructor(e){super(e&&(0,c.buildSendersFromLegacySender)(e))}}t.default=u},y9Cc:function(e,t,n){"use strict";n.d(t,{getAskForEmailMessage:function(){return o}});var r=n("npjq"),i=n("dLEV"),s=n("8dR1");const o=(0,i.createSelector)(s.getWelcomeMessage,((e={})=>e.askForEmailMessage?e.askForEmailMessage:r.default.text("conversations-visitor-ui.askForEmailMessage")))},yDuE:function(e,t,n){"use strict";n.d(t,{getChannelInstanceIdFromCurrentThreadHistory:function(){return o}});var r=n("dLEV"),i=n("ZSXR"),s=n("rf4d");const o=(0,r.createSelector)(i.getCurrentThreadHistoryEntry,(e=>e.data.messages.results.toList().filter((e=>!(null===e.channelInstanceId||void 0===e.channelInstanceId||e.genericChannelId!==s.LIVE_CHAT_GENERIC_CHANNEL_ID))).sort(((e,t)=>e.timeStamp-t.timeStamp)).last().channelInstanceId))},yK3D:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var r=n("Wt04"),i=n("SJlx");const{bender:s}=n("gGhY");function o(e,t,n){n.query=Object.assign({[s.project]:s.depVersions[s.project],traceId:(0,r.getMessagesUtk)()},n.query);return new Promise(((r,s)=>{e(t,Object.assign({},n)).then((0,i.handleResolve)(r)).catch(s)}))}},"yS+k":function(e,t,n){"use strict";n.d(t,{getIsPortal53:function(){return c}});var r=n("nDpY"),i=n.n(r),s=n("xXtf"),o=n("LZPL"),a=n.n(o);const c=()=>i().get()===s.PORTAL_53_ID||a().isQa()&&i().get()===s.PORTAL_53_QA_ID},yYAF:function(e,t,n){e.exports=n.dlbpr(1,59)},yb5F:function(e,t,n){"use strict";n.d(t,{resubscribe:function(){return l},updateSubscriptions:function(){return d}});var r=n("cjt2"),i=n("5vQK"),s=n("BxyF"),o=n("fogE");const a=(e,t=i.DEFAULT_CLIENT_KEY)=>({type:r.UPDATE_SUBSCRIPTIONS.STARTED,payload:{clientKey:t,subscriptions:e}}),c=(e,t=i.DEFAULT_CLIENT_KEY)=>({type:r.UPDATE_SUBSCRIPTIONS.SUCCEEDED,payload:{clientKey:t,subscriptions:e}}),u=(e,t=i.DEFAULT_CLIENT_KEY)=>({type:r.UPDATE_SUBSCRIPTIONS.FAILED,payload:{clientKey:t,error:e},meta:(0,o.silenceErrorAlert)()}),l=e=>({type:r.RESUBSCRIBE,payload:{clientKey:e}}),d=(e,t=i.DEFAULT_CLIENT_KEY)=>(n,r)=>{const i=(0,s.getPubSubClient)(r(),{clientKey:t});n(a(e,t));i.updateSubscriptions(e).then((e=>{e!==i.updateSubscriptions.DEBOUNCED&&n(c(e,t))}),(e=>{n(u(e,t))})).catch((e=>{setTimeout((()=>{n(u(e,t))}))}))}},ye6p:function(e,t,n){"use strict";n.d(t,{threadFromProps:function(){return i}});var r=n("JGJA");const i=(e,t={})=>(0,r.default)("thread",t)},yivD:function(e,t,n){"use strict";n.d(t,{default:function(){return i}});let r=0;function i(e=""){return`${e}${r++}`}},yslo:function(e,t,n){"use strict";var r=n("QYOI"),i=n("uOZ5");class s extends((0,r.Record)({"@type":i.USERS_AND_TEAMS,userIds:(0,r.List)(),teamIds:(0,r.List)()},"UsersAndTeamsChatHeadingConfig")){constructor(e={}){super((0,r.fromJS)(e))}}t.default=s},yuy6:function(e,t,n){"use strict";var r=n("QYOI"),i=n("9Mwj"),s=n("c1C1"),o=n("BvOu"),a=n("xfs0"),c=n("W26t");class u extends((0,r.Record)({"@type":a.THREAD_STATUS_UPDATE,id:null,timestamp:null,sender:(0,r.Map)(),messageDeletedStatus:i.NOT_DELETED,auditParams:(0,c.buildAudit)(),currentStatus:null,previousStatus:null},"ThreadStatusUpdateMessage")){constructor(e={}){super((0,r.fromJS)(Object.assign({},e,{id:e.id||(0,o.generateUuid)(),auditParams:(0,c.buildAudit)(e.auditParams),timestamp:e.timestamp||(0,s.generateUniqueClientTimestamp)("ThreadStatusUpdateMessage-timestamp")})).filterNot((e=>void 0===e)))}}t.default=u},ywGS:function(e,t,n){"use strict";n.d(t,{postShowPageTitleNotification:function(){return s}});var r=n("n6ol"),i=n("CITH");const s=e=>{(0,i.postMessageToParent)(r.SHOW_PAGE_TITLE_NOTIFICATION,e)}},yxYB:function(e,t,n){"use strict";n.d(t,{getWidgetAvailabilityOptions:function(){return o}});var r=n("dLEV"),i=n("49A5");const s=(0,n("JGJA").default)("availabilityOptions"),o=(0,r.createSelector)([i.getLatestWidgetData],s)},yy6y:function(e,t,n){"use strict";n.d(t,{getShouldListenToGdprBannerConsent:function(){return i}});var r=n("JGJA");const i=e=>(0,r.default)("shouldListenToGdprBannerConsent",e)},z3H0:function(e,t,n){"use strict";n.d(t,{getMostRecentNonTransferredOpenThread:function(){return c}});var r=n("Xvzl"),i=n("dLEV"),s=n("lEkO"),o=n("p9k8"),a=n("PpSk");const c=(0,i.createSelector)([s.getThreadList],(e=>(0,r.default)((e=>(0,o.isStarted)(e)&&!(0,a.getHasChannelSwitchedToEmail)(e)),e).first()))},z4Bj:function(e,t){"use strict";function n(){let e=()=>{},t=()=>{};return{promise:new Promise(((n,r)=>{e=n;t=r})),resolve:e,reject:t}}t.default=n},z96q:function(e,t,n){"use strict";n.d(t,{sendVisitorEmailAddress:function(){return i}});var r=n("eLSo");function i({threadId:e,email:t,sessionId:n,hubspotUtk:i}){return r.default.post("livechat-public/v1/visitor/public",{query:{threadId:e,email:t,sessionId:n,hubspotUtk:i}})}},zGIQ:function(e,t,n){"use strict";n.d(t,{getChatHeadingResponders:function(){return p}});var r=n("dLEV"),i=n("QYOI"),s=n("cKdz");const o=3;function a({assignedResponder:e=null,chatHeadingConfig:t,responders:n,sendFromResponders:r=n}){const a=e?(0,i.List)([e]):r;return(a.size||!(0,s.hasUserAndTeamResponders)(t)&&t?a:n).take(o)}var c=n("GOyg"),u=n("AFl3"),l=n("QeSX"),d=n("hTKa");const p=(0,r.createSelector)([l.getAssignedResponderInWidget,c.getChatHeadingConfig,u.getAgentRespondersList,d.getSendFromResponders],((e,t,n,r)=>a({assignedResponder:e,chatHeadingConfig:t,responders:n,sendFromResponders:r})))},zHo9:function(e,t,n){"use strict";n.r(t);n.d(t,{visit:function(){return r}});const r=(e,t)=>{e(n("riMc"));e(n("okjX"));e(n("T1i4"));t({en:{"conversations-internal-schema":{"we-wont-use-this-key-in-the-product-but-this-file-wont-update-with-new-languages-without-a-key":"okay"}}})}},"zP/g":function(e){e.exports={"/":{success:{default:["VISITOR_SUCCESS"]},error:["VISITOR_ERROR","UTV_ERROR","GENERIC_ERROR"],partialSuccess:{"Error with retry":["ERROR_WITH_RETRY"]}}}},zTcI:function(e,t,n){"use strict";n.d(t,{getArticleCategories:function(){return m},getCategoryArticles:function(){return E},getRecommendedArticles:function(){return g}});var r=n("nDpY"),i=n.n(r),s=n("0JoJ");function o(e){return`${e}`.padStart(2,"0")}const a=e=>`${e.getFullYear()}${o(e.getMonth()+1)}${o(e.getDate())}`,c=()=>{const e=new Date;return a(e)},u=()=>{const e=new Date;e.setDate(e.getDate()-30);return a(e)};var l=n("mEYk"),d=n.n(l);function p(e,t,n){const r=new URL(`https://${e}/_hcms/livechat/kb/proxy/${t}`),i=new URLSearchParams;i.set("knowledgeBaseId",n.knowledgeBaseId.toString());n.portalId&&i.set("portalId",n.portalId.toString());n.categoryId&&i.set("categoryId",n.categoryId.toString());n.identificationToken&&i.set("identificationToken",n.identificationToken);n.email&&i.set("email",n.email);r.search=i.toString();return r.toString()}function f(e){try{return new URL(e).hostname}catch(e){d().captureException(new Error("Invalid knowledge base URL"));return""}}function h({knowledgeBaseId:e,knowledgeBaseUrl:t,kbRecommendationType:n,identificationToken:r,email:o}){const a=p(f(t),`${n&&"TRENDING"!==n?"most-helpful":"most-viewed"}-articles`,{portalId:i().get(),knowledgeBaseId:e,identificationToken:r,email:o});return s.default.post(a,{withCredentials:!0,data:{startDate:u(),endDate:c(),knowledgeBaseId:e,limit:5}})}function g({knowledgeBaseId:e,knowledgeBaseUrl:t,kbRecommendationType:n,identificationToken:r,email:i}){return h({knowledgeBaseId:e,knowledgeBaseUrl:t,kbRecommendationType:n,identificationToken:r,email:i})}function m({knowledgeBaseId:e,knowledgeBaseUrl:t,identificationToken:n,email:r}){const o=f(t);if(!o)throw new Error("Invalid knowledge base URL");const a=p(o,"categories-with-count",{portalId:i().get(),knowledgeBaseId:e,identificationToken:n,email:r});return s.default.get(a,{withCredentials:!0})}function E({categoryId:e,knowledgeBaseId:t,knowledgeBaseUrl:n,identificationToken:r,email:o}){const a=f(n);if(!a)throw new Error("Invalid knowledge base URL");const c=p(a,"articles-in-category",{portalId:i().get(),knowledgeBaseId:t,categoryId:e,identificationToken:r,email:o});return s.default.get(c,{withCredentials:!0})}},zZzs:function(e,t,n){"use strict";n.d(t,{getOfficeHoursStartTime:function(){return i}});var r=n("JGJA");(0,r.default)("availabilityStrategy"),(0,r.default)("availabilityStrategyConfig");const i=(0,r.default)("officeHoursStartTime");(0,r.default)("typicalResponseTime")},"zbS+":function(e,t,n){"use strict";var r=n("ubOH"),i=n("QYOI"),s=n("9Mwj"),o=n("KZZz");const a=(0,i.Record)({"@type":o.THREAD_COMMENT,sender:(0,i.Map)(),senders:(0,i.List)(),timestamp:null,text:"",richText:"",hasMore:!1,id:null,status:(0,r.default)(),attachments:(0,i.List)(),messageDeletedStatus:s.NOT_DELETED,clientType:null,genericChannelId:null},"CommentMessage");t.default=a},zry8:function(e,t,n){"use strict";n.d(t,{handleOpenChange:function(){return s}});var r=n("n6ol"),i=n("CITH");const s=(e,t)=>(0,i.postMessageToParent)(r.OPEN_CHANGE,{isOpen:e,isUser:t})},zs6M:function(e,t,n){"use strict";n.d(t,{closeConsentToProcess:function(){return a}});var r=n("y5/z"),i=n("Rq/r"),s=n("x56f"),o=n("IA0z");function a(){return e=>{e((0,r.trackInteraction)(o.EVENT_NAMES.WIDGET_INTERACTION,{action:"close consent to process"}));e((0,i.setConsentToProcessStatus)(s.SHOULD_NOT_ASK_FOR_CONSENT))}}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={id:e,loaded:!1,exports:{}};t[e].call(s.exports,s,s.exports,r);s.loaded=!0;return s.exports}r.m=t;r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};r.d(t,{a:t});return t};r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})};!function(){r.f={};r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){r.f[n](e,t);return t}),[]))}}();r.u=function(e){return({55:"i18n-data-data-modern-locales-ro",162:"I18n-lang-x-pseudo",264:"conversations-visitor-ui-lang-da",306:"I18n-lang-fi",401:"i18n-data-data-modern-locales-en-in",553:"I18n-lang-pl",587:"conversations-visitor-ui-lang-zh-hk",670:"conversations-visitor-ui-lang-he-il",833:"conversations-visitor-ui-lang-pl",890:"i18n-data-data-modern-locales-en-au",909:"I18n-lang-ms",910:"i18n-data-data-modern-locales-zh-tw",946:"i18n-data-data-modern-locales-zh-cn",1037:"i18n-data-data-modern-locales-sv",1109:"conversations-visitor-ui-lang-uk",1226:"I18n-lang-et",1248:"conversations-internal-pub-sub-client-builder",1310:"i18n-data-data-modern-locales-fr",1358:"I18n-lang-ja",1361:"I18n-lang-bn",1378:"i18n-data-data-modern-locales-en-ie",1642:"conversations-visitor-ui-lang-ru",1769:"conversations-visitor-ui-lang-bn",1813:"I18n-lang-lt",1867:"i18n-data-data-modern-locales-fr-ca",1882:"CurrentView-KnowledgeBaseContainerV2",1908:"i18n-data-data-modern-locales-en-ca",2076:"i18n-data-data-modern-locales-hr",2291:"conversations-visitor-ui-lang-zh-tw",2334:"i18n-data-data-modern-locales-tl",2543:"conversations-visitor-ui-lang-nl",2660:"I18n-lang-de",2752:"conversations-visitor-ui-lang-ro",2795:"I18n-lang-ko",3053:"I18n-lang-uk",3069:"i18n-data-data-modern-locales-it",3103:"i18n-data-data-modern-locales-pt-pt",3155:"i18n-data-data-modern-locales-en-gb",3212:"I18n-lang-no",3223:"I18n-lang-nl",3389:"i18n-data-data-modern-locales-ru",3530:"i18n-data-data-modern-locales-pl",3674:"CurrentView-KnowledgeBaseContainer",3677:"CurrentView-ThreadView",3777:"conversations-visitor-ui-lang-es-mx",3882:"conversations-visitor-ui-lang-fi",3916:"I18n-lang-af",3994:"conversations-visitor-ui-lang-sv",4046:"i18n-data-data-modern-locales-bn",4066:"I18n-lang-pt-pt",4193:"I18n-lang-ar-eg",4282:"conversations-visitor-ui-lang-fr-ca",4366:"i18n-data-data-modern-locales-ms",4378:"conversations-visitor-ui-lang-vi",4509:"i18n-data-data-modern-locales-id",4511:"conversations-visitor-ui-lang-zh-cn",4651:"I18n-lang-zh-tw",4962:"conversations-visitor-ui-lang-et",4964:"i18n-data-data-modern-locales-ko",4969:"I18n-lang-es-mx",4973:"conversations-visitor-ui-lang-es",4996:"i18n-data-data-modern-locales-en-nz",5038:"conversations-visitor-ui-lang-it",5083:"I18n-lang-tr",5182:"conversations-visitor-ui-lang-id",5347:"conversations-visitor-ui-lang-tr",5366:"i18n-data-data-modern-locales-zh-hk",5423:"conversations-visitor-ui-lang-sk",5460:"messages-preview",5537:"I18n-lang-fr",5574:"I18n-lang-he-il",5657:"conversations-visitor-ui-lang-ar-eg",5698:"I18n-lang-fr-ca",5800:"i18n-data-data-modern-locales-sk",5801:"i18n-data-data-modern-locales-no-no",5810:"conversations-visitor-ui-lang-ca-es",5878:"I18n-lang-it",6019:"i18n-data-data-modern-locales-pt-br",6029:"conversations-visitor-ui-lang-lt",6118:"i18n-data-data-modern-locales-es-ar",6335:"I18n-lang-hr",6340:"conversations-visitor-ui-lang-no",6400:"conversations-visitor-ui-lang-sl",6599:"I18n-lang-sk",6650:"conversations-visitor-ui-lang-pt-br",6655:"I18n-lang-cs",6658:"I18n-lang-en-gb",6718:"i18n-data-data-modern-locales-lt",6720:"I18n-lang-bg",6785:"i18n-data-data-modern-locales-ja",6787:"I18n-lang-zh-hk",6938:"conversations-visitor-ui-lang-el",6998:"conversations-visitor-ui-lang-ja",7005:"i18n-data-data-modern-locales-vi",7064:"i18n-data-data-modern-locales-nl",7067:"CurrentView-ThreadListContainer",7079:"conversations-visitor-ui-lang-cs",7144:"conversations-visitor-ui-lang-bg",7171:"i18n-data-data-modern-locales-he-il",7312:"I18n-lang-hu",7318:"I18n-lang-id",7384:"i18n-data-data-modern-locales-es-mx",7402:"conversations-visitor-ui-lang-en-gb",7429:"I18n-lang-es",7453:"i18n-data-data-modern-locales-fi",7576:"I18n-lang-sl",7583:"i18n-data-data-modern-locales-de",7770:"I18n-lang-ca-es",7801:"conversations-visitor-ui-lang-fr",7841:"i18n-data-data-modern-locales-el",7845:"conversations-visitor-ui-lang-ms",7853:"conversations-visitor-ui-lang-tl",7888:"i18n-data-data-modern-locales-en-us",7922:"I18n-lang-ru",7988:"conversations-visitor-ui-lang-af",8056:"conversations-visitor-ui-lang-hu",8090:"i18n-data-data-modern-locales-th",8274:"I18n-lang-vi",8291:"conversations-visitor-ui-lang-ko",8300:"I18n-lang-hi",8450:"I18n-lang-pt-br",8570:"conversations-visitor-ui-lang-pt-pt",8571:"i18n-data-data-modern-locales-da",8681:"conversations-visitor-ui-lang-th",8724:"threadview-utv",8736:"i18n-data-data-modern-locales-cs",8869:"I18n-lang-tl",8900:"conversations-visitor-ui-lang-hi",9048:"I18n-lang-ro",9250:"I18n-lang-el",9267:"i18n-data-data-modern-locales-hu",9270:"i18n-data-data-modern-locales-es",9276:"conversations-visitor-ui-lang-de",9460:"conversations-visitor-ui-lang-hr",9783:"I18n-lang-zh-cn",9840:"I18n-lang-da",9857:"I18n-lang-th",9922:"I18n-lang-sv"}[e]||e)+".js"};r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();r.hmd=function(e){(e=Object.create(e)).children||(e.children=[]);Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}});return e};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};e={},r.l=function(t,n,i,s){if(e[t])e[t].push(n);else{var o,a;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==t){o=l;break}}if(!o){a=!0;(o=document.createElement("script")).charset="utf-8";o.timeout=120;r.nc&&o.setAttribute("nonce",r.nc);o.src=t;0!==o.src.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous")}e[t]=[n];var d=function(n,r){o.onerror=o.onload=null;clearTimeout(p);var i=e[t];delete e[t];o.parentNode&&o.parentNode.removeChild(o);i&&i.forEach((function(e){return e(r)}));if(n)return n(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror);o.onload=d.bind(null,o.onload);a&&document.head.appendChild(o)}};r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};r.p="//static.hsappstatic.net/conversations-visitor-ui/static-1.26906/";var i=[{name:"head-dlb/bundle.production.js",path:"head-dlb/static-1.4360/bundle.production.js",ids:{}},{name:"hubspot-dlb/bundle.production.js",path:"hubspot-dlb/static-2.1707/bundle.production.js",ids:{enviro:"LZPL",react:"QOxE","react-dom":"khQs","react-is":"s3l/","use-sync-external-store/with-selector":"1urz"}},{name:"react-dlb/bundle.production.js",path:"react-dlb/static-1.61/bundle.production.js",ids:{}}];r.dlbpr=function(e,t){var n=i[e];if(!n.r){n.r=window["__webpack_require_"+n.name+"__"];if(!n.r)throw new Error("dlb "+n.name+" not loaded");n.r.linkDlb(r,n.ids)}return n.r(t)};!function(){var e={6320:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=s);var o=r.p+r.u(t),a=new Error,c=function(n){if(r.o(e,t)){0!==(i=e[t])&&(e[t]=void 0);if(i){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")";a.name="ChunkLoadError";a.type=s;a.request=o;i[1](a)}}};r.l(o,c,"chunk-"+t,t)}};var t=function(t,n){var i,s,o=n[0],a=n[1],c=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(c)c(r)}t&&t(n);for(;u<o.length;u++){s=o[u];r.o(e,s)&&e[s]&&e[s][0]();e[s]=0}},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0));n.push=t.bind(null,n.push.bind(n))}();!function(){"use strict";var e=r("jL37");(t=>{const{requestAnimationFrame:n,WeakMap:r,URLSearchParams:i,Promise:{all:s}={all:void 0},Promise:{resolve:o}={resolve:void 0}}=t;return[n,r,i,s,o].every(e.isFunction)})(window)&&r("xTKo")}()}();
//# sourceMappingURL=//static.hsappstatic.net/conversations-visitor-ui/static-1.26906/bundles/visitor.js.map